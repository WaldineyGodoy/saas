var hP=Object.defineProperty;var mP=(e,t,r)=>t in e?hP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Vh=(e,t,r)=>mP(e,typeof t!="symbol"?t+"":t,r);function sj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Yn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var cj={exports:{}},mf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pP=Symbol.for("react.transitional.element"),gP=Symbol.for("react.fragment");function uj(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:pP,type:e,key:n,ref:t!==void 0?t:null,props:r}}mf.Fragment=gP;mf.jsx=uj;mf.jsxs=uj;cj.exports=mf;var l=cj.exports,dj={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv=Symbol.for("react.transitional.element"),vP=Symbol.for("react.portal"),yP=Symbol.for("react.fragment"),bP=Symbol.for("react.strict_mode"),xP=Symbol.for("react.profiler"),wP=Symbol.for("react.consumer"),_P=Symbol.for("react.context"),SP=Symbol.for("react.forward_ref"),jP=Symbol.for("react.suspense"),EP=Symbol.for("react.memo"),fj=Symbol.for("react.lazy"),CP=Symbol.for("react.activity"),Ob=Symbol.iterator;function OP(e){return e===null||typeof e!="object"?null:(e=Ob&&e[Ob]||e["@@iterator"],typeof e=="function"?e:null)}var hj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mj=Object.assign,pj={};function ns(e,t,r){this.props=e,this.context=t,this.refs=pj,this.updater=r||hj}ns.prototype.isReactComponent={};ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gj(){}gj.prototype=ns.prototype;function _v(e,t,r){this.props=e,this.context=t,this.refs=pj,this.updater=r||hj}var Sv=_v.prototype=new gj;Sv.constructor=_v;mj(Sv,ns.prototype);Sv.isPureReactComponent=!0;var Ab=Array.isArray;function dp(){}var Pe={H:null,A:null,T:null,S:null},vj=Object.prototype.hasOwnProperty;function jv(e,t,r){var n=r.ref;return{$$typeof:wv,type:e,key:t,ref:n!==void 0?n:null,props:r}}function AP(e,t){return jv(e.type,t,e.props)}function Ev(e){return typeof e=="object"&&e!==null&&e.$$typeof===wv}function TP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Tb=/\/+/g;function Gh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TP(""+e.key):t.toString(36)}function kP(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(dp,dp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ro(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case wv:case vP:o=!0;break;case fj:return o=e._init,ro(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+Gh(e,0):n,Ab(a)?(r="",o!=null&&(r=o.replace(Tb,"$&/")+"/"),ro(a,t,r,"",function(u){return u})):a!=null&&(Ev(a)&&(a=AP(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Tb,"$&/")+"/")+o)),t.push(a)),1;o=0;var s=n===""?".":n+":";if(Ab(e))for(var c=0;c<e.length;c++)n=e[c],i=s+Gh(n,c),o+=ro(n,t,r,i,a);else if(c=OP(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,i=s+Gh(n,c++),o+=ro(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return ro(kP(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function kc(e,t,r){if(e==null)return e;var n=[],a=0;return ro(e,n,"","",function(i){return t.call(r,i,a++)}),n}function RP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kb=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},NP={map:kc,forEach:function(e,t,r){kc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kc(e,function(){t++}),t},toArray:function(e){return kc(e,function(t){return t})||[]},only:function(e){if(!Ev(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Activity=CP;te.Children=NP;te.Component=ns;te.Fragment=yP;te.Profiler=xP;te.PureComponent=_v;te.StrictMode=bP;te.Suspense=jP;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe;te.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Pe.H.useMemoCache(e)}};te.cache=function(e){return function(){return e.apply(null,arguments)}};te.cacheSignal=function(){return null};te.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=mj({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!vj.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];n.children=o}return jv(e.type,a,n)};te.createContext=function(e){return e={$$typeof:_P,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:wP,_context:e},e};te.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)vj.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];a.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return jv(e,i,a)};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:SP,render:e}};te.isValidElement=Ev;te.lazy=function(e){return{$$typeof:fj,_payload:{_status:-1,_result:e},_init:RP}};te.memo=function(e,t){return{$$typeof:EP,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Pe.T,r={};Pe.T=r;try{var n=e(),a=Pe.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(dp,kb)}catch(i){kb(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Pe.T=t}};te.unstable_useCacheRefresh=function(){return Pe.H.useCacheRefresh()};te.use=function(e){return Pe.H.use(e)};te.useActionState=function(e,t,r){return Pe.H.useActionState(e,t,r)};te.useCallback=function(e,t){return Pe.H.useCallback(e,t)};te.useContext=function(e){return Pe.H.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e,t){return Pe.H.useDeferredValue(e,t)};te.useEffect=function(e,t){return Pe.H.useEffect(e,t)};te.useEffectEvent=function(e){return Pe.H.useEffectEvent(e)};te.useId=function(){return Pe.H.useId()};te.useImperativeHandle=function(e,t,r){return Pe.H.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Pe.H.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Pe.H.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Pe.H.useMemo(e,t)};te.useOptimistic=function(e,t){return Pe.H.useOptimistic(e,t)};te.useReducer=function(e,t,r){return Pe.H.useReducer(e,t,r)};te.useRef=function(e){return Pe.H.useRef(e)};te.useState=function(e){return Pe.H.useState(e)};te.useSyncExternalStore=function(e,t,r){return Pe.H.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Pe.H.useTransition()};te.version="19.2.3";dj.exports=te;var w=dj.exports;const pf=Yn(w),yj=sj({__proto__:null,default:pf},[w]);var bj={exports:{}},gf={},xj={exports:{}},wj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,T){var N=O.length;O.push(T);e:for(;0<N;){var L=N-1>>>1,U=O[L];if(0<a(U,T))O[L]=T,O[N]=U,N=L;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var T=O[0],N=O.pop();if(N!==T){O[0]=N;e:for(var L=0,U=O.length,ne=U>>>1;L<ne;){var ce=2*(L+1)-1,se=O[ce],he=ce+1,ue=O[he];if(0>a(se,N))he<U&&0>a(ue,se)?(O[L]=ue,O[he]=N,L=he):(O[L]=se,O[ce]=N,L=ce);else if(he<U&&0>a(ue,N))O[L]=ue,O[he]=N,L=he;else break e}}return T}function a(O,T){var N=O.sortIndex-T.sortIndex;return N!==0?N:O.id-T.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function b(O){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=O)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function S(O){if(x=!1,b(O),!p)if(r(c)!==null)p=!0,j||(j=!0,k());else{var T=r(u);T!==null&&Z(S,T.startTime-O)}}var j=!1,E=-1,C=5,A=-1;function R(){return v?!0:!(e.unstable_now()-A<C)}function M(){if(v=!1,j){var O=e.unstable_now();A=O;var T=!0;try{e:{p=!1,x&&(x=!1,y(E),E=-1),m=!0;var N=h;try{t:{for(b(O),f=r(c);f!==null&&!(f.expirationTime>O&&R());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var U=L(f.expirationTime<=O);if(O=e.unstable_now(),typeof U=="function"){f.callback=U,b(O),T=!0;break t}f===r(c)&&n(c),b(O)}else n(c);f=r(c)}if(f!==null)T=!0;else{var ne=r(u);ne!==null&&Z(S,ne.startTime-O),T=!1}}break e}finally{f=null,h=N,m=!1}T=void 0}}finally{T?k():j=!1}}}var k;if(typeof _=="function")k=function(){_(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=M,k=function(){W.postMessage(null)}}else k=function(){g(M,0)};function Z(O,T){E=g(function(){O(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var N=h;h=T;try{return O()}finally{h=N}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(O,T){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=h;h=O;try{return T()}finally{h=N}},e.unstable_scheduleCallback=function(O,T,N){var L=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?L+N:L):N=L,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,O={id:d++,callback:T,priorityLevel:O,startTime:N,expirationTime:U,sortIndex:-1},N>L?(O.sortIndex=N,t(u,O),r(c)===null&&O===r(u)&&(x?(y(E),E=-1):x=!0,Z(S,N-L))):(O.sortIndex=U,t(c,O),p||m||(p=!0,j||(j=!0,k()))),O},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(O){var T=h;return function(){var N=h;h=T;try{return O.apply(this,arguments)}finally{h=N}}}})(wj);xj.exports=wj;var PP=xj.exports,_j={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP=w;function Sj(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function sa(){}var Dt={d:{f:sa,r:function(){throw Error(Sj(522))},D:sa,C:sa,L:sa,m:sa,X:sa,S:sa,M:sa},p:0,findDOMNode:null},DP=Symbol.for("react.portal");function zP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:DP,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Ys=MP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function vf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Sj(299));return zP(e,t,null,r)};$t.flushSync=function(e){var t=Ys.T,r=Dt.p;try{if(Ys.T=null,Dt.p=2,e)return e()}finally{Ys.T=t,Dt.p=r,Dt.d.f()}};$t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dt.d.C(e,t))};$t.prefetchDNS=function(e){typeof e=="string"&&Dt.d.D(e)};$t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=vf(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Dt.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=vf(t.as,t.crossOrigin);Dt.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dt.d.M(e)};$t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=vf(r,t.crossOrigin);Dt.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$t.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=vf(t.as,t.crossOrigin);Dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dt.d.m(e)};$t.requestFormReset=function(e){Dt.d.r(e)};$t.unstable_batchedUpdates=function(e,t){return e(t)};$t.useFormState=function(e,t,r){return Ys.H.useFormState(e,t,r)};$t.useFormStatus=function(){return Ys.H.useHostTransitionStatus()};$t.version="19.2.3";function jj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jj)}catch(e){console.error(e)}}jj(),_j.exports=$t;var Cv=_j.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=PP,Ej=w,BP=Cv;function B(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Cj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Oj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Aj(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rb(e){if(Gl(e)!==e)throw Error(B(188))}function IP(e){var t=e.alternate;if(!t){if(t=Gl(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Rb(a),e;if(i===n)return Rb(a),t;i=i.sibling}throw Error(B(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function Tj(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Tj(e),t!==null)return t;e=e.sibling}return null}var Me=Object.assign,$P=Symbol.for("react.element"),Rc=Symbol.for("react.transitional.element"),Us=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),kj=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),Rj=Symbol.for("react.consumer"),En=Symbol.for("react.context"),Ov=Symbol.for("react.forward_ref"),hp=Symbol.for("react.suspense"),mp=Symbol.for("react.suspense_list"),Av=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),pp=Symbol.for("react.activity"),LP=Symbol.for("react.memo_cache_sentinel"),Nb=Symbol.iterator;function Cs(e){return e===null||typeof e!="object"?null:(e=Nb&&e[Nb]||e["@@iterator"],typeof e=="function"?e:null)}var UP=Symbol.for("react.client.reference");function gp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===UP?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lo:return"Fragment";case fp:return"Profiler";case kj:return"StrictMode";case hp:return"Suspense";case mp:return"SuspenseList";case pp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Us:return"Portal";case En:return e.displayName||"Context";case Rj:return(e._context.displayName||"Context")+".Consumer";case Ov:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Av:return t=e.displayName||null,t!==null?t:gp(e.type)||"Memo";case ca:t=e._payload,e=e._init;try{return gp(e(t))}catch{}}return null}var qs=Array.isArray,Q=Ej.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=BP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,hi={pending:!1,data:null,method:null,action:null},vp=[],co=-1;function dn(e){return{current:e}}function pt(e){0>co||(e.current=vp[co],vp[co]=null,co--)}function Te(e,t){co++,vp[co]=e.current,e.current=t}var on=dn(null),hl=dn(null),Ca=dn(null),Lu=dn(null);function Uu(e,t){switch(Te(Ca,t),Te(hl,e),Te(on,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ix(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ix(t),e=ZC(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pt(on),Te(on,e)}function Po(){pt(on),pt(hl),pt(Ca)}function yp(e){e.memoizedState!==null&&Te(Lu,e);var t=on.current,r=ZC(t,e.type);t!==r&&(Te(hl,e),Te(on,r))}function qu(e){hl.current===e&&(pt(on),pt(hl)),Lu.current===e&&(pt(Lu),jl._currentValue=hi)}var Kh,Pb;function Ja(e){if(Kh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kh=t&&t[1]||"",Pb=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kh+e+Pb}var Yh=!1;function Xh(e,t){if(!e||Yh)return"";Yh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var c=o.split(`
`),u=s.split(`
`);for(a=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===c.length||a===u.length)for(n=c.length-1,a=u.length-1;1<=n&&0<=a&&c[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(c[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||c[n]!==u[a]){var d=`
`+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{Yh=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ja(r):""}function qP(e,t){switch(e.tag){case 26:case 27:case 5:return Ja(e.type);case 16:return Ja("Lazy");case 13:return e.child!==t&&t!==null?Ja("Suspense Fallback"):Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 15:return Xh(e.type,!1);case 11:return Xh(e.type.render,!1);case 1:return Xh(e.type,!0);case 31:return Ja("Activity");default:return""}}function Mb(e){try{var t="",r=null;do t+=qP(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var bp=Object.prototype.hasOwnProperty,Tv=it.unstable_scheduleCallback,Zh=it.unstable_cancelCallback,HP=it.unstable_shouldYield,WP=it.unstable_requestPaint,ur=it.unstable_now,FP=it.unstable_getCurrentPriorityLevel,Nj=it.unstable_ImmediatePriority,Pj=it.unstable_UserBlockingPriority,Hu=it.unstable_NormalPriority,VP=it.unstable_LowPriority,Mj=it.unstable_IdlePriority,GP=it.log,KP=it.unstable_setDisableYieldValue,Kl=null,dr=null;function ba(e){if(typeof GP=="function"&&KP(e),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(Kl,e)}catch{}}var fr=Math.clz32?Math.clz32:ZP,YP=Math.log,XP=Math.LN2;function ZP(e){return e>>>=0,e===0?32:31-(YP(e)/XP|0)|0}var Nc=256,Pc=262144,Mc=4194304;function Qa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yf(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=n&134217727;return s!==0?(n=s&~i,n!==0?a=Qa(n):(o&=s,o!==0?a=Qa(o):r||(r=s&~e,r!==0&&(a=Qa(r))))):(s=n&~i,s!==0?a=Qa(s):o!==0?a=Qa(o):r||(r=n&~e,r!==0&&(a=Qa(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Yl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function JP(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dj(){var e=Mc;return Mc<<=1,!(Mc&62914560)&&(Mc=4194304),e}function Jh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function QP(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-fr(r),f=1<<d;s[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&zj(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function zj(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function Bj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Ij(e,t){var r=t&-t;return r=r&42?1:kv(r),r&(e.suspendedLanes|t)?0:r}function kv(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function $j(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:lO(e.type))}function Db(e,t){var r=ge.p;try{return ge.p=e,t()}finally{ge.p=r}}var qa=Math.random().toString(36).slice(2),St="__reactFiber$"+qa,Yt="__reactProps$"+qa,as="__reactContainer$"+qa,xp="__reactEvents$"+qa,eM="__reactListeners$"+qa,tM="__reactHandles$"+qa,zb="__reactResources$"+qa,Zl="__reactMarker$"+qa;function Nv(e){delete e[St],delete e[Yt],delete e[xp],delete e[eM],delete e[tM]}function uo(e){var t=e[St];if(t)return t;for(var r=e.parentNode;r;){if(t=r[as]||r[St]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hx(e);e!==null;){if(r=e[St])return r;e=Hx(e)}return t}e=r,r=e.parentNode}return null}function is(e){if(e=e[St]||e[as]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(B(33))}function So(e){var t=e[zb];return t||(t=e[zb]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Zl]=!0}var Lj=new Set,Uj={};function Di(e,t){Mo(e,t),Mo(e+"Capture",t)}function Mo(e,t){for(Uj[e]=t,e=0;e<t.length;e++)Lj.add(t[e])}var rM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bb={},Ib={};function nM(e){return bp.call(Ib,e)?!0:bp.call(Bb,e)?!1:rM.test(e)?Ib[e]=!0:(Bb[e]=!0,!1)}function xu(e,t,r){if(nM(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Dc(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function hn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Sr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aM(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wp(e){if(!e._valueTracker){var t=qj(e)?"checked":"value";e._valueTracker=aM(e,t,""+e[t])}}function Hj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iM=/[\n"\\]/g;function Cr(e){return e.replace(iM,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _p(e,t,r,n,a,i,o,s){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sr(t)):e.value!==""+Sr(t)&&(e.value=""+Sr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Sp(e,o,Sr(t)):r!=null?Sp(e,o,Sr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+Sr(s):e.removeAttribute("name")}function Wj(e,t,r,n,a,i,o,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){wp(e);return}r=r!=null?""+Sr(r):"",t=t!=null?""+Sr(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),wp(e)}function Sp(e,t,r){t==="number"&&Wu(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function jo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Fj(e,t,r){if(t!=null&&(t=""+Sr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Sr(r):""}function Vj(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(B(92));if(qs(n)){if(1<n.length)throw Error(B(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Sr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),wp(e)}function Do(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var oM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $b(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||oM.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Gj(e,t,r){if(t!=null&&typeof t!="object")throw Error(B(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&$b(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&$b(e,i,t[i])}function Pv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wu(e){return lM.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var jp=null;function Mv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fo=null,Eo=null;function Lb(e){var t=is(e);if(t&&(e=t.stateNode)){var r=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(_p(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Cr(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Yt]||null;if(!a)throw Error(B(90));_p(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&Hj(n)}break e;case"textarea":Fj(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&jo(e,!!r.multiple,t,!1)}}}var Qh=!1;function Kj(e,t,r){if(Qh)return e(t,r);Qh=!0;try{var n=e(t);return n}finally{if(Qh=!1,(fo!==null||Eo!==null)&&(kf(),fo&&(t=fo,e=Eo,Eo=fo=null,Lb(t),e)))for(t=0;t<e.length;t++)Lb(e[t])}}function ml(e,t){var r=e.stateNode;if(r===null)return null;var n=r[Yt]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=!1;if(Dn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Ep=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Ep=!1}var xa=null,Dv=null,_u=null;function Yj(){if(_u)return _u;var e,t=Dv,r=t.length,n,a="value"in xa?xa.value:xa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return _u=a.slice(e,1<n?1-n:void 0)}function Su(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zc(){return!0}function Ub(){return!1}function Xt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zc:Ub,this.isPropagationStopped=Ub,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bf=Xt(zi),Jl=Me({},zi,{view:0,detail:0}),cM=Xt(Jl),em,tm,As,xf=Me({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(em=e.screenX-As.screenX,tm=e.screenY-As.screenY):tm=em=0,As=e),em)},movementY:function(e){return"movementY"in e?e.movementY:tm}}),qb=Xt(xf),uM=Me({},xf,{dataTransfer:0}),dM=Xt(uM),fM=Me({},Jl,{relatedTarget:0}),rm=Xt(fM),hM=Me({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),mM=Xt(hM),pM=Me({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gM=Xt(pM),vM=Me({},zi,{data:0}),Hb=Xt(vM),yM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xM[e])?!!t[e]:!1}function zv(){return wM}var _M=Me({},Jl,{key:function(e){if(e.key){var t=yM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Su(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zv,charCode:function(e){return e.type==="keypress"?Su(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Su(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SM=Xt(_M),jM=Me({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wb=Xt(jM),EM=Me({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zv}),CM=Xt(EM),OM=Me({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),AM=Xt(OM),TM=Me({},xf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kM=Xt(TM),RM=Me({},zi,{newState:0,oldState:0}),NM=Xt(RM),PM=[9,13,27,32],Bv=Dn&&"CompositionEvent"in window,Xs=null;Dn&&"documentMode"in document&&(Xs=document.documentMode);var MM=Dn&&"TextEvent"in window&&!Xs,Xj=Dn&&(!Bv||Xs&&8<Xs&&11>=Xs),Fb=" ",Vb=!1;function Zj(e,t){switch(e){case"keyup":return PM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ho=!1;function DM(e,t){switch(e){case"compositionend":return Jj(t);case"keypress":return t.which!==32?null:(Vb=!0,Fb);case"textInput":return e=t.data,e===Fb&&Vb?null:e;default:return null}}function zM(e,t){if(ho)return e==="compositionend"||!Bv&&Zj(e,t)?(e=Yj(),_u=Dv=xa=null,ho=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xj&&t.locale!=="ko"?null:t.data;default:return null}}var BM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BM[e.type]:t==="textarea"}function Qj(e,t,r,n){fo?Eo?Eo.push(n):Eo=[n]:fo=n,t=ld(t,"onChange"),0<t.length&&(r=new bf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zs=null,pl=null;function IM(e){KC(e,0)}function wf(e){var t=Hs(e);if(Hj(t))return e}function Kb(e,t){if(e==="change")return t}var eE=!1;if(Dn){var nm;if(Dn){var am="oninput"in document;if(!am){var Yb=document.createElement("div");Yb.setAttribute("oninput","return;"),am=typeof Yb.oninput=="function"}nm=am}else nm=!1;eE=nm&&(!document.documentMode||9<document.documentMode)}function Xb(){Zs&&(Zs.detachEvent("onpropertychange",tE),pl=Zs=null)}function tE(e){if(e.propertyName==="value"&&wf(pl)){var t=[];Qj(t,pl,e,Mv(e)),Kj(IM,t)}}function $M(e,t,r){e==="focusin"?(Xb(),Zs=t,pl=r,Zs.attachEvent("onpropertychange",tE)):e==="focusout"&&Xb()}function LM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wf(pl)}function UM(e,t){if(e==="click")return wf(t)}function qM(e,t){if(e==="input"||e==="change")return wf(t)}function HM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:HM;function gl(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!bp.call(t,a)||!pr(e[a],t[a]))return!1}return!0}function Zb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jb(e,t){var r=Zb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zb(r)}}function rE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wu(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wu(e.document)}return t}function Iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var WM=Dn&&"documentMode"in document&&11>=document.documentMode,mo=null,Cp=null,Js=null,Op=!1;function Qb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Op||mo==null||mo!==Wu(n)||(n=mo,"selectionStart"in n&&Iv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Js&&gl(Js,n)||(Js=n,n=ld(Cp,"onSelect"),0<n.length&&(t=new bf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mo)))}function Ya(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var po={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},im={},aE={};Dn&&(aE=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Bi(e){if(im[e])return im[e];if(!po[e])return e;var t=po[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in aE)return im[e]=t[r];return e}var iE=Bi("animationend"),oE=Bi("animationiteration"),sE=Bi("animationstart"),FM=Bi("transitionrun"),VM=Bi("transitionstart"),GM=Bi("transitioncancel"),lE=Bi("transitionend"),cE=new Map,Ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ap.push("scrollEnd");function Zr(e,t){cE.set(e,t),Di(t,[e])}var Fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_r=[],go=0,$v=0;function _f(){for(var e=go,t=$v=go=0;t<e;){var r=_r[t];_r[t++]=null;var n=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&uE(r,a,i)}}function Sf(e,t,r,n){_r[go++]=e,_r[go++]=t,_r[go++]=r,_r[go++]=n,$v|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Lv(e,t,r,n){return Sf(e,t,r,n),Vu(e)}function Ii(e,t){return Sf(e,null,null,t),Vu(e)}function uE(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-fr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Vu(e){if(50<sl)throw sl=0,Yp=null,Error(B(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var vo={};function KM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new KM(e,t,r,n)}function Uv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function dE(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ju(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")Uv(e)&&(o=1);else if(typeof e=="string")o=QD(e,r,on.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pp:return e=ar(31,r,t,a),e.elementType=pp,e.lanes=i,e;case lo:return mi(r.children,a,i,t);case kj:o=8,a|=24;break;case fp:return e=ar(12,r,t,a|2),e.elementType=fp,e.lanes=i,e;case hp:return e=ar(13,r,t,a),e.elementType=hp,e.lanes=i,e;case mp:return e=ar(19,r,t,a),e.elementType=mp,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case En:o=10;break e;case Rj:o=9;break e;case Ov:o=11;break e;case Av:o=14;break e;case ca:o=16,n=null;break e}o=29,r=Error(B(130,e===null?"null":typeof e,"")),n=null}return t=ar(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function mi(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function om(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function fE(e){var t=ar(18,null,null,0);return t.stateNode=e,t}function sm(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ex=new WeakMap;function Or(e,t){if(typeof e=="object"&&e!==null){var r=ex.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Mb(t)},ex.set(e,t),t)}return{value:e,source:t,stack:Mb(t)}}var yo=[],bo=0,Gu=null,vl=0,jr=[],Er=0,za=null,tn=1,rn="";function xn(e,t){yo[bo++]=vl,yo[bo++]=Gu,Gu=e,vl=t}function hE(e,t,r){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=za,za=e;var n=tn;e=rn;var a=32-fr(n)-1;n&=~(1<<a),r+=1;var i=32-fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,tn=1<<32-fr(t)+a|r<<a|n,rn=i+e}else tn=1<<i|r<<a|n,rn=e}function qv(e){e.return!==null&&(xn(e,1),hE(e,1,0))}function Hv(e){for(;e===Gu;)Gu=yo[--bo],yo[bo]=null,vl=yo[--bo],yo[bo]=null;for(;e===za;)za=jr[--Er],jr[Er]=null,rn=jr[--Er],jr[Er]=null,tn=jr[--Er],jr[Er]=null}function mE(e,t){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=za,tn=t.id,rn=t.overflow,za=e}var jt=null,Ne=null,de=!1,Oa=null,Ar=!1,Tp=Error(B(519));function Ba(e){var t=Error(B(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Or(t,e)),Tp}function tx(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[St]=e,t[Yt]=n,r){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(r=0;r<_l.length;r++)ie(_l[r],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),Wj(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),Vj(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||XC(t.textContent,r)?(n.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),n.onScroll!=null&&ie("scroll",t),n.onScrollEnd!=null&&ie("scrollend",t),n.onClick!=null&&(t.onclick=Cn),t=!0):t=!1,t||Ba(e,!0)}function rx(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:jt=jt.return}}function Vi(e){if(e!==jt)return!1;if(!de)return rx(e),de=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||eg(e.type,e.memoizedProps)),r=!r),r&&Ne&&Ba(e),rx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));Ne=qx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));Ne=qx(e)}else t===27?(t=Ne,Ha(e.type)?(e=ag,ag=null,Ne=e):Ne=t):Ne=jt?Rr(e.stateNode.nextSibling):null;return!0}function _i(){Ne=jt=null,de=!1}function lm(){var e=Oa;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),Oa=null),e}function yl(e){Oa===null?Oa=[e]:Oa.push(e)}var kp=dn(null),$i=null,On=null;function ha(e,t,r){Te(kp,t._currentValue),t._currentValue=r}function Rn(e){e._currentValue=kp.current,pt(kp)}function Rp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Np(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=a;for(var c=0;c<t.length;c++)if(s.context===t[c]){i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),Rp(i.return,r,e),n||(o=null);break e}i=s.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Rp(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function os(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(B(387));if(o=o.memoizedProps,o!==null){var s=a.type;pr(a.pendingProps.value,o.value)||(e!==null?e.push(s):e=[s])}}else if(a===Lu.current){if(o=a.alternate,o===null)throw Error(B(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}a=a.return}e!==null&&Np(t,e,r,n),t.flags|=262144}function Ku(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Si(e){$i=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return pE($i,e)}function Bc(e,t){return $i===null&&Si(e),pE(e,t)}function pE(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},On===null){if(e===null)throw Error(B(308));On=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else On=On.next=t;return r}var YM=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},XM=it.unstable_scheduleCallback,ZM=it.unstable_NormalPriority,Je={$$typeof:En,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wv(){return{controller:new YM,data:new Map,refCount:0}}function Ql(e){e.refCount--,e.refCount===0&&XM(ZM,function(){e.controller.abort()})}var Qs=null,Pp=0,zo=0,Co=null;function JM(e,t){if(Qs===null){var r=Qs=[];Pp=0,zo=py(),Co={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Pp++,t.then(nx,nx),t}function nx(){if(--Pp===0&&Qs!==null){Co!==null&&(Co.status="fulfilled");var e=Qs;Qs=null,zo=0,Co=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function QM(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var ax=Q.S;Q.S=function(e,t){TC=ur(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&JM(e,t),ax!==null&&ax(e,t)};var pi=dn(null);function Fv(){var e=pi.current;return e!==null?e:je.pooledCache}function Eu(e,t){t===null?Te(pi,pi.current):Te(pi,t.pool)}function gE(){var e=Fv();return e===null?null:{parent:Je._currentValue,pool:e}}var ss=Error(B(460)),Vv=Error(B(474)),jf=Error(B(542)),Yu={then:function(){}};function ix(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vE(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Cn,Cn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sx(e),e;default:if(typeof t.status=="string")t.then(Cn,Cn);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(B(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sx(e),e}throw gi=t,ss}}function ei(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(gi=r,ss):r}}var gi=null;function ox(){if(gi===null)throw Error(B(459));var e=gi;return gi=null,e}function sx(e){if(e===ss||e===jf)throw Error(B(483))}var Oo=null,bl=0;function Ic(e){var t=bl;return bl+=1,Oo===null&&(Oo=[]),vE(Oo,e,t)}function Ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $c(e,t){throw t.$$typeof===$P?Error(B(525)):(e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yE(e){function t(g,y){if(e){var _=g.deletions;_===null?(g.deletions=[y],g.flags|=16):_.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(g,y){return g=kn(g,y),g.index=0,g.sibling=null,g}function i(g,y,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<y?(g.flags|=67108866,y):_):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function s(g,y,_,b){return y===null||y.tag!==6?(y=om(_,g.mode,b),y.return=g,y):(y=a(y,_),y.return=g,y)}function c(g,y,_,b){var S=_.type;return S===lo?d(g,y,_.props.children,b,_.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ca&&ei(S)===y.type)?(y=a(y,_.props),Ts(y,_),y.return=g,y):(y=ju(_.type,_.key,_.props,null,g.mode,b),Ts(y,_),y.return=g,y)}function u(g,y,_,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=sm(_,g.mode,b),y.return=g,y):(y=a(y,_.children||[]),y.return=g,y)}function d(g,y,_,b,S){return y===null||y.tag!==7?(y=mi(_,g.mode,b,S),y.return=g,y):(y=a(y,_),y.return=g,y)}function f(g,y,_){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=om(""+y,g.mode,_),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rc:return _=ju(y.type,y.key,y.props,null,g.mode,_),Ts(_,y),_.return=g,_;case Us:return y=sm(y,g.mode,_),y.return=g,y;case ca:return y=ei(y),f(g,y,_)}if(qs(y)||Cs(y))return y=mi(y,g.mode,_,null),y.return=g,y;if(typeof y.then=="function")return f(g,Ic(y),_);if(y.$$typeof===En)return f(g,Bc(g,y),_);$c(g,y)}return null}function h(g,y,_,b){var S=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return S!==null?null:s(g,y,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rc:return _.key===S?c(g,y,_,b):null;case Us:return _.key===S?u(g,y,_,b):null;case ca:return _=ei(_),h(g,y,_,b)}if(qs(_)||Cs(_))return S!==null?null:d(g,y,_,b,null);if(typeof _.then=="function")return h(g,y,Ic(_),b);if(_.$$typeof===En)return h(g,y,Bc(g,_),b);$c(g,_)}return null}function m(g,y,_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(_)||null,s(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rc:return g=g.get(b.key===null?_:b.key)||null,c(y,g,b,S);case Us:return g=g.get(b.key===null?_:b.key)||null,u(y,g,b,S);case ca:return b=ei(b),m(g,y,_,b,S)}if(qs(b)||Cs(b))return g=g.get(_)||null,d(y,g,b,S,null);if(typeof b.then=="function")return m(g,y,_,Ic(b),S);if(b.$$typeof===En)return m(g,y,_,Bc(y,b),S);$c(y,b)}return null}function p(g,y,_,b){for(var S=null,j=null,E=y,C=y=0,A=null;E!==null&&C<_.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var R=h(g,E,_[C],b);if(R===null){E===null&&(E=A);break}e&&E&&R.alternate===null&&t(g,E),y=i(R,y,C),j===null?S=R:j.sibling=R,j=R,E=A}if(C===_.length)return r(g,E),de&&xn(g,C),S;if(E===null){for(;C<_.length;C++)E=f(g,_[C],b),E!==null&&(y=i(E,y,C),j===null?S=E:j.sibling=E,j=E);return de&&xn(g,C),S}for(E=n(E);C<_.length;C++)A=m(E,g,C,_[C],b),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),y=i(A,y,C),j===null?S=A:j.sibling=A,j=A);return e&&E.forEach(function(M){return t(g,M)}),de&&xn(g,C),S}function x(g,y,_,b){if(_==null)throw Error(B(151));for(var S=null,j=null,E=y,C=y=0,A=null,R=_.next();E!==null&&!R.done;C++,R=_.next()){E.index>C?(A=E,E=null):A=E.sibling;var M=h(g,E,R.value,b);if(M===null){E===null&&(E=A);break}e&&E&&M.alternate===null&&t(g,E),y=i(M,y,C),j===null?S=M:j.sibling=M,j=M,E=A}if(R.done)return r(g,E),de&&xn(g,C),S;if(E===null){for(;!R.done;C++,R=_.next())R=f(g,R.value,b),R!==null&&(y=i(R,y,C),j===null?S=R:j.sibling=R,j=R);return de&&xn(g,C),S}for(E=n(E);!R.done;C++,R=_.next())R=m(E,g,C,R.value,b),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?C:R.key),y=i(R,y,C),j===null?S=R:j.sibling=R,j=R);return e&&E.forEach(function(k){return t(g,k)}),de&&xn(g,C),S}function v(g,y,_,b){if(typeof _=="object"&&_!==null&&_.type===lo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Rc:e:{for(var S=_.key;y!==null;){if(y.key===S){if(S=_.type,S===lo){if(y.tag===7){r(g,y.sibling),b=a(y,_.props.children),b.return=g,g=b;break e}}else if(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ca&&ei(S)===y.type){r(g,y.sibling),b=a(y,_.props),Ts(b,_),b.return=g,g=b;break e}r(g,y);break}else t(g,y);y=y.sibling}_.type===lo?(b=mi(_.props.children,g.mode,b,_.key),b.return=g,g=b):(b=ju(_.type,_.key,_.props,null,g.mode,b),Ts(b,_),b.return=g,g=b)}return o(g);case Us:e:{for(S=_.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){r(g,y.sibling),b=a(y,_.children||[]),b.return=g,g=b;break e}else{r(g,y);break}else t(g,y);y=y.sibling}b=sm(_,g.mode,b),b.return=g,g=b}return o(g);case ca:return _=ei(_),v(g,y,_,b)}if(qs(_))return p(g,y,_,b);if(Cs(_)){if(S=Cs(_),typeof S!="function")throw Error(B(150));return _=S.call(_),x(g,y,_,b)}if(typeof _.then=="function")return v(g,y,Ic(_),b);if(_.$$typeof===En)return v(g,y,Bc(g,_),b);$c(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,y!==null&&y.tag===6?(r(g,y.sibling),b=a(y,_),b.return=g,g=b):(r(g,y),b=om(_,g.mode,b),b.return=g,g=b),o(g)):r(g,y)}return function(g,y,_,b){try{bl=0;var S=v(g,y,_,b);return Oo=null,S}catch(E){if(E===ss||E===jf)throw E;var j=ar(29,E,null,g.mode);return j.lanes=b,j.return=g,j}finally{}}}var ji=yE(!0),bE=yE(!1),ua=!1;function Gv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Vu(e),uE(e,null,r),t}return Sf(e,n,t,r),Vu(e)}function el(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bj(e,r)}}function cm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Dp=!1;function tl(){if(Dp){var e=Co;if(e!==null)throw e}}function rl(e,t,r,n){Dp=!1;var a=e.updateQueue;ua=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,s=i;do{var h=s.lane&-536870913,m=h!==s.lane;if(m?(le&h)===h:(n&h)===h){h!==0&&h===zo&&(Dp=!0),d!==null&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,x=s;h=t;var v=r;switch(x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(v,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(v,f,h):p,h==null)break e;f=Me({},f,h);break e;case 2:ua=!0}}h=s.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;m=s,s=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),$a|=o,e.lanes=o,e.memoizedState=f}}function xE(e,t){if(typeof e!="function")throw Error(B(191,e));e.call(t)}function wE(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)xE(r[e],t)}var Bo=dn(null),Xu=dn(0);function lx(e,t){e=$n,Te(Xu,e),Te(Bo,t),$n=e|t.baseLanes}function zp(){Te(Xu,$n),Te(Bo,Bo.current)}function Kv(){$n=Xu.current,pt(Bo),pt(Xu)}var gr=dn(null),kr=null;function ma(e){var t=e.alternate;Te(Fe,Fe.current&1),Te(gr,e),kr===null&&(t===null||Bo.current!==null||t.memoizedState!==null)&&(kr=e)}function Bp(e){Te(Fe,Fe.current),Te(gr,e),kr===null&&(kr=e)}function _E(e){e.tag===22?(Te(Fe,Fe.current),Te(gr,e),kr===null&&(kr=e)):pa()}function pa(){Te(Fe,Fe.current),Te(gr,gr.current)}function nr(e){pt(gr),kr===e&&(kr=null),pt(Fe)}var Fe=dn(0);function Zu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||rg(r)||ng(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zn=0,re=null,_e=null,Xe=null,Ju=!1,Ao=!1,Ei=!1,Qu=0,xl=0,To=null,eD=0;function Ue(){throw Error(B(321))}function Yv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pr(e[r],t[r]))return!1;return!0}function Xv(e,t,r,n,a,i){return zn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?QE:sy,Ei=!1,i=r(n,a),Ei=!1,Ao&&(i=jE(t,r,n,a)),SE(e),i}function SE(e){Q.H=wl;var t=_e!==null&&_e.next!==null;if(zn=0,Xe=_e=re=null,Ju=!1,xl=0,To=null,t)throw Error(B(300));e===null||Qe||(e=e.dependencies,e!==null&&Ku(e)&&(Qe=!0))}function jE(e,t,r,n){re=e;var a=0;do{if(Ao&&(To=null),xl=0,Ao=!1,25<=a)throw Error(B(301));if(a+=1,Xe=_e=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Q.H=eC,i=t(r,n)}while(Ao);return i}function tD(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?ec(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(re.flags|=1024),t}function Zv(){var e=Qu!==0;return Qu=0,e}function Jv(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Qv(e){if(Ju){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ju=!1}zn=0,Xe=_e=re=null,Ao=!1,xl=Qu=0,To=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ve(){if(_e===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Xe===null?re.memoizedState:Xe.next;if(t!==null)Xe=t,_e=e;else{if(e===null)throw re.alternate===null?Error(B(467)):Error(B(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(e){var t=xl;return xl+=1,To===null&&(To=[]),e=vE(To,e,t),t=re,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?QE:sy),e}function Cf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ec(e);if(e.$$typeof===En)return Et(e)}throw Error(B(438,String(e)))}function ey(e){var t=null,r=re.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=re.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Ef(),re.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=LP;return t.index++,r}function Bn(e,t){return typeof t=="function"?t(e):t}function Cu(e){var t=Ve();return ty(t,_e,e)}function ty(e,t,r){var n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var s=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(le&f)===f:(zn&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===zo&&(d=!0);else if((zn&h)===h){u=u.next,h===zo&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=f,o=i):c=c.next=f,re.lanes|=h,$a|=h;f=u.action,Ei&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=h,o=i):c=c.next=h,re.lanes|=f,$a|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=s,!pr(i,e.memoizedState)&&(Qe=!0,d&&(r=Co,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function um(e){var t=Ve(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pr(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function EE(e,t,r){var n=re,a=Ve(),i=de;if(i){if(r===void 0)throw Error(B(407));r=r()}else r=t();var o=!pr((_e||a).memoizedState,r);if(o&&(a.memoizedState=r,Qe=!0),a=a.queue,ry(AE.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Io(9,{destroy:void 0},OE.bind(null,n,a,r,t),null),je===null)throw Error(B(349));i||zn&127||CE(n,t,r)}return r}function CE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=re.updateQueue,t===null?(t=Ef(),re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function OE(e,t,r,n){t.value=r,t.getSnapshot=n,TE(t)&&kE(e)}function AE(e,t,r){return r(function(){TE(t)&&kE(e)})}function TE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pr(e,r)}catch{return!0}}function kE(e){var t=Ii(e,2);t!==null&&Kt(t,e,2)}function Ip(e){var t=Nt();if(typeof e=="function"){var r=e;if(e=r(),Ei){ba(!0);try{r()}finally{ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function RE(e,t,r,n){return e.baseState=r,ty(e,_e,typeof n=="function"?n:Bn)}function rD(e,t,r,n,a){if(Af(e))throw Error(B(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Q.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,NE(t,i)):(i.next=r.next,t.pending=r.next=i)}}function NE(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=Q.T,o={};Q.T=o;try{var s=r(a,n),c=Q.S;c!==null&&c(o,s),cx(e,t,s)}catch(u){$p(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),Q.T=i}}else try{i=r(a,n),cx(e,t,i)}catch(u){$p(e,t,u)}}function cx(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){ux(e,t,n)},function(n){return $p(e,t,n)}):ux(e,t,r)}function ux(e,t,r){t.status="fulfilled",t.value=r,PE(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,NE(e,r)))}function $p(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,PE(t),t=t.next;while(t!==n)}e.action=null}function PE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ME(e,t){return t}function dx(e,t){if(de){var r=je.formState;if(r!==null){e:{var n=re;if(de){if(Ne){t:{for(var a=Ne,i=Ar;a.nodeType!==8;){if(!i){a=null;break t}if(a=Rr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ne=Rr(a.nextSibling),n=a.data==="F!";break e}}Ba(n)}n=!1}n&&(t=r[0])}}return r=Nt(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ME,lastRenderedState:t},r.queue=n,r=XE.bind(null,re,n),n.dispatch=r,n=Ip(!1),i=oy.bind(null,re,!1,n.queue),n=Nt(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=rD.bind(null,re,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function fx(e){var t=Ve();return DE(t,_e,e)}function DE(e,t,r){if(t=ty(e,t,ME)[0],e=Cu(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ec(t)}catch(o){throw o===ss?jf:o}else n=t;t=Ve();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(re.flags|=2048,Io(9,{destroy:void 0},nD.bind(null,a,r),null)),[n,i,e]}function nD(e,t){e.action=t}function hx(e){var t=Ve(),r=_e;if(r!==null)return DE(t,r,e);Ve(),t=t.memoizedState,r=Ve();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Io(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=re.updateQueue,t===null&&(t=Ef(),re.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function zE(){return Ve().memoizedState}function Ou(e,t,r,n){var a=Nt();re.flags|=e,a.memoizedState=Io(1|t,{destroy:void 0},r,n===void 0?null:n)}function Of(e,t,r,n){var a=Ve();n=n===void 0?null:n;var i=a.memoizedState.inst;_e!==null&&n!==null&&Yv(n,_e.memoizedState.deps)?a.memoizedState=Io(t,i,r,n):(re.flags|=e,a.memoizedState=Io(1|t,i,r,n))}function mx(e,t){Ou(8390656,8,e,t)}function ry(e,t){Of(2048,8,e,t)}function aD(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Ef(),re.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function BE(e){var t=Ve().memoizedState;return aD({ref:t,nextImpl:e}),function(){if(pe&2)throw Error(B(440));return t.impl.apply(void 0,arguments)}}function IE(e,t){return Of(4,2,e,t)}function $E(e,t){return Of(4,4,e,t)}function LE(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UE(e,t,r){r=r!=null?r.concat([e]):null,Of(4,4,LE.bind(null,t,e),r)}function ny(){}function qE(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&Yv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HE(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&Yv(t,n[1]))return n[0];if(n=e(),Ei){ba(!0);try{e()}finally{ba(!1)}}return r.memoizedState=[n,t],n}function ay(e,t,r){return r===void 0||zn&1073741824&&!(le&261930)?e.memoizedState=t:(e.memoizedState=r,e=RC(),re.lanes|=e,$a|=e,r)}function WE(e,t,r,n){return pr(r,t)?r:Bo.current!==null?(e=ay(e,r,n),pr(e,t)||(Qe=!0),e):!(zn&42)||zn&1073741824&&!(le&261930)?(Qe=!0,e.memoizedState=r):(e=RC(),re.lanes|=e,$a|=e,t)}function FE(e,t,r,n,a){var i=ge.p;ge.p=i!==0&&8>i?i:8;var o=Q.T,s={};Q.T=s,oy(e,!1,t,r);try{var c=a(),u=Q.S;if(u!==null&&u(s,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=QM(c,n);nl(e,t,d,hr(e))}else nl(e,t,n,hr(e))}catch(f){nl(e,t,{then:function(){},status:"rejected",reason:f},hr())}finally{ge.p=i,o!==null&&s.types!==null&&(o.types=s.types),Q.T=o}}function iD(){}function Lp(e,t,r,n){if(e.tag!==5)throw Error(B(476));var a=VE(e).queue;FE(e,a,t,hi,r===null?iD:function(){return GE(e),r(n)})}function VE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:hi,baseState:hi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:hi},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function GE(e){var t=VE(e);t.next===null&&(t=e.alternate.memoizedState),nl(e,t.next.queue,{},hr())}function iy(){return Et(jl)}function KE(){return Ve().memoizedState}function YE(){return Ve().memoizedState}function oD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hr();e=Aa(r);var n=Ta(t,e,r);n!==null&&(Kt(n,t,r),el(n,t,r)),t={cache:Wv()},e.payload=t;return}t=t.return}}function sD(e,t,r){var n=hr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Af(e)?ZE(t,r):(r=Lv(e,t,r,n),r!==null&&(Kt(r,e,n),JE(r,t,n)))}function XE(e,t,r){var n=hr();nl(e,t,r,n)}function nl(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Af(e))ZE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,pr(s,o))return Sf(e,t,a,0),je===null&&_f(),!1}catch{}finally{}if(r=Lv(e,t,a,n),r!==null)return Kt(r,e,n),JE(r,t,n),!0}return!1}function oy(e,t,r,n){if(n={lane:2,revertLane:py(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Af(e)){if(t)throw Error(B(479))}else t=Lv(e,r,n,2),t!==null&&Kt(t,e,2)}function Af(e){var t=e.alternate;return e===re||t!==null&&t===re}function ZE(e,t){Ao=Ju=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function JE(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bj(e,r)}}var wl={readContext:Et,use:Cf,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};wl.useEffectEvent=Ue;var QE={readContext:Et,use:Cf,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:mx,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Ou(4194308,4,LE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ou(4194308,4,e,t)},useInsertionEffect:function(e,t){Ou(4,2,e,t)},useMemo:function(e,t){var r=Nt();t=t===void 0?null:t;var n=e();if(Ei){ba(!0);try{e()}finally{ba(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Nt();if(r!==void 0){var a=r(t);if(Ei){ba(!0);try{r(t)}finally{ba(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=sD.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ip(e);var t=e.queue,r=XE.bind(null,re,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ny,useDeferredValue:function(e,t){var r=Nt();return ay(r,e,t)},useTransition:function(){var e=Ip(!1);return e=FE.bind(null,re,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=re,a=Nt();if(de){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),je===null)throw Error(B(349));le&127||CE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,mx(AE.bind(null,n,i,e),[e]),n.flags|=2048,Io(9,{destroy:void 0},OE.bind(null,n,i,r,t),null),r},useId:function(){var e=Nt(),t=je.identifierPrefix;if(de){var r=rn,n=tn;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Qu++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=eD++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:iy,useFormState:dx,useActionState:dx,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=oy.bind(null,re,!0,r),r.dispatch=t,[e,t]},useMemoCache:ey,useCacheRefresh:function(){return Nt().memoizedState=oD.bind(null,re)},useEffectEvent:function(e){var t=Nt(),r={impl:e};return t.memoizedState=r,function(){if(pe&2)throw Error(B(440));return r.impl.apply(void 0,arguments)}}},sy={readContext:Et,use:Cf,useCallback:qE,useContext:Et,useEffect:ry,useImperativeHandle:UE,useInsertionEffect:IE,useLayoutEffect:$E,useMemo:HE,useReducer:Cu,useRef:zE,useState:function(){return Cu(Bn)},useDebugValue:ny,useDeferredValue:function(e,t){var r=Ve();return WE(r,_e.memoizedState,e,t)},useTransition:function(){var e=Cu(Bn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ec(e),t]},useSyncExternalStore:EE,useId:KE,useHostTransitionStatus:iy,useFormState:fx,useActionState:fx,useOptimistic:function(e,t){var r=Ve();return RE(r,_e,e,t)},useMemoCache:ey,useCacheRefresh:YE};sy.useEffectEvent=BE;var eC={readContext:Et,use:Cf,useCallback:qE,useContext:Et,useEffect:ry,useImperativeHandle:UE,useInsertionEffect:IE,useLayoutEffect:$E,useMemo:HE,useReducer:um,useRef:zE,useState:function(){return um(Bn)},useDebugValue:ny,useDeferredValue:function(e,t){var r=Ve();return _e===null?ay(r,e,t):WE(r,_e.memoizedState,e,t)},useTransition:function(){var e=um(Bn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ec(e),t]},useSyncExternalStore:EE,useId:KE,useHostTransitionStatus:iy,useFormState:hx,useActionState:hx,useOptimistic:function(e,t){var r=Ve();return _e!==null?RE(r,_e,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ey,useCacheRefresh:YE};eC.useEffectEvent=BE;function dm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Up={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Aa(n);a.payload=t,r!=null&&(a.callback=r),t=Ta(e,a,n),t!==null&&(Kt(t,e,n),el(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Aa(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ta(e,a,n),t!==null&&(Kt(t,e,n),el(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Aa(r);n.tag=2,t!=null&&(n.callback=t),t=Ta(e,n,r),t!==null&&(Kt(t,e,r),el(t,e,r))}};function px(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!gl(r,n)||!gl(a,i):!0}function gx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Up.enqueueReplaceState(t,t.state,null)}function Ci(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Me({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function tC(e){Fu(e)}function rC(e){console.error(e)}function nC(e){Fu(e)}function ed(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function vx(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function qp(e,t,r){return r=Aa(r),r.tag=3,r.payload={element:null},r.callback=function(){ed(e,t)},r}function aC(e){return e=Aa(e),e.tag=3,e}function iC(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){vx(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){vx(t,r,n),typeof a!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})})}function lD(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&os(t,r,a,!0),r=gr.current,r!==null){switch(r.tag){case 31:case 13:return kr===null?id():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Yu?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),_m(e,n,a)),!1;case 22:return r.flags|=65536,n===Yu?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),_m(e,n,a)),!1}throw Error(B(435,r.tag))}return _m(e,n,a),id(),!1}if(de)return t=gr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Tp&&(e=Error(B(422),{cause:n}),yl(Or(e,r)))):(n!==Tp&&(t=Error(B(423),{cause:n}),yl(Or(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Or(n,r),a=qp(e.stateNode,n,a),cm(e,a),He!==4&&(He=2)),!1;var i=Error(B(520),{cause:n});if(i=Or(i,r),ol===null?ol=[i]:ol.push(i),He!==4&&(He=2),t===null)return!0;n=Or(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=qp(r.stateNode,n,e),cm(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ka===null||!ka.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=aC(a),iC(a,e,r,n),cm(r,a),!1}r=r.return}while(r!==null);return!1}var ly=Error(B(461)),Qe=!1;function xt(e,t,r,n){t.child=e===null?bE(t,null,r,n):ji(t,e.child,r,n)}function yx(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}else o=n;return Si(t),n=Xv(e,t,r,o,i,a),s=Zv(),e!==null&&!Qe?(Jv(e,t,a),In(e,t,a)):(de&&s&&qv(t),t.flags|=1,xt(e,t,n,a),t.child)}function bx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Uv(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,oC(e,t,i,n,a)):(e=ju(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!cy(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:gl,r(o,n)&&e.ref===t.ref)return In(e,t,a)}return t.flags|=1,e=kn(i,n),e.ref=t.ref,e.return=t,t.child=e}function oC(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(gl(i,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=i,cy(e,a))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,In(e,t,a)}return Hp(e,t,r,n,a)}function sC(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return xx(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(t,i!==null?i.cachePool:null),i!==null?lx(t,i):zp(),_E(t);else return n=t.lanes=536870912,xx(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(Eu(t,i.cachePool),lx(t,i),pa(),t.memoizedState=null):(e!==null&&Eu(t,null),zp(),pa());return xt(e,t,a,r),t.child}function Ws(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xx(e,t,r,n,a){var i=Fv();return i=i===null?null:{parent:Je._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&Eu(t,null),zp(),_E(t),e!==null&&os(e,t,n,!0),t.childLanes=a,null}function Au(e,t){return t=td({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wx(e,t,r){return ji(t,e.child,null,r),e=Au(t,t.pendingProps),e.flags|=2,nr(t),t.memoizedState=null,e}function cD(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(n.mode==="hidden")return e=Au(t,n),t.lanes=536870912,Ws(null,e);if(Bp(t),(e=Ne)?(e=QC(e,Ar),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=fE(e),r.return=t,t.child=r,jt=t,Ne=null)):e=null,e===null)throw Ba(t);return t.lanes=536870912,null}return Au(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Bp(t),a)if(t.flags&256)t.flags&=-257,t=wx(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(B(558));else if(Qe||os(e,t,r,!1),a=(r&e.childLanes)!==0,Qe||a){if(n=je,n!==null&&(o=Ij(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,Ii(e,o),Kt(n,e,o),ly;id(),t=wx(e,t,r)}else e=i.treeContext,Ne=Rr(o.nextSibling),jt=t,de=!0,Oa=null,Ar=!1,e!==null&&mE(t,e),t=Au(t,n),t.flags|=4096;return t}return e=kn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tu(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(B(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Hp(e,t,r,n,a){return Si(t),r=Xv(e,t,r,n,void 0,a),n=Zv(),e!==null&&!Qe?(Jv(e,t,a),In(e,t,a)):(de&&n&&qv(t),t.flags|=1,xt(e,t,r,a),t.child)}function _x(e,t,r,n,a,i){return Si(t),t.updateQueue=null,r=jE(t,n,r,a),SE(e),n=Zv(),e!==null&&!Qe?(Jv(e,t,i),In(e,t,i)):(de&&n&&qv(t),t.flags|=1,xt(e,t,r,i),t.child)}function Sx(e,t,r,n,a){if(Si(t),t.stateNode===null){var i=vo,o=r.contextType;typeof o=="object"&&o!==null&&(i=Et(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Up,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Gv(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Et(o):vo,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(dm(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Up.enqueueReplaceState(i,i.state,null),rl(t,n,i,a),tl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var s=t.memoizedProps,c=Ci(r,s);i.props=c;var u=i.context,d=r.contextType;o=vo,typeof d=="object"&&d!==null&&(o=Et(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==o)&&gx(t,i,n,o),ua=!1;var h=t.memoizedState;i.state=h,rl(t,n,i,a),tl(),u=t.memoizedState,s||h!==u||ua?(typeof f=="function"&&(dm(t,r,f,n),u=t.memoizedState),(c=ua||px(t,r,c,n,h,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Mp(e,t),o=t.memoizedProps,d=Ci(r,o),i.props=d,f=t.pendingProps,h=i.context,u=r.contextType,c=vo,typeof u=="object"&&u!==null&&(c=Et(u)),s=r.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==c)&&gx(t,i,n,c),ua=!1,h=t.memoizedState,i.state=h,rl(t,n,i,a),tl();var m=t.memoizedState;o!==f||h!==m||ua||e!==null&&e.dependencies!==null&&Ku(e.dependencies)?(typeof s=="function"&&(dm(t,r,s,n),m=t.memoizedState),(d=ua||px(t,r,d,n,h,m,c)||e!==null&&e.dependencies!==null&&Ku(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Tu(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=ji(t,e.child,null,a),t.child=ji(t,null,r,a)):xt(e,t,r,a),t.memoizedState=i.state,e=t.child):e=In(e,t,a),e}function jx(e,t,r,n){return _i(),t.flags|=256,xt(e,t,r,n),t.child}var fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hm(e){return{baseLanes:e,cachePool:gE()}}function mm(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=lr),e}function lC(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(a?ma(t):pa(),(e=Ne)?(e=QC(e,Ar),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=fE(e),r.return=t,t.child=r,jt=t,Ne=null)):e=null,e===null)throw Ba(t);return ng(e)?t.lanes=32:t.lanes=536870912,null}var s=n.children;return n=n.fallback,a?(pa(),a=t.mode,s=td({mode:"hidden",children:s},a),n=mi(n,a,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n=t.child,n.memoizedState=hm(r),n.childLanes=mm(e,o,r),t.memoizedState=fm,Ws(null,n)):(ma(t),Wp(t,s))}var c=e.memoizedState;if(c!==null&&(s=c.dehydrated,s!==null)){if(i)t.flags&256?(ma(t),t.flags&=-257,t=pm(e,t,r)):t.memoizedState!==null?(pa(),t.child=e.child,t.flags|=128,t=null):(pa(),s=n.fallback,a=t.mode,n=td({mode:"visible",children:n.children},a),s=mi(s,a,r,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,ji(t,e.child,null,r),n=t.child,n.memoizedState=hm(r),n.childLanes=mm(e,o,r),t.memoizedState=fm,t=Ws(null,n));else if(ma(t),ng(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(B(419)),n.stack="",n.digest=o,yl({value:n,source:null,stack:null}),t=pm(e,t,r)}else if(Qe||os(e,t,r,!1),o=(r&e.childLanes)!==0,Qe||o){if(o=je,o!==null&&(n=Ij(o,r),n!==0&&n!==c.retryLane))throw c.retryLane=n,Ii(e,n),Kt(o,e,n),ly;rg(s)||id(),t=pm(e,t,r)}else rg(s)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Ne=Rr(s.nextSibling),jt=t,de=!0,Oa=null,Ar=!1,e!==null&&mE(t,e),t=Wp(t,n.children),t.flags|=4096);return t}return a?(pa(),s=n.fallback,a=t.mode,c=e.child,u=c.sibling,n=kn(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?s=kn(u,s):(s=mi(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,Ws(null,n),n=t.child,s=e.child.memoizedState,s===null?s=hm(r):(a=s.cachePool,a!==null?(c=Je._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=gE(),s={baseLanes:s.baseLanes|r,cachePool:a}),n.memoizedState=s,n.childLanes=mm(e,o,r),t.memoizedState=fm,Ws(e.child,n)):(ma(t),r=e.child,e=r.sibling,r=kn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function Wp(e,t){return t=td({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function td(e,t){return e=ar(22,e,null,t),e.lanes=0,e}function pm(e,t,r){return ji(t,e.child,null,r),e=Wp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ex(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rp(e.return,t,r)}function gm(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function cC(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Fe.current,s=(o&2)!==0;if(s?(o=o&1|2,t.flags|=128):o&=1,Te(Fe,o),xt(e,t,n,r),n=de?vl:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ex(e,r,t);else if(e.tag===19)Ex(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Zu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),gm(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Zu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}gm(t,!0,r,null,i,n);break;case"together":gm(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function In(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,!(r&t.childLanes))if(e!==null){if(os(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cy(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ku(e)))}function uD(e,t,r){switch(t.tag){case 3:Uu(t,t.stateNode.containerInfo),ha(t,Je,e.memoizedState.cache),_i();break;case 27:case 5:yp(t);break;case 4:Uu(t,t.stateNode.containerInfo);break;case 10:ha(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bp(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ma(t),t.flags|=128,null):r&t.child.childLanes?lC(e,t,r):(ma(t),e=In(e,t,r),e!==null?e.sibling:null);ma(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(os(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return cC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Te(Fe,Fe.current),n)break;return null;case 22:return t.lanes=0,sC(e,t,r,t.pendingProps);case 24:ha(t,Je,e.memoizedState.cache)}return In(e,t,r)}function uC(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!cy(e,r)&&!(t.flags&128))return Qe=!1,uD(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,de&&t.flags&1048576&&hE(t,vl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ei(t.elementType),t.type=e,typeof e=="function")Uv(e)?(n=Ci(e,n),t.tag=1,t=Sx(null,t,e,n,r)):(t.tag=0,t=Hp(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===Ov){t.tag=11,t=yx(null,t,e,n,r);break e}else if(a===Av){t.tag=14,t=bx(null,t,e,n,r);break e}}throw t=gp(e)||e,Error(B(306,t,""))}}return t;case 0:return Hp(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=Ci(n,t.pendingProps),Sx(e,t,n,a,r);case 3:e:{if(Uu(t,t.stateNode.containerInfo),e===null)throw Error(B(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,Mp(e,t),rl(t,n,null,r);var o=t.memoizedState;if(n=o.cache,ha(t,Je,n),n!==i.cache&&Np(t,[Je],r,!0),tl(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=jx(e,t,n,r);break e}else if(n!==a){a=Or(Error(B(424)),t),yl(a),t=jx(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=Rr(e.firstChild),jt=t,de=!0,Oa=null,Ar=!0,r=bE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(_i(),n===a){t=In(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 26:return Tu(e,t),e===null?(r=Fx(t.type,null,t.pendingProps,null))?t.memoizedState=r:de||(r=t.type,e=t.pendingProps,n=cd(Ca.current).createElement(r),n[St]=t,n[Yt]=e,Ot(n,r,e),mt(n),t.stateNode=n):t.memoizedState=Fx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return yp(t),e===null&&de&&(n=t.stateNode=eO(t.type,t.pendingProps,Ca.current),jt=t,Ar=!0,a=Ne,Ha(t.type)?(ag=a,Ne=Rr(n.firstChild)):Ne=a),xt(e,t,t.pendingProps.children,r),Tu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((a=n=Ne)&&(n=LD(n,t.type,t.pendingProps,Ar),n!==null?(t.stateNode=n,jt=t,Ne=Rr(n.firstChild),Ar=!1,a=!0):a=!1),a||Ba(t)),yp(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,eg(a,i)?n=null:o!==null&&eg(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=Xv(e,t,tD,null,null,r),jl._currentValue=a),Tu(e,t),xt(e,t,n,r),t.child;case 6:return e===null&&de&&((e=r=Ne)&&(r=UD(r,t.pendingProps,Ar),r!==null?(t.stateNode=r,jt=t,Ne=null,e=!0):e=!1),e||Ba(t)),null;case 13:return lC(e,t,r);case 4:return Uu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ji(t,null,n,r):xt(e,t,n,r),t.child;case 11:return yx(e,t,t.type,t.pendingProps,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ha(t,t.type,n.value),xt(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Si(t),a=Et(a),n=n(a),t.flags|=1,xt(e,t,n,r),t.child;case 14:return bx(e,t,t.type,t.pendingProps,r);case 15:return oC(e,t,t.type,t.pendingProps,r);case 19:return cC(e,t,r);case 31:return cD(e,t,r);case 22:return sC(e,t,r,t.pendingProps);case 24:return Si(t),n=Et(Je),e===null?(a=Fv(),a===null&&(a=je,i=Wv(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},Gv(t),ha(t,Je,a)):(e.lanes&r&&(Mp(e,t),rl(t,null,null,r),tl()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ha(t,Je,n)):(n=i.cache,ha(t,Je,n),n!==a.cache&&Np(t,[Je],r,!0))),xt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(B(156,t.tag))}function mn(e){e.flags|=4}function vm(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(MC())e.flags|=8192;else throw gi=Yu,Vv}else e.flags&=-16777217}function Cx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!nO(t))if(MC())e.flags|=8192;else throw gi=Yu,Vv}function Lc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dj():536870912,e.lanes|=t,$o|=t)}function ks(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dD(e,t,r){var n=t.pendingProps;switch(Hv(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Rn(Je),Po(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lm())),ke(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(mn(t),i!==null?(ke(t),Cx(t,i)):(ke(t),vm(t,a,null,n,r))):i?i!==e.memoizedState?(mn(t),ke(t),Cx(t,i)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&mn(t),ke(t),vm(t,a,e,n,r)),null;case 27:if(qu(t),r=Ca.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(B(166));return ke(t),null}e=on.current,Vi(t)?tx(t):(e=eO(a,n,r),t.stateNode=e,mn(t))}return ke(t),null;case 5:if(qu(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(B(166));return ke(t),null}if(i=on.current,Vi(t))tx(t);else{var o=cd(Ca.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[St]=t,i[Yt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ot(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&mn(t)}}return ke(t),vm(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(e=Ca.current,Vi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=jt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[St]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||XC(e.nodeValue,r)),e||Ba(t,!0)}else e=cd(e).createTextNode(n),e[St]=t,t.stateNode=e}return ke(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Vi(t),r!==null){if(e===null){if(!n)throw Error(B(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(557));e[St]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else r=lm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(nr(t),t):(nr(t),null);if(t.flags&128)throw Error(B(558))}return ke(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Vi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[St]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),a=!1}else a=lm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(nr(t),t):(nr(t),null)}return nr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Lc(t,t.updateQueue),ke(t),null);case 4:return Po(),e===null&&gy(t.stateNode.containerInfo),ke(t),null;case 10:return Rn(t.type),ke(t),null;case 19:if(pt(Fe),n=t.memoizedState,n===null)return ke(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)ks(n,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Zu(e),i!==null){for(t.flags|=128,ks(n,!1),e=i.updateQueue,t.updateQueue=e,Lc(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)dE(r,e),r=r.sibling;return Te(Fe,Fe.current&1|2),de&&xn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ur()>nd&&(t.flags|=128,a=!0,ks(n,!1),t.lanes=4194304)}else{if(!a)if(e=Zu(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Lc(t,e),ks(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!de)return ke(t),null}else 2*ur()-n.renderingStartTime>nd&&r!==536870912&&(t.flags|=128,a=!0,ks(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ur(),e.sibling=null,r=Fe.current,Te(Fe,a?r&1|2:r&1),de&&xn(t,n.treeForkCount),e):(ke(t),null);case 22:case 23:return nr(t),Kv(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),r=t.updateQueue,r!==null&&Lc(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&pt(pi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Rn(Je),ke(t),null;case 25:return null;case 30:return null}throw Error(B(156,t.tag))}function fD(e,t){switch(Hv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rn(Je),Po(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qu(t),null;case 31:if(t.memoizedState!==null){if(nr(t),t.alternate===null)throw Error(B(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(Fe),null;case 4:return Po(),null;case 10:return Rn(t.type),null;case 22:case 23:return nr(t),Kv(),e!==null&&pt(pi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Rn(Je),null;case 25:return null;default:return null}}function dC(e,t){switch(Hv(t),t.tag){case 3:Rn(Je),Po();break;case 26:case 27:case 5:qu(t);break;case 4:Po();break;case 31:t.memoizedState!==null&&nr(t);break;case 13:nr(t);break;case 19:pt(Fe);break;case 10:Rn(t.type);break;case 22:case 23:nr(t),Kv(),e!==null&&pt(pi);break;case 24:Rn(Je)}}function tc(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(s){be(t,t.return,s)}}function Ia(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,a=t;var c=r,u=s;try{u()}catch(d){be(a,c,d)}}}n=n.next}while(n!==i)}}catch(d){be(t,t.return,d)}}function fC(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{wE(t,r)}catch(n){be(e,e.return,n)}}}function hC(e,t,r){r.props=Ci(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){be(e,t,n)}}function al(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){be(e,t,a)}}function nn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){be(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){be(e,t,a)}else r.current=null}function mC(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){be(e,e.return,a)}}function ym(e,t,r){try{var n=e.stateNode;MD(n,e.type,r,t),n[Yt]=t}catch(a){be(e,e.return,a)}}function pC(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function bm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cn));else if(n!==4&&(n===27&&Ha(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Fp(e,t,r),e=e.sibling;e!==null;)Fp(e,t,r),e=e.sibling}function rd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&Ha(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(rd(e,t,r),e=e.sibling;e!==null;)rd(e,t,r),e=e.sibling}function gC(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ot(t,n,r),t[St]=e,t[Yt]=r}catch(i){be(e,e.return,i)}}var _n=!1,Ze=!1,xm=!1,Ox=typeof WeakSet=="function"?WeakSet:Set,ht=null;function hD(e,t){if(e=e.containerInfo,Jp=hd,e=nE(e),Iv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(s=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qp={focusedElem:e,selectionRange:r},hd=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var p=Ci(r.type,a);e=n.getSnapshotBeforeUpdate(p,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){be(r,r.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)tg(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tg(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(B(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function vC(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:gn(e,r),n&4&&tc(5,r);break;case 1:if(gn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){be(r,r.return,o)}else{var a=Ci(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){be(r,r.return,o)}}n&64&&fC(r),n&512&&al(r,r.return);break;case 3:if(gn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{wE(e,t)}catch(o){be(r,r.return,o)}}break;case 27:t===null&&n&4&&gC(r);case 26:case 5:gn(e,r),t===null&&n&4&&mC(r),n&512&&al(r,r.return);break;case 12:gn(e,r);break;case 31:gn(e,r),n&4&&xC(e,r);break;case 13:gn(e,r),n&4&&wC(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=_D.bind(null,r),qD(e,r))));break;case 22:if(n=r.memoizedState!==null||_n,!n){t=t!==null&&t.memoizedState!==null||Ze,a=_n;var i=Ze;_n=n,(Ze=t)&&!i?vn(e,r,(r.subtreeFlags&8772)!==0):gn(e,r),_n=a,Ze=i}break;case 30:break;default:gn(e,r)}}function yC(e){var t=e.alternate;t!==null&&(e.alternate=null,yC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Nv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,Wt=!1;function pn(e,t,r){for(r=r.child;r!==null;)bC(e,t,r),r=r.sibling}function bC(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Kl,r)}catch{}switch(r.tag){case 26:Ze||nn(r,t),pn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||nn(r,t);var n=ze,a=Wt;Ha(r.type)&&(ze=r.stateNode,Wt=!1),pn(e,t,r),ll(r.stateNode),ze=n,Wt=a;break;case 5:Ze||nn(r,t);case 6:if(n=ze,a=Wt,ze=null,pn(e,t,r),ze=n,Wt=a,ze!==null)if(Wt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(r.stateNode)}catch(i){be(r,t,i)}else try{ze.removeChild(r.stateNode)}catch(i){be(r,t,i)}break;case 18:ze!==null&&(Wt?(e=ze,Lx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ho(e)):Lx(ze,r.stateNode));break;case 4:n=ze,a=Wt,ze=r.stateNode.containerInfo,Wt=!0,pn(e,t,r),ze=n,Wt=a;break;case 0:case 11:case 14:case 15:Ia(2,r,t),Ze||Ia(4,r,t),pn(e,t,r);break;case 1:Ze||(nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&hC(r,t,n)),pn(e,t,r);break;case 21:pn(e,t,r);break;case 22:Ze=(n=Ze)||r.memoizedState!==null,pn(e,t,r),Ze=n;break;default:pn(e,t,r)}}function xC(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ho(e)}catch(r){be(t,t.return,r)}}}function wC(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ho(e)}catch(r){be(t,t.return,r)}}function mD(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ox),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ox),t;default:throw Error(B(435,e.tag))}}function Uc(e,t){var r=mD(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=SD.bind(null,e,n);n.then(a,a)}})}function qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Ha(s.type)){ze=s.stateNode,Wt=!1;break e}break;case 5:ze=s.stateNode,Wt=!1;break e;case 3:case 4:ze=s.stateNode.containerInfo,Wt=!0;break e}s=s.return}if(ze===null)throw Error(B(160));bC(i,o,a),ze=null,Wt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_C(t,e),t=t.sibling}var qr=null;function _C(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Ht(e),n&4&&(Ia(3,e,e.return),tc(3,e),Ia(5,e,e.return));break;case 1:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&64&&_n&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=qr;if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Zl]||i[St]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ot(i,n,r),i[St]=e,mt(i),n=i;break e;case"link":var o=Gx("link","href",a).get(n+(r.href||""));if(o){for(var s=0;s<o.length;s++)if(i=o[s],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(s,1);break t}}i=a.createElement(n),Ot(i,n,r),a.head.appendChild(i);break;case"meta":if(o=Gx("meta","content",a).get(n+(r.content||""))){for(s=0;s<o.length;s++)if(i=o[s],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(s,1);break t}}i=a.createElement(n),Ot(i,n,r),a.head.appendChild(i);break;default:throw Error(B(468,n))}i[St]=e,mt(i),n=i}e.stateNode=n}else Kx(a,e.type,e.stateNode);else e.stateNode=Vx(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Kx(a,e.type,e.stateNode):Vx(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&ym(e,e.memoizedProps,r.memoizedProps)}break;case 27:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),r!==null&&n&4&&ym(e,e.memoizedProps,r.memoizedProps);break;case 5:if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),e.flags&32){a=e.stateNode;try{Do(a,"")}catch(p){be(e,e.return,p)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,ym(e,a,r!==null?r.memoizedProps:a)),n&1024&&(xm=!0);break;case 6:if(qt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(B(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){be(e,e.return,p)}}break;case 3:if(Nu=null,a=qr,qr=ud(t.containerInfo),qt(t,e),qr=a,Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ho(t.containerInfo)}catch(p){be(e,e.return,p)}xm&&(xm=!1,SC(e));break;case 4:n=qr,qr=ud(e.stateNode.containerInfo),qt(t,e),Ht(e),qr=n;break;case 12:qt(t,e),Ht(e);break;case 31:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Uc(e,n)));break;case 13:qt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tf=ur()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Uc(e,n)));break;case 22:a=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=_n,d=Ze;if(_n=u||a,Ze=d||c,qt(t,e),Ze=d,_n=u,Ht(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||c||_n||Ze||ti(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(i=c.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){be(c,c.return,p)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){be(c,c.return,p)}}}else if(t.tag===18){if(r===null){c=t;try{var m=c.stateNode;a?Ux(m,!0):Ux(c.stateNode,!1)}catch(p){be(c,c.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Uc(e,r))));break;case 19:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Uc(e,n)));break;case 30:break;case 21:break;default:qt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(pC(n)){r=n;break}n=n.return}if(r==null)throw Error(B(160));switch(r.tag){case 27:var a=r.stateNode,i=bm(e);rd(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(Do(o,""),r.flags&=-33);var s=bm(e);rd(e,s,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=bm(e);Fp(e,u,c);break;default:throw Error(B(161))}}catch(d){be(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SC(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;SC(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vC(e,t.alternate,t),t=t.sibling}function ti(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ia(4,t,t.return),ti(t);break;case 1:nn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&hC(t,t.return,r),ti(t);break;case 27:ll(t.stateNode);case 26:case 5:nn(t,t.return),ti(t);break;case 22:t.memoizedState===null&&ti(t);break;case 30:ti(t);break;default:ti(t)}e=e.sibling}}function vn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:vn(a,i,r),tc(4,i);break;case 1:if(vn(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){be(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var s=n.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)xE(c[a],s)}catch(u){be(n,n.return,u)}}r&&o&64&&fC(i),al(i,i.return);break;case 27:gC(i);case 26:case 5:vn(a,i,r),r&&n===null&&o&4&&mC(i),al(i,i.return);break;case 12:vn(a,i,r);break;case 31:vn(a,i,r),r&&o&4&&xC(a,i);break;case 13:vn(a,i,r),r&&o&4&&wC(a,i);break;case 22:i.memoizedState===null&&vn(a,i,r),al(i,i.return);break;case 30:break;default:vn(a,i,r)}t=t.sibling}}function uy(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ql(r))}function dy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ql(e))}function Ir(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jC(e,t,r,n),t=t.sibling}function jC(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ir(e,t,r,n),a&2048&&tc(9,t);break;case 1:Ir(e,t,r,n);break;case 3:Ir(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ql(e)));break;case 12:if(a&2048){Ir(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;typeof s=="function"&&s(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){be(t,t.return,c)}}else Ir(e,t,r,n);break;case 31:Ir(e,t,r,n);break;case 13:Ir(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Ir(e,t,r,n):il(e,t):i._visibility&2?Ir(e,t,r,n):(i._visibility|=2,no(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&uy(o,t);break;case 24:Ir(e,t,r,n),a&2048&&dy(t.alternate,t);break;default:Ir(e,t,r,n)}}function no(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,s=r,c=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:no(i,o,s,c,a),tc(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?no(i,o,s,c,a):il(i,o):(d._visibility|=2,no(i,o,s,c,a)),a&&u&2048&&uy(o.alternate,o);break;case 24:no(i,o,s,c,a),a&&u&2048&&dy(o.alternate,o);break;default:no(i,o,s,c,a)}t=t.sibling}}function il(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:il(r,n),a&2048&&uy(n.alternate,n);break;case 24:il(r,n),a&2048&&dy(n.alternate,n);break;default:il(r,n)}t=t.sibling}}var Fs=8192;function Gi(e,t,r){if(e.subtreeFlags&Fs)for(e=e.child;e!==null;)EC(e,t,r),e=e.sibling}function EC(e,t,r){switch(e.tag){case 26:Gi(e,t,r),e.flags&Fs&&e.memoizedState!==null&&e5(r,qr,e.memoizedState,e.memoizedProps);break;case 5:Gi(e,t,r);break;case 3:case 4:var n=qr;qr=ud(e.stateNode.containerInfo),Gi(e,t,r),qr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Fs,Fs=16777216,Gi(e,t,r),Fs=n):Gi(e,t,r));break;default:Gi(e,t,r)}}function CC(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,AC(n,e)}CC(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)OC(e),e=e.sibling}function OC(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ku(e)):Rs(e);break;default:Rs(e)}}function ku(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,AC(n,e)}CC(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ia(8,t,t.return),ku(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,ku(t));break;default:ku(t)}e=e.sibling}}function AC(e,t){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:Ia(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ql(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ht=n;else e:for(r=e;ht!==null;){n=ht;var a=n.sibling,i=n.return;if(yC(n),n===r){ht=null;break e}if(a!==null){a.return=i,ht=a;break e}ht=i}}}var pD={getCacheForType:function(e){var t=Et(Je),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Et(Je).controller.signal}},gD=typeof WeakMap=="function"?WeakMap:Map,pe=0,je=null,oe=null,le=0,ve=0,tr=null,wa=!1,ls=!1,fy=!1,$n=0,He=0,$a=0,vi=0,hy=0,lr=0,$o=0,ol=null,Ft=null,Vp=!1,Tf=0,TC=0,nd=1/0,ad=null,ka=null,at=0,Ra=null,Lo=null,Nn=0,Gp=0,Kp=null,kC=null,sl=0,Yp=null;function hr(){return pe&2&&le!==0?le&-le:Q.T!==null?py():$j()}function RC(){if(lr===0)if(!(le&536870912)||de){var e=Pc;Pc<<=1,!(Pc&3932160)&&(Pc=262144),lr=e}else lr=536870912;return e=gr.current,e!==null&&(e.flags|=32),lr}function Kt(e,t,r){(e===je&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Uo(e,0),_a(e,le,lr,!1)),Xl(e,r),(!(pe&2)||e!==je)&&(e===je&&(!(pe&2)&&(vi|=r),He===4&&_a(e,le,lr,!1)),fn(e))}function NC(e,t,r){if(pe&6)throw Error(B(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Yl(e,t),a=n?bD(e,t):wm(e,t,!0),i=n;do{if(a===0){ls&&!n&&_a(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!vD(r)){a=wm(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var s=e;a=ol;var c=s.current.memoizedState.isDehydrated;if(c&&(Uo(s,o).flags|=256),o=wm(s,o,!1),o!==2){if(fy&&!c){s.errorRecoveryDisabledLanes|=i,vi|=i,a=4;break e}i=Ft,Ft=a,i!==null&&(Ft===null?Ft=i:Ft.push.apply(Ft,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){Uo(e,0),_a(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(B(345));case 4:if((t&4194048)!==t)break;case 6:_a(n,t,lr,!wa);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(B(329))}if((t&62914560)===t&&(a=Tf+300-ur(),10<a)){if(_a(n,t,lr,!wa),yf(n,0,!0)!==0)break e;Nn=t,n.timeoutHandle=JC(Ax.bind(null,n,r,Ft,ad,Vp,t,lr,vi,$o,wa,i,"Throttled",-0,0),a);break e}Ax(n,r,Ft,ad,Vp,t,lr,vi,$o,wa,i,null,-0,0)}}break}while(!0);fn(e)}function Ax(e,t,r,n,a,i,o,s,c,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},EC(t,i,f);var p=(i&62914560)===i?Tf-ur():(i&4194048)===i?TC-ur():0;if(p=t5(f,p),p!==null){Nn=i,e.cancelPendingCommit=p(kx.bind(null,e,t,i,r,n,a,o,s,c,d,f,null,h,m)),_a(e,i,o,!u);return}}kx(e,t,i,r,n,a,o,s,c)}function vD(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _a(e,t,r,n){t&=~hy,t&=~vi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&zj(e,r,t)}function kf(){return pe&6?!0:(rc(0),!1)}function my(){if(oe!==null){if(ve===0)var e=oe.return;else e=oe,On=$i=null,Qv(e),Oo=null,bl=0,e=oe;for(;e!==null;)dC(e.alternate,e),e=e.return;oe=null}}function Uo(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,BD(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Nn=0,my(),je=e,oe=r=kn(e.current,null),le=t,ve=0,tr=null,wa=!1,ls=Yl(e,t),fy=!1,$o=lr=hy=vi=$a=He=0,Ft=ol=null,Vp=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-fr(n),i=1<<a;t|=e[a],n&=~i}return $n=t,_f(),r}function PC(e,t){re=null,Q.H=wl,t===ss||t===jf?(t=ox(),ve=3):t===Vv?(t=ox(),ve=4):ve=t===ly?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tr=t,oe===null&&(He=1,ed(e,Or(t,e.current)))}function MC(){var e=gr.current;return e===null?!0:(le&4194048)===le?kr===null:(le&62914560)===le||le&536870912?e===kr:!1}function DC(){var e=Q.H;return Q.H=wl,e===null?wl:e}function zC(){var e=Q.A;return Q.A=pD,e}function id(){He=4,wa||(le&4194048)!==le&&gr.current!==null||(ls=!0),!($a&134217727)&&!(vi&134217727)||je===null||_a(je,le,lr,!1)}function wm(e,t,r){var n=pe;pe|=2;var a=DC(),i=zC();(je!==e||le!==t)&&(ad=null,Uo(e,t)),t=!1;var o=He;e:do try{if(ve!==0&&oe!==null){var s=oe,c=tr;switch(ve){case 8:my(),o=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(t=!0);var u=ve;if(ve=0,tr=null,xo(e,s,c,u),r&&ls){o=0;break e}break;default:u=ve,ve=0,tr=null,xo(e,s,c,u)}}yD(),o=He;break}catch(d){PC(e,d)}while(!0);return t&&e.shellSuspendCounter++,On=$i=null,pe=n,Q.H=a,Q.A=i,oe===null&&(je=null,le=0,_f()),o}function yD(){for(;oe!==null;)BC(oe)}function bD(e,t){var r=pe;pe|=2;var n=DC(),a=zC();je!==e||le!==t?(ad=null,nd=ur()+500,Uo(e,t)):ls=Yl(e,t);e:do try{if(ve!==0&&oe!==null){t=oe;var i=tr;t:switch(ve){case 1:ve=0,tr=null,xo(e,t,i,1);break;case 2:case 9:if(ix(i)){ve=0,tr=null,Tx(t);break}t=function(){ve!==2&&ve!==9||je!==e||(ve=7),fn(e)},i.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:ix(i)?(ve=0,tr=null,Tx(t)):(ve=0,tr=null,xo(e,t,i,7));break;case 5:var o=null;switch(oe.tag){case 26:o=oe.memoizedState;case 5:case 27:var s=oe;if(o?nO(o):s.stateNode.complete){ve=0,tr=null;var c=s.sibling;if(c!==null)oe=c;else{var u=s.return;u!==null?(oe=u,Rf(u)):oe=null}break t}}ve=0,tr=null,xo(e,t,i,5);break;case 6:ve=0,tr=null,xo(e,t,i,6);break;case 8:my(),He=6;break e;default:throw Error(B(462))}}xD();break}catch(d){PC(e,d)}while(!0);return On=$i=null,Q.H=n,Q.A=a,pe=r,oe!==null?0:(je=null,le=0,_f(),He)}function xD(){for(;oe!==null&&!HP();)BC(oe)}function BC(e){var t=uC(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?Rf(e):oe=t}function Tx(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=_x(r,t,t.pendingProps,t.type,void 0,le);break;case 11:t=_x(r,t,t.pendingProps,t.type.render,t.ref,le);break;case 5:Qv(t);default:dC(r,t),t=oe=dE(t,$n),t=uC(r,t,$n)}e.memoizedProps=e.pendingProps,t===null?Rf(e):oe=t}function xo(e,t,r,n){On=$i=null,Qv(t),Oo=null,bl=0;var a=t.return;try{if(lD(e,a,t,r,le)){He=1,ed(e,Or(r,e.current)),oe=null;return}}catch(i){if(a!==null)throw oe=a,i;He=1,ed(e,Or(r,e.current)),oe=null;return}t.flags&32768?(de||n===1?e=!0:ls||le&536870912?e=!1:(wa=e=!0,(n===2||n===9||n===3||n===6)&&(n=gr.current,n!==null&&n.tag===13&&(n.flags|=16384))),IC(t,e)):Rf(t)}function Rf(e){var t=e;do{if(t.flags&32768){IC(t,wa);return}e=t.return;var r=dD(t.alternate,t,$n);if(r!==null){oe=r;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);He===0&&(He=5)}function IC(e,t){do{var r=fD(e.alternate,e);if(r!==null){r.flags&=32767,oe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=r}while(e!==null);He=6,oe=null}function kx(e,t,r,n,a,i,o,s,c){e.cancelPendingCommit=null;do Nf();while(at!==0);if(pe&6)throw Error(B(327));if(t!==null){if(t===e.current)throw Error(B(177));if(i=t.lanes|t.childLanes,i|=$v,QP(e,r,i,o,s,c),e===je&&(oe=je=null,le=0),Lo=t,Ra=e,Nn=r,Gp=i,Kp=a,kC=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,jD(Hu,function(){return HC(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=Q.T,Q.T=null,a=ge.p,ge.p=2,o=pe,pe|=4;try{hD(e,t,r)}finally{pe=o,ge.p=a,Q.T=n}}at=1,$C(),LC(),UC()}}function $C(){if(at===1){at=0;var e=Ra,t=Lo,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=Q.T,Q.T=null;var n=ge.p;ge.p=2;var a=pe;pe|=4;try{_C(t,e);var i=Qp,o=nE(e.containerInfo),s=i.focusedElem,c=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&rE(s.ownerDocument.documentElement,s)){if(c!==null&&Iv(s)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(d,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=s.textContent.length,x=Math.min(c.start,p),v=c.end===void 0?x:Math.min(c.end,p);!m.extend&&x>v&&(o=v,v=x,x=o);var g=Jb(s,x),y=Jb(s,v);if(g&&y&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var _=f.createRange();_.setStart(g.node,g.offset),m.removeAllRanges(),x>v?(m.addRange(_),m.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),m.addRange(_))}}}}for(f=[],m=s;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var b=f[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}hd=!!Jp,Qp=Jp=null}finally{pe=a,ge.p=n,Q.T=r}}e.current=t,at=2}}function LC(){if(at===2){at=0;var e=Ra,t=Lo,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=Q.T,Q.T=null;var n=ge.p;ge.p=2;var a=pe;pe|=4;try{vC(e,t.alternate,t)}finally{pe=a,ge.p=n,Q.T=r}}at=3}}function UC(){if(at===4||at===3){at=0,WP();var e=Ra,t=Lo,r=Nn,n=kC;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,Lo=Ra=null,qC(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(ka=null),Rv(r),t=t.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Kl,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=Q.T,a=ge.p,ge.p=2,Q.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var s=n[o];i(s.value,{componentStack:s.stack})}}finally{Q.T=t,ge.p=a}}Nn&3&&Nf(),fn(e),a=e.pendingLanes,r&261930&&a&42?e===Yp?sl++:(sl=0,Yp=e):sl=0,rc(0)}}function qC(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ql(t)))}function Nf(){return $C(),LC(),UC(),HC()}function HC(){if(at!==5)return!1;var e=Ra,t=Gp;Gp=0;var r=Rv(Nn),n=Q.T,a=ge.p;try{ge.p=32>r?32:r,Q.T=null,r=Kp,Kp=null;var i=Ra,o=Nn;if(at=0,Lo=Ra=null,Nn=0,pe&6)throw Error(B(331));var s=pe;if(pe|=4,OC(i.current),jC(i,i.current,o,r),pe=s,rc(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Kl,i)}catch{}return!0}finally{ge.p=a,Q.T=n,qC(e,t)}}function Rx(e,t,r){t=Or(r,t),t=qp(e.stateNode,t,2),e=Ta(e,t,2),e!==null&&(Xl(e,2),fn(e))}function be(e,t,r){if(e.tag===3)Rx(e,e,r);else for(;t!==null;){if(t.tag===3){Rx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ka===null||!ka.has(n))){e=Or(r,e),r=aC(2),n=Ta(t,r,2),n!==null&&(iC(r,n,t,e),Xl(n,2),fn(n));break}}t=t.return}}function _m(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gD;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(fy=!0,a.add(r),e=wD.bind(null,e,t,r),t.then(e,e))}function wD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,je===e&&(le&r)===r&&(He===4||He===3&&(le&62914560)===le&&300>ur()-Tf?!(pe&2)&&Uo(e,0):hy|=r,$o===le&&($o=0)),fn(e)}function WC(e,t){t===0&&(t=Dj()),e=Ii(e,t),e!==null&&(Xl(e,t),fn(e))}function _D(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),WC(e,r)}function SD(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(B(314))}n!==null&&n.delete(t),WC(e,r)}function jD(e,t){return Tv(e,t)}var od=null,ao=null,Xp=!1,sd=!1,Sm=!1,Sa=0;function fn(e){e!==ao&&e.next===null&&(ao===null?od=ao=e:ao=ao.next=e),sd=!0,Xp||(Xp=!0,CD())}function rc(e,t){if(!Sm&&sd){Sm=!0;do for(var r=!1,n=od;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,s=n.pingedLanes;i=(1<<31-fr(42|e)+1)-1,i&=a&~(o&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Nx(n,i))}else i=le,i=yf(n,n===je?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Yl(n,i)||(r=!0,Nx(n,i));n=n.next}while(r);Sm=!1}}function ED(){FC()}function FC(){sd=Xp=!1;var e=0;Sa!==0&&zD()&&(e=Sa);for(var t=ur(),r=null,n=od;n!==null;){var a=n.next,i=VC(n,t);i===0?(n.next=null,r===null?od=a:r.next=a,a===null&&(ao=r)):(r=n,(e!==0||i&3)&&(sd=!0)),n=a}at!==0&&at!==5||rc(e),Sa!==0&&(Sa=0)}function VC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-fr(i),s=1<<o,c=a[o];c===-1?(!(s&r)||s&n)&&(a[o]=JP(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}if(t=je,r=le,r=yf(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Zh(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Yl(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&Zh(n),Rv(r)){case 2:case 8:r=Pj;break;case 32:r=Hu;break;case 268435456:r=Mj;break;default:r=Hu}return n=GC.bind(null,e),r=Tv(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&Zh(n),e.callbackPriority=2,e.callbackNode=null,2}function GC(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Nf()&&e.callbackNode!==r)return null;var n=le;return n=yf(e,e===je?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(NC(e,n,t),VC(e,ur()),e.callbackNode!=null&&e.callbackNode===r?GC.bind(null,e):null)}function Nx(e,t){if(Nf())return null;NC(e,t,!0)}function CD(){ID(function(){pe&6?Tv(Nj,ED):FC()})}function py(){if(Sa===0){var e=zo;e===0&&(e=Nc,Nc<<=1,!(Nc&261888)&&(Nc=256)),Sa=e}return Sa}function Px(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wu(""+e)}function Mx(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function OD(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=Px((a[Yt]||null).action),o=n.submitter;o&&(t=(t=o[Yt]||null)?Px(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var s=new bf("action","action",null,n,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Sa!==0){var c=o?Mx(a,o):new FormData(a);Lp(r,{pending:!0,data:c,method:a.method,action:i},null,c)}}else typeof i=="function"&&(s.preventDefault(),c=o?Mx(a,o):new FormData(a),Lp(r,{pending:!0,data:c,method:a.method,action:i},i,c))},currentTarget:a}]})}}for(var jm=0;jm<Ap.length;jm++){var Em=Ap[jm],AD=Em.toLowerCase(),TD=Em[0].toUpperCase()+Em.slice(1);Zr(AD,"on"+TD)}Zr(iE,"onAnimationEnd");Zr(oE,"onAnimationIteration");Zr(sE,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(FM,"onTransitionRun");Zr(VM,"onTransitionStart");Zr(GM,"onTransitionCancel");Zr(lE,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function KC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Fu(d)}a.currentTarget=null,i=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Fu(d)}a.currentTarget=null,i=c}}}}function ie(e,t){var r=t[xp];r===void 0&&(r=t[xp]=new Set);var n=e+"__bubble";r.has(n)||(YC(t,e,2,!1),r.add(n))}function Cm(e,t,r){var n=0;t&&(n|=4),YC(r,e,n,t)}var qc="_reactListening"+Math.random().toString(36).slice(2);function gy(e){if(!e[qc]){e[qc]=!0,Lj.forEach(function(r){r!=="selectionchange"&&(kD.has(r)||Cm(r,!1,e),Cm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qc]||(t[qc]=!0,Cm("selectionchange",!1,t))}}function YC(e,t,r,n){switch(lO(t)){case 2:var a=a5;break;case 8:a=i5;break;default:a=xy}r=a.bind(null,t,r,e),a=void 0,!Ep||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Om(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;s!==null;){if(o=uo(s),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){n=i=o;continue e}s=s.parentNode}}n=n.return}Kj(function(){var u=i,d=Mv(r),f=[];e:{var h=cE.get(e);if(h!==void 0){var m=bf,p=e;switch(e){case"keypress":if(Su(r)===0)break e;case"keydown":case"keyup":m=SM;break;case"focusin":p="focus",m=rm;break;case"focusout":p="blur",m=rm;break;case"beforeblur":case"afterblur":m=rm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CM;break;case iE:case oE:case sE:m=mM;break;case lE:m=AM;break;case"scroll":case"scrollend":m=cM;break;case"wheel":m=kM;break;case"copy":case"cut":case"paste":m=gM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wb;break;case"toggle":case"beforetoggle":m=NM}var x=(t&4)!==0,v=!x&&(e==="scroll"||e==="scrollend"),g=x?h!==null?h+"Capture":null:h;x=[];for(var y=u,_;y!==null;){var b=y;if(_=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||_===null||g===null||(b=ml(y,g),b!=null&&x.push(Sl(y,b,_))),v)break;y=y.return}0<x.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==jp&&(p=r.relatedTarget||r.fromElement)&&(uo(p)||p[as]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?uo(p):null,p!==null&&(v=Gl(p),x=p.tag,p!==v||x!==5&&x!==27&&x!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=qb,b="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Wb,b="onPointerLeave",g="onPointerEnter",y="pointer"),v=m==null?h:Hs(m),_=p==null?h:Hs(p),h=new x(b,y+"leave",m,r,d),h.target=v,h.relatedTarget=_,b=null,uo(d)===u&&(x=new x(g,y+"enter",p,r,d),x.target=_,x.relatedTarget=v,b=x),v=b,m&&p)t:{for(x=RD,g=m,y=p,_=0,b=g;b;b=x(b))_++;b=0;for(var S=y;S;S=x(S))b++;for(;0<_-b;)g=x(g),_--;for(;0<b-_;)y=x(y),b--;for(;_--;){if(g===y||y!==null&&g===y.alternate){x=g;break t}g=x(g),y=x(y)}x=null}else x=null;m!==null&&Dx(f,h,m,x,!1),p!==null&&v!==null&&Dx(f,v,p,x,!0)}}e:{if(h=u?Hs(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=Kb;else if(Gb(h))if(eE)j=qM;else{j=LM;var E=$M}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Pv(u.elementType)&&(j=Kb):j=UM;if(j&&(j=j(e,u))){Qj(f,j,r,d);break e}E&&E(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Sp(h,"number",h.value)}switch(E=u?Hs(u):window,e){case"focusin":(Gb(E)||E.contentEditable==="true")&&(mo=E,Cp=u,Js=null);break;case"focusout":Js=Cp=mo=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,Qb(f,r,d);break;case"selectionchange":if(WM)break;case"keydown":case"keyup":Qb(f,r,d)}var C;if(Bv)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ho?Zj(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Xj&&r.locale!=="ko"&&(ho||A!=="onCompositionStart"?A==="onCompositionEnd"&&ho&&(C=Yj()):(xa=d,Dv="value"in xa?xa.value:xa.textContent,ho=!0)),E=ld(u,A),0<E.length&&(A=new Hb(A,e,null,r,d),f.push({event:A,listeners:E}),C?A.data=C:(C=Jj(r),C!==null&&(A.data=C)))),(C=MM?DM(e,r):zM(e,r))&&(A=ld(u,"onBeforeInput"),0<A.length&&(E=new Hb("onBeforeInput","beforeinput",null,r,d),f.push({event:E,listeners:A}),E.data=C)),OD(f,e,u,r,d)}KC(f,t)})}function Sl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ld(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=ml(e,r),a!=null&&n.unshift(Sl(e,a,i)),a=ml(e,t),a!=null&&n.push(Sl(e,a,i))),e.tag===3)return n;e=e.return}return[]}function RD(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(s=s.tag,c!==null&&c===n)break;s!==5&&s!==26&&s!==27||u===null||(c=u,a?(u=ml(r,i),u!=null&&o.unshift(Sl(r,u,c))):a||(u=ml(r,i),u!=null&&o.push(Sl(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ND=/\r\n?/g,PD=/\u0000|\uFFFD/g;function zx(e){return(typeof e=="string"?e:""+e).replace(ND,`
`).replace(PD,"")}function XC(e,t){return t=zx(t),zx(e)===t}function we(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Do(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Do(e,""+n);break;case"className":Dc(e,"class",n);break;case"tabIndex":Dc(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Dc(e,r,n);break;case"style":Gj(e,n,i);break;case"data":if(t!=="object"){Dc(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=wu(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&we(e,t,"name",a.name,a,null),we(e,t,"formEncType",a.formEncType,a,null),we(e,t,"formMethod",a.formMethod,a,null),we(e,t,"formTarget",a.formTarget,a,null)):(we(e,t,"encType",a.encType,a,null),we(e,t,"method",a.method,a,null),we(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=wu(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=Cn);break;case"onScroll":n!=null&&ie("scroll",e);break;case"onScrollEnd":n!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(B(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=wu(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ie("beforetoggle",e),ie("toggle",e),xu(e,"popover",n);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":xu(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=sM.get(r)||r,xu(e,r,n))}}function Zp(e,t,r,n,a,i){switch(r){case"style":Gj(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(B(60));e.innerHTML=r}}break;case"children":typeof n=="string"?Do(e,n):(typeof n=="number"||typeof n=="bigint")&&Do(e,""+n);break;case"onScroll":n!=null&&ie("scroll",e);break;case"onScrollEnd":n!=null&&ie("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uj.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[Yt]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):xu(e,r,n)}}}function Ot(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:we(e,t,i,o,r,null)}}a&&we(e,t,"srcSet",r.srcSet,r,null),n&&we(e,t,"src",r.src,r,null);return;case"input":ie("invalid",e);var s=i=o=a=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(B(137,t));break;default:we(e,t,n,d,r,null)}}Wj(e,i,s,c,u,o,a,!1);return;case"select":ie("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(s=r[a],s!=null))switch(a){case"value":i=s;break;case"defaultValue":o=s;break;case"multiple":n=s;default:we(e,t,a,s,r,null)}t=i,r=o,e.multiple=!!n,t!=null?jo(e,!!n,t,!1):r!=null&&jo(e,!!n,r,!0);return;case"textarea":ie("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(s=r[o],s!=null))switch(o){case"value":n=s;break;case"defaultValue":a=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(B(91));break;default:we(e,t,o,s,r,null)}Vj(e,n,a,i);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:we(e,t,c,n,r,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(n=0;n<_l.length;n++)ie(_l[n],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:we(e,t,u,n,r,null)}return;default:if(Pv(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&Zp(e,t,d,n,r,void 0));return}}for(s in r)r.hasOwnProperty(s)&&(n=r[s],n!=null&&we(e,t,s,n,r,null))}function MD(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,s=null,c=null,u=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(m)||we(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(B(137,t));break;default:m!==f&&we(e,t,h,m,n,f)}}_p(e,o,s,c,u,d,i,a);return;case"select":m=o=s=h=null;for(i in r)if(c=r[i],r.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":m=c;default:n.hasOwnProperty(i)||we(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(i!=null||c!=null))switch(a){case"value":h=i;break;case"defaultValue":s=i;break;case"multiple":o=i;default:i!==c&&we(e,t,a,i,n,c)}t=s,r=o,n=m,h!=null?jo(e,!!r,h,!1):!!n!=!!r&&(t!=null?jo(e,!!r,t,!0):jo(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(s in r)if(a=r[s],r.hasOwnProperty(s)&&a!=null&&!n.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:we(e,t,s,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(B(91));break;default:a!==i&&we(e,t,o,a,n,i)}Fj(e,h,m);return;case"option":for(var p in r)if(h=r[p],r.hasOwnProperty(p)&&h!=null&&!n.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:we(e,t,p,null,n,h)}for(c in n)if(h=n[c],m=r[c],n.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:we(e,t,c,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)h=r[x],r.hasOwnProperty(x)&&h!=null&&!n.hasOwnProperty(x)&&we(e,t,x,null,n,h);for(u in n)if(h=n[u],m=r[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(B(137,t));break;default:we(e,t,u,h,n,m)}return;default:if(Pv(t)){for(var v in r)h=r[v],r.hasOwnProperty(v)&&h!==void 0&&!n.hasOwnProperty(v)&&Zp(e,t,v,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Zp(e,t,d,h,n,m);return}}for(var g in r)h=r[g],r.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g)&&we(e,t,g,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||we(e,t,f,h,n,m)}function Bx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DD(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,s=a.duration;if(i&&s&&Bx(o)){for(o=0,s=a.responseEnd,n+=1;n<r.length;n++){var c=r[n],u=c.startTime;if(u>s)break;var d=c.transferSize,f=c.initiatorType;d&&Bx(f)&&(c=c.responseEnd,o+=d*(c<s?1:(s-u)/(c-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jp=null,Qp=null;function cd(e){return e.nodeType===9?e:e.ownerDocument}function Ix(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZC(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function eg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Am=null;function zD(){var e=window.event;return e&&e.type==="popstate"?e===Am?!1:(Am=e,!0):(Am=null,!1)}var JC=typeof setTimeout=="function"?setTimeout:void 0,BD=typeof clearTimeout=="function"?clearTimeout:void 0,$x=typeof Promise=="function"?Promise:void 0,ID=typeof queueMicrotask=="function"?queueMicrotask:typeof $x<"u"?function(e){return $x.resolve(null).then(e).catch($D)}:JC;function $D(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function Lx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),Ho(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")ll(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ll(r);for(var i=r.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[Zl]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&ll(e.ownerDocument.body);r=a}while(r);Ho(t)}function Ux(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function tg(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tg(r),Nv(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function LD(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Zl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Rr(e.nextSibling),e===null)break}return null}function UD(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Rr(e.nextSibling),e===null))return null;return e}function QC(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Rr(e.nextSibling),e===null))return null;return e}function rg(e){return e.data==="$?"||e.data==="$~"}function ng(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qD(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ag=null;function qx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Rr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Hx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function eO(e,t,r){switch(t=cd(r),e){case"html":if(e=t.documentElement,!e)throw Error(B(452));return e;case"head":if(e=t.head,!e)throw Error(B(453));return e;case"body":if(e=t.body,!e)throw Error(B(454));return e;default:throw Error(B(451))}}function ll(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Nv(e)}var Nr=new Map,Wx=new Set;function ud(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=ge.d;ge.d={f:HD,r:WD,D:FD,C:VD,L:GD,m:KD,X:XD,S:YD,M:ZD};function HD(){var e=Xn.f(),t=kf();return e||t}function WD(e){var t=is(e);t!==null&&t.tag===5&&t.type==="form"?GE(t):Xn.r(e)}var cs=typeof document>"u"?null:document;function tO(e,t,r){var n=cs;if(n&&typeof t=="string"&&t){var a=Cr(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Wx.has(a)||(Wx.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Ot(t,"link",e),mt(t),n.head.appendChild(t)))}}function FD(e){Xn.D(e),tO("dns-prefetch",e,null)}function VD(e,t){Xn.C(e,t),tO("preconnect",e,t)}function GD(e,t,r){Xn.L(e,t,r);var n=cs;if(n&&e&&t){var a='link[rel="preload"][as="'+Cr(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Cr(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Cr(r.imageSizes)+'"]')):a+='[href="'+Cr(e)+'"]';var i=a;switch(t){case"style":i=qo(e);break;case"script":i=us(e)}Nr.has(i)||(e=Me({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Nr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(nc(i))||t==="script"&&n.querySelector(ac(i))||(t=n.createElement("link"),Ot(t,"link",e),mt(t),n.head.appendChild(t)))}}function KD(e,t){Xn.m(e,t);var r=cs;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Cr(n)+'"][href="'+Cr(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=us(e)}if(!Nr.has(i)&&(e=Me({rel:"modulepreload",href:e},t),Nr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ac(i)))return}n=r.createElement("link"),Ot(n,"link",e),mt(n),r.head.appendChild(n)}}}function YD(e,t,r){Xn.S(e,t,r);var n=cs;if(n&&e){var a=So(n).hoistableStyles,i=qo(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(nc(i)))s.loading=5;else{e=Me({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Nr.get(i))&&vy(e,r);var c=o=n.createElement("link");mt(c),Ot(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Ru(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}}function XD(e,t){Xn.X(e,t);var r=cs;if(r&&e){var n=So(r).hoistableScripts,a=us(e),i=n.get(a);i||(i=r.querySelector(ac(a)),i||(e=Me({src:e,async:!0},t),(t=Nr.get(a))&&yy(e,t),i=r.createElement("script"),mt(i),Ot(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function ZD(e,t){Xn.M(e,t);var r=cs;if(r&&e){var n=So(r).hoistableScripts,a=us(e),i=n.get(a);i||(i=r.querySelector(ac(a)),i||(e=Me({src:e,async:!0,type:"module"},t),(t=Nr.get(a))&&yy(e,t),i=r.createElement("script"),mt(i),Ot(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Fx(e,t,r,n){var a=(a=Ca.current)?ud(a):null;if(!a)throw Error(B(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=qo(r.href),r=So(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=qo(r.href);var i=So(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(nc(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Nr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nr.set(e,r),i||JD(a,e,r,o.state))),t&&n===null)throw Error(B(528,""));return o}if(t&&n!==null)throw Error(B(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=us(r),r=So(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,e))}}function qo(e){return'href="'+Cr(e)+'"'}function nc(e){return'link[rel="stylesheet"]['+e+"]"}function rO(e){return Me({},e,{"data-precedence":e.precedence,precedence:null})}function JD(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ot(t,"link",r),mt(t),e.head.appendChild(t))}function us(e){return'[src="'+Cr(e)+'"]'}function ac(e){return"script[async]"+e}function Vx(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Cr(r.href)+'"]');if(n)return t.instance=n,mt(n),n;var a=Me({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),mt(n),Ot(n,"style",a),Ru(n,r.precedence,e),t.instance=n;case"stylesheet":a=qo(r.href);var i=e.querySelector(nc(a));if(i)return t.state.loading|=4,t.instance=i,mt(i),i;n=rO(r),(a=Nr.get(a))&&vy(n,a),i=(e.ownerDocument||e).createElement("link"),mt(i);var o=i;return o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Ot(i,"link",n),t.state.loading|=4,Ru(i,r.precedence,e),t.instance=i;case"script":return i=us(r.src),(a=e.querySelector(ac(i)))?(t.instance=a,mt(a),a):(n=r,(a=Nr.get(i))&&(n=Me({},r),yy(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),mt(a),Ot(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(B(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Ru(n,r.precedence,e));return t.instance}function Ru(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function vy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Nu=null;function Gx(e,t,r){if(Nu===null){var n=new Map,a=Nu=new Map;a.set(r,n)}else a=Nu,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Zl]||i[St]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var s=n.get(o);s?s.push(i):n.set(o,[i])}}return n}function Kx(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function QD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function nO(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function e5(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=qo(n.href),i=t.querySelector(nc(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=dd.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,mt(i);return}i=t.ownerDocument||t,n=rO(n),(a=Nr.get(a))&&vy(n,a),i=i.createElement("link"),mt(i);var o=i;o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Ot(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=dd.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Tm=0;function t5(e,t){return e.stylesheets&&e.count===0&&Pu(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&Pu(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Tm===0&&(Tm=62500*DD());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pu(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Tm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function dd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fd=null;function Pu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fd=new Map,t.forEach(r5,e),fd=null,dd.call(e))}function r5(e,t){if(!(t.state.loading&4)){var r=fd.get(e);if(r)var n=r.get(null);else{r=new Map,fd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=dd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var jl={$$typeof:En,Provider:null,Consumer:null,_currentValue:hi,_currentValue2:hi,_threadCount:0};function n5(e,t,r,n,a,i,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.hiddenUpdates=Jh(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function aO(e,t,r,n,a,i,o,s,c,u,d,f){return e=new n5(e,t,r,o,c,u,d,f,s),t=1,i===!0&&(t|=24),i=ar(3,null,null,t),e.current=i,i.stateNode=e,t=Wv(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},Gv(i),e}function iO(e){return e?(e=vo,e):vo}function oO(e,t,r,n,a,i){a=iO(a),n.context===null?n.context=a:n.pendingContext=a,n=Aa(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=Ta(e,n,t),r!==null&&(Kt(r,e,t),el(r,e,t))}function Yx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function by(e,t){Yx(e,t),(e=e.alternate)&&Yx(e,t)}function sO(e){if(e.tag===13||e.tag===31){var t=Ii(e,67108864);t!==null&&Kt(t,e,67108864),by(e,67108864)}}function Xx(e){if(e.tag===13||e.tag===31){var t=hr();t=kv(t);var r=Ii(e,t);r!==null&&Kt(r,e,t),by(e,t)}}var hd=!0;function a5(e,t,r,n){var a=Q.T;Q.T=null;var i=ge.p;try{ge.p=2,xy(e,t,r,n)}finally{ge.p=i,Q.T=a}}function i5(e,t,r,n){var a=Q.T;Q.T=null;var i=ge.p;try{ge.p=8,xy(e,t,r,n)}finally{ge.p=i,Q.T=a}}function xy(e,t,r,n){if(hd){var a=ig(n);if(a===null)Om(e,t,n,md,r),Zx(e,n);else if(s5(a,e,t,r,n))n.stopPropagation();else if(Zx(e,n),t&4&&-1<o5.indexOf(e)){for(;a!==null;){var i=is(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Qa(i.pendingLanes);if(o!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-fr(o);s.entanglements[1]|=c,o&=~c}fn(i),!(pe&6)&&(nd=ur()+500,rc(0))}}break;case 31:case 13:s=Ii(i,2),s!==null&&Kt(s,i,2),kf(),by(i,2)}if(i=ig(n),i===null&&Om(e,t,n,md,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Om(e,t,n,null,r)}}function ig(e){return e=Mv(e),wy(e)}var md=null;function wy(e){if(md=null,e=uo(e),e!==null){var t=Gl(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=Oj(t),e!==null)return e;e=null}else if(r===31){if(e=Aj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return md=e,null}function lO(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(FP()){case Nj:return 2;case Pj:return 8;case Hu:case VP:return 32;case Mj:return 268435456;default:return 32}default:return 32}}var og=!1,Na=null,Pa=null,Ma=null,El=new Map,Cl=new Map,ga=[],o5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zx(e,t){switch(e){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function Ns(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=is(t),t!==null&&sO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function s5(e,t,r,n,a){switch(t){case"focusin":return Na=Ns(Na,e,t,r,n,a),!0;case"dragenter":return Pa=Ns(Pa,e,t,r,n,a),!0;case"mouseover":return Ma=Ns(Ma,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return El.set(i,Ns(El.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Cl.set(i,Ns(Cl.get(i)||null,e,t,r,n,a)),!0}return!1}function cO(e){var t=uo(e.target);if(t!==null){var r=Gl(t);if(r!==null){if(t=r.tag,t===13){if(t=Oj(r),t!==null){e.blockedOn=t,Db(e.priority,function(){Xx(r)});return}}else if(t===31){if(t=Aj(r),t!==null){e.blockedOn=t,Db(e.priority,function(){Xx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ig(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jp=n,r.target.dispatchEvent(n),jp=null}else return t=is(r),t!==null&&sO(t),e.blockedOn=r,!1;t.shift()}return!0}function Jx(e,t,r){Mu(e)&&r.delete(t)}function l5(){og=!1,Na!==null&&Mu(Na)&&(Na=null),Pa!==null&&Mu(Pa)&&(Pa=null),Ma!==null&&Mu(Ma)&&(Ma=null),El.forEach(Jx),Cl.forEach(Jx)}function Hc(e,t){e.blockedOn===t&&(e.blockedOn=null,og||(og=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,l5)))}var Wc=null;function Qx(e){Wc!==e&&(Wc=e,it.unstable_scheduleCallback(it.unstable_NormalPriority,function(){Wc===e&&(Wc=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(wy(n||r)===null)continue;break}var i=is(r);i!==null&&(e.splice(t,3),t-=3,Lp(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Ho(e){function t(c){return Hc(c,e)}Na!==null&&Hc(Na,e),Pa!==null&&Hc(Pa,e),Ma!==null&&Hc(Ma,e),El.forEach(t),Cl.forEach(t);for(var r=0;r<ga.length;r++){var n=ga[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ga.length&&(r=ga[0],r.blockedOn===null);)cO(r),r.blockedOn===null&&ga.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[Yt]||null;if(typeof i=="function")o||Qx(r);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Yt]||null)s=o.formAction;else if(wy(a)!==null)continue}else s=o.action;typeof s=="function"?r[n+1]=s:(r.splice(n,3),n-=3),Qx(r)}}}function uO(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function _y(e){this._internalRoot=e}Pf.prototype.render=_y.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));var r=t.current,n=hr();oO(r,n,e,t,null,null)};Pf.prototype.unmount=_y.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oO(e.current,2,null,e,null,null),kf(),t[as]=null}};function Pf(e){this._internalRoot=e}Pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=$j();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ga.length&&t!==0&&t<ga[r].priority;r++);ga.splice(r,0,e),r===0&&cO(e)}};var e1=Ej.version;if(e1!=="19.2.3")throw Error(B(527,e1,"19.2.3"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=IP(t),e=e!==null?Tj(e):null,e=e===null?null:e.stateNode,e};var c5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Kl=Fc.inject(c5),dr=Fc}catch{}}gf.createRoot=function(e,t){if(!Cj(e))throw Error(B(299));var r=!1,n="",a=tC,i=rC,o=nC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=aO(e,1,!1,null,null,r,n,null,a,i,o,uO),e[as]=t.current,gy(e),new _y(t)};gf.hydrateRoot=function(e,t,r){if(!Cj(e))throw Error(B(299));var n=!1,a="",i=tC,o=rC,s=nC,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(s=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=aO(e,1,!0,t,r??null,n,a,c,i,o,s,uO),t.context=iO(null),r=t.current,n=hr(),n=kv(n),a=Aa(n),a.callback=null,Ta(r,a,n),r=n,t.current.lanes=r,Xl(t,r),fn(t),e[as]=t.current,gy(e),new Pf(t)};gf.version="19.2.3";function dO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dO)}catch(e){console.error(e)}}dO(),bj.exports=gf;var u5=bj.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ol.apply(this,arguments)}var ja;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ja||(ja={}));const t1="popstate";function d5(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return sg("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:fO(a)}return h5(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f5(){return Math.random().toString(36).substr(2,8)}function r1(e,t){return{usr:e.state,key:e.key,idx:t}}function sg(e,t,r,n){return r===void 0&&(r=null),Ol({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ds(t):t,{state:r,key:t&&t.key||n||f5()})}function fO(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ds(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h5(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=ja.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ol({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=ja.Pop;let v=d(),g=v==null?null:v-u;u=v,c&&c({action:s,location:x.location,delta:g})}function h(v,g){s=ja.Push;let y=sg(x.location,v,g);u=d()+1;let _=r1(y,u),b=x.createHref(y);try{o.pushState(_,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(b)}i&&c&&c({action:s,location:x.location,delta:1})}function m(v,g){s=ja.Replace;let y=sg(x.location,v,g);u=d();let _=r1(y,u),b=x.createHref(y);o.replaceState(_,"",b),i&&c&&c({action:s,location:x.location,delta:0})}function p(v){let g=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:fO(v);return y=y.replace(/ $/,"%20"),et(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let x={get action(){return s},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(t1,f),c=v,()=>{a.removeEventListener(t1,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let g=p(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(v){return o.go(v)}};return x}var n1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(n1||(n1={}));function m5(e,t,r){return r===void 0&&(r="/"),p5(e,t,r)}function p5(e,t,r,n){let a=typeof t=="string"?ds(t):t,i=pO(a.pathname||"/",r);if(i==null)return null;let o=hO(e);g5(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=A5(i);s=E5(o[c],u)}return s}function hO(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let c={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=yi([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hO(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:S5(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let c of mO(i.path))a(i,o,c)}),t}function mO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=mO(n.join("/")),s=[];return s.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function g5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:j5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const v5=/^:[\w-]+$/,y5=3,b5=2,x5=1,w5=10,_5=-2,a1=e=>e==="*";function S5(e,t){let r=e.split("/"),n=r.length;return r.some(a1)&&(n+=_5),t&&(n+=b5),r.filter(a=>!a1(a)).reduce((a,i)=>a+(v5.test(i)?y5:i===""?x5:w5),n)}function j5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function E5(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=C5({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:yi([i,f.pathname]),pathnameBase:P5(yi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=yi([i,f.pathnameBase]))}return o}function C5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=O5(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=s[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=s[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function O5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Sy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function A5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pO(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const T5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k5=e=>T5.test(e);function R5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ds(e):e,i;if(r)if(k5(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Sy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=i1(r.substring(1),"/"):i=i1(r,t)}else i=t;return{pathname:i,search:M5(n),hash:D5(a)}}function i1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function km(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gO(e,t){let r=N5(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function vO(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ds(e):(a=Ol({},e),et(!a.pathname||!a.pathname.includes("?"),km("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),km("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),km("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let c=R5(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const yi=e=>e.join("/").replace(/\/\/+/g,"/"),P5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function z5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yO=["post","put","patch","delete"];new Set(yO);const B5=["get",...yO];new Set(B5);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}const jy=w.createContext(null),I5=w.createContext(null),ic=w.createContext(null),Mf=w.createContext(null),Wa=w.createContext({outlet:null,matches:[],isDataRoute:!1}),bO=w.createContext(null);function oc(){return w.useContext(Mf)!=null}function Df(){return oc()||et(!1),w.useContext(Mf).location}function xO(e){w.useContext(ic).static||w.useLayoutEffect(e)}function fs(){let{isDataRoute:e}=w.useContext(Wa);return e?Q5():$5()}function $5(){oc()||et(!1);let e=w.useContext(jy),{basename:t,future:r,navigator:n}=w.useContext(ic),{matches:a}=w.useContext(Wa),{pathname:i}=Df(),o=JSON.stringify(gO(a,r.v7_relativeSplatPath)),s=w.useRef(!1);return xO(()=>{s.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=vO(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const L5=w.createContext(null);function U5(e){let t=w.useContext(Wa).outlet;return t&&w.createElement(L5.Provider,{value:e},t)}function q5(e,t){return H5(e,t)}function H5(e,t,r,n){oc()||et(!1);let{navigator:a}=w.useContext(ic),{matches:i}=w.useContext(Wa),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Df(),d;if(t){var f;let v=typeof t=="string"?ds(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||et(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=m5(e,{pathname:m}),x=K5(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:yi([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:yi([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&x?w.createElement(Mf.Provider,{value:{location:Al({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ja.Pop}},x):x}function W5(){let e=J5(),t=z5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const F5=w.createElement(W5,null);class V5 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Wa.Provider,{value:this.props.routeContext},w.createElement(bO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G5(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(jy);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Wa.Provider,{value:t},n)}function K5(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,p=!1,x=null,v=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||F5,c&&(u<0&&h===0?(ez("route-fallback"),p=!0,v=null):u===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),y=()=>{let _;return m?_=x:p?_=v:f.route.Component?_=w.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,w.createElement(G5,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(V5,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var wO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wO||{}),_O=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_O||{});function Y5(e){let t=w.useContext(jy);return t||et(!1),t}function X5(e){let t=w.useContext(I5);return t||et(!1),t}function Z5(e){let t=w.useContext(Wa);return t||et(!1),t}function SO(e){let t=Z5(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function J5(){var e;let t=w.useContext(bO),r=X5(),n=SO();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Q5(){let{router:e}=Y5(wO.UseNavigateStable),t=SO(_O.UseNavigateStable),r=w.useRef(!1);return xO(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Al({fromRouteId:t},i)))},[e,t])}const o1={};function ez(e,t,r){o1[e]||(o1[e]=!0)}function tz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jO(e){let{to:t,replace:r,state:n,relative:a}=e;oc()||et(!1);let{future:i,static:o}=w.useContext(ic),{matches:s}=w.useContext(Wa),{pathname:c}=Df(),u=fs(),d=vO(t,gO(s,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function rz(e){return U5(e.context)}function yn(e){et(!1)}function nz(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ja.Pop,navigator:i,static:o=!1,future:s}=e;oc()&&et(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:o,future:Al({v7_relativeSplatPath:!1},s)}),[c,s,i,o]);typeof n=="string"&&(n=ds(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,x=w.useMemo(()=>{let v=pO(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return x==null?null:w.createElement(ic.Provider,{value:u},w.createElement(Mf.Provider,{children:r,value:x}))}function az(e){let{children:t,location:r}=e;return q5(lg(t),r)}new Promise(()=>{});function lg(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,lg(n.props.children,i));return}n.type!==yn&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lg(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function iz(e,t){let r=cg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const oz="6";try{window.__reactRouterVersion=oz}catch{}const sz="startTransition",s1=yj[sz];function lz(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=d5({window:a,v5Compat:!0}));let o=i.current,[s,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&s1?s1(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>tz(n),[n]),w.createElement(nz,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}var l1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(l1||(l1={}));var c1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(c1||(c1={}));function EO(e){let t=w.useRef(cg(e)),r=w.useRef(!1),n=Df(),a=w.useMemo(()=>iz(n.search,r.current?null:t.current),[n.search]),i=fs(),o=w.useCallback((s,c)=>{const u=cg(typeof s=="function"?s(a):s);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var ug=function(e,t){return ug=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ug(e,t)};function CO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ug(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var pd=function(){return pd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pd.apply(this,arguments)};function hs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function OO(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function AO(e,t){return function(r,n){t(r,n,e)}}function TO(e,t,r,n,a,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var p={};for(var x in n)p[x]=x==="access"?{}:n[x];for(var x in n.access)p.access[x]=n.access[x];p.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var v=(0,r[m])(s==="accessor"?{get:d.get,set:d.set}:d[c],p);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=o(v.get))&&(d.get=f),(f=o(v.set))&&(d.set=f),(f=o(v.init))&&a.unshift(f)}else(f=o(v))&&(s==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function kO(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function RO(e){return typeof e=="symbol"?e:"".concat(e)}function NO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function PO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function V(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function MO(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var zf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function DO(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zf(t,e,r)}function gd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ey(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function zO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ey(arguments[t]));return e}function BO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function IO(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Wo(e){return this instanceof Wo?(this.v=e,this):new Wo(e)}function $O(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(p){return Promise.resolve(p).then(m,f)}}function s(m,p){n[m]&&(a[m]=function(x){return new Promise(function(v,g){i.push([m,x,v,g])>1||c(m,x)})},p&&(a[m]=p(a[m])))}function c(m,p){try{u(n[m](p))}catch(x){h(i[0][3],x)}}function u(m){m.value instanceof Wo?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,p){m(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function LO(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Wo(e[a](o)),done:!1}:i?i(o):o}:i}}function UO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof gd=="function"?gd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,c){o=e[i](o),a(s,c,o.done,o.value)})}}function a(i,o,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},o)}}function qO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var cz=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},dg=function(e){return dg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},dg(e)};function HO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=dg(e),n=0;n<r.length;n++)r[n]!=="default"&&zf(t,e,r[n]);return cz(t,e),t}function WO(e){return e&&e.__esModule?e:{default:e}}function FO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function VO(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function GO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function KO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var uz=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function YO(e){function t(i){e.error=e.hasError?new uz(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function XO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const dz={__extends:CO,__assign:pd,__rest:hs,__decorate:OO,__param:AO,__esDecorate:TO,__runInitializers:kO,__propKey:RO,__setFunctionName:NO,__metadata:PO,__awaiter:V,__generator:MO,__createBinding:zf,__exportStar:DO,__values:gd,__read:Ey,__spread:zO,__spreadArrays:BO,__spreadArray:IO,__await:Wo,__asyncGenerator:$O,__asyncDelegator:LO,__asyncValues:UO,__makeTemplateObject:qO,__importStar:HO,__importDefault:WO,__classPrivateFieldGet:FO,__classPrivateFieldSet:VO,__classPrivateFieldIn:GO,__addDisposableResource:KO,__disposeResources:YO,__rewriteRelativeImportExtension:XO},fz=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:KO,get __assign(){return pd},__asyncDelegator:LO,__asyncGenerator:$O,__asyncValues:UO,__await:Wo,__awaiter:V,__classPrivateFieldGet:FO,__classPrivateFieldIn:GO,__classPrivateFieldSet:VO,__createBinding:zf,__decorate:OO,__disposeResources:YO,__esDecorate:TO,__exportStar:DO,__extends:CO,__generator:MO,__importDefault:WO,__importStar:HO,__makeTemplateObject:qO,__metadata:PO,__param:AO,__propKey:RO,__read:Ey,__rest:hs,__rewriteRelativeImportExtension:XO,__runInitializers:kO,__setFunctionName:NO,__spread:zO,__spreadArray:IO,__spreadArrays:BO,__values:gd,default:dz},Symbol.toStringTag,{value:"Module"})),hz="modulepreload",mz=function(e){return"/"+e},u1={},ms=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=mz(c),c in u1)return;u1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":hz,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},pz=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Cy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class d1 extends Cy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class f1 extends Cy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class h1 extends Cy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fg||(fg={}));class gz{constructor(t,{headers:r={},customFetch:n,region:a=fg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=pz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return V(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:s,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(u["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(u["Content-Type"]="application/json",h=JSON.stringify(s)):h=s;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(g=>{throw g.name==="AbortError"?g:new d1(g)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new f1(m);if(!m.ok)throw new h1(m);let x=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return x==="application/json"?v=yield m.json():x==="application/octet-stream"||x==="application/pdf"?v=yield m.blob():x==="text/event-stream"?v=m:x==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new d1(i)}:{data:null,error:i,response:i instanceof h1||i instanceof f1?i.context:void 0}}})}}var Pt={};const ps=lj(fz);var Vc={},Gc={},Kc={},Yc={},Xc={},vz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fo=vz();const yz=Fo.fetch,ZO=Fo.fetch.bind(Fo),JO=Fo.Headers,bz=Fo.Request,xz=Fo.Response,Li=Object.freeze(Object.defineProperty({__proto__:null,Headers:JO,Request:bz,Response:xz,default:ZO,fetch:yz},Symbol.toStringTag,{value:"Module"})),wz=lj(Li);var Zc={},m1;function QO(){if(m1)return Zc;m1=1,Object.defineProperty(Zc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Zc.default=e,Zc}var p1;function eA(){if(p1)return Xc;p1=1,Object.defineProperty(Xc,"__esModule",{value:!0});const e=ps,t=e.__importDefault(wz),r=e.__importDefault(QO());class n{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let p=null,x=null,v=null,g=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const j=await u.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=j:x=JSON.parse(j))}const b=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,v=null,g=406,y="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const b=await u.text();try{p=JSON.parse(b),Array.isArray(p)&&u.status===404&&(x=[],p=null,g=200,y="OK")}catch{u.status===404&&b===""?(g=204,y="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,g=200,y="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:x,count:v,status:g,statusText:y}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Xc.default=n,Xc}var g1;function tA(){if(g1)return Yc;g1=1,Object.defineProperty(Yc,"__esModule",{value:!0});const t=ps.__importDefault(eA());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Yc.default=r,Yc}var v1;function Oy(){if(v1)return Kc;v1=1,Object.defineProperty(Kc,"__esModule",{value:!0});const t=ps.__importDefault(tA()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}}return Kc.default=n,Kc}var y1;function rA(){if(y1)return Gc;y1=1,Object.defineProperty(Gc,"__esModule",{value:!0});const t=ps.__importDefault(Oy());class r{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,i){const{head:o=!1,count:s}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Gc.default=r,Gc}var b1;function _z(){if(b1)return Vc;b1=1,Object.defineProperty(Vc,"__esModule",{value:!0});const e=ps,t=e.__importDefault(rA()),r=e.__importDefault(Oy());class n{constructor(i,{headers:o={},schema:s,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;s||c?(f=s?"HEAD":"GET",Object.entries(o).filter(([x,v])=>v!==void 0).map(([x,v])=>[x,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([x,v])=>{h.searchParams.append(x,v)})):(f="POST",m=o);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Vc.default=n,Vc}Object.defineProperty(Pt,"__esModule",{value:!0});var nA=Pt.PostgrestError=hA=Pt.PostgrestBuilder=dA=Pt.PostgrestTransformBuilder=cA=Pt.PostgrestFilterBuilder=sA=Pt.PostgrestQueryBuilder=iA=Pt.PostgrestClient=void 0;const gs=ps,aA=gs.__importDefault(_z());var iA=Pt.PostgrestClient=aA.default;const oA=gs.__importDefault(rA());var sA=Pt.PostgrestQueryBuilder=oA.default;const lA=gs.__importDefault(Oy());var cA=Pt.PostgrestFilterBuilder=lA.default;const uA=gs.__importDefault(tA());var dA=Pt.PostgrestTransformBuilder=uA.default;const fA=gs.__importDefault(eA());var hA=Pt.PostgrestBuilder=fA.default;const mA=gs.__importDefault(QO());nA=Pt.PostgrestError=mA.default;var pA=Pt.default={PostgrestClient:aA.default,PostgrestQueryBuilder:oA.default,PostgrestFilterBuilder:lA.default,PostgrestTransformBuilder:uA.default,PostgrestBuilder:fA.default,PostgrestError:mA.default};const Sz=sj({__proto__:null,get PostgrestBuilder(){return hA},get PostgrestClient(){return iA},get PostgrestError(){return nA},get PostgrestFilterBuilder(){return cA},get PostgrestQueryBuilder(){return sA},get PostgrestTransformBuilder(){return dA},default:pA},[Pt]),{PostgrestClient:jz,PostgrestQueryBuilder:RZ,PostgrestFilterBuilder:NZ,PostgrestTransformBuilder:PZ,PostgrestBuilder:MZ,PostgrestError:DZ}=pA||Sz;class Ez{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Cz="2.78.0",Oz=`realtime-js/${Cz}`,Az="1.0.0",hg=1e4,Tz=1e3,kz=100;var cl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cl||(cl={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var mg;(function(e){e.websocket="websocket"})(mg||(mg={}));var oi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(oi||(oi={}));class Rz{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class gA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const x1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Nz(o,e,t,a),i),{}):{}},Nz=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?vA(i,o):pg(o)},vA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return zz(t,r)}switch(e){case Oe.bool:return Pz(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return Mz(t);case Oe.json:case Oe.jsonb:return Dz(t);case Oe.timestamp:return Bz(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return pg(t);default:return pg(t)}},pg=e=>e,Pz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Mz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Dz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>vA(t,s))}return e},Bz=e=>typeof e=="string"?e.replace(" ","T"):e,yA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Rm{constructor(t,r,n={},a=hg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var w1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(w1||(w1={}));class ul{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ul.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ul.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ul.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),p=d.filter(v=>m.indexOf(v.presence_ref)<0),x=f.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(s[u]=p),x.length>0&&(c[u]=x)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,c)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),d.length>0){const f=t[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}n(s,d,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,c),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_1||(_1={}));var dl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dl||(dl={}));var bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));class Ay{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rm(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new gA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new ul(this),this.broadcastEndpointURL=yA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[dl.PRESENCE]&&this.bindings[dl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(bn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(bn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(bn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,v=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<v;y++){const _=x[y],{filter:{event:b,schema:S,table:j,filter:E}}=_,C=m&&m[y];if(C&&C.event===b&&C.schema===S&&C.table===j&&C.filter===E)g.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(bn.SUBSCRIBED);return}}).receive("error",m=>{this.state=rt.errored,t==null||t(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rt.joined&&t===dl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const u=await s.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Rm(this,Hr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Rm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=Hr;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,x,v;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(x=m.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,x,v,g,y,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,S=(p=m.filter)===null||p===void 0?void 0:p.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const b=(y=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:x,table:v,commit_timestamp:g,type:y,errors:_}=p;h=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:g,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ay.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=x1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=x1(t.columns,t.old_record)),r}}const Nm=()=>{},Jc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Iz=[1e3,2e3,5e3,1e4],$z=1e4,Lz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hg,this.transport=null,this.heartbeatIntervalMs=Jc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nm,this.ref=0,this.reconnectTimer=null,this.logger=Nm,this.conn=null,this.sendBuffer=[],this.serializer=new Rz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>ms(async()=>{const{default:s}=await Promise.resolve().then(()=>Li);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${mg.websocket}`,this.httpEndpoint=yA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ez.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Az}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cl.connecting:return oi.Connecting;case cl.open:return oi.Open;case cl.closing:return oi.Closing;default:return oi.Closed}}isConnected(){return this.connectionState()===oi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ay(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Tz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Jc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Lz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Oz};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Hr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,s,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:hg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Jc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Nm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>Iz[f-1]||$z,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ty extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qz extends Ty{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gg extends Ty{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ky=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Hz=()=>V(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ms(()=>Promise.resolve().then(()=>Li),void 0)).Response:Response}),vg=e=>{if(Array.isArray(e))return e.map(r=>vg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=vg(n)}),t},Wz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Pm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Fz=(e,t,r)=>V(void 0,void 0,void 0,function*(){const n=yield Hz();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new qz(Pm(a),i,o))}).catch(a=>{t(new gg(Pm(a),a))}):t(new gg(Pm(e),e))}),Vz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(Wz(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function sc(e,t,r,n,a,i){return V(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,Vz(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Fz(c,s,n))})})}function Tl(e,t,r,n){return V(this,void 0,void 0,function*(){return sc(e,"GET",t,r,n)})}function Ur(e,t,r,n,a){return V(this,void 0,void 0,function*(){return sc(e,"POST",t,n,a,r)})}function yg(e,t,r,n,a){return V(this,void 0,void 0,function*(){return sc(e,"PUT",t,n,a,r)})}function Gz(e,t,r,n){return V(this,void 0,void 0,function*(){return sc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ry(e,t,r,n,a){return V(this,void 0,void 0,function*(){return sc(e,"DELETE",t,n,a,r)})}class Kz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return V(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}var bA;class Yz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[bA]="BlobDownloadBuilder",this.promise=null}asStream(){return new Kz(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return V(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}bA=Symbol.toStringTag;const Xz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zz{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ky(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return V(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},S1),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?yg:Ur)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return V(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:S1.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield yg(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return V(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new Ty("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return V(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}copy(t,r,n){return V(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return V(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ur(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return V(this,void 0,void 0,function*(){try{const a=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),c=()=>Tl(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new Yz(c,this.shouldThrowOnError)}info(t){return V(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Tl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:vg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}exists(t){return V(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Gz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n)&&n instanceof gg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return V(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Xz),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}listV2(t,r){return V(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const xA="2.78.0",wA={"X-Client-Info":`storage-js/${xA}`};class Jz{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wA),r),this.fetch=ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return V(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Tl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Tl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}createBucket(t){return V(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return V(this,void 0,void 0,function*(){try{return{data:yield yg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Qz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wA),r),this.fetch=ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBuckets(t){return V(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Tl(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}const Ny={"X-Client-Info":`storage-js/${xA}`,"Content-Type":"application/json"};class _A extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ir(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Mm extends _A{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class e4 extends _A{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var j1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(j1||(j1={}));const Py=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},t4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},E1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r4=(e,t,r)=>V(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Mm(E1(o),a,s))}).catch(()=>{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Mm(s,a,o))});else{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Mm(s,a,o))}}else t(new e4(E1(e),e))}),n4=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(t4(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function a4(e,t,r,n,a,i){return V(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,n4(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>r4(c,s,n))})})}function or(e,t,r,n,a){return V(this,void 0,void 0,function*(){return a4(e,"POST",t,n,a,r)})}class i4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ny),r),this.fetch=Py(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getIndex(t,r){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listIndexes(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class o4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ny),r),this.fetch=Py(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return V(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listVectors(t){return V(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield or(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}queryVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteVectors(t){return V(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class s4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ny),r),this.fetch=Py(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBuckets(){return V(this,arguments,void 0,function*(t={}){try{return{data:yield or(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class l4 extends s4{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new c4(this.url,this.headers,t,this.fetch)}}class c4 extends i4{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return V(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return V(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return V(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return V(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new u4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class u4 extends o4{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return V(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return V(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return V(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return V(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return V(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class d4 extends Jz{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Zz(this.url,this.headers,t,this.fetch)}get vectors(){return new l4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qz(this.url+"/iceberg",this.headers,this.fetch)}}const f4="2.78.0";let Vs="";typeof Deno<"u"?Vs="deno":typeof document<"u"?Vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vs="react-native":Vs="node";const h4={"X-Client-Info":`supabase-js-${Vs}/${f4}`},m4={headers:h4},p4={schema:"public"},g4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v4={},y4=e=>{let t;return e?t=e:typeof fetch>"u"?t=ZO:t=fetch,(...r)=>t(...r)},b4=()=>typeof Headers>"u"?JO:Headers,x4=(e,t,r)=>{const n=y4(r),a=b4();return async(i,o)=>{var s;const c=(s=await t())!==null&&s!==void 0?s:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function w4(e){return e.endsWith("/")?e:e+"/"}function _4(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function S4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(w4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const SA="2.78.0",io=30*1e3,bg=3,Dm=bg*io,j4="http://localhost:9999",E4="supabase.auth.token",C4={"X-Client-Info":`gotrue-js/${SA}`},xg="X-Supabase-Api-Version",jA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},O4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A4=10*60*1e3;class kl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class T4 extends kl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function k4(e){return Y(e)&&e.name==="AuthApiError"}class si extends kl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fa extends kl{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class $r extends Fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R4(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Ki extends Fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qc extends Fa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class eu extends Fa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N4(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class C1 extends Fa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wg extends Fa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function zm(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class O1 extends Fa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class _g extends Fa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A1=` 	
\r=`.split(""),P4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<A1.length;t+=1)e[A1[t].charCodeAt(0)]=-2;for(let t=0;t<vd.length;t+=1)e[vd[t].charCodeAt(0)]=t;return e})();function T1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vd[n]),t.queuedBits-=6}}function EA(e,t,r){const n=P4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function k1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{z4(o,n,r)};for(let o=0;o<e.length;o+=1)EA(e.charCodeAt(o),a,i);return t.join("")}function M4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function D4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}M4(n,t)}}function z4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ko(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)EA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function B4(e){const t=[];return D4(e,r=>t.push(r)),new Uint8Array(t)}function li(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>T1(a,r,n)),T1(null,r,n),t.join("")}function I4(e){return Math.round(Date.now()/1e3)+e}function $4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rt=()=>typeof window<"u"&&typeof document<"u",Xa={tested:!1,writable:!1},CA=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xa.tested)return Xa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xa.tested=!0,Xa.writable=!0}catch{Xa.tested=!0,Xa.writable=!1}return Xa.writable};function L4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const OA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},U4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Za=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},la=async(e,t)=>{await e.removeItem(t)};class Bf{constructor(){this.promise=new Bf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bf.promiseConstructor=Promise;function Bm(e){const t=e.split(".");if(t.length!==3)throw new _g("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!O4.test(t[n]))throw new _g("JWT not in base64url format");return{header:JSON.parse(k1(t[0])),payload:JSON.parse(k1(t[1])),signature:ko(t[2]),raw:{header:t[0],payload:t[1]}}}async function q4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function H4(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function W4(e){return("0"+e.toString(16)).substr(-2)}function F4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,W4).join("")}async function V4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function G4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await V4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yi(e,t,r=!1){const n=F4();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await oo(e,`${t}-code-verifier`,a);const i=await G4(n);return[i,n===i?"plain":"s256"]}const K4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Y4(e){const t=e.headers.get(xg);if(!t||!t.match(K4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function X4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Z4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xi(e){if(!J4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Im(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Q4(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function R1(e){return JSON.parse(JSON.stringify(e))}const ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e3=[502,503,504];async function N1(e){var t;if(!U4(e))throw new wg(ri(e),0);if(e3.includes(e.status))throw new wg(ri(e),e.status);let r;try{r=await e.json()}catch(i){throw new si(ri(i),i)}let n;const a=Y4(e);if(a&&a.getTime()>=jA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new O1(ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new O1(ri(r),e.status,r.weak_password.reasons);throw new T4(ri(r),e.status||500,n)}const t3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function J(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[xg]||(i[xg]=jA["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await r3(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function r3(e,t,r,n,a,i){const o=t3(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new wg(ri(c),0)}if(s.ok||await N1(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await N1(c)}}function Lr(e){var t;let r=null;i3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=I4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function P1(e){const t=Lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function va(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function n3(e){return{data:e,error:null}}function a3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=hs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function M1(e){return e}function i3(e){return e.access_token&&e.refresh_token&&e.expires_in}const $m=["global","local","others"];class o3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=OA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=$m[0]){if($m.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$m.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:va})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hs(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:a3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:va})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:M1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Xi(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:va})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Xi(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:va})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Xi(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:va})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Xi(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Xi(t.userId),Xi(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:M1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Y(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function D1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Zi={debug:!!(globalThis&&CA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class s3 extends AA{}async function l3(e,t,r){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new s3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function c3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function u3(e){return parseInt(e,16)}function d3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function f3(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=TA(e.address),p=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${m}

${x}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),s&&(g+=`
Not Before: ${s.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);y+=`
- ${_}`}g+=y}return`${v}
${g}`}class Ke extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class yd extends Ke{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function h3({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(kA(o)){if(i.rp.id!==o)return new Ke({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function m3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(kA(n)){if(r.rpId!==n)return new Ke({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class p3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const g3=new p3;function v3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=hs(e,["challenge","user","excludeCredentials"]),i=ko(t).buffer,o=Object.assign(Object.assign({},r),{id:ko(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ko(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function y3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=hs(e,["challenge","allowCredentials"]),a=ko(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:ko(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function b3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:li(new Uint8Array(e.response.attestationObject)),clientDataJSON:li(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function x3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:li(new Uint8Array(a.authenticatorData)),clientDataJSON:li(new Uint8Array(a.clientDataJSON)),signature:li(new Uint8Array(a.signature)),userHandle:a.userHandle?li(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function z1(){var e,t;return!!(Rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function w3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",t)}:{data:null,error:new yd("Empty credential response",t)}}catch(t){return{data:null,error:h3({error:t,options:e})}}}async function _3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",t)}:{data:null,error:new yd("Empty credential response",t)}}catch(t){return{data:null,error:m3({error:t,options:e})}}}const S3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},j3={userVerification:"preferred",hints:["security-key"]};function bd(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const s=n[i];t(s)?n[i]=bd(s,o):n[i]=bd(o)}else n[i]=o}return n}function E3(e,t){return bd(S3,e,t||{})}function C3(e,t){return bd(j3,e,t||{})}class O3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const c=a??g3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=E3(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await w3({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=C3(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await _3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new si("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new kl("rpId is required for WebAuthn authentication")};try{if(!z1())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new si("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new kl("rpId is required for WebAuthn registration")};try{if(!z1())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new si("Unexpected error in register",o)}}}}c3();const A3={url:j4,storageKey:E4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function B1(e,t,r){return await r()}const Ji={};class Rl{get jwks(){var t,r;return(r=(t=Ji[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ji[this.storageKey]=Object.assign(Object.assign({},Ji[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ji[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ji[this.storageKey]=Object.assign(Object.assign({},Ji[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rl.nextInstanceID,Rl.nextInstanceID+=1,this.instanceID>0&&Rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},A3),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new o3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=OA(a.fetch),this.lock=a.lock||B1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Rt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=l3:this.lock=B1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new O3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:CA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=D1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=D1(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${SA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=L4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Rt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),N4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?{error:r}:{error:new si("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Lr}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Yi(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Lr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lr})}else throw new Qc("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:P1})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:P1})}else throw new Qc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ki}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,s,c,u,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:x,wallet:v,statement:g,options:y}=t;let _;if(Rt())if(typeof v=="object")_=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")_=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const b=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=TA(S[0]);let E=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await _.request({method:"eth_chainId"});E=u3(A)}const C={domain:b.host,address:j,statement:g,uri:b.href,version:"1",chainId:E,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=f3(C),p=await _.request({method:"personal_sign",params:[d3(m),j]})}try{const{data:x,error:v}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Lr});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ki}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(Y(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var r,n,a,i,o,s,c,u,d,f,h,m;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:v,wallet:g,statement:y,options:_}=t;let b;if(Rt())if(typeof g=="object")b=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const S=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(p),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:v,error:g}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:li(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Lr});if(g)throw g;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Ki}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:g})}catch(v){if(Y(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Za(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Lr});if(await la(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ki}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Lr}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ki}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yi(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Qc("You must provide either an email or phone number.")}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Lr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Yi(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:n3})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $r;const{error:a}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Qc("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Dm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Za(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Im()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Q4(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:va}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:va})})}catch(r){if(Y(r))return R4(r)&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new $r;const o=a.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await Yi(this.storage,this.storageKey));const{data:u,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:va});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Bm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Rt())throw new eu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new eu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new C1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new C1("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!i||!s||!o||!u)throw new eu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=io&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:x,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Za(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(k4(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=$4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Yi(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Rt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:c,access_token:u,nonce:d}=t,f=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ki}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await H4(async a=>(a>0&&await q4(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&zm(i)&&Date.now()+o-n<io})}catch(n){if(this._debug(r,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Rt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Za(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await oo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Im()}else if(a&&!a.user&&!a.user){const o=await Za(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await la(this.storage,this.storageKey+"-user"),await oo(this.storage,this.storageKey,a)):a.user=Im()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Dm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Dm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),zm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Bf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),Y(i)){const o={data:null,error:i};return zm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await oo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=R1(a);await oo(this.storage,this.storageKey,i)}else{const a=R1(r);await oo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await la(this.storage,this.storageKey),await la(this.storage,this.storageKey+"-code-verifier"),await la(this.storage,this.storageKey+"-user"),this.userStorage&&await la(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),io);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/io);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${io}ms, refresh threshold is ${bg} ticks`),a<=bg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Yi(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?b3(t.webauthn.credential_response):x3(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:c}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:v3(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:y3(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bm(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new $r}})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+A4>a)return n;const{data:i,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:c}}=Bm(n);r!=null&&r.allowExpired||X4(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=Z4(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,B4(`${s}.${c}`)))throw new _g("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}Rl.nextInstanceID=0;const T3=Rl;class k3 extends T3{constructor(t){super(t)}}class R3{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const s=S4(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:p4,realtime:v4,auth:Object.assign(Object.assign({},g4),{storageKey:c}),global:m4},d=_4(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=x4(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new jz(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new d4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new gz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Uz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const N3=(e,t,r)=>new R3(e,t,r);function P3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}P3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const M3="https://abbysvxnnhwvvzhftoms.supabase.co",D3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",I=N3(M3,D3);function z3(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[a,i]=w.useState(!1),o=fs(),s=async c=>{c.preventDefault(),i(!0);const{error:u}=await I.auth.signInWithPassword({email:e,password:r});u?u.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(u.message):o("/dashboard"),i(!1)};return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:l.jsxs("form",{onSubmit:s,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:c=>{c.target.onerror=null,c.target.style.display="none",c.target.nextSibling.style.display="block"}}),l.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),l.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:e,onChange:c=>t(c.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),l.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:c}=await I.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/dashboard?reset=true"});i(!1),alert(c?"Erro ao enviar email: "+c.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),l.jsx("input",{id:"password",type:"password",value:r,onChange:c=>n(c.target.value),className:"input",placeholder:"",required:!0})]}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),l.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[l.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),l.jsx("button",{type:"button",onClick:()=>o("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const Zn=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},My=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const s=await o.json(),c=s.estabelecimento||{},u=s.socios&&s.socios.length>0?s.socios[0]:null;return{nome:s.razao_social,fantasia:c.nome_fantasia,doc:t,email:c.email,telefone:c.ddd1&&c.telefone1?`(${c.ddd1}) ${c.telefone1}`:"",address:{logradouro:c.tipo_logradouro?`${c.tipo_logradouro} ${c.logradouro}`:c.logradouro,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cep:c.cep,uf:(n=c.estado)==null?void 0:n.sigla,municipio:(a=c.cidade)==null?void 0:a.nome,cidade:(i=c.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:s}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},B3=async e=>{try{const{data:t,error:r}=await I.functions.invoke("manage-asaas-customer",{body:e});if(r)throw r;return t}catch(t){throw console.error("Erro Asaas Customer:",t),t}},lc=async e=>{const{data:t,error:r}=await I.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},If=async(e,t="invoice")=>{const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await I.functions.invoke("create-asaas-charge",{body:r});if(a)throw a;return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),I1=e=>{const t=$3(e);return t.charAt(0).toUpperCase()+t.slice(1)},RA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),L3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...s},c)=>w.createElement("svg",{ref:c,...U3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:RA("lucide",a),...!i&&!L3(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(q3,{ref:i,iconNode:t,className:RA(`lucide-${I3(I1(e))}`,`lucide-${e}`,n),...a}));return r.displayName=I1(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],$1=fe("briefcase",H3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],F3=fe("calculator",W3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],G3=fe("calendar",V3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],Y3=fe("chart-no-axes-column-increasing",K3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],NA=fe("chevron-down",X3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],J3=fe("chevron-left",Z3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],e6=fe("chevron-right",Q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PA=fe("chevron-up",t6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],MA=fe("circle-alert",r6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DA=fe("circle-check-big",n6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i6=fe("circle-question-mark",a6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],s6=fe("clock",o6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],c6=fe("copy",l6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$f=fe("credit-card",u6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Dy=fe("dollar-sign",d6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],La=fe("file-text",f6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],m6=fe("funnel",h6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],g6=fe("house",p6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y6=fe("info",v6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Lm=fe("layout-dashboard",b6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],w6=fe("log-out",x6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],S6=fe("map-pin",_6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],E6=fe("megaphone",j6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],O6=fe("menu",C6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lf=fe("plus",A6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zA=fe("save",T6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],BA=fe("search",k6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IA=fe("settings",R6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],P6=fe("square-pen",N6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zy=fe("trash-2",M6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],z6=fe("truck",D6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],I6=fe("user-check",B6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],L6=fe("users",$6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uf=fe("x",U6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],By=fe("zap",q6),$A=w.createContext(),Jn=()=>{const e=w.useContext($A);if(!e)throw new Error("useUI must be used within a UIProvider");return e},H6=({children:e})=>{const[t,r]=w.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=w.useRef(null),a=()=>{r(u=>({...u,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(u=>({...u,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(u,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:u,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},s=(u,d="Confirmao",f="Confirmar",h="Cancelar")=>new Promise(m=>{n.current=m,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:u,confirmText:f,cancelText:h,onConfirm:()=>{},onCancel:()=>{}})}),c=()=>{switch(t.variant){case"error":return l.jsx(MA,{size:32,color:"#ef4444"});case"success":return l.jsx(DA,{size:32,color:"#22c55e"});case"warning":return l.jsx(i6,{size:32,color:"#f59e0b"});default:return l.jsx(y6,{size:32,color:"#3b82f6"})}};return l.jsxs($A.Provider,{value:{showAlert:o,showConfirm:s},children:[e,t.isOpen&&l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:c()}),l.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),l.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:l.jsx(Uf,{size:20})})]}),l.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&l.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:u=>u.currentTarget.style.background="#f9fafb",onMouseOut:u=>u.currentTarget.style.background="white",children:t.cancelText}),l.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:u=>u.currentTarget.style.filter="brightness(0.9)",onMouseOut:u=>u.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),l.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})},LA=w.createContext({}),Jr=()=>w.useContext(LA),W6=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[i,o]=w.useState(!0);w.useEffect(()=>{I.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?s(d.user.id):o(!1)});const{data:{subscription:u}}=I.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?s(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const s=async u=>{try{const{data:d,error:f}=await I.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},c={signUp:u=>I.auth.signUp(u),signIn:u=>I.auth.signInWithPassword(u),signOut:()=>I.auth.signOut(),user:t,profile:n,loading:i};return l.jsx(LA.Provider,{value:c,children:!i&&e})},vs=e=>e?e.replace(/\D/g,""):"",qf=e=>{const t=vs(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},Vo=e=>vs(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),F6=e=>{const t=vs(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,s,c;try{for(a=0,c=10,i=0;i<9;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,c=11,i=0;i<10;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},V6=e=>{const t=vs(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);let s=i%11<2?0:11-i%11;if(s!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);return s=i%11<2?0:11-i%11,s==a.charAt(1)},Oi=e=>vs(e).length===11,Hf=e=>{const t=vs(e);return t.length<=11?F6(t):V6(t)},tu=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=w.useState(r);return l.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[l.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[l.jsx("span",{children:e}),n?l.jsx(PA,{size:18}):l.jsx(NA,{size:18})]}),n&&l.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function Iy({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){var Z;const{showAlert:a,showConfirm:i}=Jn(),[o,s]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(!1),p=O=>{if(!O&&O!==0)return"";const T=Number(O);return isNaN(T)?"":T.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},x=O=>{if(!O||typeof O!="string")return 0;const T=O.replace(/\D/g,"");return Number(T)/1e4},v=(O,T)=>{const N=T.replace(/\D/g,""),U=(Number(N)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});E(ne=>({...ne,[O]:U}))},g=O=>O.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),y=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],_=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],b=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],S=[1,5,10,15,20,25,30],[j,E]=w.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var O,T,N,L,U,ne,ce;C(),A(),e&&E({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:p(e.tarifa_concessionaria),te:p(e.te),tusd:p(e.tusd),fio_b:p(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:g(((O=e.address)==null?void 0:O.cep)||""),rua:((T=e.address)==null?void 0:T.rua)||"",numero:((N=e.address)==null?void 0:N.numero)||"",complemento:((L=e.address)==null?void 0:L.complemento)||"",bairro:((U=e.address)==null?void 0:U.bairro)||"",cidade:((ne=e.address)==null?void 0:ne.cidade)||"",uf:((ce=e.address)==null?void 0:ce.uf)||""})},[e]),w.useEffect(()=>{const O=x(j.tarifa_concessionaria);let T=30;j.tipo_ligacao==="trifasico"?T=100:j.tipo_ligacao==="bifasico"&&(T=50);const L=(O*T).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});E(U=>({...U,tarifa_minima:L}))},[j.tarifa_concessionaria,j.tipo_ligacao]);const C=async()=>{const{data:O}=await I.from("subscribers").select("id, name, cpf_cnpj").order("name");s(O||[])},A=async()=>{const{data:O}=await I.from("usinas").select("id, name").order("name");u(O||[])},R=O=>{const T=g(O.target.value);E(N=>({...N,cep:T}))},M=async()=>{const O=j.cep.replace(/\D/g,"");if(O.length===8){m(!0);try{const T=await Zn(O);if(E(N=>({...N,rua:T.rua||"",bairro:T.bairro||"",cidade:T.cidade||"",uf:T.uf||"",concessionaria:N.concessionaria||""})),T.ibge){const N=await lc(T.ibge);if(N){let L=N["Desconto Assinante"]||0;L>1||(L=L*100),E(U=>({...U,rua:T.rua||"",bairro:T.bairro||"",cidade:T.cidade||"",uf:T.uf||"",concessionaria:N.Concessionaria||U.concessionaria,tarifa_concessionaria:N["Tarifa Concessionaria"]?p(N["Tarifa Concessionaria"]):U.tarifa_concessionaria,te:N.TE?p(N.TE):U.te,tusd:N.TUSD?p(N.TUSD):U.tusd,fio_b:N["Fio B"]?p(N["Fio B"]):U.fio_b,desconto_assinante:L.toFixed(2)}))}}}catch(T){console.error("Erro CEP",T),a("Erro ao buscar CEP/Ofertas: "+(T.message||"No encontrado"),"error")}finally{m(!1)}}},k=async O=>{O.preventDefault(),f(!0);try{const T={subscriber_id:j.subscriber_id||null,usina_id:j.usina_id||null,status:j.status,numero_uc:j.numero_uc,titular_conta:j.titular_conta,modalidade:j.modalidade,concessionaria:j.concessionaria,tipo_ligacao:j.tipo_ligacao,franquia:Number(j.franquia),tarifa_concessionaria:x(j.tarifa_concessionaria),te:x(j.te),tusd:x(j.tusd),fio_b:x(j.fio_b),desconto_assinante:Number(j.desconto_assinante),dia_vencimento:Number(j.dia_vencimento),address:{cep:j.cep.replace(/\D/g,""),rua:j.rua,numero:j.numero,complemento:j.complemento,bairro:j.bairro,cidade:j.cidade,uf:j.uf}};if(!T.subscriber_id)throw new Error("Assinante  obrigatrio.");let N;if(e!=null&&e.id?N=await I.from("consumer_units").update(T).eq("id",e.id).select().single():N=await I.from("consumer_units").insert(T).select().single(),N.error)throw N.error;r(N.data),t()}catch(T){a("Erro ao salvar UC: "+T.message,"error")}finally{f(!1)}},H=async()=>{if(await i("Excluir esta Unidade Consumidora?")){f(!0);try{const{error:T}=await I.from("consumer_units").delete().eq("id",e.id);if(T)throw T;n&&n(e.id),t()}catch(T){a("Erro ao excluir: "+T.message,"error")}finally{f(!1)}}},W=((Z=o.find(O=>O.id===j.subscriber_id))==null?void 0:Z.name)||"";return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:e?W?`Editar UC - ${W}`:"Editar UC":"Nova Unidade Consumidora"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:k,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[l.jsx("label",{className:"label",children:"Status da Unidade"}),l.jsx("select",{value:j.status,onChange:O=>E({...j,status:O.target.value}),className:"select",style:{maxWidth:"300px"},children:y.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs(tu,{title:"Vnculos",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"label",children:["Assinante ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsxs("select",{required:!0,value:j.subscriber_id,onChange:O=>E({...j,subscriber_id:O.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.cpf_cnpj,")"]},O.id))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Usina (Opcional)"}),l.jsxs("select",{value:j.usina_id,onChange:O=>E({...j,usina_id:O.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),l.jsxs(tu,{title:"Endereo de Instalao",defaultOpen:!0,children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:j.cep,onChange:R,onBlur:M,placeholder:"00000-000",maxLength:9,className:"input"}),h&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Concessionria (Auto)"}),l.jsx("input",{value:j.concessionaria,onChange:O=>E({...j,concessionaria:O.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:j.rua,onChange:O=>E({...j,rua:O.target.value}),className:"input"})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:j.numero,onChange:O=>E({...j,numero:O.target.value}),className:"input"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:j.bairro,onChange:O=>E({...j,bairro:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:j.complemento,onChange:O=>E({...j,complemento:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:j.cidade,onChange:O=>E({...j,cidade:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:j.uf,onChange:O=>E({...j,uf:O.target.value}),className:"input"})]})]}),l.jsxs(tu,{title:"Dados da Unidade",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"label",children:["Nmero da UC ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsx("input",{required:!0,value:j.numero_uc,onChange:O=>E({...j,numero_uc:O.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),l.jsx("input",{required:!0,value:j.titular_conta,onChange:O=>E({...j,titular_conta:O.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]})]}),l.jsxs(tu,{title:"Dados Tcnicos e Comerciais",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Tipo de Ligao"}),l.jsx("select",{value:j.tipo_ligacao,onChange:O=>E({...j,tipo_ligacao:O.target.value}),className:"select",children:b.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Modalidade"}),l.jsx("select",{value:j.modalidade,onChange:O=>E({...j,modalidade:O.target.value}),className:"select",children:_.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),l.jsx("input",{type:"text",value:j.tarifa_concessionaria,onChange:O=>v("tarifa_concessionaria",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),l.jsx("input",{type:"text",value:j.te,onChange:O=>v("te",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),l.jsx("input",{type:"text",value:j.tusd,onChange:O=>v("tusd",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),l.jsx("input",{type:"text",value:j.fio_b,onChange:O=>v("fio_b",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),l.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[l.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:j.tarifa_minima||"R$ 0,00"}),l.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",j.tipo_ligacao,") x Tarifa."]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),l.jsx("input",{type:"number",step:"0.01",value:j.desconto_assinante,onChange:O=>E({...j,desconto_assinante:O.target.value}),placeholder:"%",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),l.jsx("input",{type:"number",value:j.franquia,onChange:O=>E({...j,franquia:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Dia de Vencimento"}),l.jsx("select",{value:j.dia_vencimento,onChange:O=>E({...j,dia_vencimento:O.target.value}),className:"select",children:S.map(O=>l.jsx("option",{value:O,children:O},O))})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&l.jsx("button",{type:"button",onClick:H,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Salvando...":"Salvar UC"})]})]})]})})}function $y({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=Jn(),{profile:o}=Jr(),[s,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState(!1),[m,p]=w.useState(!1),x=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[v,g]=w.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[y,_]=w.useState(!1),[b,S]=w.useState(!1),[j,E]=w.useState(!1);w.useEffect(()=>{C(),e&&(g({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),A(e.id))},[e]);const C=async()=>{const{data:O}=await I.from("originators_v2").select("id, name").order("name");c(O||[])},A=async O=>{const{data:T}=await I.from("consumer_units").select("*").eq("subscriber_id",O);d(T||[])},R=async()=>{const O=v.cep.replace(/\D/g,"");if(O.length===8){S(!0);try{const T=await Zn(O);g(N=>({...N,rua:T.rua||"",bairro:T.bairro||"",cidade:T.cidade||"",uf:T.uf||""}))}catch(T){console.error("Erro ao buscar CEP:",T),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{S(!1)}}},M=async()=>{const O=v.cpf_cnpj.replace(/\D/g,"");if(O.length>=11){E(!0);try{const T=await My(O);T.nome&&g(N=>({...N,name:T.nome}))}catch(T){console.error("Erro buscar doc",T)}finally{E(!1)}}},k=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${v.name}?`)){h(!0);try{const T=await If(e.id,"subscriber");T.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(T.url,"_blank"))}catch(T){console.error(T),a("Erro: "+(T.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{h(!1)}}},H=async O=>{if(O.preventDefault(),!Hf(v.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(v.phone&&!Oi(v.phone)){a("Telefone invlido!","warning");return}_(!0);try{const T=v.cpf_cnpj.replace(/\D/g,"");let N=I.from("subscribers").select("id").eq("cpf_cnpj",v.cpf_cnpj);e!=null&&e.id&&(N=N.neq("id",e.id));const{data:L,error:U}=await N;if(U)throw U;if(L&&L.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");let ne=null,ce=!1;try{const ue=await B3({id:e==null?void 0:e.asaas_customer_id,name:v.name,cpfCnpj:v.cpf_cnpj,email:v.email,phone:v.phone,postalCode:v.cep,addressNumber:v.numero,address:v.rua,province:v.bairro});if(!ue||!ue.success)throw new Error((ue==null?void 0:ue.error)||"Erro desconhecido");ne=ue.asaas_id,ce=!0}catch(ue){if(console.error("Asaas Sync Error:",ue),!await i(`Falha ao sincronizar com Asaas: ${ue.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao")){_(!1);return}}const se={...v};ne&&(se.asaas_customer_id=ne),se.originator_id===""&&(se.originator_id=null);let he;if(e!=null&&e.id?he=await I.from("subscribers").update(se).eq("id",e.id).select().single():he=await I.from("subscribers").insert(se).select().single(),he.error)throw he.error;ce?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let ue=null;if(se.status==="ativacao"?ue="ativacao":se.status==="ativo"&&(ue="ativo"),ue&&se.email){const{data:z,error:q}=await I.from("leads").select("id, status").eq("email",se.email).order("created_at",{ascending:!1}).limit(1);if(!q&&z&&z.length>0){const ae=z[0];if(ae.status!==ue){const{error:D}=await I.from("leads").update({status:ue}).eq("id",ae.id);D?console.error("Error auto-updating lead status:",D):console.log(`Lead ${ae.id} auto-updated to ${ue}`)}}}}catch(ue){console.error("Lead sync error:",ue)}r(he.data),t()}catch(T){console.error(T),a("Erro ao salvar assinante: "+T.message,"error")}finally{_(!1)}},W=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){_(!0);try{const{error:T}=await I.from("subscribers").delete().eq("id",e.id);if(T)throw T;n&&n(e.id),t()}catch(T){a("Erro ao excluir: "+T.message,"error")}finally{_(!1)}}},Z=async O=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:N}=await I.from("consumer_units").update({subscriber_id:null}).eq("id",O);if(N)throw N;A(e.id),a("UC desvinculada com sucesso!","success")}catch(N){console.error(N),a("Erro ao desvincular UC: "+N.message,"error")}};return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),l.jsxs("form",{onSubmit:H,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsx("select",{value:v.status,onChange:O=>g({...v,status:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:x.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),l.jsxs("select",{value:v.originator_id,onChange:O=>g({...v,originator_id:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Selecione..."}),s.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),l.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:l.jsx("input",{value:v.cpf_cnpj,onChange:O=>g({...v,cpf_cnpj:qf(O.target.value)}),onBlur:M,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:j?"#f0f9ff":"white"},required:!0})})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),l.jsx("input",{required:!0,value:v.name,onChange:O=>g({...v,name:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:v.email,onChange:O=>g({...v,email:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{value:v.phone,onChange:O=>g({...v,phone:Vo(O.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),l.jsx("input",{value:v.cep,onChange:O=>g({...v,cep:O.target.value}),onBlur:R,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:b?"#f0f9ff":"white"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),l.jsx("input",{value:`${v.cidade} - ${v.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:v.rua,onChange:O=>g({...v,rua:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:v.numero,onChange:O=>g({...v,numero:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:v.complemento,onChange:O=>g({...v,complemento:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:v.bairro,onChange:O=>g({...v,bairro:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{children:"Unidades Consumidoras (UCs)"}),(e==null?void 0:e.id)&&l.jsxs("button",{type:"button",onClick:()=>p(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:[l.jsx(Lf,{size:16})," Cadastrar UCs"]})]}),l.jsx("div",{style:{gridColumn:"1 / -1"},children:u.length>0?l.jsx("ul",{style:{listStyle:"none",padding:0},children:u.map(O=>{var T;return l.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("span",{children:["UC: ",O.numero_uc," - ",O.concessionaria]}),l.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"#666"},children:(T=O.status)==null?void 0:T.replace("_"," ").toUpperCase()})]}),l.jsx("button",{type:"button",onClick:()=>Z(O.id),style:{padding:"0.3rem",background:"transparent",border:"none",color:"#a1a1aa",cursor:"pointer"},title:"Desvincular UC",children:l.jsx(zy,{size:16})})]},O.id)})}):l.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[l.jsx("div",{children:(e==null?void 0:e.id)&&l.jsx("button",{type:"button",onClick:k,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:f?"Processando...":l.jsxs(l.Fragment,{children:[l.jsx($f,{size:18})," Emitir Fatura Consolidada"]})})}),l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&l.jsx("button",{type:"button",onClick:W,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:y,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:y?"Salvando...":"Salvar Assinante"})]})]})]})]}),m&&e&&l.jsx(Iy,{consumerUnit:{subscriber_id:e.id},onClose:()=>p(!1),onSave:()=>{A(e.id),p(!1)}})]})}function G6(){const[e]=EO(),{showAlert:t}=Jn(),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,s]=w.useState(!1),[c,u]=w.useState(null),d=e.get("id");e.get("originador");const[f,h]=w.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[m,p]=w.useState(null),x=async()=>{const E=f.cep.replace(/\D/g,"");if(E.length===8){n(!0);try{const C=await Zn(E);if(h(A=>({...A,street:C.rua,neighborhood:C.bairro,city:C.cidade,uf:C.uf})),C.ibge){const A=await lc(C.ibge);A?(p(A),h(R=>({...R,concessionaria:A.Concessionaria||""}))):(p(null),h(R=>({...R,concessionaria:""})))}}catch(C){console.error("Error fetching CEP:",C)}finally{n(!1)}}},v=()=>{if(!m)return 0;const E=Number(m["Tarifa Concessionaria"])||0;let A=Number(m["Desconto Assinante"])||0;return A>1&&(A=A/100),f.consumo*E*A},g=async E=>{E.preventDefault(),n(!0);try{const C=v(),R=d&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(d)?d:null,M={name:f.name,email:f.email,phone:f.phone,cep:f.cep,concessionaria:f.concessionaria,consumo_kwh:f.consumo,calculated_discount:C,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,tarifa_concessionaria:Number(m==null?void 0:m["Tarifa Concessionaria"])||0,desconto_assinante:Number(m==null?void 0:m["Desconto Assinante"])||0,status:"simulacao",originator_id:R},{data:k,error:H}=await I.from("leads").insert(M).select().single();if(H)throw H;k&&u(k),i(!0)}catch(C){console.error("Error saving lead:",C);const A=C.message||"Erro ao processar simulao. Tente novamente.";t(A,"error")}finally{n(!1)}},y=async E=>{if(c!=null&&c.id)try{const{error:C}=await I.from("leads").update({status:"ativacao"}).eq("id",c.id);C?console.error("Failed to update lead status:",C):console.log("Lead status updated to 'ativacao'")}catch(C){console.error("Error updating lead status:",C)}s(!1)},_=E=>E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),b={primary:"#003366",accent:"#FF6600"},S={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:b.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:b.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:b.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},j=v();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:S.wrapper,children:[l.jsx("h2",{style:S.header,children:"Saiba o valor do seu desconto"}),l.jsxs("form",{onSubmit:g,style:S.formSpace,children:[l.jsx("div",{style:S.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:S.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:f.cep,onChange:E=>{let C=E.target.value.replace(/\D/g,"");C.length>5&&(C=C.replace(/^(\d{5})(\d)/,"$1-$2")),h({...f,cep:C})},onBlur:x,style:S.input,placeholder:"00000-000",required:!0})]})}),l.jsxs("div",{children:[l.jsx("label",{style:S.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:f.name,onChange:E=>h({...f,name:E.target.value}),style:S.input,placeholder:"Como devemos te chamar?",required:!0})]}),l.jsxs("div",{style:S.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:S.label,children:"E-mail"}),l.jsx("input",{type:"email",value:f.email,onChange:E=>h({...f,email:E.target.value}),style:S.input,placeholder:"exemplo@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:S.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:f.phone,onChange:E=>{let C=E.target.value.replace(/\D/g,"");C=C.replace(/^(\d{2})(\d)/g,"($1) $2"),C=C.replace(/(\d)(\d{4})$/,"$1-$2"),h({...f,phone:C})},style:S.input,placeholder:"(00) 00000-0000",required:!0})]})]}),l.jsxs("div",{style:S.rangeContainer,children:[l.jsxs("div",{style:S.rangeLabelRow,children:[l.jsx("label",{style:S.label,children:"Mdia de Gasto Mensal (kWh)"}),l.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:b.accent},children:[f.consumo," kWh"]})]}),l.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:f.consumo,onChange:E=>h({...f,consumo:Number(E.target.value)}),style:S.rangeInput}),l.jsxs("div",{style:S.rangeTicks,children:[l.jsx("span",{children:"0 kWh"}),l.jsx("span",{children:"10.000+ kWh"})]})]}),l.jsx("button",{type:"submit",disabled:r,style:S.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:l.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),l.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),l.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[l.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.name})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.concessionaria})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),l.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[_((c==null?void 0:c.calculated_discount)||j),l.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),l.jsx("button",{onClick:()=>{i(!1),s(!0)},style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:b.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})}),o&&l.jsx($y,{subscriber:{name:f.name,email:f.email,phone:f.phone,cep:f.cep,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,status:"ativacao",originator_id:d||""},onClose:()=>s(!1),onSave:y})]})}function K6(){return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(G6,{})})})}function Y6(){const{showAlert:e}=Jn(),[t,r]=w.useState(!1),[n,a]=w.useState(1),[i,o]=w.useState(null);pf.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[s,c]=w.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[u,d]=w.useState(!1),f=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),m=async()=>{const y=s.cep.replace(/\D/g,"");if(y.length===8){r(!0);try{const _=await Zn(y);c(b=>({...b,street:_.rua,neighborhood:_.bairro,city:_.cidade,uf:_.uf}))}catch(_){console.error("Error fetching CEP:",_)}finally{r(!1)}}},p=async y=>{y.preventDefault(),r(!0);try{const{data:_,error:b}=await I.auth.signUp({email:s.email,password:s.password,options:{data:{name:s.name,phone:s.phone}}});if(b)throw b;_!=null&&_.user&&(o(_.user.id),a(2))}catch(_){console.error("Error signing up:",_),e(_.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},x=async y=>{y.preventDefault(),r(!0);try{const _={id:i,name:s.name,email:s.email,phone:s.phone,cpf_cnpj:s.cpf,pix_key:s.pix_key,pix_key_type:s.pix_key_type,profession:s.profession,address:{cep:s.cep,street:s.street,number:s.number,neighborhood:s.neighborhood,city:s.city,uf:s.uf,complement:s.complement}},{error:b}=await I.from("originators_v2").insert(_);if(b)throw b;a(3)}catch(_){console.error("Error saving profile:",_),e(_.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},v={primary:"#003366",accent:"#FF6600"},g={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:v.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:v.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?l.jsxs("div",{style:g.wrapper,children:[l.jsx("h2",{style:g.header,children:"Seja um Parceiro B2W"}),l.jsxs("form",{onSubmit:p,style:g.formSpace,children:[l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:s.name,onChange:y=>c({...s,name:y.target.value}),style:g.input,required:!0})]}),l.jsxs("div",{style:g.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"E-mail"}),l.jsx("input",{type:"email",value:s.email,onChange:y=>c({...s,email:y.target.value}),style:g.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:s.phone,onChange:y=>{let _=y.target.value.replace(/\D/g,"");_=_.replace(/^(\d{2})(\d)/g,"($1) $2"),_=_.replace(/(\d)(\d{4})$/,"$1-$2"),c({...s,phone:_})},style:g.input,required:!0})]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("label",{style:g.label,children:"Senha"}),l.jsx("input",{type:u?"text":"password",value:s.password,onChange:y=>c({...s,password:y.target.value}),style:{...g.input,paddingRight:"2.5rem"},required:!0,minLength:6}),l.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:u?l.jsx(h,{}):l.jsx(f,{})})]}),l.jsx("button",{type:"submit",disabled:t,style:g.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&l.jsxs("form",{onSubmit:x,style:g.formSpace,children:[l.jsx("h3",{style:{...g.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),l.jsx("div",{style:g.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:g.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:s.cep,onChange:y=>{let _=y.target.value.replace(/\D/g,"");_.length>5&&(_=_.replace(/^(\d{5})(\d)/,"$1-$2")),c({...s,cep:_})},onBlur:m,style:g.input,required:!0})]})}),l.jsxs("div",{style:g.grid,children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:g.label,children:"Rua"}),l.jsx("input",{value:s.street,style:g.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"Bairro"}),l.jsx("input",{value:s.neighborhood,style:g.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"Cidade / UF"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:s.city,style:{...g.input,flex:2},readOnly:!0}),l.jsx("input",{value:s.uf,style:{...g.input,flex:1},readOnly:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"Nmero"}),l.jsx("input",{value:s.number,onChange:y=>c({...s,number:y.target.value}),style:g.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"Complemento"}),l.jsx("input",{value:s.complement,onChange:y=>c({...s,complement:y.target.value}),style:g.input,placeholder:"Ap 101, Bloco B"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"Profisso"}),l.jsx("input",{type:"text",value:s.profession,onChange:y=>c({...s,profession:y.target.value}),style:g.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),l.jsxs("div",{style:g.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"CPF (Chave PIX)"}),l.jsx("input",{type:"text",value:s.cpf,onChange:y=>{let _=y.target.value.replace(/\D/g,"");_.length>11&&(_=_.substring(0,11)),_=_.replace(/(\d{3})(\d)/,"$1.$2"),_=_.replace(/(\d{3})(\d)/,"$1.$2"),_=_.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),c(b=>({...b,cpf:_,pix_key:b.pix_key_type==="cpf"?_:b.pix_key}))},style:g.input,required:!0,placeholder:"000.000.000-00"})]}),l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"Tipo Chave PIX"}),l.jsxs("select",{value:s.pix_key_type,onChange:y=>{const _=y.target.value;c(b=>({...b,pix_key_type:_,pix_key:_==="cpf"?b.cpf:""}))},style:g.input,children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"email",children:"E-mail"}),l.jsx("option",{value:"phone",children:"Telefone"}),l.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),s.pix_key_type!=="cpf"&&l.jsxs("div",{children:[l.jsx("label",{style:g.label,children:"Chave PIX"}),l.jsx("input",{value:s.pix_key,onChange:y=>c({...s,pix_key:y.target.value}),style:g.input,required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:g.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h3",{style:{...g.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),l.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:g.button,children:"Ir para Login"})]})]})})}class X6 extends pf.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?l.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[l.jsx("h2",{children:"Algo deu errado."}),l.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),l.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function Z6(){return pf.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(X6,{children:l.jsx(Y6,{})})})})}function J6(){const e=fs(),[t,r]=w.useState(!1),[n,a]=w.useState(1),[i,o]=w.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),s=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await My(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},c=async()=>{if(i.cep.length>=8){r(!0);try{const f=await Zn(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await I.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const p=h.user.id,{error:x}=await I.from("profiles").upsert({id:p,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});x&&console.error("Erro ao criar/atualizar perfil:",x);const{data:v,error:g}=await I.from("subscribers").insert({profile_id:p,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(g)throw g;await I.from("consumer_units").insert({subscriber_id:v.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[l.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&l.jsx("form",{onSubmit:u,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CPF/CNPJ"}),l.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nome Completo"}),l.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Email"}),l.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Senha"}),l.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Telefone"}),l.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&l.jsx("form",{onSubmit:d,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CEP da Unidade Consumidora"}),l.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:c,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Rua"}),l.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),l.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nmero da Instalao (UC)"}),l.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}function Q6({user:e,onClose:t,onSave:r}){const[n,a]=w.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=w.useState(!1),[s,c]=w.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};w.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await I.from("profiles").select("id, name, role").neq("id",e.id);if(m){const p=u[h]||99,x=m.filter(v=>(u[v.role]||99)<p);c(x)}},f=async h=>{if(h.preventDefault(),n.phone&&!Oi(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:p}=await I.from("profiles").update(m).eq("id",e.id);if(p)throw p;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:"Editar Usurio"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nome"}),l.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:Vo(h.target.value)}),className:"input"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Funo (Role)"}),l.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[l.jsx("option",{value:"lead",children:"Lead"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Superior Imediato"}),l.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Sem superior"}),s.map(h=>l.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),l.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[l.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function eB(){const{user:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(null),[s,c]=w.useState(""),[u,d]=w.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=v=>f[v]||99;w.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:v,error:g}=await I.from("profiles").select("*").order("name");if(g)throw g;r(v||[])}catch(v){console.error("Error fetching users:",v),alert("Erro ao buscar usurios")}finally{a(!1)}},p=v=>{r(t.map(g=>g.id===v.id?v:g)),alert("Perfil atualizado com sucesso!")},x=t.filter(v=>{var _,b;const g=(((_=v.name)==null?void 0:_.toLowerCase())||"").includes(s.toLowerCase())||(((b=v.email)==null?void 0:b.toLowerCase())||"").includes(s.toLowerCase()),y=u?v.role===u:!0;return g&&y}).sort((v,g)=>h(v.role)-h(g.role));return l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:l.jsx("h2",{children:"Painel Administrativo"})}),l.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[l.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[l.jsx("input",{placeholder:"Buscar por nome ou email...",value:s,onChange:v=>c(v.target.value),className:"input",style:{width:"250px"}}),l.jsxs("select",{value:u,onChange:v=>d(v.target.value),className:"select",style:{width:"auto"},children:[l.jsx("option",{value:"",children:"Todos os Perfis"}),l.jsx("option",{value:"super_admin",children:"Super Admin"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?l.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Hierarquia"}),l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Perfil (Role)"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:x.map(v=>{var g,y;return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(v.role)]}),l.jsx("td",{children:v.name||"-"}),l.jsx("td",{children:v.email}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:v.role})}),l.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((g=v.commission_split)==null?void 0:g.start)||0,"% / ",((y=v.commission_split)==null?void 0:y.recorrente)||0,"%"]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>o(v),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},v.id)})})]})})]}),i&&l.jsx(Q6,{user:i,onClose:()=>o(null),onSave:p})]})}function UA({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=Jr(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),[o,s]=w.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",iluminacao_publica:"",tarifa_minima:"",outros_lancamentos:"",status:"a_vencer",valor_a_pagar:"",economia_reais:"",consumo_reais:""}),[c,u]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState(!1),p=b=>!b&&b!==0?"R$ 0,00":Number(b).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),x=b=>b?typeof b=="number"?b:Number(b.replace(/\D/g,""))/100:0;w.useEffect(()=>{if(e){if(s({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,iluminacao_publica:e.iluminacao_publica?p(e.iluminacao_publica):"",tarifa_minima:e.tarifa_minima?p(e.tarifa_minima):"",outros_lancamentos:e.outros_lancamentos?p(e.outros_lancamentos):"",valor_a_pagar:p(e.valor_a_pagar),economia_reais:p(e.economia_reais),consumo_reais:e.consumo_reais?p(e.consumo_reais):"",status:e.status}),t){const b=t.find(S=>S.id===e.uc_id);u(b)}}else t&&t.length>0&&(s(b=>({...b,uc_id:t[0].id})),u(t[0]))},[e,t]),w.useEffect(()=>{if(o.uc_id&&t){const b=t.find(S=>S.id===o.uc_id);u(b)}},[o.uc_id,t]),w.useEffect(()=>{if(o.consumo_kwh&&c){const b=Number(o.consumo_kwh);x(String(c.tarifa_concessionaria||"0"));const S=Number(c.tarifa_concessionaria)||0,j=Number(c.desconto_assinante)||0,E=b*S;let C=0;const A=j>1?j/100:j;C=E*A;const R=E-C,M=x(o.iluminacao_publica),k=x(o.tarifa_minima),H=x(o.outros_lancamentos),W=R+M+k+H;s(Z=>({...Z,economia_reais:p(C),consumo_reais:p(R),valor_a_pagar:p(W)}))}},[o.consumo_kwh,o.iluminacao_publica,o.tarifa_minima,o.outros_lancamentos,c]);const v=(b,S)=>{const j=S.replace(/\D/g,""),C=(Number(j)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});s(A=>({...A,[b]:C}))},g=(b,S)=>{const j=o.mes_referencia.split("-");let E=j[0]||new Date().getFullYear(),C=j[1]||"01";b==="month"&&(C=S),b==="year"&&(E=S),s(A=>({...A,mes_referencia:`${E}-${C}`}))},y=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const b=await If(e.id);b.url&&(alert("Boleto gerado com sucesso!"),window.open(b.url,"_blank"),n(),r())}catch(b){console.error(b),alert("Erro ao gerar boleto: "+b.message)}finally{m(!1)}}},_=async b=>{b.preventDefault(),f(!0);try{const S={uc_id:o.uc_id,mes_referencia:`${o.mes_referencia}-01`,vencimento:o.vencimento,consumo_kwh:Number(o.consumo_kwh),consumo_reais:x(o.consumo_reais),iluminacao_publica:x(o.iluminacao_publica),tarifa_minima:x(o.tarifa_minima),outros_lancamentos:x(o.outros_lancamentos),valor_a_pagar:x(o.valor_a_pagar),economia_reais:x(o.economia_reais),status:o.status};if(!S.uc_id)throw new Error("Selecione uma Unidade Consumidora.");let j;if(e!=null&&e.id?j=await I.from("invoices").update(S).eq("id",e.id).select().single():j=await I.from("invoices").insert(S).select().single(),j.error)throw j.error;n(),r()}catch(S){alert("Erro ao salvar fatura: "+S.message)}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"800px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Fatura":"Nova Fatura"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Preencha os dados de consumo e valores"})]}),l.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8"},children:""})]}),l.jsxs("form",{onSubmit:_,style:{padding:"1.5rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Unidade Consumidora"}),l.jsxs("select",{required:!0,value:o.uc_id,onChange:b=>s({...o,uc_id:b.target.value}),disabled:!!e,style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"0.95rem",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(b=>l.jsxs("option",{value:b.id,children:[b.numero_uc," - ",b.titular_conta]},b.id))]}),c&&l.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#3b82f6",background:"#eff6ff",padding:"0.5rem",borderRadius:"4px",display:"inline-flex",gap:"1rem"},children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Tarifa:"})," R$ ",Number(c.tarifa_concessionaria||0).toFixed(4)]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Desconto:"})," ",c.desconto_assinante||0,"%"]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Ms Referncia"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("select",{value:o.mes_referencia.split("-")[1],onChange:b=>g("month",b.target.value),style:{flex:1,padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((b,S)=>l.jsx("option",{value:b,children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][S]},b))}),l.jsx("select",{value:o.mes_referencia.split("-")[0],onChange:b=>g("year",b.target.value),style:{width:"80px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:Array.from({length:5},(b,S)=>new Date().getFullYear()-1+S).map(b=>l.jsx("option",{value:b,children:b},b))})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Vencimento"}),l.jsx("input",{type:"date",required:!0,value:o.vencimento,onChange:b=>s({...o,vencimento:b.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),i&&l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status"}),l.jsxs("select",{value:o.status,onChange:b=>s({...o,status:b.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:[l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"pago",children:"Pago"}),l.jsx("option",{value:"atrasado",children:"Atrasado"})]})]})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"1rem 0"}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(By,{size:18})," Dados de Consumo"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo (kWh)"}),l.jsx("input",{type:"number",step:"any",required:!0,value:o.consumo_kwh,onChange:b=>s({...o,consumo_kwh:b.target.value}),placeholder:"0",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Dy,{size:18})," Valores Adicionais"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Iluminao Pblica (R$)"}),l.jsx("input",{type:"text",value:o.iluminacao_publica,onChange:b=>v("iluminacao_publica",b.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa Mnima (R$)"}),l.jsx("input",{type:"text",value:o.tarifa_minima,onChange:b=>v("tarifa_minima",b.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Outros Lanamentos (R$)"}),l.jsx("input",{type:"text",value:o.outros_lancamentos,onChange:b=>v("outros_lancamentos",b.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),l.jsxs("div",{style:{background:"#f1f5f9",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(F3,{size:18})," Resumo do Clculo"]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Bruto:"}),l.jsxs("span",{style:{fontWeight:600},children:["R$ ",(Number(o.consumo_kwh)*(Number(c==null?void 0:c.tarifa_concessionaria)||0)).toFixed(2).replace(".",",")]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#166534",background:"#dcfce7",padding:"0.5rem",borderRadius:"4px"},children:[l.jsx("span",{children:"Economia Gerada:"}),l.jsxs("span",{style:{fontWeight:"bold"},children:["- ",o.economia_reais||"R$ 0,00"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Lquido (R$):"}),l.jsx("span",{style:{fontWeight:600},children:o.consumo_reais||"R$ 0,00"})]}),l.jsx("div",{style:{height:"1px",background:"#cbd5e1",margin:"0.5rem 0"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Ilum. Pblica:"}),l.jsx("span",{children:o.iluminacao_publica||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Tarifa Mnima:"}),l.jsx("span",{children:o.tarifa_minima||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Outros:"}),l.jsx("span",{children:o.outros_lancamentos||"R$ 0,00"})]}),l.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px dashed #cbd5e1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#64748b",marginBottom:"0.2rem"},children:"Total a Pagar"}),l.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:o.valor_a_pagar||"R$ 0,00"})]})]})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[(e==null?void 0:e.id)&&!e.asaas_boleto_url&&l.jsx("button",{type:"button",onClick:y,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:h?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx($f,{size:18})," Emitir Boleto Agora"]})}),(e==null?void 0:e.asaas_boleto_url)&&l.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534",fontWeight:"bold",textDecoration:"none"},children:[l.jsx(La,{size:18})," Ver Boleto Emitido"]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function tB(){var S;const{user:e,profile:t}=Jr(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,s]=w.useState(!0),[c,u]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState(null),[p,x]=w.useState(!1),v=["super_admin","admin","manager"].includes(t==null?void 0:t.role);w.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{s(!0);let j;const{data:E}=await I.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(E){j=E.id,u(E.id);const{data:C}=await I.from("consumer_units").select("*").eq("subscriber_id",j);if(n(C||[]),C&&C.length>0){const A=C.map(M=>M.id),{data:R}=await I.from("invoices").select("*").in("uc_id",A).order("vencimento",{ascending:!1});i(R||[])}}else if(v){const{data:C}=await I.from("consumer_units").select("*");if(n(C||[]),C&&C.length>0){const{data:A}=await I.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(A||[])}}}catch(j){console.error("Error fetching dashboard data:",j)}finally{s(!1)}},y=j=>{const E=a.find(C=>C.id===j.id);i(E?a.map(C=>C.id===j.id?j:C):[j,...a]),alert("Fatura salva com sucesso!")},_=a.reduce((j,E)=>j+(E.economia_reais||0),0),b=a[0];return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Viso Geral do Assinante"}),l.jsx("div",{style:{display:"flex",gap:"1rem"},children:v&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),l.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),l.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",_.toFixed(2)]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:b?`R$ ${(S=b.valor_a_pagar)==null?void 0:S.toFixed(2)}`:"-"}),l.jsx("small",{style:{color:"var(--color-text-light)"},children:b?new Date(b.vencimento).toLocaleDateString():""})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),l.jsx("h3",{children:"Minhas Faturas"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),l.jsx("tbody",{children:a.map(j=>{var E,C;return l.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[l.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(j.vencimento).toLocaleDateString()}),l.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[j.consumo_kwh," kWh"]}),l.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=j.valor_a_pagar)==null?void 0:E.toFixed(2)]}),l.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(C=j.economia_reais)==null?void 0:C.toFixed(2)]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{className:`badge ${j.status==="pago"?"badge-success":"badge-error"}`,children:j.status==="pago"?"Pago":"A Vencer"})}),l.jsx("td",{style:{padding:"1rem"},children:v?l.jsx("button",{onClick:()=>{m(j),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):l.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},j.id)})})]})}),d&&l.jsx(UA,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:y}),p&&l.jsx(Iy,{consumerUnit:{subscriber_id:c},onClose:()=>x(!1),onSave:()=>{g(),x(!1)}})]})}function rB(){const{user:e,profile:t}=Jr(),[r,n]=w.useState([]),[a,i]=w.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;w.useEffect(()=>{async function u(){const{data:d}=await I.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await I.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await I.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&u()},[e]);const s=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},c=async u=>{var h;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await I.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:p}=await I.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(p)throw p;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await I.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Originador"}),l.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[l.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[l.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),l.jsx("button",{onClick:s,className:"btn btn-accent",children:"Copiar"})]})]}),l.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data"})]})}),l.jsxs("tbody",{children:[r.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.name}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:u.status})}),l.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),l.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Faturas Proc."}),l.jsx("th",{children:"Valor (R$)"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data Pagt."}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:a.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),l.jsx("td",{children:u.total_invoices}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("td",{children:l.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),l.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),l.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&l.jsx("button",{onClick:()=>c(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function nB(){const{user:e}=Jr(),[t,r]=w.useState([]);return w.useEffect(()=>{async function n(){const{data:a}=await I.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await I.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Fornecedor"}),l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[l.jsx("h3",{children:"Minhas Usinas"}),l.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),l.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>l.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[l.jsx("h4",{children:n.name}),l.jsxs("p",{children:["Status: ",l.jsx("strong",{children:n.status})]}),l.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function aB({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=Jr(),[o,s]=w.useState([]),c=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[u,d]=w.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=w.useState(!1),[m,p]=w.useState(!1);w.useEffect(()=>{x(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(_=>({..._,originator_id:i.id}))},[e,i]);const x=async()=>{const{data:_}=await I.from("originators_v2").select("id, name").order("name");s(_||[])},v=async()=>{const _=u.cep.replace(/\D/g,"");if(_.length===8){p(!0);try{const b=await Zn(_);let S={};if(b.ibge)try{const j=await lc(b.ibge);j&&(S=j)}catch(j){console.error("Erro na oferta",j)}d(j=>({...j,rua:b.rua||"",bairro:b.bairro||"",cidade:b.cidade||"",uf:b.uf||"",concessionaria:(S==null?void 0:S.Concessionaria)||j.concessionaria||"",tarifa_concessionaria:(S==null?void 0:S["Tarifa Concessionaria"])||j.tarifa_concessionaria||"",desconto_assinante:(S==null?void 0:S["Desconto Assinante"])||j.desconto_assinante||""}))}catch(b){console.error("Erro ao buscar CEP:",b),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{p(!1)}}},g=async _=>{if(_.preventDefault(),u.phone&&!Oi(u.phone)){alert("Telefone invlido!");return}h(!0);try{const b={...u};b.tarifa_concessionaria=b.tarifa_concessionaria?Number(b.tarifa_concessionaria):null,b.consumo_kwh=b.consumo_kwh?Number(b.consumo_kwh):null,b.desconto_assinante=b.desconto_assinante?Number(b.desconto_assinante):null,b.originator_id===""&&(b.originator_id=null);let S;if(e!=null&&e.id?S=await I.from("leads").update(b).eq("id",e.id).select().single():S=await I.from("leads").insert(b).select().single(),S.error)throw S.error;r(S.data),t()}catch(b){alert("Erro ao salvar lead: "+b.message)}finally{h(!1)}},y=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:_}=await I.from("leads").delete().eq("id",e.id);if(_)throw _;n&&n(e.id),t()}catch(_){alert("Erro ao excluir lead: "+_.message)}finally{h(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),l.jsxs("form",{onSubmit:g,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsx("select",{value:u.status,onChange:_=>d({...u,status:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:c.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),l.jsxs("select",{value:u.originator_id,onChange:_=>d({...u,originator_id:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),l.jsx("input",{required:!0,value:u.name,onChange:_=>d({...u,name:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:u.phone,onChange:_=>d({...u,phone:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:u.email,onChange:_=>d({...u,email:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),l.jsx("input",{placeholder:"00000-000",value:u.cep,onChange:_=>d({...u,cep:_.target.value}),onBlur:v,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),l.jsx("input",{value:`${u.cidade} - ${u.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:u.rua,onChange:_=>d({...u,rua:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:u.numero,onChange:_=>d({...u,numero:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:u.complemento,onChange:_=>d({...u,complemento:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:u.bairro,onChange:_=>d({...u,bairro:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),l.jsx("input",{type:"number",value:u.consumo_kwh,onChange:_=>d({...u,consumo_kwh:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),l.jsx("input",{value:u.concessionaria,onChange:_=>d({...u,concessionaria:_.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),l.jsx("input",{type:"number",step:"0.0001",value:u.tarifa_concessionaria,onChange:_=>d({...u,tarifa_concessionaria:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),l.jsx("input",{type:"number",step:"0.01",value:u.desconto_assinante,onChange:_=>d({...u,desconto_assinante:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),l.jsx("input",{value:(()=>{const _=Number(u.consumo_kwh)||0,b=Number(u.tarifa_concessionaria)||0,S=Number(u.desconto_assinante)||0;if(_&&b&&S){const E=_*b*(S/100);return isNaN(E)?"R$ 0,00":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:y,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&l.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function iB(){const{profile:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(!1),[s,c]=w.useState(!1),[u,d]=w.useState(null),[f,h]=w.useState(null),[m,p]=w.useState("list"),[x,v]=w.useState(""),g=t.filter(C=>{var R,M,k;if(!x)return!0;const A=x.toLowerCase();return((R=C.name)==null?void 0:R.toLowerCase().includes(A))||((M=C.email)==null?void 0:M.toLowerCase().includes(A))||((k=C.phone)==null?void 0:k.includes(A))});w.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const{data:C,error:A}=await I.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(A)throw A;r(C||[])}catch(C){console.error("Error fetching leads:",C)}finally{a(!1)}},_=C=>{t.find(R=>R.id===C.id)?(r(t.map(R=>R.id===C.id?{...R,...C}:R)),y()):(r([C,...t]),y())},b=C=>{r(t.filter(A=>A.id!==C))},S=C=>{h(C),c(!0)},j=async C=>{try{await I.from("leads").update({status:"em_negociacao"}).eq("id",f.id),y(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(A){console.error("Erro ao atualizar status do lead",A)}},E={simulacao:"#64748b",indicado:"#0ea5e9",em_negociacao:"#eab308",ativo:"#22c55e",negocio_perdido:"#ef4444",pago:"#8b5cf6"};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Leads"}),l.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:x,onChange:C=>v(C.target.value),className:"input",style:{maxWidth:"350px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>p("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>p("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:m==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:g.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Originador"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:g.map(C=>{var A;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:C.name}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:C.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:C.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:C.status==="simulacao"?"#f1f5f9":C.status==="em_negociacao"?"#fef9c3":C.status==="ativo"?"#dcfce7":"#f1f5f9",color:C.status==="simulacao"?"#64748b":C.status==="em_negociacao"?"#a16207":C.status==="ativo"?"#166534":"#64748b"},children:C.status.toUpperCase().replace("_"," ")})}),l.jsx("td",{children:((A=C.originator)==null?void 0:A.name)||"-"}),l.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>{d(C),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),C.status!=="convertido"&&l.jsx("button",{onClick:()=>S(C),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},C.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["simulacao","indicado","em_negociacao","ativo","negocio_perdido","pago"].map(C=>{const A=g.filter(M=>M.status===C),R=E[C]||"#64748b";return l.jsxs("div",{style:{minWidth:"280px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${R}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:R},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:C.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:R,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:A.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:A.map(M=>{var k,H;return l.jsxs("div",{onClick:()=>{d(M),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:W=>W.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:W=>W.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:M.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:M.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:M.phone}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[l.jsx("span",{children:(H=(k=M.originator)==null?void 0:k.name)==null?void 0:H.split(" ")[0]}),l.jsx("span",{children:new Date(M.created_at).toLocaleDateString()})]})]},M.id)})})]},C)})})}),i&&l.jsx(aB,{lead:u,onClose:()=>o(!1),onSave:_,onDelete:b,onConvert:S}),s&&l.jsx($y,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>c(!1),onSave:j})]})}function oB(){const{profile:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(!1),[s,c]=w.useState(null),[u,d]=w.useState("list"),[f,h]=w.useState(""),[m,p]=w.useState(null),x=t.filter(S=>{var E,C,A,R;if(!f)return!0;const j=f.toLowerCase();return((E=S.name)==null?void 0:E.toLowerCase().includes(j))||((C=S.email)==null?void 0:C.toLowerCase().includes(j))||((A=S.phone)==null?void 0:A.includes(j))||((R=S.cpf_cnpj)==null?void 0:R.includes(j))});w.useEffect(()=>{v()},[]);const v=async()=>{a(!0);try{const{data:S,error:j}=await I.from("subscribers").select("*").order("created_at",{ascending:!1});if(j)throw j;r(S||[])}catch(S){console.error("Error fetching subscribers:",S)}finally{a(!1)}},g=S=>{const j=t.find(E=>E.id===S.id);r(j?t.map(E=>E.id===S.id?{...E,...S}:E):[S,...t])},y=async S=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${S.name}?`)){p(S.id);try{const j=await If(S.id,"subscriber");j.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(j.url,"_blank"))}catch(j){console.error(j),alert("Erro: "+(j.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{p(null)}}},_={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},b=S=>{r(t.filter(j=>j.id!==S))};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Assinantes"}),l.jsx("button",{onClick:()=>{c(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:S=>h(S.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),l.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:u==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:x.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),l.jsx("tbody",{children:x.map(S=>{var j,E,C,A,R;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold"},children:S.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:S.cpf_cnpj})]}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:S.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:S.phone})]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(j=S.status)!=null&&j.includes("ativo")?"#dcfce7":(E=S.status)!=null&&E.includes("cancelado")?"#fee2e2":"#dbeafe",color:(C=S.status)!=null&&C.includes("ativo")?"#166534":(A=S.status)!=null&&A.includes("cancelado")?"#dc2626":"#1e40af"},children:(R=S.status)==null?void 0:R.toUpperCase().replace("_"," ")})}),l.jsx("td",{style:{padding:"1rem"},children:S.cidade?`${S.cidade}/${S.uf}`:"-"}),l.jsx("td",{style:{padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>y(S),disabled:m===S.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===S.id?"...":l.jsx($f,{size:14})}),l.jsx("button",{onClick:()=>{c(S),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},S.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(S=>{const j=x.filter(C=>C.status===S),E=_[S]||"#64748b";return l.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${E}`},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:E},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:S.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:E,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:j.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:j.map(C=>l.jsxs("div",{onClick:()=>{c(C),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:A=>A.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:A=>A.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:C.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:C.cpf_cnpj}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:C.email}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[l.jsx("span",{children:C.cidade}),l.jsx("span",{children:new Date(C.created_at).toLocaleDateString()})]})]},C.id))})]},S)})})}),i&&l.jsx($y,{subscriber:s,onClose:()=>o(!1),onSave:g,onDelete:b})]})}function sB({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=w.useState(!1),[o,s]=w.useState(!1),[c,u]=w.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var p,x,v,g,y,_,b,S,j;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((p=e.split_commission)==null?void 0:p.start)||0,split_recurrent:((x=e.split_commission)==null?void 0:x.recurrent)||0,cep:((v=e.address)==null?void 0:v.cep)||"",rua:((g=e.address)==null?void 0:g.rua)||"",numero:((y=e.address)==null?void 0:y.numero)||"",complemento:((_=e.address)==null?void 0:_.complemento)||"",bairro:((b=e.address)==null?void 0:b.bairro)||"",cidade:((S=e.address)==null?void 0:S.cidade)||"",uf:((j=e.address)==null?void 0:j.uf)||""})},[e]);const d=async()=>{const p=c.cep.replace(/\D/g,"");if(p.length===8){s(!0);try{const x=await Zn(p);u(v=>({...v,rua:x.rua||"",bairro:x.bairro||"",cidade:x.cidade||"",uf:x.uf||""}))}catch(x){console.error("Erro CEP",x),alert("Erro ao buscar CEP")}finally{s(!1)}}};w.useEffect(()=>{if(c.pix_key_type==="aleatoria")return;let p="";c.pix_key_type==="cpf"||c.pix_key_type==="cnpj"?p=c.cpf_cnpj:c.pix_key_type==="email"?p=c.email:c.pix_key_type==="telefone"&&(p=c.phone),p!==c.pix_key&&u(x=>({...x,pix_key:p}))},[c.pix_key_type,c.cpf_cnpj,c.email,c.phone]);const f=async p=>{if(p.preventDefault(),!Hf(c.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!Oi(c.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const x={name:c.name,cpf_cnpj:c.cpf_cnpj,email:c.email,phone:c.phone,pix_key:c.pix_key,pix_key_type:c.pix_key_type,split_commission:{start:Number(c.split_start)||0,recurrent:Number(c.split_recurrent)||0},address:{cep:c.cep,rua:c.rua,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cidade:c.cidade,uf:c.uf}};try{let v;if(e!=null&&e.id?v=await I.from("originators_v2").update(x).eq("id",e.id).select().single():v=await I.from("originators_v2").insert(x).select().single(),v.error)throw v.error;r(v.data),t()}catch(v){alert("Erro ao salvar originador: "+v.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:p}=await I.from("originators_v2").delete().eq("id",e.id);if(p)throw p;n&&n(e.id),t()}catch(p){alert("Erro ao excluir: "+p.message)}finally{i(!1)}}},m=e?`${window.location.origin}/originador?id=${e.id}`:"Salver para gerar URL";return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[l.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:`${window.location.origin}/originador?id=${e.id}`,readOnly:!0,className:"input",style:{color:"#0284c7"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/originador?id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),l.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),l.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[l.jsx("label",{className:"label",children:"Nome Completo"}),l.jsx("input",{value:c.name,onChange:p=>u({...c,name:p.target.value}),className:"input",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CPF/CNPJ"}),l.jsx("input",{value:c.cpf_cnpj,onChange:p=>u({...c,cpf_cnpj:qf(p.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Email"}),l.jsx("input",{type:"email",value:c.email,onChange:p=>u({...c,email:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:c.phone,onChange:p=>u({...c,phone:Vo(p.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Tipo Chave PIX"}),l.jsxs("select",{value:c.pix_key_type,onChange:p=>u({...c,pix_key_type:p.target.value}),className:"select",children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Chave PIX"}),l.jsx("input",{value:c.pix_key,onChange:p=>u({...c,pix_key:p.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:c.cep,onChange:p=>u({...c,cep:p.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:c.rua,onChange:p=>u({...c,rua:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:c.numero,onChange:p=>u({...c,numero:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:c.complemento,onChange:p=>u({...c,complemento:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:c.bairro,onChange:p=>u({...c,bairro:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:c.cidade,onChange:p=>u({...c,cidade:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:c.uf,onChange:p=>u({...c,uf:p.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_start,onChange:p=>u({...c,split_start:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_recurrent,onChange:p=>u({...c,split_recurrent:p.target.value}),className:"input"})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[l.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&l.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function lB(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(""),[o,s]=w.useState(!1),[c,u]=w.useState(null);w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:y,error:_}=await I.from("originators_v2").select("*").order("name");_?console.error("Error fetching originators:",_):t(y||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const y=new Date().toISOString().split("T")[0],{data:_,error:b}=await I.rpc("generate_monthly_commissions",{target_date:y});if(b)throw b;alert(`Processamento concludo!
Faturas processadas: ${_.invoices_processed}
Valor total gerado: R$ ${_.total_commission_value}`)}catch(y){console.error("Error processing commissions:",y),alert("Erro ao processar comisses: "+(y.message||"Erro desconhecido"))}finally{n(!1)}}},h=y=>{u(y),s(!0)},m=()=>{u(null),s(!0)},p=y=>{d()},x=y=>{d()},v=y=>{const _=`${window.location.origin}/clientes?id=${y}`;navigator.clipboard.writeText(_),alert("Link copiado: "+_)},g=e.filter(y=>{var _,b;return((_=y.name)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))||((b=y.email)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))});return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:"Gesto de Originadores"}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),l.jsxs("button",{onClick:m,className:"btn btn-accent",children:[l.jsx(Lf,{size:18})," Novo Originador"]})]})]}),l.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[l.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:y=>i(y.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),l.jsx(BA,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Chave PIX"}),l.jsx("th",{children:"Link"}),l.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),l.jsx("tbody",{children:g.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):g.map(y=>{var _,b;return l.jsxs("tr",{children:[l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:y.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:y.cpf_cnpj})]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:y.email}),l.jsx("div",{style:{fontSize:"0.9rem"},children:y.phone})]}),l.jsx("td",{children:l.jsxs("span",{className:"badge badge-success",children:[((_=y.split_commission)==null?void 0:_.start)||0,"% / ",((b=y.split_commission)==null?void 0:b.recurrent)||0,"%"]})}),l.jsx("td",{style:{fontSize:"0.9rem"},children:y.pix_key||"-"}),l.jsx("td",{children:l.jsx("button",{onClick:()=>v(y.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:l.jsx(c6,{size:16,color:"var(--color-blue)"})})}),l.jsx("td",{style:{textAlign:"right"},children:l.jsx("button",{onClick:()=>h(y),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:l.jsx(P6,{size:18})})})]},y.id)})})]})})}),o&&l.jsx(sB,{originator:c,onClose:()=>s(!1),onSave:p,onDelete:x})]})}function cB({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=Jn(),[o,s]=w.useState(!1),[c,u]=w.useState([]),[d,f]=w.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var g,y,_,b,S,j,E,C,A;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((g=e.address)==null?void 0:g.cep)||"",rua:((y=e.address)==null?void 0:y.logradouro)||((_=e.address)==null?void 0:_.rua)||"",numero:((b=e.address)==null?void 0:b.numero)||"",complemento:((S=e.address)==null?void 0:S.complemento)||"",bairro:((j=e.address)==null?void 0:j.bairro)||"",cidade:((E=e.address)==null?void 0:E.municipio)||((C=e.address)==null?void 0:C.cidade)||"",uf:((A=e.address)==null?void 0:A.uf)||""}),h(e.id))},[e]);const h=async g=>{const{data:y}=await I.from("usinas").select("id, name, status").eq("supplier_id",g);u(y||[])},m=async()=>{const g=d.cnpj.replace(/\D/g,"");if(g.length===14){s(!0);try{const y=await My(g);y&&f(_=>{var b,S,j,E,C,A,R,M,k;return{..._,name:y.nome||_.name,email:y.email||_.email,phone:y.telefone||_.phone,legal_partner_name:((b=y.legal_partner)==null?void 0:b.nome)||_.legal_partner_name,legal_partner_cpf:((S=y.legal_partner)==null?void 0:S.cpf)||_.legal_partner_cpf,cep:((j=y.address)==null?void 0:j.cep)||_.cep,rua:((E=y.address)==null?void 0:E.logradouro)||_.rua,numero:((C=y.address)==null?void 0:C.numero)||_.numero,complemento:((A=y.address)==null?void 0:A.complemento)||_.complemento,bairro:((R=y.address)==null?void 0:R.bairro)||_.bairro,cidade:((M=y.address)==null?void 0:M.municipio)||_.cidade,uf:((k=y.address)==null?void 0:k.uf)||_.uf}})}catch(y){console.error("Erro CNPJ",y),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{s(!1)}}},p=g=>{const y=g.target.value;let _=d.pix_key;switch(y){case"telefone":_=d.phone;break;case"email":_=d.email;break;case"cnpj":_=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(_=d.legal_partner_cpf);break}f(b=>({...b,pix_key_type:y,pix_key:_}))},x=async g=>{if(g.preventDefault(),d.cnpj&&!Hf(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!Oi(d.phone)){a("Telefone invlido!","warning");return}s(!0);try{console.log("Submitting payload:",d);const y={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",y);let _;if(e!=null&&e.id?_=await I.from("suppliers").update(y).eq("id",e.id).select().single():_=await I.from("suppliers").insert(y).select().single(),console.log("Supabase result:",_),_.error)throw _.error;r(_.data),t()}catch(y){console.error("Save error details:",y);const _=y.message||JSON.stringify(y);_.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await I.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+_,"error")}finally{s(!1)}},v=async()=>{if(c.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){s(!0);try{const{error:y}=await I.from("suppliers").delete().eq("id",e.id);if(y)throw y;n&&n(e.id),t()}catch(y){a("Erro ao excluir: "+y.message,"error")}finally{s(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),l.jsxs("form",{onSubmit:x,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),l.jsx("input",{value:d.cnpj,onChange:g=>f({...d,cnpj:g.target.value}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),l.jsx("input",{required:!0,value:d.name,onChange:g=>f({...d,name:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),l.jsx("input",{value:d.legal_partner_name,onChange:g=>f({...d,legal_partner_name:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),l.jsx("input",{value:d.legal_partner_cpf,onChange:g=>f({...d,legal_partner_cpf:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),l.jsx("input",{value:d.cnpj,onChange:g=>f({...d,cnpj:qf(g.target.value)}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{value:d.phone,onChange:g=>f({...d,phone:Vo(g.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:d.email,onChange:g=>f({...d,email:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),l.jsxs("select",{value:d.pix_key_type,onChange:p,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),l.jsx("input",{value:d.pix_key,onChange:g=>f({...d,pix_key:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:g=>f({...d,status:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"ativacao",children:"Em Ativao"}),l.jsx("option",{value:"ativo",children:"Ativo"}),l.jsx("option",{value:"inativo",children:"Inativo"})]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),l.jsx("input",{value:d.cep,onChange:g=>f({...d,cep:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:d.rua,onChange:g=>f({...d,rua:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:d.numero,onChange:g=>f({...d,numero:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:d.complemento,onChange:g=>f({...d,complemento:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:d.bairro,onChange:g=>f({...d,bairro:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:d.cidade,onChange:g=>f({...d,cidade:g.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsx("input",{value:d.uf,onChange:g=>f({...d,uf:g.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&c.length>0&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),l.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:c.map(g=>l.jsxs("li",{children:[g.name," - ",l.jsx("span",{style:{opacity:.7},children:g.status})]},g.id))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:v,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function uB(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,s]=w.useState(null);w.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const{data:f,error:h}=await I.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{c(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Fornecedores (Geradores)"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:e.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome/Razo Social"}),l.jsx("th",{children:"CNPJ"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(f=>{var h;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:f.name}),l.jsx("td",{children:f.cnpj}),l.jsxs("td",{children:[l.jsx("div",{children:f.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{s(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&l.jsx(cB,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function qA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=qA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=qA(e))&&(n&&(n+=" "),n+=t);return n}var dB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ly(e){if(typeof e!="string")return!1;var t=dB;return t.includes(e)}var fB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hB=new Set(fB);function HA(e){return typeof e!="string"?!1:hB.has(e)}function WA(e){return typeof e=="string"&&e.startsWith("data-")}function Ln(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(HA(r)||WA(r))&&(t[r]=e[r]);return t}function Uy(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ln(t)}return typeof e=="object"&&!Array.isArray(e)?Ln(e):null}function Pr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(HA(r)||WA(r)||Ly(r))&&(t[r]=e[r]);return t}var mB=["children","width","height","viewBox","className","style","title","desc"];function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(null,arguments)}function pB(e,t){if(e==null)return{};var r,n,a=gB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FA=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:s,title:c,desc:u}=e,d=pB(e,mB),f=i||{width:n,height:a,x:0,y:0},h=De("recharts-surface",o);return w.createElement("svg",Sg({},Pr(d),{className:h,width:n,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,c),w.createElement("desc",null,u),r)}),vB=["children","className"];function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(null,arguments)}function yB(e,t){if(e==null)return{};var r,n,a=bB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Un=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=yB(e,vB),i=De("recharts-layer",n);return w.createElement("g",jg({className:i},Pr(a),{ref:t}),r)}),xB=w.createContext(null);function Ae(e){return function(){return e}}const VA=Math.cos,xd=Math.sin,Qr=Math.sqrt,wd=Math.PI,Wf=2*wd,Eg=Math.PI,Cg=2*Eg,ni=1e-6,wB=Cg-ni;function GA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _B(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return GA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class SB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?GA:_B(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,u=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ni)if(!(Math.abs(f*c-u*d)>ni)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-s,x=c*c+u*u,v=m*m+p*p,g=Math.sqrt(x),y=Math.sqrt(h),_=i*Math.tan((Eg-Math.acos((x+h-v)/(2*g*y)))/2),b=_/y,S=_/g;Math.abs(b-1)>ni&&this._append`L${t+b*d},${r+b*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),u=t+s,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ni||Math.abs(this._y1-d)>ni)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Cg+Cg),h>wB?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ni&&this._append`A${n},${n},0,${+(h>=Eg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new SB(t)}function Hy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KA(e){this._context=e}KA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ff(e){return new KA(e)}function YA(e){return e[0]}function XA(e){return e[1]}function ZA(e,t){var r=Ae(!0),n=null,a=Ff,i=null,o=qy(s);e=typeof e=="function"?e:e===void 0?YA:Ae(e),t=typeof t=="function"?t:t===void 0?XA:Ae(t);function s(c){var u,d=(c=Hy(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ae(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ae(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ae(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function ru(e,t,r){var n=null,a=Ae(!0),i=null,o=Ff,s=null,c=qy(u);e=typeof e=="function"?e:e===void 0?YA:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?XA:Ae(+r);function u(f){var h,m,p,x=(f=Hy(f)).length,v,g=!1,y,_=new Array(x),b=new Array(x);for(i==null&&(s=o(y=c())),h=0;h<=x;++h){if(!(h<x&&a(v=f[h],h,f))===g)if(g=!g)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=m;--p)s.point(_[p],b[p]);s.lineEnd(),s.areaEnd()}g&&(_[h]=+e(v,h,f),b[h]=+t(v,h,f),s.point(n?+n(v,h,f):_[h],r?+r(v,h,f):b[h]))}if(y)return s=null,y+""||null}function d(){return ZA().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ae(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class JA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jB(e){return new JA(e,!0)}function EB(e){return new JA(e,!1)}const Wy={draw(e,t){const r=Qr(t/wd);e.moveTo(r,0),e.arc(0,0,r,0,Wf)}},CB={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},QA=Qr(1/3),OB=QA*2,AB={draw(e,t){const r=Qr(t/OB),n=r*QA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},TB={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},kB=.8908130915292852,e2=xd(wd/10)/xd(7*wd/10),RB=xd(Wf/10)*e2,NB=-VA(Wf/10)*e2,PB={draw(e,t){const r=Qr(t*kB),n=RB*r,a=NB*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Wf*i/5,s=VA(o),c=xd(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},Um=Qr(3),MB={draw(e,t){const r=-Qr(t/(Um*3));e.moveTo(0,r*2),e.lineTo(-Um*r,-r),e.lineTo(Um*r,-r),e.closePath()}},br=-.5,xr=Qr(3)/2,Og=1/Qr(12),DB=(Og/2+1)*3,zB={draw(e,t){const r=Qr(t/DB),n=r/2,a=r*Og,i=n,o=r*Og+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(br*n-xr*a,xr*n+br*a),e.lineTo(br*i-xr*o,xr*i+br*o),e.lineTo(br*s-xr*c,xr*s+br*c),e.lineTo(br*n+xr*a,br*a-xr*n),e.lineTo(br*i+xr*o,br*o-xr*i),e.lineTo(br*s+xr*c,br*c-xr*s),e.closePath()}};function BB(e,t){let r=null,n=qy(a);e=typeof e=="function"?e:Ae(e||Wy),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function _d(){}function Sd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function t2(e){this._context=e}t2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IB(e){return new t2(e)}function r2(e){this._context=e}r2.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $B(e){return new r2(e)}function n2(e){this._context=e}n2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LB(e){return new n2(e)}function a2(e){this._context=e}a2.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function UB(e){return new a2(e)}function L1(e){return e<0?-1:1}function U1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(L1(i)+L1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function q1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function jd(e){this._context=e}jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qm(this,this._t0,q1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qm(this,q1(this,r=U1(this,e,t)),r);break;default:qm(this,this._t0,r=U1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function i2(e){this._context=new o2(e)}(i2.prototype=Object.create(jd.prototype)).point=function(e,t){jd.prototype.point.call(this,t,e)};function o2(e){this._context=e}o2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function qB(e){return new jd(e)}function HB(e){return new i2(e)}function s2(e){this._context=e}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=H1(e),a=H1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function H1(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function WB(e){return new s2(e)}function Vf(e,t){this._context=e,this._t=t}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function FB(e){return new Vf(e,.5)}function VB(e){return new Vf(e,0)}function GB(e){return new Vf(e,1)}function Ai(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Ag(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function KB(e,t){return e[t]}function YB(e){const t=[];return t.key=e,t}function XB(){var e=Ae([]),t=Ag,r=Ai,n=KB;function a(i){var o=Array.from(e.apply(this,arguments),YB),s,c=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=Hy(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Ag:typeof i=="function"?i:Ae(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ai,a):r},a}function ZB(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Ai(e,t)}}function JB(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ai(e,t)}}function QB(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<s;++p){var x=e[t[p]],v=x[n][1]||0,g=x[n-1][1]||0;m+=v-g}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ai(e,t)}}var Gf={},l2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(l2);var Fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Fy);var Kf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Kf);var Yf={},c2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(c2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c2,r=Kf;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,c+=a[s]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,s++}return c&&i.push(c),i}e.toPath=n})(Yf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l2,r=Fy,n=Kf,a=Yf;function i(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?r.isDeepKey(c)?i(s,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?u:d}}}function o(s,c,u){if(c.length===0)return u;let d=s;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Gf);var e8=Gf.get;const Go=Yn(e8);var t8=4;function Ea(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t8,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function qe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var s=r[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Ea(s)+i:a+i},"")}var Vt=e=>e===0?0:e>0?1:-1,Kr=e=>typeof e=="number"&&e!=+e,qn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,G=e=>(typeof e=="number"||e instanceof Number)&&!Kr(e),ln=e=>G(e)||typeof e=="string",r8=0,Nl=e=>{var t=++r8;return"".concat(e||"").concat(t)},Yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!G(t)&&typeof t!="string")return n;var i;if(qn(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Kr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},u2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function _t(e,t,r){return G(e)&&G(t)?Ea(e+r*(t-e)):t}function n8(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Go(n,t))===r)}var gt=e=>e===null||typeof e>"u",cc=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function a8(e){return e!=null}function uc(){}var i8=["type","size","sizeType"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(null,arguments)}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){o8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=l8(e,"string");return typeof t=="symbol"?t:t+""}function l8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8(e,t){if(e==null)return{};var r,n,a=u8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d2={symbolCircle:Wy,symbolCross:CB,symbolDiamond:AB,symbolSquare:TB,symbolStar:PB,symbolTriangle:MB,symbolWye:zB},d8=Math.PI/180,f8=e=>{var t="symbol".concat(cc(e));return d2[t]||Wy},h8=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*d8;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},m8=(e,t)=>{d2["symbol".concat(cc(e))]=t},f2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=c8(e,i8),i=F1(F1({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=f8(o),m=BB().type(h).size(h8(r,n,o)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=i,f=Pr(i);return G(u)&&G(d)&&G(r)?w.createElement("path",Tg({},f,{className:De("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};f2.registerSymbol=m8;var h2=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,p8=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Ly(a)&&(n[a]=i=>r[a](r,i))}),n},g8=(e,t,r)=>n=>(e(t,r,n),null),Vy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Ly(a)&&typeof i=="function"&&(n||(n={}),n[a]=g8(i,t,r))}),n};function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y8(e,t,r){return(t=b8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b8(e){var t=x8(e,"string");return typeof t=="symbol"?t:t+""}function x8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=v8({},e),n=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return i}var m2={},p2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],s=n(o,i,r);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(p2);var g2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(g2);var Gy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Gy);var v2={},Xf={},y2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(y2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Xf);var b2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(b2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xf,r=b2;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(v2);var x2={},w2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(w2);var _2={},Ky={},S2={},Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Yy);var Xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Xy);var Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Zy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yy,r=Xy,n=Zy;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(p,x,v,g,y,_){const b=h(p,x,v,g,y,_);return b!==void 0?!!b:i(p,x,m,_)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return s(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null||r.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<p.length;x++){const v=p[x];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const v=d.get(p);if(h(v,x,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const v=f[x];let g=!1;for(let y=0;y<d.length;y++){if(p.has(y))continue;const _=d[y];let b=!1;if(h(_,v,x,d,f,m)&&(b=!0),b){p.add(y),g=!0;break}}if(!g)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(S2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S2;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Ky);var j2={},Jy={},E2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(E2);var Zf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Zf);var Qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",v="[object Uint8Array]",g="[object Uint8ClampedArray]",y="[object Uint16Array]",_="[object Uint32Array]",b="[object BigUint64Array]",S="[object Int8Array]",j="[object Int16Array]",E="[object Int32Array]",C="[object BigInt64Array]",A="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=b,e.booleanTag=a,e.dataViewTag=x,e.dateTag=s,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=R,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=E,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=y,e.uint32ArrayTag=_,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=g})(Qy);var C2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(C2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E2,r=Zf,n=Qy,a=Xy,i=C2;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=s(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[g,y]of d)v.set(g,s(y,g,h,m,p));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const g of d)v.add(s(g,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=s(d[g],g,h,m,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),c(v,d,h,m,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,m,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof String){const v=new String(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),c(v,d,h,m,p),v}return d}function c(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const g=x[v],y=Object.getOwnPropertyDescriptor(d,g);(y==null||y.writable)&&(d[g]=s(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(Jy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(j2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=j2;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(_2);var O2={},A2={},T2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy,r=Zf,n=Qy;function a(i,o){return t.cloneDeepWith(i,(s,c,u,d)=>{const f=o==null?void 0:o(s,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(T2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(A2);var k2={},e0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(e0);var R2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(R2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fy,r=e0,n=R2,a=Yf;function i(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?c=a.toPath(s):c=[s],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(k2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=Kf,n=A2,a=Gf,i=k2;function o(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(O2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy,r=w2,n=_2,a=O2;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(x2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p2,r=g2,n=Gy,a=v2,i=x2;function o(s,c=n.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(m2);var w8=m2.uniqBy;const G1=Yn(w8);function _8(e,t,r){return t===!0?G1(e,r):typeof t=="function"?G1(e,t):e}var N2={exports:{}},P2={},M2={exports:{}},D2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=w;function S8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j8=typeof Object.is=="function"?Object.is:S8,E8=Ko.useState,C8=Ko.useEffect,O8=Ko.useLayoutEffect,A8=Ko.useDebugValue;function T8(e,t){var r=t(),n=E8({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return O8(function(){a.value=r,a.getSnapshot=t,Hm(a)&&i({inst:a})},[e,r,t]),C8(function(){return Hm(a)&&i({inst:a}),e(function(){Hm(a)&&i({inst:a})})},[e]),A8(r),r}function Hm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!j8(e,r)}catch{return!0}}function k8(e,t){return t()}var R8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k8:T8;D2.useSyncExternalStore=Ko.useSyncExternalStore!==void 0?Ko.useSyncExternalStore:R8;M2.exports=D2;var N8=M2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=w,P8=N8;function M8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D8=typeof Object.is=="function"?Object.is:M8,z8=P8.useSyncExternalStore,B8=Jf.useRef,I8=Jf.useEffect,$8=Jf.useMemo,L8=Jf.useDebugValue;P2.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=B8(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=$8(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return f=p}return f=m}if(p=f,D8(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var s=z8(e,i[0],i[1]);return I8(function(){o.hasValue=!0,o.value=s},[s]),L8(s),s};N2.exports=P2;var U8=N2.exports,t0=w.createContext(null),q8=e=>e,Ge=()=>{var e=w.useContext(t0);return e?e.store.dispatch:q8},Du=()=>{},H8=()=>Du,W8=(e,t)=>e===t;function X(e){var t=w.useContext(t0);return U8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:H8,t?t.store.getState:Du,t?t.store.getState:Du,t?e:Du,W8)}function F8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function V8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function G8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var K1=e=>Array.isArray(e)?e:[e];function K8(e){const t=Array.isArray(e[0])?e[0]:e;return G8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Y8(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var X8=class{constructor(e){this.value=e}deref(){return this.value}},Z8=typeof WeakRef<"u"?WeakRef:X8,J8=0,Y1=1;function nu(){return{s:J8,v:void 0,o:null,p:null}}function z2(e,t={}){let r=nu();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let s=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=s.o;x===null&&(s.o=x=new WeakMap);const v=x.get(p);v===void 0?(s=nu(),x.set(p,s)):s=v}else{let x=s.p;x===null&&(s.p=x=new Map);const v=x.get(p);v===void 0?(s=nu(),x.set(p,s)):s=v}}const u=s;let d;if(s.s===Y1)d=s.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Z8(d):d}return u.s=Y1,u.v=d,d}return o.clearCache=()=>{r=nu(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Q8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,s,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),F8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=z2,argsMemoizeOptions:p=[]}=d,x=K1(h),v=K1(p),g=K8(a),y=f(function(){return i++,u.apply(null,arguments)},...x),_=m(function(){o++;const S=Y8(g,arguments);return s=y.apply(null,S),s},...v);return Object.assign(_,{resultFunc:u,memoizedResultFunc:y,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var P=Q8(z2),eI=Object.assign((e,t=P)=>{V8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>eI}),B2={},I2={},$2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),s=t(a);if(o===s&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=r})($2);var L2={},r0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(r0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(L2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$2,r=L2,n=Yf;function a(i,o,s,c){if(i==null)return[];s=c?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,p)=>{let x=m;for(let v=0;v<p.length&&x!=null;++v)x=x[p[v]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(m.criteria[x],p.criteria[x],s[x]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(I2);var U2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(s,c)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(U2);var n0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e0,r=Xf,n=Yy,a=Zy;function i(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?a.isEqualsSameValueZero(c[s],o):!1}e.isIterateeCall=i})(n0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I2,r=U2,n=n0;function a(i,...o){const s=o.length;return s>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(B2);var tI=B2.sortBy;const Qf=Yn(tI);var q2=e=>e.legend.settings,rI=e=>e.legend.size,nI=e=>e.legend.payload;P([nI,q2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Qf(n,r):n});var au=1;function aI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>au||Math.abs(o.left-t.left)>au||Math.abs(o.top-t.top)>au||Math.abs(o.width-t.width)>au)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iI=typeof Symbol=="function"&&Symbol.observable||"@@observable",X1=iI,Wm=()=>Math.random().toString(36).substring(7).split("").join("."),oI={INIT:`@@redux/INIT${Wm()}`,REPLACE:`@@redux/REPLACE${Wm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wm()}`},Ed=oI;function a0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function H2(e,t,r){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(bt(1));return r(H2)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((v,g)=>{o.set(g,v)}))}function d(){if(c)throw new Error(bt(3));return a}function f(v){if(typeof v!="function")throw new Error(bt(4));if(c)throw new Error(bt(5));let g=!0;u();const y=s++;return o.set(y,v),function(){if(g){if(c)throw new Error(bt(6));g=!1,u(),o.delete(y),i=null}}}function h(v){if(!a0(v))throw new Error(bt(7));if(typeof v.type>"u")throw new Error(bt(8));if(typeof v.type!="string")throw new Error(bt(17));if(c)throw new Error(bt(9));try{c=!0,a=n(a,v)}finally{c=!1}return(i=o).forEach(y=>{y()}),v}function m(v){if(typeof v!="function")throw new Error(bt(10));n=v,h({type:Ed.REPLACE})}function p(){const v=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(bt(11));function y(){const b=g;b.next&&b.next(d())}return y(),{unsubscribe:v(y)}},[X1](){return this}}}return h({type:Ed.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[X1]:p}}function sI(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ed.INIT})>"u")throw new Error(bt(12));if(typeof r(void 0,{type:Ed.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function W2(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{sI(r)}catch(i){a=i}return function(o={},s){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],p=h(m,s);if(typeof p>"u")throw s&&s.type,new Error(bt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Cd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function lI(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(bt(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},s=e.map(c=>c(o));return i=Cd(...s)(a.dispatch),{...a,dispatch:i}}}function F2(e){return a0(e)&&"type"in e&&typeof e.type=="string"}var V2=Symbol.for("immer-nothing"),Z1=Symbol.for("immer-draftable"),It=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cr=Object,Yo=cr.getPrototypeOf,Od="constructor",eh="prototype",kg="configurable",Ad="enumerable",zu="writable",Pl="value",Hn=e=>!!e&&!!e[It];function Xr(e){var t;return e?G2(e)||rh(e)||!!e[Z1]||!!((t=e[Od])!=null&&t[Z1])||nh(e)||ah(e):!1}var cI=cr[eh][Od].toString(),J1=new WeakMap;function G2(e){if(!e||!i0(e))return!1;const t=Yo(e);if(t===null||t===cr[eh])return!0;const r=cr.hasOwnProperty.call(t,Od)&&t[Od];if(r===Object)return!0;if(!so(r))return!1;let n=J1.get(r);return n===void 0&&(n=Function.toString.call(r),J1.set(r,n)),n===cI}function th(e,t,r=!0){dc(e)===0?(r?Reflect.ownKeys(e):cr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function dc(e){const t=e[It];return t?t.type_:rh(e)?1:nh(e)?2:ah(e)?3:0}var Q1=(e,t,r=dc(e))=>r===2?e.has(t):cr[eh].hasOwnProperty.call(e,t),Rg=(e,t,r=dc(e))=>r===2?e.get(t):e[t],Td=(e,t,r,n=dc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function uI(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var rh=Array.isArray,nh=e=>e instanceof Map,ah=e=>e instanceof Set,i0=e=>typeof e=="object",so=e=>typeof e=="function",Fm=e=>typeof e=="boolean";function dI(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var wn=e=>e.copy_||e.base_,o0=e=>e.modified_?e.copy_:e.base_;function Ng(e,t){if(nh(e))return new Map(e);if(ah(e))return new Set(e);if(rh(e))return Array[eh].slice.call(e);const r=G2(e);if(t===!0||t==="class_only"&&!r){const n=cr.getOwnPropertyDescriptors(e);delete n[It];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s[zu]===!1&&(s[zu]=!0,s[kg]=!0),(s.get||s.set)&&(n[o]={[kg]:!0,[zu]:!0,[Ad]:s[Ad],[Pl]:e[o]})}return cr.create(Yo(e),n)}else{const n=Yo(e);if(n!==null&&r)return{...e};const a=cr.create(n);return cr.assign(a,e)}}function s0(e,t=!1){return ih(e)||Hn(e)||!Xr(e)||(dc(e)>1&&cr.defineProperties(e,{set:iu,add:iu,clear:iu,delete:iu}),cr.freeze(e),t&&th(e,(r,n)=>{s0(n,!0)},!1)),e}function fI(){Wr(2)}var iu={[Pl]:fI};function ih(e){return e===null||!i0(e)?!0:cr.isFrozen(e)}var kd="MapSet",Pg="Patches",ew="ArrayMethods",K2={};function Ti(e){const t=K2[e];return t||Wr(0,e),t}var tw=e=>!!K2[e],Ml,Y2=()=>Ml,hI=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tw(kd)?Ti(kd):void 0,arrayMethodsPlugin_:tw(ew)?Ti(ew):void 0});function rw(e,t){t&&(e.patchPlugin_=Ti(Pg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mg(e){Dg(e),e.drafts_.forEach(mI),e.drafts_=null}function Dg(e){e===Ml&&(Ml=e.parent_)}var nw=e=>Ml=hI(Ml,e);function mI(e){const t=e[It];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[It].modified_&&(Mg(t),Wr(4)),Xr(e)&&(e=iw(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[It].base_,e,t)}else e=iw(t,r);return pI(t,e,!0),Mg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==V2?e:void 0}function iw(e,t){if(ih(t))return t;const r=t[It];if(!r)return Rd(t,e.handledSet_,e);if(!oh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);J2(r,e)}return r.copy_}function pI(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&s0(t,r)}function X2(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var oh=(e,t)=>e.scope_===t,gI=[];function Z2(e,t,r,n){const a=wn(e),i=e.type_;if(n!==void 0&&Rg(a,n,i)===t){Td(a,n,r,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;th(a,(c,u)=>{if(Hn(u)){const d=s.get(u)||[];d.push(c),s.set(u,d)}})}const o=e.draftLocations_.get(t)??gI;for(const s of o)Td(a,s,r,i)}function vI(e,t,r){e.callbacks_.push(function(a){var s;const i=t;if(!i||!oh(i,a))return;(s=a.mapSetPlugin_)==null||s.fixSetContents(i);const o=o0(i);Z2(e,i.draft_??i,o,r),J2(i,a)})}function J2(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}X2(e)}}function yI(e,t,r){const{scope_:n}=e;if(Hn(r)){const a=r[It];oh(a,n)&&a.callbacks_.push(function(){Bu(e);const o=o0(a);Z2(e,r,o,t)})}else Xr(r)&&e.callbacks_.push(function(){const i=wn(e);e.type_===3?i.has(r)&&Rd(r,n.handledSet_,n):Rg(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Rd(Rg(e.copy_,t,e.type_),n.handledSet_,n)})}function Rd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Hn(e)||t.has(e)||!Xr(e)||ih(e)||(t.add(e),th(e,(n,a)=>{if(Hn(a)){const i=a[It];if(oh(i,r)){const o=o0(i);Td(e,n,o,e.type_),X2(i)}}else Xr(a)&&Rd(a,t,r)})),e}function bI(e,t){const r=rh(e),n={type_:r?1:0,scope_:t?t.scope_:Y2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Nd;r&&(a=[n],i=Dl);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,[s,n]}var Nd={get(e,t){if(t===It)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=wn(e);if(!Q1(a,t,e.type_))return xI(e,a,t);const i=a[t];if(e.finalized_||!Xr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&dI(t))return i;if(i===Vm(e.base_,t)){Bu(e);const o=e.type_===1?+t:t,s=Bg(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,r){const n=Q2(wn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Vm(wn(e),t),i=a==null?void 0:a[It];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(uI(r,a)&&(r!==void 0||Q1(e.base_,t,e.type_)))return!0;Bu(e),zg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),yI(e,t,r)),!0},deleteProperty(e,t){return Bu(e),Vm(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),zg(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[zu]:!0,[kg]:e.type_!==1||t!=="length",[Ad]:n[Ad],[Pl]:r[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return Yo(e.base_)},setPrototypeOf(){Wr(12)}},Dl={};for(let e in Nd){let t=Nd[e];Dl[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Dl.deleteProperty=function(e,t){return Dl.set.call(this,e,t,void 0)};Dl.set=function(e,t,r){return Nd.set.call(this,e[0],t,r,e[0])};function Vm(e,t){const r=e[It];return(r?wn(r):e)[t]}function xI(e,t,r){var a;const n=Q2(t,r);return n?Pl in n?n[Pl]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Q2(e,t){if(!(t in e))return;let r=Yo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Yo(r)}}function zg(e){e.modified_||(e.modified_=!0,e.parent_&&zg(e.parent_))}function Bu(e){e.copy_||(e.assigned_=new Map,e.copy_=Ng(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(so(r)&&!so(n)){const o=n;n=r;const s=this;return function(u=o,...d){return s.produce(u,f=>n.call(this,f,...d))}}so(n)||Wr(6),a!==void 0&&!so(a)&&Wr(7);let i;if(Xr(r)){const o=nw(this),s=Bg(o,r,void 0);let c=!0;try{i=n(s),c=!1}finally{c?Mg(o):Dg(o)}return rw(o,a),aw(i,o)}else if(!r||!i0(r)){if(i=n(r),i===void 0&&(i=r),i===V2&&(i=void 0),this.autoFreeze_&&s0(i,!0),a){const o=[],s=[];Ti(Pg).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:s}),a(o,s)}return i}else Wr(1,r)},this.produceWithPatches=(r,n)=>{if(so(r))return(s,...c)=>this.produceWithPatches(s,u=>r(u,...c));let a,i;return[this.produce(r,n,(s,c)=>{a=s,i=c}),a,i]},Fm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Fm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Fm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xr(t)||Wr(8),Hn(t)&&(t=Gr(t));const r=nw(this),n=Bg(r,t,void 0);return n[It].isManual_=!0,Dg(r),n}finishDraft(t,r){const n=t&&t[It];(!n||!n.isManual_)&&Wr(9);const{scope_:a}=n;return rw(a,r),aw(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Ti(Pg).applyPatches_;return Hn(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Bg(e,t,r,n){const[a,i]=nh(t)?Ti(kd).proxyMap_(t,r):ah(t)?Ti(kd).proxySet_(t,r):bI(t,r);return((r==null?void 0:r.scope_)??Y2()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?vI(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function Gr(e){return Hn(e)||Wr(10,e),eT(e)}function eT(e){if(!Xr(e)||ih(e))return e;const t=e[It];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ng(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ng(e,!0);return th(r,(a,i)=>{Td(r,a,eT(i))},n),t&&(t.finalized_=!1),r}var _I=new wI,tT=_I.produce;function rT(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var SI=rT(),jI=rT,EI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cd:Cd.apply(null,arguments)};function Mr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(mr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>F2(n)&&n.type===e,r}var nT=class Gs extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gs.prototype)}static get[Symbol.species](){return Gs}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gs(...t[0].concat(this)):new Gs(...t.concat(this))}};function ow(e){return Xr(e)?tT(e,()=>{}):e}function ou(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function CI(e){return typeof e=="boolean"}var OI=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new nT;return r&&(CI(r)?o.push(SI):o.push(jI(r.extraArgument))),o},aT="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[aT]:!0}}),sw=e=>t=>{setTimeout(t,e)},iT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sw(10):e.type==="callback"?e.queueNotification:sw(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return s.add(d),()=>{h(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[aT]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},AI=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new nT(e);return n&&a.push(iT(typeof n=="object"?n:void 0)),a};function TI(e){const t=OI(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(a0(r))s=W2(r);else throw new Error(mr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Cd;a&&(u=EI({trace:!1,...typeof a=="object"&&a}));const d=lI(...c),f=AI(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return H2(s,i,m)}function oT(e){const t={},r=[];let n;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(mr(28));if(s in t)throw new Error(mr(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function kI(e){return typeof e=="function"}function RI(e,t){let[r,n,a]=oT(t),i;if(kI(e))i=()=>ow(e());else{const s=ow(e);i=()=>s}function o(s=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Hn(d)){const m=f(d,c);return m===void 0?d:m}else{if(Xr(d))return tT(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},s)}return o.getInitialState=i,o}var NI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PI=(e=21)=>{let t="",r=e;for(;r--;)t+=NI[Math.random()*64|0];return t},MI=Symbol.for("rtk-slice-createasyncthunk");function DI(e,t){return`${e}/${t}`}function zI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[MI];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(mr(11));const s=(typeof a.reducers=="function"?a.reducers(II()):a.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(b,S){const j=typeof b=="string"?b:b.type;if(!j)throw new Error(mr(12));if(j in u.sliceCaseReducersByType)throw new Error(mr(13));return u.sliceCaseReducersByType[j]=S,d},addMatcher(b,S){return u.sliceMatchers.push({matcher:b,reducer:S}),d},exposeAction(b,S){return u.actionCreators[b]=S,d},exposeCaseReducer(b,S){return u.sliceCaseReducersByName[b]=S,d}};c.forEach(b=>{const S=s[b],j={reducerName:b,type:DI(i,b),createNotation:typeof a.reducers=="function"};LI(S)?qI(j,S,d,t):$I(j,S,d)});function f(){const[b={},S=[],j=void 0]=typeof a.extraReducers=="function"?oT(a.extraReducers):[a.extraReducers],E={...b,...u.sliceCaseReducersByType};return RI(a.initialState,C=>{for(let A in E)C.addCase(A,E[A]);for(let A of u.sliceMatchers)C.addMatcher(A.matcher,A.reducer);for(let A of S)C.addMatcher(A.matcher,A.reducer);j&&C.addDefaultCase(j)})}const h=b=>b,m=new Map,p=new WeakMap;let x;function v(b,S){return x||(x=f()),x(b,S)}function g(){return x||(x=f()),x.getInitialState()}function y(b,S=!1){function j(C){let A=C[b];return typeof A>"u"&&S&&(A=ou(p,j,g)),A}function E(C=h){const A=ou(m,S,()=>new WeakMap);return ou(A,C,()=>{const R={};for(const[M,k]of Object.entries(a.selectors??{}))R[M]=BI(k,C,()=>ou(p,C,g),S);return R})}return{reducerPath:b,getSelectors:E,get selectors(){return E(j)},selectSlice:j}}const _={name:i,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...y(o),injectInto(b,{reducerPath:S,...j}={}){const E=S??o;return b.inject({reducerPath:E,reducer:v},j),{..._,...y(E,!0)}}};return _}}function BI(e,t,r,n){function a(i,...o){let s=t(i);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return a.unwrapped=e,a}var Zt=zI();function II(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function $I({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!UI(n))throw new Error(mr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Mr(e,o):Mr(e))}function LI(e){return e._reducerDefinitionType==="asyncThunk"}function UI(e){return e._reducerDefinitionType==="reducerWithPrepare"}function qI({type:e,reducerName:t},r,n,a){if(!a)throw new Error(mr(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),s&&n.addCase(f.pending,s),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||su,pending:s||su,rejected:c||su,settled:u||su})}function su(){}var HI="task",sT="listener",lT="completed",l0="cancelled",WI=`task-${l0}`,FI=`task-${lT}`,Ig=`${sT}-${l0}`,VI=`${sT}-${lT}`,sh=class{constructor(e){Vh(this,"name","TaskAbortError");Vh(this,"message");this.code=e,this.message=`${HI} ${l0} (reason: ${e})`}},c0=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},Pd=()=>{},cT=(e,t=Pd)=>(e.catch(t),e),uT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bi=e=>{if(e.aborted)throw new sh(e.reason)};function dT(e,t){let r=Pd;return new Promise((n,a)=>{const i=()=>a(new sh(e.reason));if(e.aborted){i();return}r=uT(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Pd})}var GI=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof sh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Md=e=>t=>cT(dT(e,t).then(r=>(bi(e),r))),fT=e=>{const t=Md(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ro}=Object,lw={},lh="listenerMiddleware",KI=(e,t)=>{const r=n=>uT(e,()=>n.abort(e.reason));return(n,a)=>{c0(n);const i=new AbortController;r(i);const o=GI(async()=>{bi(e),bi(i.signal);const s=await n({pause:Md(i.signal),delay:fT(i.signal),signal:i.signal});return bi(i.signal),s},()=>i.abort(FI));return a!=null&&a.autoJoin&&t.push(o.catch(Pd)),{result:Md(e)(o),cancel(){i.abort(WI)}}}},YI=(e,t)=>{const r=async(n,a)=>{bi(t);let i=()=>{};const s=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&s.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await dT(t,Promise.race(s));return bi(t),c}finally{i()}};return(n,a)=>cT(r(n,a))},hT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Mr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(mr(21));return c0(i),{predicate:a,type:t,effect:i}},mT=Ro(e=>{const{type:t,predicate:r,effect:n}=hT(e);return{id:PI(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>mT}),cw=(e,t)=>{const{type:r,effect:n,predicate:a}=hT(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},$g=e=>{e.pending.forEach(t=>{t.abort(Ig)})},XI=(e,t)=>()=>{for(const r of t.keys())$g(r);e.clear()},uw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},pT=Ro(Mr(`${lh}/add`),{withTypes:()=>pT}),ZI=Mr(`${lh}/removeAll`),gT=Ro(Mr(`${lh}/remove`),{withTypes:()=>gT}),JI=(...e)=>{console.error(`${lh}/error`,...e)},fc=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:i,onError:o=JI}=e;c0(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&$g(m)}),c=m=>{const p=cw(t,m)??mT(m);return s(p)};Ro(c,{withTypes:()=>c});const u=m=>{const p=cw(t,m);return p&&(p.unsubscribe(),m.cancelActive&&$g(p)),!!p};Ro(u,{withTypes:()=>u});const d=async(m,p,x,v)=>{const g=new AbortController,y=YI(c,g.signal),_=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(p,Ro({},x,{getOriginalState:v,condition:(b,S)=>y(b,S).then(Boolean),take:y,delay:fT(g.signal),pause:Md(g.signal),extra:i,signal:g.signal,fork:KI(g.signal,_),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((b,S,j)=>{b!==g&&(b.abort(Ig),j.delete(b))})},cancel:()=>{g.abort(Ig),m.pending.delete(g)},throwIfCancelled:()=>{bi(g.signal)}})))}catch(b){b instanceof sh||uw(o,b,{raisedBy:"effect"})}finally{await Promise.all(_),g.abort(VI),a(m),m.pending.delete(g)}},f=XI(t,r);return{middleware:m=>p=>x=>{if(!F2(x))return p(x);if(pT.match(x))return c(x.payload);if(ZI.match(x)){f();return}if(gT.match(x))return u(x.payload);let v=m.getState();const g=()=>{if(v===lw)throw new Error(mr(23));return v};let y;try{if(y=p(x),t.size>0){const _=m.getState(),b=Array.from(t.values());for(const S of b){let j=!1;try{j=S.predicate(x,_,v)}catch(E){j=!1,uw(o,E,{raisedBy:"predicate"})}j&&d(S,x,m,g)}}}finally{v=lw}return y},startListening:c,stopListening:u,clearListeners:f}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QI={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},vT=Zt({name:"chartLayout",initialState:QI,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:e$,setLayout:t$,setChartSize:r$,setScale:n$}=vT.actions,a$=vT.reducer;function yT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Le(e){return Number.isFinite(e)}function cn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){i$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i$(e,t,r){return(t=o$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o$(e){var t=s$(e,"string");return typeof t=="symbol"?t:t+""}function s$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return gt(e)||gt(t)?r:ln(t)?Go(e,t,r):typeof t=="function"?t(e):r}var l$=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&G(e[i]))return wo(wo({},e),{},{[i]:e[i]+(n||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&G(e[o]))return wo(wo({},e),{},{[o]:e[o]+(a||0)})}return e},Ui=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",bT=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===r&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(r),o},xT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var p=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/p:0;if(x=m==="angleAxis"&&i&&i.length>=2?Vt(i[0]-i[1])*2*x:x,f||h){var v=(f||h||[]).map((g,y)=>{var _=n?n.indexOf(g):g;return{coordinate:o(_)+x,value:g,offset:x,index:y}});return v.filter(g=>!Kr(g.coordinate))}return c&&u?u.map((g,y)=>({coordinate:o(g)+x,value:g,index:y,offset:x})):o.ticks&&d!=null?o.ticks(d).map((g,y)=>({coordinate:o(g)+x,value:g,offset:x,index:y})):o.domain().map((g,y)=>({coordinate:o(g)+x,value:n?n[g]:g,index:y,offset:x}))},fw=1e-4,c$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-fw,i=Math.max(n[0],n[1])+fw,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},u$=(e,t)=>{if(!t||t.length!==2||!G(t[0])||!G(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!G(e[0])||e[0]<r)&&(a[0]=r),(!G(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},d$=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,s=0;s<r;++s){var c=e[s],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=Kr(d)?f:d;h>=0?(u[0]=i,u[1]=i+h,i=d):(u[0]=o,u[1]=o+h,o=d)}}}},f$=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var s=e[o],c=s==null?void 0:s[a];if(c!=null){var u=Kr(c[1])?c[0]:c[1];u>=0?(c[0]=i,c[1]=i+u,i=c[1]):(c[0]=0,c[1]=0)}}}},h$={sign:d$,expand:ZB,none:Ai,silhouette:JB,wiggle:QB,positive:f$},m$=(e,t,r)=>{var n,a=(n=h$[r])!==null&&n!==void 0?n:Ai,i=XB().keys(t).value((s,c)=>Number(At(s,c,0))).order(Ag).offset(a),o=i(e);return o.forEach((s,c)=>{s.forEach((u,d)=>{var f=At(e[d],t[c],0);Array.isArray(f)&&f.length===2&&G(f[0])&&G(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function p$(e){return e==null?void 0:String(e)}var hw=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=At(i,t.dataKey,t.scale.domain()[o]);return gt(s)?null:t.scale(s)-a/2+n},g$=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},v$=e=>{var t=e.flat(2).filter(G);return[Math.min(...t),Math.max(...t)]},y$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],b$=(e,t,r)=>{if(e!=null)return y$(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,s=o.reduce((c,u)=>{var d=yT(u,t,r),f=v$(d);return!Le(f[0])||!Le(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},mw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Qf(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var c=a[o],u=a[o-1];i=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function gw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return wo(wo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function wT(e,t){if(e)return String(e);if(typeof t=="string")return t}var x$=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},w$=(e,t)=>t==="centric"?e.angle:e.radius,Qn=e=>e.layout.width,ea=e=>e.layout.height,_$=e=>e.layout.scale,_T=e=>e.layout.margin,ch=P(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),uh=P(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),S$="data-recharts-item-index",j$="data-recharts-item-id",hc=60;function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){E$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E$(e,t,r){return(t=C$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C$(e){var t=O$(e,"string");return typeof t=="symbol"?t:t+""}function O$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A$=e=>e.brush.height;function T$(e){var t=uh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:hc;return r+a}return r},0)}function k$(e){var t=uh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:hc;return r+a}return r},0)}function R$(e){var t=ch(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function N$(e){var t=ch(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vt=P([Qn,ea,_T,A$,T$,k$,R$,N$,q2,rI],(e,t,r,n,a,i,o,s,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+s},h=lu(lu({},f),d),m=h.bottom;h.bottom+=n,h=l$(h,c,u);var p=e-h.left-h.right,x=t-h.top-h.bottom;return lu(lu({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(x,0)})}),P$=P(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),u0=P(Qn,ea,(e,t)=>({x:0,y:0,width:e,height:t})),M$=w.createContext(null),Jt=()=>w.useContext(M$)!=null,dh=e=>e.brush,fh=P([dh,vt,_T],(e,t,r)=>({height:e.height,x:G(e.x)?e.x:t.left,y:G(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:G(e.width)?e.width:t.width})),ST={},jT={},ET={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,s=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),o=void 0,s=null},v=()=>{d()},g=function(...y){if(a!=null&&a.aborted)return;o=this,s=y;const _=h==null;m(),c&&_&&d()};return g.schedule=m,g.cancel=x,g.flush=v,a==null||a.addEventListener("abort",x,{once:!0}),g}e.debounce=t})(ET);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ET;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(jT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jT;function r(n,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:s})}e.throttle=r})(ST);var D$=ST.throttle;const z$=Yn(D$);var zd=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},CT=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,s=qn(n)?e:Number(n),c=qn(a)?t:Number(a);return i&&i>0&&(s?c=s/i:c&&(s=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},B$={width:0,height:0,overflow:"visible"},I$={width:0,overflowX:"visible"},$$={height:0,overflowY:"visible"},L$={},U$=e=>{var{width:t,height:r}=e,n=qn(t),a=qn(r);return n&&a?B$:n?I$:a?$$:L$};function q$(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(null,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){H$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H$(e,t,r){return(t=W$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W$(e){var t=F$(e,"string");return typeof t=="symbol"?t:t+""}function F$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OT=w.createContext({width:-1,height:-1});function V$(e){return cn(e.width)&&cn(e.height)}function AT(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return V$(a)?w.createElement(OT.Provider,{value:a},t):null}var d0=()=>w.useContext(OT),G$=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=w.useRef(null),v=w.useRef();v.current=m,w.useImperativeHandle(t,()=>x.current);var[g,y]=w.useState({containerWidth:n.width,containerHeight:n.height}),_=w.useCallback((C,A)=>{y(R=>{var M=Math.round(C),k=Math.round(A);return R.containerWidth===M&&R.containerHeight===k?R:{containerWidth:M,containerHeight:k}})},[]);w.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return uc;var C=k=>{var H,{width:W,height:Z}=k[0].contentRect;_(W,Z),(H=v.current)===null||H===void 0||H.call(v,W,Z)};d>0&&(C=z$(C,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(C),{width:R,height:M}=x.current.getBoundingClientRect();return _(R,M),A.observe(x.current),()=>{A.disconnect()}},[_,d]);var{containerWidth:b,containerHeight:S}=g;zd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:E}=CT(b,S,{width:a,height:i,aspect:r,maxHeight:c});return zd(j!=null&&j>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,E,a,i,o,s,r),w.createElement("div",{id:f?"".concat(f):void 0,className:De("recharts-responsive-container",h),style:bw(bw({},p),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:c}),ref:x},w.createElement("div",{style:U$({width:a,height:i})},w.createElement(AT,{width:j,height:E},u)))}),K$=w.forwardRef((e,t)=>{var r=d0();if(cn(r.width)&&cn(r.height))return e.children;var{width:n,height:a}=q$({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=CT(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return G(i)&&G(o)?w.createElement(AT,{width:i,height:o},e.children):w.createElement(G$,Lg({},e,{width:n,height:a,ref:t}))});function TT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var hh=()=>{var e,t=Jt(),r=X(P$),n=X(fh),a=(e=X(dh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Y$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},kT=()=>{var e;return(e=X(vt))!==null&&e!==void 0?e:Y$},RT=()=>X(Qn),NT=()=>X(ea),xe=e=>e.layout.layoutType,mc=()=>X(xe),X$=()=>{var e=mc();return e!==void 0},mh=e=>{var t=Ge(),r=Jt(),{width:n,height:a}=e,i=d0(),o=n,s=a;return i&&(o=i.width>0?i.width:n,s=i.height>0?i.height:a),w.useEffect(()=>{!r&&cn(o)&&cn(s)&&t(r$({width:o,height:s}))},[t,r,o,s]),null},PT=Symbol.for("immer-nothing"),xw=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function Fr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zl=Object.getPrototypeOf;function Xo(e){return!!e&&!!e[vr]}function ki(e){var t;return e?MT(e)||Array.isArray(e)||!!e[xw]||!!((t=e.constructor)!=null&&t[xw])||pc(e)||gh(e):!1}var Z$=Object.prototype.constructor.toString(),ww=new WeakMap;function MT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=ww.get(r);return n===void 0&&(n=Function.toString.call(r),ww.set(r,n)),n===Z$}function Bd(e,t,r=!0){ph(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ph(e){const t=e[vr];return t?t.type_:Array.isArray(e)?1:pc(e)?2:gh(e)?3:0}function Ug(e,t){return ph(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function DT(e,t,r){const n=ph(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function J$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pc(e){return e instanceof Map}function gh(e){return e instanceof Set}function ai(e){return e.copy_||e.base_}function qg(e,t){if(pc(e))return new Map(e);if(gh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=MT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[vr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(zl(e),n)}else{const n=zl(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function f0(e,t=!1){return vh(e)||Xo(e)||!ki(e)||(ph(e)>1&&Object.defineProperties(e,{set:cu,add:cu,clear:cu,delete:cu}),Object.freeze(e),t&&Object.values(e).forEach(r=>f0(r,!0))),e}function Q$(){Fr(2)}var cu={value:Q$};function vh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var eL={};function Ri(e){const t=eL[e];return t||Fr(0,e),t}var Bl;function zT(){return Bl}function tL(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _w(e,t){t&&(Ri("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hg(e){Wg(e),e.drafts_.forEach(rL),e.drafts_=null}function Wg(e){e===Bl&&(Bl=e.parent_)}function Sw(e){return Bl=tL(Bl,e)}function rL(e){const t=e[vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[vr].modified_&&(Hg(t),Fr(4)),ki(e)&&(e=Id(t,e),t.parent_||$d(t,e)),t.patches_&&Ri("Patches").generateReplacementPatches_(r[vr].base_,e,t.patches_,t.inversePatches_)):e=Id(t,r,[]),Hg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PT?e:void 0}function Id(e,t,r){if(vh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[vr];if(!a)return Bd(t,(i,o)=>Ew(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return $d(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Bd(o,(c,u)=>Ew(e,a,i,c,u,r,s),n),$d(e,i,!1),r&&e.patches_&&Ri("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function Ew(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=vh(a);if(!(s&&!o)){if(Xo(a)){const c=i&&t&&t.type_!==3&&!Ug(t.assigned_,n)?i.concat(n):void 0,u=Id(e,a,c);if(DT(r,n,u),Xo(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(ki(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&s)return;Id(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(pc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&$d(e,a)}}}function $d(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&f0(t,r)}function nL(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:zT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=h0;r&&(a=[n],i=Il);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}var h0={get(e,t){if(t===vr)return e;const r=ai(e);if(!Ug(r,t))return aL(e,r,t);const n=r[t];return e.finalized_||!ki(n)?n:n===Gm(e.base_,t)?(Km(e),e.copy_[t]=Vg(n,e)):n},has(e,t){return t in ai(e)},ownKeys(e){return Reflect.ownKeys(ai(e))},set(e,t,r){const n=BT(ai(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Gm(ai(e),t),i=a==null?void 0:a[vr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(J$(r,a)&&(r!==void 0||Ug(e.base_,t)))return!0;Km(e),Fg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Gm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Km(e),Fg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ai(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Fr(11)},getPrototypeOf(e){return zl(e.base_)},setPrototypeOf(){Fr(12)}},Il={};Bd(h0,(e,t)=>{Il[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Il.deleteProperty=function(e,t){return Il.set.call(this,e,t,void 0)};Il.set=function(e,t,r){return h0.set.call(this,e[0],t,r,e[0])};function Gm(e,t){const r=e[vr];return(r?ai(r):e)[t]}function aL(e,t,r){var a;const n=BT(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function BT(e,t){if(!(t in e))return;let r=zl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zl(r)}}function Fg(e){e.modified_||(e.modified_=!0,e.parent_&&Fg(e.parent_))}function Km(e){e.copy_||(e.copy_=qg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iL=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Fr(6),n!==void 0&&typeof n!="function"&&Fr(7);let a;if(ki(t)){const i=Sw(this),o=Vg(t,void 0);let s=!0;try{a=r(o),s=!1}finally{s?Hg(i):Wg(i)}return _w(i,n),jw(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===PT&&(a=void 0),this.autoFreeze_&&f0(a,!0),n){const i=[],o=[];Ri("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Fr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,a;return[this.produce(t,r,(o,s)=>{n=o,a=s}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ki(e)||Fr(8),Xo(e)&&(e=oL(e));const t=Sw(this),r=Vg(e,void 0);return r[vr].isManual_=!0,Wg(t),r}finishDraft(e,t){const r=e&&e[vr];(!r||!r.isManual_)&&Fr(9);const{scope_:n}=r;return _w(n,t),jw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ri("Patches").applyPatches_;return Xo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Vg(e,t){const r=pc(e)?Ri("MapSet").proxyMap_(e,t):gh(e)?Ri("MapSet").proxySet_(e,t):nL(e,t);return(t?t.scope_:zT()).drafts_.push(r),r}function oL(e){return Xo(e)||Fr(10,e),IT(e)}function IT(e){if(!ki(e)||vh(e))return e;const t=e[vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=qg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=qg(e,!0);return Bd(r,(a,i)=>{DT(r,a,IT(i))},n),t&&(t.finalized_=!1),r}var sL=new iL;sL.produce;var lL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$T=Zt({name:"legend",initialState:lL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=Gr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:BZ,setLegendSettings:IZ,addLegendPayload:cL,replaceLegendPayload:uL,removeLegendPayload:dL}=$T.actions,fL=$T.reducer;function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(null,arguments)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){hL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hL(e,t,r){return(t=mL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mL(e){var t=pL(e,"string");return typeof t=="symbol"?t:t+""}function pL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gL(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var vL=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var S={padding:0,margin:0},j=(s?Qf(i,s):i).map((E,C)=>{if(E.type==="none")return null;var A=E.formatter||o||gL,{value:R,name:M}=E,k=R,H=M;if(A){var W=A(R,M,E,C,i);if(Array.isArray(W))[k,H]=W;else if(W!=null)k=W;else return null}var Z=Ym({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:Z},ln(H)?w.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ln(H)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},k),w.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:S},j)}return null},p=Ym({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Ym({margin:0},a),v=!gt(d),g=v?d:"",y=De("recharts-default-tooltip",c),_=De("recharts-tooltip-label",u);v&&f&&i!==void 0&&i!==null&&(g=f(d,i));var b=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Gg({className:y,style:p},b),w.createElement("p",{className:_,style:x},w.isValidElement(g)?g:"".concat(g)),m())},Ps="recharts-tooltip-wrapper",yL={visibility:"hidden"};function bL(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(Ps,{["".concat(Ps,"-right")]:G(r)&&t&&G(t.x)&&r>=t.x,["".concat(Ps,"-left")]:G(r)&&t&&G(t.x)&&r<t.x,["".concat(Ps,"-bottom")]:G(n)&&t&&G(t.y)&&n>=t.y,["".concat(Ps,"-top")]:G(n)&&t&&G(t.y)&&n<t.y})}function Ow(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(i&&G(i[n]))return i[n];var d=r[n]-s-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+s,v=h+u;return x>v?Math.max(d,h):Math.max(f,h)}function xL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function wL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=Ow({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Ow({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=xL({translateX:d,translateY:f,useTranslate3d:s})):u=yL,{cssProperties:u,cssClasses:bL({translateX:d,translateY:f,coordinate:r})}}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){Kg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kg(e,t,r){return(t=_L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _L(e){var t=SL(e,"string");return typeof t=="symbol"?t:t+""}function SL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jL extends w.PureComponent{constructor(){super(...arguments),Kg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Kg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:v,hasPortalFromProps:g}=this.props,{cssClasses:y,cssProperties:_}=wL({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),b=g?{}:uu(uu({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=uu(uu({},b),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},p);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:S,ref:v},i)}}var LT=()=>{var e;return(e=X(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(null,arguments)}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){EL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EL(e,t,r){return(t=CL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CL(e){var t=OL(e,"string");return typeof t=="symbol"?t:t+""}function OL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rw={curveBasisClosed:$B,curveBasisOpen:LB,curveBasis:IB,curveBumpX:jB,curveBumpY:EB,curveLinearClosed:UB,curveLinear:Ff,curveMonotoneX:qB,curveMonotoneY:HB,curveNatural:WB,curveStep:FB,curveStepAfter:GB,curveStepBefore:VB},Ld=e=>Le(e.x)&&Le(e.y),Nw=e=>e.base!=null&&Ld(e.base)&&Ld(e),Ms=e=>e.x,Ds=e=>e.y,AL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(cc(e));return(r==="curveMonotone"||r==="curveBump")&&t?Rw["".concat(r).concat(t==="vertical"?"Y":"X")]:Rw[r]||Ff},TL=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=AL(t,a),s=i?r.filter(Ld):r,c;if(Array.isArray(n)){var u=r.map((m,p)=>kw(kw({},m),{},{base:n[p]}));a==="vertical"?c=ru().y(Ds).x1(Ms).x0(m=>m.base.x):c=ru().x(Ms).y1(Ds).y0(m=>m.base.y);var d=c.defined(Nw).curve(o),f=i?u.filter(Nw):u;return d(f)}a==="vertical"&&G(n)?c=ru().y(Ds).x1(Ms).x0(n):G(n)?c=ru().x(Ms).y1(Ds).y0(n):c=ZA().x(Ms).y(Ds);var h=c.defined(Ld).curve(o);return h(s)},UT=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=mc();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=r&&r.length?TL(o):n;return w.createElement("path",Yg({},Ln(e),p8(e),{className:De("recharts-curve",t),d:s===null?void 0:s,ref:a}))},kL=["x","y","top","left","width","height","className"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(null,arguments)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){NL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NL(e,t,r){return(t=PL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PL(e){var t=ML(e,"string");return typeof t=="symbol"?t:t+""}function ML(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DL(e,t){if(e==null)return{};var r,n,a=zL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BL=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),IL=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:s}=e,c=DL(e,kL),u=RL({x:t,y:r,top:n,left:a,width:i,height:o},c);return!G(t)||!G(r)||!G(i)||!G(o)||!G(n)||!G(a)?null:w.createElement("path",Xg({},Pr(u),{className:De("recharts-cross",s),d:BL(t,r,i,o,n,a)}))};function $L(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){LL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LL(e,t,r){return(t=UL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UL(e){var t=qL(e,"string");return typeof t=="symbol"?t:t+""}function qL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HL=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qT=(e,t,r)=>e.map(n=>"".concat(HL(n)," ").concat(t,"ms ").concat(r)).join(","),WL=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),$l=(e,t)=>Object.keys(t).reduce((r,n)=>Dw(Dw({},r),{},{[n]:e(n,t[n])}),{});function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){FL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FL(e,t,r){return(t=VL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VL(e){var t=GL(e,"string");return typeof t=="symbol"?t:t+""}function GL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ud=(e,t,r)=>e+(t-e)*r,Zg=e=>{var{from:t,to:r}=e;return t!==r},HT=(e,t,r)=>{var n=$l((a,i)=>{if(Zg(i)){var[o,s]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:o,velocity:s})}return i},t);return r<1?$l((a,i)=>Zg(i)&&n[a]!=null?nt(nt({},i),{},{velocity:Ud(i.velocity,n[a].velocity,r),from:Ud(i.from,n[a].from,r)}):i,t):HT(e,n,r-1)};function KL(e,t,r,n,a,i){var o,s=n.reduce((h,m)=>nt(nt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>$l((h,m)=>m.from,s),u=()=>!Object.values(s).filter(Zg).length,d=null,f=h=>{o||(o=h);var m=h-o,p=m/r.dt;s=HT(r,s,p),a(nt(nt(nt({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function YL(e,t,r,n,a,i,o){var s=null,c=a.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:nt(nt({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=$l((x,v)=>Ud(...v,r(h)),c);if(i(nt(nt(nt({},e),t),m)),h<1)s=o.setTimeout(d);else{var p=$l((x,v)=>Ud(...v,r(1)),c);i(nt(nt(nt({},e),t),p))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const XL=(e,t,r,n,a,i)=>{var o=WL(e,t);return r==null?()=>(a(nt(nt({},e),t)),()=>{}):r.isStepper===!0?KL(e,t,r,o,a,i):YL(e,t,r,n,o,a,i)};var qd=1e-4,WT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],FT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Bw=(e,t)=>r=>{var n=WT(e,t);return FT(n,r)},ZL=(e,t)=>r=>{var n=WT(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return FT(a,r)},JL=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},QL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=JL(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},eU=(e,t,r,n)=>{var a=Bw(e,r),i=Bw(t,n),o=ZL(e,r),s=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=o(f);if(Math.abs(m-d)<qd||p<qd)return i(f);f=s(f-m/p)}return i(f)};return c.isStepper=!1,c},Iw=function(){return eU(...QL(...arguments))},tU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,s,c)=>{var u=-(o-s)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-s)<qd&&Math.abs(f)<qd?[s,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},rU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Iw(e);case"spring":return tU();default:if(e.split("(")[0]==="cubic-bezier")return Iw(e)}return typeof e=="function"?e:null};function nU(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...u]=s;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class aU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function iU(){return nU(new aU)}var oU=w.createContext(iU);function sU(e,t){var r=w.useContext(oU);return w.useMemo(()=>t??r(e),[e,t,r])}var lU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yh={isSsr:lU()},cU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$w={t:0},Xm={t:1};function m0(e){var t=yr(e,cU),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:c,children:u}=t,d=r==="auto"?!yh.isSsr:r,f=sU(t.animationId,t.animationManager),[h,m]=w.useState(d?$w:Xm),p=w.useRef(null);return w.useEffect(()=>{d||m(Xm)},[d]),w.useEffect(()=>{if(!d||!n)return uc;var x=XL($w,Xm,rU(i),a,m,f.getTimeoutController()),v=()=>{p.current=x()};return f.start([c,o,v,a,s]),()=>{f.stop(),p.current&&p.current(),s()}},[d,n,a,i,o,c,s,f]),u(h.t)}function p0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Nl(t)),n=w.useRef(e);return n.current!==e&&(r.current=Nl(t),n.current=e),r.current}var uU=["radius"],dU=["radius"],Lw,Uw,qw,Hw,Ww,Fw,Vw,Gw,Kw,Yw;function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(null,arguments)}function Jw(e,t){if(e==null)return{};var r,n,a=pU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function en(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Qw=(e,t,r,n,a)=>{var i=Ea(r),o=Ea(n),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=a[m]>s?s:a[m];f=qe(Lw||(Lw=en(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=qe(Uw||(Uw=en(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=qe(qw||(qw=en(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=qe(Hw||(Hw=en(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+c*h[1])),f+=qe(Ww||(Ww=en(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=qe(Fw||(Fw=en(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=qe(Vw||(Vw=en(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=qe(Gw||(Gw=en(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-c*h[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);f=qe(Kw||(Kw=en(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*x,x,x,d,e+u*x,t,e+r-u*x,t,x,x,d,e+r,t+c*x,e+r,t+n-c*x,x,x,d,e+r-u*x,t+n,e+u*x,t+n,x,x,d,e,t+n-c*x)}else f=qe(Yw||(Yw=en(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},e_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VT=e=>{var t=yr(e,e_),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var{x:i,y:o,width:s,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t,v=w.useRef(s),g=w.useRef(c),y=w.useRef(i),_=w.useRef(o),b=w.useMemo(()=>({x:i,y:o,width:s,height:c,radius:u}),[i,o,s,c,u]),S=p0(b,"rectangle-");if(i!==+i||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var j=De("recharts-rectangle",d);if(!x){var E=Pr(t),{radius:C}=E,A=Jw(E,uU);return w.createElement("path",Hd({},A,{x:Ea(i),y:Ea(o),width:Ea(s),height:Ea(c),radius:typeof u=="number"?u:void 0,className:j,d:Qw(i,o,s,c,u)}))}var R=v.current,M=g.current,k=y.current,H=_.current,W="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),O=qT(["strokeDasharray"],h,typeof f=="string"?f:e_.animationEasing);return w.createElement(m0,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},T=>{var N=_t(R,s,T),L=_t(M,c,T),U=_t(k,i,T),ne=_t(H,o,T);r.current&&(v.current=N,g.current=L,y.current=U,_.current=ne);var ce;p?T>0?ce={transition:O,strokeDasharray:Z}:ce={strokeDasharray:W}:ce={strokeDasharray:Z};var se=Pr(t),{radius:he}=se,ue=Jw(se,dU);return w.createElement("path",Hd({},ue,{radius:typeof u=="number"?u:void 0,className:j,d:Qw(U,ne,N,L,u),ref:r,style:Zw(Zw({},ce),t.style)}))})};function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=yU(e,"string");return typeof t=="symbol"?t:t+""}function yU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wd=Math.PI/180,bU=e=>e*180/Math.PI,Ct=(e,t,r,n)=>({x:e+Math.cos(-Wd*n)*r,y:t+Math.sin(-Wd*n)*r}),xU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wU=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},_U=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=wU({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(r-a)/o,c=Math.acos(s);return n>i&&(c=2*Math.PI-c),{radius:o,angle:bU(c),angleInRadian:c}},SU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},jU=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},EU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=_U({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:c,endAngle:u}=SU(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?r_(r_({},t),{},{radius:a,angle:jU(d,t)}):null};function GT(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Ct(t,r,n,a),s=Ct(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var n_,a_,i_,o_,s_,l_,c_;function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}function ci(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var CU=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},du=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,u=s*(o?1:-1)+n,d=Math.asin(s/u)/Wd,f=c?a:a+i*d,h=Ct(t,r,u,f),m=Ct(t,r,n,f),p=c?a-i*d:a,x=Ct(t,r,u*Math.cos(d*Wd),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},KT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,s=CU(i,o),c=i+s,u=Ct(t,r,a,i),d=Ct(t,r,a,c),f=qe(n_||(n_=ci(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>c),d.x,d.y);if(n>0){var h=Ct(t,r,n,i),m=Ct(t,r,n,c);f+=qe(a_||(a_=ci(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(s)>180),+(i<=c),h.x,h.y)}else f+=qe(i_||(i_=ci(["L ",","," Z"])),t,r);return f},OU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:u}=e,d=Vt(u-c),{circleTangency:f,lineTangency:h,theta:m}=du({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:p,lineTangency:x,theta:v}=du({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),g=s?Math.abs(c-u):Math.abs(c-u)-m-v;if(g<0)return o?qe(o_||(o_=ci(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):KT({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var y=qe(s_||(s_=ci(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),p.x,p.y,i,i,+(d<0),x.x,x.y);if(n>0){var{circleTangency:_,lineTangency:b,theta:S}=du({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:j,lineTangency:E,theta:C}=du({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),A=s?Math.abs(c-u):Math.abs(c-u)-S-C;if(A<0&&i===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+=qe(l_||(l_=ci(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,i,i,+(d<0),j.x,j.y,n,n,+(A>180),+(d>0),_.x,_.y,i,i,+(d<0),b.x,b.y)}else y+=qe(c_||(c_=ci(["L",",","Z"])),t,r);return y},AU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},YT=e=>{var t=yr(e,AU),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=De("recharts-sector",f),m=i-a,p=Yr(o,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=OU({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):x=KT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),w.createElement("path",Jg({},Pr(t),{className:h,d:x}))};function TU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(h2(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,c=Ct(n,a,i,s),u=Ct(n,a,o,s);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return GT(t)}}var XT={},ZT={},JT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(JT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JT;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ZT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n0,r=ZT;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=a,a+=o;return c}e.range=n})(XT);var kU=XT.range;const QT=Yn(kU);function Da(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function g0(e){let t,r,n;e.length!==2?(t=Da,r=(s,c)=>Da(e(s),c),n=(s,c)=>e(s)-c):(t=e===Da||e===RU?e:NU,r=e,n=e);function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=a(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:o,right:i}}function NU(){return 0}function ek(e){return e===null?NaN:+e}function*PU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const MU=g0(Da),gc=MU.right;g0(ek).center;class u_ extends Map{constructor(t,r=BU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(d_(this,t))}has(t){return super.has(d_(this,t))}set(t,r){return super.set(DU(this,t),r)}delete(t){return super.delete(zU(this,t))}}function d_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function DU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function BU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IU(e=Da){if(e===Da)return tk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function tk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $U=Math.sqrt(50),LU=Math.sqrt(10),UU=Math.sqrt(2);function Fd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=$U?10:i>=LU?5:i>=UU?2:1;let s,c,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?Fd(e,t,r*2):[s,c,u]}function Qg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Fd(t,e,r):Fd(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(i-u)/-o;else for(let u=0;u<s;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(a+u)/-o;else for(let u=0;u<s;++u)c[u]=(a+u)*o;return c}function ev(e,t,r){return t=+t,e=+e,r=+r,Fd(e,t,r)[2]}function tv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ev(t,e,r):ev(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function f_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function h_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rk(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?tk:IU(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));rk(e,t,m,p,a)}const i=e[t];let o=r,s=n;for(zs(e,r,t),a(e[n],i)>0&&zs(e,r,n);o<s;){for(zs(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?zs(e,r,s):(++s,zs(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function zs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function qU(e,t,r){if(e=Float64Array.from(PU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return h_(e);if(t>=1)return f_(e);var n,a=(n-1)*t,i=Math.floor(a),o=f_(rk(e,i).subarray(0,i+1)),s=h_(e.subarray(i+1));return o+(s-o)*(a-i)}}function HU(e,t,r=ek){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function WU(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ta(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rv=Symbol("implicit");function v0(){var e=new u_,t=[],r=[],n=rv;function a(i){let o=e.get(i);if(o===void 0){if(n!==rv)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new u_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return v0(t,r).unknown(n)},zr.apply(a,arguments),a}function y0(){var e=v0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,x=m?n:a;i=(x-p)/Math.max(1,h-c+u*2),s&&(i=Math.floor(i)),p+=(x-p-i*(h-c))*d,o=i*(1-c),s&&(p=Math.round(p),o=Math.round(o));var v=WU(h).map(function(g){return p+i*g});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return y0(t(),[n,a]).round(s).paddingInner(c).paddingOuter(u).align(d)},zr.apply(f(),arguments)}function nk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nk(t())},e}function FU(){return nk(y0.apply(null,arguments).paddingInner(1))}function b0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ak(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function vc(){}var Ll=.7,Vd=1/Ll,No="\\s*([+-]?\\d+)\\s*",Ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VU=/^#([0-9a-f]{3,8})$/,GU=new RegExp(`^rgb\\(${No},${No},${No}\\)$`),KU=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),YU=new RegExp(`^rgba\\(${No},${No},${No},${Ul}\\)$`),XU=new RegExp(`^rgba\\(${sn},${sn},${sn},${Ul}\\)$`),ZU=new RegExp(`^hsl\\(${Ul},${sn},${sn}\\)$`),JU=new RegExp(`^hsla\\(${Ul},${sn},${sn},${Ul}\\)$`),m_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b0(vc,ql,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:p_,formatHex:p_,formatHex8:QU,formatHsl:e9,formatRgb:g_,toString:g_});function p_(){return this.rgb().formatHex()}function QU(){return this.rgb().formatHex8()}function e9(){return ik(this).formatHsl()}function g_(){return this.rgb().formatRgb()}function ql(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=VU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?v_(t):r===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GU.exec(e))?new Gt(t[1],t[2],t[3],1):(t=KU.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YU.exec(e))?fu(t[1],t[2],t[3],t[4]):(t=XU.exec(e))?fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZU.exec(e))?x_(t[1],t[2]/100,t[3]/100,1):(t=JU.exec(e))?x_(t[1],t[2]/100,t[3]/100,t[4]):m_.hasOwnProperty(e)?v_(m_[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function v_(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function fu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gt(e,t,r,n)}function t9(e){return e instanceof vc||(e=ql(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function nv(e,t,r,n){return arguments.length===1?t9(e):new Gt(e,t,r,n??1)}function Gt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}b0(Gt,nv,ak(vc,{brighter(e){return e=e==null?Vd:Math.pow(Vd,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(xi(this.r),xi(this.g),xi(this.b),Gd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y_,formatHex:y_,formatHex8:r9,formatRgb:b_,toString:b_}));function y_(){return`#${ui(this.r)}${ui(this.g)}${ui(this.b)}`}function r9(){return`#${ui(this.r)}${ui(this.g)}${ui(this.b)}${ui((isNaN(this.opacity)?1:this.opacity)*255)}`}function b_(){const e=Gd(this.opacity);return`${e===1?"rgb(":"rgba("}${xi(this.r)}, ${xi(this.g)}, ${xi(this.b)}${e===1?")":`, ${e})`}`}function Gd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ui(e){return e=xi(e),(e<16?"0":"")+e.toString(16)}function x_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,r,n)}function ik(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof vc||(e=ql(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new Vr(o,s,c,e.opacity)}function n9(e,t,r,n){return arguments.length===1?ik(e):new Vr(e,t,r,n??1)}function Vr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}b0(Vr,n9,ak(vc,{brighter(e){return e=e==null?Vd:Math.pow(Vd,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Gt(Zm(e>=240?e-240:e+120,a,n),Zm(e,a,n),Zm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Vr(w_(this.h),hu(this.s),hu(this.l),Gd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gd(this.opacity);return`${e===1?"hsl(":"hsla("}${w_(this.h)}, ${hu(this.s)*100}%, ${hu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function w_(e){return e=(e||0)%360,e<0?e+360:e}function hu(e){return Math.max(0,Math.min(1,e||0))}function Zm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const x0=e=>()=>e;function a9(e,t){return function(r){return e+r*t}}function i9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function o9(e){return(e=+e)==1?ok:function(t,r){return r-t?i9(t,r,e):x0(isNaN(t)?r:t)}}function ok(e,t){var r=t-e;return r?a9(e,r):x0(isNaN(e)?t:e)}const __=function e(t){var r=o9(t);function n(a,i){var o=r((a=nv(a)).r,(i=nv(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),u=ok(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function s9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function l9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function c9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=ys(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function u9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function d9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ys(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var av=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jm=new RegExp(av.source,"g");function f9(e){return function(){return e}}function h9(e){return function(t){return e(t)+""}}function m9(e,t){var r=av.lastIndex=Jm.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=av.exec(e))&&(a=Jm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:Kd(n,a)})),r=Jm.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?h9(c[0].x):f9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function ys(e,t){var r=typeof t,n;return t==null||r==="boolean"?x0(t):(r==="number"?Kd:r==="string"?(n=ql(t))?(t=n,__):m9:t instanceof ql?__:t instanceof Date?u9:l9(t)?s9:Array.isArray(t)?c9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?d9:Kd)(e,t)}function w0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function p9(e,t){t===void 0&&(t=e,e=ys);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function g9(e){return function(){return e}}function Yd(e){return+e}var S_=[0,1];function zt(e){return e}function iv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:g9(isNaN(t)?NaN:.5)}function v9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function y9(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=iv(a,n),i=r(o,i)):(n=iv(n,a),i=r(i,o)),function(s){return i(n(s))}}function b9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=iv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=gc(e,s,1,n)-1;return i[c](a[c](s))}}function yc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bh(){var e=S_,t=S_,r=ys,n,a,i,o=zt,s,c,u;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=v9(e[0],e[h-1])),s=h>2?b9:y9,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(n),Kd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=w0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function _0(){return bh()(zt,zt)}function x9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zo(e){return e=Xd(Math.abs(e)),e?e[1]:NaN}function w9(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function _9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var S9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hl(e){if(!(t=S9.exec(e)))throw new Error("invalid format: "+e);var t;return new S0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hl.prototype=S0.prototype;function S0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}S0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function j9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Zd;function E9(e,t){var r=Xd(e,t);if(!r)return Zd=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Zd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Xd(e,Math.max(0,t+i-1))[0]}function j_(e,t){var r=Xd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const E_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:x9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>j_(e*100,t),r:j_,s:E9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function C_(e){return e}var O_=Array.prototype.map,A_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function C9(e){var t=e.grouping===void 0||e.thousands===void 0?C_:w9(O_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?C_:_9(O_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Hl(f);var m=f.fill,p=f.align,x=f.sign,v=f.symbol,g=f.zero,y=f.width,_=f.comma,b=f.precision,S=f.trim,j=f.type;j==="n"?(_=!0,j="g"):E_[j]||(b===void 0&&(b=12),S=!0,j="g"),(g||m==="0"&&p==="=")&&(g=!0,m="0",p="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),C=(v==="$"?n:/[%p]/.test(j)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=E_[j],R=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(k){var H=E,W=C,Z,O,T;if(j==="c")W=A(k)+W,k="";else{k=+k;var N=k<0||1/k<0;if(k=isNaN(k)?c:A(Math.abs(k),b),S&&(k=j9(k)),N&&+k==0&&x!=="+"&&(N=!1),H=(N?x==="("?x:s:x==="-"||x==="("?"":x)+H,W=(j==="s"&&!isNaN(k)&&Zd!==void 0?A_[8+Zd/3]:"")+W+(N&&x==="("?")":""),R){for(Z=-1,O=k.length;++Z<O;)if(T=k.charCodeAt(Z),48>T||T>57){W=(T===46?a+k.slice(Z+1):k.slice(Z))+W,k=k.slice(0,Z);break}}}_&&!g&&(k=t(k,1/0));var L=H.length+k.length+W.length,U=L<y?new Array(y-L+1).join(m):"";switch(_&&g&&(k=t(U+k,U.length?y-W.length:1/0),U=""),p){case"<":k=H+k+W+U;break;case"=":k=H+U+k+W;break;case"^":k=U.slice(0,L=U.length>>1)+H+k+W+U.slice(L);break;default:k=U+H+k+W;break}return i(k)}return M.toString=function(){return f+""},M}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Zo(h)/3)))*3,p=Math.pow(10,-m),x=u((f=Hl(f),f.type="f",f),{suffix:A_[8+m/3]});return function(v){return x(p*v)}}return{format:u,formatPrefix:d}}var mu,j0,sk;O9({thousands:",",grouping:[3],currency:["$",""]});function O9(e){return mu=C9(e),j0=mu.format,sk=mu.formatPrefix,mu}function A9(e){return Math.max(0,-Zo(Math.abs(e)))}function T9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zo(t)/3)))*3-Zo(Math.abs(e)))}function k9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zo(t)-Zo(e))+1}function lk(e,t,r,n){var a=tv(e,t,r),i;switch(n=Hl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=T9(a,o))&&(n.precision=i),sk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=k9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=A9(a))&&(n.precision=i-(n.type==="%")*2);break}}return j0(n)}function Va(e){var t=e.domain;return e.ticks=function(r){var n=t();return Qg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return lk(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=ev(o,s,r),u===c)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function ck(){var e=_0();return e.copy=function(){return yc(e,ck())},zr.apply(e,arguments),Va(e)}function uk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return uk(e).unknown(t)},e=arguments.length?Array.from(e,Yd):[0,1],Va(r)}function dk(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function T_(e){return Math.log(e)}function k_(e){return Math.exp(e)}function R9(e){return-Math.log(-e)}function N9(e){return-Math.exp(-e)}function P9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function M9(e){return e===10?P9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function D9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function R_(e){return(t,r)=>-e(-t,r)}function E0(e){const t=e(T_,k_),r=t.domain;let n=10,a,i;function o(){return a=D9(n),i=M9(n),r()[0]<0?(a=R_(a),i=R_(i),e(R9,N9)):e(T_,k_),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,x;const v=s==null?10:+s;let g=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(x=h<0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;g.push(x)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(x=h>0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;g.push(x)}g.length*2<v&&(g=Qg(u,d,v))}else g=Qg(h,m,Math.min(m-h,v)).map(i);return f?g.reverse():g},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Hl(c)).precision==null&&(c.trim=!0),c=j0(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(dk(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function fk(){const e=E0(bh()).domain([1,10]);return e.copy=()=>yc(e,fk()).base(e.base()),zr.apply(e,arguments),e}function N_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function P_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function C0(e){var t=1,r=e(N_(t),P_(t));return r.constant=function(n){return arguments.length?e(N_(t=+n),P_(t)):t},Va(r)}function hk(){var e=C0(bh());return e.copy=function(){return yc(e,hk()).constant(e.constant())},zr.apply(e,arguments)}function M_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function z9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function B9(e){return e<0?-e*e:e*e}function O0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(z9,B9):e(M_(r),M_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Va(t)}function A0(){var e=O0(bh());return e.copy=function(){return yc(e,A0()).exponent(e.exponent())},zr.apply(e,arguments),e}function I9(){return A0.apply(null,arguments).exponent(.5)}function D_(e){return Math.sign(e)*e*e}function $9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mk(){var e=_0(),t=[0,1],r=!1,n;function a(i){var o=$9(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(D_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yd)).map(D_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return mk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zr.apply(a,arguments),Va(a)}function pk(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=HU(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[gc(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Da),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return pk().domain(e).range(t).unknown(n)},zr.apply(i,arguments)}function gk(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[gc(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return gk().domain([e,t]).range(a).unknown(i)},zr.apply(Va(o),arguments)}function vk(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[gc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return vk().domain(e).range(t).unknown(r)},zr.apply(a,arguments)}const Qm=new Date,ep=new Date;function ot(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let u;do c.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return c},a.filter=i=>ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Qm.setTime(+i),ep.setTime(+o),e(Qm),e(ep),Math.floor(r(Qm,ep))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Jd=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jd);Jd.range;const An=1e3,Tr=An*60,Tn=Tr*60,Wn=Tn*24,T0=Wn*7,z_=Wn*30,tp=Wn*365,di=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCSeconds());di.range;const k0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());k0.range;const R0=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());R0.range;const N0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getHours());N0.range;const P0=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCHours());P0.range;const bc=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Wn,e=>e.getDate()-1);bc.range;const xh=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>e.getUTCDate()-1);xh.range;const yk=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>Math.floor(e/Wn));yk.range;function qi(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/T0)}const wh=qi(0),Qd=qi(1),L9=qi(2),U9=qi(3),Jo=qi(4),q9=qi(5),H9=qi(6);wh.range;Qd.range;L9.range;U9.range;Jo.range;q9.range;H9.range;function Hi(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/T0)}const _h=Hi(0),ef=Hi(1),W9=Hi(2),F9=Hi(3),Qo=Hi(4),V9=Hi(5),G9=Hi(6);_h.range;ef.range;W9.range;F9.range;Qo.range;V9.range;G9.range;const M0=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());M0.range;const D0=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());D0.range;const Fn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fn.range;const Vn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vn.range;function bk(e,t,r,n,a,i){const o=[[di,1,An],[di,5,5*An],[di,15,15*An],[di,30,30*An],[i,1,Tr],[i,5,5*Tr],[i,15,15*Tr],[i,30,30*Tr],[a,1,Tn],[a,3,3*Tn],[a,6,6*Tn],[a,12,12*Tn],[n,1,Wn],[n,2,2*Wn],[r,1,T0],[t,1,z_],[t,3,3*z_],[e,1,tp]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=g0(([,,v])=>v).right(o,h);if(m===o.length)return e.every(tv(u/tp,d/tp,f));if(m===0)return Jd.every(Math.max(tv(u,d,f),1));const[p,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(x)}return[s,c]}const[K9,Y9]=bk(Vn,D0,_h,yk,P0,R0),[X9,Z9]=bk(Fn,M0,wh,bc,N0,k0);function rp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function np(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function J9(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=Is(a),d=$s(a),f=Is(i),h=$s(i),m=Is(o),p=$s(o),x=Is(s),v=$s(s),g=Is(c),y=$s(c),_={a:T,A:N,b:L,B:U,c:null,d:q_,e:q_,f:w7,g:R7,G:P7,H:y7,I:b7,j:x7,L:xk,m:_7,M:S7,p:ne,q:ce,Q:F_,s:V_,S:j7,u:E7,U:C7,V:O7,w:A7,W:T7,x:null,X:null,y:k7,Y:N7,Z:M7,"%":W_},b={a:se,A:he,b:ue,B:z,c:null,d:H_,e:H_,f:I7,g:K7,G:X7,H:D7,I:z7,j:B7,L:_k,m:$7,M:L7,p:q,q:ae,Q:F_,s:V_,S:U7,u:q7,U:H7,V:W7,w:F7,W:V7,x:null,X:null,y:G7,Y:Y7,Z:Z7,"%":W_},S={a:R,A:M,b:k,B:H,c:W,d:L_,e:L_,f:m7,g:$_,G:I_,H:U_,I:U_,j:u7,L:h7,m:c7,M:d7,p:A,q:l7,Q:g7,s:v7,S:f7,u:n7,U:a7,V:i7,w:r7,W:o7,x:Z,X:O,y:$_,Y:I_,Z:s7,"%":p7};_.x=j(r,_),_.X=j(n,_),_.c=j(t,_),b.x=j(r,b),b.X=j(n,b),b.c=j(t,b);function j(D,K){return function(ee){var $=[],Ut=-1,Ce=0,Qt=D.length,er,Ka,Cb;for(ee instanceof Date||(ee=new Date(+ee));++Ut<Qt;)D.charCodeAt(Ut)===37&&($.push(D.slice(Ce,Ut)),(Ka=B_[er=D.charAt(++Ut)])!=null?er=D.charAt(++Ut):Ka=er==="e"?" ":"0",(Cb=K[er])&&(er=Cb(ee,Ka)),$.push(er),Ce=Ut+1);return $.push(D.slice(Ce,Ut)),$.join("")}}function E(D,K){return function(ee){var $=Bs(1900,void 0,1),Ut=C($,D,ee+="",0),Ce,Qt;if(Ut!=ee.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(K&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(Ce=np(Bs($.y,0,1)),Qt=Ce.getUTCDay(),Ce=Qt>4||Qt===0?ef.ceil(Ce):ef(Ce),Ce=xh.offset(Ce,($.V-1)*7),$.y=Ce.getUTCFullYear(),$.m=Ce.getUTCMonth(),$.d=Ce.getUTCDate()+($.w+6)%7):(Ce=rp(Bs($.y,0,1)),Qt=Ce.getDay(),Ce=Qt>4||Qt===0?Qd.ceil(Ce):Qd(Ce),Ce=bc.offset(Ce,($.V-1)*7),$.y=Ce.getFullYear(),$.m=Ce.getMonth(),$.d=Ce.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),Qt="Z"in $?np(Bs($.y,0,1)).getUTCDay():rp(Bs($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(Qt+5)%7:$.w+$.U*7-(Qt+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,np($)):rp($)}}function C(D,K,ee,$){for(var Ut=0,Ce=K.length,Qt=ee.length,er,Ka;Ut<Ce;){if($>=Qt)return-1;if(er=K.charCodeAt(Ut++),er===37){if(er=K.charAt(Ut++),Ka=S[er in B_?K.charAt(Ut++):er],!Ka||($=Ka(D,ee,$))<0)return-1}else if(er!=ee.charCodeAt($++))return-1}return $}function A(D,K,ee){var $=u.exec(K.slice(ee));return $?(D.p=d.get($[0].toLowerCase()),ee+$[0].length):-1}function R(D,K,ee){var $=m.exec(K.slice(ee));return $?(D.w=p.get($[0].toLowerCase()),ee+$[0].length):-1}function M(D,K,ee){var $=f.exec(K.slice(ee));return $?(D.w=h.get($[0].toLowerCase()),ee+$[0].length):-1}function k(D,K,ee){var $=g.exec(K.slice(ee));return $?(D.m=y.get($[0].toLowerCase()),ee+$[0].length):-1}function H(D,K,ee){var $=x.exec(K.slice(ee));return $?(D.m=v.get($[0].toLowerCase()),ee+$[0].length):-1}function W(D,K,ee){return C(D,t,K,ee)}function Z(D,K,ee){return C(D,r,K,ee)}function O(D,K,ee){return C(D,n,K,ee)}function T(D){return o[D.getDay()]}function N(D){return i[D.getDay()]}function L(D){return c[D.getMonth()]}function U(D){return s[D.getMonth()]}function ne(D){return a[+(D.getHours()>=12)]}function ce(D){return 1+~~(D.getMonth()/3)}function se(D){return o[D.getUTCDay()]}function he(D){return i[D.getUTCDay()]}function ue(D){return c[D.getUTCMonth()]}function z(D){return s[D.getUTCMonth()]}function q(D){return a[+(D.getUTCHours()>=12)]}function ae(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var K=j(D+="",_);return K.toString=function(){return D},K},parse:function(D){var K=E(D+="",!1);return K.toString=function(){return D},K},utcFormat:function(D){var K=j(D+="",b);return K.toString=function(){return D},K},utcParse:function(D){var K=E(D+="",!0);return K.toString=function(){return D},K}}}var B_={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,Q9=/^%/,e7=/[\\^$*+?|[\]().{}]/g;function me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function t7(e){return e.replace(e7,"\\$&")}function Is(e){return new RegExp("^(?:"+e.map(t7).join("|")+")","i")}function $s(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function r7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function n7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function a7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function i7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function o7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function I_(e,t,r){var n=yt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function s7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function l7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function c7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function L_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function u7(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function U_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function d7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function f7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function h7(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function m7(e,t,r){var n=yt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function p7(e,t,r){var n=Q9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function g7(e,t,r){var n=yt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function v7(e,t,r){var n=yt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function q_(e,t){return me(e.getDate(),t,2)}function y7(e,t){return me(e.getHours(),t,2)}function b7(e,t){return me(e.getHours()%12||12,t,2)}function x7(e,t){return me(1+bc.count(Fn(e),e),t,3)}function xk(e,t){return me(e.getMilliseconds(),t,3)}function w7(e,t){return xk(e,t)+"000"}function _7(e,t){return me(e.getMonth()+1,t,2)}function S7(e,t){return me(e.getMinutes(),t,2)}function j7(e,t){return me(e.getSeconds(),t,2)}function E7(e){var t=e.getDay();return t===0?7:t}function C7(e,t){return me(wh.count(Fn(e)-1,e),t,2)}function wk(e){var t=e.getDay();return t>=4||t===0?Jo(e):Jo.ceil(e)}function O7(e,t){return e=wk(e),me(Jo.count(Fn(e),e)+(Fn(e).getDay()===4),t,2)}function A7(e){return e.getDay()}function T7(e,t){return me(Qd.count(Fn(e)-1,e),t,2)}function k7(e,t){return me(e.getFullYear()%100,t,2)}function R7(e,t){return e=wk(e),me(e.getFullYear()%100,t,2)}function N7(e,t){return me(e.getFullYear()%1e4,t,4)}function P7(e,t){var r=e.getDay();return e=r>=4||r===0?Jo(e):Jo.ceil(e),me(e.getFullYear()%1e4,t,4)}function M7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+me(t/60|0,"0",2)+me(t%60,"0",2)}function H_(e,t){return me(e.getUTCDate(),t,2)}function D7(e,t){return me(e.getUTCHours(),t,2)}function z7(e,t){return me(e.getUTCHours()%12||12,t,2)}function B7(e,t){return me(1+xh.count(Vn(e),e),t,3)}function _k(e,t){return me(e.getUTCMilliseconds(),t,3)}function I7(e,t){return _k(e,t)+"000"}function $7(e,t){return me(e.getUTCMonth()+1,t,2)}function L7(e,t){return me(e.getUTCMinutes(),t,2)}function U7(e,t){return me(e.getUTCSeconds(),t,2)}function q7(e){var t=e.getUTCDay();return t===0?7:t}function H7(e,t){return me(_h.count(Vn(e)-1,e),t,2)}function Sk(e){var t=e.getUTCDay();return t>=4||t===0?Qo(e):Qo.ceil(e)}function W7(e,t){return e=Sk(e),me(Qo.count(Vn(e),e)+(Vn(e).getUTCDay()===4),t,2)}function F7(e){return e.getUTCDay()}function V7(e,t){return me(ef.count(Vn(e)-1,e),t,2)}function G7(e,t){return me(e.getUTCFullYear()%100,t,2)}function K7(e,t){return e=Sk(e),me(e.getUTCFullYear()%100,t,2)}function Y7(e,t){return me(e.getUTCFullYear()%1e4,t,4)}function X7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Qo(e):Qo.ceil(e),me(e.getUTCFullYear()%1e4,t,4)}function Z7(){return"+0000"}function W_(){return"%"}function F_(e){return+e}function V_(e){return Math.floor(+e/1e3)}var Qi,jk,Ek;J7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function J7(e){return Qi=J9(e),jk=Qi.format,Qi.parse,Ek=Qi.utcFormat,Qi.utcParse,Qi}function Q7(e){return new Date(e)}function eq(e){return e instanceof Date?+e:+new Date(+e)}function z0(e,t,r,n,a,i,o,s,c,u){var d=_0(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),y=u("%b %d"),_=u("%B"),b=u("%Y");function S(j){return(c(j)<j?m:s(j)<j?p:o(j)<j?x:i(j)<j?v:n(j)<j?a(j)<j?g:y:r(j)<j?_:b)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,eq)):h().map(Q7)},d.ticks=function(j){var E=h();return e(E[0],E[E.length-1],j??10)},d.tickFormat=function(j,E){return E==null?S:u(E)},d.nice=function(j){var E=h();return(!j||typeof j.range!="function")&&(j=t(E[0],E[E.length-1],j??10)),j?h(dk(E,j)):d},d.copy=function(){return yc(d,z0(e,t,r,n,a,i,o,s,c,u))},d}function tq(){return zr.apply(z0(X9,Z9,Fn,M0,wh,bc,N0,k0,di,jk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rq(){return zr.apply(z0(K9,Y9,Vn,D0,_h,xh,P0,R0,di,Ek).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sh(){var e=0,t=1,r,n,a,i,o=zt,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),u):[o(0),o(1)]}}return u.range=d(ys),u.rangeRound=d(w0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ga(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ck(){var e=Va(Sh()(zt));return e.copy=function(){return Ga(e,Ck())},ta.apply(e,arguments)}function Ok(){var e=E0(Sh()).domain([1,10]);return e.copy=function(){return Ga(e,Ok()).base(e.base())},ta.apply(e,arguments)}function Ak(){var e=C0(Sh());return e.copy=function(){return Ga(e,Ak()).constant(e.constant())},ta.apply(e,arguments)}function B0(){var e=O0(Sh());return e.copy=function(){return Ga(e,B0()).exponent(e.exponent())},ta.apply(e,arguments)}function nq(){return B0.apply(null,arguments).exponent(.5)}function Tk(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((gc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Da),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>qU(e,i/n))},r.copy=function(){return Tk(t).domain(e)},ta.apply(r,arguments)}function jh(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,u=zt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?s:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(v){var g,y,_;return arguments.length?([g,y,_]=v,u=p9(x,[g,y,_]),m):[u(0),u(.5),u(1)]}}return m.range=p(ys),m.rangeRound=p(w0),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),i=x(t),o=x(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function kk(){var e=Va(jh()(zt));return e.copy=function(){return Ga(e,kk())},ta.apply(e,arguments)}function Rk(){var e=E0(jh()).domain([.1,1,10]);return e.copy=function(){return Ga(e,Rk()).base(e.base())},ta.apply(e,arguments)}function Nk(){var e=C0(jh());return e.copy=function(){return Ga(e,Nk()).constant(e.constant())},ta.apply(e,arguments)}function I0(){var e=O0(jh());return e.copy=function(){return Ga(e,I0()).exponent(e.exponent())},ta.apply(e,arguments)}function aq(){return I0.apply(null,arguments).exponent(.5)}const Ks=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:y0,scaleDiverging:kk,scaleDivergingLog:Rk,scaleDivergingPow:I0,scaleDivergingSqrt:aq,scaleDivergingSymlog:Nk,scaleIdentity:uk,scaleImplicit:rv,scaleLinear:ck,scaleLog:fk,scaleOrdinal:v0,scalePoint:FU,scalePow:A0,scaleQuantile:pk,scaleQuantize:gk,scaleRadial:mk,scaleSequential:Ck,scaleSequentialLog:Ok,scaleSequentialPow:B0,scaleSequentialQuantile:Tk,scaleSequentialSqrt:nq,scaleSequentialSymlog:Ak,scaleSqrt:I9,scaleSymlog:hk,scaleThreshold:vk,scaleTime:tq,scaleUtc:rq,tickFormat:lk},Symbol.toStringTag,{value:"Module"}));var ra=e=>e.chartData,Pk=P([ra],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Mk=(e,t,r,n)=>n?Pk(e):ra(e),iq=(e,t,r)=>r?Pk(e):ra(e);function Ua(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Le(t)&&Le(r))return!0}return!1}function G_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Dk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Le(r))a=r;else if(typeof r=="function")return;if(Le(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Ua(o))return o}}function oq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ua(n))return G_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(G(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&mw.test(a)){var c=mw.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(G(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&pw.test(i)){var d=pw.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[o,s];if(Ua(h))return t==null?h:G_(h,t,r)}}}var bs=1e9,sq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},L0,Ie=!0,Dr="[DecimalError] ",wi=Dr+"Invalid argument: ",$0=Dr+"Exponent out of range: ",xs=Math.floor,ii=Math.pow,lq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,ft=1e7,Re=7,zk=9007199254740991,tf=xs(zk/Re),F={};F.absoluteValue=F.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};F.comparedTo=F.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};F.decimalPlaces=F.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Re;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};F.dividedBy=F.div=function(e){return Pn(this,new this.constructor(e))};F.dividedToIntegerBy=F.idiv=function(e){var t=this,r=t.constructor;return Se(Pn(t,new r(e),0,1),r.precision)};F.equals=F.eq=function(e){return!this.cmp(e)};F.exponent=function(){return tt(this)};F.greaterThan=F.gt=function(e){return this.cmp(e)>0};F.greaterThanOrEqualTo=F.gte=function(e){return this.cmp(e)>=0};F.isInteger=F.isint=function(){return this.e>this.d.length-2};F.isNegative=F.isneg=function(){return this.s<0};F.isPositive=F.ispos=function(){return this.s>0};F.isZero=function(){return this.s===0};F.lessThan=F.lt=function(e){return this.cmp(e)<0};F.lessThanOrEqualTo=F.lte=function(e){return this.cmp(e)<1};F.logarithm=F.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(sr)?new n(0):(Ie=!1,t=Pn(Wl(r,i),Wl(e,i),i),Ie=!0,Se(t,a))};F.minus=F.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$k(t,e):Bk(t,(e.s=-e.s,e))};F.modulo=F.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Dr+"NaN");return r.s?(Ie=!1,t=Pn(r,e,0,1).times(e),Ie=!0,r.minus(t)):Se(new n(r),a)};F.naturalExponential=F.exp=function(){return Ik(this)};F.naturalLogarithm=F.ln=function(){return Wl(this)};F.negated=F.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};F.plus=F.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Bk(t,e):$k(t,(e.s=-e.s,e))};F.precision=F.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wi+e);if(t=tt(a)+1,n=a.d.length-1,r=n*Re+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};F.squareRoot=F.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Dr+"NaN")}for(e=tt(s),Ie=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=an(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=xs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Pn(s,i,o+2)).times(.5),an(i.d).slice(0,o)===(t=an(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Se(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Ie=!0,Se(n,r)};F.times=F.mul=function(e){var t,r,n,a,i,o,s,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+m[n]*h[a-n-1]+t,i[a--]=s%ft|0,t=s/ft|0;i[a]=(i[a]+t)%ft|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ie?Se(e,f.precision):e};F.toDecimalPlaces=F.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(un(e,0,bs),t===void 0?t=n.rounding:un(t,0,8),Se(r,e+tt(r)+1,t))};F.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ni(n,!0):(un(e,0,bs),t===void 0?t=a.rounding:un(t,0,8),n=Se(new a(n),e+1,t),r=Ni(n,!0,e+1)),r};F.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ni(a):(un(e,0,bs),t===void 0?t=i.rounding:un(t,0,8),n=Se(new i(a),e+tt(a)+1,t),r=Ni(n.abs(),!1,e+tt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};F.toInteger=F.toint=function(){var e=this,t=e.constructor;return Se(new t(e),tt(e)+1,t.rounding)};F.toNumber=function(){return+this};F.toPower=F.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(sr);if(s=new c(s),!s.s){if(e.s<1)throw Error(Dr+"Infinity");return s}if(s.eq(sr))return s;if(n=c.precision,e.eq(sr))return Se(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=zk){for(a=new c(sr),t=Math.ceil(n/Re+4),Ie=!1;r%2&&(a=a.times(s),Y_(a.d,t)),r=xs(r/2),r!==0;)s=s.times(s),Y_(s.d,t);return Ie=!0,e.s<0?new c(sr).div(a):Se(a,n)}}else if(i<0)throw Error(Dr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ie=!1,a=e.times(Wl(s,n+u)),Ie=!0,a=Ik(a),a.s=i,a};F.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=tt(a),n=Ni(a,r<=i.toExpNeg||r>=i.toExpPos)):(un(e,1,bs),t===void 0?t=i.rounding:un(t,0,8),a=Se(new i(a),e,t),r=tt(a),n=Ni(a,e<=r||r<=i.toExpNeg,e)),n};F.toSignificantDigits=F.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(un(e,1,bs),t===void 0?t=n.rounding:un(t,0,8)),Se(new n(r),e,t)};F.toString=F.valueOf=F.val=F.toJSON=F[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),r=e.constructor;return Ni(e,t<=r.toExpNeg||t>=r.toExpPos)};function Bk(e,t){var r,n,a,i,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ie?Se(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=u.length):(n=u,a=o,s=c.length),o=Math.ceil(f/Re),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=u.length,s-i<0&&(i=s,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ft|0,c[i]%=ft;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Ie?Se(t,f):t}function un(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wi+e)}function an(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Re-n.length,r&&(i+=da(r)),i+=n;o=e[t],n=o+"",r=Re-n.length,r&&(i+=da(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Pn=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%ft|0,o=i/ft|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ft+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,u,d,f,h,m,p,x,v,g,y,_,b,S,j,E,C,A=n.constructor,R=n.s==a.s?1:-1,M=n.d,k=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Dr+"Division by zero");for(c=n.e-a.e,E=k.length,S=M.length,m=new A(R),p=m.d=[],u=0;k[u]==(M[u]||0);)++u;if(k[u]>(M[u]||0)&&--c,i==null?y=i=A.precision:o?y=i+(tt(n)-tt(a))+1:y=i,y<0)return new A(0);if(y=y/Re+2|0,u=0,E==1)for(d=0,k=k[0],y++;(u<S||d)&&y--;u++)_=d*ft+(M[u]||0),p[u]=_/k|0,d=_%k|0;else{for(d=ft/(k[0]+1)|0,d>1&&(k=e(k,d),M=e(M,d),E=k.length,S=M.length),b=E,x=M.slice(0,E),v=x.length;v<E;)x[v++]=0;C=k.slice(),C.unshift(0),j=k[0],k[1]>=ft/2&&++j;do d=0,s=t(k,x,E,v),s<0?(g=x[0],E!=v&&(g=g*ft+(x[1]||0)),d=g/j|0,d>1?(d>=ft&&(d=ft-1),f=e(k,d),h=f.length,v=x.length,s=t(f,x,h,v),s==1&&(d--,r(f,E<h?C:k,h))):(d==0&&(s=d=1),f=k.slice()),h=f.length,h<v&&f.unshift(0),r(x,f,v),s==-1&&(v=x.length,s=t(k,x,E,v),s<1&&(d++,r(x,E<v?C:k,v))),v=x.length):s===0&&(d++,x=[0]),p[u++]=d,s&&x[0]?x[v++]=M[b]||0:(x=[M[b]],v=1);while((b++<S||x[0]!==void 0)&&y--)}return p[0]||p.shift(),m.e=c,Se(m,o?i+tt(m)+1:i)}}();function Ik(e,t){var r,n,a,i,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(tt(e)>16)throw Error($0+tt(e));if(!e.s)return new d(sr);for(Ie=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ii(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(sr),d.precision=s;;){if(a=Se(a.times(e),s),r=r.times(++c),o=i.plus(Pn(a,r,s)),an(o.d).slice(0,s)===an(i.d).slice(0,s)){for(;u--;)i=Se(i.times(i),s);return d.precision=f,t==null?(Ie=!0,Se(i,f)):i}i=o}}function tt(e){for(var t=e.e*Re,r=e.d[0];r>=10;r/=10)t++;return t}function ap(e,t,r){if(t>e.LN10.sd())throw Ie=!0,r&&(e.precision=r),Error(Dr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function da(e){for(var t="";e--;)t+="0";return t}function Wl(e,t){var r,n,a,i,o,s,c,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(Dr+(m.s?"NaN":"-Infinity"));if(m.eq(sr))return new x(0);if(t==null?(Ie=!1,u=v):u=t,m.eq(10))return t==null&&(Ie=!0),ap(x,u);if(u+=h,x.precision=u,r=an(p),n=r.charAt(0),i=tt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=an(m.d),n=r.charAt(0),f++;i=tt(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return c=ap(x,u+2,v).times(i+""),m=Wl(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=v,t==null?(Ie=!0,Se(m,v)):m;for(s=o=m=Pn(m.minus(sr),m.plus(sr),u),d=Se(m.times(m),u),a=3;;){if(o=Se(o.times(d),u),c=s.plus(Pn(o,new x(a),u)),an(c.d).slice(0,u)===an(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(ap(x,u+2,v).times(i+""))),s=Pn(s,new x(f),u),x.precision=v,t==null?(Ie=!0,Se(s,v)):s;s=c,a+=2}}function K_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=xs(r/Re),e.d=[],n=(r+1)%Re,r<0&&(n+=Re),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Re;n<a;)e.d.push(+t.slice(n,n+=Re));t=t.slice(n),n=Re-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ie&&(e.e>tf||e.e<-tf))throw Error($0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,a,i,o,s,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Re,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Re),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Re,a=n-Re+o}if(r!==void 0&&(i=ii(10,o-a-1),s=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?u/ii(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=tt(e),f.length=1,t=t-i-1,f[0]=ii(10,(Re-t%Re)%Re),e.e=xs(-t/Re)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ii(10,Re-n),f[d]=a>0?(u/ii(10,o-a)%ii(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ft&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ft)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ie&&(e.e>tf||e.e<-tf))throw Error($0+tt(e));return e}function $k(e,t){var r,n,a,i,o,s,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ie?Se(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),a=Math.max(Math.ceil(m/Re),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ft-1;--c[i],c[a]+=ft}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ie?Se(t,m):t):new h(0)}function Ni(e,t,r){var n,a=tt(e),i=an(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+da(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+da(-a-1)+i,r&&(n=r-o)>0&&(i+=da(n))):a>=o?(i+=da(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+da(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=da(n))),e.s<0?"-"+i:i}function Y_(e,t){if(e.length>t)return e.length=t,!0}function Lk(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(wi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return K_(o,i.toString())}else if(typeof i!="string")throw Error(wi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,lq.test(i))K_(o,i);else throw Error(wi+i)}if(a.prototype=F,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Lk,a.config=a.set=cq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function cq(e){if(!e||typeof e!="object")throw Error(Dr+"Object expected");var t,r,n,a=["precision",1,bs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(xs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(wi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wi+r+": "+n);return this}var L0=Lk(sq);sr=new L0(1);const ye=L0;var uq=e=>e,Uk={},qk=e=>e===Uk,X_=e=>function t(){return arguments.length===0||arguments.length===1&&qk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Hk=(e,t)=>e===1?t:X_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==Uk).length;return i>=e?t(...n):Hk(e-i,X_(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=n.map(d=>qk(d)?s.shift():d);return t(...u,...s)}))}),dq=e=>Hk(e.length,e),ov=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},fq=dq((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),hq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return uq;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((s,c)=>c(s),i(...arguments))}};function Wk(e){var t;return e===0?t=1:t=Math.floor(new ye(e).abs().log(10).toNumber())+1,t}function Fk(e,t,r){for(var n=new ye(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Vk=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Gk=(e,t,r)=>{if(e.lte(0))return new ye(0);var n=Wk(e.toNumber()),a=new ye(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new ye(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?new ye(c.toNumber()):new ye(Math.ceil(c.toNumber()))},mq=(e,t,r)=>{var n=new ye(1),a=new ye(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ye(10).pow(Wk(e)-1),a=new ye(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ye(Math.floor(e)))}else e===0?a=new ye(Math.floor((t-1)/2)):r||(a=new ye(Math.floor(e)));var o=Math.floor((t-1)/2),s=hq(fq(c=>a.add(new ye(c-o).mul(n)).toNumber()),ov);return s(0,t)},Kk=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ye(0),tickMin:new ye(0),tickMax:new ye(0)};var o=Gk(new ye(r).sub(t).div(n-1),a,i),s;t<=0&&r>=0?s=new ye(0):(s=new ye(t).add(r).div(2),s=s.sub(new ye(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new ye(r).sub(s).div(o).toNumber()),d=c+u+1;return d>n?Kk(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:s.sub(new ye(c).mul(o)),tickMax:s.add(new ye(u).mul(o))})},pq=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[s,c]=Vk([r,n]);if(s===-1/0||c===1/0){var u=c===1/0?[s,...ov(0,a-1).map(()=>1/0)]:[...ov(0,a-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(s===c)return mq(s,a,i);var{step:d,tickMin:f,tickMax:h}=Kk(s,c,o,i,0),m=Fk(f,h.add(new ye(.1).mul(d)),d);return r>n?m.reverse():m},gq=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=Vk([n,a]);if(o===-1/0||s===1/0)return[n,a];if(o===s)return[o];var c=Math.max(r,2),u=Gk(new ye(s).sub(o).div(c-1),i,0),d=[...Fk(new ye(o),new ye(s),u),s];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},Yk=e=>e.rootProps.maxBarSize,vq=e=>e.rootProps.barGap,Xk=e=>e.rootProps.barCategoryGap,yq=e=>e.rootProps.barSize,Eh=e=>e.rootProps.stackOffset,Zk=e=>e.rootProps.reverseStackOrder,U0=e=>e.options.chartName,q0=e=>e.rootProps.syncId,Jk=e=>e.rootProps.syncMethod,H0=e=>e.options.eventEmitter,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Sn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ch=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},bq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:Sn.reversed,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:Sn.type,unit:void 0},xq={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:rr.type,unit:void 0},wq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},_q={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:"category",unit:void 0},W0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?wq:bq,F0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?_q:xq,Oh=e=>e.polarOptions,V0=P([Qn,ea,vt],xU),Qk=P([Oh,V0],(e,t)=>{if(e!=null)return Yr(e.innerRadius,t,0)}),eR=P([Oh,V0],(e,t)=>{if(e!=null)return Yr(e.outerRadius,t,t*.8)}),Sq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},tR=P([Oh],Sq);P([W0,tR],Ch);var rR=P([V0,Qk,eR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});P([F0,rR],Ch);var nR=P([xe,Oh,Qk,eR,Qn,ea],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:u}=t;return{cx:Yr(o,a,a/2),cy:Yr(s,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),st=(e,t)=>t,Ah=(e,t,r)=>r;function G0(e){return e==null?void 0:e.id}function aR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(s=>{var c,u=(c=s.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=G0(s);u.forEach((f,h)=>{var m=i==null||a?h:String(At(f,i,null)),p=At(f,s.dataKey,0),x;o.has(m)?x=o.get(m):x={},Object.assign(x,{[d]:p}),o.set(m,x)})}}),Array.from(o.values())}function Th(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var kh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Rh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function jq(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var lt=e=>{var t=xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ws=e=>e.tooltip.settings.axisId;function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return(t=Cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sv=[0,"auto"],ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},iR=(e,t)=>e.cartesianAxis.xAxis[t],na=(e,t)=>{var r=iR(e,t);return r??ut},dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hc},oR=(e,t)=>e.cartesianAxis.yAxis[t],aa=(e,t)=>{var r=oR(e,t);return r??dt},Aq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},K0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Aq},Lt=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);case"zAxis":return K0(e,r);case"angleAxis":return W0(e,r);case"radiusAxis":return F0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Tq=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xc=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);case"angleAxis":return W0(e,r);case"radiusAxis":return F0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lR(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Y0=e=>e.graphicalItems.cartesianItems,kq=P([st,Ah],lR),cR=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),wc=P([Y0,Lt,kq],cR,{memoizeOptions:{resultEqualityCheck:Rh}}),uR=P([wc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Th)),dR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Rq=P([wc],dR),fR=e=>e.map(t=>t.data).filter(Boolean).flat(1),Nq=P([wc],fR,{memoizeOptions:{resultEqualityCheck:Rh}}),hR=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},X0=P([Nq,Mk],hR),mR=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:At(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:At(a,n)}))):e.map(n=>({value:n})),Nh=P([X0,Lt,wc],mR);function pR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Iu(e){if(ln(e)||e instanceof Date){var t=Number(e);if(Le(t))return t}}function J_(e){if(Array.isArray(e)){var t=[Iu(e[0]),Iu(e[1])];return Ua(t)?t:void 0}var r=Iu(e);if(r!=null)return[r,r]}function Gn(e){return e.map(Iu).filter(a8)}function Pq(e,t,r){return!r||typeof t!="number"||Kr(t)?[]:r.length?Gn(r.flatMap(n=>{var a=At(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Le(i)||!Le(o)))return[t-i,t+o]})):[]}var ct=e=>{var t=lt(e),r=ws(e);return xc(e,t,r)},_c=P([ct],e=>e==null?void 0:e.dataKey),Mq=P([uR,Mk,ct],aR),gR=(e,t,r,n)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var c=o[s.stackId];return c==null&&(c=[]),c.push(s),o[s.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,c]=o,u=n?[...c].reverse():c,d=u.map(G0);return[s,{stackedData:m$(e,d,r),graphicalItems:u}]}))},lv=P([Mq,uR,Eh,Zk],gR),vR=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=b$(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Dq=P([Lt],e=>e.allowDataOverflow),Z0=e=>{var t;if(e==null||!("domain"in e))return sv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Gn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:sv},yR=P([Lt],Z0),bR=P([yR,Dq],Dk),zq=P([lv,ra,st,bR],vR,{memoizeOptions:{resultEqualityCheck:kh}}),J0=e=>e.errorBars,Bq=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>pR(r,n)),nf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),s=Math.max(...i);return[o,s]}},xR=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(s=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(g=>pR(a,g)),h=At(s,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=Pq(s,h,f);if(m.length>=2){var p=Math.min(...m),x=Math.max(...m);(i==null||p<i)&&(i=p),(o==null||x>o)&&(o=x)}var v=J_(h);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var c=J_(At(s,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),Le(i)&&Le(o))return[i,o]},Iq=P([X0,Lt,Rq,J0,st],xR,{memoizeOptions:{resultEqualityCheck:kh}});function $q(e){var{value:t}=e;if(ln(t)||t instanceof Date)return t}var Lq=(e,t,r)=>{var n=e.map($q).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&u2(n))?QT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},wR=e=>e.referenceElements.dots,_s=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Uq=P([wR,st,Ah],_s),_R=e=>e.referenceElements.areas,qq=P([_R,st,Ah],_s),SR=e=>e.referenceElements.lines,Hq=P([SR,st,Ah],_s),jR=(e,t)=>{if(e!=null){var r=Gn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Wq=P(Uq,st,jR),ER=(e,t)=>{if(e!=null){var r=Gn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Fq=P([qq,st],ER);function Vq(e){var t;if(e.x!=null)return Gn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Gn(r)}function Gq(e){var t;if(e.y!=null)return Gn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Gn(r)}var CR=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Vq(n):Gq(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Kq=P([Hq,st],CR),Yq=P(Wq,Kq,Fq,(e,t,r)=>nf(e,r,t)),OR=(e,t,r,n,a,i,o,s)=>{if(r!=null)return r;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=c?nf(n,i,a):nf(i,a);return oq(t,u,e.allowDataOverflow)},Xq=P([Lt,yR,bR,zq,Iq,Yq,xe,st],OR,{memoizeOptions:{resultEqualityCheck:kh}}),Zq=[0,1],AR=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,u=Ui(t,i);if(u&&s==null){var d;return QT(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?Lq(n,e,u):a==="expand"?Zq:o}},Q0=P([Lt,xe,X0,Nh,Eh,st,Xq],AR),TR=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(cc(i));return s in Ks?s:"point"}}},Sc=P([Lt,xe,sR,U0,st],TR);function Jq(e){if(e!=null){if(e in Ks)return Ks[e]();var t="scale".concat(cc(e));if(t in Ks)return Ks[t]()}}function eb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Jq(t);if(a!=null){var i=a.domain(r).range(n);return c$(i),i}}}var kR=(e,t,r)=>{var n=Z0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ua(e))return pq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ua(e))return gq(e,t.tickCount,t.allowDecimals)}},tb=P([Q0,xc,Sc],kR),RR=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ua(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],s=r[r.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},Qq=P([Lt,Q0,tb,st],RR),eH=P(Nh,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Gn(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var c=n[s],u=n[s+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),NR=P(eH,xe,Xk,vt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Le(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Yr(r,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),tH=(e,t,r)=>{var n=na(e,t);return n==null||typeof n.padding!="string"?0:NR(e,"xAxis",t,r,n.padding)},rH=(e,t,r)=>{var n=aa(e,t);return n==null||typeof n.padding!="string"?0:NR(e,"yAxis",t,r,n.padding)},nH=P(na,tH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),aH=P(aa,rH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),iH=P([vt,nH,fh,dh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),oH=P([vt,xe,aH,fh,dh,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),jc=(e,t,r,n)=>{var a;switch(t){case"xAxis":return iH(e,r,n);case"yAxis":return oH(e,r,n);case"zAxis":return(a=K0(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return tR(e);case"radiusAxis":return rR(e,r);default:return}},PR=P([Lt,jc],Ch),Ph=P([Lt,Sc,Qq,PR],eb);P([wc,J0,st],Bq);function MR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Mh=(e,t)=>t,Dh=(e,t,r)=>r,sH=P(ch,Mh,Dh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(MR)),lH=P(uh,Mh,Dh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(MR)),DR=(e,t)=>({width:e.width,height:t.height}),cH=(e,t)=>{var r=typeof t.width=="number"?t.width:hc;return{width:r,height:e.height}},zR=P(vt,na,DR),uH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},dH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},fH=P(ea,vt,sH,Mh,Dh,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=DR(t,s);o==null&&(o=uH(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[s.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),hH=P(Qn,vt,lH,Mh,Dh,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=cH(t,s);o==null&&(o=dH(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[s.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),mH=(e,t)=>{var r=na(e,t);if(r!=null)return fH(e,r.orientation,r.mirror)},pH=P([vt,na,mH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),gH=(e,t)=>{var r=aa(e,t);if(r!=null)return hH(e,r.orientation,r.mirror)},vH=P([vt,aa,gH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),BR=P(vt,aa,(e,t)=>{var r=typeof t.width=="number"?t.width:hc;return{width:r,height:e.height}}),Q_=(e,t,r)=>{switch(t){case"xAxis":return zR(e,r).width;case"yAxis":return BR(e,r).height;default:return}},IR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,s=Ui(e,n),c=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&u2(c))return c}},rb=P([xe,Nh,Lt,st],IR),$R=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Ui(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},nb=P([xe,Nh,xc,st],$R),eS=P([xe,Tq,Sc,Ph,rb,nb,jc,tb,st],(e,t,r,n,a,i,o,s,c)=>{if(t!=null){var u=Ui(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),yH=(e,t,r,n,a,i,o,s,c)=>{if(!(t==null||n==null)){var u=Ui(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?Vt(i[0]-i[1])*2*p:p;var x=f||a;if(x){var v=x.map((g,y)=>{var _=o?o.indexOf(g):g;return{index:y,coordinate:n(_)+p,value:g,offset:p}});return v.filter(g=>Le(g.coordinate))}return u&&s?s.map((g,y)=>({coordinate:n(g)+p,value:g,index:y,offset:p})).filter(g=>Le(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,y)=>({coordinate:n(g)+p,value:o?o[g]:g,index:y,offset:p}))}},LR=P([xe,xc,Sc,Ph,tb,jc,rb,nb,st],yH),bH=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=Ui(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Vt(n[0]-n[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},es=P([xe,xc,Ph,jc,rb,nb,st],bH),ts=P(Lt,Ph,(e,t)=>{if(!(e==null||t==null))return rf(rf({},e),{},{scale:t})}),xH=P([Lt,Sc,Q0,PR],eb);P((e,t,r)=>K0(e,r),xH,(e,t)=>{if(!(e==null||t==null))return rf(rf({},e),{},{scale:t})});var wH=P([xe,ch,uh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),UR=e=>e.options.defaultTooltipEventType,qR=e=>e.options.validateTooltipEventTypes;function HR(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ab(e,t){var r=UR(e),n=qR(e);return HR(t,r,n)}function _H(e){return X(t=>ab(t,e))}var WR=(e,t)=>{var r,n=Number(t);if(!(Kr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},SH=e=>e.tooltip.settings,ya={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},jH={itemInteraction:{click:ya,hover:ya},axisInteraction:{click:ya,hover:ya},keyboardInteraction:ya,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FR=Zt({name:"tooltip",initialState:jH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=Gr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:EH,replaceTooltipEntrySettings:CH,removeTooltipEntrySettings:OH,setTooltipSettingsState:AH,setActiveMouseOverItemIndex:VR,mouseLeaveItem:TH,mouseLeaveChart:GR,setActiveClickItemIndex:kH,setMouseOverAxisIndex:KR,setMouseClickAxisIndex:RH,setSyncInteraction:cv,setKeyboardInteraction:uv}=FR.actions,NH=FR.reducer;function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return(t=MH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function BH(e){return e.index!=null}var YR=(e,t,r,n)=>{if(t==null)return ya;var a=zH(e,t,r);if(a==null)return ya;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(BH(a)){if(i)return pu(pu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return pu(pu({},ya),{},{coordinate:a.coordinate})};function IH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function $H(e,t){var r=IH(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function LH(e,t,r){if(r==null||t==null)return!0;var n=At(e,t);return n==null||!Ua(r)?!0:$H(n,r)}var ib=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Le(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(o,Math.min(i,s)),u=t[c];return u==null||LH(u,r,n)?String(c):null},XR=(e,t,r,n,a,i,o,s)=>{if(!(i==null||s==null)){var c=o[0],u=c==null?void 0:s(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},ZR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Ec=e=>e.options.tooltipPayloadSearcher,Ss=e=>e.tooltip;function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){UH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=HH(e,"string");return typeof t=="symbol"?t:t+""}function HH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WH(e,t){return e??t}var JR=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:v}=m,g=WH(x,s),y=Array.isArray(g)?yT(g,u,d):g,_=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,b=v==null?void 0:v.nameKey,S;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&o==="axis"?S=n8(y,n,a):S=i(y,t,c,b),Array.isArray(S))S.forEach(E=>{var C=nS(nS({},v),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(gw({tooltipEntrySettings:C,dataKey:E.dataKey,payload:E.payload,value:At(E.payload,E.dataKey),name:E.name}))});else{var j;h.push(gw({tooltipEntrySettings:v,dataKey:_,payload:S,value:At(S,_),name:(j=At(S,b))!==null&&j!==void 0?j:v==null?void 0:v.name}))}return h},f)}},ob=P([ct,xe,sR,U0,lt],TR),FH=P([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),VH=P([lt,ws],lR),js=P([FH,ct,VH],cR,{memoizeOptions:{resultEqualityCheck:Rh}}),GH=P([js],e=>e.filter(Th)),KH=P([js],fR,{memoizeOptions:{resultEqualityCheck:Rh}}),Es=P([KH,ra],hR),YH=P([GH,ra,ct],aR),sb=P([Es,ct,js],mR),QR=P([ct],Z0),XH=P([ct],e=>e.allowDataOverflow),eN=P([QR,XH],Dk),ZH=P([js],e=>e.filter(Th)),JH=P([YH,ZH,Eh,Zk],gR),QH=P([JH,ra,lt,eN],vR),eW=P([js],dR),tW=P([Es,ct,eW,J0,lt],xR,{memoizeOptions:{resultEqualityCheck:kh}}),rW=P([wR,lt,ws],_s),nW=P([rW,lt],jR),aW=P([_R,lt,ws],_s),iW=P([aW,lt],ER),oW=P([SR,lt,ws],_s),sW=P([oW,lt],CR),lW=P([nW,sW,iW],nf),cW=P([ct,QR,eN,QH,tW,lW,xe,lt],OR),Cc=P([ct,xe,Es,sb,Eh,lt,cW],AR),uW=P([Cc,ct,ob],kR),dW=P([ct,Cc,uW,lt],RR),tN=e=>{var t=lt(e),r=ws(e),n=!1;return jc(e,t,r,n)},rN=P([ct,tN],Ch),nN=P([ct,ob,dW,rN],eb),fW=P([xe,sb,ct,lt],IR),hW=P([xe,sb,ct,lt],$R),mW=(e,t,r,n,a,i,o,s)=>{if(t){var{type:c}=t,u=Ui(e,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Vt(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},ia=P([xe,ct,ob,nN,tN,fW,hW,lt],mW),lb=P([UR,qR,SH],(e,t,r)=>HR(r.shared,e,t)),aN=e=>e.tooltip.settings.trigger,cb=e=>e.tooltip.settings.defaultIndex,Oc=P([Ss,lb,aN,cb],YR),rs=P([Oc,Es,_c,Cc],ib),iN=P([ia,rs],WR),oN=P([Oc],e=>{if(e)return e.dataKey});P([Oc],e=>{if(e)return e.graphicalItemId});var sN=P([Ss,lb,aN,cb],ZR),pW=P([Qn,ea,xe,vt,ia,cb,sN,Ec],XR),gW=P([Oc,pW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),vW=P([Oc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),yW=P([sN,rs,ra,_c,iN,Ec,lb],JR);P([yW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){bW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bW(e,t,r){return(t=xW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _W=()=>X(ct),SW=()=>{var e=_W(),t=X(ia),r=X(nN);return Dd(!e||!r?void 0:iS(iS({},e),{},{scale:r}),t)};function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){jW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jW(e,t,r){return(t=EW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OW=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},AW=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return eo(eo(eo({},n),Ct(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:c}=n;return eo(eo(eo({},n),Ct(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function TW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var lN=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var c,u,d,f,h,m=s>0?(c=r[s-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,p=(d=r[s])===null||d===void 0?void 0:d.coordinate,x=s>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[s+1])===null||h===void 0?void 0:h.coordinate,v=void 0;if(!(m==null||p==null||x==null))if(Vt(p-m)!==Vt(x-p)){var g=[];if(Vt(x-p)===Vt(a[1]-a[0])){v=x;var y=p+a[1]-a[0];g[0]=Math.min(y,(y+m)/2),g[1]=Math.max(y,(y+m)/2)}else{v=m;var _=x+a[1]-a[0];g[0]=Math.min(p,(_+p)/2),g[1]=Math.max(p,(_+p)/2)}var b=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){var S;return(S=r[s])===null||S===void 0?void 0:S.index}}else{var j=Math.min(m,x),E=Math.max(m,x);if(e>(j+p)/2&&e<=(E+p)/2){var C;return(C=r[s])===null||C===void 0?void 0:C.index}}}else if(t)for(var A=0;A<o;A++){var R=t[A];if(R!=null){var M=t[A+1],k=t[A-1];if(A===0&&M!=null&&e<=(R.coordinate+M.coordinate)/2||A===o-1&&k!=null&&e>(R.coordinate+k.coordinate)/2||A>0&&A<o-1&&k!=null&&M!=null&&e>(R.coordinate+k.coordinate)/2&&e<=(R.coordinate+M.coordinate)/2)return R.index}}return-1},kW=()=>X(U0),ub=(e,t)=>t,cN=(e,t,r)=>r,db=(e,t,r,n)=>n,RW=P(ia,e=>Qf(e,t=>t.coordinate)),fb=P([Ss,ub,cN,db],YR),hb=P([fb,Es,_c,Cc],ib),NW=(e,t,r)=>{if(t!=null){var n=Ss(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},uN=P([Ss,ub,cN,db],ZR),af=P([Qn,ea,xe,vt,ia,db,uN,Ec],XR),PW=P([fb,af],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),dN=P([ia,hb],WR),MW=P([uN,hb,ra,_c,dN,Ec,ub],JR),DW=P([fb,hb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),zW=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&TW(e,o)){var s=x$(e,t),c=lN(s,i,a,r,n),u=OW(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},BW=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var s=EU(e,r);if(s){var c=w$(s,t),u=lN(c,o,i,n,a),d=AW(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},IW=(e,t,r,n,a,i,o,s)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?zW(e,t,n,a,i,o,s):BW(e,t,r,n,a,i,o)},$W=P(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),LW=P(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Bt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:jq}});function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){UW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=HW(e,"string");return typeof t=="symbol"?t:t+""}function HW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WW={},FW={zIndexMap:Object.values(Bt).reduce((e,t)=>lS(lS({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),WW)},VW=new Set(Object.values(Bt));function GW(e){return VW.has(e)}var fN=Zt({name:"zIndex",initialState:FW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!GW(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Be()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Be()}}}),{registerZIndexPortal:KW,unregisterZIndexPortal:YW,registerZIndexPortalElement:XW,unregisterZIndexPortalElement:ZW}=fN.actions,JW=fN.reducer;function oa(e){var{zIndex:t,children:r}=e,n=X$(),a=n&&t!==void 0&&t!==0,i=Jt(),o=Ge();w.useLayoutEffect(()=>a?(o(KW({zIndex:t})),()=>{o(YW({zIndex:t}))}):uc,[o,t,a]);var s=X(c=>$W(c,t,i));return a?s?Cv.createPortal(r,s):null:r}function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){QW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QW(e,t,r){return(t=eF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eF(e){var t=tF(e,"string");return typeof t=="symbol"?t:t+""}function tF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rF(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function nF(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,v;if(d==="ScatterChart")p=f,x=IL,v=Bt.cursorLine;else if(d==="BarChart")p=$L(s,f,i,o),x=VT,v=Bt.cursorRectangle;else if(s==="radial"&&h2(f)){var{cx:g,cy:y,radius:_,startAngle:b,endAngle:S}=GT(f);p={cx:g,cy:y,startAngle:b,endAngle:S,innerRadius:_,outerRadius:_},x=YT,v=Bt.cursorLine}else p={points:TU(s,f,i)},x=UT,v=Bt.cursorLine;var j=typeof c=="object"&&"className"in c?c.className:void 0,E=gu(gu(gu(gu({stroke:"#ccc",pointerEvents:"none"},i),p),Uy(c)),{},{payload:h,payloadIndex:m,className:De("recharts-tooltip-cursor",j)});return w.createElement(oa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},w.createElement(rF,{cursor:c,cursorComp:x,cursorProps:E}))}function aF(e){var t=SW(),r=kT(),n=mc(),a=kW();return t==null||r==null||n==null||a==null?null:w.createElement(nF,dv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var hN=w.createContext(null),iF=()=>w.useContext(hN),mN={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,p){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],g=arguments.length,y,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(_=1,y=new Array(g-1);_<g;_++)y[_-1]=arguments[_];v.fn.apply(v.context,y)}else{var b=v.length,S;for(_=0;_<b;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),g){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!y)for(S=1,y=new Array(g-1);S<g;S++)y[S-1]=arguments[S];v[_].fn.apply(v[_].context,y)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var x=0,v=[],g=p.length;x<g;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(mN);var oF=mN.exports;const sF=Yn(oF);var Fl=new sF,fv="recharts.syncEvent.tooltip",uS="recharts.syncEvent.brush";function lF(e,t){if(t){var r=Number.parseInt(t,10);if(!Kr(r))return e==null?void 0:e[r]}}var cF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pN=Zt({name:"options",initialState:cF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uF=pN.reducer,{createEventEmitter:dF}=pN.actions;function fF(e){return e.tooltip.syncInteraction}var hF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gN=Zt({name:"chartData",initialState:hF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:dS,setDataStartEndIndexes:mF,setComputedData:$Z}=gN.actions,pF=gN.reducer,gF=["x","y"];function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){vF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vF(e,t,r){return(t=yF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=bF(e,"string");return typeof t=="symbol"?t:t+""}function bF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xF(e,t){if(e==null)return{};var r,n,a=wF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _F(){var e=X(q0),t=X(H0),r=Ge(),n=X(Jk),a=X(ia),i=mc(),o=hh(),s=X(c=>c.rootProps.className);w.useEffect(()=>{if(e==null)return uc;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:x}=m,v=xF(m,gF),{x:g,y,width:_,height:b}=d.payload.sourceViewBox,S=to(to({},v),{},{x:o.x+(_?(p-g)/_:0)*o.width,y:o.y+(b?(x-y)/b:0)*o.height});r(to(to({},d),{},{payload:to(to({},d.payload),{},{coordinate:S})}))}else r(d);return}if(a!=null){var j;if(typeof n=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},C=n(a,E);j=a[C]}else n==="value"&&(j=a.find(O=>String(O.value)===d.payload.label));var{coordinate:A}=d.payload;if(j==null||d.payload.active===!1||A==null||o==null){r(cv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:M}=A,k=Math.min(R,o.x+o.width),H=Math.min(M,o.y+o.height),W={x:i==="horizontal"?j.coordinate:k,y:i==="horizontal"?H:j.coordinate},Z=cv({active:d.payload.active,coordinate:W,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(Z)}}};return Fl.on(fv,c),()=>{Fl.off(fv,c)}},[s,r,t,e,n,a,i,o])}function SF(){var e=X(q0),t=X(H0),r=Ge();w.useEffect(()=>{if(e==null)return uc;var n=(a,i,o)=>{t!==o&&e===a&&r(mF(i))};return Fl.on(uS,n),()=>{Fl.off(uS,n)}},[r,t,e])}function jF(){var e=Ge();w.useEffect(()=>{e(dF())},[e]),_F(),SF()}function EF(e,t,r,n,a,i){var o=X(m=>NW(m,e,t)),s=X(H0),c=X(q0),u=X(Jk),d=X(fF),f=d==null?void 0:d.active,h=hh();w.useEffect(()=>{if(!f&&c!=null&&s!=null){var m=cv({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Fl.emit(fv,c,m,s)}},[f,r,o,a,n,s,c,u,i,h])}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){CF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CF(e,t,r){return(t=OF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=AF(e,"string");return typeof t=="symbol"?t:t+""}function AF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TF(e){return e.dataKey}function kF(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(vL,t)}var pS=[],RF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function NF(e){var t,r,n=yr(e,RF),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:x,wrapperStyle:v,cursor:g,shared:y,trigger:_,defaultIndex:b,portal:S,axisId:j}=n,E=Ge(),C=typeof b=="number"?String(b):b;w.useEffect(()=>{E(AH({shared:y,trigger:_,axisId:j,active:a,defaultIndex:C}))},[E,y,_,j,a,C]);var A=hh(),R=LT(),M=_H(y),{activeIndex:k,isActive:H}=(t=X(q=>DW(q,M,_,C)))!==null&&t!==void 0?t:{},W=X(q=>MW(q,M,_,C)),Z=X(q=>dN(q,M,_,C)),O=X(q=>PW(q,M,_,C)),T=W,N=iF(),L=(r=a??H)!==null&&r!==void 0?r:!1,[U,ne]=aI([T,L]),ce=M==="axis"?Z:void 0;EF(M,_,O,ce,k,L);var se=S??N;if(se==null||A==null||M==null)return null;var he=T??pS;L||(he=pS),u&&he.length&&(he=_8(he.filter(q=>q.value!=null&&(q.hide!==!0||n.includeHidden)),h,TF));var ue=he.length>0,z=w.createElement(jL,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:L,coordinate:O,hasPayload:ue,offset:f,position:m,reverseDirection:p,useTranslate3d:x,viewBox:A,wrapperStyle:v,lastBoundingBox:U,innerRef:ne,hasPortalFromProps:!!S},kF(c,mS(mS({},n),{},{payload:he,label:ce,active:L,activeIndex:k,coordinate:O,accessibilityLayer:R})));return w.createElement(w.Fragment,null,Cv.createPortal(z,se),L&&w.createElement(aF,{cursor:g,tooltipEventType:M,coordinate:O,payload:he,index:k}))}var mb=e=>null;mb.displayName="Cell";function PF(e,t,r){return(t=MF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e){var t=DF(e,"string");return typeof t=="symbol"?t:t+""}function DF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zF{constructor(t){PF(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){IF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IF(e,t,r){return(t=$F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=LF(e,"string");return typeof t=="symbol"?t:t+""}function LF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UF={cacheSize:2e3,enableCache:!0},vN=BF({},UF),vS=new zF(vN.cacheSize),qF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yS="recharts_measurement_span";function HF(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var bS=(e,t)=>{try{var r=document.getElementById(yS);r||(r=document.createElement("span"),r.setAttribute("id",yS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qF,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},fl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yh.isSsr)return{width:0,height:0};if(!vN.enableCache)return bS(t,r);var n=HF(t,r),a=vS.get(n);if(a)return a;var i=bS(t,r);return vS.set(n,i),i},yN;function WF(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=VF(e,"string");return typeof t=="symbol"?t:t+""}function VF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XF=["cm","mm","pt","pc","in","Q","px"];function ZF(e){return XF.includes(e)}var _o="NaN";function JF(e,t){return e*YF[t]}class wt{static parse(t){var r,[,n,a]=(r=KF.exec(t))!==null&&r!==void 0?r:[];return n==null?wt.NaN:new wt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Kr(t)&&(this.unit=""),r!==""&&!GF.test(r)&&(this.num=NaN,this.unit=""),ZF(r)&&(this.num=JF(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Kr(this.num)}}yN=wt;WF(wt,"NaN",new yN(NaN,""));function bN(e){if(e==null||e.includes(_o))return _o;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=xS.exec(t))!==null&&r!==void 0?r:[],o=wt.parse(n??""),s=wt.parse(i??""),c=a==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return _o;t=t.replace(xS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=wS.exec(t))!==null&&u!==void 0?u:[],m=wt.parse(d??""),p=wt.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return _o;t=t.replace(wS,x.toString())}return t}var _S=/\(([^()]*)\)/;function QF(e){for(var t=e,r;(r=_S.exec(t))!=null;){var[,n]=r;t=t.replace(_S,bN(n))}return t}function eV(e){var t=e.replace(/\s+/g,"");return t=QF(t),t=bN(t),t}function tV(e){try{return eV(e)}catch{return _o}}function ip(e){var t=tV(e.slice(5,-1));return t===_o?"":t}var rV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nV=["dx","dy","angle","className","breakAll"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function SS(e,t){if(e==null)return{};var r,n,a=aV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xN=/[ \f\n\r\t\v\u2028\u2029]+/,wN=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gt(t)||(r?a=t.toString().split(""):a=t.toString().split(xN));var i=a.map(s=>({word:s,width:fl(s,n).width})),o=r?0:fl("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function iV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var _N=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:s}=i,c=a[a.length-1];if(c&&s!=null&&(t==null||n||c.width+s+r<Number(t)))c.words.push(o),c.width+=s+r;else{var u={words:[o],width:s};a.push(u)}return a},[]),SN=e=>e.reduce((t,r)=>t.width>r.width?t:r),oV="",jS=(e,t,r,n,a,i,o,s)=>{var c=e.slice(0,t),u=wN({breakAll:r,style:n,children:c+oV});if(!u)return[!1,[]];var d=_N(u.wordsWithComputedWidth,i,o,s),f=d.length>a||SN(d).width>Number(i);return[f,d]},sV=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:s,breakAll:c}=e,u=G(i),d=String(o),f=_N(t,n,r,a);if(!u||a)return f;var h=f.length>i||SN(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,x=0,v;m<=p&&x<=d.length-1;){var g=Math.floor((m+p)/2),y=g-1,[_,b]=jS(d,y,c,s,i,n,r,a),[S]=jS(d,g,c,s,i,n,r,a);if(!_&&!S&&(m=g+1),_&&S&&(p=g-1),!_&&S){v=b;break}x++}return v||f},ES=e=>{var t=gt(e)?[]:e.toString().split(xN);return[{words:t,width:void 0}]},lV=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!yh.isSsr){var s,c,u=wN({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,c=f}else return ES(n);return sV({breakAll:i,children:n,maxLines:o,style:a},s,c,t,!!r)}return ES(n)},jN="#808080",cV={angle:0,breakAll:!1,capHeight:"0.71em",fill:jN,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},pb=w.forwardRef((e,t)=>{var r=yr(e,cV),{x:n,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=SS(r,rV),h=w.useMemo(()=>lV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:x,className:v,breakAll:g}=f,y=SS(f,nV);if(!ln(n)||!ln(a)||h.length===0)return null;var _=Number(n)+(G(m)?m:0),b=Number(a)+(G(p)?p:0);if(!Le(_)||!Le(b))return null;var S;switch(d){case"start":S=ip("calc(".concat(o,")"));break;case"middle":S=ip("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:S=ip("calc(".concat(h.length-1," * -").concat(i,")"));break}var j=[];if(c){var E=h[0].width,{width:C}=f;j.push("scale(".concat(G(C)&&G(E)?C/E:1,")"))}return x&&j.push("rotate(".concat(x,", ").concat(_,", ").concat(b,")")),j.length&&(y.transform=j.join(" ")),w.createElement("text",hv({},Pr(y),{ref:t,x:_,y:b,className:De("recharts-text",v),textAnchor:u,fill:s.includes("url")?jN:s}),h.map((A,R)=>{var M=A.words.join(g?"":" ");return w.createElement("tspan",{x:_,dy:R===0?S:i,key:"".concat(M,"-").concat(R)},M)}))});pb.displayName="Text";var uV=["labelRef"],dV=["content"];function CS(e,t){if(e==null)return{};var r,n,a=fV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){hV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hV(e,t,r){return(t=mV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jn.apply(null,arguments)}var EN=w.createContext(null),gV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:s}=e,c=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return w.createElement(EN.Provider,{value:c},s)},CN=()=>{var e=w.useContext(EN),t=hh();return e||TT(t)},vV=w.createContext(null),yV=()=>{var e=w.useContext(vV),t=X(nR);return e||t},bV=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},gb=e=>e!=null&&typeof e=="function",xV=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},wV=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:s,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,x=xV(f,h),v=x>=0?1:-1,g,y;switch(t){case"insideStart":g=f+v*i,y=m;break;case"insideEnd":g=h-v*i,y=!m;break;case"end":g=h+v*i,y=m;break;default:throw new Error("Unsupported position ".concat(t))}y=x<=0?y:!y;var _=Ct(s,c,p,g),b=Ct(s,c,p,g+(y?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(y?0:1,`,
    `).concat(b.x,",").concat(b.y),j=gt(e.id)?Nl("recharts-radial-line-"):e.id;return w.createElement("text",jn({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:j,d:S})),w.createElement("textPath",{xlinkHref:"#".concat(j)},r))},_V=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:d,y:f}=Ct(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:p}=Ct(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},mv=e=>"cx"in e&&G(e.cx),SV=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!mv(r)&&(i=r);var{x:o,y:s,upperWidth:c,lowerWidth:u,height:d}=t,f=o,h=o+(c-u)/2,m=(f+h)/2,p=(c+u)/2,x=f+c/2,v=d>=0?1:-1,g=v*n,y=v>0?"end":"start",_=v>0?"start":"end",b=c>=0?1:-1,S=b*n,j=b>0?"end":"start",E=b>0?"start":"end";if(a==="top"){var C={x:f+c/2,y:s-g,textAnchor:"middle",verticalAnchor:y};return We(We({},C),i?{height:Math.max(s-i.y,0),width:c}:{})}if(a==="bottom"){var A={x:h+u/2,y:s+d+g,textAnchor:"middle",verticalAnchor:_};return We(We({},A),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var R={x:m-S,y:s+d/2,textAnchor:j,verticalAnchor:"middle"};return We(We({},R),i?{width:Math.max(R.x-i.x,0),height:d}:{})}if(a==="right"){var M={x:m+p+S,y:s+d/2,textAnchor:E,verticalAnchor:"middle"};return We(We({},M),i?{width:Math.max(i.x+i.width-M.x,0),height:d}:{})}var k=i?{width:p,height:d}:{};return a==="insideLeft"?We({x:m+S,y:s+d/2,textAnchor:E,verticalAnchor:"middle"},k):a==="insideRight"?We({x:m+p-S,y:s+d/2,textAnchor:j,verticalAnchor:"middle"},k):a==="insideTop"?We({x:f+c/2,y:s+g,textAnchor:"middle",verticalAnchor:_},k):a==="insideBottom"?We({x:h+u/2,y:s+d-g,textAnchor:"middle",verticalAnchor:y},k):a==="insideTopLeft"?We({x:f+S,y:s+g,textAnchor:E,verticalAnchor:_},k):a==="insideTopRight"?We({x:f+c-S,y:s+g,textAnchor:j,verticalAnchor:_},k):a==="insideBottomLeft"?We({x:h+S,y:s+d-g,textAnchor:E,verticalAnchor:y},k):a==="insideBottomRight"?We({x:h+u-S,y:s+d-g,textAnchor:j,verticalAnchor:y},k):a&&typeof a=="object"&&(G(a.x)||qn(a.x))&&(G(a.y)||qn(a.y))?We({x:o+Yr(a.x,p),y:s+Yr(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):We({x,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},jV={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function fa(e){var t=yr(e,jV),{viewBox:r,position:n,value:a,children:i,content:o,className:s="",textBreakAll:c,labelRef:u}=t,d=yV(),f=CN(),h=n==="center"?f:d??f,m,p,x;if(r==null?m=h:mv(r)?m=r:m=TT(r),!m||gt(a)&&gt(i)&&!w.isValidElement(o)&&typeof o!="function")return null;var v=We(We({},t),{},{viewBox:m});if(w.isValidElement(o)){var{labelRef:g}=v,y=CS(v,uV);return w.cloneElement(o,y)}if(typeof o=="function"){var{content:_}=v,b=CS(v,dV);if(p=w.createElement(o,b),w.isValidElement(p))return p}else p=bV(t);var S=Pr(t);if(mv(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return wV(t,n,p,S,m);x=_V(m,t.offset,t.position)}else x=SV(t,m);return w.createElement(oa,{zIndex:t.zIndex},w.createElement(pb,jn({ref:u,className:De("recharts-label",s)},S,x,{textAnchor:iV(S.textAnchor)?S.textAnchor:x.textAnchor,breakAll:c}),p))}fa.displayName="Label";var EV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(fa,jn({key:"label-implicit"},n)):ln(e)?w.createElement(fa,jn({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===fa?w.cloneElement(e,We({key:"label-implicit"},n)):w.createElement(fa,jn({key:"label-implicit",content:e},n)):gb(e)?w.createElement(fa,jn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(fa,jn({},e,{key:"label-implicit"},n)):null};function CV(e){var{label:t,labelRef:r}=e,n=CN();return EV(t,n,r)||null}var ON={},AN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(AN);var TN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(TN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AN,r=TN,n=Xf;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(ON);var OV=ON.last;const AV=Yn(OV);var TV=["valueAccessor"],kV=["dataKey","clockWise","id","textBreakAll","zIndex"];function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(null,arguments)}function AS(e,t){if(e==null)return{};var r,n,a=RV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NV=e=>Array.isArray(e.value)?AV(e.value):e.value,kN=w.createContext(void 0),PV=kN.Provider,RN=w.createContext(void 0);RN.Provider;function MV(){return w.useContext(kN)}function DV(){return w.useContext(RN)}function $u(e){var{valueAccessor:t=NV}=e,r=AS(e,TV),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:s}=r,c=AS(r,kV),u=MV(),d=DV(),f=u||d;return!f||!f.length?null:w.createElement(oa,{zIndex:s??Bt.label},w.createElement(Un,{className:"recharts-label-list"},f.map((h,m)=>{var p,x=gt(n)?t(h,m):At(h&&h.payload,n),v=gt(i)?{}:{id:"".concat(i,"-").concat(m)};return w.createElement(fa,of({key:"label-".concat(m)},Pr(h),c,v,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}$u.displayName="LabelList";function zV(e){var{label:t}=e;return t?t===!0?w.createElement($u,{key:"labelList-implicit"}):w.isValidElement(t)||gb(t)?w.createElement($u,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement($u,of({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var BV={radiusAxis:{},angleAxis:{}},NN=Zt({name:"polarAxis",initialState:BV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:LZ,removeRadiusAxis:UZ,addAngleAxis:qZ,removeAngleAxis:HZ}=NN.actions,IV=NN.reducer,PN={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb=Symbol.for("react.transitional.element"),yb=Symbol.for("react.portal"),zh=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),$h=Symbol.for("react.consumer"),Lh=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),Hh=Symbol.for("react.suspense_list"),Wh=Symbol.for("react.memo"),Fh=Symbol.for("react.lazy"),$V=Symbol.for("react.view_transition"),LV=Symbol.for("react.client.reference");function Br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vb:switch(e=e.type,e){case zh:case Ih:case Bh:case qh:case Hh:case $V:return e;default:switch(e=e&&e.$$typeof,e){case Lh:case Uh:case Fh:case Wh:return e;case $h:return e;default:return t}}case yb:return t}}}Ee.ContextConsumer=$h;Ee.ContextProvider=Lh;Ee.Element=vb;Ee.ForwardRef=Uh;Ee.Fragment=zh;Ee.Lazy=Fh;Ee.Memo=Wh;Ee.Portal=yb;Ee.Profiler=Ih;Ee.StrictMode=Bh;Ee.Suspense=qh;Ee.SuspenseList=Hh;Ee.isContextConsumer=function(e){return Br(e)===$h};Ee.isContextProvider=function(e){return Br(e)===Lh};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vb};Ee.isForwardRef=function(e){return Br(e)===Uh};Ee.isFragment=function(e){return Br(e)===zh};Ee.isLazy=function(e){return Br(e)===Fh};Ee.isMemo=function(e){return Br(e)===Wh};Ee.isPortal=function(e){return Br(e)===yb};Ee.isProfiler=function(e){return Br(e)===Ih};Ee.isStrictMode=function(e){return Br(e)===Bh};Ee.isSuspense=function(e){return Br(e)===qh};Ee.isSuspenseList=function(e){return Br(e)===Hh};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zh||e===Ih||e===Bh||e===qh||e===Hh||typeof e=="object"&&e!==null&&(e.$$typeof===Fh||e.$$typeof===Wh||e.$$typeof===Lh||e.$$typeof===$h||e.$$typeof===Uh||e.$$typeof===LV||e.getModuleId!==void 0)};Ee.typeOf=Br;PN.exports=Ee;var UV=PN.exports,TS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",kS=null,op=null,MN=e=>{if(e===kS&&Array.isArray(op))return op;var t=[];return w.Children.forEach(e,r=>{gt(r)||(UV.isFragment(r)?t=t.concat(MN(r.props.children)):t.push(r))}),op=t,kS=e,t};function qV(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>TS(a)):n=[TS(t)],MN(e).forEach(a=>{var i=Go(a,"type.displayName")||Go(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var DN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(DN);var HV=DN.isPlainObject;const WV=Yn(HV);var RS,NS,PS,MS,DS;function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){FV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FV(e,t,r){return(t=VV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(null,arguments)}function Ls(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var IS=(e,t,r,n,a)=>{var i=r-n,o;return o=qe(RS||(RS=Ls(["M ",",",""])),e,t),o+=qe(NS||(NS=Ls(["L ",",",""])),e+r,t),o+=qe(PS||(PS=Ls(["L ",",",""])),e+r-i/2,t+a),o+=qe(MS||(MS=Ls(["L ",",",""])),e+r-i/2-n,t+a),o+=qe(DS||(DS=Ls(["L ",","," Z"])),e,t),o},KV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YV=e=>{var t=yr(e,KV),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=w.useRef(null),[m,p]=w.useState(-1),x=w.useRef(a),v=w.useRef(i),g=w.useRef(o),y=w.useRef(r),_=w.useRef(n),b=p0(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var W=h.current.getTotalLength();W&&p(W)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var S=De("recharts-trapezoid",s);if(!f)return w.createElement("g",null,w.createElement("path",sf({},Pr(t),{className:S,d:IS(r,n,a,i,o)})));var j=x.current,E=v.current,C=g.current,A=y.current,R=_.current,M="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),H=qT(["strokeDasharray"],u,c);return w.createElement(m0,{animationId:b,key:b,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},W=>{var Z=_t(j,a,W),O=_t(E,i,W),T=_t(C,o,W),N=_t(A,r,W),L=_t(R,n,W);h.current&&(x.current=Z,v.current=O,g.current=T,y.current=N,_.current=L);var U=W>0?{transition:H,strokeDasharray:k}:{strokeDasharray:M};return w.createElement("path",sf({},Pr(t),{className:S,d:IS(N,L,Z,O,T),ref:h,style:BS(BS({},U),t.style)}))})},XV=["option","shapeType","activeClassName"];function ZV(e,t){if(e==null)return{};var r,n,a=JV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){QV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QV(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rG(e,t){return lf(lf({},t),e)}function nG(e,t){return e==="symbols"}function LS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(VT,r);case"trapezoid":return w.createElement(YV,r);case"sector":return w.createElement(YT,r);case"symbols":if(nG(t))return w.createElement(f2,r);break;case"curve":return w.createElement(UT,r);default:return null}}function aG(e){return w.isValidElement(e)?e.props:e}function iG(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=ZV(e,XV),i;if(w.isValidElement(t))i=w.cloneElement(t,lf(lf({},a),aG(t)));else if(typeof t=="function")i=t(a,a.index);else if(WV(t)&&typeof t!="boolean"){var o=rG(t,a);i=w.createElement(LS,{shapeType:r,elementProps:o})}else{var s=a;i=w.createElement(LS,{shapeType:r,elementProps:s})}return a.isActive?w.createElement(Un,{className:n},i):i}var zN=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(VR({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},BN=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(TH())}},IN=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(kH({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function oG(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=Jt(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(EH(t)):a.current!==t&&r(CH({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(OH(a.current)),a.current=null)},[r]),null}function sG(e){var{legendPayload:t}=e,r=Ge(),n=Jt(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(cL(t)):a.current!==t&&r(uL({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(dL(a.current)),a.current=null)},[r]),null}var sp,lG=()=>{var[e]=w.useState(()=>Nl("uid-"));return e},cG=(sp=yj.useId)!==null&&sp!==void 0?sp:lG;function uG(e,t){var r=cG();return t||(e?"".concat(e,"-").concat(r):r)}var dG=w.createContext(void 0),fG=e=>{var{id:t,type:r,children:n}=e,a=uG("recharts-".concat(r),t);return w.createElement(dG.Provider,{value:a},n(a))},hG={cartesianItems:[],polarItems:[]},$N=Zt({name:"graphicalItems",initialState:hG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=Gr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=Gr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:mG,replaceCartesianGraphicalItem:pG,removeCartesianGraphicalItem:gG,addPolarGraphicalItem:WZ,removePolarGraphicalItem:FZ}=$N.actions,vG=$N.reducer,yG=e=>{var t=Ge(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(mG(e)):r.current!==e&&t(pG({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(gG(r.current)),r.current=null)},[t]),null},bG=w.memo(yG);function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return(t=wG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LN=0,SG={xAxis:{},yAxis:{},zAxis:{}},UN=Zt({name:"cartesianAxis",initialState:SG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=qS(qS({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:jG,replaceXAxis:EG,removeXAxis:CG,addYAxis:OG,replaceYAxis:AG,removeYAxis:TG,addZAxis:VZ,replaceZAxis:GZ,removeZAxis:KZ,updateYAxisWidth:kG}=UN.actions,RG=UN.reducer,NG=P([vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),PG=P([NG,Qn,ea],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),qN=()=>X(PG),HS=(e,t,r)=>{var n=r??e;if(!gt(n))return Yr(n,t,0)},MG=(e,t,r)=>{var n={},a=e.filter(Th),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),s=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=HS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=HS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...s,...c]};function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IG(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Yr(e,r,0,!0),s,c=[];if(Le(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((g,y)=>g+(y.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};s=n.reduce((g,y)=>{var _,b={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(_=y.barSize)!==null&&_!==void 0?_:0}},S=[...g,b];return m=S[S.length-1].position,S},c)}else{var p=Yr(t,r,0,!0);r-2*p-(i-1)*o<=0&&(o=0);var x=(r-2*p-(i-1)*o)/i;x>1&&(x>>=0);var v=Le(a)?Math.min(x,a):x;s=n.reduce((g,y,_)=>[...g,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p+(x+o)*_+(x-v)/2,size:v}}],c)}return s}}var $G=(e,t,r,n,a,i,o)=>{var s=gt(o)?t:o,c=IG(r,n,a!==i?a:i,e,s);return a!==i&&c!=null&&(c=c.map(u=>vu(vu({},u),{},{position:vu(vu({},u.position),{},{offset:u.position.offset-a/2})}))),c},LG=(e,t)=>{var r=G0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function UG(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Le(e.zIndex)?e.zIndex:t}var qG=e=>{var{chartData:t}=e,r=Ge(),n=Jt();return w.useEffect(()=>n?()=>{}:(r(dS(t)),()=>{r(dS(void 0))}),[t,r,n]),null},FS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},HN=Zt({name:"brush",initialState:FS,reducers:{setBrushSettings(e,t){return t.payload==null?FS:t.payload}}}),{setBrushSettings:YZ}=HN.actions,HG=HN.reducer;function WG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bb{static create(t){return new bb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}WG(bb,"EPS",1e-4);function GG(e){return(e%180+180)%180}var KG=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=GG(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},YG={dots:[],areas:[],lines:[]},WN=Zt({name:"referenceElements",initialState:YG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Gr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Gr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Gr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:XZ,removeDot:ZZ,addArea:JZ,removeArea:QZ,addLine:eJ,removeLine:tJ}=WN.actions,XG=WN.reducer,ZG=w.createContext(void 0),JG=e=>{var{children:t}=e,[r]=w.useState("".concat(Nl("recharts"),"-clip")),n=qN();if(n==null)return null;var{x:a,y:i,width:o,height:s}=n;return w.createElement(ZG.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function FN(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function QG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return KG(n,r)}function eK(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Vl(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function tK(e,t){return FN(e,t+1)}function rK(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:s}=t,c=0,u=1,d=o,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:FN(n,u)};var x=c,v,g=()=>(v===void 0&&(v=r(p,x)),v),y=p.coordinate,_=c===0||Vl(e,y,g,d,s);_||(c=0,d=o,u+=1),_&&(d=y+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function nK(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,h=!0,m=function(){var y=n[p],_=p,b,S=()=>(b===void 0&&(b=r(y,_)),b),j=y.coordinate,E=p===d||Vl(e,j,S,f,c);if(!E)return h=!1,1;E&&(f=j+e*(S()/2+a))},p=d;p<o&&!m();p+=u);if(h){for(var x=[],v=d;v<o;v+=u)x.push(n[v]);return x}}return[]}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){aK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aK(e,t,r){return(t=iK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iK(e){var t=oK(e,"string");return typeof t=="symbol"?t:t+""}function oK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sK(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:s}=t,{end:c}=t,u=function(h){var m=i[h],p,x=()=>(p===void 0&&(p=r(m,h)),p);if(h===o-1){var v=e*(m.coordinate+e*x()/2-c);i[h]=m=Tt(Tt({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=Tt(Tt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=Vl(e,m.tickCoord,x,s,c);g&&(c=m.tickCoord-e*(x()/2+a),i[h]=Tt(Tt({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function lK(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,{start:c,end:u}=t;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Vl(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Tt(Tt({},d),{},{isShow:!0}))}}for(var p=i?s-1:s,x=function(y){var _=o[y],b,S=()=>(b===void 0&&(b=r(_,y)),b);if(y===0){var j=e*(_.coordinate-e*S()/2-c);o[y]=_=Tt(Tt({},_),{},{tickCoord:j<0?_.coordinate-j*e:_.coordinate})}else o[y]=_=Tt(Tt({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var E=Vl(e,_.tickCoord,S,c,u);E&&(c=_.tickCoord+e*(S()/2+a),o[y]=Tt(Tt({},_),{},{isShow:!0}))}},v=0;v<p;v++)x(v);return o}function xb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(G(c)||yh.isSsr){var h;return(h=tK(a,G(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=s==="top"||s==="bottom"?"width":"height",x=d&&p==="width"?fl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(_,b)=>{var S=typeof u=="function"?u(_.value,b):_.value;return p==="width"?QG(fl(S,{fontSize:t,letterSpacing:r}),x,f):fl(S,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?Vt(a[1].coordinate-a[0].coordinate):1,y=eK(i,g,p);return c==="equidistantPreserveStart"?rK(g,y,v,a,o):c==="equidistantPreserveEnd"?nK(g,y,v,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=lK(g,y,v,a,o,c==="preserveStartEnd"):m=sK(g,y,v,a,o),m.filter(_=>_.isShow))}var cK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+s+(r?n:0);return Math.round(u)}return 0},uK=["axisLine","width","height","className","hide","ticks","axisType"];function dK(e,t){if(e==null)return{};var r,n,a=fK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(null,arguments)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t,r){return(t=mK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function gK(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var u=Ye(Ye(Ye({},c),Ln(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Ye(Ye({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Ye(Ye({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",Pi({},u,{className:De("recharts-cartesian-axis-line",Go(s,"className"))}))}function vK(e,t,r,n,a,i,o,s,c){var u,d,f,h,m,p,x=s?-1:1,v=e.tickSize||o,g=G(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!s*a,f=h-x*v,p=f-x*c,m=g;break;case"left":f=h=e.coordinate,d=t+ +!s*n,u=d-x*v,m=u-x*c,p=g;break;case"right":f=h=e.coordinate,d=t+ +s*n,u=d+x*v,m=u+x*c,p=g;break;default:u=d=e.coordinate,h=r+ +s*a,f=h+x*v,p=f+x*c,m=g;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function yK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function xK(e){var{option:t,tickProps:r,value:n}=e,a,i=De(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,Ye(Ye({},r),{},{className:i}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t==null?void 0:t.className)),a=w.createElement(pb,Pi({},r,{className:o}),n)}return a}var wK=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:x,tickSize:v,tickMargin:g,fontSize:y,letterSpacing:_,getTicksConfig:b,events:S,axisType:j}=e,E=xb(Ye(Ye({},b),{},{ticks:r}),y,_),C=yK(d,f),A=bK(d,f),R=Ln(b),M=Uy(n),k={};typeof a=="object"&&(k=a);var H=Ye(Ye({},R),{},{fill:"none"},k),W=E.map(T=>Ye({entry:T},vK(T,h,m,p,x,d,v,f,g))),Z=W.map(T=>{var{entry:N,line:L}=T;return w.createElement(Un,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},a&&w.createElement("line",Pi({},H,L,{className:De("recharts-cartesian-axis-tick-line",Go(a,"className"))})))}),O=W.map((T,N)=>{var{entry:L,tick:U}=T,ne=Ye(Ye(Ye(Ye({textAnchor:C,verticalAnchor:A},R),{},{stroke:"none",fill:i},M),U),{},{index:N,payload:L,visibleTicksCount:E.length,tickFormatter:o,padding:c},u);return w.createElement(Un,Pi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},Vy(S,L,N)),n&&w.createElement(xK,{option:n,tickProps:ne,value:"".concat(typeof o=="function"?o(L.value,N):L.value).concat(s||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},O.length>0&&w.createElement(oa,{zIndex:Bt.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},O)),Z.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},Z))}),_K=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:s,axisType:c}=e,u=dK(e,uK),[d,f]=w.useState(""),[h,m]=w.useState(""),p=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return cK({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=w.useCallback(v=>{if(v){var g=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var y=g[0];if(y){var _=window.getComputedStyle(y),b=_.fontSize,S=_.letterSpacing;(b!==d||S!==h)&&(f(b),m(S))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(oa,{zIndex:e.zIndex},w.createElement(Un,{className:De("recharts-cartesian-axis",i)},w.createElement(gK,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ln(e)}),w.createElement(wK,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(gV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(CV,{label:e.label,labelRef:e.labelRef}),e.children)))}),wb=w.forwardRef((e,t)=>{var r=yr(e,Mn);return w.createElement(_K,Pi({},r,{ref:t}))});wb.displayName="CartesianAxis";var SK=["x1","y1","x2","y2","key"],jK=["offset"],EK=["xAxisId","yAxisId"],CK=["xAxisId","yAxisId"];function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){OK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OK(e,t,r){return(t=AK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fi.apply(null,arguments)}function cf(e,t){if(e==null)return{};var r,n,a=kK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:s}=e;return w.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VN(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:s,y2:c,key:u}=r,d=cf(r,SK),f=(a=Ln(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=cf(f,jK);n=w.createElement("line",fi({},m,{x1:i,y1:o,x2:s,y2:c,fill:"none",key:u}))}return n}function NK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=cf(e,EK),c=a.map((u,d)=>{var f=kt(kt({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return w.createElement(VN,{key:"line-".concat(d),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function PK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=cf(e,CK),c=a.map((u,d)=>{var f=kt(kt({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return w.createElement(VN,{option:n,lineItemProps:f,key:"line-".concat(d)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function MK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+o-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function DK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+o-f:u[h+1]-f;if(p<=0)return null;var x=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:s,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var zK=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return bT(xb(kt(kt(kt({},Mn),r),{},{ticks:xT(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},BK=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return bT(xb(kt(kt(kt({},Mn),r),{},{ticks:xT(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},IK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function GN(e){var t=RT(),r=NT(),n=kT(),a=kt(kt({},yr(e,IK)),{},{x:G(e.x)?e.x:n.left,y:G(e.y)?e.y:n.top,width:G(e.width)?e.width:n.width,height:G(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:s,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=Jt(),x=X(A=>eS(A,"xAxis",i,p)),v=X(A=>eS(A,"yAxis",o,p));if(!cn(u)||!cn(d)||!G(s)||!G(c))return null;var g=a.verticalCoordinatesGenerator||zK,y=a.horizontalCoordinatesGenerator||BK,{horizontalPoints:_,verticalPoints:b}=a;if((!_||!_.length)&&typeof y=="function"){var S=h&&h.length,j=y({yAxis:v?kt(kt({},v),{},{ticks:S?h:v.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);zd(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(_=j)}if((!b||!b.length)&&typeof g=="function"){var E=m&&m.length,C=g({xAxis:x?kt(kt({},x),{},{ticks:E?m:x.ticks}):void 0,width:t??u,height:r??d,offset:n},E?!0:f);zd(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}return w.createElement(oa,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(RK,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(MK,fi({},a,{horizontalPoints:_})),w.createElement(DK,fi({},a,{verticalPoints:b})),w.createElement(NK,fi({},a,{offset:n,horizontalPoints:_,xAxis:x,yAxis:v})),w.createElement(PK,fi({},a,{offset:n,verticalPoints:b,xAxis:x,yAxis:v}))))}GN.displayName="CartesianGrid";var $K={},KN=Zt({name:"errorBars",initialState:$K,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:rJ,replaceErrorBar:nJ,removeErrorBar:aJ}=KN.actions,LK=KN.reducer,UK=["children"];function qK(e,t){if(e==null)return{};var r,n,a=HK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},FK=w.createContext(WK);function VK(e){var{children:t}=e,r=qK(e,UK);return w.createElement(FK.Provider,{value:r},t)}function YN(e,t){var r,n,a=X(u=>na(u,e)),i=X(u=>aa(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ut.allowDataOverflow,s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:dt.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function GK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=qN(),{needClipX:i,needClipY:o,needClip:s}=YN(t,r);if(!s||!a)return null;var{x:c,y:u,width:d,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var KK={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=w;function YK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XK=typeof Object.is=="function"?Object.is:YK,ZK=Ac.useSyncExternalStore,JK=Ac.useRef,QK=Ac.useEffect,eY=Ac.useMemo,tY=Ac.useDebugValue;KK.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=JK(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=eY(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return f=p}return f=m}if(p=f,XK(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var s=ZK(e,i[0],i[1]);return QK(function(){o.hasValue=!0,o.value=s},[s]),tY(s),s};function rY(e){e()}function nY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){rY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var YS={notify(){},get:()=>[]};function aY(e,t){let r,n=YS,a=0,i=!1;function o(x){d();const v=n.subscribe(x);let g=!1;return()=>{g||(g=!0,v(),f())}}function s(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=nY())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=YS)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var iY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oY=iY(),sY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lY=sY(),cY=()=>oY||lY?w.useLayoutEffect:w.useEffect,uY=cY();function XS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function dY(e,t){if(XS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!XS(e[r[a]],t[r[a]]))return!1;return!0}var lp=Symbol.for("react-redux-context"),cp=typeof globalThis<"u"?globalThis:{};function fY(){if(!w.createContext)return{};const e=cp[lp]??(cp[lp]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var hY=fY();function mY(e){const{children:t,context:r,serverState:n,store:a}=e,i=w.useMemo(()=>{const c=aY(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=w.useMemo(()=>a.getState(),[a]);uY(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const s=r||hY;return w.createElement(s.Provider,{value:i},t)}var pY=mY,gY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function vY(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function _b(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(gY.has(n)){if(e[n]==null&&t[n]==null)continue;if(!dY(e[n],t[n]))return!1}else if(!vY(e[n],t[n]))return!1;return!0}function Wi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:LN}function Fi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:LN}var yY="Invariant failed";function bY(e,t){throw new Error(yY)}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function uf(e){return w.createElement(iG,pv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var xY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(G(t))return t;var i=G(n)||gt(n);return i?t(n,a):(i||bY(),r)}},wY=(e,t,r)=>r,_Y=(e,t)=>t,Tc=P([Y0,_Y],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),SY=P([Tc],e=>e==null?void 0:e.maxBarSize),jY=(e,t,r,n)=>n,EY=P([xe,Y0,Wi,Fi,wY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),CY=(e,t,r)=>{var n=xe(e),a=Wi(e,t),i=Fi(e,t);if(!(a==null||i==null))return n==="horizontal"?lv(e,"yAxis",i,r):lv(e,"xAxis",a,r)},OY=(e,t)=>{var r=xe(e),n=Wi(e,t),a=Fi(e,t);if(!(n==null||a==null))return r==="horizontal"?Q_(e,"xAxis",n):Q_(e,"yAxis",a)},AY=P([EY,yq,OY],MG),TY=(e,t,r)=>{var n,a,i=Tc(e,t);if(i!=null){var o=Wi(e,t),s=Fi(e,t);if(!(o==null||s==null)){var c=xe(e),u=Yk(e),{maxBarSize:d}=i,f=gt(d)?u:d,h,m;return c==="horizontal"?(h=ts(e,"xAxis",o,r),m=es(e,"xAxis",o,r)):(h=ts(e,"yAxis",s,r),m=es(e,"yAxis",s,r)),(n=(a=Dd(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},XN=(e,t,r)=>{var n=xe(e),a=Wi(e,t),i=Fi(e,t);if(!(a==null||i==null)){var o,s;return n==="horizontal"?(o=ts(e,"xAxis",a,r),s=es(e,"xAxis",a,r)):(o=ts(e,"yAxis",i,r),s=es(e,"yAxis",i,r)),Dd(o,s)}},kY=P([AY,Yk,vq,Xk,TY,XN,SY],$G),RY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return ts(e,"xAxis",n,r)},NY=(e,t,r)=>{var n=Fi(e,t);if(n!=null)return ts(e,"yAxis",n,r)},PY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return es(e,"xAxis",n,r)},MY=(e,t,r)=>{var n=Fi(e,t);if(n!=null)return es(e,"yAxis",n,r)},DY=P([kY,Tc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),zY=P([CY,Tc],LG),BY=P([vt,u0,RY,NY,PY,MY,DY,xe,iq,XN,zY,Tc,jY],(e,t,r,n,a,i,o,s,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=c;if(!(f==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:v}=f,g;if(v!=null&&v.length>0?g=v:g=m==null?void 0:m.slice(p,x+1),g!=null)return fX({layout:s,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:p})}}),IY=["index"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function $Y(e,t){if(e==null)return{};var r,n,a=LY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZN=w.createContext(void 0),UY=e=>{var t=w.useContext(ZN);if(t!=null)return t.stackId;if(e!=null)return p$(e)},qY=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),HY=e=>{var t=w.useContext(ZN);if(t!=null){var{stackId:r}=t;return"url(#".concat(qY(r,e),")")}},WY=e=>{var{index:t}=e,r=$Y(e,IY),n=HY(t);return w.createElement(Un,gv({className:"recharts-bar-stack-layer",clipPath:n},r))},FY=["onMouseEnter","onMouseLeave","onClick"],VY=["value","background","tooltipPosition"],GY=["id"],KY=["onMouseEnter","onClick","onMouseLeave"];function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kn.apply(null,arguments)}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=XY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function df(e,t){if(e==null)return{};var r,n,a=JY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QY=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:wT(r,t),payload:e}]},eX=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:s,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:wT(i,t),hide:o,type:c,color:a,unit:s,graphicalItemId:u}};return w.createElement(oG,{tooltipEntrySettings:d})});function tX(e){var t=X(rs),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=i,u=df(i,FY),d=zN(o,n,i.id),f=BN(s),h=IN(c,n,i.id);if(!a||r==null)return null;var m=Uy(a);return w.createElement(oa,{zIndex:UG(a,Bt.barBackground)},r.map((p,x)=>{var{value:v,background:g,tooltipPosition:y}=p,_=df(p,VY);if(!g)return null;var b=d(p,x),S=f(p,x),j=h(p,x),E=Mt(Mt(Mt(Mt(Mt({option:a,isActive:String(x)===t},_),{},{fill:"#eee"},g),m),Vy(u,p,x)),{},{onMouseEnter:b,onMouseLeave:S,onClick:j,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return w.createElement(uf,Kn({key:"background-bar-".concat(x)},E))}))}function rX(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mt(Mt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return w.createElement(PV,{value:t?a:void 0},r)}function nX(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,s=X(rs),c=X(oN),u=r&&String(i)===s&&(c==null||o===c),d=u?r:t;return u?w.createElement(oa,{zIndex:Bt.activeBar},w.createElement(uf,Kn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):w.createElement(uf,Kn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function aX(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return w.createElement(uf,Kn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function iX(e){var t,{data:r,props:n}=e,a=(t=Ln(n))!==null&&t!==void 0?t:{},{id:i}=a,o=df(a,GY),{shape:s,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=df(n,KY),p=zN(d,c,i),x=BN(h),v=IN(f,c,i);return r?w.createElement(w.Fragment,null,r.map((g,y)=>w.createElement(WY,Kn({index:y,key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y),className:"recharts-bar-rectangle"},Vy(m,g,y),{onMouseEnter:p(g,y),onMouseLeave:x(g,y),onClick:v(g,y)}),u?w.createElement(nX,{shape:s,activeBar:u,baseProps:o,entry:g,index:y,dataKey:c}):w.createElement(aX,{shape:s,baseProps:o,entry:g,index:y,dataKey:c})))):null}function oX(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=p0(t,"recharts-bar-"),[m,p]=w.useState(!1),x=!m,v=w.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),g=w.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return w.createElement(rX,{showLabels:x,rects:n},w.createElement(m0,{animationId:h,begin:o,duration:s,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:g,key:h},y=>{var _=y===1?n:n==null?void 0:n.map((b,S)=>{var j=f&&f[S];if(j)return Mt(Mt({},b),{},{x:_t(j.x,b.x,y),y:_t(j.y,b.y,y),width:_t(j.width,b.width,y),height:_t(j.height,b.height,y)});if(a==="horizontal"){var E=_t(0,b.height,y),C=_t(b.stackedBarStart,b.y,y);return Mt(Mt({},b),{},{y:C,height:E})}var A=_t(0,b.width,y),R=_t(b.stackedBarStart,b.x,y);return Mt(Mt({},b),{},{width:A,x:R})});return y>0&&(r.current=_??null),_==null?null:w.createElement(Un,null,w.createElement(iX,{props:t,data:_}))}),w.createElement(zV,{label:t.label}),t.children)}function sX(e){var t=w.useRef(null);return w.createElement(oX,{previousRectanglesRef:t,props:e})}var JN=0,lX=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:At(e,t)}};class cX extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:s,background:c,id:u}=this.props;if(t||r==null)return null;var d=De("recharts-bar",a),f=u;return w.createElement(Un,{className:d,id:u},s&&w.createElement("defs",null,w.createElement(GK,{clipPathId:f,xAxisId:i,yAxisId:o})),w.createElement(Un,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},w.createElement(tX,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),w.createElement(sX,this.props)))}}var uX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:JN,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function dX(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=YN(t,r),h=mc(),m=Jt(),p=qV(e.children,mb),x=X(y=>BY(y,e.id,m,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,g=x==null?void 0:x[0];return g==null||g.height==null||g.width==null?v=0:v=h==="vertical"?g.height/2:g.width/2,w.createElement(VK,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:lX,errorBarOffset:v},w.createElement(cX,Kn({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function fX(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:x}=e,v=t==="horizontal"?s:o,g=d?v.scale.domain():null,y=g$({numericAxis:v}),_=v.scale(y);return f.map((b,S)=>{var j,E,C,A,R,M;if(d){var k=d[S+x];if(k==null)return null;j=u$(k,g)}else j=At(b,r),Array.isArray(j)||(j=[y,j]);var H=xY(n,JN)(j[1],S);if(t==="horizontal"){var W,[Z,O]=[s.scale(j[0]),s.scale(j[1])];E=hw({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:b,index:S}),C=(W=O??Z)!==null&&W!==void 0?W:void 0,A=a.size;var T=Z-O;if(R=Kr(T)?0:T,M={x:E,y:h.top,width:A,height:h.height},Math.abs(H)>0&&Math.abs(R)<Math.abs(H)){var N=Vt(R||H)*(Math.abs(H)-Math.abs(R));C-=N,R+=N}}else{var[L,U]=[o.scale(j[0]),o.scale(j[1])];if(E=L,C=hw({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:b,index:S}),A=U-L,R=a.size,M={x:h.left,y:C,width:h.width,height:R},Math.abs(H)>0&&Math.abs(A)<Math.abs(H)){var ne=Vt(A||H)*(Math.abs(H)-Math.abs(A));A+=ne}}if(E==null||C==null||A==null||R==null)return null;var ce=Mt(Mt({},b),{},{stackedBarStart:_,x:E,y:C,width:A,height:R,value:d?j:j[1],payload:b,background:M,tooltipPosition:{x:E+A/2,y:C+R/2},parentViewBox:p},m&&m[S]&&m[S].props);return ce}).filter(Boolean)}function hX(e){var t=yr(e,uX),r=UY(t.stackId),n=Jt();return w.createElement(fG,{id:t.id,type:"bar"},a=>w.createElement(w.Fragment,null,w.createElement(sG,{legendPayload:QY(t)}),w.createElement(eX,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),w.createElement(bG,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),w.createElement(oa,{zIndex:t.zIndex},w.createElement(dX,Kn({},t,{id:a})))))}var QN=w.memo(hX,_b);QN.displayName="Bar";var mX=["domain","range"],pX=["domain","range"];function JS(e,t){if(e==null)return{};var r,n,a=gX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function eP(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=JS(e,mX),{domain:i,range:o}=t,s=JS(t,pX);return!QS(r,i)||!QS(n,o)?!1:_b(a,s)}var vX=["dangerouslySetInnerHTML","ticks","scale"],yX=["id","scale"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}function ej(e,t){if(e==null)return{};var r,n,a=bX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xX(e){var t=Ge(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(jG(e)):r.current!==e&&t(EG({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(CG(r.current)),r.current=null)},[t]),null}var wX=e=>{var{xAxisId:t,className:r}=e,n=X(u0),a=Jt(),i="xAxis",o=X(g=>LR(g,i,t,a)),s=X(g=>zR(g,t)),c=X(g=>pH(g,t)),u=X(g=>iR(g,t));if(s==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=ej(e,vX),{id:p,scale:x}=u,v=ej(u,yX);return w.createElement(wb,vv({},m,v,{x:c.x,y:c.y,width:s.width,height:s.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},_X={allowDataOverflow:ut.allowDataOverflow,allowDecimals:ut.allowDecimals,allowDuplicatedCategory:ut.allowDuplicatedCategory,angle:ut.angle,axisLine:Mn.axisLine,height:ut.height,hide:!1,includeHidden:ut.includeHidden,interval:ut.interval,minTickGap:ut.minTickGap,mirror:ut.mirror,orientation:ut.orientation,padding:ut.padding,reversed:ut.reversed,scale:ut.scale,tick:ut.tick,tickCount:ut.tickCount,tickLine:Mn.tickLine,tickSize:Mn.tickSize,type:ut.type,xAxisId:0},SX=e=>{var t=yr(e,_X);return w.createElement(w.Fragment,null,w.createElement(xX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(wX,t))},tP=w.memo(SX,eP);tP.displayName="XAxis";var jX=["dangerouslySetInnerHTML","ticks","scale"],EX=["id","scale"];function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(null,arguments)}function tj(e,t){if(e==null)return{};var r,n,a=CX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OX(e){var t=Ge(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(OG(e)):r.current!==e&&t(AG({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(TG(r.current)),r.current=null)},[t]),null}var AX=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=w.useRef(null),o=w.useRef(null),s=X(u0),c=Jt(),u=Ge(),d="yAxis",f=X(j=>BR(j,t)),h=X(j=>vH(j,t)),m=X(j=>LR(j,d,t,c)),p=X(j=>oR(j,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!f||gb(a)||w.isValidElement(a)||p==null)){var j=i.current;if(j){var E=j.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&u(kG({id:t,width:E}))}}},[m,f,u,a,t,n,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:x,ticks:v,scale:g}=e,y=tj(e,jX),{id:_,scale:b}=p,S=tj(p,EX);return w.createElement(wb,yv({},y,S,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:De("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:m,axisType:d}))},TX={allowDataOverflow:dt.allowDataOverflow,allowDecimals:dt.allowDecimals,allowDuplicatedCategory:dt.allowDuplicatedCategory,angle:dt.angle,axisLine:Mn.axisLine,hide:!1,includeHidden:dt.includeHidden,interval:dt.interval,minTickGap:dt.minTickGap,mirror:dt.mirror,orientation:dt.orientation,padding:dt.padding,reversed:dt.reversed,scale:dt.scale,tick:dt.tick,tickCount:dt.tickCount,tickLine:Mn.tickLine,tickSize:Mn.tickSize,type:dt.type,width:dt.width,yAxisId:0},kX=e=>{var t=yr(e,TX);return w.createElement(w.Fragment,null,w.createElement(OX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(AX,t))},rP=w.memo(kX,eP);rP.displayName="YAxis";var RX=(e,t)=>t,Sb=P([RX,xe,nR,lt,rN,ia,RW,vt],IW),jb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},nP=Mr("mouseClick"),aP=fc();aP.startListening({actionCreator:nP,effect:(e,t)=>{var r=e.payload,n=Sb(t.getState(),jb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(RH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var bv=Mr("mouseMove"),iP=fc(),yu=null;iP.startListening({actionCreator:bv,effect:(e,t)=>{var r=e.payload;yu!==null&&cancelAnimationFrame(yu);var n=jb(r);yu=requestAnimationFrame(()=>{var a=t.getState(),i=ab(a,a.tooltip.settings.shared);if(i==="axis"){var o=Sb(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(KR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(GR())}yu=null})}});function NX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var rj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},oP=Zt({name:"rootProps",initialState:rj,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:rj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),PX=oP.reducer,{updateOptions:MX}=oP.actions,sP=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:iJ}=sP.actions,DX=sP.reducer,lP=Mr("keyDown"),cP=Mr("focus"),Eb=fc();Eb.startListening({actionCreator:lP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=ib(a,Es(r),_c(r),Cc(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var c=ia(r);if(i==="Enter"){var u=af(r,"axis","hover",String(a.index));t.dispatch(uv({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=wH(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=s+h*f;if(!(c==null||m>=c.length||m<0)){var p=af(r,"axis","hover",String(m));t.dispatch(uv({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});Eb.startListening({actionCreator:cP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=af(r,"axis","hover",String(i));t.dispatch(uv({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var wr=Mr("externalEvent"),uP=fc(),up=new Map;uP.startListening({actionCreator:wr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=up.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),c={activeCoordinate:gW(s),activeDataKey:oN(s),activeIndex:rs(s),activeLabel:iN(s),activeTooltipIndex:rs(s),isTooltipActive:vW(s)};r(c,n)}finally{up.delete(a)}});up.set(a,o)}}});var zX=P([Ss],e=>e.tooltipItemPayloads),BX=P([zX,Ec,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(s=>s.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),dP=Mr("touchMove"),fP=fc();fP.startListening({actionCreator:dP,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=ab(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=Sb(n,jb({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(KR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(S$),f=(s=u.getAttribute(j$))!==null&&s!==void 0?s:void 0,h=js(n).find(x=>x.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=BX(n,d,f);t.dispatch(VR({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var IX=W2({brush:HG,cartesianAxis:RG,chartData:pF,errorBars:LK,graphicalItems:vG,layout:a$,legend:fL,options:uF,polarAxis:IV,polarOptions:DX,referenceElements:XG,rootProps:PX,tooltip:NH,zIndex:JW}),$X=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return TI({reducer:IX,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([aP.middleware,iP.middleware,Eb.middleware,uP.middleware,fP.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(iT({type:"raf"}))},devTools:{serialize:{replacer:NX},name:"recharts-".concat(r)}})};function LX(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Jt(),i=w.useRef(null);if(a)return r;i.current==null&&(i.current=$X(t,n));var o=t0;return w.createElement(pY,{context:o,store:i.current},r)}function UX(e){var{layout:t,margin:r}=e,n=Ge(),a=Jt();return w.useEffect(()=>{a||(n(t$(t)),n(e$(r)))},[n,a,t,r]),null}var qX=w.memo(UX,_b);function HX(e){var t=Ge();return w.useEffect(()=>{t(MX(e))},[t,e]),null}function nj(e){var{zIndex:t,isPanorama:r}=e,n=w.useRef(null),a=Ge();return w.useLayoutEffect(()=>(n.current&&a(XW({zIndex:t,element:n.current,isPanorama:r})),()=>{a(ZW({zIndex:t,isPanorama:r}))}),[a,t,r]),w.createElement("g",{tabIndex:-1,ref:n})}function aj(e){var{children:t,isPanorama:r}=e,n=X(LW);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return w.createElement(w.Fragment,null,a.map(o=>w.createElement(nj,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>w.createElement(nj,{key:o,zIndex:o,isPanorama:r})))}var WX=["children"];function FX(e,t){if(e==null)return{};var r,n,a=VX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(null,arguments)}var GX={width:"100%",height:"100%",display:"block"},KX=w.forwardRef((e,t)=>{var r=RT(),n=NT(),a=LT();if(!cn(r)||!cn(n))return null;var{children:i,otherAttributes:o,title:s,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),w.createElement(FA,ff({},o,{title:s,desc:c,role:d,tabIndex:u,width:r,height:n,style:GX,ref:t}),i)}),YX=e=>{var{children:t}=e,r=X(fh);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return w.createElement(FA,{width:n,height:a,x:o,y:i},t)},ij=w.forwardRef((e,t)=>{var{children:r}=e,n=FX(e,WX),a=Jt();return a?w.createElement(YX,null,w.createElement(aj,{isPanorama:!0},r)):w.createElement(KX,ff({ref:t},n),w.createElement(aj,{isPanorama:!1},r))});function XX(){var e=Ge(),[t,r]=w.useState(null),n=X(_$);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Le(i)&&i!==n&&e(n$(i))}},[t,e,n]),r}function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){JX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(null,arguments)}var tZ=()=>(jF(),null);function hf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var rZ=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[i,o]=w.useState({containerWidth:hf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:hf((n=e.style)===null||n===void 0?void 0:n.height)}),s=w.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=w.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var h=p=>{var{width:x,height:v}=p[0].contentRect;s(x,v)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,s]);return w.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),w.createElement(w.Fragment,null,w.createElement(mh,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Mi({ref:c},e)))}),nZ=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=w.useState({containerWidth:hf(r),containerHeight:hf(n)}),o=w.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),s=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return w.createElement(w.Fragment,null,w.createElement(mh,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Mi({ref:s},e)))}),aZ=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(mh,{width:r,height:n}),w.createElement("div",Mi({ref:t},e)))}),iZ=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return qn(r)||qn(n)?w.createElement(nZ,Mi({},e,{ref:t})):w.createElement(aZ,Mi({},e,{ref:t}))});function oZ(e){return e===!0?rZ:iZ}var sZ=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:v,width:g,responsive:y,dispatchTouchEvents:_=!0}=e,b=w.useRef(null),S=Ge(),[j,E]=w.useState(null),[C,A]=w.useState(null),R=XX(),M=d0(),k=(M==null?void 0:M.width)>0?M.width:g,H=(M==null?void 0:M.height)>0?M.height:a,W=w.useCallback(D=>{R(D),typeof t=="function"&&t(D),E(D),A(D),D!=null&&(b.current=D)},[R,t,E,A]),Z=w.useCallback(D=>{S(nP(D)),S(wr({handler:i,reactEvent:D}))},[S,i]),O=w.useCallback(D=>{S(bv(D)),S(wr({handler:u,reactEvent:D}))},[S,u]),T=w.useCallback(D=>{S(GR()),S(wr({handler:d,reactEvent:D}))},[S,d]),N=w.useCallback(D=>{S(bv(D)),S(wr({handler:f,reactEvent:D}))},[S,f]),L=w.useCallback(()=>{S(cP())},[S]),U=w.useCallback(D=>{S(lP(D.key))},[S]),ne=w.useCallback(D=>{S(wr({handler:o,reactEvent:D}))},[S,o]),ce=w.useCallback(D=>{S(wr({handler:s,reactEvent:D}))},[S,s]),se=w.useCallback(D=>{S(wr({handler:c,reactEvent:D}))},[S,c]),he=w.useCallback(D=>{S(wr({handler:h,reactEvent:D}))},[S,h]),ue=w.useCallback(D=>{S(wr({handler:x,reactEvent:D}))},[S,x]),z=w.useCallback(D=>{_&&S(dP(D)),S(wr({handler:p,reactEvent:D}))},[S,_,p]),q=w.useCallback(D=>{S(wr({handler:m,reactEvent:D}))},[S,m]),ae=oZ(y);return w.createElement(hN.Provider,{value:j},w.createElement(xB.Provider,{value:C},w.createElement(ae,{width:k??(v==null?void 0:v.width),height:H??(v==null?void 0:v.height),className:De("recharts-wrapper",n),style:ZX({position:"relative",cursor:"default",width:k,height:H},v),onClick:Z,onContextMenu:ne,onDoubleClick:ce,onFocus:L,onKeyDown:U,onMouseDown:se,onMouseEnter:O,onMouseLeave:T,onMouseMove:N,onMouseUp:he,onTouchEnd:q,onTouchMove:z,onTouchStart:ue,ref:W},w.createElement(tZ,null),r)))}),lZ=["width","height","responsive","children","className","style","compact","title","desc"];function cZ(e,t){if(e==null)return{};var r,n,a=uZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dZ=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:s,compact:c,title:u,desc:d}=e,f=cZ(e,lZ),h=Ln(f);return c?w.createElement(w.Fragment,null,w.createElement(mh,{width:r,height:n}),w.createElement(ij,{otherAttributes:h,title:u,desc:d},i)):w.createElement(sZ,{className:o,style:s,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(ij,{otherAttributes:h,title:u,desc:d,ref:t},w.createElement(JG,null,i)))});function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(null,arguments)}var fZ={top:5,right:5,bottom:5,left:5},hZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:fZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},mZ=w.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,hZ),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return w.createElement(LX,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},w.createElement(qG,{chartData:u.data}),w.createElement(qX,{layout:a.layout,margin:a.margin}),w.createElement(HX,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(dZ,xv({},a,{ref:r})))}),pZ=["axis","item"],gZ=w.forwardRef((e,t)=>w.createElement(mZ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pZ,tooltipPayloadSearcher:lF,categoricalChartProps:e,ref:t}));function vZ({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=w.useState([]),[i,o]=w.useState(!1),[s,c]=w.useState(null);w.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),c(null);try{const{data:h,error:m}=await I.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const x=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(v=>{const g=Number(h[v.key]),y=g?t*g:0;return{name:v.name,geracao:Math.round(y),factor:g}});a(x)}catch(h){console.error("Irradiance error:",h),c("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return w.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?l.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):l.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Estimativa de Gerao Mensal"}),l.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",l.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),l.jsx("div",{style:{width:"100%",height:300},children:l.jsx(K$,{children:l.jsxs(gZ,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[l.jsx(GN,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),l.jsx(tP,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),l.jsx(rP,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),l.jsx(NF,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),l.jsx(QN,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>l.jsx(mb,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),l.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}const bu=({title:e,icon:t,children:r,defaultOpen:n=!1,color:a="var(--color-blue)"})=>{const[i,o]=w.useState(n);return l.jsxs("div",{style:{marginBottom:"1rem",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",background:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{onClick:()=>o(!i),style:{padding:"1rem",background:i?`${a}10`:"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:i?"1px solid #e2e8f0":"none",transition:"background 0.2s"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontWeight:"bold",color:a},children:[t&&l.jsx(t,{size:20}),l.jsx("span",{style:{fontSize:"1rem"},children:e})]}),i?l.jsx(PA,{size:20,color:"#64748b"}):l.jsx(NA,{size:20,color:"#64748b"})]}),i&&l.jsx("div",{style:{padding:"1.5rem",animation:"fadeIn 0.3s ease-in-out"},children:r})]})};function yZ({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=Jn(),[o,s]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(!1),p=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],x=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],v=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],g=(z,q,ae)=>{let D=[];for(let K=z;K<=q;K+=ae)D.push(K);return D},y=g(460,800,5),_=[...g(1e3,7e3,1e3),7500,9e3,1e4,12500,...g(15e3,75e3,5e3),...g(1e5,3e5,25e3)],[b,S]=w.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[j,E]=w.useState([]),[C,A]=w.useState([]),[R,M]=w.useState(0),k=C.reduce((z,q)=>z+(Number(q.consumo_medio_kwh)||Number(q.franquia)||0),0);w.useEffect(()=>{const z=Number(b.qtd_modulos)||0,q=Number(b.potencia_modulos_w)||0,ae=z*q/1e3;M(Number(ae.toFixed(2)))},[b.qtd_modulos,b.potencia_modulos_w]),w.useEffect(()=>{var z,q,ae,D,K,ee,$;Z(),O(),e&&(S({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?T(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((z=e.address)==null?void 0:z.cep)||"",rua:((q=e.address)==null?void 0:q.rua)||"",numero:((ae=e.address)==null?void 0:ae.numero)||"",bairro:((D=e.address)==null?void 0:D.bairro)||"",cidade:((K=e.address)==null?void 0:K.cidade)||"",uf:((ee=e.address)==null?void 0:ee.uf)||"",ibge_code:e.ibge_code||(($=e.address)==null?void 0:$.ibge)||"",concessionaria:e.concessionaria||""}),H(e.id))},[e]),w.useEffect(()=>{W()},[e==null?void 0:e.id]);const H=async z=>{const{data:q}=await I.from("consumer_units").select("*").eq("usina_id",z);q&&A(q)},W=async()=>{let z=I.from("consumer_units").select("id, numero_uc, titular_conta, usina_id, concessionaria, status, consumo_medio_kwh");const{data:q,error:ae}=await z;if(q){const D=q.filter(K=>{const ee=e&&K.usina_id===e.id,$=K.usina_id===null;return ee||$});E(D)}},Z=async()=>{const{data:z}=await I.from("suppliers").select("id, name").order("name");s(z||[])},O=async()=>{const{data:z}=await I.from("inverter_brands").select("name").order("name");u(z||[])},T=z=>z===""||z===void 0||z===null?"":typeof z=="number"?z.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(z.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),N=z=>{const q=z.target.value.replace(/\D/g,"");if(!q){S({...b,valor_investido:""});return}const D=(Number(q)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});S({...b,valor_investido:D})},L=z=>{if(!z)return 0;const q=z.replace(/[^\d,]/g,"").replace(",",".");return Number(q)||0},U=z=>{S(q=>{const ae=q.servicos_contratados||[];return ae.includes(z)?{...q,servicos_contratados:ae.filter(D=>D!==z)}:{...q,servicos_contratados:[...ae,z]}})},ne=(z,q)=>{const ae=q.replace(/\D/g,""),D=Number(ae)/100;S(K=>({...K,service_values:{...K.service_values,[z]:D}}))},ce=async()=>{const z=b.cep.replace(/\D/g,"");if(z.length===8){m(!0);try{const q=await Zn(z);if(S(ae=>({...ae,rua:q.rua||"",bairro:q.bairro||"",cidade:q.cidade||"",uf:q.uf||"",ibge_code:q.ibge||""})),q.ibge){const ae=await lc(q.ibge);ae&&ae.Concessionaria&&S(D=>({...D,concessionaria:ae.Concessionaria}))}}catch(q){console.error("Erro CEP",q)}finally{m(!1)}}},se=w.useCallback(z=>{z&&S(q=>z!==Number(q.geracao_estimada_kwh)?{...q,geracao_estimada_kwh:z}:q)},[]),he=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:q}=await I.from("usinas").delete().eq("id",e.id);if(q)throw q;n&&n(e.id),t()}catch(q){a("Erro ao excluir: "+q.message,"error")}finally{f(!1)}}},ue=async z=>{z.preventDefault(),f(!0);try{const q=L(b.valor_investido),ae={supplier_id:b.supplier_id||null,name:b.name,concessionaria:b.concessionaria,status:b.status,modalidade:b.modalidade,valor_investido:q,potencia_kwp:Number(R),qtd_modulos:Number(b.qtd_modulos),potencia_modulos_w:Number(b.potencia_modulos_w),fabricante_inversor:b.fabricante_inversor,potencia_inversor_w:Number(b.potencia_inversor_w),geracao_estimada_kwh:Number(b.geracao_estimada_kwh),servicos_contratados:b.servicos_contratados,service_values:b.service_values,gestao_percentual:Number(b.gestao_percentual),ibge_code:b.ibge_code,address:{cep:b.cep,rua:b.rua,numero:b.numero,bairro:b.bairro,cidade:b.cidade,uf:b.uf,ibge:b.ibge_code}};let D=e==null?void 0:e.id,K=null;if(e!=null&&e.id){const{data:ee,error:$}=await I.from("usinas").update(ae).eq("id",e.id).select().single();$?K=$:ee&&(D=ee.id)}else{const{data:ee,error:$}=await I.from("usinas").insert(ae).select().single();$?K=$:ee&&(D=ee.id)}if(K)throw K;if(D&&(await I.from("consumer_units").update({usina_id:null}).eq("usina_id",D),C.length>0)){const ee=C.map($=>$.id);await I.from("consumer_units").update({usina_id:D}).in("id",ee)}r({id:D}),t(),a("Usina salva com sucesso!","success")}catch(q){console.error("Save error:",q),a("Erro ao salvar usina: "+(q.message||JSON.stringify(q)),"error")}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"850px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.5rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Usina":"Nova Usina"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem",marginTop:"0.2rem"},children:"Configure os dados tcnicos e comerciais da usina"})]}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8",padding:"0.5rem"},children:l.jsx(Uf,{size:24})})]}),l.jsxs("form",{onSubmit:ue,style:{padding:"1.5rem"},children:[l.jsx(bu,{title:"Identificao e Localizao",icon:S6,defaultOpen:!0,color:"#2563eb",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Nome da Usina"}),l.jsx("input",{required:!0,value:b.name,onChange:z=>S({...b,name:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"},placeholder:"Ex: Usina Solar Norte 01"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fornecedor / Proprietrio"}),l.jsxs("select",{required:!0,value:b.supplier_id,onChange:z=>S({...b,supplier_id:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:b.cep,onChange:z=>S({...b,cep:z.target.value}),onBlur:ce,placeholder:"00000-000",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:h?"#f0f9ff":"white"}}),h&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"0.8rem",color:"#3b82f6"},children:"..."})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Cidade / UF"}),l.jsx("input",{value:b.cidade&&b.uf?`${b.cidade} / ${b.uf}`:"",disabled:!0,placeholder:"Preenchimento automtico",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f1f5f9",color:"#64748b"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Concessionria"}),l.jsx("input",{value:b.concessionaria,onChange:z=>S({...b,concessionaria:z.target.value}),placeholder:"Ex: Cemig",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]})]})}),l.jsx(bu,{title:"Caractersticas Tcnicas",icon:IA,defaultOpen:!0,color:"#ea580c",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status Operacional"}),l.jsx("select",{value:b.status,onChange:z=>S({...b,status:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:p.map(z=>l.jsx("option",{value:z.value,children:z.label},z.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Modalidade"}),l.jsx("select",{value:b.modalidade,onChange:z=>S({...b,modalidade:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:x.map(z=>l.jsx("option",{value:z.value,children:z.label},z.value))})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.5rem 0",gridColumn:"1 / -1"}}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Qtd. Mdulos"}),l.jsx("input",{type:"number",value:b.qtd_modulos,onChange:z=>S({...b,qtd_modulos:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Mdulo (W)"}),l.jsxs("select",{value:b.potencia_modulos_w,onChange:z=>S({...b,potencia_modulos_w:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),y.map(z=>l.jsxs("option",{value:z,children:[z," W"]},z))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fabricante Inversor"}),l.jsxs("select",{value:b.fabricante_inversor,onChange:z=>S({...b,fabricante_inversor:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(z=>l.jsx("option",{value:z.name,children:z.name},z.name))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Inversor (W)"}),l.jsxs("select",{value:b.potencia_inversor_w,onChange:z=>S({...b,potencia_inversor_w:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),_.map(z=>l.jsxs("option",{value:z,children:[z," W"]},z))]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"0.5rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",background:"#fff7ed",padding:"1rem",borderRadius:"8px",border:"1px solid #ffedd5"},children:[l.jsx("div",{style:{background:"#ea580c",color:"white",padding:"0.5rem",borderRadius:"50%"},children:l.jsx(By,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#ea580c",fontWeight:600,textTransform:"uppercase"},children:"Potncia Total do Sistema (Calculada)"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#9a3412"},children:[R," kWp"]})]})]})})]})}),l.jsxs(bu,{title:"Gerao e Financeiro",icon:Dy,color:"#16a34a",children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Valor Investido"}),l.jsx("input",{value:b.valor_investido,onChange:N,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Gerao Estimada (Mdia Mensal)"}),l.jsx("input",{type:"number",value:b.geracao_estimada_kwh,onChange:z=>S({...b,geracao_estimada_kwh:z.target.value}),placeholder:"Use o grfico para calcular",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f0fdf4"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Servios Contratados"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:v.map(z=>{var ae;const q=b.servicos_contratados.includes(z);return l.jsxs("div",{style:{border:q?"1px solid #16a34a":"1px solid #e2e8f0",borderRadius:"6px",padding:"0.5rem",background:q?"#f0fdf4":"white",transition:"0.2s"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",marginBottom:q?"0.5rem":"0"},children:[l.jsx("input",{type:"checkbox",checked:q,onChange:()=>U(z)}),l.jsx("span",{style:{fontSize:"0.9rem",fontWeight:q?600:400,color:q?"#166534":"#64748b"},children:z})]}),q&&l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",animation:"fadeIn 0.2s"},children:l.jsx("input",{placeholder:"Valor (R$)",value:T((ae=b.service_values)==null?void 0:ae[z]),onChange:D=>ne(z,D.target.value),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}})}),q&&z==="Gesto"&&l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("input",{type:"number",step:"0.01",placeholder:"%",value:b.gestao_percentual,onChange:D=>S({...b,gestao_percentual:D.target.value}),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#166534"},children:"%"})]})]},z)})})]})]}),l.jsxs("div",{style:{marginTop:"1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#059669",fontWeight:600,marginBottom:"0.5rem"},children:[l.jsx(Y3,{size:18}),l.jsx("span",{children:"Estimativa de Gerao (Irradincia)"})]}),l.jsx(vZ,{ibgeCode:b.ibge_code,potenciaKwp:R,onCalculate:se})]})]}),l.jsx(bu,{title:"Vnculos com UCs",icon:L6,color:"#7c3aed",children:l.jsxs("div",{style:{background:"#f5f3ff",padding:"1rem",borderRadius:"8px",border:"1px solid #ede9fe"},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.8rem"},children:l.jsxs("div",{style:{fontSize:"0.9rem",color:"#5b21b6"},children:["Capacidade Comprometida: ",l.jsxs("strong",{children:[k.toFixed(2)," kWh"]}),b.geracao_estimada_kwh>0&&l.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",color:k>b.geracao_estimada_kwh?"#ef4444":"#166534"},children:["(",Math.round(k/b.geracao_estimada_kwh*100),"% da Gerao)"]})]})}),j.length===0?l.jsx("p",{style:{fontSize:"0.8rem",color:"#666",textAlign:"center",padding:"1rem"},children:"Nenhuma UC disponvel encontrada."}):l.jsx("div",{style:{maxHeight:"250px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"0.8rem"},children:j.map(z=>{var ae;const q=C.some(D=>D.id===z.id);return l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.85rem",padding:"0.8rem",border:q?"1px solid #8b5cf6":"1px solid #ddd",borderRadius:"6px",background:q?"white":"rgba(255,255,255,0.6)",cursor:"pointer",transition:"0.2s",boxShadow:q?"0 2px 4px rgba(139, 92, 246, 0.1)":"none"},children:[l.jsx("input",{type:"checkbox",checked:q,onChange:D=>{D.target.checked?A([...C,z]):A(C.filter(K=>K.id!==z.id))},style:{transform:"scale(1.1)",accentColor:"#7c3aed"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:z.numero_uc}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:(ae=z.titular_conta)==null?void 0:ae.substring(0,20)})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("span",{style:{display:"block",fontSize:"0.65rem",color:"#94a3b8"},children:z.concessionaria}),z.consumo_medio_kwh&&l.jsxs("strong",{style:{fontSize:"0.8rem",color:"#059669"},children:[Math.round(z.consumo_medio_kwh)," kWh"]})]})]},z.id)})})]})}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsx("div",{children:e&&n&&l.jsxs("button",{type:"button",onClick:he,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.7rem 1.2rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:[l.jsx(zy,{size:18})," Excluir Usina"]})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(zA,{size:18})," Salvar Usina"]})})]})]})]})]})})}function bZ({usina:e,closingId:t,onClose:r,onSave:n}){const{showAlert:a}=Jn(),[i,o]=w.useState(!1),s=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],c=new Date().getFullYear(),u=[c-1,c,c+1],[d,f]=w.useState({ref_month:s[new Date().getMonth()],ref_year:c,closing_date:new Date().toISOString().split("T")[0],status:"rascunho",energia_gerada:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas_base:"",custo_disponibilidade:"",manutencao:"",arrendamento:"",servicos_total:"",taxa_gestao_percentual:"",taxa_gestao_valor:"",total_despesas:"",saldo_liquido:""}),h=b=>!b&&b!==0?"":Number(b).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),m=b=>b?typeof b=="number"?b:Number(b.replace(/[^\d,]/g,"").replace(",","."))||0:0;w.useEffect(()=>{if(t)p();else if(e){const b=e.service_values||{},S=b.Internet||0,j=b.Segurana||0,E=b.gua||0,C=S+j+E;f(A=>({...A,custo_disponibilidade:b.Energia||0,manutencao:b.Manuteno||0,arrendamento:b.Arrendamento||0,servicos_total:C,taxa_gestao_percentual:e.gestao_percentual||0}))}},[e,t]),w.useEffect(()=>{!t&&e&&x()},[d.ref_month,d.ref_year]),w.useEffect(()=>{v()},[d.faturas_pagas_base,d.taxa_gestao_percentual,d.custo_disponibilidade,d.manutencao,d.arrendamento,d.servicos_total]);const p=async()=>{o(!0);const{data:b,error:S}=await I.from("plant_closings").select("*").eq("id",t).single();b&&f(b),o(!1)},x=async()=>{const{data:b}=await I.from("consumer_units").select("id").eq("usina_id",e.id),S=(b==null?void 0:b.map(E=>E.id))||[];if(S.length===0)return;`${d.ref_month}${d.ref_year}`;const{data:j}=await I.from("invoices").select("consumo_kwh, valor_total, status, economia_reais, consumo_reais").in("uc_id",S).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year);if(j){const E=j.reduce((M,k)=>M+(Number(k.consumo_kwh)||0),0),A=j.filter(M=>M.status==="paga").reduce((M,k)=>M+(Number(k.valor_total)||0),0),R=j.reduce((M,k)=>M+(Number(k.valor_total)||0),0);f(M=>({...M,energia_compensada:E,faturamento_mensal:R,faturas_pagas_base:A}))}},v=()=>{const b=m(d.faturas_pagas_base),S=Number(d.taxa_gestao_percentual)||0,j=b*(S/100),E=m(d.custo_disponibilidade),C=m(d.manutencao),A=m(d.arrendamento),R=m(d.servicos_total),M=E+C+A+R,k=b-(j+M);f(H=>({...H,taxa_gestao_valor:j,total_despesas:M,saldo_liquido:k}))},g=(b,S)=>{f(j=>({...j,[b]:S}))},y=(b,S)=>{const j=Number(S.replace(/\D/g,""))/100;f(E=>({...E,[b]:j}))},_=async b=>{b.preventDefault(),o(!0);const S={usina_id:e.id,...d,taxa_gestao_valor:Number(d.taxa_gestao_valor),total_despesas:Number(d.total_despesas),saldo_liquido:Number(d.saldo_liquido)};delete S.created_at;let j;t?j=await I.from("plant_closings").update(S).eq("id",t):j=await I.from("plant_closings").insert(S),o(!1),j.error?a("Erro ao salvar: "+j.error.message,"error"):(a("Fechamento salvo com sucesso!","success"),n(),r())};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"900px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Novo Fechamento"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Usina: ",e.name]})]}),l.jsx("button",{onClick:r,children:l.jsx(Uf,{size:24,color:"#94a3b8"})})]}),l.jsxs("form",{onSubmit:_,style:{padding:"2rem",display:"grid",gap:"2rem"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",background:"white",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ms Ref."}),l.jsx("select",{value:d.ref_month,onChange:b=>g("ref_month",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:s.map(b=>l.jsx("option",{value:b,children:b},b))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ano"}),l.jsx("select",{value:d.ref_year,onChange:b=>g("ref_year",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:u.map(b=>l.jsx("option",{value:b,children:b},b))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",value:d.closing_date,onChange:b=>g("closing_date",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:b=>g("status",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontWeight:"bold",color:d.status==="fechado"?"#166534":"#ea580c"},children:[l.jsx("option",{value:"rascunho",children:"EM PRODUO"}),l.jsx("option",{value:"fechado",children:"FECHADO"})]})]}),l.jsx("div",{style:{display:"flex",alignItems:"end"},children:l.jsx("button",{type:"button",onClick:x,style:{width:"100%",padding:"0.6rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:"Buscar Faturas"})})]}),l.jsxs("div",{children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(G3,{size:18})," Produo e Receita"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",value:d.energia_gerada,onChange:b=>g("energia_gerada",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Energia Compensada (kWh) - Soma Faturas"}),l.jsx("input",{type:"number",value:d.energia_compensada,disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",background:"#f1f5f9"}})]})]}),l.jsxs("div",{style:{background:"#f0fdf4",padding:"1.5rem",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"bold",color:"#166534",marginBottom:"0.5rem"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{value:h(d.faturas_pagas_base),onChange:b=>y("faturas_pagas_base",b.target.value),style:{width:"100%",fontSize:"1.5rem",fontWeight:"bold",color:"#166534",padding:"0.5rem",background:"transparent",border:"none",outline:"none",borderBottom:"2px solid #16a34a"}}),l.jsx("p",{style:{fontSize:"0.8rem",color:"#15803d",marginTop:"0.5rem"},children:"Valor efetivamente recebido dos assinantes."})]})]}),l.jsxs("div",{style:{border:"1px solid #fb923c",borderRadius:"8px",padding:"1.5rem",background:"#fff7ed",position:"relative"},children:[l.jsxs("div",{style:{position:"absolute",top:"-12px",left:"20px",background:"#fff7ed",padding:"0 10px",color:"#c2410c",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(La,{size:18})," Despesas Operacionais"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginTop:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{value:h(d.custo_disponibilidade),onChange:b=>y("custo_disponibilidade",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Manuteno (R$)"}),l.jsx("input",{value:h(d.manutencao),onChange:b=>y("manutencao",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Arrendamento (R$)"}),l.jsx("input",{value:h(d.arrendamento),onChange:b=>y("arrendamento",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Servios (Net/Seg/gua) (R$)"}),l.jsx("input",{value:h(d.servicos_total),onChange:b=>y("servicos_total",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]})]})]}),l.jsx("div",{style:{background:"#fefce8",borderRadius:"8px",padding:"1.5rem",border:"1px solid #fde047"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Taxa de Gesto (%)"}),l.jsx("input",{type:"number",step:"0.1",value:d.taxa_gestao_percentual,onChange:b=>g("taxa_gestao_percentual",b.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"white"}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Valor (R$)"}),l.jsx("input",{value:h(d.taxa_gestao_valor),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Total Despesas Operacionais"}),l.jsx("input",{value:h(d.total_despesas),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]})}),l.jsxs("div",{style:{background:"#eff6ff",borderRadius:"8px",padding:"2rem",textAlign:"center",border:"1px solid #bfdbfe"},children:[l.jsx("h3",{style:{color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("p",{style:{color:"#3b82f6",fontSize:"0.9rem",marginBottom:"1rem"},children:"Faturas Pagas - (Taxa Gesto + Total Despesas)"}),l.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"900",color:d.saldo_liquido<0?"#ef4444":"#1e40af"},children:h(d.saldo_liquido)})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:i?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(zA,{size:18})," Salvar Fechamento"]})})]})]})]})})}function xZ({usina:e,onClose:t}){const{showAlert:r}=Jn(),[n,a]=w.useState([]),[i,o]=w.useState(!0),[s,c]=w.useState(null),[u,d]=w.useState(!1);w.useEffect(()=>{e&&f()},[e]);const f=async()=>{o(!0);const{data:v,error:g}=await I.from("plant_closings").select("*").eq("usina_id",e.id).order("created_at",{ascending:!1});g?console.error("Error fetching closings",g):a(v||[]),o(!1)},h=v=>{c(v),d(!0)},m=()=>{c(null),d(!0)},p=()=>{f()},x=v=>Number(v||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},children:[u&&l.jsx(bZ,{usina:e,closingId:s,onClose:()=>d(!1),onSave:p}),l.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Fechamentos Mensais"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Histrico financeiro da usina ",e.name]})]}),l.jsx("button",{onClick:t,children:l.jsx(Uf,{size:24,color:"#94a3b8"})})]}),l.jsx("div",{style:{padding:"1rem 1.5rem",background:"#f8fafc",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end"},children:l.jsxs("button",{onClick:m,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-blue)",color:"white",padding:"0.6rem 1.2rem",borderRadius:"6px",border:"none",fontWeight:600,cursor:"pointer"},children:[l.jsx(Lf,{size:18})," Novo Fechamento"]})}),l.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1,background:"#f1f5f9"},children:i?l.jsx("p",{children:"Carregando..."}):n.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8",background:"white",borderRadius:"8px",border:"1px dashed #cbd5e1"},children:[l.jsx(La,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),l.jsx("p",{children:"Nenhum fechamento registrado para esta usina."})]}):l.jsx("div",{style:{display:"grid",gap:"1rem"},children:n.map(v=>l.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[l.jsxs("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",textAlign:"center",minWidth:"80px"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b",textTransform:"uppercase"},children:"Ms/Ano"}),l.jsxs("div",{style:{fontWeight:"bold",color:"#1e40af"},children:[v.ref_month,"/",v.ref_year]})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.3rem"},children:[l.jsx("span",{style:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:"bold",padding:"0.2rem 0.5rem",borderRadius:"99px",background:v.status==="fechado"?"#dcfce7":"#ffedd5",color:v.status==="fechado"?"#166534":"#9a3412"},children:v.status}),l.jsxs("span",{style:{fontSize:"0.8rem",color:"#94a3b8"},children:["Criado em ",new Date(v.created_at).toLocaleDateString()]})]}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#475569"},children:["Faturas: ",l.jsx("strong",{children:x(v.faturas_pagas_base)})," | Despesas: ",l.jsx("strong",{children:x(v.total_despesas)})]})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:"Saldo Lquido"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:v.saldo_liquido<0?"#ef4444":"#166534"},children:x(v.saldo_liquido)}),l.jsx("button",{onClick:()=>h(v.id),style:{marginTop:"0.5rem",background:"none",border:"none",color:"#3b82f6",fontSize:"0.85rem",cursor:"pointer",textDecoration:"underline"},children:"Ver Detalhes"})]})]},v.id))})})]})]})}function wZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,s]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null),[h,m]=w.useState(""),[p,x]=w.useState("kanban"),v=e.filter(S=>{var E,C,A,R,M,k,H;if(!h)return!0;const j=h.toLowerCase();return((E=S.name)==null?void 0:E.toLowerCase().includes(j))||((C=S.concessionaria)==null?void 0:C.toLowerCase().includes(j))||((R=(A=S.supplier)==null?void 0:A.name)==null?void 0:R.toLowerCase().includes(j))||((M=S.status)==null?void 0:M.toLowerCase().includes(j))||((H=(k=S.address)==null?void 0:k.cidade)==null?void 0:H.toLowerCase().includes(j))});w.useEffect(()=>{g()},[]);const g=async()=>{n(!0);try{const{data:S,error:j}=await I.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(j)throw j;t(S||[])}catch(S){console.error("Erro usinas",S)}finally{n(!1)}},y=()=>{g(),i(!1)},_=S=>{t(e.filter(j=>j.id!==S)),i(!1)},b=S=>{switch(S){case"gerando":return{bg:"#dcfce7",color:"#166534"};case"em_conexao":return{bg:"#ffedd5",color:"#9a3412"};case"manutencao":return{bg:"#fee2e2",color:"#991b1b"};case"inativa":return{bg:"#f1f5f9",color:"#64748b"};case"cancelada":return{bg:"#f1f5f9",color:"#94a3b8"};default:return{bg:"#f1f5f9",color:"#64748b"}}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Usinas Geradoras"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:h,onChange:S=>m(S.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>x("list"),className:`btn ${p==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>x("kanban"),className:`btn ${p==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:p==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:v.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome / Concessionria"}),l.jsx("th",{children:"Fornecedor"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Gerao / Potncia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:v.map(S=>{var E,C,A,R;const j=b(S.status);return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold"},children:[l.jsx("div",{children:S.name}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:S.concessionaria||"-"})]}),l.jsx("td",{children:((E=S.supplier)==null?void 0:E.name)||"-"}),l.jsxs("td",{children:[(C=S.address)==null?void 0:C.cidade,"/",(A=S.address)==null?void 0:A.uf]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:S.geracao_estimada_kwh?`${S.geracao_estimada_kwh} kWh/ms`:"-"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",S.potencia_kwp," kWp"]})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:j.bg,color:j.color,textTransform:"uppercase"},children:(R=S.status)==null?void 0:R.replace("_"," ")})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>{s(S),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",marginRight:"0.5rem"},children:"Editar"}),l.jsx("button",{onClick:()=>{f(S),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",background:"#e0f2fe",color:"#0369a1",border:"1px solid #bae6fd"},title:"Fechamentos Financeiros",children:l.jsx(La,{size:14})})]})]},S.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["em_conexao","gerando","manutencao","inativa","cancelada"].map(S=>{const j=v.filter(C=>C.status===S),E=b(S);return l.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${E.color}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:E.color},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:S.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:E.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:j.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:j.map(C=>{var A,R,M;return l.jsxs("div",{onClick:()=>{s(C),i(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s",position:"relative",overflow:"hidden"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:k=>k.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:E.bg,color:E.color,marginBottom:"0.5rem"},children:S.replace("_"," ")}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:C.name})}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:C.concessionaria||"Sem conc."}),l.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((A=C.supplier)==null?void 0:A.name)||"Sem Fornecedor"})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),l.jsxs("div",{style:{fontWeight:"bold"},children:[C.potencia_kwp," kWp"]})]}),l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),l.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[C.geracao_estimada_kwh," kWh"]})]})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(R=C.address)==null?void 0:R.cidade,"/",(M=C.address)==null?void 0:M.uf]}),l.jsxs("button",{onClick:k=>{k.stopPropagation(),f(C),u(!0)},style:{background:"none",border:"none",color:"#3b82f6",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.2rem"},children:[l.jsx(La,{size:14})," Fechamentos"]})]})]},C.id)})})]},S)})})}),a&&l.jsx(yZ,{usina:o,onClose:()=>i(!1),onSave:y,onDelete:_}),c&&l.jsx(xZ,{usina:d,onClose:()=>u(!1)})]})}function _Z(){const{showAlert:e,showConfirm:t}=Jn(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,s]=w.useState(!0),[c,u]=w.useState("kanban"),[d,f]=w.useState(null),[h,m]=w.useState(!1),[p,x]=w.useState(new Date().toISOString().substring(0,7)),[v,g]=w.useState(""),[y,_]=w.useState(""),[b,S]=w.useState(null),j=r.filter(O=>{var T,N,L,U,ne,ce,se;if(v&&O.status!==v)return!1;if(y){const he=y.toLowerCase(),ue=((N=(T=O.consumer_units)==null?void 0:T.titular_conta)==null?void 0:N.toLowerCase())||"",z=((ne=(U=(L=O.consumer_units)==null?void 0:L.subscribers)==null?void 0:U.name)==null?void 0:ne.toLowerCase())||"",q=((se=(ce=O.consumer_units)==null?void 0:ce.numero_uc)==null?void 0:se.toLowerCase())||"";if(!ue.includes(he)&&!z.includes(he)&&!q.includes(he))return!1}return!0});w.useEffect(()=>{E(),C()},[p]);const E=async()=>{s(!0);try{const[O,T]=p.split("-"),N=`${O}-${T}-01`,L=new Date(O,T,0).getDate(),U=`${O}-${T}-${L}`,{data:ne,error:ce}=await I.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",N).lte("mes_referencia",U).order("vencimento",{ascending:!0});if(ce)throw ce;n(ne||[])}catch(O){console.error("Error fetching invoices:",O),e("Erro ao carregar faturas.","error")}finally{s(!1)}},C=async()=>{const{data:O,error:T}=await I.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta, tarifa_concessionaria, desconto_assinante, tipo_ligacao").eq("status","ativo").order("titular_conta");T||i(O||[])},A=()=>{f(null),m(!0)},R=O=>{f(O),m(!0)},M=()=>{E(),m(!1)},k=async O=>{var N;if(await t(`Gerar boleto Asaas para a fatura de ${(N=O.consumer_units)==null?void 0:N.titular_conta}?`)){S(O.id);try{const L=await If(O.id);L.url&&(e("Boleto gerado com sucesso!","success"),window.open(L.url,"_blank"),E())}catch(L){console.error(L),e("Erro ao gerar boleto: "+L.message,"error")}finally{S(null)}}},H=async O=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:N}=await I.from("invoices").delete().eq("id",O);if(N)throw N;E()}catch(N){console.error("Erro ao excluir fatura:",N),e("Erro ao excluir fatura: "+N.message,"error")}},W=O=>Number(O||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Z=O=>{const T={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:DA},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:s6},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:MA}},N=T[O]||T.a_vencer,L=N.icon;return l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:N.bg,color:N.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[l.jsx(L,{size:12})," ",N.label]})};return l.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),l.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),l.jsxs("button",{onClick:A,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Lf,{size:18})," Nova Fatura"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[l.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[l.jsx(m6,{size:18}),l.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),l.jsx("input",{type:"month",value:p,onChange:O=>x(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),l.jsxs("select",{value:v,onChange:O=>g(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"atrasado",children:"Atrasado"}),l.jsx("option",{value:"pago",children:"Pago"})]}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx(BA,{size:18})}),l.jsx("input",{placeholder:"Buscar por Nome...",value:y,onChange:O=>_(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>u("list"),className:`btn ${c==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>u("kanban"),className:`btn ${c==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:c==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{background:"#f8fafc"},children:l.jsxs("tr",{children:[l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),l.jsx("tbody",{children:j.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):j.map(O=>{var T,N,L;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsx("td",{style:{padding:"1rem"},children:Z(O.status)}),l.jsx("td",{style:{padding:"1rem",color:"#334155"},children:O.vencimento?new Date(O.vencimento).toLocaleDateString("pt-BR"):"-"}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((T=O.consumer_units)==null?void 0:T.numero_uc)||"N/A"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(N=O.consumer_units)==null?void 0:N.titular_conta," (",(L=O.consumer_units)==null?void 0:L.concessionaria,")"]})]}),l.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(O.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:W(O.valor_a_pagar)}),l.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[O.asaas_boleto_url?l.jsxs("a",{href:O.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(La,{size:14})," Boleto"]}):l.jsx("button",{onClick:()=>k(O),disabled:b===O.id,style:{background:b===O.id?"#f1f5f9":"#fff7ed",color:b===O.id?"#94a3b8":"#c2410c",border:b===O.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:b===O.id?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx($f,{size:14})," Emitir"]})}),l.jsx("button",{onClick:()=>R(O),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),l.jsx("button",{onClick:()=>H(O.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:l.jsx(zy,{size:16})})]})})]},O.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(O=>{const T=j.filter(U=>U.status===O),N={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},L=N[O]||N.a_vencer;return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${L.color}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:L.color},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:L.label}),l.jsx("span",{style:{fontSize:"0.8rem",background:L.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:W(T.reduce((U,ne)=>U+(Number(ne.valor_a_pagar)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:T.map(U=>{var ne,ce;return l.jsxs("div",{onClick:()=>R(U),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:se=>se.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:se=>se.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(ne=U.consumer_units)==null?void 0:ne.numero_uc}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",U.vencimento?new Date(U.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(ce=U.consumer_units)==null?void 0:ce.titular_conta}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),l.jsxs("div",{children:[Number(U.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:W(U.valor_a_pagar)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:U.asaas_boleto_url?l.jsxs("a",{href:U.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:se=>se.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(La,{size:14})," Boleto"]}):l.jsx("button",{onClick:se=>{se.stopPropagation(),k(U)},className:"btn",disabled:b===U.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:b===U.id?"...":"Emitir"})})]},U.id)})})]},O)})})}),h&&l.jsx(UA,{invoice:d,ucs:a,onClose:()=>m(!1),onSave:M})]})}function SZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(""),[o,s]=w.useState("kanban"),[c,u]=w.useState(!1),[d,f]=w.useState(null),h=e.filter(v=>{var y,_,b,S,j,E,C;if(!a)return!0;const g=a.toLowerCase();return((y=v.numero_uc)==null?void 0:y.toLowerCase().includes(g))||((b=(_=v.subscriber)==null?void 0:_.name)==null?void 0:b.toLowerCase().includes(g))||((S=v.concessionaria)==null?void 0:S.toLowerCase().includes(g))||((E=(j=v.address)==null?void 0:j.cidade)==null?void 0:E.toLowerCase().includes(g))||((C=v.status)==null?void 0:C.toLowerCase().includes(g))});w.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:v,error:g}=await I.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(g)throw g;t(v||[])}catch(v){console.error("Error fetching UCs:",v)}finally{n(!1)}},p=v=>{m(),u(!1)},x=v=>{t(e.filter(g=>g.id!==v)),u(!1)};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),l.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:v=>i(v.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>s("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>s("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:o==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:h.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"UC"}),l.jsx("th",{children:"Concessionria"}),l.jsx("th",{children:"Assinante"}),l.jsx("th",{children:"Franquia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:h.map(v=>{var g,y,_,b,S;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:v.numero_uc}),l.jsx("td",{style:{color:"var(--color-text-medium)"},children:v.concessionaria||"-"}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold"},children:((g=v.subscriber)==null?void 0:g.name)||"-"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(y=v.subscriber)==null?void 0:y.cpf_cnpj})]}),l.jsx("td",{children:v.franquia?`${Number(v.franquia).toLocaleString("pt-BR")} kWh`:"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:v.status==="ativo"?"var(--color-success-light)":v.status==="em_atraso"||v.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:v.status==="ativo"?"var(--color-success)":v.status==="em_atraso"||v.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(_=v.status)==null?void 0:_.replace("_"," ").toUpperCase()})}),l.jsxs("td",{children:[(b=v.address)==null?void 0:b.cidade," / ",(S=v.address)==null?void 0:S.uf]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{f(v),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},v.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}].map(({status:v,label:g,color:y})=>{const _=h.filter(b=>(b.status||"em_ativacao")===v);return l.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${y}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:y},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:g}),l.jsx("span",{style:{fontSize:"0.8rem",background:y,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:_.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:_.map(b=>{var S,j,E;return l.jsxs("div",{onClick:()=>{f(b),u(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:C=>C.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:C=>C.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:b.numero_uc}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:b.concessionaria})]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((S=b.subscriber)==null?void 0:S.name)||"Sem Assinante"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(j=b.address)==null?void 0:j.cidade,"/",(E=b.address)==null?void 0:E.uf]}),l.jsx("span",{children:b.franquia?`${Number(b.franquia).toLocaleString("pt-BR")} kWh`:""})]})]},b.id)})})]},v)})})}),c&&l.jsx(Iy,{consumerUnit:d,onClose:()=>u(!1),onSave:p,onDelete:x})]})}function jZ({billing:e,onClose:t,onSave:r}){const[n,a]=w.useState([]),[i,o]=w.useState(!1),[s,c]=w.useState(!1),[u,d]=w.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=w.useState(0),m=["em_producao","fechado","liquidado"],p=E=>{if(!E&&E!==0)return"";const C=Number(E);return isNaN(C)?"":C.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},x=E=>{if(!E||typeof E!="string")return 0;const C=E.replace(/\D/g,"");return Number(C)/100},v=(E,C)=>{const A=C.replace(/\D/g,""),M=(Number(A)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(k=>({...k,[E]:M}))};w.useEffect(()=>{g(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:p(e.faturamento_mensal),faturas_pagas:p(e.faturas_pagas),custo_disponibilidade:p(e.custo_disponibilidade),manutencao:p(e.manutencao),gestao_reais:p(e.gestao_reais),arrendamento:p(e.arrendamento),servicos:p(e.servicos),total_despesas:p(e.total_despesas),saldo_receber:p(e.saldo_receber)}),y(e.usina_id))},[e]),w.useEffect(()=>{b()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const g=async()=>{const{data:E}=await I.from("usinas").select("id, name");a(E||[])},y=async E=>{if(!E)return;const{data:C}=await I.from("usinas").select("gestao_percentual").eq("id",E).single();C&&h(Number(C.gestao_percentual)||0)},_=async E=>{const C=E.target.value;d(A=>({...A,usina_id:C})),await y(C)},b=()=>{const E=x(u.faturas_pagas),C=x(u.custo_disponibilidade),A=x(u.manutencao),R=x(u.arrendamento),M=x(u.servicos);let k=0;f>0&&(k=E*(f/100));const H=C+A+k+R+M,W=E-H,Z=x(u.gestao_reais),O=x(u.total_despesas),T=x(u.saldo_receber);Math.abs(Z-k)<.01&&Math.abs(O-H)<.01&&Math.abs(T-W)<.01||d(N=>({...N,gestao_reais:p(k),total_despesas:p(H),saldo_receber:p(W)}))},S=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}c(!0);try{const{data:E,error:C}=await I.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(C)throw C;if(!E||E.length===0){alert("Nenhuma UC vinculada a esta usina."),c(!1);return}const A=E.map(L=>L.id),[R,M]=u.mes_referencia.split("-"),k=`${R}-${M}-01`,H=new Date(R,M,0).getDate(),W=`${R}-${M}-${H}`,{data:Z,error:O}=await I.from("invoices").select("valor_a_pagar, status").in("uc_id",A).gte("mes_referencia",k).lte("mes_referencia",W);if(O)throw O;let T=0,N=0;Z.forEach(L=>{const U=Number(L.valor_a_pagar)||0;T+=U,L.status==="pago"&&(N+=U)}),d(L=>({...L,faturamento_mensal:p(T),faturas_pagas:p(N)}))}catch(E){console.error("Reconciliation error:",E),alert("Erro ao buscar faturas: "+E.message)}finally{c(!1)}},j=async E=>{E.preventDefault(),o(!0);try{const C={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:x(u.faturamento_mensal),faturas_pagas:x(u.faturas_pagas),custo_disponibilidade:x(u.custo_disponibilidade),manutencao:x(u.manutencao),gestao_reais:x(u.gestao_reais),arrendamento:x(u.arrendamento),servicos:x(u.servicos),total_despesas:x(u.total_despesas),saldo_receber:x(u.saldo_receber)};let A;if(e!=null&&e.id?A=await I.from("generation_production").update(C).eq("id",e.id):A=await I.from("generation_production").insert(C),A.error)throw A.error;r(),t()}catch(C){console.error("Save error:",C),alert("Erro ao salvar: "+(C.message||JSON.stringify(C)))}finally{o(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),l.jsxs("form",{onSubmit:j,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),l.jsxs("select",{required:!0,value:u.usina_id,onChange:_,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[l.jsx("option",{value:"",children:"Selecione..."}),n.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]})]}),l.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),l.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:E=>{const C=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${C}-${E.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((E,C)=>l.jsx("option",{value:E,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][C]},E))})]}),l.jsxs("div",{style:{width:"80px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),l.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:E=>{const C=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${E.target.value}-${C}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(E,C)=>new Date().getFullYear()-2+C).map(E=>l.jsx("option",{value:E,children:E},E))})]})]}),l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:E=>d({...u,fechamento:E.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{width:"120px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),l.jsx("select",{value:u.status,onChange:E=>d({...u,status:E.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(E=>l.jsx("option",{value:E,children:E.replace("_"," ").toUpperCase()},E))})]}),l.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:l.jsx("button",{type:"button",onClick:S,disabled:s||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:s?.7:1},children:s?"Buscando...":"Buscar Faturas"})})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:E=>d({...u,geracao_mensal_kwh:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),l.jsx("input",{type:"number",value:u.energia_compensada,onChange:E=>d({...u,energia_compensada:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),l.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:E=>v("faturamento_mensal",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{type:"text",value:u.faturas_pagas,onChange:E=>v("faturas_pagas",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:E=>v("custo_disponibilidade",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),l.jsx("input",{type:"text",value:u.manutencao,onChange:E=>v("manutencao",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),l.jsx("input",{type:"text",value:u.arrendamento,onChange:E=>v("arrendamento",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),l.jsx("input",{type:"text",value:u.servicos,onChange:E=>v("servicos",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),l.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),l.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[l.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function EZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState("kanban"),[o,s]=w.useState(!1),[c,u]=w.useState(null);w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:y,error:_}=await I.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});_?console.error("Error fetching billing:",_):t(y||[]),n(!1)},f=y=>{u(y),s(!0)},h=()=>{u(null),s(!0)},m=async y=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:_}=await I.from("generation_production").delete().eq("id",y);_?alert("Erro ao excluir"):d()},p=async y=>{var _;if(!y.saldo_receber||y.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${y.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:b,error:S}=await I.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",y.usina_id).single();if(S||!b||!b.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const j=b.supplier;if(!j.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:E,error:C}=await I.functions.invoke("transfer-asaas-pix",{body:{value:y.saldo_receber,pix_key:j.pix_key,pix_key_type:j.pix_key_type,description:`Pagamento Energia - ${y.mes_referencia} - ${b.name}`,operationType:"PIX"}});if(C)throw C;if(!E.success)throw new Error(E.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((_=E.data)==null?void 0:_.id)),d(),await I.from("generation_production").update({status:"liquidado"}).eq("id",y.id),d()}catch(b){console.error("Payment Error:",b),alert("Erro no pagamento: "+b.message)}finally{n(!1)}}},x=()=>{d(),s(!1)},v=y=>{if(!y)return"-";const[_,b]=y.split("-"),S=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],j=parseInt(b,10)-1;return`${S[j]||"-"} ${_}`},g=y=>Number(y||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),l.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:a==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Usina"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Gerao (kWh)"}),l.jsx("th",{children:"Compensado (kWh)"}),l.jsx("th",{children:"Faturado (R$)"}),l.jsx("th",{children:"Saldo a Receber (R$)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(y=>{var _;return l.jsxs("tr",{children:[l.jsx("td",{children:v(y.mes_referencia)}),l.jsx("td",{children:((_=y.usinas)==null?void 0:_.name)||"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:y.status==="liquidado"?"#dcfce7":y.status==="fechado"?"#e0f2fe":"#fef9c3",color:y.status==="liquidado"?"#166534":y.status==="fechado"?"#0369a1":"#854d0e"},children:y.status})}),l.jsxs("td",{children:[Number(y.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsxs("td",{children:[Number(y.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{children:g(y.faturamento_mensal)}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:g(y.saldo_receber)}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>f(y),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),l.jsx("button",{onClick:()=>m(y.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),l.jsx("button",{onClick:()=>p(y),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},y.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(y=>{const _=e.filter(j=>j.status===y),S={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[y]||"#64748b";return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${S}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:S},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:y}),l.jsx("span",{style:{fontSize:"0.8rem",background:S,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:g(_.reduce((j,E)=>j+(Number(E.saldo_receber)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:_.map(j=>{var E;return l.jsxs("div",{onClick:()=>f(j),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:C=>C.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:C=>C.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(E=j.usinas)==null?void 0:E.name}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:v(j.mes_referencia)})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),l.jsxs("div",{children:[Number(j.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:g(j.saldo_receber)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:j.status!=="liquidado"&&l.jsx("button",{onClick:C=>{C.stopPropagation(),p(j)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},j.id)})})]},y)})})}),o&&l.jsx(jZ,{billing:c,onClose:()=>s(!1),onSave:x})]})}function CZ(){var m;const{profile:e,signOut:t}=Jr(),r=fs(),[n,a]=w.useState("default"),[i,o]=w.useState(!1),[s,c]=w.useState(!1);w.useEffect(()=>{e&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e]);const u=async()=>{await t(),r("/login")},f=(p=>{if(!p)return[];const x=[];p!=="subscriber"&&x.push({id:"leads",label:"Leads",icon:E6}),["originator","coordinator","manager","admin","super_admin"].includes(p)&&(p==="originator"?(x.push({id:"originator_dashboard",label:"Minhas Comisses",icon:Lm}),x.push({id:"originators_list",label:"Equipe",icon:$1})):x.push({id:"originators_list",label:"Originadores",icon:$1})),p!=="lead"&&(p==="subscriber"?x.push({id:"subscriber_dashboard",label:"Meu Painel",icon:Lm}):x.push({id:"subscribers_list",label:"Assinantes",icon:I6})),p!=="lead"&&p!=="subscriber"&&x.push({id:"consumer_units",label:"Unidades Consumidoras",icon:g6}),x.push({id:"invoices",label:"Faturas",icon:La});const g=["supplier","manager","admin","super_admin"];return g.includes(p)&&(p==="supplier"?x.push({id:"supplier_dashboard",label:"Meu Painel",icon:Lm}):x.push({id:"suppliers_list",label:"Fornecedores",icon:z6})),g.includes(p)&&x.push({id:"power_plants",label:"Usinas",icon:By}),["supplier","manager","admin","super_admin"].includes(p)&&x.push({id:"billing",label:"Billing",icon:Dy}),["admin","super_admin"].includes(p)&&x.push({id:"admin",label:"Gesto de Usurios",icon:IA}),x})(e==null?void 0:e.role),h=()=>{if(!e)return l.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return l.jsx(eB,{});case"subscriber_dashboard":return l.jsx(tB,{});case"originator_dashboard":return l.jsx(rB,{});case"supplier_dashboard":return l.jsx(nB,{});case"leads":return l.jsx(iB,{});case"subscribers_list":return l.jsx(oB,{});case"originators_list":return l.jsx(lB,{});case"suppliers_list":return l.jsx(uB,{});case"power_plants":return l.jsx(wZ,{});case"consumer_units":return l.jsx(SZ,{});case"invoices":return l.jsx(_Z,{});case"billing":return l.jsx(EZ,{});default:return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),l.jsx("p",{children:"Selecione uma opo no menu."})]})}};return l.jsxs("div",{className:"dashboard-container",children:[l.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:l.jsx(O6,{size:24})}),i&&l.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),l.jsxs("aside",{className:`sidebar ${i?"open":""} ${s?"collapsed":""}`,children:[l.jsxs("div",{className:"sidebar-header",style:{justifyContent:s?"center":"space-between"},children:[!s&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),l.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),l.jsx("button",{onClick:()=>c(!s),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:s?l.jsx(e6,{size:20}):l.jsx(J3,{size:20})})]}),l.jsx("nav",{style:{flex:1,overflowY:"auto"},children:l.jsx("ul",{style:{listStyle:"none"},children:f.map(p=>{const x=p.icon;return l.jsx("li",{style:{marginBottom:"0.25rem"},children:l.jsxs("button",{onClick:()=>{a(p.id),o(!1)},title:s?p.label:"",className:`sidebar-link ${n===p.id?"active":""}`,style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(x,{size:20,style:{marginRight:s?0:"0.75rem",flexShrink:0}}),!s&&l.jsx("span",{children:p.label})]})},p.id)})})}),l.jsxs("div",{className:"sidebar-footer",children:[!s&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[l.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),l.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),l.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(w6,{size:20,style:{marginRight:s?0:"0.5rem"}}),!s&&l.jsx("span",{children:"Sair"})]})]})]}),l.jsx("main",{className:"main-content",children:h()})]})}function OZ(){const[e]=EO(),t=fs(),r=e.get("id"),[n,a]=w.useState("simulation"),[i,o]=w.useState(!1),[s,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[m,p]=w.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),x=async()=>{if(m.cep.length>=8)try{o(!0);const y=await Zn(m.cep);if(p(_=>({..._,rua:y.rua||"",bairro:y.bairro||"",cidade:y.cidade||"",uf:y.uf||""})),y.ibge){const _=await lc(y.ibge);d(_)}}catch(y){console.error(y),alert("Erro ao buscar CEP")}finally{o(!1)}},v=async y=>{if(y.preventDefault(),!Oi(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const _=u&&u["Tarifa Concessionaria"]||.85,b=u&&u["Desconto Assinante"]||.1,S=parseFloat(m.consumo)*_,j=S*b;c({contaAtual:S,economiaMensal:j,anual:j*12});const{data:E,error:C}=await I.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:_,desconto_assinante:b,originator_id:r,status:"indicado"}).select().single();if(C)throw C;h(E.id),a("signup")}catch(_){alert("Erro na simulao: "+_.message)}finally{o(!1)}},g=async y=>{if(y.preventDefault(),!Hf(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!Oi(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:_,error:b}=await I.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(b)throw b;const{error:S}=await I.from("consumer_units").insert({subscriber_id:_.id,numero_uc:m.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(S)throw S;f&&await I.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(_){alert("Erro ao finalizar cadastro: "+_.message)}finally{o(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),l.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?l.jsxs("form",{onSubmit:v,children:[l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),l.jsx("input",{value:m.cep,onChange:y=>p({...m,cep:y.target.value}),onBlur:x,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,u&&l.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),l.jsx("input",{value:m.nome,onChange:y=>p({...m,nome:y.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),l.jsx("input",{type:"email",value:m.email,onChange:y=>p({...m,email:y.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),l.jsx("input",{value:m.telefone,onChange:y=>p({...m,telefone:Vo(y.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),l.jsx("input",{type:"number",value:m.consumo,onChange:y=>p({...m,consumo:y.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):l.jsxs("form",{onSubmit:g,children:[s&&l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[l.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",s.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),l.jsx("input",{value:m.cpf_cnpj,onChange:y=>p({...m,cpf_cnpj:qf(y.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),l.jsx("input",{value:m.nome,onChange:y=>p({...m,nome:y.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),l.jsx("input",{type:"email",value:m.email,onChange:y=>p({...m,email:y.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),l.jsx("input",{value:m.telefone,onChange:y=>p({...m,telefone:Vo(y.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),l.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),l.jsx("input",{value:m.numero,onChange:y=>p({...m,numero:y.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),l.jsx("input",{value:m.numero_uc,onChange:y=>p({...m,numero_uc:y.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const AZ=()=>{const{user:e}=Jr();return e?l.jsx(rz,{}):l.jsx(jO,{to:"/login",replace:!0})};function TZ(){return l.jsx(lz,{children:l.jsx(H6,{children:l.jsx(W6,{children:l.jsxs(az,{children:[l.jsx(yn,{path:"/login",element:l.jsx(z3,{})}),l.jsx(yn,{path:"/simulacao",element:l.jsx(K6,{})}),l.jsx(yn,{path:"/cadastro-parceiro",element:l.jsx(Z6,{})}),l.jsx(yn,{path:"/assine",element:l.jsx(J6,{})}),l.jsx(yn,{path:"/originador",element:l.jsx(OZ,{})}),l.jsx(yn,{element:l.jsx(AZ,{}),children:l.jsx(yn,{path:"/dashboard",element:l.jsx(CZ,{})})}),l.jsx(yn,{path:"/",element:l.jsx(jO,{to:"/login",replace:!0})})]})})})})}u5.createRoot(document.getElementById("root")).render(l.jsx(w.StrictMode,{children:l.jsx(TZ,{})}));
