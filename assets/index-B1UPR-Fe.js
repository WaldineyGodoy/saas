var cP=Object.defineProperty;var uP=(e,t,r)=>t in e?cP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Np=(e,t,r)=>uP(e,typeof t!="symbol"?t+"":t,r);function EE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ka(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function OE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var AE={exports:{}},Hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=Symbol.for("react.transitional.element"),fP=Symbol.for("react.fragment");function kE(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:dP,type:e,key:n,ref:t!==void 0?t:null,props:r}}Hh.Fragment=fP;Hh.jsx=kE;Hh.jsxs=kE;AE.exports=Hh;var s=AE.exports,TE={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=Symbol.for("react.transitional.element"),hP=Symbol.for("react.portal"),mP=Symbol.for("react.fragment"),pP=Symbol.for("react.strict_mode"),gP=Symbol.for("react.profiler"),vP=Symbol.for("react.consumer"),yP=Symbol.for("react.context"),bP=Symbol.for("react.forward_ref"),xP=Symbol.for("react.suspense"),wP=Symbol.for("react.memo"),RE=Symbol.for("react.lazy"),_P=Symbol.for("react.activity"),T1=Symbol.iterator;function jP(e){return e===null||typeof e!="object"?null:(e=T1&&e[T1]||e["@@iterator"],typeof e=="function"?e:null)}var NE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DE=Object.assign,PE={};function Ks(e,t,r){this.props=e,this.context=t,this.refs=PE,this.updater=r||NE}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ME(){}ME.prototype=Ks.prototype;function g0(e,t,r){this.props=e,this.context=t,this.refs=PE,this.updater=r||NE}var v0=g0.prototype=new ME;v0.constructor=g0;DE(v0,Ks.prototype);v0.isPureReactComponent=!0;var R1=Array.isArray;function tv(){}var Ue={H:null,A:null,T:null,S:null},zE=Object.prototype.hasOwnProperty;function y0(e,t,r){var n=r.ref;return{$$typeof:p0,type:e,key:t,ref:n!==void 0?n:null,props:r}}function SP(e,t){return y0(e.type,t,e.props)}function b0(e){return typeof e=="object"&&e!==null&&e.$$typeof===p0}function CP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var N1=/\/+/g;function Dp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CP(""+e.key):t.toString(36)}function EP(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(tv,tv):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ko(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case p0:case hP:o=!0;break;case RE:return o=e._init,Ko(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+Dp(e,0):n,R1(a)?(r="",o!=null&&(r=o.replace(N1,"$&/")+"/"),Ko(a,t,r,"",function(u){return u})):a!=null&&(b0(a)&&(a=SP(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(N1,"$&/")+"/")+o)),t.push(a)),1;o=0;var l=n===""?".":n+":";if(R1(e))for(var c=0;c<e.length;c++)n=e[c],i=l+Dp(n,c),o+=Ko(n,t,r,i,a);else if(c=jP(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,i=l+Dp(n,c++),o+=Ko(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return Ko(EP(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Zu(e,t,r){if(e==null)return e;var n=[],a=0;return Ko(e,n,"","",function(i){return t.call(r,i,a++)}),n}function OP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var D1=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},AP={map:Zu,forEach:function(e,t,r){Zu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zu(e,function(){t++}),t},toArray:function(e){return Zu(e,function(t){return t})||[]},only:function(e){if(!b0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Activity=_P;de.Children=AP;de.Component=Ks;de.Fragment=mP;de.Profiler=gP;de.PureComponent=g0;de.StrictMode=pP;de.Suspense=xP;de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;de.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ue.H.useMemoCache(e)}};de.cache=function(e){return function(){return e.apply(null,arguments)}};de.cacheSignal=function(){return null};de.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=DE({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!zE.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];n.children=o}return y0(e.type,a,n)};de.createContext=function(e){return e={$$typeof:yP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:vP,_context:e},e};de.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)zE.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return y0(e,i,a)};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:bP,render:e}};de.isValidElement=b0;de.lazy=function(e){return{$$typeof:RE,_payload:{_status:-1,_result:e},_init:OP}};de.memo=function(e,t){return{$$typeof:wP,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Ue.T,r={};Ue.T=r;try{var n=e(),a=Ue.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(tv,D1)}catch(i){D1(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Ue.T=t}};de.unstable_useCacheRefresh=function(){return Ue.H.useCacheRefresh()};de.use=function(e){return Ue.H.use(e)};de.useActionState=function(e,t,r){return Ue.H.useActionState(e,t,r)};de.useCallback=function(e,t){return Ue.H.useCallback(e,t)};de.useContext=function(e){return Ue.H.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e,t){return Ue.H.useDeferredValue(e,t)};de.useEffect=function(e,t){return Ue.H.useEffect(e,t)};de.useEffectEvent=function(e){return Ue.H.useEffectEvent(e)};de.useId=function(){return Ue.H.useId()};de.useImperativeHandle=function(e,t,r){return Ue.H.useImperativeHandle(e,t,r)};de.useInsertionEffect=function(e,t){return Ue.H.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Ue.H.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Ue.H.useMemo(e,t)};de.useOptimistic=function(e,t){return Ue.H.useOptimistic(e,t)};de.useReducer=function(e,t,r){return Ue.H.useReducer(e,t,r)};de.useRef=function(e){return Ue.H.useRef(e)};de.useState=function(e){return Ue.H.useState(e)};de.useSyncExternalStore=function(e,t,r){return Ue.H.useSyncExternalStore(e,t,r)};de.useTransition=function(){return Ue.H.useTransition()};de.version="19.2.3";TE.exports=de;var g=TE.exports;const Re=ka(g),BE=EE({__proto__:null,default:Re},[g]);var IE={exports:{}},Fh={},LE={exports:{}},$E={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,B){var D=P.length;P.push(B);e:for(;0<D;){var N=D-1>>>1,L=P[N];if(0<a(L,B))P[N]=B,P[D]=L,D=N;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var B=P[0],D=P.pop();if(D!==B){P[0]=D;e:for(var N=0,L=P.length,Y=L>>>1;N<Y;){var G=2*(N+1)-1,ie=P[G],J=G+1,he=P[J];if(0>a(ie,D))J<L&&0>a(he,ie)?(P[N]=he,P[J]=D,N=J):(P[N]=ie,P[G]=D,N=G);else if(J<L&&0>a(he,D))P[N]=he,P[J]=D,N=J;else break e}}return B}function a(P,B){var D=P.sortIndex-B.sortIndex;return D!==0?D:P.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function w(P){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=P)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function j(P){if(x=!1,w(P),!v)if(r(c)!==null)v=!0,C||(C=!0,A());else{var B=r(u);B!==null&&q(j,B.startTime-P)}}var C=!1,S=-1,E=5,k=-1;function O(){return b?!0:!(e.unstable_now()-k<E)}function R(){if(b=!1,C){var P=e.unstable_now();k=P;var B=!0;try{e:{v=!1,x&&(x=!1,p(S),S=-1),h=!0;var D=m;try{t:{for(w(P),f=r(c);f!==null&&!(f.expirationTime>P&&O());){var N=f.callback;if(typeof N=="function"){f.callback=null,m=f.priorityLevel;var L=N(f.expirationTime<=P);if(P=e.unstable_now(),typeof L=="function"){f.callback=L,w(P),B=!0;break t}f===r(c)&&n(c),w(P)}else n(c);f=r(c)}if(f!==null)B=!0;else{var Y=r(u);Y!==null&&q(j,Y.startTime-P),B=!1}}break e}finally{f=null,m=D,h=!1}B=void 0}}finally{B?A():C=!1}}}var A;if(typeof _=="function")A=function(){_(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,T=z.port2;z.port1.onmessage=R,A=function(){T.postMessage(null)}}else A=function(){y(R,0)};function q(P,B){S=y(function(){P(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var D=m;m=B;try{return P()}finally{m=D}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=m;m=P;try{return B()}finally{m=D}},e.unstable_scheduleCallback=function(P,B,D){var N=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?N+D:N):D=N,P){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=D+L,P={id:d++,callback:B,priorityLevel:P,startTime:D,expirationTime:L,sortIndex:-1},D>N?(P.sortIndex=D,t(u,P),r(c)===null&&P===r(u)&&(x?(p(S),S=-1):x=!0,q(j,D-N))):(P.sortIndex=L,t(c,P),v||h||(v=!0,C||(C=!0,A()))),P},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(P){var B=m;return function(){var D=m;m=B;try{return P.apply(this,arguments)}finally{m=D}}}})($E);LE.exports=$E;var kP=LE.exports,UE={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP=g;function qE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Wa(){}var Zt={d:{f:Wa,r:function(){throw Error(qE(522))},D:Wa,C:Wa,L:Wa,m:Wa,X:Wa,S:Wa,M:Wa},p:0,findDOMNode:null},RP=Symbol.for("react.portal");function NP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:RP,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Yl=TP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vh(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Zt;tr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(qE(299));return NP(e,t,null,r)};tr.flushSync=function(e){var t=Yl.T,r=Zt.p;try{if(Yl.T=null,Zt.p=2,e)return e()}finally{Yl.T=t,Zt.p=r,Zt.d.f()}};tr.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Zt.d.C(e,t))};tr.prefetchDNS=function(e){typeof e=="string"&&Zt.d.D(e)};tr.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=Vh(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Zt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Zt.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};tr.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=Vh(t.as,t.crossOrigin);Zt.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Zt.d.M(e)};tr.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=Vh(r,t.crossOrigin);Zt.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};tr.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=Vh(t.as,t.crossOrigin);Zt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Zt.d.m(e)};tr.requestFormReset=function(e){Zt.d.r(e)};tr.unstable_batchedUpdates=function(e,t){return e(t)};tr.useFormState=function(e,t,r){return Yl.H.useFormState(e,t,r)};tr.useFormStatus=function(){return Yl.H.useHostTransitionStatus()};tr.version="19.2.3";function WE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WE)}catch(e){console.error(e)}}WE(),UE.exports=tr;var ri=UE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=kP,HE=g,DP=ri;function F(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function FE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function VE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function KE(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P1(e){if(tu(e)!==e)throw Error(F(188))}function PP(e){var t=e.alternate;if(!t){if(t=tu(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return P1(a),e;if(i===n)return P1(a),t;i=i.sibling}throw Error(F(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function GE(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=GE(e),t!==null)return t;e=e.sibling}return null}var qe=Object.assign,MP=Symbol.for("react.element"),Ju=Symbol.for("react.transitional.element"),Ul=Symbol.for("react.portal"),Qo=Symbol.for("react.fragment"),YE=Symbol.for("react.strict_mode"),rv=Symbol.for("react.profiler"),XE=Symbol.for("react.consumer"),aa=Symbol.for("react.context"),x0=Symbol.for("react.forward_ref"),nv=Symbol.for("react.suspense"),av=Symbol.for("react.suspense_list"),w0=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),iv=Symbol.for("react.activity"),zP=Symbol.for("react.memo_cache_sentinel"),M1=Symbol.iterator;function El(e){return e===null||typeof e!="object"?null:(e=M1&&e[M1]||e["@@iterator"],typeof e=="function"?e:null)}var BP=Symbol.for("react.client.reference");function ov(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===BP?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qo:return"Fragment";case rv:return"Profiler";case YE:return"StrictMode";case nv:return"Suspense";case av:return"SuspenseList";case iv:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ul:return"Portal";case aa:return e.displayName||"Context";case XE:return(e._context.displayName||"Context")+".Consumer";case x0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w0:return t=e.displayName||null,t!==null?t:ov(e.type)||"Memo";case Fa:t=e._payload,e=e._init;try{return ov(e(t))}catch{}}return null}var ql=Array.isArray,le=HE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je=DP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qi={pending:!1,data:null,method:null,action:null},sv=[],es=-1;function Un(e){return{current:e}}function At(e){0>es||(e.current=sv[es],sv[es]=null,es--)}function Be(e,t){es++,sv[es]=e.current,e.current=t}var zn=Un(null),vc=Un(null),ui=Un(null),uf=Un(null);function df(e,t){switch(Be(ui,t),Be(vc,e),Be(zn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Uw(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Uw(t),e=gA(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}At(zn),Be(zn,e)}function Ss(){At(zn),At(vc),At(ui)}function lv(e){e.memoizedState!==null&&Be(uf,e);var t=zn.current,r=gA(t,e.type);t!==r&&(Be(vc,e),Be(zn,r))}function ff(e){vc.current===e&&(At(zn),At(vc)),uf.current===e&&(At(uf),Ac._currentValue=Qi)}var Pp,z1;function Ii(e){if(Pp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pp=t&&t[1]||"",z1=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pp+e+z1}var Mp=!1;function zp(e,t){if(!e||Mp)return"";Mp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var c=o.split(`
`),u=l.split(`
`);for(a=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===c.length||a===u.length)for(n=c.length-1,a=u.length-1;1<=n&&0<=a&&c[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(c[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||c[n]!==u[a]){var d=`
`+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{Mp=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ii(r):""}function IP(e,t){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return e.child!==t&&t!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return zp(e.type,!1);case 11:return zp(e.type.render,!1);case 1:return zp(e.type,!0);case 31:return Ii("Activity");default:return""}}function B1(e){try{var t="",r=null;do t+=IP(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var cv=Object.prototype.hasOwnProperty,_0=vt.unstable_scheduleCallback,Bp=vt.unstable_cancelCallback,LP=vt.unstable_shouldYield,$P=vt.unstable_requestPaint,Ar=vt.unstable_now,UP=vt.unstable_getCurrentPriorityLevel,ZE=vt.unstable_ImmediatePriority,JE=vt.unstable_UserBlockingPriority,hf=vt.unstable_NormalPriority,qP=vt.unstable_LowPriority,QE=vt.unstable_IdlePriority,WP=vt.log,HP=vt.unstable_setDisableYieldValue,ru=null,kr=null;function ni(e){if(typeof WP=="function"&&HP(e),kr&&typeof kr.setStrictMode=="function")try{kr.setStrictMode(ru,e)}catch{}}var Tr=Math.clz32?Math.clz32:KP,FP=Math.log,VP=Math.LN2;function KP(e){return e>>>=0,e===0?32:31-(FP(e)/VP|0)|0}var Qu=256,ed=262144,td=4194304;function Li(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kh(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~i,n!==0?a=Li(n):(o&=l,o!==0?a=Li(o):r||(r=l&~e,r!==0&&(a=Li(r))))):(l=n&~i,l!==0?a=Li(l):o!==0?a=Li(o):r||(r=n&~e,r!==0&&(a=Li(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function nu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function GP(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eO(){var e=td;return td<<=1,!(td&62914560)&&(td=4194304),e}function Ip(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function au(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function YP(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-Tr(r),f=1<<d;l[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}r&=~f}n!==0&&tO(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function tO(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Tr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function rO(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Tr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function nO(e,t){var r=t&-t;return r=r&42?1:j0(r),r&(e.suspendedLanes|t)?0:r}function j0(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function S0(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function aO(){var e=je.p;return e!==0?e:(e=window.event,e===void 0?32:OA(e.type))}function I1(e,t){var r=je.p;try{return je.p=e,t()}finally{je.p=r}}var Oi=Math.random().toString(36).slice(2),It="__reactFiber$"+Oi,dr="__reactProps$"+Oi,Gs="__reactContainer$"+Oi,uv="__reactEvents$"+Oi,XP="__reactListeners$"+Oi,ZP="__reactHandles$"+Oi,L1="__reactResources$"+Oi,iu="__reactMarker$"+Oi;function C0(e){delete e[It],delete e[dr],delete e[uv],delete e[XP],delete e[ZP]}function ts(e){var t=e[It];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gs]||r[It]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vw(e);e!==null;){if(r=e[It])return r;e=Vw(e)}return t}e=r,r=e.parentNode}return null}function Ys(e){if(e=e[It]||e[Gs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Wl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(F(33))}function hs(e){var t=e[L1];return t||(t=e[L1]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ot(e){e[iu]=!0}var iO=new Set,oO={};function _o(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(oO[e]=t,e=0;e<t.length;e++)iO.add(t[e])}var JP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$1={},U1={};function QP(e){return cv.call(U1,e)?!0:cv.call($1,e)?!1:JP.test(e)?U1[e]=!0:($1[e]=!0,!1)}function qd(e,t,r){if(QP(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function rd(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Kn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Hr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e6(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dv(e){if(!e._valueTracker){var t=sO(e)?"checked":"value";e._valueTracker=e6(e,t,""+e[t])}}function lO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sO(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var t6=/[\n"\\]/g;function Kr(e){return e.replace(t6,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fv(e,t,r,n,a,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Hr(t)):e.value!==""+Hr(t)&&(e.value=""+Hr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?hv(e,o,Hr(t)):r!=null?hv(e,o,Hr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Hr(l):e.removeAttribute("name")}function cO(e,t,r,n,a,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){dv(e);return}r=r!=null?""+Hr(r):"",t=t!=null?""+Hr(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),dv(e)}function hv(e,t,r){t==="number"&&mf(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ms(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Hr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function uO(e,t,r){if(t!=null&&(t=""+Hr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Hr(r):""}function dO(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(F(92));if(ql(n)){if(1<n.length)throw Error(F(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Hr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),dv(e)}function Es(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var r6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function q1(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||r6.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function fO(e,t,r){if(t!=null&&typeof t!="object")throw Error(F(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&q1(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&q1(e,i,t[i])}function E0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wd(e){return a6.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ia(){}var mv=null;function O0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rs=null,ps=null;function W1(e){var t=Ys(e);if(t&&(e=t.stateNode)){var r=e[dr]||null;e:switch(e=t.stateNode,t.type){case"input":if(fv(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Kr(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[dr]||null;if(!a)throw Error(F(90));fv(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&lO(n)}break e;case"textarea":uO(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&ms(e,!!r.multiple,t,!1)}}}var Lp=!1;function hO(e,t,r){if(Lp)return e(t,r);Lp=!0;try{var n=e(t);return n}finally{if(Lp=!1,(rs!==null||ps!==null)&&(im(),rs&&(t=rs,e=ps,ps=rs=null,W1(t),e)))for(t=0;t<e.length;t++)W1(e[t])}}function yc(e,t){var r=e.stateNode;if(r===null)return null;var n=r[dr]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pv=!1;if(ma)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){pv=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{pv=!1}var ai=null,A0=null,Hd=null;function mO(){if(Hd)return Hd;var e,t=A0,r=t.length,n,a="value"in ai?ai.value:ai.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Hd=a.slice(e,1<n?1-n:void 0)}function Fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nd(){return!0}function H1(){return!1}function fr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nd:H1,this.isPropagationStopped=H1,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nd)},persist:function(){},isPersistent:nd}),t}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gh=fr(jo),ou=qe({},jo,{view:0,detail:0}),i6=fr(ou),$p,Up,Al,Yh=qe({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Al&&(Al&&e.type==="mousemove"?($p=e.screenX-Al.screenX,Up=e.screenY-Al.screenY):Up=$p=0,Al=e),$p)},movementY:function(e){return"movementY"in e?e.movementY:Up}}),F1=fr(Yh),o6=qe({},Yh,{dataTransfer:0}),s6=fr(o6),l6=qe({},ou,{relatedTarget:0}),qp=fr(l6),c6=qe({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),u6=fr(c6),d6=qe({},jo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f6=fr(d6),h6=qe({},jo,{data:0}),V1=fr(h6),m6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g6[e])?!!t[e]:!1}function k0(){return v6}var y6=qe({},ou,{key:function(e){if(e.key){var t=m6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k0,charCode:function(e){return e.type==="keypress"?Fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b6=fr(y6),x6=qe({},Yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K1=fr(x6),w6=qe({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k0}),_6=fr(w6),j6=qe({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),S6=fr(j6),C6=qe({},Yh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),E6=fr(C6),O6=qe({},jo,{newState:0,oldState:0}),A6=fr(O6),k6=[9,13,27,32],T0=ma&&"CompositionEvent"in window,Xl=null;ma&&"documentMode"in document&&(Xl=document.documentMode);var T6=ma&&"TextEvent"in window&&!Xl,pO=ma&&(!T0||Xl&&8<Xl&&11>=Xl),G1=" ",Y1=!1;function gO(e,t){switch(e){case"keyup":return k6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function R6(e,t){switch(e){case"compositionend":return vO(t);case"keypress":return t.which!==32?null:(Y1=!0,G1);case"textInput":return e=t.data,e===G1&&Y1?null:e;default:return null}}function N6(e,t){if(ns)return e==="compositionend"||!T0&&gO(e,t)?(e=mO(),Hd=A0=ai=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pO&&t.locale!=="ko"?null:t.data;default:return null}}var D6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!D6[e.type]:t==="textarea"}function yO(e,t,r,n){rs?ps?ps.push(n):ps=[n]:rs=n,t=Nf(t,"onChange"),0<t.length&&(r=new Gh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zl=null,bc=null;function P6(e){hA(e,0)}function Xh(e){var t=Wl(e);if(lO(t))return e}function Z1(e,t){if(e==="change")return t}var bO=!1;if(ma){var Wp;if(ma){var Hp="oninput"in document;if(!Hp){var J1=document.createElement("div");J1.setAttribute("oninput","return;"),Hp=typeof J1.oninput=="function"}Wp=Hp}else Wp=!1;bO=Wp&&(!document.documentMode||9<document.documentMode)}function Q1(){Zl&&(Zl.detachEvent("onpropertychange",xO),bc=Zl=null)}function xO(e){if(e.propertyName==="value"&&Xh(bc)){var t=[];yO(t,bc,e,O0(e)),hO(P6,t)}}function M6(e,t,r){e==="focusin"?(Q1(),Zl=t,bc=r,Zl.attachEvent("onpropertychange",xO)):e==="focusout"&&Q1()}function z6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xh(bc)}function B6(e,t){if(e==="click")return Xh(t)}function I6(e,t){if(e==="input"||e==="change")return Xh(t)}function L6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dr=typeof Object.is=="function"?Object.is:L6;function xc(e,t){if(Dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!cv.call(t,a)||!Dr(e[a],t[a]))return!1}return!0}function ew(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tw(e,t){var r=ew(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ew(r)}}function wO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _O(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mf(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mf(e.document)}return t}function R0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $6=ma&&"documentMode"in document&&11>=document.documentMode,as=null,gv=null,Jl=null,vv=!1;function rw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vv||as==null||as!==mf(n)||(n=as,"selectionStart"in n&&R0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jl&&xc(Jl,n)||(Jl=n,n=Nf(gv,"onSelect"),0<n.length&&(t=new Gh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=as)))}function Mi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var is={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},Fp={},jO={};ma&&(jO=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function So(e){if(Fp[e])return Fp[e];if(!is[e])return e;var t=is[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jO)return Fp[e]=t[r];return e}var SO=So("animationend"),CO=So("animationiteration"),EO=So("animationstart"),U6=So("transitionrun"),q6=So("transitionstart"),W6=So("transitioncancel"),OO=So("transitionend"),AO=new Map,yv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yv.push("scrollEnd");function jn(e,t){AO.set(e,t),_o(t,[e])}var pf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qr=[],os=0,N0=0;function Zh(){for(var e=os,t=N0=os=0;t<e;){var r=qr[t];qr[t++]=null;var n=qr[t];qr[t++]=null;var a=qr[t];qr[t++]=null;var i=qr[t];if(qr[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&kO(r,a,i)}}function Jh(e,t,r,n){qr[os++]=e,qr[os++]=t,qr[os++]=r,qr[os++]=n,N0|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function D0(e,t,r,n){return Jh(e,t,r,n),gf(e)}function Co(e,t){return Jh(e,null,null,t),gf(e)}function kO(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-Tr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function gf(e){if(50<sc)throw sc=0,Lv=null,Error(F(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ss={};function H6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,r,n){return new H6(e,t,r,n)}function P0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,t){var r=e.alternate;return r===null?(r=_r(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function TO(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vd(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")P0(e)&&(o=1);else if(typeof e=="string")o=YM(e,r,zn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case iv:return e=_r(31,r,t,a),e.elementType=iv,e.lanes=i,e;case Qo:return eo(r.children,a,i,t);case YE:o=8,a|=24;break;case rv:return e=_r(12,r,t,a|2),e.elementType=rv,e.lanes=i,e;case nv:return e=_r(13,r,t,a),e.elementType=nv,e.lanes=i,e;case av:return e=_r(19,r,t,a),e.elementType=av,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aa:o=10;break e;case XE:o=9;break e;case x0:o=11;break e;case w0:o=14;break e;case Fa:o=16,n=null;break e}o=29,r=Error(F(130,e===null?"null":typeof e,"")),n=null}return t=_r(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function eo(e,t,r,n){return e=_r(7,e,n,t),e.lanes=r,e}function Vp(e,t,r){return e=_r(6,e,null,t),e.lanes=r,e}function RO(e){var t=_r(18,null,null,0);return t.stateNode=e,t}function Kp(e,t,r){return t=_r(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nw=new WeakMap;function Gr(e,t){if(typeof e=="object"&&e!==null){var r=nw.get(e);return r!==void 0?r:(t={value:e,source:t,stack:B1(t)},nw.set(e,t),t)}return{value:e,source:t,stack:B1(t)}}var ls=[],cs=0,vf=null,wc=0,Fr=[],Vr=0,xi=null,Rn=1,Nn="";function Qn(e,t){ls[cs++]=wc,ls[cs++]=vf,vf=e,wc=t}function NO(e,t,r){Fr[Vr++]=Rn,Fr[Vr++]=Nn,Fr[Vr++]=xi,xi=e;var n=Rn;e=Nn;var a=32-Tr(n)-1;n&=~(1<<a),r+=1;var i=32-Tr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Rn=1<<32-Tr(t)+a|r<<a|n,Nn=i+e}else Rn=1<<i|r<<a|n,Nn=e}function M0(e){e.return!==null&&(Qn(e,1),NO(e,1,0))}function z0(e){for(;e===vf;)vf=ls[--cs],ls[cs]=null,wc=ls[--cs],ls[cs]=null;for(;e===xi;)xi=Fr[--Vr],Fr[Vr]=null,Nn=Fr[--Vr],Fr[Vr]=null,Rn=Fr[--Vr],Fr[Vr]=null}function DO(e,t){Fr[Vr++]=Rn,Fr[Vr++]=Nn,Fr[Vr++]=xi,Rn=t.id,Nn=t.overflow,xi=e}var Lt=null,$e=null,ye=!1,di=null,Yr=!1,bv=Error(F(519));function wi(e){var t=Error(F(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _c(Gr(t,e)),bv}function aw(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[It]=e,t[dr]=n,r){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(r=0;r<Ec.length;r++)pe(Ec[r],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),cO(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),dO(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||pA(t.textContent,r)?(n.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),n.onScroll!=null&&pe("scroll",t),n.onScrollEnd!=null&&pe("scrollend",t),n.onClick!=null&&(t.onclick=ia),t=!0):t=!1,t||wi(e,!0)}function iw(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:Lt=Lt.return}}function Bo(e){if(e!==Lt)return!1;if(!ye)return iw(e),ye=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Hv(e.type,e.memoizedProps)),r=!r),r&&$e&&wi(e),iw(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));$e=Fw(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));$e=Fw(e)}else t===27?(t=$e,Ai(e.type)?(e=Gv,Gv=null,$e=e):$e=t):$e=Lt?Jr(e.stateNode.nextSibling):null;return!0}function lo(){$e=Lt=null,ye=!1}function Gp(){var e=di;return e!==null&&(sr===null?sr=e:sr.push.apply(sr,e),di=null),e}function _c(e){di===null?di=[e]:di.push(e)}var xv=Un(null),Eo=null,oa=null;function Xa(e,t,r){Be(xv,t._currentValue),t._currentValue=r}function ua(e){e._currentValue=xv.current,At(xv)}function wv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _v(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),wv(i.return,r,e),n||(o=null);break e}i=l.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(F(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),wv(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function Xs(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(F(387));if(o=o.memoizedProps,o!==null){var l=a.type;Dr(a.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(a===uf.current){if(o=a.alternate,o===null)throw Error(F(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Ac):e=[Ac])}a=a.return}e!==null&&_v(t,e,r,n),t.flags|=262144}function yf(e){for(e=e.firstContext;e!==null;){if(!Dr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function co(e){Eo=e,oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return PO(Eo,e)}function ad(e,t){return Eo===null&&co(e),PO(e,t)}function PO(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},oa===null){if(e===null)throw Error(F(308));oa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oa=oa.next=t;return r}var F6=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},V6=vt.unstable_scheduleCallback,K6=vt.unstable_NormalPriority,ct={$$typeof:aa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function B0(){return{controller:new F6,data:new Map,refCount:0}}function su(e){e.refCount--,e.refCount===0&&V6(K6,function(){e.controller.abort()})}var Ql=null,jv=0,Os=0,gs=null;function G6(e,t){if(Ql===null){var r=Ql=[];jv=0,Os=lb(),gs={status:"pending",value:void 0,then:function(n){r.push(n)}}}return jv++,t.then(ow,ow),t}function ow(){if(--jv===0&&Ql!==null){gs!==null&&(gs.status="fulfilled");var e=Ql;Ql=null,Os=0,gs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Y6(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var sw=le.S;le.S=function(e,t){G2=Ar(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&G6(e,t),sw!==null&&sw(e,t)};var to=Un(null);function I0(){var e=to.current;return e!==null?e:De.pooledCache}function Kd(e,t){t===null?Be(to,to.current):Be(to,t.pool)}function MO(){var e=I0();return e===null?null:{parent:ct._currentValue,pool:e}}var Zs=Error(F(460)),L0=Error(F(474)),Qh=Error(F(542)),bf={then:function(){}};function lw(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zO(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(ia,ia),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uw(e),e;default:if(typeof t.status=="string")t.then(ia,ia);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(F(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uw(e),e}throw ro=t,Zs}}function $i(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ro=r,Zs):r}}var ro=null;function cw(){if(ro===null)throw Error(F(459));var e=ro;return ro=null,e}function uw(e){if(e===Zs||e===Qh)throw Error(F(483))}var vs=null,jc=0;function id(e){var t=jc;return jc+=1,vs===null&&(vs=[]),zO(vs,e,t)}function kl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function od(e,t){throw t.$$typeof===MP?Error(F(525)):(e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function BO(e){function t(y,p){if(e){var _=y.deletions;_===null?(y.deletions=[p],y.flags|=16):_.push(p)}}function r(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function n(y){for(var p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function a(y,p){return y=ca(y,p),y.index=0,y.sibling=null,y}function i(y,p,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<p?(y.flags|=67108866,p):_):(y.flags|=67108866,p)):(y.flags|=1048576,p)}function o(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function l(y,p,_,w){return p===null||p.tag!==6?(p=Vp(_,y.mode,w),p.return=y,p):(p=a(p,_),p.return=y,p)}function c(y,p,_,w){var j=_.type;return j===Qo?d(y,p,_.props.children,w,_.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fa&&$i(j)===p.type)?(p=a(p,_.props),kl(p,_),p.return=y,p):(p=Vd(_.type,_.key,_.props,null,y.mode,w),kl(p,_),p.return=y,p)}function u(y,p,_,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Kp(_,y.mode,w),p.return=y,p):(p=a(p,_.children||[]),p.return=y,p)}function d(y,p,_,w,j){return p===null||p.tag!==7?(p=eo(_,y.mode,w,j),p.return=y,p):(p=a(p,_),p.return=y,p)}function f(y,p,_){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Vp(""+p,y.mode,_),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ju:return _=Vd(p.type,p.key,p.props,null,y.mode,_),kl(_,p),_.return=y,_;case Ul:return p=Kp(p,y.mode,_),p.return=y,p;case Fa:return p=$i(p),f(y,p,_)}if(ql(p)||El(p))return p=eo(p,y.mode,_,null),p.return=y,p;if(typeof p.then=="function")return f(y,id(p),_);if(p.$$typeof===aa)return f(y,ad(y,p),_);od(y,p)}return null}function m(y,p,_,w){var j=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return j!==null?null:l(y,p,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ju:return _.key===j?c(y,p,_,w):null;case Ul:return _.key===j?u(y,p,_,w):null;case Fa:return _=$i(_),m(y,p,_,w)}if(ql(_)||El(_))return j!==null?null:d(y,p,_,w,null);if(typeof _.then=="function")return m(y,p,id(_),w);if(_.$$typeof===aa)return m(y,p,ad(y,_),w);od(y,_)}return null}function h(y,p,_,w,j){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return y=y.get(_)||null,l(p,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ju:return y=y.get(w.key===null?_:w.key)||null,c(p,y,w,j);case Ul:return y=y.get(w.key===null?_:w.key)||null,u(p,y,w,j);case Fa:return w=$i(w),h(y,p,_,w,j)}if(ql(w)||El(w))return y=y.get(_)||null,d(p,y,w,j,null);if(typeof w.then=="function")return h(y,p,_,id(w),j);if(w.$$typeof===aa)return h(y,p,_,ad(p,w),j);od(p,w)}return null}function v(y,p,_,w){for(var j=null,C=null,S=p,E=p=0,k=null;S!==null&&E<_.length;E++){S.index>E?(k=S,S=null):k=S.sibling;var O=m(y,S,_[E],w);if(O===null){S===null&&(S=k);break}e&&S&&O.alternate===null&&t(y,S),p=i(O,p,E),C===null?j=O:C.sibling=O,C=O,S=k}if(E===_.length)return r(y,S),ye&&Qn(y,E),j;if(S===null){for(;E<_.length;E++)S=f(y,_[E],w),S!==null&&(p=i(S,p,E),C===null?j=S:C.sibling=S,C=S);return ye&&Qn(y,E),j}for(S=n(S);E<_.length;E++)k=h(S,y,E,_[E],w),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?E:k.key),p=i(k,p,E),C===null?j=k:C.sibling=k,C=k);return e&&S.forEach(function(R){return t(y,R)}),ye&&Qn(y,E),j}function x(y,p,_,w){if(_==null)throw Error(F(151));for(var j=null,C=null,S=p,E=p=0,k=null,O=_.next();S!==null&&!O.done;E++,O=_.next()){S.index>E?(k=S,S=null):k=S.sibling;var R=m(y,S,O.value,w);if(R===null){S===null&&(S=k);break}e&&S&&R.alternate===null&&t(y,S),p=i(R,p,E),C===null?j=R:C.sibling=R,C=R,S=k}if(O.done)return r(y,S),ye&&Qn(y,E),j;if(S===null){for(;!O.done;E++,O=_.next())O=f(y,O.value,w),O!==null&&(p=i(O,p,E),C===null?j=O:C.sibling=O,C=O);return ye&&Qn(y,E),j}for(S=n(S);!O.done;E++,O=_.next())O=h(S,y,E,O.value,w),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?E:O.key),p=i(O,p,E),C===null?j=O:C.sibling=O,C=O);return e&&S.forEach(function(A){return t(y,A)}),ye&&Qn(y,E),j}function b(y,p,_,w){if(typeof _=="object"&&_!==null&&_.type===Qo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ju:e:{for(var j=_.key;p!==null;){if(p.key===j){if(j=_.type,j===Qo){if(p.tag===7){r(y,p.sibling),w=a(p,_.props.children),w.return=y,y=w;break e}}else if(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fa&&$i(j)===p.type){r(y,p.sibling),w=a(p,_.props),kl(w,_),w.return=y,y=w;break e}r(y,p);break}else t(y,p);p=p.sibling}_.type===Qo?(w=eo(_.props.children,y.mode,w,_.key),w.return=y,y=w):(w=Vd(_.type,_.key,_.props,null,y.mode,w),kl(w,_),w.return=y,y=w)}return o(y);case Ul:e:{for(j=_.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){r(y,p.sibling),w=a(p,_.children||[]),w.return=y,y=w;break e}else{r(y,p);break}else t(y,p);p=p.sibling}w=Kp(_,y.mode,w),w.return=y,y=w}return o(y);case Fa:return _=$i(_),b(y,p,_,w)}if(ql(_))return v(y,p,_,w);if(El(_)){if(j=El(_),typeof j!="function")throw Error(F(150));return _=j.call(_),x(y,p,_,w)}if(typeof _.then=="function")return b(y,p,id(_),w);if(_.$$typeof===aa)return b(y,p,ad(y,_),w);od(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,p!==null&&p.tag===6?(r(y,p.sibling),w=a(p,_),w.return=y,y=w):(r(y,p),w=Vp(_,y.mode,w),w.return=y,y=w),o(y)):r(y,p)}return function(y,p,_,w){try{jc=0;var j=b(y,p,_,w);return vs=null,j}catch(S){if(S===Zs||S===Qh)throw S;var C=_r(29,S,null,y.mode);return C.lanes=w,C.return=y,C}finally{}}}var uo=BO(!0),IO=BO(!1),Va=!1;function $0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=gf(e),kO(e,null,r),t}return Jh(e,n,t,r),gf(e)}function ec(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rO(e,r)}}function Yp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Cv=!1;function tc(){if(Cv){var e=gs;if(e!==null)throw e}}function rc(e,t,r,n){Cv=!1;var a=e.updateQueue;Va=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane&-536870913,h=m!==l.lane;if(h?(ve&m)===m:(n&m)===m){m!==0&&m===Os&&(Cv=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=e,x=l;m=t;var b=r;switch(x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(b,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(b,f,m):v,m==null)break e;f=qe({},f,m);break e;case 2:Va=!0}}m=l.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=a.callbacks,h===null?a.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),ji|=o,e.lanes=o,e.memoizedState=f}}function LO(e,t){if(typeof e!="function")throw Error(F(191,e));e.call(t)}function $O(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)LO(r[e],t)}var As=Un(null),xf=Un(0);function dw(e,t){e=ya,Be(xf,e),Be(As,t),ya=e|t.baseLanes}function Ev(){Be(xf,ya),Be(As,As.current)}function U0(){ya=xf.current,At(As),At(xf)}var Pr=Un(null),Zr=null;function Za(e){var t=e.alternate;Be(rt,rt.current&1),Be(Pr,e),Zr===null&&(t===null||As.current!==null||t.memoizedState!==null)&&(Zr=e)}function Ov(e){Be(rt,rt.current),Be(Pr,e),Zr===null&&(Zr=e)}function UO(e){e.tag===22?(Be(rt,rt.current),Be(Pr,e),Zr===null&&(Zr=e)):Ja()}function Ja(){Be(rt,rt.current),Be(Pr,Pr.current)}function wr(e){At(Pr),Zr===e&&(Zr=null),At(rt)}var rt=Un(0);function wf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Vv(r)||Kv(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=0,fe=null,ke=null,st=null,_f=!1,ys=!1,fo=!1,jf=0,Sc=0,bs=null,X6=0;function Je(){throw Error(F(321))}function q0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dr(e[r],t[r]))return!1;return!0}function W0(e,t,r,n,a,i){return pa=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,le.H=e===null||e.memoizedState===null?y2:eb,fo=!1,i=r(n,a),fo=!1,ys&&(i=WO(t,r,n,a)),qO(e),i}function qO(e){le.H=Cc;var t=ke!==null&&ke.next!==null;if(pa=0,st=ke=fe=null,_f=!1,Sc=0,bs=null,t)throw Error(F(300));e===null||ut||(e=e.dependencies,e!==null&&yf(e)&&(ut=!0))}function WO(e,t,r,n){fe=e;var a=0;do{if(ys&&(bs=null),Sc=0,ys=!1,25<=a)throw Error(F(301));if(a+=1,st=ke=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}le.H=b2,i=t(r,n)}while(ys);return i}function Z6(){var e=le.H,t=e.useState()[0];return t=typeof t.then=="function"?lu(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(fe.flags|=1024),t}function H0(){var e=jf!==0;return jf=0,e}function F0(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function V0(e){if(_f){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_f=!1}pa=0,st=ke=fe=null,ys=!1,Sc=jf=0,bs=null}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?fe.memoizedState=st=e:st=st.next=e,st}function nt(){if(ke===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=st===null?fe.memoizedState:st.next;if(t!==null)st=t,ke=e;else{if(e===null)throw fe.alternate===null?Error(F(467)):Error(F(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},st===null?fe.memoizedState=st=e:st=st.next=e}return st}function em(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lu(e){var t=Sc;return Sc+=1,bs===null&&(bs=[]),e=zO(bs,e,t),t=fe,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,le.H=t===null||t.memoizedState===null?y2:eb),e}function tm(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return lu(e);if(e.$$typeof===aa)return $t(e)}throw Error(F(438,String(e)))}function K0(e){var t=null,r=fe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=fe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=em(),fe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=zP;return t.index++,r}function ga(e,t){return typeof t=="function"?t(e):t}function Gd(e){var t=nt();return G0(t,ke,e)}function G0(e,t,r){var n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var l=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ve&f)===f:(pa&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Os&&(d=!0);else if((pa&m)===m){u=u.next,m===Os&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,o=i):c=c.next=f,fe.lanes|=m,ji|=m;f=u.action,fo&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,o=i):c=c.next=m,fe.lanes|=f,ji|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=l,!Dr(i,e.memoizedState)&&(ut=!0,d&&(r=gs,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Xp(e){var t=nt(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Dr(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function HO(e,t,r){var n=fe,a=nt(),i=ye;if(i){if(r===void 0)throw Error(F(407));r=r()}else r=t();var o=!Dr((ke||a).memoizedState,r);if(o&&(a.memoizedState=r,ut=!0),a=a.queue,Y0(KO.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,ks(9,{destroy:void 0},VO.bind(null,n,a,r,t),null),De===null)throw Error(F(349));i||pa&127||FO(n,t,r)}return r}function FO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fe.updateQueue,t===null?(t=em(),fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function VO(e,t,r,n){t.value=r,t.getSnapshot=n,GO(t)&&YO(e)}function KO(e,t,r){return r(function(){GO(t)&&YO(e)})}function GO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dr(e,r)}catch{return!0}}function YO(e){var t=Co(e,2);t!==null&&ur(t,e,2)}function Av(e){var t=Gt();if(typeof e=="function"){var r=e;if(e=r(),fo){ni(!0);try{r()}finally{ni(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t}function XO(e,t,r,n){return e.baseState=r,G0(e,ke,typeof n=="function"?n:ga)}function J6(e,t,r,n,a){if(nm(e))throw Error(F(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};le.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,ZO(t,i)):(i.next=r.next,t.pending=r.next=i)}}function ZO(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=le.T,o={};le.T=o;try{var l=r(a,n),c=le.S;c!==null&&c(o,l),fw(e,t,l)}catch(u){kv(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),le.T=i}}else try{i=r(a,n),fw(e,t,i)}catch(u){kv(e,t,u)}}function fw(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){hw(e,t,n)},function(n){return kv(e,t,n)}):hw(e,t,r)}function hw(e,t,r){t.status="fulfilled",t.value=r,JO(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,ZO(e,r)))}function kv(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,JO(t),t=t.next;while(t!==n)}e.action=null}function JO(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function QO(e,t){return t}function mw(e,t){if(ye){var r=De.formState;if(r!==null){e:{var n=fe;if(ye){if($e){t:{for(var a=$e,i=Yr;a.nodeType!==8;){if(!i){a=null;break t}if(a=Jr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){$e=Jr(a.nextSibling),n=a.data==="F!";break e}}wi(n)}n=!1}n&&(t=r[0])}}return r=Gt(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QO,lastRenderedState:t},r.queue=n,r=p2.bind(null,fe,n),n.dispatch=r,n=Av(!1),i=Q0.bind(null,fe,!1,n.queue),n=Gt(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=J6.bind(null,fe,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function pw(e){var t=nt();return e2(t,ke,e)}function e2(e,t,r){if(t=G0(e,t,QO)[0],e=Gd(ga)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=lu(t)}catch(o){throw o===Zs?Qh:o}else n=t;t=nt();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(fe.flags|=2048,ks(9,{destroy:void 0},Q6.bind(null,a,r),null)),[n,i,e]}function Q6(e,t){e.action=t}function gw(e){var t=nt(),r=ke;if(r!==null)return e2(t,r,e);nt(),t=t.memoizedState,r=nt();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function ks(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=fe.updateQueue,t===null&&(t=em(),fe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function t2(){return nt().memoizedState}function Yd(e,t,r,n){var a=Gt();fe.flags|=e,a.memoizedState=ks(1|t,{destroy:void 0},r,n===void 0?null:n)}function rm(e,t,r,n){var a=nt();n=n===void 0?null:n;var i=a.memoizedState.inst;ke!==null&&n!==null&&q0(n,ke.memoizedState.deps)?a.memoizedState=ks(t,i,r,n):(fe.flags|=e,a.memoizedState=ks(1|t,i,r,n))}function vw(e,t){Yd(8390656,8,e,t)}function Y0(e,t){rm(2048,8,e,t)}function eM(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=em(),fe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function r2(e){var t=nt().memoizedState;return eM({ref:t,nextImpl:e}),function(){if(_e&2)throw Error(F(440));return t.impl.apply(void 0,arguments)}}function n2(e,t){return rm(4,2,e,t)}function a2(e,t){return rm(4,4,e,t)}function i2(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o2(e,t,r){r=r!=null?r.concat([e]):null,rm(4,4,i2.bind(null,t,e),r)}function X0(){}function s2(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&q0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function l2(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&q0(t,n[1]))return n[0];if(n=e(),fo){ni(!0);try{e()}finally{ni(!1)}}return r.memoizedState=[n,t],n}function Z0(e,t,r){return r===void 0||pa&1073741824&&!(ve&261930)?e.memoizedState=t:(e.memoizedState=r,e=X2(),fe.lanes|=e,ji|=e,r)}function c2(e,t,r,n){return Dr(r,t)?r:As.current!==null?(e=Z0(e,r,n),Dr(e,t)||(ut=!0),e):!(pa&42)||pa&1073741824&&!(ve&261930)?(ut=!0,e.memoizedState=r):(e=X2(),fe.lanes|=e,ji|=e,t)}function u2(e,t,r,n,a){var i=je.p;je.p=i!==0&&8>i?i:8;var o=le.T,l={};le.T=l,Q0(e,!1,t,r);try{var c=a(),u=le.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Y6(c,n);nc(e,t,d,Rr(e))}else nc(e,t,n,Rr(e))}catch(f){nc(e,t,{then:function(){},status:"rejected",reason:f},Rr())}finally{je.p=i,o!==null&&l.types!==null&&(o.types=l.types),le.T=o}}function tM(){}function Tv(e,t,r,n){if(e.tag!==5)throw Error(F(476));var a=d2(e).queue;u2(e,a,t,Qi,r===null?tM:function(){return f2(e),r(n)})}function d2(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Qi,baseState:Qi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:Qi},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function f2(e){var t=d2(e);t.next===null&&(t=e.alternate.memoizedState),nc(e,t.next.queue,{},Rr())}function J0(){return $t(Ac)}function h2(){return nt().memoizedState}function m2(){return nt().memoizedState}function rM(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Rr();e=fi(r);var n=hi(t,e,r);n!==null&&(ur(n,t,r),ec(n,t,r)),t={cache:B0()},e.payload=t;return}t=t.return}}function nM(e,t,r){var n=Rr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},nm(e)?g2(t,r):(r=D0(e,t,r,n),r!==null&&(ur(r,e,n),v2(r,t,n)))}function p2(e,t,r){var n=Rr();nc(e,t,r,n)}function nc(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(nm(e))g2(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Dr(l,o))return Jh(e,t,a,0),De===null&&Zh(),!1}catch{}finally{}if(r=D0(e,t,a,n),r!==null)return ur(r,e,n),v2(r,t,n),!0}return!1}function Q0(e,t,r,n){if(n={lane:2,revertLane:lb(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},nm(e)){if(t)throw Error(F(479))}else t=D0(e,r,n,2),t!==null&&ur(t,e,2)}function nm(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function g2(e,t){ys=_f=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function v2(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rO(e,r)}}var Cc={readContext:$t,use:tm,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Cc.useEffectEvent=Je;var y2={readContext:$t,use:tm,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:vw,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Yd(4194308,4,i2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yd(4194308,4,e,t)},useInsertionEffect:function(e,t){Yd(4,2,e,t)},useMemo:function(e,t){var r=Gt();t=t===void 0?null:t;var n=e();if(fo){ni(!0);try{e()}finally{ni(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Gt();if(r!==void 0){var a=r(t);if(fo){ni(!0);try{r(t)}finally{ni(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=nM.bind(null,fe,e),[n.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:function(e){e=Av(e);var t=e.queue,r=p2.bind(null,fe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:X0,useDeferredValue:function(e,t){var r=Gt();return Z0(r,e,t)},useTransition:function(){var e=Av(!1);return e=u2.bind(null,fe,e.queue,!0,!1),Gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=fe,a=Gt();if(ye){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),De===null)throw Error(F(349));ve&127||FO(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,vw(KO.bind(null,n,i,e),[e]),n.flags|=2048,ks(9,{destroy:void 0},VO.bind(null,n,i,r,t),null),r},useId:function(){var e=Gt(),t=De.identifierPrefix;if(ye){var r=Nn,n=Rn;r=(n&~(1<<32-Tr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=jf++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=X6++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:J0,useFormState:mw,useActionState:mw,useOptimistic:function(e){var t=Gt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Q0.bind(null,fe,!0,r),r.dispatch=t,[e,t]},useMemoCache:K0,useCacheRefresh:function(){return Gt().memoizedState=rM.bind(null,fe)},useEffectEvent:function(e){var t=Gt(),r={impl:e};return t.memoizedState=r,function(){if(_e&2)throw Error(F(440));return r.impl.apply(void 0,arguments)}}},eb={readContext:$t,use:tm,useCallback:s2,useContext:$t,useEffect:Y0,useImperativeHandle:o2,useInsertionEffect:n2,useLayoutEffect:a2,useMemo:l2,useReducer:Gd,useRef:t2,useState:function(){return Gd(ga)},useDebugValue:X0,useDeferredValue:function(e,t){var r=nt();return c2(r,ke.memoizedState,e,t)},useTransition:function(){var e=Gd(ga)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:lu(e),t]},useSyncExternalStore:HO,useId:h2,useHostTransitionStatus:J0,useFormState:pw,useActionState:pw,useOptimistic:function(e,t){var r=nt();return XO(r,ke,e,t)},useMemoCache:K0,useCacheRefresh:m2};eb.useEffectEvent=r2;var b2={readContext:$t,use:tm,useCallback:s2,useContext:$t,useEffect:Y0,useImperativeHandle:o2,useInsertionEffect:n2,useLayoutEffect:a2,useMemo:l2,useReducer:Xp,useRef:t2,useState:function(){return Xp(ga)},useDebugValue:X0,useDeferredValue:function(e,t){var r=nt();return ke===null?Z0(r,e,t):c2(r,ke.memoizedState,e,t)},useTransition:function(){var e=Xp(ga)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:lu(e),t]},useSyncExternalStore:HO,useId:h2,useHostTransitionStatus:J0,useFormState:gw,useActionState:gw,useOptimistic:function(e,t){var r=nt();return ke!==null?XO(r,ke,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:K0,useCacheRefresh:m2};b2.useEffectEvent=r2;function Zp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rv={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Rr(),a=fi(n);a.payload=t,r!=null&&(a.callback=r),t=hi(e,a,n),t!==null&&(ur(t,e,n),ec(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Rr(),a=fi(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=hi(e,a,n),t!==null&&(ur(t,e,n),ec(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rr(),n=fi(r);n.tag=2,t!=null&&(n.callback=t),t=hi(e,n,r),t!==null&&(ur(t,e,r),ec(t,e,r))}};function yw(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!xc(r,n)||!xc(a,i):!0}function bw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rv.enqueueReplaceState(t,t.state,null)}function ho(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=qe({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function x2(e){pf(e)}function w2(e){console.error(e)}function _2(e){pf(e)}function Sf(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function xw(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Nv(e,t,r){return r=fi(r),r.tag=3,r.payload={element:null},r.callback=function(){Sf(e,t)},r}function j2(e){return e=fi(e),e.tag=3,e}function S2(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){xw(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){xw(t,r,n),typeof a!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function aM(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&Xs(t,r,a,!0),r=Pr.current,r!==null){switch(r.tag){case 31:case 13:return Zr===null?kf():r.alternate===null&&et===0&&(et=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===bf?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),lg(e,n,a)),!1;case 22:return r.flags|=65536,n===bf?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),lg(e,n,a)),!1}throw Error(F(435,r.tag))}return lg(e,n,a),kf(),!1}if(ye)return t=Pr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==bv&&(e=Error(F(422),{cause:n}),_c(Gr(e,r)))):(n!==bv&&(t=Error(F(423),{cause:n}),_c(Gr(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Gr(n,r),a=Nv(e.stateNode,n,a),Yp(e,a),et!==4&&(et=2)),!1;var i=Error(F(520),{cause:n});if(i=Gr(i,r),oc===null?oc=[i]:oc.push(i),et!==4&&(et=2),t===null)return!0;n=Gr(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=Nv(r.stateNode,n,e),Yp(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(mi===null||!mi.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=j2(a),S2(a,e,r,n),Yp(r,a),!1}r=r.return}while(r!==null);return!1}var tb=Error(F(461)),ut=!1;function Mt(e,t,r,n){t.child=e===null?IO(t,null,r,n):uo(t,e.child,r,n)}function ww(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}else o=n;return co(t),n=W0(e,t,r,o,i,a),l=H0(),e!==null&&!ut?(F0(e,t,a),va(e,t,a)):(ye&&l&&M0(t),t.flags|=1,Mt(e,t,n,a),t.child)}function _w(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!P0(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,C2(e,t,i,n,a)):(e=Vd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!rb(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:xc,r(o,n)&&e.ref===t.ref)return va(e,t,a)}return t.flags|=1,e=ca(i,n),e.ref=t.ref,e.return=t,t.child=e}function C2(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(xc(i,n)&&e.ref===t.ref)if(ut=!1,t.pendingProps=n=i,rb(e,a))e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,va(e,t,a)}return Dv(e,t,r,n,a)}function E2(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return jw(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kd(t,i!==null?i.cachePool:null),i!==null?dw(t,i):Ev(),UO(t);else return n=t.lanes=536870912,jw(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(Kd(t,i.cachePool),dw(t,i),Ja(),t.memoizedState=null):(e!==null&&Kd(t,null),Ev(),Ja());return Mt(e,t,a,r),t.child}function Hl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function jw(e,t,r,n,a){var i=I0();return i=i===null?null:{parent:ct._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&Kd(t,null),Ev(),UO(t),e!==null&&Xs(e,t,n,!0),t.childLanes=a,null}function Xd(e,t){return t=Cf({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sw(e,t,r){return uo(t,e.child,null,r),e=Xd(t,t.pendingProps),e.flags|=2,wr(t),t.memoizedState=null,e}function iM(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(n.mode==="hidden")return e=Xd(t,n),t.lanes=536870912,Hl(null,e);if(Ov(t),(e=$e)?(e=yA(e,Yr),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi!==null?{id:Rn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},r=RO(e),r.return=t,t.child=r,Lt=t,$e=null)):e=null,e===null)throw wi(t);return t.lanes=536870912,null}return Xd(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Ov(t),a)if(t.flags&256)t.flags&=-257,t=Sw(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(F(558));else if(ut||Xs(e,t,r,!1),a=(r&e.childLanes)!==0,ut||a){if(n=De,n!==null&&(o=nO(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,Co(e,o),ur(n,e,o),tb;kf(),t=Sw(e,t,r)}else e=i.treeContext,$e=Jr(o.nextSibling),Lt=t,ye=!0,di=null,Yr=!1,e!==null&&DO(t,e),t=Xd(t,n),t.flags|=4096;return t}return e=ca(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zd(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(F(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Dv(e,t,r,n,a){return co(t),r=W0(e,t,r,n,void 0,a),n=H0(),e!==null&&!ut?(F0(e,t,a),va(e,t,a)):(ye&&n&&M0(t),t.flags|=1,Mt(e,t,r,a),t.child)}function Cw(e,t,r,n,a,i){return co(t),t.updateQueue=null,r=WO(t,n,r,a),qO(e),n=H0(),e!==null&&!ut?(F0(e,t,i),va(e,t,i)):(ye&&n&&M0(t),t.flags|=1,Mt(e,t,r,i),t.child)}function Ew(e,t,r,n,a){if(co(t),t.stateNode===null){var i=ss,o=r.contextType;typeof o=="object"&&o!==null&&(i=$t(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Rv,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},$0(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?$t(o):ss,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(Zp(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Rv.enqueueReplaceState(i,i.state,null),rc(t,n,i,a),tc(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,c=ho(r,l);i.props=c;var u=i.context,d=r.contextType;o=ss,typeof d=="object"&&d!==null&&(o=$t(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&bw(t,i,n,o),Va=!1;var m=t.memoizedState;i.state=m,rc(t,n,i,a),tc(),u=t.memoizedState,l||m!==u||Va?(typeof f=="function"&&(Zp(t,r,f,n),u=t.memoizedState),(c=Va||yw(t,r,c,n,m,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Sv(e,t),o=t.memoizedProps,d=ho(r,o),i.props=d,f=t.pendingProps,m=i.context,u=r.contextType,c=ss,typeof u=="object"&&u!==null&&(c=$t(u)),l=r.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||m!==c)&&bw(t,i,n,c),Va=!1,m=t.memoizedState,i.state=m,rc(t,n,i,a),tc();var h=t.memoizedState;o!==f||m!==h||Va||e!==null&&e.dependencies!==null&&yf(e.dependencies)?(typeof l=="function"&&(Zp(t,r,l,n),h=t.memoizedState),(d=Va||yw(t,r,d,n,m,h,c)||e!==null&&e.dependencies!==null&&yf(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),i.props=n,i.state=h,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Zd(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=uo(t,e.child,null,a),t.child=uo(t,null,r,a)):Mt(e,t,r,a),t.memoizedState=i.state,e=t.child):e=va(e,t,a),e}function Ow(e,t,r,n){return lo(),t.flags|=256,Mt(e,t,r,n),t.child}var Jp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qp(e){return{baseLanes:e,cachePool:MO()}}function eg(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Er),e}function O2(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(a?Za(t):Ja(),(e=$e)?(e=yA(e,Yr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi!==null?{id:Rn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},r=RO(e),r.return=t,t.child=r,Lt=t,$e=null)):e=null,e===null)throw wi(t);return Kv(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,a?(Ja(),a=t.mode,l=Cf({mode:"hidden",children:l},a),n=eo(n,a,r,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=Qp(r),n.childLanes=eg(e,o,r),t.memoizedState=Jp,Hl(null,n)):(Za(t),Pv(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)t.flags&256?(Za(t),t.flags&=-257,t=tg(e,t,r)):t.memoizedState!==null?(Ja(),t.child=e.child,t.flags|=128,t=null):(Ja(),l=n.fallback,a=t.mode,n=Cf({mode:"visible",children:n.children},a),l=eo(l,a,r,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,uo(t,e.child,null,r),n=t.child,n.memoizedState=Qp(r),n.childLanes=eg(e,o,r),t.memoizedState=Jp,t=Hl(null,n));else if(Za(t),Kv(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(F(419)),n.stack="",n.digest=o,_c({value:n,source:null,stack:null}),t=tg(e,t,r)}else if(ut||Xs(e,t,r,!1),o=(r&e.childLanes)!==0,ut||o){if(o=De,o!==null&&(n=nO(o,r),n!==0&&n!==c.retryLane))throw c.retryLane=n,Co(e,n),ur(o,e,n),tb;Vv(l)||kf(),t=tg(e,t,r)}else Vv(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,$e=Jr(l.nextSibling),Lt=t,ye=!0,di=null,Yr=!1,e!==null&&DO(t,e),t=Pv(t,n.children),t.flags|=4096);return t}return a?(Ja(),l=n.fallback,a=t.mode,c=e.child,u=c.sibling,n=ca(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=ca(u,l):(l=eo(l,a,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,Hl(null,n),n=t.child,l=e.child.memoizedState,l===null?l=Qp(r):(a=l.cachePool,a!==null?(c=ct._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=MO(),l={baseLanes:l.baseLanes|r,cachePool:a}),n.memoizedState=l,n.childLanes=eg(e,o,r),t.memoizedState=Jp,Hl(e.child,n)):(Za(t),r=e.child,e=r.sibling,r=ca(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function Pv(e,t){return t=Cf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cf(e,t){return e=_r(22,e,null,t),e.lanes=0,e}function tg(e,t,r){return uo(t,e.child,null,r),e=Pv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Aw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wv(e.return,t,r)}function rg(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function A2(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=rt.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,Be(rt,o),Mt(e,t,n,r),n=ye?wc:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Aw(e,r,t);else if(e.tag===19)Aw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&wf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rg(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&wf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rg(t,!0,r,null,i,n);break;case"together":rg(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function va(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(r&t.childLanes))if(e!==null){if(Xs(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=ca(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ca(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rb(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&yf(e)))}function oM(e,t,r){switch(t.tag){case 3:df(t,t.stateNode.containerInfo),Xa(t,ct,e.memoizedState.cache),lo();break;case 27:case 5:lv(t);break;case 4:df(t,t.stateNode.containerInfo);break;case 10:Xa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ov(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Za(t),t.flags|=128,null):r&t.child.childLanes?O2(e,t,r):(Za(t),e=va(e,t,r),e!==null?e.sibling:null);Za(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(Xs(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return A2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Be(rt,rt.current),n)break;return null;case 22:return t.lanes=0,E2(e,t,r,t.pendingProps);case 24:Xa(t,ct,e.memoizedState.cache)}return va(e,t,r)}function k2(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)ut=!0;else{if(!rb(e,r)&&!(t.flags&128))return ut=!1,oM(e,t,r);ut=!!(e.flags&131072)}else ut=!1,ye&&t.flags&1048576&&NO(t,wc,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=$i(t.elementType),t.type=e,typeof e=="function")P0(e)?(n=ho(e,n),t.tag=1,t=Ew(null,t,e,n,r)):(t.tag=0,t=Dv(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===x0){t.tag=11,t=ww(null,t,e,n,r);break e}else if(a===w0){t.tag=14,t=_w(null,t,e,n,r);break e}}throw t=ov(e)||e,Error(F(306,t,""))}}return t;case 0:return Dv(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=ho(n,t.pendingProps),Ew(e,t,n,a,r);case 3:e:{if(df(t,t.stateNode.containerInfo),e===null)throw Error(F(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,Sv(e,t),rc(t,n,null,r);var o=t.memoizedState;if(n=o.cache,Xa(t,ct,n),n!==i.cache&&_v(t,[ct],r,!0),tc(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Ow(e,t,n,r);break e}else if(n!==a){a=Gr(Error(F(424)),t),_c(a),t=Ow(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Jr(e.firstChild),Lt=t,ye=!0,di=null,Yr=!0,r=IO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(lo(),n===a){t=va(e,t,r);break e}Mt(e,t,n,r)}t=t.child}return t;case 26:return Zd(e,t),e===null?(r=Gw(t.type,null,t.pendingProps,null))?t.memoizedState=r:ye||(r=t.type,e=t.pendingProps,n=Df(ui.current).createElement(r),n[It]=t,n[dr]=e,qt(n,r,e),Ot(n),t.stateNode=n):t.memoizedState=Gw(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return lv(t),e===null&&ye&&(n=t.stateNode=bA(t.type,t.pendingProps,ui.current),Lt=t,Yr=!0,a=$e,Ai(t.type)?(Gv=a,$e=Jr(n.firstChild)):$e=a),Mt(e,t,t.pendingProps.children,r),Zd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((a=n=$e)&&(n=zM(n,t.type,t.pendingProps,Yr),n!==null?(t.stateNode=n,Lt=t,$e=Jr(n.firstChild),Yr=!1,a=!0):a=!1),a||wi(t)),lv(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,Hv(a,i)?n=null:o!==null&&Hv(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=W0(e,t,Z6,null,null,r),Ac._currentValue=a),Zd(e,t),Mt(e,t,n,r),t.child;case 6:return e===null&&ye&&((e=r=$e)&&(r=BM(r,t.pendingProps,Yr),r!==null?(t.stateNode=r,Lt=t,$e=null,e=!0):e=!1),e||wi(t)),null;case 13:return O2(e,t,r);case 4:return df(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uo(t,null,n,r):Mt(e,t,n,r),t.child;case 11:return ww(e,t,t.type,t.pendingProps,r);case 7:return Mt(e,t,t.pendingProps,r),t.child;case 8:return Mt(e,t,t.pendingProps.children,r),t.child;case 12:return Mt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,Xa(t,t.type,n.value),Mt(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,co(t),a=$t(a),n=n(a),t.flags|=1,Mt(e,t,n,r),t.child;case 14:return _w(e,t,t.type,t.pendingProps,r);case 15:return C2(e,t,t.type,t.pendingProps,r);case 19:return A2(e,t,r);case 31:return iM(e,t,r);case 22:return E2(e,t,r,t.pendingProps);case 24:return co(t),n=$t(ct),e===null?(a=I0(),a===null&&(a=De,i=B0(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},$0(t),Xa(t,ct,a)):(e.lanes&r&&(Sv(e,t),rc(t,null,null,r),tc()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Xa(t,ct,n)):(n=i.cache,Xa(t,ct,n),n!==a.cache&&_v(t,[ct],r,!0))),Mt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(F(156,t.tag))}function Gn(e){e.flags|=4}function ng(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(Q2())e.flags|=8192;else throw ro=bf,L0}else e.flags&=-16777217}function kw(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!_A(t))if(Q2())e.flags|=8192;else throw ro=bf,L0}function sd(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?eO():536870912,e.lanes|=t,Ts|=t)}function Tl(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sM(e,t,r){var n=t.pendingProps;switch(z0(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ua(ct),Ss(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bo(t)?Gn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gp())),Ie(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(Gn(t),i!==null?(Ie(t),kw(t,i)):(Ie(t),ng(t,a,null,n,r))):i?i!==e.memoizedState?(Gn(t),Ie(t),kw(t,i)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Gn(t),Ie(t),ng(t,a,e,n,r)),null;case 27:if(ff(t),r=ui.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Gn(t);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Ie(t),null}e=zn.current,Bo(t)?aw(t):(e=bA(a,n,r),t.stateNode=e,Gn(t))}return Ie(t),null;case 5:if(ff(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Gn(t);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Ie(t),null}if(i=zn.current,Bo(t))aw(t);else{var o=Df(ui.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[It]=t,i[dr]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(qt(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Gn(t)}}return Ie(t),ng(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Gn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(e=ui.current,Bo(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=Lt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[It]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||pA(e.nodeValue,r)),e||wi(t,!0)}else e=Df(e).createTextNode(n),e[It]=t,t.stateNode=e}return Ie(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Bo(t),r!==null){if(e===null){if(!n)throw Error(F(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(557));e[It]=t}else lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else r=Gp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(wr(t),t):(wr(t),null);if(t.flags&128)throw Error(F(558))}return Ie(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Bo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[It]=t}else lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),a=!1}else a=Gp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(wr(t),t):(wr(t),null)}return wr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),sd(t,t.updateQueue),Ie(t),null);case 4:return Ss(),e===null&&cb(t.stateNode.containerInfo),Ie(t),null;case 10:return ua(t.type),Ie(t),null;case 19:if(At(rt),n=t.memoizedState,n===null)return Ie(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Tl(n,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=wf(e),i!==null){for(t.flags|=128,Tl(n,!1),e=i.updateQueue,t.updateQueue=e,sd(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)TO(r,e),r=r.sibling;return Be(rt,rt.current&1|2),ye&&Qn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Ar()>Of&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304)}else{if(!a)if(e=wf(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,sd(t,e),Tl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ye)return Ie(t),null}else 2*Ar()-n.renderingStartTime>Of&&r!==536870912&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Ar(),e.sibling=null,r=rt.current,Be(rt,a?r&1|2:r&1),ye&&Qn(t,n.treeForkCount),e):(Ie(t),null);case 22:case 23:return wr(t),U0(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),r=t.updateQueue,r!==null&&sd(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&At(to),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ua(ct),Ie(t),null;case 25:return null;case 30:return null}throw Error(F(156,t.tag))}function lM(e,t){switch(z0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(ct),Ss(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ff(t),null;case 31:if(t.memoizedState!==null){if(wr(t),t.alternate===null)throw Error(F(340));lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(wr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return At(rt),null;case 4:return Ss(),null;case 10:return ua(t.type),null;case 22:case 23:return wr(t),U0(),e!==null&&At(to),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ua(ct),null;case 25:return null;default:return null}}function T2(e,t){switch(z0(t),t.tag){case 3:ua(ct),Ss();break;case 26:case 27:case 5:ff(t);break;case 4:Ss();break;case 31:t.memoizedState!==null&&wr(t);break;case 13:wr(t);break;case 19:At(rt);break;case 10:ua(t.type);break;case 22:case 23:wr(t),U0(),e!==null&&At(to);break;case 24:ua(ct)}}function cu(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(l){Ee(t,t.return,l)}}function _i(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,a=t;var c=r,u=l;try{u()}catch(d){Ee(a,c,d)}}}n=n.next}while(n!==i)}}catch(d){Ee(t,t.return,d)}}function R2(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{$O(t,r)}catch(n){Ee(e,e.return,n)}}}function N2(e,t,r){r.props=ho(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Ee(e,t,n)}}function ac(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){Ee(e,t,a)}}function Dn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){Ee(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){Ee(e,t,a)}else r.current=null}function D2(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){Ee(e,e.return,a)}}function ag(e,t,r){try{var n=e.stateNode;TM(n,e.type,r,t),n[dr]=t}catch(a){Ee(e,e.return,a)}}function P2(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ai(e.type)||e.tag===4}function ig(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ia));else if(n!==4&&(n===27&&Ai(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Mv(e,t,r),e=e.sibling;e!==null;)Mv(e,t,r),e=e.sibling}function Ef(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&Ai(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ef(e,t,r),e=e.sibling;e!==null;)Ef(e,t,r),e=e.sibling}function M2(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);qt(t,n,r),t[It]=e,t[dr]=r}catch(i){Ee(e,e.return,i)}}var ta=!1,lt=!1,og=!1,Tw=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function cM(e,t){if(e=e.containerInfo,qv=Bf,e=_O(e),R0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===a&&(l=o),m===i&&++d===n&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wv={focusedElem:e,selectionRange:r},Bf=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){switch(t=Ct,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var v=ho(r.type,a);e=n.getSnapshotBeforeUpdate(v,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){Ee(r,r.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Fv(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fv(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(F(163))}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}}function z2(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Xn(e,r),n&4&&cu(5,r);break;case 1:if(Xn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){Ee(r,r.return,o)}else{var a=ho(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ee(r,r.return,o)}}n&64&&R2(r),n&512&&ac(r,r.return);break;case 3:if(Xn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{$O(e,t)}catch(o){Ee(r,r.return,o)}}break;case 27:t===null&&n&4&&M2(r);case 26:case 5:Xn(e,r),t===null&&n&4&&D2(r),n&512&&ac(r,r.return);break;case 12:Xn(e,r);break;case 31:Xn(e,r),n&4&&L2(e,r);break;case 13:Xn(e,r),n&4&&$2(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=yM.bind(null,r),IM(e,r))));break;case 22:if(n=r.memoizedState!==null||ta,!n){t=t!==null&&t.memoizedState!==null||lt,a=ta;var i=lt;ta=n,(lt=t)&&!i?Zn(e,r,(r.subtreeFlags&8772)!==0):Xn(e,r),ta=a,lt=i}break;case 30:break;default:Xn(e,r)}}function B2(e){var t=e.alternate;t!==null&&(e.alternate=null,B2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&C0(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,or=!1;function Yn(e,t,r){for(r=r.child;r!==null;)I2(e,t,r),r=r.sibling}function I2(e,t,r){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(ru,r)}catch{}switch(r.tag){case 26:lt||Dn(r,t),Yn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:lt||Dn(r,t);var n=He,a=or;Ai(r.type)&&(He=r.stateNode,or=!1),Yn(e,t,r),lc(r.stateNode),He=n,or=a;break;case 5:lt||Dn(r,t);case 6:if(n=He,a=or,He=null,Yn(e,t,r),He=n,or=a,He!==null)if(or)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(r.stateNode)}catch(i){Ee(r,t,i)}else try{He.removeChild(r.stateNode)}catch(i){Ee(r,t,i)}break;case 18:He!==null&&(or?(e=He,Ww(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ps(e)):Ww(He,r.stateNode));break;case 4:n=He,a=or,He=r.stateNode.containerInfo,or=!0,Yn(e,t,r),He=n,or=a;break;case 0:case 11:case 14:case 15:_i(2,r,t),lt||_i(4,r,t),Yn(e,t,r);break;case 1:lt||(Dn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&N2(r,t,n)),Yn(e,t,r);break;case 21:Yn(e,t,r);break;case 22:lt=(n=lt)||r.memoizedState!==null,Yn(e,t,r),lt=n;break;default:Yn(e,t,r)}}function L2(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ps(e)}catch(r){Ee(t,t.return,r)}}}function $2(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ps(e)}catch(r){Ee(t,t.return,r)}}function uM(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Tw),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Tw),t;default:throw Error(F(435,e.tag))}}function ld(e,t){var r=uM(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=bM.bind(null,e,n);n.then(a,a)}})}function ar(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(Ai(l.type)){He=l.stateNode,or=!1;break e}break;case 5:He=l.stateNode,or=!1;break e;case 3:case 4:He=l.stateNode.containerInfo,or=!0;break e}l=l.return}if(He===null)throw Error(F(160));I2(i,o,a),He=null,or=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)U2(t,e),t=t.sibling}var dn=null;function U2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ar(t,e),ir(e),n&4&&(_i(3,e,e.return),cu(3,e),_i(5,e,e.return));break;case 1:ar(t,e),ir(e),n&512&&(lt||r===null||Dn(r,r.return)),n&64&&ta&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=dn;if(ar(t,e),ir(e),n&512&&(lt||r===null||Dn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[iu]||i[It]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),qt(i,n,r),i[It]=e,Ot(i),n=i;break e;case"link":var o=Xw("link","href",a).get(n+(r.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(l,1);break t}}i=a.createElement(n),qt(i,n,r),a.head.appendChild(i);break;case"meta":if(o=Xw("meta","content",a).get(n+(r.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(l,1);break t}}i=a.createElement(n),qt(i,n,r),a.head.appendChild(i);break;default:throw Error(F(468,n))}i[It]=e,Ot(i),n=i}e.stateNode=n}else Zw(a,e.type,e.stateNode);else e.stateNode=Yw(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Zw(a,e.type,e.stateNode):Yw(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&ag(e,e.memoizedProps,r.memoizedProps)}break;case 27:ar(t,e),ir(e),n&512&&(lt||r===null||Dn(r,r.return)),r!==null&&n&4&&ag(e,e.memoizedProps,r.memoizedProps);break;case 5:if(ar(t,e),ir(e),n&512&&(lt||r===null||Dn(r,r.return)),e.flags&32){a=e.stateNode;try{Es(a,"")}catch(v){Ee(e,e.return,v)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,ag(e,a,r!==null?r.memoizedProps:a)),n&1024&&(og=!0);break;case 6:if(ar(t,e),ir(e),n&4){if(e.stateNode===null)throw Error(F(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(v){Ee(e,e.return,v)}}break;case 3:if(ef=null,a=dn,dn=Pf(t.containerInfo),ar(t,e),dn=a,ir(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(v){Ee(e,e.return,v)}og&&(og=!1,q2(e));break;case 4:n=dn,dn=Pf(e.stateNode.containerInfo),ar(t,e),ir(e),dn=n;break;case 12:ar(t,e),ir(e);break;case 31:ar(t,e),ir(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ld(e,n)));break;case 13:ar(t,e),ir(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(am=Ar()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ld(e,n)));break;case 22:a=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=ta,d=lt;if(ta=u||a,lt=d||c,ar(t,e),lt=d,ta=u,ir(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||c||ta||lt||Ui(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(i=c.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){Ee(c,c.return,v)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(v){Ee(c,c.return,v)}}}else if(t.tag===18){if(r===null){c=t;try{var h=c.stateNode;a?Hw(h,!0):Hw(c.stateNode,!1)}catch(v){Ee(c,c.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,ld(e,r))));break;case 19:ar(t,e),ir(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ld(e,n)));break;case 30:break;case 21:break;default:ar(t,e),ir(e)}}function ir(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(P2(n)){r=n;break}n=n.return}if(r==null)throw Error(F(160));switch(r.tag){case 27:var a=r.stateNode,i=ig(e);Ef(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(Es(o,""),r.flags&=-33);var l=ig(e);Ef(e,l,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=ig(e);Mv(e,u,c);break;default:throw Error(F(161))}}catch(d){Ee(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q2(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;q2(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)z2(e,t.alternate,t),t=t.sibling}function Ui(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_i(4,t,t.return),Ui(t);break;case 1:Dn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&N2(t,t.return,r),Ui(t);break;case 27:lc(t.stateNode);case 26:case 5:Dn(t,t.return),Ui(t);break;case 22:t.memoizedState===null&&Ui(t);break;case 30:Ui(t);break;default:Ui(t)}e=e.sibling}}function Zn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(a,i,r),cu(4,i);break;case 1:if(Zn(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Ee(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var l=n.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)LO(c[a],l)}catch(u){Ee(n,n.return,u)}}r&&o&64&&R2(i),ac(i,i.return);break;case 27:M2(i);case 26:case 5:Zn(a,i,r),r&&n===null&&o&4&&D2(i),ac(i,i.return);break;case 12:Zn(a,i,r);break;case 31:Zn(a,i,r),r&&o&4&&L2(a,i);break;case 13:Zn(a,i,r),r&&o&4&&$2(a,i);break;case 22:i.memoizedState===null&&Zn(a,i,r),ac(i,i.return);break;case 30:break;default:Zn(a,i,r)}t=t.sibling}}function nb(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&su(r))}function ab(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&su(e))}function sn(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)W2(e,t,r,n),t=t.sibling}function W2(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:sn(e,t,r,n),a&2048&&cu(9,t);break;case 1:sn(e,t,r,n);break;case 3:sn(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&su(e)));break;case 12:if(a&2048){sn(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Ee(t,t.return,c)}}else sn(e,t,r,n);break;case 31:sn(e,t,r,n);break;case 13:sn(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?sn(e,t,r,n):ic(e,t):i._visibility&2?sn(e,t,r,n):(i._visibility|=2,Go(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&nb(o,t);break;case 24:sn(e,t,r,n),a&2048&&ab(t.alternate,t);break;default:sn(e,t,r,n)}}function Go(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=r,c=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:Go(i,o,l,c,a),cu(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?Go(i,o,l,c,a):ic(i,o):(d._visibility|=2,Go(i,o,l,c,a)),a&&u&2048&&nb(o.alternate,o);break;case 24:Go(i,o,l,c,a),a&&u&2048&&ab(o.alternate,o);break;default:Go(i,o,l,c,a)}t=t.sibling}}function ic(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:ic(r,n),a&2048&&nb(n.alternate,n);break;case 24:ic(r,n),a&2048&&ab(n.alternate,n);break;default:ic(r,n)}t=t.sibling}}var Fl=8192;function Io(e,t,r){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)H2(e,t,r),e=e.sibling}function H2(e,t,r){switch(e.tag){case 26:Io(e,t,r),e.flags&Fl&&e.memoizedState!==null&&XM(r,dn,e.memoizedState,e.memoizedProps);break;case 5:Io(e,t,r);break;case 3:case 4:var n=dn;dn=Pf(e.stateNode.containerInfo),Io(e,t,r),dn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Fl,Fl=16777216,Io(e,t,r),Fl=n):Io(e,t,r));break;default:Io(e,t,r)}}function F2(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];Ct=n,K2(n,e)}F2(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)V2(e),e=e.sibling}function V2(e){switch(e.tag){case 0:case 11:case 15:Rl(e),e.flags&2048&&_i(9,e,e.return);break;case 3:Rl(e);break;case 12:Rl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Jd(e)):Rl(e);break;default:Rl(e)}}function Jd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];Ct=n,K2(n,e)}F2(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_i(8,t,t.return),Jd(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Jd(t));break;default:Jd(t)}e=e.sibling}}function K2(e,t){for(;Ct!==null;){var r=Ct;switch(r.tag){case 0:case 11:case 15:_i(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:su(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Ct=n;else e:for(r=e;Ct!==null;){n=Ct;var a=n.sibling,i=n.return;if(B2(n),n===r){Ct=null;break e}if(a!==null){a.return=i,Ct=a;break e}Ct=i}}}var dM={getCacheForType:function(e){var t=$t(ct),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return $t(ct).controller.signal}},fM=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,ge=null,ve=0,Se=0,br=null,ii=!1,Js=!1,ib=!1,ya=0,et=0,ji=0,no=0,ob=0,Er=0,Ts=0,oc=null,sr=null,zv=!1,am=0,G2=0,Of=1/0,Af=null,mi=null,gt=0,pi=null,Rs=null,da=0,Bv=0,Iv=null,Y2=null,sc=0,Lv=null;function Rr(){return _e&2&&ve!==0?ve&-ve:le.T!==null?lb():aO()}function X2(){if(Er===0)if(!(ve&536870912)||ye){var e=ed;ed<<=1,!(ed&3932160)&&(ed=262144),Er=e}else Er=536870912;return e=Pr.current,e!==null&&(e.flags|=32),Er}function ur(e,t,r){(e===De&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Ns(e,0),oi(e,ve,Er,!1)),au(e,r),(!(_e&2)||e!==De)&&(e===De&&(!(_e&2)&&(no|=r),et===4&&oi(e,ve,Er,!1)),qn(e))}function Z2(e,t,r){if(_e&6)throw Error(F(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||nu(e,t),a=n?pM(e,t):sg(e,t,!0),i=n;do{if(a===0){Js&&!n&&oi(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!hM(r)){a=sg(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;a=oc;var c=l.current.memoizedState.isDehydrated;if(c&&(Ns(l,o).flags|=256),o=sg(l,o,!1),o!==2){if(ib&&!c){l.errorRecoveryDisabledLanes|=i,no|=i,a=4;break e}i=sr,sr=a,i!==null&&(sr===null?sr=i:sr.push.apply(sr,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){Ns(e,0),oi(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(F(345));case 4:if((t&4194048)!==t)break;case 6:oi(n,t,Er,!ii);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(F(329))}if((t&62914560)===t&&(a=am+300-Ar(),10<a)){if(oi(n,t,Er,!ii),Kh(n,0,!0)!==0)break e;da=t,n.timeoutHandle=vA(Rw.bind(null,n,r,sr,Af,zv,t,Er,no,Ts,ii,i,"Throttled",-0,0),a);break e}Rw(n,r,sr,Af,zv,t,Er,no,Ts,ii,i,null,-0,0)}}break}while(!0);qn(e)}function Rw(e,t,r,n,a,i,o,l,c,u,d,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},H2(t,i,f);var v=(i&62914560)===i?am-Ar():(i&4194048)===i?G2-Ar():0;if(v=ZM(f,v),v!==null){da=i,e.cancelPendingCommit=v(Dw.bind(null,e,t,i,r,n,a,o,l,c,d,f,null,m,h)),oi(e,i,o,!u);return}}Dw(e,t,i,r,n,a,o,l,c)}function hM(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Dr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t,r,n){t&=~ob,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-Tr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&tO(e,r,t)}function im(){return _e&6?!0:(uu(0),!1)}function sb(){if(ge!==null){if(Se===0)var e=ge.return;else e=ge,oa=Eo=null,V0(e),vs=null,jc=0,e=ge;for(;e!==null;)T2(e.alternate,e),e=e.return;ge=null}}function Ns(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,DM(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),da=0,sb(),De=e,ge=r=ca(e.current,null),ve=t,Se=0,br=null,ii=!1,Js=nu(e,t),ib=!1,Ts=Er=ob=no=ji=et=0,sr=oc=null,zv=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-Tr(n),i=1<<a;t|=e[a],n&=~i}return ya=t,Zh(),r}function J2(e,t){fe=null,le.H=Cc,t===Zs||t===Qh?(t=cw(),Se=3):t===L0?(t=cw(),Se=4):Se=t===tb?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,br=t,ge===null&&(et=1,Sf(e,Gr(t,e.current)))}function Q2(){var e=Pr.current;return e===null?!0:(ve&4194048)===ve?Zr===null:(ve&62914560)===ve||ve&536870912?e===Zr:!1}function eA(){var e=le.H;return le.H=Cc,e===null?Cc:e}function tA(){var e=le.A;return le.A=dM,e}function kf(){et=4,ii||(ve&4194048)!==ve&&Pr.current!==null||(Js=!0),!(ji&134217727)&&!(no&134217727)||De===null||oi(De,ve,Er,!1)}function sg(e,t,r){var n=_e;_e|=2;var a=eA(),i=tA();(De!==e||ve!==t)&&(Af=null,Ns(e,t)),t=!1;var o=et;e:do try{if(Se!==0&&ge!==null){var l=ge,c=br;switch(Se){case 8:sb(),o=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(t=!0);var u=Se;if(Se=0,br=null,us(e,l,c,u),r&&Js){o=0;break e}break;default:u=Se,Se=0,br=null,us(e,l,c,u)}}mM(),o=et;break}catch(d){J2(e,d)}while(!0);return t&&e.shellSuspendCounter++,oa=Eo=null,_e=n,le.H=a,le.A=i,ge===null&&(De=null,ve=0,Zh()),o}function mM(){for(;ge!==null;)rA(ge)}function pM(e,t){var r=_e;_e|=2;var n=eA(),a=tA();De!==e||ve!==t?(Af=null,Of=Ar()+500,Ns(e,t)):Js=nu(e,t);e:do try{if(Se!==0&&ge!==null){t=ge;var i=br;t:switch(Se){case 1:Se=0,br=null,us(e,t,i,1);break;case 2:case 9:if(lw(i)){Se=0,br=null,Nw(t);break}t=function(){Se!==2&&Se!==9||De!==e||(Se=7),qn(e)},i.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:lw(i)?(Se=0,br=null,Nw(t)):(Se=0,br=null,us(e,t,i,7));break;case 5:var o=null;switch(ge.tag){case 26:o=ge.memoizedState;case 5:case 27:var l=ge;if(o?_A(o):l.stateNode.complete){Se=0,br=null;var c=l.sibling;if(c!==null)ge=c;else{var u=l.return;u!==null?(ge=u,om(u)):ge=null}break t}}Se=0,br=null,us(e,t,i,5);break;case 6:Se=0,br=null,us(e,t,i,6);break;case 8:sb(),et=6;break e;default:throw Error(F(462))}}gM();break}catch(d){J2(e,d)}while(!0);return oa=Eo=null,le.H=n,le.A=a,_e=r,ge!==null?0:(De=null,ve=0,Zh(),et)}function gM(){for(;ge!==null&&!LP();)rA(ge)}function rA(e){var t=k2(e.alternate,e,ya);e.memoizedProps=e.pendingProps,t===null?om(e):ge=t}function Nw(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Cw(r,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=Cw(r,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:V0(t);default:T2(r,t),t=ge=TO(t,ya),t=k2(r,t,ya)}e.memoizedProps=e.pendingProps,t===null?om(e):ge=t}function us(e,t,r,n){oa=Eo=null,V0(t),vs=null,jc=0;var a=t.return;try{if(aM(e,a,t,r,ve)){et=1,Sf(e,Gr(r,e.current)),ge=null;return}}catch(i){if(a!==null)throw ge=a,i;et=1,Sf(e,Gr(r,e.current)),ge=null;return}t.flags&32768?(ye||n===1?e=!0:Js||ve&536870912?e=!1:(ii=e=!0,(n===2||n===9||n===3||n===6)&&(n=Pr.current,n!==null&&n.tag===13&&(n.flags|=16384))),nA(t,e)):om(t)}function om(e){var t=e;do{if(t.flags&32768){nA(t,ii);return}e=t.return;var r=sM(t.alternate,t,ya);if(r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);et===0&&(et=5)}function nA(e,t){do{var r=lM(e.alternate,e);if(r!==null){r.flags&=32767,ge=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=r}while(e!==null);et=6,ge=null}function Dw(e,t,r,n,a,i,o,l,c){e.cancelPendingCommit=null;do sm();while(gt!==0);if(_e&6)throw Error(F(327));if(t!==null){if(t===e.current)throw Error(F(177));if(i=t.lanes|t.childLanes,i|=N0,YP(e,r,i,o,l,c),e===De&&(ge=De=null,ve=0),Rs=t,pi=e,da=r,Bv=i,Iv=a,Y2=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,xM(hf,function(){return lA(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=le.T,le.T=null,a=je.p,je.p=2,o=_e,_e|=4;try{cM(e,t,r)}finally{_e=o,je.p=a,le.T=n}}gt=1,aA(),iA(),oA()}}function aA(){if(gt===1){gt=0;var e=pi,t=Rs,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=le.T,le.T=null;var n=je.p;je.p=2;var a=_e;_e|=4;try{U2(t,e);var i=Wv,o=_O(e.containerInfo),l=i.focusedElem,c=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&wO(l.ownerDocument.documentElement,l)){if(c!==null&&R0(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),v=l.textContent.length,x=Math.min(c.start,v),b=c.end===void 0?x:Math.min(c.end,v);!h.extend&&x>b&&(o=b,b=x,x=o);var y=tw(l,x),p=tw(l,b);if(y&&p&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==p.node||h.focusOffset!==p.offset)){var _=f.createRange();_.setStart(y.node,y.offset),h.removeAllRanges(),x>b?(h.addRange(_),h.extend(p.node,p.offset)):(_.setEnd(p.node,p.offset),h.addRange(_))}}}}for(f=[],h=l;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var w=f[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Bf=!!qv,Wv=qv=null}finally{_e=a,je.p=n,le.T=r}}e.current=t,gt=2}}function iA(){if(gt===2){gt=0;var e=pi,t=Rs,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=le.T,le.T=null;var n=je.p;je.p=2;var a=_e;_e|=4;try{z2(e,t.alternate,t)}finally{_e=a,je.p=n,le.T=r}}gt=3}}function oA(){if(gt===4||gt===3){gt=0,$P();var e=pi,t=Rs,r=da,n=Y2;t.subtreeFlags&10256||t.flags&10256?gt=5:(gt=0,Rs=pi=null,sA(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(mi=null),S0(r),t=t.stateNode,kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(ru,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=le.T,a=je.p,je.p=2,le.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var l=n[o];i(l.value,{componentStack:l.stack})}}finally{le.T=t,je.p=a}}da&3&&sm(),qn(e),a=e.pendingLanes,r&261930&&a&42?e===Lv?sc++:(sc=0,Lv=e):sc=0,uu(0)}}function sA(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,su(t)))}function sm(){return aA(),iA(),oA(),lA()}function lA(){if(gt!==5)return!1;var e=pi,t=Bv;Bv=0;var r=S0(da),n=le.T,a=je.p;try{je.p=32>r?32:r,le.T=null,r=Iv,Iv=null;var i=pi,o=da;if(gt=0,Rs=pi=null,da=0,_e&6)throw Error(F(331));var l=_e;if(_e|=4,V2(i.current),W2(i,i.current,o,r),_e=l,uu(0,!1),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(ru,i)}catch{}return!0}finally{je.p=a,le.T=n,sA(e,t)}}function Pw(e,t,r){t=Gr(r,t),t=Nv(e.stateNode,t,2),e=hi(e,t,2),e!==null&&(au(e,2),qn(e))}function Ee(e,t,r){if(e.tag===3)Pw(e,e,r);else for(;t!==null;){if(t.tag===3){Pw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mi===null||!mi.has(n))){e=Gr(r,e),r=j2(2),n=hi(t,r,2),n!==null&&(S2(r,n,t,e),au(n,2),qn(n));break}}t=t.return}}function lg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fM;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(ib=!0,a.add(r),e=vM.bind(null,e,t,r),t.then(e,e))}function vM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,De===e&&(ve&r)===r&&(et===4||et===3&&(ve&62914560)===ve&&300>Ar()-am?!(_e&2)&&Ns(e,0):ob|=r,Ts===ve&&(Ts=0)),qn(e)}function cA(e,t){t===0&&(t=eO()),e=Co(e,t),e!==null&&(au(e,t),qn(e))}function yM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cA(e,r)}function bM(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(F(314))}n!==null&&n.delete(t),cA(e,r)}function xM(e,t){return _0(e,t)}var Tf=null,Yo=null,$v=!1,Rf=!1,cg=!1,si=0;function qn(e){e!==Yo&&e.next===null&&(Yo===null?Tf=Yo=e:Yo=Yo.next=e),Rf=!0,$v||($v=!0,_M())}function uu(e,t){if(!cg&&Rf){cg=!0;do for(var r=!1,n=Tf;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,l=n.pingedLanes;i=(1<<31-Tr(42|e)+1)-1,i&=a&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Mw(n,i))}else i=ve,i=Kh(n,n===De?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||nu(n,i)||(r=!0,Mw(n,i));n=n.next}while(r);cg=!1}}function wM(){uA()}function uA(){Rf=$v=!1;var e=0;si!==0&&NM()&&(e=si);for(var t=Ar(),r=null,n=Tf;n!==null;){var a=n.next,i=dA(n,t);i===0?(n.next=null,r===null?Tf=a:r.next=a,a===null&&(Yo=r)):(r=n,(e!==0||i&3)&&(Rf=!0)),n=a}gt!==0&&gt!==5||uu(e),si!==0&&(si=0)}function dA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-Tr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=GP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}if(t=De,r=ve,r=Kh(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Bp(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||nu(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&Bp(n),S0(r)){case 2:case 8:r=JE;break;case 32:r=hf;break;case 268435456:r=QE;break;default:r=hf}return n=fA.bind(null,e),r=_0(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&Bp(n),e.callbackPriority=2,e.callbackNode=null,2}function fA(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(sm()&&e.callbackNode!==r)return null;var n=ve;return n=Kh(e,e===De?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Z2(e,n,t),dA(e,Ar()),e.callbackNode!=null&&e.callbackNode===r?fA.bind(null,e):null)}function Mw(e,t){if(sm())return null;Z2(e,t,!0)}function _M(){PM(function(){_e&6?_0(ZE,wM):uA()})}function lb(){if(si===0){var e=Os;e===0&&(e=Qu,Qu<<=1,!(Qu&261888)&&(Qu=256)),si=e}return si}function zw(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wd(""+e)}function Bw(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function jM(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=zw((a[dr]||null).action),o=n.submitter;o&&(t=(t=o[dr]||null)?zw(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new Gh("action","action",null,n,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(si!==0){var c=o?Bw(a,o):new FormData(a);Tv(r,{pending:!0,data:c,method:a.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=o?Bw(a,o):new FormData(a),Tv(r,{pending:!0,data:c,method:a.method,action:i},i,c))},currentTarget:a}]})}}for(var ug=0;ug<yv.length;ug++){var dg=yv[ug],SM=dg.toLowerCase(),CM=dg[0].toUpperCase()+dg.slice(1);jn(SM,"on"+CM)}jn(SO,"onAnimationEnd");jn(CO,"onAnimationIteration");jn(EO,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn(U6,"onTransitionRun");jn(q6,"onTransitionStart");jn(W6,"onTransitionCancel");jn(OO,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ec));function hA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){pf(d)}a.currentTarget=null,i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){pf(d)}a.currentTarget=null,i=c}}}}function pe(e,t){var r=t[uv];r===void 0&&(r=t[uv]=new Set);var n=e+"__bubble";r.has(n)||(mA(t,e,2,!1),r.add(n))}function fg(e,t,r){var n=0;t&&(n|=4),mA(r,e,n,t)}var cd="_reactListening"+Math.random().toString(36).slice(2);function cb(e){if(!e[cd]){e[cd]=!0,iO.forEach(function(r){r!=="selectionchange"&&(EM.has(r)||fg(r,!1,e),fg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cd]||(t[cd]=!0,fg("selectionchange",!1,t))}}function mA(e,t,r,n){switch(OA(t)){case 2:var a=ez;break;case 8:a=tz;break;default:a=hb}r=a.bind(null,t,r,e),a=void 0,!pv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function hg(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;l!==null;){if(o=ts(l),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){n=i=o;continue e}l=l.parentNode}}n=n.return}hO(function(){var u=i,d=O0(r),f=[];e:{var m=AO.get(e);if(m!==void 0){var h=Gh,v=e;switch(e){case"keypress":if(Fd(r)===0)break e;case"keydown":case"keyup":h=b6;break;case"focusin":v="focus",h=qp;break;case"focusout":v="blur",h=qp;break;case"beforeblur":case"afterblur":h=qp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=F1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=s6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=_6;break;case SO:case CO:case EO:h=u6;break;case OO:h=S6;break;case"scroll":case"scrollend":h=i6;break;case"wheel":h=E6;break;case"copy":case"cut":case"paste":h=f6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=K1;break;case"toggle":case"beforetoggle":h=A6}var x=(t&4)!==0,b=!x&&(e==="scroll"||e==="scrollend"),y=x?m!==null?m+"Capture":null:m;x=[];for(var p=u,_;p!==null;){var w=p;if(_=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||_===null||y===null||(w=yc(p,y),w!=null&&x.push(Oc(p,w,_))),b)break;p=p.return}0<x.length&&(m=new h(m,v,null,r,d),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==mv&&(v=r.relatedTarget||r.fromElement)&&(ts(v)||v[Gs]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=u,v=v?ts(v):null,v!==null&&(b=tu(v),x=v.tag,v!==b||x!==5&&x!==27&&x!==6)&&(v=null)):(h=null,v=u),h!==v)){if(x=F1,w="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=K1,w="onPointerLeave",y="onPointerEnter",p="pointer"),b=h==null?m:Wl(h),_=v==null?m:Wl(v),m=new x(w,p+"leave",h,r,d),m.target=b,m.relatedTarget=_,w=null,ts(d)===u&&(x=new x(y,p+"enter",v,r,d),x.target=_,x.relatedTarget=b,w=x),b=w,h&&v)t:{for(x=OM,y=h,p=v,_=0,w=y;w;w=x(w))_++;w=0;for(var j=p;j;j=x(j))w++;for(;0<_-w;)y=x(y),_--;for(;0<w-_;)p=x(p),w--;for(;_--;){if(y===p||p!==null&&y===p.alternate){x=y;break t}y=x(y),p=x(p)}x=null}else x=null;h!==null&&Iw(f,m,h,x,!1),v!==null&&b!==null&&Iw(f,b,v,x,!0)}}e:{if(m=u?Wl(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var C=Z1;else if(X1(m))if(bO)C=I6;else{C=z6;var S=M6}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&E0(u.elementType)&&(C=Z1):C=B6;if(C&&(C=C(e,u))){yO(f,C,r,d);break e}S&&S(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&hv(m,"number",m.value)}switch(S=u?Wl(u):window,e){case"focusin":(X1(S)||S.contentEditable==="true")&&(as=S,gv=u,Jl=null);break;case"focusout":Jl=gv=as=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,rw(f,r,d);break;case"selectionchange":if($6)break;case"keydown":case"keyup":rw(f,r,d)}var E;if(T0)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ns?gO(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(pO&&r.locale!=="ko"&&(ns||k!=="onCompositionStart"?k==="onCompositionEnd"&&ns&&(E=mO()):(ai=d,A0="value"in ai?ai.value:ai.textContent,ns=!0)),S=Nf(u,k),0<S.length&&(k=new V1(k,e,null,r,d),f.push({event:k,listeners:S}),E?k.data=E:(E=vO(r),E!==null&&(k.data=E)))),(E=T6?R6(e,r):N6(e,r))&&(k=Nf(u,"onBeforeInput"),0<k.length&&(S=new V1("onBeforeInput","beforeinput",null,r,d),f.push({event:S,listeners:k}),S.data=E)),jM(f,e,u,r,d)}hA(f,t)})}function Oc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Nf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=yc(e,r),a!=null&&n.unshift(Oc(e,a,i)),a=yc(e,t),a!=null&&n.push(Oc(e,a,i))),e.tag===3)return n;e=e.return}return[]}function OM(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Iw(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===n)break;l!==5&&l!==26&&l!==27||u===null||(c=u,a?(u=yc(r,i),u!=null&&o.unshift(Oc(r,u,c))):a||(u=yc(r,i),u!=null&&o.push(Oc(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var AM=/\r\n?/g,kM=/\u0000|\uFFFD/g;function Lw(e){return(typeof e=="string"?e:""+e).replace(AM,`
`).replace(kM,"")}function pA(e,t){return t=Lw(t),Lw(e)===t}function Ae(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Es(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Es(e,""+n);break;case"className":rd(e,"class",n);break;case"tabIndex":rd(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rd(e,r,n);break;case"style":fO(e,n,i);break;case"data":if(t!=="object"){rd(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Wd(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&Ae(e,t,"name",a.name,a,null),Ae(e,t,"formEncType",a.formEncType,a,null),Ae(e,t,"formMethod",a.formMethod,a,null),Ae(e,t,"formTarget",a.formTarget,a,null)):(Ae(e,t,"encType",a.encType,a,null),Ae(e,t,"method",a.method,a,null),Ae(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Wd(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=ia);break;case"onScroll":n!=null&&pe("scroll",e);break;case"onScrollEnd":n!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(F(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(F(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=Wd(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":pe("beforetoggle",e),pe("toggle",e),qd(e,"popover",n);break;case"xlinkActuate":Kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Kn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Kn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Kn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Kn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":qd(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=n6.get(r)||r,qd(e,r,n))}}function Uv(e,t,r,n,a,i){switch(r){case"style":fO(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(F(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(F(60));e.innerHTML=r}}break;case"children":typeof n=="string"?Es(e,n):(typeof n=="number"||typeof n=="bigint")&&Es(e,""+n);break;case"onScroll":n!=null&&pe("scroll",e);break;case"onScrollEnd":n!=null&&pe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oO.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[dr]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):qd(e,r,n)}}}function qt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(F(137,t));default:Ae(e,t,i,o,r,null)}}a&&Ae(e,t,"srcSet",r.srcSet,r,null),n&&Ae(e,t,"src",r.src,r,null);return;case"input":pe("invalid",e);var l=i=o=a=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(F(137,t));break;default:Ae(e,t,n,d,r,null)}}cO(e,i,l,c,u,o,a,!1);return;case"select":pe("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(l=r[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":n=l;default:Ae(e,t,a,l,r,null)}t=i,r=o,e.multiple=!!n,t!=null?ms(e,!!n,t,!1):r!=null&&ms(e,!!n,r,!0);return;case"textarea":pe("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(l=r[o],l!=null))switch(o){case"value":n=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(F(91));break;default:Ae(e,t,o,l,r,null)}dO(e,n,a,i);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ae(e,t,c,n,r,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(n=0;n<Ec.length;n++)pe(Ec[n],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(F(137,t));default:Ae(e,t,u,n,r,null)}return;default:if(E0(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&Uv(e,t,d,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(n=r[l],n!=null&&Ae(e,t,l,n,r,null))}function TM(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,u=null,d=null;for(h in r){var f=r[h];if(r.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(h)||Ae(e,t,h,null,n,f)}}for(var m in n){var h=n[m];if(f=r[m],n.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":i=h;break;case"name":a=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":o=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(F(137,t));break;default:h!==f&&Ae(e,t,m,h,n,f)}}fv(e,o,l,c,u,d,i,a);return;case"select":h=o=l=m=null;for(i in r)if(c=r[i],r.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":h=c;default:n.hasOwnProperty(i)||Ae(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(i!=null||c!=null))switch(a){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Ae(e,t,a,i,n,c)}t=l,r=o,n=h,m!=null?ms(e,!!r,m,!1):!!n!=!!r&&(t!=null?ms(e,!!r,t,!0):ms(e,!!r,r?[]:"",!1));return;case"textarea":h=m=null;for(l in r)if(a=r[l],r.hasOwnProperty(l)&&a!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ae(e,t,l,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":m=a;break;case"defaultValue":h=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(F(91));break;default:a!==i&&Ae(e,t,o,a,n,i)}uO(e,m,h);return;case"option":for(var v in r)if(m=r[v],r.hasOwnProperty(v)&&m!=null&&!n.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:Ae(e,t,v,null,n,m)}for(c in n)if(m=n[c],h=r[c],n.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ae(e,t,c,m,n,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)m=r[x],r.hasOwnProperty(x)&&m!=null&&!n.hasOwnProperty(x)&&Ae(e,t,x,null,n,m);for(u in n)if(m=n[u],h=r[u],n.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(F(137,t));break;default:Ae(e,t,u,m,n,h)}return;default:if(E0(t)){for(var b in r)m=r[b],r.hasOwnProperty(b)&&m!==void 0&&!n.hasOwnProperty(b)&&Uv(e,t,b,void 0,n,m);for(d in n)m=n[d],h=r[d],!n.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||Uv(e,t,d,m,n,h);return}}for(var y in r)m=r[y],r.hasOwnProperty(y)&&m!=null&&!n.hasOwnProperty(y)&&Ae(e,t,y,null,n,m);for(f in n)m=n[f],h=r[f],!n.hasOwnProperty(f)||m===h||m==null&&h==null||Ae(e,t,f,m,n,h)}function $w(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RM(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,l=a.duration;if(i&&l&&$w(o)){for(o=0,l=a.responseEnd,n+=1;n<r.length;n++){var c=r[n],u=c.startTime;if(u>l)break;var d=c.transferSize,f=c.initiatorType;d&&$w(f)&&(c=c.responseEnd,o+=d*(c<l?1:(l-u)/(c-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qv=null,Wv=null;function Df(e){return e.nodeType===9?e:e.ownerDocument}function Uw(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gA(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=null;function NM(){var e=window.event;return e&&e.type==="popstate"?e===mg?!1:(mg=e,!0):(mg=null,!1)}var vA=typeof setTimeout=="function"?setTimeout:void 0,DM=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,PM=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(e){return qw.resolve(null).then(e).catch(MM)}:vA;function MM(e){setTimeout(function(){throw e})}function Ai(e){return e==="head"}function Ww(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),Ps(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")lc(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,lc(r);for(var i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[iu]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&lc(e.ownerDocument.body);r=a}while(r);Ps(t)}function Hw(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function Fv(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Fv(r),C0(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function zM(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[iu])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Jr(e.nextSibling),e===null)break}return null}function BM(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Jr(e.nextSibling),e===null))return null;return e}function yA(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jr(e.nextSibling),e===null))return null;return e}function Vv(e){return e.data==="$?"||e.data==="$~"}function Kv(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function IM(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gv=null;function Fw(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Jr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Vw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function bA(e,t,r){switch(t=Df(r),e){case"html":if(e=t.documentElement,!e)throw Error(F(452));return e;case"head":if(e=t.head,!e)throw Error(F(453));return e;case"body":if(e=t.body,!e)throw Error(F(454));return e;default:throw Error(F(451))}}function lc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);C0(e)}var Qr=new Map,Kw=new Set;function Pf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ta=je.d;je.d={f:LM,r:$M,D:UM,C:qM,L:WM,m:HM,X:VM,S:FM,M:KM};function LM(){var e=Ta.f(),t=im();return e||t}function $M(e){var t=Ys(e);t!==null&&t.tag===5&&t.type==="form"?f2(t):Ta.r(e)}var Qs=typeof document>"u"?null:document;function xA(e,t,r){var n=Qs;if(n&&typeof t=="string"&&t){var a=Kr(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Kw.has(a)||(Kw.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),qt(t,"link",e),Ot(t),n.head.appendChild(t)))}}function UM(e){Ta.D(e),xA("dns-prefetch",e,null)}function qM(e,t){Ta.C(e,t),xA("preconnect",e,t)}function WM(e,t,r){Ta.L(e,t,r);var n=Qs;if(n&&e&&t){var a='link[rel="preload"][as="'+Kr(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Kr(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Kr(r.imageSizes)+'"]')):a+='[href="'+Kr(e)+'"]';var i=a;switch(t){case"style":i=Ds(e);break;case"script":i=el(e)}Qr.has(i)||(e=qe({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Qr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(du(i))||t==="script"&&n.querySelector(fu(i))||(t=n.createElement("link"),qt(t,"link",e),Ot(t),n.head.appendChild(t)))}}function HM(e,t){Ta.m(e,t);var r=Qs;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Kr(n)+'"][href="'+Kr(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=el(e)}if(!Qr.has(i)&&(e=qe({rel:"modulepreload",href:e},t),Qr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fu(i)))return}n=r.createElement("link"),qt(n,"link",e),Ot(n),r.head.appendChild(n)}}}function FM(e,t,r){Ta.S(e,t,r);var n=Qs;if(n&&e){var a=hs(n).hoistableStyles,i=Ds(e);t=t||"default";var o=a.get(i);if(!o){var l={loading:0,preload:null};if(o=n.querySelector(du(i)))l.loading=5;else{e=qe({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Qr.get(i))&&ub(e,r);var c=o=n.createElement("link");Ot(c),qt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Qd(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:l},a.set(i,o)}}}function VM(e,t){Ta.X(e,t);var r=Qs;if(r&&e){var n=hs(r).hoistableScripts,a=el(e),i=n.get(a);i||(i=r.querySelector(fu(a)),i||(e=qe({src:e,async:!0},t),(t=Qr.get(a))&&db(e,t),i=r.createElement("script"),Ot(i),qt(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function KM(e,t){Ta.M(e,t);var r=Qs;if(r&&e){var n=hs(r).hoistableScripts,a=el(e),i=n.get(a);i||(i=r.querySelector(fu(a)),i||(e=qe({src:e,async:!0,type:"module"},t),(t=Qr.get(a))&&db(e,t),i=r.createElement("script"),Ot(i),qt(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Gw(e,t,r,n){var a=(a=ui.current)?Pf(a):null;if(!a)throw Error(F(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Ds(r.href),r=hs(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ds(r.href);var i=hs(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(du(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Qr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qr.set(e,r),i||GM(a,e,r,o.state))),t&&n===null)throw Error(F(528,""));return o}if(t&&n!==null)throw Error(F(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=el(r),r=hs(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(F(444,e))}}function Ds(e){return'href="'+Kr(e)+'"'}function du(e){return'link[rel="stylesheet"]['+e+"]"}function wA(e){return qe({},e,{"data-precedence":e.precedence,precedence:null})}function GM(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),qt(t,"link",r),Ot(t),e.head.appendChild(t))}function el(e){return'[src="'+Kr(e)+'"]'}function fu(e){return"script[async]"+e}function Yw(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Kr(r.href)+'"]');if(n)return t.instance=n,Ot(n),n;var a=qe({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ot(n),qt(n,"style",a),Qd(n,r.precedence,e),t.instance=n;case"stylesheet":a=Ds(r.href);var i=e.querySelector(du(a));if(i)return t.state.loading|=4,t.instance=i,Ot(i),i;n=wA(r),(a=Qr.get(a))&&ub(n,a),i=(e.ownerDocument||e).createElement("link"),Ot(i);var o=i;return o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),qt(i,"link",n),t.state.loading|=4,Qd(i,r.precedence,e),t.instance=i;case"script":return i=el(r.src),(a=e.querySelector(fu(i)))?(t.instance=a,Ot(a),a):(n=r,(a=Qr.get(i))&&(n=qe({},r),db(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),Ot(a),qt(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(F(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Qd(n,r.precedence,e));return t.instance}function Qd(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var l=n[o];if(l.dataset.precedence===t)i=l;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function ub(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function db(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ef=null;function Xw(e,t,r){if(ef===null){var n=new Map,a=ef=new Map;a.set(r,n)}else a=ef,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[iu]||i[It]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=n.get(o);l?l.push(i):n.set(o,[i])}}return n}function Zw(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function YM(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _A(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function XM(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=Ds(n.href),i=t.querySelector(du(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Mf.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,Ot(i);return}i=t.ownerDocument||t,n=wA(n),(a=Qr.get(a))&&ub(n,a),i=i.createElement("link"),Ot(i);var o=i;o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),qt(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=Mf.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var pg=0;function ZM(e,t){return e.stylesheets&&e.count===0&&tf(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&tf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&pg===0&&(pg=62500*RM());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&tf(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>pg?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function Mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zf=null;function tf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zf=new Map,t.forEach(JM,e),zf=null,Mf.call(e))}function JM(e,t){if(!(t.state.loading&4)){var r=zf.get(e);if(r)var n=r.get(null);else{r=new Map,zf.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=Mf.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Ac={$$typeof:aa,Provider:null,Consumer:null,_currentValue:Qi,_currentValue2:Qi,_threadCount:0};function QM(e,t,r,n,a,i,o,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ip(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ip(0),this.hiddenUpdates=Ip(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function jA(e,t,r,n,a,i,o,l,c,u,d,f){return e=new QM(e,t,r,o,c,u,d,f,l),t=1,i===!0&&(t|=24),i=_r(3,null,null,t),e.current=i,i.stateNode=e,t=B0(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},$0(i),e}function SA(e){return e?(e=ss,e):ss}function CA(e,t,r,n,a,i){a=SA(a),n.context===null?n.context=a:n.pendingContext=a,n=fi(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=hi(e,n,t),r!==null&&(ur(r,e,t),ec(r,e,t))}function Jw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fb(e,t){Jw(e,t),(e=e.alternate)&&Jw(e,t)}function EA(e){if(e.tag===13||e.tag===31){var t=Co(e,67108864);t!==null&&ur(t,e,67108864),fb(e,67108864)}}function Qw(e){if(e.tag===13||e.tag===31){var t=Rr();t=j0(t);var r=Co(e,t);r!==null&&ur(r,e,t),fb(e,t)}}var Bf=!0;function ez(e,t,r,n){var a=le.T;le.T=null;var i=je.p;try{je.p=2,hb(e,t,r,n)}finally{je.p=i,le.T=a}}function tz(e,t,r,n){var a=le.T;le.T=null;var i=je.p;try{je.p=8,hb(e,t,r,n)}finally{je.p=i,le.T=a}}function hb(e,t,r,n){if(Bf){var a=Yv(n);if(a===null)hg(e,t,n,If,r),e_(e,n);else if(nz(a,e,t,r,n))n.stopPropagation();else if(e_(e,n),t&4&&-1<rz.indexOf(e)){for(;a!==null;){var i=Ys(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Li(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var c=1<<31-Tr(o);l.entanglements[1]|=c,o&=~c}qn(i),!(_e&6)&&(Of=Ar()+500,uu(0))}}break;case 31:case 13:l=Co(i,2),l!==null&&ur(l,i,2),im(),fb(i,2)}if(i=Yv(n),i===null&&hg(e,t,n,If,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else hg(e,t,n,null,r)}}function Yv(e){return e=O0(e),mb(e)}var If=null;function mb(e){if(If=null,e=ts(e),e!==null){var t=tu(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=VE(t),e!==null)return e;e=null}else if(r===31){if(e=KE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return If=e,null}function OA(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(UP()){case ZE:return 2;case JE:return 8;case hf:case qP:return 32;case QE:return 268435456;default:return 32}default:return 32}}var Xv=!1,gi=null,vi=null,yi=null,kc=new Map,Tc=new Map,Qa=[],rz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(e,t){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":kc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function Nl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ys(t),t!==null&&EA(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function nz(e,t,r,n,a){switch(t){case"focusin":return gi=Nl(gi,e,t,r,n,a),!0;case"dragenter":return vi=Nl(vi,e,t,r,n,a),!0;case"mouseover":return yi=Nl(yi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return kc.set(i,Nl(kc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Tc.set(i,Nl(Tc.get(i)||null,e,t,r,n,a)),!0}return!1}function AA(e){var t=ts(e.target);if(t!==null){var r=tu(t);if(r!==null){if(t=r.tag,t===13){if(t=VE(r),t!==null){e.blockedOn=t,I1(e.priority,function(){Qw(r)});return}}else if(t===31){if(t=KE(r),t!==null){e.blockedOn=t,I1(e.priority,function(){Qw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yv(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mv=n,r.target.dispatchEvent(n),mv=null}else return t=Ys(r),t!==null&&EA(t),e.blockedOn=r,!1;t.shift()}return!0}function t_(e,t,r){rf(e)&&r.delete(t)}function az(){Xv=!1,gi!==null&&rf(gi)&&(gi=null),vi!==null&&rf(vi)&&(vi=null),yi!==null&&rf(yi)&&(yi=null),kc.forEach(t_),Tc.forEach(t_)}function ud(e,t){e.blockedOn===t&&(e.blockedOn=null,Xv||(Xv=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,az)))}var dd=null;function r_(e){dd!==e&&(dd=e,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,function(){dd===e&&(dd=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(mb(n||r)===null)continue;break}var i=Ys(r);i!==null&&(e.splice(t,3),t-=3,Tv(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Ps(e){function t(c){return ud(c,e)}gi!==null&&ud(gi,e),vi!==null&&ud(vi,e),yi!==null&&ud(yi,e),kc.forEach(t),Tc.forEach(t);for(var r=0;r<Qa.length;r++){var n=Qa[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Qa.length&&(r=Qa[0],r.blockedOn===null);)AA(r),r.blockedOn===null&&Qa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[dr]||null;if(typeof i=="function")o||r_(r);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[dr]||null)l=o.formAction;else if(mb(a)!==null)continue}else l=o.action;typeof l=="function"?r[n+1]=l:(r.splice(n,3),n-=3),r_(r)}}}function kA(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function pb(e){this._internalRoot=e}lm.prototype.render=pb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));var r=t.current,n=Rr();CA(r,n,e,t,null,null)};lm.prototype.unmount=pb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;CA(e.current,2,null,e,null,null),im(),t[Gs]=null}};function lm(e){this._internalRoot=e}lm.prototype.unstable_scheduleHydration=function(e){if(e){var t=aO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qa.length&&t!==0&&t<Qa[r].priority;r++);Qa.splice(r,0,e),r===0&&AA(e)}};var n_=HE.version;if(n_!=="19.2.3")throw Error(F(527,n_,"19.2.3"));je.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=PP(t),e=e!==null?GE(e):null,e=e===null?null:e.stateNode,e};var iz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{ru=fd.inject(iz),kr=fd}catch{}}Fh.createRoot=function(e,t){if(!FE(e))throw Error(F(299));var r=!1,n="",a=x2,i=w2,o=_2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=jA(e,1,!1,null,null,r,n,null,a,i,o,kA),e[Gs]=t.current,cb(e),new pb(t)};Fh.hydrateRoot=function(e,t,r){if(!FE(e))throw Error(F(299));var n=!1,a="",i=x2,o=w2,l=_2,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=jA(e,1,!0,t,r??null,n,a,c,i,o,l,kA),t.context=SA(null),r=t.current,n=Rr(),n=j0(n),a=fi(n),a.callback=null,hi(r,a,n),r=n,t.current.lanes=r,au(t,r),qn(t),e[Gs]=t.current,cb(e),new lm(t)};Fh.version="19.2.3";function TA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TA)}catch(e){console.error(e)}}TA(),IE.exports=Fh;var oz=IE.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}var li;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(li||(li={}));const a_="popstate";function sz(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Zv("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:RA(a)}return cz(t,r,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lz(){return Math.random().toString(36).substr(2,8)}function i_(e,t){return{usr:e.state,key:e.key,idx:t}}function Zv(e,t,r,n){return r===void 0&&(r=null),Rc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tl(t):t,{state:r,key:t&&t.key||n||lz()})}function RA(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function tl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cz(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=li.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Rc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=li.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:y})}function m(b,y){l=li.Push;let p=Zv(x.location,b,y);u=d()+1;let _=i_(p,u),w=x.createHref(p);try{o.pushState(_,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(w)}i&&c&&c({action:l,location:x.location,delta:1})}function h(b,y){l=li.Replace;let p=Zv(x.location,b,y);u=d();let _=i_(p,u),w=x.createHref(p);o.replaceState(_,"",w),i&&c&&c({action:l,location:x.location,delta:0})}function v(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof b=="string"?b:RA(b);return p=p.replace(/ $/,"%20"),dt(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let x={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(a_,f),c=b,()=>{a.removeEventListener(a_,f),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:h,go(b){return o.go(b)}};return x}var o_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(o_||(o_={}));function uz(e,t,r){return r===void 0&&(r="/"),dz(e,t,r)}function dz(e,t,r,n){let a=typeof t=="string"?tl(t):t,i=PA(a.pathname||"/",r);if(i==null)return null;let o=NA(e);fz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Sz(i);l=wz(o[c],u)}return l}function NA(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(dt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ao([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),NA(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:bz(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of DA(i.path))a(i,o,c)}),t}function DA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=DA(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function fz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hz=/^:[\w-]+$/,mz=3,pz=2,gz=1,vz=10,yz=-2,s_=e=>e==="*";function bz(e,t){let r=e.split("/"),n=r.length;return r.some(s_)&&(n+=yz),t&&(n+=pz),r.filter(a=>!s_(a)).reduce((a,i)=>a+(hz.test(i)?mz:i===""?gz:vz),n)}function xz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function wz(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=_z({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ao([i,f.pathname]),pathnameBase:kz(ao([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=ao([i,f.pathnameBase]))}return o}function _z(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[f];return h&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function jz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Sz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function PA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Cz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ez=e=>Cz.test(e);function Oz(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?tl(e):e,i;if(r)if(Ez(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),gb(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=l_(r.substring(1),"/"):i=l_(r,t)}else i=t;return{pathname:i,search:Tz(n),hash:Rz(a)}}function l_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function gg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Az(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function MA(e,t){let r=Az(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zA(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=tl(e):(a=Rc({},e),dt(!a.pathname||!a.pathname.includes("?"),gg("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),gg("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),gg("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Oz(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ao=e=>e.join("/").replace(/\/\/+/g,"/"),kz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const BA=["post","put","patch","delete"];new Set(BA);const Dz=["get",...BA];new Set(Dz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}const vb=g.createContext(null),Pz=g.createContext(null),hu=g.createContext(null),cm=g.createContext(null),ki=g.createContext({outlet:null,matches:[],isDataRoute:!1}),IA=g.createContext(null);function mu(){return g.useContext(cm)!=null}function um(){return mu()||dt(!1),g.useContext(cm).location}function LA(e){g.useContext(hu).static||g.useLayoutEffect(e)}function Ti(){let{isDataRoute:e}=g.useContext(ki);return e?Yz():Mz()}function Mz(){mu()||dt(!1);let e=g.useContext(vb),{basename:t,future:r,navigator:n}=g.useContext(hu),{matches:a}=g.useContext(ki),{pathname:i}=um(),o=JSON.stringify(MA(a,r.v7_relativeSplatPath)),l=g.useRef(!1);return LA(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=zA(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ao([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const zz=g.createContext(null);function Bz(e){let t=g.useContext(ki).outlet;return t&&g.createElement(zz.Provider,{value:e},t)}function Iz(e,t){return Lz(e,t)}function Lz(e,t,r,n){mu()||dt(!1);let{navigator:a}=g.useContext(hu),{matches:i}=g.useContext(ki),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=um(),d;if(t){var f;let b=typeof t=="string"?tl(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||dt(!1),d=b}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=uz(e,{pathname:h}),x=Hz(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ao([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ao([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&x?g.createElement(cm.Provider,{value:{location:Nc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:li.Pop}},x):x}function $z(){let e=Gz(),t=Nz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,null)}const Uz=g.createElement($z,null);class qz extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(ki.Provider,{value:this.props.routeContext},g.createElement(IA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wz(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(vb);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(ki.Provider,{value:t},n)}function Hz(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||dt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,v=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let h,v=!1,x=null,b=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||Uz,c&&(u<0&&m===0?(Xz("route-fallback"),v=!0,b=null):u===m&&(v=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),p=()=>{let _;return h?_=x:v?_=b:f.route.Component?_=g.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,g.createElement(Wz,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(qz,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var $A=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($A||{}),UA=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(UA||{});function Fz(e){let t=g.useContext(vb);return t||dt(!1),t}function Vz(e){let t=g.useContext(Pz);return t||dt(!1),t}function Kz(e){let t=g.useContext(ki);return t||dt(!1),t}function qA(e){let t=Kz(),r=t.matches[t.matches.length-1];return r.route.id||dt(!1),r.route.id}function Gz(){var e;let t=g.useContext(IA),r=Vz(),n=qA();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Yz(){let{router:e}=Fz($A.UseNavigateStable),t=qA(UA.UseNavigateStable),r=g.useRef(!1);return LA(()=>{r.current=!0}),g.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Nc({fromRouteId:t},i)))},[e,t])}const c_={};function Xz(e,t,r){c_[e]||(c_[e]=!0)}function Zz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function WA(e){let{to:t,replace:r,state:n,relative:a}=e;mu()||dt(!1);let{future:i,static:o}=g.useContext(hu),{matches:l}=g.useContext(ki),{pathname:c}=um(),u=Ti(),d=zA(t,MA(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Jz(e){return Bz(e.context)}function Tn(e){dt(!1)}function Qz(e){let{basename:t="/",children:r=null,location:n,navigationType:a=li.Pop,navigator:i,static:o=!1,future:l}=e;mu()&&dt(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Nc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=tl(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:v="default"}=n,x=g.useMemo(()=>{let b=PA(d,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:h,key:v},navigationType:a}},[c,d,f,m,h,v,a]);return x==null?null:g.createElement(hu.Provider,{value:u},g.createElement(cm.Provider,{children:r,value:x}))}function e3(e){let{children:t,location:r}=e;return Iz(Jv(t),r)}new Promise(()=>{});function Jv(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,Jv(n.props.children,i));return}n.type!==Tn&&dt(!1),!n.props.index||!n.props.children||dt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Jv(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function t3(e,t){let r=Qv(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const r3="6";try{window.__reactRouterVersion=r3}catch{}const n3="startTransition",u_=BE[n3];function a3(e){let{basename:t,children:r,future:n,window:a}=e,i=g.useRef();i.current==null&&(i.current=sz({window:a,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(f=>{u&&u_?u_(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>Zz(n),[n]),g.createElement(Qz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var d_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(d_||(d_={}));var f_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(f_||(f_={}));function yb(e){let t=g.useRef(Qv(e)),r=g.useRef(!1),n=um(),a=g.useMemo(()=>t3(n.search,r.current?null:t.current),[n.search]),i=Ti(),o=g.useCallback((l,c)=>{const u=Qv(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var ey=function(e,t){return ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ey(e,t)};function HA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ey(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Lf=function(){return Lf=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Lf.apply(this,arguments)};function rl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function FA(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function VA(e,t){return function(r,n){t(r,n,e)}}function KA(e,t,r,n,a,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,m=!1,h=r.length-1;h>=0;h--){var v={};for(var x in n)v[x]=x==="access"?{}:n[x];for(var x in n.access)v.access[x]=n.access[x];v.addInitializer=function(y){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var b=(0,r[h])(l==="accessor"?{get:d.get,set:d.set}:d[c],v);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=o(b.get))&&(d.get=f),(f=o(b.set))&&(d.set=f),(f=o(b.init))&&a.unshift(f)}else(f=o(b))&&(l==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),m=!0}function GA(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function YA(e){return typeof e=="symbol"?e:"".concat(e)}function XA(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function ZA(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Q(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function JA(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var dm=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function QA(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dm(t,e,r)}function $f(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bb(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function ek(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bb(arguments[t]));return e}function tk(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function rk(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ms(e){return this instanceof Ms?(this.v=e,this):new Ms(e)}function nk(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(h){return function(v){return Promise.resolve(v).then(h,f)}}function l(h,v){n[h]&&(a[h]=function(x){return new Promise(function(b,y){i.push([h,x,b,y])>1||c(h,x)})},v&&(a[h]=v(a[h])))}function c(h,v){try{u(n[h](v))}catch(x){m(i[0][3],x)}}function u(h){h.value instanceof Ms?Promise.resolve(h.value.v).then(d,f):m(i[0][2],h)}function d(h){c("next",h)}function f(h){c("throw",h)}function m(h,v){h(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ak(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Ms(e[a](o)),done:!1}:i?i(o):o}:i}}function ik(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof $f=="function"?$f(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),a(l,c,o.done,o.value)})}}function a(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function ok(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var i3=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},ty=function(e){return ty=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ty(e)};function sk(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ty(e),n=0;n<r.length;n++)r[n]!=="default"&&dm(t,e,r[n]);return i3(t,e),t}function lk(e){return e&&e.__esModule?e:{default:e}}function ck(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function uk(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function dk(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function fk(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var o3=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function hk(e){function t(i){e.error=e.hasError?new o3(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function mk(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const s3={__extends:HA,__assign:Lf,__rest:rl,__decorate:FA,__param:VA,__esDecorate:KA,__runInitializers:GA,__propKey:YA,__setFunctionName:XA,__metadata:ZA,__awaiter:Q,__generator:JA,__createBinding:dm,__exportStar:QA,__values:$f,__read:bb,__spread:ek,__spreadArrays:tk,__spreadArray:rk,__await:Ms,__asyncGenerator:nk,__asyncDelegator:ak,__asyncValues:ik,__makeTemplateObject:ok,__importStar:sk,__importDefault:lk,__classPrivateFieldGet:ck,__classPrivateFieldSet:uk,__classPrivateFieldIn:dk,__addDisposableResource:fk,__disposeResources:hk,__rewriteRelativeImportExtension:mk},l3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:fk,get __assign(){return Lf},__asyncDelegator:ak,__asyncGenerator:nk,__asyncValues:ik,__await:Ms,__awaiter:Q,__classPrivateFieldGet:ck,__classPrivateFieldIn:dk,__classPrivateFieldSet:uk,__createBinding:dm,__decorate:FA,__disposeResources:hk,__esDecorate:KA,__exportStar:QA,__extends:HA,__generator:JA,__importDefault:lk,__importStar:sk,__makeTemplateObject:ok,__metadata:ZA,__param:VA,__propKey:YA,__read:bb,__rest:rl,__rewriteRelativeImportExtension:mk,__runInitializers:GA,__setFunctionName:XA,__spread:ek,__spreadArray:rk,__spreadArrays:tk,__values:$f,default:s3},Symbol.toStringTag,{value:"Module"})),c3="modulepreload",u3=function(e){return"/"+e},h_={},nl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=u3(c),c in h_)return;h_[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":c3,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},d3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Oo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class m_ extends xb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class p_ extends xb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class g_ extends xb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ry;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ry||(ry={}));class f3{constructor(t,{headers:r={},customFetch:n,region:a=ry.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=d3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Q(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const h=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new m_(y)}),v=h.headers.get("x-relay-error");if(v&&v==="true")throw new p_(h);if(!h.ok)throw new g_(h);let x=((a=h.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield h.json():x==="application/octet-stream"||x==="application/pdf"?b=yield h.blob():x==="text/event-stream"?b=h:x==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new m_(i)}:{data:null,error:i,response:i instanceof g_||i instanceof p_?i.context:void 0}}})}}var Yt={};const al=OE(l3);var hd={},md={},pd={},gd={},vd={},h3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zs=h3();const m3=zs.fetch,pk=zs.fetch.bind(zs),gk=zs.Headers,p3=zs.Request,g3=zs.Response,Oo=Object.freeze(Object.defineProperty({__proto__:null,Headers:gk,Request:p3,Response:g3,default:pk,fetch:m3},Symbol.toStringTag,{value:"Module"})),v3=OE(Oo);var yd={},v_;function vk(){if(v_)return yd;v_=1,Object.defineProperty(yd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yd.default=e,yd}var y_;function yk(){if(y_)return vd;y_=1,Object.defineProperty(vd,"__esModule",{value:!0});const e=al,t=e.__importDefault(v3),r=e.__importDefault(vk());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m,h;let v=null,x=null,b=null,y=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=C:x=JSON.parse(C))}const w=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&j&&j.length>1&&(b=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,y=406,p="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const w=await u.text();try{v=JSON.parse(w),Array.isArray(v)&&u.status===404&&(x=[],v=null,y=200,p="OK")}catch{u.status===404&&w===""?(y=204,p="No Content"):v={message:w}}if(v&&this.isMaybeSingle&&(!((h=v==null?void 0:v.details)===null||h===void 0)&&h.includes("0 rows"))&&(v=null,y=200,p="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:x,count:b,status:y,statusText:p}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,m;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return vd.default=n,vd}var b_;function bk(){if(b_)return gd;b_=1,Object.defineProperty(gd,"__esModule",{value:!0});const t=al.__importDefault(yk());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return gd.default=r,gd}var x_;function wb(){if(x_)return pd;x_=1,Object.defineProperty(pd,"__esModule",{value:!0});const t=al.__importDefault(bk()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return pd.default=n,pd}var w_;function xk(){if(w_)return md;w_=1,Object.defineProperty(md,"__esModule",{value:!0});const t=al.__importDefault(wb());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(f.length>0){const m=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return md.default=r,md}var __;function y3(){if(__)return hd;__=1,Object.defineProperty(hd,"__esModule",{value:!0});const e=al,t=e.__importDefault(xk()),r=e.__importDefault(wb());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${i}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{m.searchParams.append(x,b)})):(f="POST",h=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:v,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return hd.default=n,hd}Object.defineProperty(Yt,"__esModule",{value:!0});var wk=Yt.PostgrestError=Rk=Yt.PostgrestBuilder=kk=Yt.PostgrestTransformBuilder=Ok=Yt.PostgrestFilterBuilder=Ck=Yt.PostgrestQueryBuilder=jk=Yt.PostgrestClient=void 0;const il=al,_k=il.__importDefault(y3());var jk=Yt.PostgrestClient=_k.default;const Sk=il.__importDefault(xk());var Ck=Yt.PostgrestQueryBuilder=Sk.default;const Ek=il.__importDefault(wb());var Ok=Yt.PostgrestFilterBuilder=Ek.default;const Ak=il.__importDefault(bk());var kk=Yt.PostgrestTransformBuilder=Ak.default;const Tk=il.__importDefault(yk());var Rk=Yt.PostgrestBuilder=Tk.default;const Nk=il.__importDefault(vk());wk=Yt.PostgrestError=Nk.default;var Dk=Yt.default={PostgrestClient:_k.default,PostgrestQueryBuilder:Sk.default,PostgrestFilterBuilder:Ek.default,PostgrestTransformBuilder:Ak.default,PostgrestBuilder:Tk.default,PostgrestError:Nk.default};const b3=EE({__proto__:null,get PostgrestBuilder(){return Rk},get PostgrestClient(){return jk},get PostgrestError(){return wk},get PostgrestFilterBuilder(){return Ok},get PostgrestQueryBuilder(){return Ck},get PostgrestTransformBuilder(){return kk},default:Dk},[Yt]),{PostgrestClient:x3,PostgrestQueryBuilder:Pre,PostgrestFilterBuilder:Mre,PostgrestTransformBuilder:zre,PostgrestBuilder:Bre,PostgrestError:Ire}=Dk||b3;class w3{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _3="2.78.0",j3=`realtime-js/${_3}`,S3="1.0.0",ny=1e4,C3=1e3,E3=100;var cc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cc||(cc={}));var ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ht||(ht={}));var fn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fn||(fn={}));var ay;(function(e){e.websocket="websocket"})(ay||(ay={}));var Vi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vi||(Vi={}));class O3{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Pk{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Me||(Me={}));const j_=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=A3(o,e,t,a),i),{}):{}},A3=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?Mk(i,o):iy(o)},Mk=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return N3(t,r)}switch(e){case Me.bool:return k3(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return T3(t);case Me.json:case Me.jsonb:return R3(t);case Me.timestamp:return D3(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return iy(t);default:return iy(t)}},iy=e=>e,k3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},T3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},N3=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Mk(t,l))}return e},D3=e=>typeof e=="string"?e.replace(" ","T"):e,zk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class vg{constructor(t,r,n={},a=ny){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var S_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(S_||(S_={}));class uc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uc.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=uc.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=uc.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),v=d.filter(b=>h.indexOf(b.presence_ref)<0),x=f.filter(b=>m.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(C_||(C_={}));var dc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dc||(dc={}));var Jn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jn||(Jn={}));class _b{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vg(this,fn.join,this.params,this.timeout),this.rejoinTimer=new Pk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fn.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new uc(this),this.broadcastEndpointURL=zk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[dc.PRESENCE]&&this.bindings[dc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Jn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Jn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket.setAuth(),h===void 0){t==null||t(Jn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,y=[];for(let p=0;p<b;p++){const _=x[p],{filter:{event:w,schema:j,table:C,filter:S}}=_,E=h&&h[p];if(E&&E.event===w&&E.schema===j&&E.table===C&&E.filter===S)y.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=ht.errored,t==null||t(Jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Jn.SUBSCRIBED);return}}).receive("error",h=>{this.state=ht.errored,t==null||t(Jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ht.joined&&t===dc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ht.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new vg(this,fn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new vg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>E3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=fn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var v,x,b;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=h.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(h=>h.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var v,x,b,y,p,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const w=h.id,j=(v=h.filter)===null||v===void 0?void 0:v.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(p=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:x,table:b,commit_timestamp:y,type:p,errors:_}=v;m=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:p,new:{},old:{},errors:_}),this._getPayloadRecords(v))}h.callback(m,n)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&_b.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fn.close,{},t)}_onError(t){this._on(fn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=j_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=j_(t.columns,t.old_record)),r}}const yg=()=>{},bd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},P3=[1e3,2e3,5e3,1e4],M3=1e4,z3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class B3{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ny,this.transport=null,this.heartbeatIntervalMs=bd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yg,this.ref=0,this.reconnectTimer=null,this.logger=yg,this.conn=null,this.sendBuffer=[],this.serializer=new O3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>nl(async()=>{const{default:l}=await Promise.resolve().then(()=>Oo);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ay.websocket}`,this.httpEndpoint=zk(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w3.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:S3}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cc.connecting:return Vi.Connecting;case cc.open:return Vi.Open;case cc.closing:return Vi.Closing;default:return Vi.Closed}}isConnected(){return this.connectionState()===Vi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new _b(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(C3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([z3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:j3};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(fn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Pk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ny,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:bd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:yg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>P3[f-1]||M3,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class jb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class I3 extends jb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oy extends jb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Sb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Oo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},L3=()=>Q(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nl(()=>Promise.resolve().then(()=>Oo),void 0)).Response:Response}),sy=e=>{if(Array.isArray(e))return e.map(r=>sy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=sy(n)}),t},$3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},U3=(e,t,r)=>Q(void 0,void 0,void 0,function*(){const n=yield L3();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new I3(bg(a),i,o))}).catch(a=>{t(new oy(bg(a),a))}):t(new oy(bg(e),e))}),q3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:($3(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function pu(e,t,r,n,a,i){return Q(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,q3(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>U3(c,l,n))})})}function Dc(e,t,r,n){return Q(this,void 0,void 0,function*(){return pu(e,"GET",t,r,n)})}function un(e,t,r,n,a){return Q(this,void 0,void 0,function*(){return pu(e,"POST",t,n,a,r)})}function ly(e,t,r,n,a){return Q(this,void 0,void 0,function*(){return pu(e,"PUT",t,n,a,r)})}function W3(e,t,r,n){return Q(this,void 0,void 0,function*(){return pu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Cb(e,t,r,n,a){return Q(this,void 0,void 0,function*(){return pu(e,"DELETE",t,n,a,r)})}class H3{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ke(t))return{data:null,error:t};throw t}})}}var Bk;class F3{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Bk]="BlobDownloadBuilder",this.promise=null}asStream(){return new H3(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ke(t))return{data:null,error:t};throw t}})}}Bk=Symbol.toStringTag;const V3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},E_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K3{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Sb(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Q(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},E_),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ly:un)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Q(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:E_.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ly(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Q(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield un(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new jb("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}update(t,r,n){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Q(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Q(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield un(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Q(this,void 0,void 0,function*(){try{const a=yield un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Dc(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new F3(c,this.shouldThrowOnError)}info(t){return Q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Dc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:sy(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}exists(t){return Q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield W3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n)&&n instanceof oy){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Cb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}list(t,r,n){return Q(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},V3),r),{prefix:t||""});return{data:yield un(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}listV2(t,r){return Q(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield un(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ik="2.78.0",Lk={"X-Client-Info":`storage-js/${Ik}`};class G3{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lk),r),this.fetch=Sb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Dc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}createBucket(t){return Q(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield un(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Q(this,void 0,void 0,function*(){try{return{data:yield ly(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Cb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Y3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lk),r),this.fetch=Sb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Dc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Cb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}}const Eb={"X-Client-Info":`storage-js/${Ik}`,"Content-Type":"application/json"};class $k extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class xg extends $k{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class X3 extends $k{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var O_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(O_||(O_={}));const Ob=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Oo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},A_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),J3=(e,t,r)=>Q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new xg(A_(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new xg(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new xg(l,a,o))}}else t(new X3(A_(e),e))}),Q3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Z3(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function e8(e,t,r,n,a,i){return Q(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Q3(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>J3(c,l,n))})})}function Sr(e,t,r,n,a){return Q(this,void 0,void 0,function*(){return e8(e,"POST",t,n,a,r)})}class t8{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Eb),r),this.fetch=Ob(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Q(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}})}listIndexes(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Q(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}})}}class r8{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Eb),r),this.fetch=Ob(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Sr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}getVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}listVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Sr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}queryVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Sr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}}class n8{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Eb),r),this.fetch=Ob(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}listBuckets(){return Q(this,arguments,void 0,function*(t={}){try{return{data:yield Sr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}}class a8 extends n8{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new i8(this.url,this.headers,t,this.fetch)}}class i8 extends t8{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new o8(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class o8 extends r8{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class s8 extends G3{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new K3(this.url,this.headers,t,this.fetch)}get vectors(){return new a8(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Y3(this.url+"/iceberg",this.headers,this.fetch)}}const l8="2.78.0";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const c8={"X-Client-Info":`supabase-js-${Vl}/${l8}`},u8={headers:c8},d8={schema:"public"},f8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h8={},m8=e=>{let t;return e?t=e:typeof fetch>"u"?t=pk:t=fetch,(...r)=>t(...r)},p8=()=>typeof Headers>"u"?gk:Headers,g8=(e,t,r)=>{const n=m8(r),a=p8();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function v8(e){return e.endsWith("/")?e:e+"/"}function y8(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function b8(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(v8(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Uk="2.78.0",Xo=30*1e3,cy=3,wg=cy*Xo,x8="http://localhost:9999",w8="supabase.auth.token",_8={"X-Client-Info":`gotrue-js/${Uk}`},uy="X-Supabase-Api-Version",qk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S8=10*60*1e3;class Pc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class C8 extends Pc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function E8(e){return te(e)&&e.name==="AuthApiError"}class Ki extends Pc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ri extends Pc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ln extends Ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function O8(e){return te(e)&&e.name==="AuthSessionMissingError"}class Lo extends Ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xd extends Ri{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wd extends Ri{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function A8(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class k_ extends Ri{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dy extends Ri{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function _g(e){return te(e)&&e.name==="AuthRetryableFetchError"}class T_ extends Ri{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fy extends Ri{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R_=` 	
\r=`.split(""),k8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<R_.length;t+=1)e[R_[t].charCodeAt(0)]=-2;for(let t=0;t<Uf.length;t+=1)e[Uf[t].charCodeAt(0)]=t;return e})();function N_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Uf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Uf[n]),t.queuedBits-=6}}function Wk(e,t,r){const n=k8[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function D_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{N8(o,n,r)};for(let o=0;o<e.length;o+=1)Wk(e.charCodeAt(o),a,i);return t.join("")}function T8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R8(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}T8(n,t)}}function N8(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xs(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Wk(e.charCodeAt(a),r,n);return new Uint8Array(t)}function D8(e){const t=[];return R8(e,r=>t.push(r)),new Uint8Array(t)}function Gi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>N_(a,r,n)),N_(null,r,n),t.join("")}function P8(e){return Math.round(Date.now()/1e3)+e}function M8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kt=()=>typeof window<"u"&&typeof document<"u",zi={tested:!1,writable:!1},Hk=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zi.tested)return zi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zi.tested=!0,zi.writable=!0}catch{zi.tested=!0,zi.writable=!1}return zi.writable};function z8(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Fk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Oo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},B8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ha=async(e,t)=>{await e.removeItem(t)};class fm{constructor(){this.promise=new fm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fm.promiseConstructor=Promise;function jg(e){const t=e.split(".");if(t.length!==3)throw new fy("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!j8.test(t[n]))throw new fy("JWT not in base64url format");return{header:JSON.parse(D_(t[0])),payload:JSON.parse(D_(t[1])),signature:xs(t[2]),raw:{header:t[0],payload:t[1]}}}async function I8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function L8(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function $8(e){return("0"+e.toString(16)).substr(-2)}function U8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,$8).join("")}async function q8(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function W8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await q8(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $o(e,t,r=!1){const n=U8();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Zo(e,`${t}-code-verifier`,a);const i=await W8(n);return[i,n===i?"plain":"s256"]}const H8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F8(e){const t=e.headers.get(uy);if(!t||!t.match(H8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function V8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function K8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const G8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uo(e){if(!G8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Y8(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function P_(e){return JSON.parse(JSON.stringify(e))}const qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X8=[502,503,504];async function M_(e){var t;if(!B8(e))throw new dy(qi(e),0);if(X8.includes(e.status))throw new dy(qi(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ki(qi(i),i)}let n;const a=F8(e);if(a&&a.getTime()>=qk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new T_(qi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ln}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new T_(qi(r),e.status,r.weak_password.reasons);throw new C8(qi(r),e.status||500,n)}const Z8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function se(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[uy]||(i[uy]=qk["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await J8(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function J8(e,t,r,n,a,i){const o=Z8(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new dy(qi(c),0)}if(l.ok||await M_(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await M_(c)}}function cn(e){var t;let r=null;tB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=P8(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function z_(e){const t=cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ei(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Q8(e){return{data:e,error:null}}function eB(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=rl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function B_(e){return e}function tB(e){return e.access_token&&e.refresh_token&&e.expires_in}const Cg=["global","local","others"];class rB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Fk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Cg[0]){if(Cg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cg.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ei})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=rl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:eB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ei})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:B_});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Uo(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ei})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Uo(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ei})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Uo(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ei})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Uo(t.userId);try{const{data:r,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Uo(t.userId),Uo(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:B_});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(te(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}}function I_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const qo={debug:!!(globalThis&&Hk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nB extends Vk{}async function aB(e,t,r){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function iB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function oB(e){return parseInt(e,16)}function sB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function lB(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=Kk(e.address),v=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${h}

${x}`;let y=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);p+=`
- ${_}`}y+=p}return`${b}
${y}`}class it extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class qf extends it{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function cB({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Gk(o)){if(i.rp.id!==o)return new it({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function uB({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Gk(n)){if(r.rpId!==n)return new it({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class dB{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const fB=new dB;function hB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=rl(e,["challenge","user","excludeCredentials"]),i=xs(t).buffer,o=Object.assign(Object.assign({},r),{id:xs(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:xs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function mB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=rl(e,["challenge","allowCredentials"]),a=xs(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:xs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function pB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Gi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Gi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Gi(new Uint8Array(a.authenticatorData)),clientDataJSON:Gi(new Uint8Array(a.clientDataJSON)),signature:Gi(new Uint8Array(a.signature)),userHandle:a.userHandle?Gi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Gk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function L_(){var e,t;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function vB(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qf("Browser returned unexpected credential type",t)}:{data:null,error:new qf("Empty credential response",t)}}catch(t){return{data:null,error:cB({error:t,options:e})}}}async function yB(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qf("Browser returned unexpected credential type",t)}:{data:null,error:new qf("Empty credential response",t)}}catch(t){return{data:null,error:uB({error:t,options:e})}}}const bB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},xB={userVerification:"preferred",hints:["security-key"]};function Wf(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Wf(l,o):n[i]=Wf(o)}else n[i]=o}return n}function wB(e,t){return Wf(bB,e,t||{})}function _B(e,t){return Wf(xB,e,t||{})}class jB{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??fB.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=wB(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await vB({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=_B(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await yB(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new Ki("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Pc("rpId is required for WebAuthn authentication")};try{if(!L_())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new Ki("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Pc("rpId is required for WebAuthn registration")};try{if(!L_())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new Ki("Unexpected error in register",o)}}}}iB();const SB={url:x8,storageKey:w8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $_(e,t,r){return await r()}const Wo={};class Mc{get jwks(){var t,r;return(r=(t=Wo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Wo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mc.nextInstanceID,Mc.nextInstanceID+=1,this.instanceID>0&&Kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},SB),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new rB({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Fk(a.fetch),this.lock=a.lock||$_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=aB:this.lock=$_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Hk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=I_(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Uk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=z8(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Kt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),A8(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?{error:r}:{error:new Ki("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:cn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await $o(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:v},xform:cn})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:cn})}else throw new xd("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:z_})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:z_})}else throw new xd("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Lo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,m;let h,v;if("message"in t)h=t.message,v=t.signature;else{const{chain:x,wallet:b,statement:y,options:p}=t;let _;if(Kt())if(typeof b=="object")_=b;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const w=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Kk(j[0]);let S=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const k=await _.request({method:"eth_chainId"});S=oB(k)}const E={domain:w.host,address:C,statement:y,uri:w.href,version:"1",chainId:S,nonce:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=lB(E),v=await _.request({method:"personal_sign",params:[sB(h),C]})}try{const{data:x,error:b}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:cn});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Lo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(te(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,m,h;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:b,wallet:y,statement:p,options:_}=t;let w;if(Kt())if(typeof y=="object")w=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))w=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const j=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const C=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let S;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")S=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)S=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const C=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:b,error:y}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Gi(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:cn});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Lo}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(te(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Bi(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:cn});if(await Ha(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Lo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(te(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:cn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Lo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $o(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xd("You must provide either an email or phone number.")}catch(l){if(te(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:cn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await $o(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Q8})}catch(i){if(te(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ln;const{error:a}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new xd("You must provide either an email or phone number and a type")}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Bi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Sg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Y8(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ei}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ln}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ei})})}catch(r){if(te(r))return O8(r)&&(await this._removeSession(),await Ha(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ln;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $o(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ei});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ln;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=jg(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ln;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Kt())throw new wd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new k_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new k_("No code detected.");const{data:p,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new wd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const h=m-d;h*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=m-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(E8(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ha(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=M8(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await $o(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(te(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Kt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(te(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:cn}),{data:m,error:h}=f;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Lo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:h})}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await L8(async a=>(a>0&&await I8(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&_g(i)&&Date.now()+o-n<Xo})}catch(n){if(this._debug(r,"error",n),te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Bi(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Bi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Zo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Sg()}else if(a&&!a.user&&!a.user){const o=await Bi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Ha(this.storage,this.storageKey+"-user"),await Zo(this.storage,this.storageKey,a)):a.user=Sg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${wg}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),_g(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new fm;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ln;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),te(i)){const o={data:null,error:i};return _g(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=P_(a);await Zo(this.storage,this.storageKey,i)}else{const a=P_(r);await Zo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ha(this.storage,this.storageKey),await Ha(this.storage,this.storageKey+"-code-verifier"),await Ha(this.storage,this.storageKey+"-user"),this.userStorage&&await Ha(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Xo}ms, refresh threshold is ${cy} ticks`),a<=cy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await $o(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?pB(t.webauthn.credential_response):gB(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:hB(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:mB(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=jg(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new ln}})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new ln};const o=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Kt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new ln};const o=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Kt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(te(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+S8>a)return n;const{data:i,error:o}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=jg(n);r!=null&&r.allowExpired||V8(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const d=K8(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,D8(`${l}.${c}`)))throw new fy("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}Mc.nextInstanceID=0;const CB=Mc;class EB extends CB{constructor(t){super(t)}}class OB{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=b8(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:d8,realtime:h8,auth:Object.assign(Object.assign({},f8),{storageKey:c}),global:u8},d=y8(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=g8(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new x3(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new s8(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new f3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EB({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new B3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const AB=(e,t,r)=>new OB(e,t,r);function kB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}kB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TB="https://abbysvxnnhwvvzhftoms.supabase.co",RB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",U=AB(TB,RB);function NB(){const[e,t]=g.useState(""),[r,n]=g.useState(""),[a,i]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState(""),[d,f]=g.useState(""),m=Ti();g.useEffect(()=>{const{data:{subscription:x}}=U.auth.onAuthStateChange(async(b,y)=>{b==="PASSWORD_RECOVERY"&&l(!0)});return window.location.search.includes("reset=true")&&l(!0),()=>x.unsubscribe()},[]);const h=async x=>{if(x.preventDefault(),c!==d){alert("As senhas no coincidem!");return}i(!0);try{const{error:b}=await U.auth.updateUser({password:c});if(b)throw b;alert("Senha atualizada com sucesso! Agora voc pode fazer login."),l(!1),u(""),f(""),m("/login")}catch(b){alert("Erro ao atualizar senha: "+b.message)}finally{i(!1)}},v=async x=>{x.preventDefault(),i(!0);const{error:b}=await U.auth.signInWithPassword({email:e,password:r});b?b.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(b.message):m("/dashboard"),i(!1)};return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:o?s.jsxs("form",{onSubmit:h,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"}}),s.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Defina sua nova senha"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Nova Senha"}),s.jsx("input",{type:"password",value:c,onChange:x=>u(x.target.value),className:"input",placeholder:"",required:!0,minLength:6})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Confirmar Nova Senha"}),s.jsx("input",{type:"password",value:d,onChange:x=>f(x.target.value),className:"input",placeholder:"",required:!0,minLength:6})]}),s.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Atualizar Senha"}),s.jsx("button",{type:"button",onClick:()=>l(!1),style:{background:"none",border:"none",color:"var(--color-primary)",width:"100%",marginTop:"1rem",cursor:"pointer"},children:"Cancelar"})]}):s.jsxs("form",{onSubmit:v,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:x=>{x.target.onerror=null,x.target.style.display="none",x.target.nextSibling.style.display="block"}}),s.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),s.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:x=>t(x.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),s.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:x}=await U.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/login?reset=true"});i(!1),alert(x?"Erro ao enviar email: "+x.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),s.jsx("input",{id:"password",type:"password",value:r,onChange:x=>n(x.target.value),className:"input",placeholder:"",required:!0})]}),s.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),s.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[s.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),s.jsx("button",{type:"button",onClick:()=>m("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const Sn=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},zc=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const l=await o.json(),c=l.estabelecimento||{},u=l.socios&&l.socios.length>0?l.socios[0]:null;return{nome:l.razao_social,fantasia:c.nome_fantasia,doc:t,email:c.email,telefone:c.ddd1&&c.telefone1?`(${c.ddd1}) ${c.telefone1}`:"",address:{logradouro:c.tipo_logradouro?`${c.tipo_logradouro} ${c.logradouro}`:c.logradouro,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cep:c.cep,uf:(n=c.estado)==null?void 0:n.sigla,municipio:(a=c.cidade)==null?void 0:a.nome,cidade:(i=c.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:l}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},Yk=async e=>{var t;try{const{data:r,error:n}=await U.functions.invoke("manage-asaas-customer",{body:e});if(n){let a=n.message;try{const i=await((t=n.context)==null?void 0:t.json());i!=null&&i.error&&(a=i.error)}catch(i){console.warn("Could not parse error body:",i)}throw new Error(a)}return r}catch(r){throw console.error("Erro Asaas Customer:",r),r}},gu=async e=>{const{data:t,error:r}=await U.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},hm=async(e,t="invoice")=>{var i;const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await U.functions.invoke("create-asaas-charge",{body:r});if(a){let o=a.message;try{const l=await((i=a.context)==null?void 0:i.json());l!=null&&l.error&&(o=l.error)}catch{}throw new Error(o)}return n},hy=async(e,t,r,n)=>{var a;try{const{data:i,error:o}=await U.functions.invoke("send-whatsapp",{body:{phone:e?e.replace(/\D/g,""):"",text:t,mediaUrl:r,instanceName:n}});if(o){let l=o.message;try{const c=await((a=o.context)==null?void 0:a.json());c!=null&&c.error&&(l=c.error)}catch{}throw new Error(l)}if(i!=null&&i.error)throw new Error(i.error);return i}catch(i){throw console.error("Erro ao enviar WhatsApp:",i),i}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),U_=e=>{const t=PB(e);return t.charAt(0).toUpperCase()+t.slice(1)},Xk=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),MB=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...zB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Xk("lucide",a),...!i&&!MB(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const r=g.forwardRef(({className:n,...a},i)=>g.createElement(BB,{ref:i,iconNode:t,className:Xk(`lucide-${DB(U_(e))}`,`lucide-${e}`,n),...a}));return r.displayName=U_(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LB=ue("arrow-right",IB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],q_=ue("briefcase",$B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],qB=ue("calculator",UB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zk=ue("calendar",WB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],FB=ue("chart-no-axes-column-increasing",HB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Jk=ue("chevron-down",VB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],GB=ue("chevron-left",KB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XB=ue("chevron-right",YB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qk=ue("chevron-up",ZB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],eT=ue("circle-alert",JB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tT=ue("circle-check-big",QB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tI=ue("circle-question-mark",eI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rT=ue("clock",rI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],aI=ue("code",nI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],oI=ue("copy",iI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],vu=ue("credit-card",sI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],mm=ue("dollar-sign",lI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ab=ue("eye-off",cI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bc=ue("eye",uI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Si=ue("file-text",dI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],hI=ue("funnel",fI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],pI=ue("grip-vertical",mI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],kb=ue("history",gI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],pm=ue("house",vI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],bI=ue("info",yI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Hf=ue("key",xI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Eg=ue("layout-dashboard",wI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],jI=ue("link",_I);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CI=ue("log-out",SI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],OI=ue("map-pin",EI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],kI=ue("megaphone",AI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],RI=ue("menu",TI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DI=ue("pen",NI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ol=ue("plus",PI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tb=ue("save",MI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rb=ue("search",zI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],II=ue("send",BI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],$I=ue("server",LI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nb=ue("settings",UI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],WI=ue("square-pen",qI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yu=ue("trash-2",HI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],VI=ue("truck",FI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nT=ue("user-check",KI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Db=ue("user",GI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pb=ue("users",YI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ba=ue("x",XI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ao=ue("zap",ZI),aT=g.createContext(),hr=()=>{const e=g.useContext(aT);if(!e)throw new Error("useUI must be used within a UIProvider");return e},JI=({children:e})=>{const[t,r]=g.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=g.useRef(null),a=()=>{r(u=>({...u,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(u=>({...u,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(u,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:u,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},l=(u,d="Confirmao",f="Confirmar",m="Cancelar")=>new Promise(h=>{n.current=h,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:u,confirmText:f,cancelText:m,onConfirm:()=>{},onCancel:()=>{}})}),c=()=>{switch(t.variant){case"error":return s.jsx(eT,{size:32,color:"#ef4444"});case"success":return s.jsx(tT,{size:32,color:"#22c55e"});case"warning":return s.jsx(tI,{size:32,color:"#f59e0b"});default:return s.jsx(bI,{size:32,color:"#3b82f6"})}};return s.jsxs(aT.Provider,{value:{showAlert:o,showConfirm:l},children:[e,t.isOpen&&s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[s.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[s.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:c()}),s.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),s.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:s.jsx(ba,{size:20})})]}),s.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&s.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:u=>u.currentTarget.style.background="#f9fafb",onMouseOut:u=>u.currentTarget.style.background="white",children:t.cancelText}),s.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:u=>u.currentTarget.style.filter="brightness(0.9)",onMouseOut:u=>u.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),s.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})};function QI(){const[e]=yb();Ti();const{showAlert:t}=hr(),[r,n]=g.useState(!1),[a,i]=g.useState(!1),[o,l]=g.useState(null),c=e.get("id");e.get("originador");const[u,d]=g.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[f,m]=g.useState(null),h=async()=>{const j=u.cep.replace(/\D/g,"");if(j.length===8){n(!0);try{const C=await Sn(j);if(d(S=>({...S,street:C.rua,neighborhood:C.bairro,city:C.cidade,uf:C.uf})),C.ibge){const S=await gu(C.ibge);S?(m(S),d(E=>({...E,concessionaria:S.Concessionaria||""}))):(m(null),d(E=>({...E,concessionaria:""})))}}catch(C){console.error("Error fetching CEP:",C)}finally{n(!1)}}},v=()=>{if(!f)return 0;const j=Number(f["Tarifa Concessionaria"])||0;let S=Number(f["Desconto Assinante"])||0;return S>1&&(S=S/100),u.consumo*j*S},x=async j=>{j.preventDefault(),n(!0);try{const C=v(),E=c&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(c)?c:null,k={name:u.name,email:u.email,phone:u.phone,cep:u.cep,concessionaria:u.concessionaria,consumo_kwh:u.consumo,calculated_discount:C,rua:u.street,numero:u.number,bairro:u.neighborhood,cidade:u.city,uf:u.uf,tarifa_concessionaria:Number(f==null?void 0:f["Tarifa Concessionaria"])||0,desconto_assinante:Number(f==null?void 0:f["Desconto Assinante"])||0,status:"simulacao",originator_id:E},{data:O,error:R}=await U.from("leads").insert(k).select().single();if(R)throw R;O&&l(O),i(!0)}catch(C){console.error("Error saving lead:",C);const S=C.message||"Erro ao processar simulao. Tente novamente.";t(S,"error")}finally{n(!1)}},b=()=>{const C=v()*12;let S=Number(f==null?void 0:f["Desconto Assinante"])||0;S<1&&S>0&&(S=S*100);const E=new URLSearchParams;E.append("name",u.name),E.append("email",u.email),E.append("phone",u.phone),E.append("cep",u.cep),E.append("consumo",u.consumo),c&&E.append("originator_id",c),E.append("discount_percent",S.toFixed(0)),E.append("savings_annual",C.toFixed(2));const k=`https://www.b2wenergia.com.br/contrato?${E.toString()}`;window.open(k,"_blank"),i(!1)},y=j=>j.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),p={primary:"#003366",accent:"#FF6600"},_={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:p.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:p.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:p.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},w=v();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:_.wrapper,children:[s.jsx("h2",{style:_.header,children:"Saiba o valor do seu desconto"}),s.jsxs("form",{onSubmit:x,style:_.formSpace,children:[s.jsx("div",{style:_.grid,children:s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:_.label,children:"CEP"}),s.jsx("input",{type:"text",maxLength:"9",value:u.cep,onChange:j=>{let C=j.target.value.replace(/\D/g,"");C.length>5&&(C=C.replace(/^(\d{5})(\d)/,"$1-$2")),d({...u,cep:C})},onBlur:h,style:_.input,placeholder:"00000-000",required:!0})]})}),s.jsxs("div",{children:[s.jsx("label",{style:_.label,children:"Nome Completo"}),s.jsx("input",{type:"text",value:u.name,onChange:j=>d({...u,name:j.target.value}),style:_.input,placeholder:"Como devemos te chamar?",required:!0})]}),s.jsxs("div",{style:_.grid,children:[s.jsxs("div",{children:[s.jsx("label",{style:_.label,children:"E-mail"}),s.jsx("input",{type:"email",value:u.email,onChange:j=>d({...u,email:j.target.value}),style:_.input,placeholder:"exemplo@email.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:_.label,children:"WhatsApp"}),s.jsx("input",{type:"tel",maxLength:"15",value:u.phone,onChange:j=>{let C=j.target.value.replace(/\D/g,"");C=C.replace(/^(\d{2})(\d)/g,"($1) $2"),C=C.replace(/(\d)(\d{4})$/,"$1-$2"),d({...u,phone:C})},style:_.input,placeholder:"(00) 00000-0000",required:!0})]})]}),s.jsxs("div",{style:_.rangeContainer,children:[s.jsxs("div",{style:_.rangeLabelRow,children:[s.jsx("label",{style:_.label,children:"Mdia de Gasto Mensal (kWh)"}),s.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:p.accent},children:[u.consumo," kWh"]})]}),s.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:u.consumo,onChange:j=>d({...u,consumo:Number(j.target.value)}),style:_.rangeInput}),s.jsxs("div",{style:_.rangeTicks,children:[s.jsx("span",{children:"0 kWh"}),s.jsx("span",{children:"10.000+ kWh"})]})]}),s.jsx("button",{type:"submit",disabled:r,style:_.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:s.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[s.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:s.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),s.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),s.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[s.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),s.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),s.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.name})]}),s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),s.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.concessionaria})]}),s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),s.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[y((o==null?void 0:o.calculated_discount)||w),s.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),s.jsx("button",{onClick:b,style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:p.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})})]})}function eL(){return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:s.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:s.jsx(QI,{})})})}function tL(){const{showAlert:e}=hr(),[t,r]=g.useState(!1),[n,a]=g.useState(1),[i,o]=g.useState(null);Re.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[l,c]=g.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[u,d]=g.useState(!1),f=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),m=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),s.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),h=async()=>{const p=l.cep.replace(/\D/g,"");if(p.length===8){r(!0);try{const _=await Sn(p);c(w=>({...w,street:_.rua,neighborhood:_.bairro,city:_.cidade,uf:_.uf}))}catch(_){console.error("Error fetching CEP:",_)}finally{r(!1)}}},v=async p=>{p.preventDefault(),r(!0);try{const{data:_,error:w}=await U.auth.signUp({email:l.email,password:l.password,options:{data:{name:l.name,phone:l.phone}}});if(w)throw w;_!=null&&_.user&&(o(_.user.id),a(2))}catch(_){console.error("Error signing up:",_),e(_.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},x=async p=>{p.preventDefault(),r(!0);try{const _={id:i,name:l.name,email:l.email,phone:l.phone,cpf_cnpj:l.cpf,pix_key:l.pix_key,pix_key_type:l.pix_key_type,profession:l.profession,address:{cep:l.cep,street:l.street,number:l.number,neighborhood:l.neighborhood,city:l.city,uf:l.uf,complement:l.complement}},{error:w}=await U.from("originators_v2").insert(_);if(w)throw w;a(3)}catch(_){console.error("Error saving profile:",_),e(_.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},b={primary:"#003366",accent:"#FF6600"},y={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:b.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:b.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?s.jsxs("div",{style:y.wrapper,children:[s.jsx("h2",{style:y.header,children:"Seja um Parceiro B2W"}),s.jsxs("form",{onSubmit:v,style:y.formSpace,children:[s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"Nome Completo"}),s.jsx("input",{type:"text",value:l.name,onChange:p=>c({...l,name:p.target.value}),style:y.input,required:!0})]}),s.jsxs("div",{style:y.grid,children:[s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"E-mail"}),s.jsx("input",{type:"email",value:l.email,onChange:p=>c({...l,email:p.target.value}),style:y.input,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"WhatsApp"}),s.jsx("input",{type:"tel",maxLength:"15",value:l.phone,onChange:p=>{let _=p.target.value.replace(/\D/g,"");_=_.replace(/^(\d{2})(\d)/g,"($1) $2"),_=_.replace(/(\d)(\d{4})$/,"$1-$2"),c({...l,phone:_})},style:y.input,required:!0})]})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("label",{style:y.label,children:"Senha"}),s.jsx("input",{type:u?"text":"password",value:l.password,onChange:p=>c({...l,password:p.target.value}),style:{...y.input,paddingRight:"2.5rem"},required:!0,minLength:6}),s.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:u?s.jsx(m,{}):s.jsx(f,{})})]}),s.jsx("button",{type:"submit",disabled:t,style:y.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:s.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&s.jsxs("form",{onSubmit:x,style:y.formSpace,children:[s.jsx("h3",{style:{...y.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),s.jsx("div",{style:y.grid,children:s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:y.label,children:"CEP"}),s.jsx("input",{type:"text",maxLength:"9",value:l.cep,onChange:p=>{let _=p.target.value.replace(/\D/g,"");_.length>5&&(_=_.replace(/^(\d{5})(\d)/,"$1-$2")),c({...l,cep:_})},onBlur:h,style:y.input,required:!0})]})}),s.jsxs("div",{style:y.grid,children:[s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:y.label,children:"Rua"}),s.jsx("input",{value:l.street,style:y.input,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"Bairro"}),s.jsx("input",{value:l.neighborhood,style:y.input,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"Cidade / UF"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("input",{value:l.city,style:{...y.input,flex:2},readOnly:!0}),s.jsx("input",{value:l.uf,style:{...y.input,flex:1},readOnly:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"Nmero"}),s.jsx("input",{value:l.number,onChange:p=>c({...l,number:p.target.value}),style:y.input,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"Complemento"}),s.jsx("input",{value:l.complement,onChange:p=>c({...l,complement:p.target.value}),style:y.input,placeholder:"Ap 101, Bloco B"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"Profisso"}),s.jsx("input",{type:"text",value:l.profession,onChange:p=>c({...l,profession:p.target.value}),style:y.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),s.jsxs("div",{style:y.grid,children:[s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"CPF (Chave PIX)"}),s.jsx("input",{type:"text",value:l.cpf,onChange:p=>{let _=p.target.value.replace(/\D/g,"");_.length>11&&(_=_.substring(0,11)),_=_.replace(/(\d{3})(\d)/,"$1.$2"),_=_.replace(/(\d{3})(\d)/,"$1.$2"),_=_.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),c(w=>({...w,cpf:_,pix_key:w.pix_key_type==="cpf"?_:w.pix_key}))},style:y.input,required:!0,placeholder:"000.000.000-00"})]}),s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"Tipo Chave PIX"}),s.jsxs("select",{value:l.pix_key_type,onChange:p=>{const _=p.target.value;c(w=>({...w,pix_key_type:_,pix_key:_==="cpf"?w.cpf:""}))},style:y.input,children:[s.jsx("option",{value:"cpf",children:"CPF"}),s.jsx("option",{value:"email",children:"E-mail"}),s.jsx("option",{value:"phone",children:"Telefone"}),s.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),l.pix_key_type!=="cpf"&&s.jsxs("div",{children:[s.jsx("label",{style:y.label,children:"Chave PIX"}),s.jsx("input",{value:l.pix_key,onChange:p=>c({...l,pix_key:p.target.value}),style:y.input,required:!0})]}),s.jsx("button",{type:"submit",disabled:t,style:y.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{style:{...y.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),s.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),s.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:y.button,children:"Ir para Login"})]})]})})}class rL extends Re.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?s.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[s.jsx("h2",{children:"Algo deu errado."}),s.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),s.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function nL(){return Re.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:s.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:s.jsx(rL,{children:s.jsx(tL,{})})})})}const sl=e=>e?e.replace(/\D/g,""):"",bu=e=>{const t=sl(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},Ci=e=>sl(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),aL=e=>{const t=sl(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,l,c;try{for(a=0,c=10,i=0;i<9;i++)l=parseInt(t.charAt(i)),a=a+l*c,c=c-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,c=11,i=0;i<10;i++)l=parseInt(t.charAt(i)),a=a+l*c,c=c-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},iL=e=>{const t=sl(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);let l=i%11<2?0:11-i%11;if(l!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);return l=i%11<2?0:11-i%11,l==a.charAt(1)},mo=e=>sl(e).length===11,xu=e=>{const t=sl(e);return t.length<=11?aL(t):iL(t)},iT=g.createContext({}),nn=()=>g.useContext(iT),oL=({children:e})=>{const[t,r]=g.useState(null),[n,a]=g.useState(null),[i,o]=g.useState(!0);g.useEffect(()=>{U.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?l(d.user.id):o(!1)});const{data:{subscription:u}}=U.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?l(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const l=async u=>{try{const{data:d,error:f}=await U.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},c={signUp:u=>U.auth.signUp(u),signIn:u=>U.auth.signInWithPassword(u),signOut:()=>U.auth.signOut(),user:t,profile:n,loading:i};return s.jsx(iT.Provider,{value:c,children:!i&&e})},Pn=({title:e,icon:t,children:r,defaultOpen:n=!1})=>{const[a,i]=g.useState(n);return s.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",marginBottom:"1rem",background:"white"},children:[s.jsxs("div",{onClick:()=>i(!a),style:{background:"#f8fafc",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"#1e293b"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[t&&s.jsx(t,{size:18,style:{color:"var(--color-blue)"}}),s.jsx("span",{children:e})]}),s.jsx("span",{style:{transform:a?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",fontSize:"0.8rem"},children:""})]}),a&&s.jsx("div",{style:{padding:"1.25rem",borderTop:"1px solid #e2e8f0",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.25rem"},children:r})]})};function Mb({entityType:e,entityId:t,entityName:r,onClose:n}){const{profile:a}=nn(),{showAlert:i}=hr(),[o,l]=g.useState([]),[c,u]=g.useState(""),[d,f]=g.useState(!0),[m,h]=g.useState(!1);g.useEffect(()=>{v()},[t]);const v=async()=>{f(!0);try{const{data:b,error:y}=await U.from("v_crm_history").select("*").eq("entity_type",e).eq("entity_id",t).order("created_at",{ascending:!1});if(y)throw y;l(b||[])}catch(b){console.error("Error fetching history:",b),i("Erro ao carregar histrico","error")}finally{f(!1)}},x=async b=>{if(b.preventDefault(),!!c.trim()){h(!0);try{const{error:y}=await U.from("crm_history").insert({entity_type:e,entity_id:t,content:c.trim(),created_by:a.id});if(y)throw y;u(""),v(),i("Comentrio adicionado!","success")}catch(y){console.error("Error adding comment:",y),i("Erro ao adicionar comentrio","error")}finally{h(!1)}}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100,backdropFilter:"blur(4px)"},children:s.jsxs("div",{style:{background:"white",padding:"0",borderRadius:"12px",width:"90%",maxWidth:"600px",height:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[s.jsxs("div",{style:{padding:"1.25rem 1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1e293b"},children:"Histrico / Timeline"}),s.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#64748b"},children:r})]}),s.jsx("button",{onClick:n,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b",padding:"0.5rem",transition:"color 0.2s"},children:s.jsx(ba,{size:24})})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1.5rem"},children:d?s.jsx("div",{style:{textAlign:"center",color:"#64748b",padding:"2rem"},children:"Carregando histrico..."}):o.length===0?s.jsxs("div",{style:{textAlign:"center",color:"#94a3b8",padding:"3rem"},children:[s.jsx(rT,{size:48,style:{marginBottom:"1rem",opacity:.3}}),s.jsx("p",{children:"Nenhum registro encontrado."})]}):s.jsxs("div",{style:{position:"relative",paddingLeft:"2rem"},children:[s.jsx("div",{style:{position:"absolute",left:"7px",top:"0",bottom:"0",width:"2px",background:"#e2e8f0"}}),o.map((b,y)=>s.jsxs("div",{style:{position:"relative",marginBottom:"2rem"},children:[s.jsx("div",{style:{position:"absolute",left:"-29px",top:"4px",width:"16px",height:"16px",borderRadius:"50%",background:y===0?"var(--color-blue)":"#cbd5e1",border:"4px solid white",boxShadow:"0 0 0 1px #e2e8f0"}}),s.jsxs("div",{style:{background:"#f8fafc",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.75rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontWeight:600,color:"#475569"},children:[s.jsx(Db,{size:14}),b.author_name||"Sistema"]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",color:"#94a3b8"},children:[s.jsx(Zk,{size:14}),new Date(b.created_at).toLocaleString("pt-BR")]})]}),s.jsx("div",{style:{color:"#334155",fontSize:"0.9rem",lineHeight:"1.5",whiteSpace:"pre-wrap"},children:b.content})]})]},b.id))]})}),s.jsx("div",{style:{padding:"1.25rem 1.5rem",borderTop:"1px solid #e2e8f0",background:"white",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},children:s.jsxs("form",{onSubmit:x,style:{display:"flex",gap:"0.75rem"},children:[s.jsx("textarea",{value:c,onChange:b=>u(b.target.value),placeholder:"Escreva um comentrio ou atualizao...",style:{flex:1,padding:"0.75rem",border:"1px solid #cbd5e1",borderRadius:"8px",resize:"none",height:"60px",fontSize:"0.9rem",outline:"none",transition:"border-color 0.2s"},onFocus:b=>b.target.style.borderColor="var(--color-blue)",onBlur:b=>b.target.style.borderColor="#cbd5e1"}),s.jsxs("button",{type:"submit",disabled:m||!c.trim(),style:{background:"var(--color-blue)",color:"white",border:"none",borderRadius:"8px",padding:"0 1.25rem",cursor:m?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,opacity:c.trim()?1:.5,transition:"transform 0.1s"},onMouseDown:b=>!m&&(b.currentTarget.style.transform="scale(0.95)"),onMouseUp:b=>!m&&(b.currentTarget.style.transform="scale(1)"),children:[s.jsx(II,{size:18}),m?"...":"Postar"]})]})})]})})}function zb({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){var ie,J,he,ce;const{showAlert:a,showConfirm:i}=hr(),[o,l]=g.useState([]),[c,u]=g.useState([]),[d,f]=g.useState(!1),[m,h]=g.useState(!1),[v,x]=g.useState(!1),[b,y]=g.useState(!1),[p,_]=g.useState(!1),w=M=>{if(!M&&M!==0)return"";const Z=Number(M);return isNaN(Z)?"":Z.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},j=M=>{if(!M||typeof M!="string")return 0;const Z=M.replace(/\D/g,"");return Number(Z)/1e4},C=(M,Z)=>{const I=Z.replace(/\D/g,""),re=(Number(I)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});q(V=>({...V,[M]:re}))},S=M=>M.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),E=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],k=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],O=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],R=[1,5,10,15,20,25,30],A=[{value:"beneficiaria",label:"Beneficiria"},{value:"geradora",label:"Geradora"}],z=Array.from({length:31},(M,Z)=>Z+1),[T,q]=g.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",titular_fatura_id:"",cpf_cnpj_fatura:"",tipo_unidade:"beneficiaria",dia_leitura:1,modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",portal_credentials:{url:"",login:"",password:""}});g.useEffect(()=>{P(),B()},[]),g.useEffect(()=>{var M,Z,I,K,re,V,Te;e&&q({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",titular_fatura_id:e.titular_fatura_id||"",cpf_cnpj_fatura:e.cpf_cnpj_fatura||"",tipo_unidade:e.tipo_unidade||"beneficiaria",dia_leitura:e.dia_leitura||1,modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:w(e.tarifa_concessionaria),te:w(e.te),tusd:w(e.tusd),fio_b:w(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:S(((M=e.address)==null?void 0:M.cep)||""),rua:((Z=e.address)==null?void 0:Z.rua)||"",numero:((I=e.address)==null?void 0:I.numero)||"",complemento:((K=e.address)==null?void 0:K.complemento)||"",bairro:((re=e.address)==null?void 0:re.bairro)||"",cidade:((V=e.address)==null?void 0:V.cidade)||"",uf:((Te=e.address)==null?void 0:Te.uf)||"",portal_credentials:e.portal_credentials||{url:"",login:"",password:""}})},[e==null?void 0:e.id,e==null?void 0:e.subscriber_id]),g.useEffect(()=>{const M=j(T.tarifa_concessionaria);let Z=30;T.tipo_ligacao==="trifasico"?Z=100:T.tipo_ligacao==="bifasico"&&(Z=50);const K=(M*Z).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});q(re=>({...re,tarifa_minima:K}))},[T.tarifa_concessionaria,T.tipo_ligacao]);const P=async()=>{const{data:M}=await U.from("subscribers").select("id, name, cpf_cnpj").order("name");l(M||[])},B=async()=>{const{data:M}=await U.from("usinas").select("id, name").order("name");u(M||[])},D=M=>{const Z=S(M.target.value);q(I=>({...I,cep:Z}))},N=async()=>{const M=T.cep.replace(/\D/g,"");if(M.length===8){h(!0);try{const Z=await Sn(M);if(q(I=>({...I,rua:Z.rua||"",bairro:Z.bairro||"",cidade:Z.cidade||"",uf:Z.uf||"",concessionaria:I.concessionaria||""})),Z.ibge){const I=await gu(Z.ibge);if(I){let K=I["Desconto Assinante"]||0;K<=1&&(K=K*100),q(re=>({...re,rua:Z.rua||"",bairro:Z.bairro||"",cidade:Z.cidade||"",uf:Z.uf||"",concessionaria:I.Concessionaria||re.concessionaria,tarifa_concessionaria:I["Tarifa Concessionaria"]?w(I["Tarifa Concessionaria"]):re.tarifa_concessionaria,te:I.TE?w(I.TE):re.te,tusd:I.TUSD?w(I.TUSD):re.tusd,fio_b:I["Fio B"]?w(I["Fio B"]):re.fio_b,desconto_assinante:K.toFixed(2)}))}}}catch(Z){console.error("Erro CEP",Z),a("Erro ao buscar CEP/Ofertas: "+(Z.message||"No encontrado"),"error")}finally{h(!1)}}},L=async M=>{M.preventDefault(),f(!0);try{const Z={subscriber_id:T.subscriber_id||null,usina_id:T.usina_id||null,status:T.status,numero_uc:T.numero_uc,titular_conta:T.titular_conta,titular_fatura_id:T.titular_fatura_id||null,cpf_cnpj_fatura:T.cpf_cnpj_fatura,tipo_unidade:T.tipo_unidade,dia_leitura:Number(T.dia_leitura),modalidade:T.modalidade,concessionaria:T.concessionaria,tipo_ligacao:T.tipo_ligacao,franquia:Number(T.franquia),tarifa_concessionaria:j(T.tarifa_concessionaria),te:j(T.te),tusd:j(T.tusd),fio_b:j(T.fio_b),desconto_assinante:Number(T.desconto_assinante),dia_vencimento:Number(T.dia_vencimento),address:{cep:T.cep.replace(/\D/g,""),rua:T.rua,numero:T.numero,complemento:T.complemento,bairro:T.bairro,cidade:T.cidade,uf:T.uf},portal_credentials:T.portal_credentials};if(!Z.subscriber_id)throw new Error("Assinante  obrigatrio.");let I;if(e!=null&&e.id?I=await U.from("consumer_units").update(Z).eq("id",e.id).select().single():I=await U.from("consumer_units").insert(Z).select().single(),I.error)throw I.error;r(I.data),t()}catch(Z){a("Erro ao salvar UC: "+Z.message,"error")}finally{f(!1)}},Y=async()=>{if(await i("Tem certeza que deseja excluir esta Unidade Consumidora?")){f(!0);try{const{error:Z}=await U.from("consumer_units").delete().eq("id",e.id);if(Z)throw Z;n&&n(e.id),t()}catch(Z){a("Erro ao excluir: "+Z.message,"error")}finally{f(!1)}}},G=((ie=o.find(M=>M.id===T.subscriber_id))==null?void 0:ie.name)||"";return s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[s.jsxs("div",{style:{background:"white",padding:"0",borderRadius:"12px",width:"90%",maxWidth:"900px",maxHeight:"95vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{padding:"1.25rem 2rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[s.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1e293b"},children:e!=null&&e.id?G?`Editar UC - ${G}`:"Editar UC":"Nova Unidade Consumidora"}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[(e==null?void 0:e.id)&&s.jsxs("button",{type:"button",onClick:()=>x(!0),style:{display:"flex",alignItems:"center",gap:"0.4rem",background:"#fff",color:"var(--color-blue)",border:"1px solid var(--color-blue)",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:[s.jsx(kb,{size:16})," Histrico"]}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b"},children:s.jsx(ba,{size:24})})]})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"2rem"},children:s.jsxs("form",{onSubmit:L,children:[s.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#64748b",fontWeight:600},children:"Status da Unidade"}),s.jsx("select",{value:T.status,onChange:M=>q({...T,status:M.target.value}),style:{width:"100%",maxWidth:"300px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:E.map(M=>s.jsx("option",{value:M.value,children:M.label},M.value))})]}),s.jsx(Pn,{title:"Vnculos",icon:jI,defaultOpen:!0,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem"},children:s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:["Assinante ",s.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),s.jsxs("select",{required:!0,value:T.subscriber_id,onChange:M=>q({...T,subscriber_id:M.target.value,titular_fatura_id:T.titular_fatura_id||M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:[s.jsx("option",{value:"",children:"Selecione..."}),o.map(M=>s.jsxs("option",{value:M.id,children:[M.name," (",M.cpf_cnpj,")"]},M.id))]})]})})}),s.jsxs(Pn,{title:"Endereo de Instalao",icon:pm,defaultOpen:!0,children:[s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsxs("div",{style:{width:"150px"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"CEP"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{value:T.cep,onChange:D,onBlur:N,placeholder:"00000-000",maxLength:9,style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none",background:m?"#f0f9ff":"white"}}),m&&s.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"#94a3b8"},children:"..."})]})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("input",{value:T.concessionaria,readOnly:!0,style:{width:"100%",padding:"0.6rem",border:"1px solid #f1f5f9",borderRadius:"6px",background:"#f8fafc",color:"#64748b",outline:"none"}}),s.jsxs("button",{type:"button",onClick:()=>y(!0),style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem 0.8rem",background:"#fef2f2",color:"#ef4444",borderRadius:"6px",border:"1px solid #fee2e2",fontSize:"0.8rem",fontWeight:600,cursor:"pointer",width:"fit-content"},children:[s.jsx(Hf,{size:12})," Credenciais"]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Rua"}),s.jsx("input",{value:T.rua,onChange:M=>q({...T,rua:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{style:{width:"100px"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nmero"}),s.jsx("input",{value:T.numero,onChange:M=>q({...T,numero:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Bairro"}),s.jsx("input",{value:T.bairro,onChange:M=>q({...T,bairro:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Complemento"}),s.jsx("input",{value:T.complemento,onChange:M=>q({...T,complemento:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Cidade"}),s.jsx("input",{value:T.cidade,onChange:M=>q({...T,cidade:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"UF"}),s.jsx("input",{value:T.uf,onChange:M=>q({...T,uf:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),s.jsx(Pn,{title:"Dados da Unidade",icon:Ao,defaultOpen:!0,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:["Nmero da UC ",s.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),s.jsx("input",{required:!0,value:T.numero_uc,onChange:M=>q({...T,numero_uc:M.target.value}),placeholder:"Ex: 7204400277",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Identificao da Fatura"}),s.jsx("input",{required:!0,value:T.titular_conta,onChange:M=>q({...T,titular_conta:M.target.value}),placeholder:"Nome Completo / Razo Social",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Titular da Fatura"}),s.jsxs("select",{value:T.titular_fatura_id,onChange:M=>{const Z=o.find(I=>I.id===M.target.value);q({...T,titular_fatura_id:M.target.value,cpf_cnpj_fatura:Z?Z.cpf_cnpj:T.cpf_cnpj_fatura})},style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:[s.jsx("option",{value:"",children:"Selecione..."}),o.map(M=>s.jsxs("option",{value:M.id,children:[M.name," (",M.cpf_cnpj,")"]},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"CPF/CNPJ do Titular"}),s.jsx("input",{value:T.cpf_cnpj_fatura,onChange:M=>q({...T,cpf_cnpj_fatura:M.target.value}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tipo de Ligao"}),s.jsx("select",{value:T.tipo_ligacao,onChange:M=>q({...T,tipo_ligacao:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:O.map(M=>s.jsx("option",{value:M.value,children:M.label},M.value))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Unidade Consumidora"}),s.jsx("select",{value:T.tipo_unidade,onChange:M=>q({...T,tipo_unidade:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:A.map(M=>s.jsx("option",{value:M.value,children:M.label},M.value))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Dia de Leitura"}),s.jsx("select",{value:T.dia_leitura,onChange:M=>q({...T,dia_leitura:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:z.map(M=>s.jsx("option",{value:M,children:M},M))})]})]})}),s.jsxs(Pn,{title:"Dados Tcnicos e Comerciais",icon:Nb,defaultOpen:!0,children:[s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Usina (Opcional)"}),s.jsxs("select",{value:T.usina_id,onChange:M=>q({...T,usina_id:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:[s.jsx("option",{value:"",children:"Selecione..."}),c.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Modalidade"}),s.jsx("select",{value:T.modalidade,onChange:M=>q({...T,modalidade:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:k.map(M=>s.jsx("option",{value:M.value,children:M.label},M.value))})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f0f9ff",padding:"1.25rem",borderRadius:"10px",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginTop:"0.5rem"},children:[s.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.95rem",fontWeight:600,color:"#0369a1",marginBottom:"0.25rem"},children:"Componentes Tarifrios"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),s.jsx("input",{type:"text",value:T.tarifa_concessionaria,onChange:M=>C("tarifa_concessionaria",M.target.value),placeholder:"R$ 0,0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #7dd3fc",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#075985"},children:"TE (Energia) - R$/kWh"}),s.jsx("input",{type:"text",value:T.te,onChange:M=>C("te",M.target.value),placeholder:"R$ 0,0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #7dd3fc",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),s.jsx("input",{type:"text",value:T.tusd,onChange:M=>C("tusd",M.target.value),placeholder:"R$ 0,0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #7dd3fc",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#075985"},children:"Fio B - R$/kWh"}),s.jsx("input",{type:"text",value:T.fio_b,onChange:M=>C("fio_b",M.target.value),placeholder:"R$ 0,0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #7dd3fc",borderRadius:"6px",outline:"none"}})]})]}),s.jsxs("div",{style:{background:"#fffbeb",padding:"1rem",borderRadius:"8px",border:"1px solid #fde68a",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[s.jsx("label",{style:{fontSize:"0.85rem",color:"#92400e",fontWeight:600},children:"Tarifa Mnima Estimada"}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"#d97706"},children:T.tarifa_minima||"R$ 0,00"}),s.jsxs("span",{style:{fontSize:"0.75rem",color:"#b45309"},children:["Baseada no Tipo de Ligao (",T.tipo_ligacao,") x Tarifa."]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Desconto Assinante (%)"}),s.jsx("input",{type:"number",step:"0.01",value:T.desconto_assinante,onChange:M=>q({...T,desconto_assinante:M.target.value}),placeholder:"%",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Franquia / Consumo Min (kWh)"}),s.jsx("input",{type:"number",value:T.franquia,onChange:M=>q({...T,franquia:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Dia de Vencimento"}),s.jsx("select",{value:T.dia_vencimento,onChange:M=>q({...T,dia_vencimento:M.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:R.map(M=>s.jsx("option",{value:M,children:M},M))})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"2rem",padding:"1rem 0",borderTop:"1px solid #eee",alignItems:"center"},children:[(e==null?void 0:e.id)&&n&&s.jsx("button",{type:"button",onClick:Y,style:{marginRight:"auto",padding:"0.6rem 1.25rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:"Excluir UC"}),s.jsx("button",{type:"button",onClick:t,style:{padding:"0.6rem 1.25rem",background:"#f1f5f9",color:"#475569",borderRadius:"6px",border:"1px solid #e2e8f0",fontWeight:600,cursor:"pointer"},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:d,style:{padding:"0.6rem 1.25rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",fontWeight:600,border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",cursor:d?"not-allowed":"pointer"},children:d?"Salvando...":"Salvar UC"})]})]})})]}),v&&(e==null?void 0:e.id)&&s.jsx(Mb,{entityType:"uc",entityId:e.id,entityName:`UC: ${T.numero_uc} - ${G}`,onClose:()=>x(!1)}),b&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100,animation:"fadeIn 0.2s ease-out"},children:s.jsxs("div",{style:{background:"white",borderRadius:"16px",width:"90%",maxWidth:"400px",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04)",position:"relative"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:"48px",height:"48px",background:"#fff7ed",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"#f97316"},children:s.jsx(Hf,{size:24})}),s.jsx("h4",{style:{fontSize:"1.25rem",fontWeight:700,color:"#1e293b",margin:0},children:"Credenciais"}),s.jsx("p",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"0.25rem"},children:"Acesso ao portal da concessionria"})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:600,color:"#475569",marginBottom:"0.4rem"},children:"URL do Portal"}),s.jsx("input",{type:"url",value:((J=T.portal_credentials)==null?void 0:J.url)||"",onChange:M=>q({...T,portal_credentials:{...T.portal_credentials,url:M.target.value}}),placeholder:"http://portal.concessionaria.com.br",style:{width:"100%",padding:"0.7rem",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.9rem",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:600,color:"#475569",marginBottom:"0.4rem"},children:"Email / Login"}),s.jsx("input",{type:"text",value:((he=T.portal_credentials)==null?void 0:he.login)||"",onChange:M=>q({...T,portal_credentials:{...T.portal_credentials,login:M.target.value}}),placeholder:"login@exemplo.com",style:{width:"100%",padding:"0.7rem",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.9rem",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:600,color:"#475569",marginBottom:"0.4rem"},children:"Senha"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:p?"text":"password",value:((ce=T.portal_credentials)==null?void 0:ce.password)||"",onChange:M=>q({...T,portal_credentials:{...T.portal_credentials,password:M.target.value}}),placeholder:"",style:{width:"100%",padding:"0.7rem",paddingRight:"2.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.9rem",outline:"none"}}),s.jsx("button",{type:"button",onClick:()=>_(!p),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#94a3b8",cursor:"pointer",padding:"0.2rem"},children:p?s.jsx(Ab,{size:18}):s.jsx(Bc,{size:18})})]})]})]}),s.jsxs("div",{style:{marginTop:"2rem",display:"flex",gap:"0.8rem"},children:[s.jsx("button",{type:"button",onClick:()=>y(!1),style:{flex:1,padding:"0.75rem",background:"#f8fafc",color:"#475569",border:"1px solid #e2e8f0",borderRadius:"8px",fontWeight:600,cursor:"pointer"},children:"Fechar"}),s.jsx("button",{type:"button",onClick:()=>y(!1),style:{flex:1,padding:"0.75rem",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(239, 68, 68, 0.2)"},children:"Salvar"})]})]})})]})}const sL=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=g.useState(r);return s.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[s.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[s.jsx("span",{children:e}),n?s.jsx(Qk,{size:18}):s.jsx(Jk,{size:18})]}),n&&s.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function lL({consumerUnit:e,subscriberId:t,concessionariaDefault:r,onClose:n,onSave:a}){const{showAlert:i,showConfirm:o}=hr(),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState({subscriber_id:t||"",status:"em_ativacao",numero_uc:"",titular_conta:"",concessionaria:r||"",modalidade:"geracao_compartilhada",tipo_ligacao:"monofasico",usina_id:null,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});g.useEffect(()=>{e&&m(y=>{var p,_,w,j,C,S,E;return{...y,...e,address:void 0,cep:h(((p=e.address)==null?void 0:p.cep)||""),rua:((_=e.address)==null?void 0:_.rua)||"",numero:((w=e.address)==null?void 0:w.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((C=e.address)==null?void 0:C.bairro)||"",cidade:((S=e.address)==null?void 0:S.cidade)||"",uf:((E=e.address)==null?void 0:E.uf)||""}}),r&&m(y=>({...y,concessionaria:r}))},[e,r]);const h=y=>y.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),v=y=>{const p=h(y.target.value);m(_=>({..._,cep:p}))},x=async()=>{const y=f.cep.replace(/\D/g,"");if(y.length===8){d(!0);try{const p=await Sn(y);m(_=>({..._,rua:p.rua||"",bairro:p.bairro||"",cidade:p.cidade||"",uf:p.uf||""}))}catch(p){console.error("Erro CEP",p)}finally{d(!1)}}},b=async y=>{y.preventDefault(),c(!0);try{const p={subscriber_id:f.subscriber_id,status:f.status,numero_uc:f.numero_uc,titular_conta:f.titular_conta,concessionaria:f.concessionaria,modalidade:f.modalidade,tipo_ligacao:f.tipo_ligacao,address:{cep:f.cep.replace(/\D/g,""),rua:f.rua,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cidade:f.cidade,uf:f.uf}};if(!p.subscriber_id)throw new Error("Erro: Assinante no identificado.");if(!p.numero_uc)throw new Error("Nmero da UC  obrigatrio.");let _;if(e!=null&&e.id?_=await U.from("consumer_units").update(p).eq("id",e.id).select().single():_=await U.from("consumer_units").insert(p).select().single(),_.error)throw _.error;a(_.data),n()}catch(p){i("Erro ao salvar UC: "+p.message,"error")}finally{c(!1)}};return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:e?"Editar Unidade Consumidora":"Nova Unidade Consumidora"}),s.jsx("button",{onClick:n,className:"modal-close",children:""})]}),s.jsxs("form",{onSubmit:b,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f0f9ff",padding:"1rem",borderRadius:"var(--radius-sm)",border:"1px solid #bae6fd"},children:[s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsxs("label",{className:"label",children:["Nmero da UC ",s.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),s.jsx("input",{required:!0,value:f.numero_uc,onChange:y=>m({...f,numero_uc:y.target.value}),placeholder:"Ex: 7204400277",className:"input",style:{fontSize:"1.1rem",fontWeight:"bold"}})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{className:"label",children:"Titular da Conta (Conforme Fatura)"}),s.jsx("input",{required:!0,value:f.titular_conta,onChange:y=>m({...f,titular_conta:y.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Concessionria"}),s.jsx("input",{value:f.concessionaria,readOnly:!0,className:"input",style:{background:"#e0e0e0",color:"#555"}})]})]}),s.jsxs(sL,{title:"Endereo de Instalao",defaultOpen:!0,children:[s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[s.jsxs("div",{style:{width:"140px"},children:[s.jsx("label",{className:"label",children:"CEP"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{value:f.cep,onChange:v,onBlur:x,placeholder:"00000-000",maxLength:9,className:"input"}),u&&s.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem"},children:"..."})]})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Rua"}),s.jsx("input",{value:f.rua,onChange:y=>m({...f,rua:y.target.value}),className:"input"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[s.jsxs("div",{style:{width:"100px"},children:[s.jsx("label",{className:"label",children:"Nmero"}),s.jsx("input",{value:f.numero,onChange:y=>m({...f,numero:y.target.value}),className:"input"})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Bairro"}),s.jsx("input",{value:f.bairro,onChange:y=>m({...f,bairro:y.target.value}),className:"input"})]})]}),s.jsx("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Complemento"}),s.jsx("input",{value:f.complemento,onChange:y=>m({...f,complemento:y.target.value}),className:"input"})]})}),s.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Cidade"}),s.jsx("input",{value:f.cidade,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]}),s.jsxs("div",{style:{width:"60px"},children:[s.jsx("label",{className:"label",children:"UF"}),s.jsx("input",{value:f.uf,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]})]})]}),s.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",marginTop:"1rem"},children:[s.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:l,className:"btn btn-primary",style:{minWidth:"150px"},children:l?"Adicionando...":"Adicionar UC"})]})]})]})})}function cL(){const[e]=yb(),t=Ti(),{showAlert:r,showConfirm:n}=hr(),a=e.get("name")||"",i=e.get("email")||"",o=e.get("phone")||"",l=e.get("cep")||"",c=e.get("originator_id")||"",u=e.get("discount_percent")||"0",d=e.get("savings_annual")||"0",f=e.get("concessionaria")||"",[m,h]=g.useState(!1),[v,x]=g.useState(!1),[b,y]=g.useState(null),[p,_]=g.useState([]),[w,j]=g.useState({name:a,cpf_cnpj:"",status:"ativacao",phone:o,email:i,cep:l,rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:c}),[C,S]=g.useState(!1),[E,k]=g.useState(!1);g.useEffect(()=>{l&&O(l)},[l]);const O=async N=>{const L=(N||w.cep).replace(/\D/g,"");if(L.length===8){S(!0);try{const Y=await Sn(L);j(G=>({...G,cep:T(L),rua:Y.rua||"",bairro:Y.bairro||"",cidade:Y.cidade||"",uf:Y.uf||""}))}catch(Y){console.error("Erro CEP:",Y)}finally{S(!1)}}},R=async()=>{const N=w.cpf_cnpj.replace(/\D/g,"");if(N.length>=11){k(!0);try{const L=await zc(N);L.nome&&j(Y=>({...Y,name:L.nome}))}catch(L){console.error("Erro Doc:",L)}finally{k(!1)}}},A=p.reduce((N,L)=>N+(Number(L.franquia)||0),0),z=p.length>0?A:e.get("consumo")||0,T=N=>N.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substr(0,9),q=async()=>{if(!xu(w.cpf_cnpj))throw new Error("CPF/CNPJ invlido!");if(!w.name)throw new Error("Nome  obrigatrio");if(w.cpf_cnpj.replace(/\D/g,""),!b){const{data:G}=await U.from("subscribers").select("id").eq("cpf_cnpj",w.cpf_cnpj).single();if(G)throw new Error("J existe um assinante com este CPF/CNPJ.")}let N=b==null?void 0:b.asaas_customer_id;try{const G=await Yk({id:N,name:w.name,cpfCnpj:w.cpf_cnpj,email:w.email,phone:w.phone,postalCode:w.cep,addressNumber:w.numero,address:w.rua,province:w.bairro});G!=null&&G.success&&(N=G.asaas_id)}catch(G){if(console.error("Asaas Sync Error:",G),!await n(`Aviso: No foi possvel sincronizar com o Asaas (${G.message}).
Deseja finalizar o cadastro apenas localmente?`,"Erro de Sincronizao","Sim, Finalizar Local","No, Vou Corrigir"))throw new Error("Operao cancelada para correo de dados.")}const L={...w,asaas_customer_id:N};L.originator_id||(L.originator_id=null);let Y;if(b!=null&&b.id?Y=await U.from("subscribers").update(L).eq("id",b.id).select().single():Y=await U.from("subscribers").insert(L).select().single(),Y.error)throw Y.error;return y(Y.data),Y.data},P=async()=>{if(b)x(!0);else try{if(!w.cpf_cnpj||!w.name)return r("Preencha os dados do assinante (CPF e Nome) antes de adicionar UCs.","warning");h(!0),await q(),h(!1),x(!0)}catch(N){h(!1),r(N.message,"error")}},B=async()=>{var N,L;h(!0);try{const Y=await q();if(p.length===0&&!await n("Nenhuma Unidade Consumidora (UC) foi cadastrada. Deseja finalizar mesmo assim?")){h(!1);return}if(c){const{data:G}=await U.from("originators_v2").select("phone").eq("id",c).single();if(G!=null&&G.phone){const ie=` Novo Cliente Cadastrado!

${Y.name} acabou de completar o cadastro.
Verifique no CRM.`;let J="default";try{const{data:he}=await U.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(N=he==null?void 0:he.variables)!=null&&N.instance_name&&(J=he.variables.instance_name)}catch(he){console.error("Error fetching integration config:",he)}await hy(G.phone,ie,null,J)}}if(Y.phone){const G=`Ol, ${Y.name}! 

Seu cadastro na B2W Energia foi recebido com sucesso e est em fase de ativao.

Para acompanhar o processo, acesse seu email e crie seu login.`;let ie="default";try{const{data:J}=await U.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(L=J==null?void 0:J.variables)!=null&&L.instance_name&&(ie=J.variables.instance_name)}catch(J){console.error("Error fetching integration config:",J)}await hy(Y.phone,G,null,ie)}r("Cadastro realizado com sucesso!","success"),t("/login")}catch(Y){console.error(Y),r("Erro ao finalizar: "+Y.message,"error")}finally{h(!1)}},D=async()=>{if(!(b!=null&&b.id))return;const{data:N}=await U.from("consumer_units").select("*").eq("subscriber_id",b.id);_(N||[])};return g.useEffect(()=>{b&&D()},[b]),s.jsxs("div",{className:"min-h-screen bg-slate-50 font-inter",children:[s.jsx("div",{className:"bg-white border-b border-slate-200",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#003366"},children:w.name||"Novo Assinante"}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Confira os detalhes da sua economia e finalize sua adeso abaixo."})]})}),s.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Concessionria"}),s.jsx("p",{className:"font-semibold text-slate-900",children:"Distribuidora Local"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Mdia de Consumo"}),s.jsxs("p",{className:"font-semibold text-slate-900",children:[Number(z).toLocaleString("pt-BR")," kWh"]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Endereo da Instalao"}),s.jsx("p",{className:"font-semibold text-slate-900 truncate",title:`${w.rua}, ${w.numero}`,children:w.rua?`${w.rua}, ${w.numero}`:"Endereo no informado"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-2",children:[s.jsx(Ao,{className:"text-orange-500 fill-orange-500",size:24}),s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Economia esperada com a B2W Energia"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[s.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#003366"},children:[s.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Desconto Garantido"}),s.jsxs("p",{className:"text-6xl font-bold mb-2",children:[u,"%"]}),s.jsx("p",{className:"text-xs opacity-75",children:"Sobre a tarifa de energia"})]}),s.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#FF6600"},children:[s.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Economia Anual Estimada"}),s.jsx("p",{className:"text-5xl font-bold mb-2",children:Number(d).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),s.jsx("p",{className:"text-xs opacity-75",children:"Mais dinheiro no seu bolso"})]})]}),s.jsx("div",{className:"bg-slate-50 p-3 text-center text-xs text-slate-500",children:"* Estimativa baseada no seu histrico de consumo mdio mensal informado."})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-6 md:p-10",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",style:{color:"#003366"},children:[s.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Dados do Assinante"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CPF ou CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:w.cpf_cnpj,onChange:N=>j({...w,cpf_cnpj:bu(N.target.value)}),onBlur:R,className:`w-full px-4 py-4 rounded-xl border ${E?"bg-blue-50 border-blue-200":"bg-white border-slate-200"} focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`,placeholder:"000.000.000-00"}),E&&s.jsx("span",{className:"absolute right-3 top-4 text-xs text-[#003366] font-bold",children:"Buscando..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nome Completo / Razo Social"}),s.jsx("input",{type:"text",value:w.name,onChange:N=>j({...w,name:N.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700",placeholder:"Seu nome"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"E-mail"}),s.jsx("input",{type:"email",value:w.email,onChange:N=>j({...w,email:N.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"WhatsApp"}),s.jsx("input",{type:"tel",value:w.phone,onChange:N=>j({...w,phone:Ci(N.target.value)}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsx("div",{className:"md:col-span-2 pt-6 border-t border-slate-100 mt-2",children:s.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",style:{color:"#003366"},children:[s.jsx("div",{className:"w-1 h-6 bg-[#FF6600] rounded-full"}),"Endereo"]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 md:col-span-2",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CEP"}),s.jsx("input",{type:"text",value:w.cep,onChange:N=>j({...w,cep:T(N.target.value)}),onBlur:N=>O(N.target.value),className:`w-full px-4 py-4 rounded-xl border ${C?"bg-blue-50":"bg-white"} border-slate-200 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Rua"}),s.jsx("input",{type:"text",value:w.rua,onChange:N=>j({...w,rua:N.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nmero"}),s.jsx("input",{type:"text",value:w.numero,onChange:N=>j({...w,numero:N.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Comp."}),s.jsx("input",{type:"text",value:w.complemento,onChange:N=>j({...w,complemento:N.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Bairro"}),s.jsx("input",{type:"text",value:w.bairro,onChange:N=>j({...w,bairro:N.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Cidade/UF"}),s.jsx("input",{type:"text",value:`${w.cidade}-${w.uf}`,readOnly:!0,className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-slate-50 text-slate-500 cursor-not-allowed font-medium"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-6 md:p-10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",style:{color:"#003366"},children:[s.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Unidades Consumidoras"]}),s.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg font-bold hover:bg-green-100 transition-colors border border-green-200",children:[s.jsx(ol,{size:20}),"Adicionar UC"]})]}),p.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:s.jsx("p",{children:"Nenhuma UC cadastrada. Adicione pelo menos uma para continuar."})}):s.jsx("div",{className:"space-y-3",children:p.map(N=>s.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-slate-800",children:["UC: ",N.numero_uc]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[N.concessionaria,"  ",Number(N.franquia)," kWh"]})]}),s.jsx("button",{className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",onClick:async()=>{await n("Remover esta UC?")&&(await U.from("consumer_units").delete().eq("id",N.id),D())},children:s.jsx(yu,{size:18})})]},N.id))})]}),s.jsx("button",{onClick:B,disabled:m,className:"w-full py-5 text-xl font-bold text-white uppercase tracking-wider rounded-xl shadow-xl transition-all transform active:scale-[0.99] flex justify-center items-center gap-3 hover:shadow-2xl",style:{backgroundColor:"#FF6600"},children:m?"Processando...":s.jsxs(s.Fragment,{children:["Finalizar Adeso ",s.jsx(LB,{size:24})]})})]}),v&&s.jsx(lL,{consumerUnit:null,subscriberId:b==null?void 0:b.id,concessionariaDefault:f,onClose:()=>x(!1),onSave:()=>{D(),x(!1)}})]})}function uL(){const e=Ti(),[t,r]=g.useState(!1),[n,a]=g.useState(1),[i,o]=g.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),l=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await zc(i.cpf);o(m=>({...m,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},c=async()=>{if(i.cep.length>=8){r(!0);try{const f=await Sn(i.cep);o(m=>({...m,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:m,error:h}=await U.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(h)throw h;const v=m.user.id,{error:x}=await U.from("profiles").upsert({id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});x&&console.error("Erro ao criar/atualizar perfil:",x);const{data:b,error:y}=await U.from("subscribers").insert({profile_id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(y)throw y;await U.from("consumer_units").insert({subscriber_id:b.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(m){alert("Erro ao cadastrar: "+m.message)}finally{r(!1)}};return s.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:s.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[s.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&s.jsx("form",{onSubmit:u,children:s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{children:"CPF/CNPJ"}),s.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:l,style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Nome Completo"}),s.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Email"}),s.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Senha"}),s.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Telefone"}),s.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&s.jsx("form",{onSubmit:d,children:s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{children:"CEP da Unidade Consumidora"}),s.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:c,style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Rua"}),s.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),s.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Nmero da Instalao (UC)"}),s.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}function oT({user:e,onClose:t,onSave:r}){const[n,a]=g.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=g.useState(!1),[l,c]=g.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};g.useEffect(()=>{var m,h;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((m=e.commission_split)==null?void 0:m.start)||0,commission_recorrente:((h=e.commission_split)==null?void 0:h.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async m=>{const{data:h}=await U.from("profiles").select("id, name, role").neq("id",e.id);if(h){const v=u[m]||99,x=h.filter(b=>(u[b.role]||99)<v);c(x)}},f=async m=>{if(m.preventDefault(),n.phone&&!mo(n.phone)){alert("Telefone invlido!");return}o(!0);try{const h={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:v}=await U.from("profiles").update(h).eq("id",e.id);if(v)throw v;r({...e,...h}),t()}catch(h){alert("Erro ao atualizar usurio: "+h.message)}finally{o(!1)}};return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:"Editar Usurio"}),s.jsx("button",{onClick:t,className:"modal-close",children:""})]}),s.jsxs("form",{onSubmit:f,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Nome"}),s.jsx("input",{value:n.name,onChange:m=>a({...n,name:m.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Telefone"}),s.jsx("input",{value:n.phone,onChange:m=>a({...n,phone:Ci(m.target.value)}),className:"input"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Funo (Role)"}),s.jsxs("select",{value:n.role,onChange:m=>{a({...n,role:m.target.value}),d(m.target.value)},className:"select",children:[s.jsx("option",{value:"lead",children:"Lead"}),s.jsx("option",{value:"subscriber",children:"Assinante"}),s.jsx("option",{value:"originator",children:"Originador"}),s.jsx("option",{value:"supplier",children:"Fornecedor"}),s.jsx("option",{value:"coordinator",children:"Coordenador"}),s.jsx("option",{value:"manager",children:"Gerente"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Superior Imediato"}),s.jsxs("select",{value:n.superior_id,onChange:m=>a({...n,superior_id:m.target.value}),className:"select",children:[s.jsx("option",{value:"",children:"Sem superior"}),l.map(m=>s.jsxs("option",{value:m.id,children:[m.name," (",m.role,")"]},m.id))]})]})]}),s.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[s.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),s.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:m=>a({...n,commission_start:m.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),s.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:m=>a({...n,commission_recorrente:m.target.value}),className:"input"})]})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function dL(){const{user:e}=nn(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(null),[l,c]=g.useState(""),[u,d]=g.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},m=b=>f[b]||99;g.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:b,error:y}=await U.from("profiles").select("*").order("name");if(y)throw y;r(b||[])}catch(b){console.error("Error fetching users:",b),alert("Erro ao buscar usurios")}finally{a(!1)}},v=b=>{r(t.map(y=>y.id===b.id?b:y)),alert("Perfil atualizado com sucesso!")},x=t.filter(b=>{var _,w;const y=(((_=b.name)==null?void 0:_.toLowerCase())||"").includes(l.toLowerCase())||(((w=b.email)==null?void 0:w.toLowerCase())||"").includes(l.toLowerCase()),p=u?b.role===u:!0;return y&&p}).sort((b,y)=>m(b.role)-m(y.role));return s.jsxs("div",{children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:s.jsx("h2",{children:"Painel Administrativo"})}),s.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[s.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[s.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[s.jsx("input",{placeholder:"Buscar por nome ou email...",value:l,onChange:b=>c(b.target.value),className:"input",style:{width:"250px"}}),s.jsxs("select",{value:u,onChange:b=>d(b.target.value),className:"select",style:{width:"auto"},children:[s.jsx("option",{value:"",children:"Todos os Perfis"}),s.jsx("option",{value:"super_admin",children:"Super Admin"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"manager",children:"Gerente"}),s.jsx("option",{value:"coordinator",children:"Coordenador"}),s.jsx("option",{value:"supplier",children:"Fornecedor"}),s.jsx("option",{value:"originator",children:"Originador"}),s.jsx("option",{value:"subscriber",children:"Assinante"}),s.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?s.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Hierarquia"}),s.jsx("th",{children:"Nome"}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:"Perfil (Role)"}),s.jsx("th",{children:"Comisso (Start/Rec.)"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:x.map(b=>{var y,p;return s.jsxs("tr",{children:[s.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",m(b.role)]}),s.jsx("td",{children:b.name||"-"}),s.jsx("td",{children:b.email}),s.jsx("td",{children:s.jsx("span",{className:"badge badge-neutral",children:b.role})}),s.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((y=b.commission_split)==null?void 0:y.start)||0,"% / ",((p=b.commission_split)==null?void 0:p.recorrente)||0,"%"]}),s.jsx("td",{children:s.jsx("button",{onClick:()=>o(b),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},b.id)})})]})})]}),i&&s.jsx(oT,{user:i,onClose:()=>o(null),onSave:v})]})}function sT({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=nn(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),[o,l]=g.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",iluminacao_publica:"",tarifa_minima:"",outros_lancamentos:"",status:"a_vencer",valor_a_pagar:"",economia_reais:"",consumo_reais:""}),[c,u]=g.useState(null),[d,f]=g.useState(!1),[m,h]=g.useState(!1),v=w=>!w&&w!==0?"R$ 0,00":Number(w).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),x=w=>w?typeof w=="number"?w:Number(w.replace(/\D/g,""))/100:0;g.useEffect(()=>{if(e){if(l({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,iluminacao_publica:e.iluminacao_publica?v(e.iluminacao_publica):"",tarifa_minima:e.tarifa_minima?v(e.tarifa_minima):"",outros_lancamentos:e.outros_lancamentos?v(e.outros_lancamentos):"",valor_a_pagar:v(e.valor_a_pagar),economia_reais:v(e.economia_reais),consumo_reais:e.consumo_reais?v(e.consumo_reais):"",status:e.status}),t){const w=t.find(j=>j.id===e.uc_id);u(w)}}else t&&t.length>0&&(l(w=>({...w,uc_id:t[0].id})),u(t[0]))},[e,t]),g.useEffect(()=>{if(o.uc_id&&t){const w=t.find(j=>j.id===o.uc_id);u(w)}},[o.uc_id,t]),g.useEffect(()=>{if(o.consumo_kwh&&c){const w=Number(o.consumo_kwh);x(String(c.tarifa_concessionaria||"0"));const j=Number(c.tarifa_concessionaria)||0,C=Number(c.desconto_assinante)||0,S=w*j;let E=0;const k=C>1?C/100:C;E=S*k;const O=S-E,R=x(o.iluminacao_publica),A=x(o.tarifa_minima),z=x(o.outros_lancamentos),T=O+R+A+z;l(q=>({...q,economia_reais:v(E),consumo_reais:v(O),valor_a_pagar:v(T)}))}},[o.consumo_kwh,o.iluminacao_publica,o.tarifa_minima,o.outros_lancamentos,c]);const b=(w,j)=>{const C=j.replace(/\D/g,""),E=(Number(C)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});l(k=>({...k,[w]:E}))},y=(w,j)=>{const C=o.mes_referencia.split("-");let S=C[0]||new Date().getFullYear(),E=C[1]||"01";w==="month"&&(E=j),w==="year"&&(S=j),l(k=>({...k,mes_referencia:`${S}-${E}`}))},p=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){h(!0);try{const w=await hm(e.id);w.url&&(alert("Boleto gerado com sucesso!"),window.open(w.url,"_blank"),n(),r())}catch(w){console.error(w),alert("Erro ao gerar boleto: "+w.message)}finally{h(!1)}}},_=async w=>{w.preventDefault(),f(!0);try{const j={uc_id:o.uc_id,mes_referencia:`${o.mes_referencia}-01`,vencimento:o.vencimento,consumo_kwh:Number(o.consumo_kwh),consumo_reais:x(o.consumo_reais),iluminacao_publica:x(o.iluminacao_publica),tarifa_minima:x(o.tarifa_minima),outros_lancamentos:x(o.outros_lancamentos),valor_a_pagar:x(o.valor_a_pagar),economia_reais:x(o.economia_reais),status:o.status};if(!j.uc_id)throw new Error("Selecione uma Unidade Consumidora.");let C;if(e!=null&&e.id?C=await U.from("invoices").update(j).eq("id",e.id).select().single():C=await U.from("invoices").insert(j).select().single(),C.error)throw C.error;n(),r()}catch(j){alert("Erro ao salvar fatura: "+j.message)}finally{f(!1)}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:s.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"800px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[s.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"1.25rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Fatura":"Nova Fatura"}),s.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Preencha os dados de consumo e valores"})]}),s.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8"},children:""})]}),s.jsxs("form",{onSubmit:_,style:{padding:"1.5rem"},children:[s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Unidade Consumidora"}),s.jsxs("select",{required:!0,value:o.uc_id,onChange:w=>l({...o,uc_id:w.target.value}),disabled:!!e,style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"0.95rem",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(w=>s.jsxs("option",{value:w.id,children:[w.numero_uc," - ",w.titular_conta]},w.id))]}),c&&s.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#3b82f6",background:"#eff6ff",padding:"0.5rem",borderRadius:"4px",display:"inline-flex",gap:"1rem"},children:[s.jsxs("span",{children:[s.jsx("strong",{children:"Tarifa:"})," R$ ",Number(c.tarifa_concessionaria||0).toFixed(4)]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Desconto:"})," ",c.desconto_assinante||0,"%"]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Ms Referncia"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("select",{value:o.mes_referencia.split("-")[1],onChange:w=>y("month",w.target.value),style:{flex:1,padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((w,j)=>s.jsx("option",{value:w,children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][j]},w))}),s.jsx("select",{value:o.mes_referencia.split("-")[0],onChange:w=>y("year",w.target.value),style:{width:"80px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:Array.from({length:5},(w,j)=>new Date().getFullYear()-1+j).map(w=>s.jsx("option",{value:w,children:w},w))})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Vencimento"}),s.jsx("input",{type:"date",required:!0,value:o.vencimento,onChange:w=>l({...o,vencimento:w.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),i&&s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status"}),s.jsxs("select",{value:o.status,onChange:w=>l({...o,status:w.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:[s.jsx("option",{value:"a_vencer",children:"A Vencer"}),s.jsx("option",{value:"pago",children:"Pago"}),s.jsx("option",{value:"atrasado",children:"Atrasado"})]})]})]}),s.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"1rem 0"}}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[s.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Ao,{size:18})," Dados de Consumo"]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo (kWh)"}),s.jsx("input",{type:"number",step:"any",required:!0,value:o.consumo_kwh,onChange:w=>l({...o,consumo_kwh:w.target.value}),placeholder:"0",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(mm,{size:18})," Valores Adicionais"]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Iluminao Pblica (R$)"}),s.jsx("input",{type:"text",value:o.iluminacao_publica,onChange:w=>b("iluminacao_publica",w.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa Mnima (R$)"}),s.jsx("input",{type:"text",value:o.tarifa_minima,onChange:w=>b("tarifa_minima",w.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Outros Lanamentos (R$)"}),s.jsx("input",{type:"text",value:o.outros_lancamentos,onChange:w=>b("outros_lancamentos",w.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),s.jsxs("div",{style:{background:"#f1f5f9",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(qB,{size:18})," Resumo do Clculo"]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"Consumo Bruto:"}),s.jsxs("span",{style:{fontWeight:600},children:["R$ ",(Number(o.consumo_kwh)*(Number(c==null?void 0:c.tarifa_concessionaria)||0)).toFixed(2).replace(".",",")]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#166534",background:"#dcfce7",padding:"0.5rem",borderRadius:"4px"},children:[s.jsx("span",{children:"Economia Gerada:"}),s.jsxs("span",{style:{fontWeight:"bold"},children:["- ",o.economia_reais||"R$ 0,00"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"Consumo Lquido (R$):"}),s.jsx("span",{style:{fontWeight:600},children:o.consumo_reais||"R$ 0,00"})]}),s.jsx("div",{style:{height:"1px",background:"#cbd5e1",margin:"0.5rem 0"}}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"+ Ilum. Pblica:"}),s.jsx("span",{children:o.iluminacao_publica||"R$ 0,00"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"+ Tarifa Mnima:"}),s.jsx("span",{children:o.tarifa_minima||"R$ 0,00"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"+ Outros:"}),s.jsx("span",{children:o.outros_lancamentos||"R$ 0,00"})]}),s.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px dashed #cbd5e1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#64748b",marginBottom:"0.2rem"},children:"Total a Pagar"}),s.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:o.valor_a_pagar||"R$ 0,00"})]})]})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[s.jsxs("div",{children:[(e==null?void 0:e.id)&&!e.asaas_boleto_url&&s.jsx("button",{type:"button",onClick:p,disabled:m,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:m?"Gerando...":s.jsxs(s.Fragment,{children:[s.jsx(vu,{size:18})," Emitir Boleto Agora"]})}),(e==null?void 0:e.asaas_boleto_url)&&s.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534",fontWeight:"bold",textDecoration:"none"},children:[s.jsx(Si,{size:18})," Ver Boleto Emitido"]})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function fL(){var j;const{user:e,profile:t}=nn(),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState(null),[d,f]=g.useState(!1),[m,h]=g.useState(null),[v,x]=g.useState(!1),b=["super_admin","admin","manager"].includes(t==null?void 0:t.role);g.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{l(!0);let C;const{data:S}=await U.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(S){C=S.id,u(S.id);const{data:E}=await U.from("consumer_units").select("*").eq("subscriber_id",C);if(n(E||[]),E&&E.length>0){const k=E.map(R=>R.id),{data:O}=await U.from("invoices").select("*").in("uc_id",k).order("vencimento",{ascending:!1});i(O||[])}}else if(b){const{data:E}=await U.from("consumer_units").select("*");if(n(E||[]),E&&E.length>0){const{data:k}=await U.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(k||[])}}}catch(C){console.error("Error fetching dashboard data:",C)}finally{l(!1)}},p=C=>{const S=a.find(E=>E.id===C.id);i(S?a.map(E=>E.id===C.id?C:E):[C,...a]),alert("Fatura salva com sucesso!")},_=a.reduce((C,S)=>C+(S.economia_reais||0),0),w=a[0];return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Viso Geral do Assinante"}),s.jsx("div",{style:{display:"flex",gap:"1rem"},children:b&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>x(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),s.jsx("button",{onClick:()=>{h(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),s.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",_.toFixed(2)]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),s.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:w?`R$ ${(j=w.valor_a_pagar)==null?void 0:j.toFixed(2)}`:"-"}),s.jsx("small",{style:{color:"var(--color-text-light)"},children:w?new Date(w.vencimento).toLocaleDateString():""})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),s.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),s.jsx("h3",{children:"Minhas Faturas"}),s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),s.jsx("tbody",{children:a.map(C=>{var S,E;return s.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[s.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(C.vencimento).toLocaleDateString()}),s.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[C.consumo_kwh," kWh"]}),s.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(S=C.valor_a_pagar)==null?void 0:S.toFixed(2)]}),s.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=C.economia_reais)==null?void 0:E.toFixed(2)]}),s.jsx("td",{style:{padding:"1rem"},children:s.jsx("span",{className:`badge ${C.status==="pago"?"badge-success":"badge-error"}`,children:C.status==="pago"?"Pago":"A Vencer"})}),s.jsx("td",{style:{padding:"1rem"},children:b?s.jsx("button",{onClick:()=>{h(C),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):s.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},C.id)})})]})}),d&&s.jsx(sT,{invoice:m,ucs:r,onClose:()=>f(!1),onSave:p}),v&&s.jsx(zb,{consumerUnit:{subscriber_id:c},onClose:()=>x(!1),onSave:()=>{y(),x(!1)}})]})}function hL(){const{user:e,profile:t}=nn(),[r,n]=g.useState([]),[a,i]=g.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;g.useEffect(()=>{async function u(){const{data:d}=await U.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await U.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:m,error:h}=await U.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});h||i(m||[])}}e&&u()},[e]);const l=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},c=async u=>{var m;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await U.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:h,error:v}=await U.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(v)throw v;if(!h.success)throw new Error(h.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((m=h.data)==null?void 0:m.id)),await U.from("commissions").update({status:"paid",payment_id:h.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(h){console.error(h),alert("Erro: "+h.message)}};return s.jsxs("div",{children:[s.jsx("h2",{children:"Painel do Originador"}),s.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[s.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[s.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),s.jsx("button",{onClick:l,className:"btn btn-accent",children:"Copiar"})]})]}),s.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Data"})]})}),s.jsxs("tbody",{children:[r.map(u=>s.jsxs("tr",{children:[s.jsx("td",{children:u.name}),s.jsx("td",{children:s.jsx("span",{className:"badge badge-neutral",children:u.status})}),s.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),s.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Ms Ref."}),s.jsx("th",{children:"Faturas Proc."}),s.jsx("th",{children:"Valor (R$)"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Data Pagt."}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:a.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>s.jsxs("tr",{children:[s.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),s.jsx("td",{children:u.total_invoices}),s.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),s.jsx("td",{children:s.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),s.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),s.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&s.jsx("button",{onClick:()=>c(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function mL(){const{user:e}=nn(),[t,r]=g.useState([]);return g.useEffect(()=>{async function n(){const{data:a}=await U.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await U.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),s.jsxs("div",{children:[s.jsx("h2",{children:"Painel do Fornecedor"}),s.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[s.jsx("h3",{children:"Minhas Usinas"}),s.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),s.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>s.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[s.jsx("h4",{children:n.name}),s.jsxs("p",{children:["Status: ",s.jsx("strong",{children:n.status})]}),s.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function pL({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=nn(),{showAlert:o,showConfirm:l}=hr(),[c,u]=g.useState([]),[d,f]=g.useState(!1),m=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[h,v]=g.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[x,b]=g.useState(!1),[y,p]=g.useState(!1);g.useEffect(()=>{_(),e?v({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&v(S=>({...S,originator_id:i.id}))},[e,i]);const _=async()=>{const{data:S}=await U.from("originators_v2").select("id, name").order("name");u(S||[])},w=async()=>{const S=h.cep.replace(/\D/g,"");if(S.length===8){p(!0);try{const E=await Sn(S);let k={};if(E.ibge)try{const O=await gu(E.ibge);O&&(k=O)}catch(O){console.error("Erro na oferta",O)}v(O=>({...O,rua:E.rua||"",bairro:E.bairro||"",cidade:E.cidade||"",uf:E.uf||"",concessionaria:(k==null?void 0:k.Concessionaria)||O.concessionaria||"",tarifa_concessionaria:(k==null?void 0:k["Tarifa Concessionaria"])||O.tarifa_concessionaria||"",desconto_assinante:(()=>{let R=(k==null?void 0:k["Desconto Assinante"])||O.desconto_assinante||"";return R&&!isNaN(R)&&Number(R)>0&&Number(R)<1?Number(R)*100:R})()}))}catch(E){console.error("Erro ao buscar CEP:",E),o("Erro ao buscar CEP. Verifique se digitou corretamente.","error")}finally{p(!1)}}},j=async S=>{if(S.preventDefault(),h.phone&&!mo(h.phone)){o("Telefone invlido!","warning");return}b(!0);try{const E={...h};E.tarifa_concessionaria=E.tarifa_concessionaria?Number(E.tarifa_concessionaria):null,E.consumo_kwh=E.consumo_kwh?Number(E.consumo_kwh):null,E.desconto_assinante=E.desconto_assinante?Number(E.desconto_assinante):null,E.originator_id===""&&(E.originator_id=null);let k;if(e!=null&&e.id?k=await U.from("leads").update(E).eq("id",e.id).select().single():k=await U.from("leads").insert(E).select().single(),k.error)throw k.error;if(E.status==="ativo"&&(!e||e.status!=="ativo")){const O=E.originator_id;if(O)try{const{data:R}=await U.from("originators_v2").select("phone, split_commission, name").eq("id",O).maybeSingle();if(R&&R.phone){const A=Number(E.consumo_kwh)||0,z=Number(E.tarifa_concessionaria)||.85;let T=Number(E.desconto_assinante)||15;T<1&&T>0&&(T=T*100);const q=A*z,P=q*(T/100),B=q-P,D=Number(R.split_commission)||0,L=(B*(D/100)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),G=`${E.name||"O Lead"}, aceitou o convite e est proximo de concluir o cadastro, em breve vc receber o seu cashback ${L}`;await hy(R.phone,G),console.log("Notificao de ativao enviada para:",R.name)}}catch(R){console.error("Erro ao enviar notificao de ativao:",R)}}r(k.data),t()}catch(E){o("Erro ao salvar lead: "+E.message,"error")}finally{b(!1)}},C=async()=>{if(!(!(e!=null&&e.id)||!await l("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita."))){b(!0);try{const{error:E}=await U.from("leads").delete().eq("id",e.id);if(E)throw E;n&&n(e.id),t()}catch(E){o("Erro ao excluir lead: "+E.message,"error")}finally{b(!1)}}};return s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[s.jsxs("div",{style:{background:"white",padding:"0",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{padding:"1.25rem 2rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[s.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1e293b"},children:e?h.name:"Novo Lead"}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[e&&s.jsxs("button",{type:"button",onClick:()=>f(!0),style:{display:"flex",alignItems:"center",gap:"0.4rem",background:"#fff",color:"var(--color-blue)",border:"1px solid var(--color-blue)",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:[s.jsx(kb,{size:16})," Histrico"]}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b"},children:s.jsx(ba,{size:24})})]})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"2rem"},children:s.jsxs("form",{onSubmit:j,children:[s.jsxs(Pn,{title:"Dados do Lead",icon:Db,defaultOpen:!0,children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Status"}),s.jsx("select",{value:h.status,onChange:S=>v({...h,status:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:m.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Originador"}),s.jsxs("select",{value:h.originator_id,onChange:S=>v({...h,originator_id:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:[s.jsx("option",{value:"",children:"Selecione..."}),c.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nome Completo"}),s.jsx("input",{required:!0,value:h.name,onChange:S=>v({...h,name:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Telefone"}),s.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:h.phone,onChange:S=>v({...h,phone:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Email"}),s.jsx("input",{type:"email",value:h.email,onChange:S=>v({...h,email:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),s.jsxs(Pn,{title:"Endereo e Instalao",icon:pm,defaultOpen:!1,children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"CEP (Busca)"}),s.jsx("input",{placeholder:"00000-000",value:h.cep,onChange:S=>v({...h,cep:S.target.value}),onBlur:w,style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:y?"#f0f9ff":"white",outline:"none"}})]}),s.jsxs("div",{style:{flex:2},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Cidade/UF"}),s.jsx("input",{value:`${h.cidade} - ${h.uf} `,disabled:!0,style:{width:"100%",padding:"0.6rem",border:"1px solid #f1f5f9",borderRadius:"6px",background:"#f8fafc",color:"#64748b"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Rua"}),s.jsx("input",{value:h.rua,onChange:S=>v({...h,rua:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nmero"}),s.jsx("input",{value:h.numero,onChange:S=>v({...h,numero:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Complemento"}),s.jsx("input",{value:h.complemento,onChange:S=>v({...h,complemento:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Bairro"}),s.jsx("input",{value:h.bairro,onChange:S=>v({...h,bairro:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),s.jsxs(Pn,{title:"Dados de Energia e Oferta",icon:Ao,defaultOpen:!1,children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo Mdio (kWh)"}),s.jsx("input",{type:"number",value:h.consumo_kwh,onChange:S=>v({...h,consumo_kwh:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Concessionria"}),s.jsx("input",{value:h.concessionaria,onChange:S=>v({...h,concessionaria:S.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f8fafc",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa (R$)"}),s.jsx("input",{type:"number",step:"0.0001",value:h.tarifa_concessionaria,onChange:S=>v({...h,tarifa_concessionaria:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Desconto Oferta (%)"}),s.jsx("input",{type:"number",step:"0.01",value:h.desconto_assinante,onChange:S=>v({...h,desconto_assinante:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#047857",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),s.jsx("input",{value:(()=>{const S=Number(h.consumo_kwh)||0,E=Number(h.tarifa_concessionaria)||0,k=Number(h.desconto_assinante)||0;if(S&&E&&k){const R=S*E*(k/100);return isNaN(R)?"R$ 0,00":R.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1fae5",borderRadius:"8px",background:"#f0fdf4",color:"#065f46",fontWeight:"bold",fontSize:"1.1rem"}})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"2rem",padding:"1rem 0",borderTop:"1px solid #eee"},children:[s.jsx("div",{children:e&&n&&s.jsx("button",{type:"button",onClick:C,style:{padding:"0.6rem 1.25rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600},children:"Excluir Lead"})}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e&&e.status!=="convertido"&&a&&s.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.6rem 1.25rem",background:"#ecfdf5",color:"#047857",border:"1px solid #bbf7d0",borderRadius:"6px",fontWeight:600},children:"Converter em Assinante"}),s.jsx("button",{type:"button",onClick:t,style:{padding:"0.6rem 1.25rem",background:"#f1f5f9",color:"#475569",borderRadius:"6px",border:"1px solid #e2e8f0",fontWeight:600},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:x,style:{padding:"0.6rem 1.25rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",fontWeight:600,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:x?"Salvando...":"Salvar Lead"})]})]})]})})]}),d&&e&&s.jsx(Mb,{entityType:"lead",entityId:e.id,entityName:h.name,onClose:()=>f(!1)})]})}function lT({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=hr(),{profile:o}=nn(),[l,c]=g.useState([]),[u,d]=g.useState([]),[f,m]=g.useState(!1),[h,v]=g.useState(!1),[x,b]=g.useState(!1),y=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[p,_]=g.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[w,j]=g.useState(!1),[C,S]=g.useState(!1),[E,k]=g.useState(!1);g.useEffect(()=>{O()},[]),g.useEffect(()=>{e&&(_({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),R(e.id))},[e==null?void 0:e.id]);const O=async()=>{const{data:D}=await U.from("originators_v2").select("id, name").order("name");c(D||[])},R=async D=>{const{data:N}=await U.from("consumer_units").select("*").eq("subscriber_id",D);d(N||[])},A=async()=>{const D=p.cep.replace(/\D/g,"");if(D.length===8){S(!0);try{const N=await Sn(D);_(L=>({...L,rua:N.rua||"",bairro:N.bairro||"",cidade:N.cidade||"",uf:N.uf||""}))}catch(N){console.error("Erro ao buscar CEP:",N),a("Erro ao buscar CEP. Verifique se digitou corretamente.","error")}finally{S(!1)}}},z=async()=>{const D=p.cpf_cnpj.replace(/\D/g,"");if(D.length>11){k(!0);try{const N=await zc(D);N.nome&&_(L=>{var Y,G,ie,J,he,ce,M;return{...L,name:N.nome||L.name,email:N.email||L.email,phone:N.telefone?Ci(N.telefone):L.phone,cep:((Y=N.address)==null?void 0:Y.cep)||L.cep,rua:((G=N.address)==null?void 0:G.logradouro)||L.rua,numero:((ie=N.address)==null?void 0:ie.numero)||L.numero,complemento:((J=N.address)==null?void 0:J.complemento)||L.complemento,bairro:((he=N.address)==null?void 0:he.bairro)||L.bairro,cidade:((ce=N.address)==null?void 0:ce.municipio)||L.cidade,uf:((M=N.address)==null?void 0:M.uf)||L.uf}})}catch(N){console.error("Erro buscar doc",N)}finally{k(!1)}}else if(D.length===11){k(!0);try{const N=await zc(D);N.nome&&_(L=>({...L,name:N.nome}))}catch(N){console.error("Erro buscar doc",N)}finally{k(!1)}}},T=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${p.name}?`)){m(!0);try{const N=await hm(e.id,"subscriber");N.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(N.url,"_blank"))}catch(N){console.error(N),a("Erro: "+(N.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{m(!1)}}},q=async D=>{if(D.preventDefault(),!xu(p.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(p.phone&&!mo(p.phone)){a("Telefone invlido!","warning");return}j(!0);try{let N=U.from("subscribers").select("id").eq("cpf_cnpj",p.cpf_cnpj);e!=null&&e.id&&(N=N.neq("id",e.id));const{data:L,error:Y}=await N;if(Y)throw Y;if(L&&L.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");let G=null,ie=!1;try{const ce=await Yk({id:e==null?void 0:e.asaas_customer_id,name:p.name,cpfCnpj:p.cpf_cnpj,email:p.email,phone:p.phone,postalCode:p.cep,addressNumber:p.numero,address:p.rua,province:p.bairro});if(ce&&ce.success)G=ce.asaas_id,ie=!0;else if(ce)throw new Error(ce.error||"Erro desconhecido")}catch(ce){if(console.error("Asaas Sync Error:",ce),!await i(`Falha ao sincronizar com Asaas: ${ce.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao","Salvar Localmente","Corrigir Dados")){j(!1);return}}const J={...p};G&&(J.asaas_customer_id=G),J.originator_id===""&&(J.originator_id=null);let he;if(e!=null&&e.id?he=await U.from("subscribers").update(J).eq("id",e.id).select().single():he=await U.from("subscribers").insert(J).select().single(),he.error)throw he.error;ie?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let ce=null;if(J.status==="ativacao"?ce="em_negociacao":J.status==="ativo"&&(ce="ativo"),ce&&J.email){const{data:M}=await U.from("leads").select("id, status").eq("email",J.email).order("created_at",{ascending:!1}).limit(1);if(M&&M.length>0){const Z=M[0];Z.status!==ce&&await U.from("leads").update({status:ce}).eq("id",Z.id)}}}catch(ce){console.error("Lead sync error:",ce)}r(he.data),t()}catch(N){a("Erro ao salvar assinante: "+N.message,"error")}finally{j(!1)}},P=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){j(!0);try{const{error:N}=await U.from("subscribers").delete().eq("id",e.id);if(N)throw N;n&&n(e.id),t()}catch(N){a("Erro ao excluir: "+N.message,"error")}finally{j(!1)}}},B=async D=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:L}=await U.from("consumer_units").update({subscriber_id:null}).eq("id",D);if(L)throw L;R(e.id),a("UC desvinculada com sucesso!","success")}catch(L){a("Erro ao desvincular UC: "+L.message,"error")}};return s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[s.jsxs("div",{style:{background:"white",padding:"0",borderRadius:"12px",width:"90%",maxWidth:"900px",maxHeight:"95vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{padding:"1.25rem 2rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[s.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1e293b"},children:e?`Editar Assinante - ${p.name}`:"Novo Assinante"}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[e&&s.jsxs("button",{type:"button",onClick:()=>b(!0),style:{display:"flex",alignItems:"center",gap:"0.4rem",background:"#fff",color:"var(--color-blue)",border:"1px solid var(--color-blue)",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:[s.jsx(kb,{size:16})," Histrico"]}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b"},children:s.jsx(ba,{size:24})})]})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"2rem"},children:s.jsxs("form",{onSubmit:q,children:[s.jsxs(Pn,{title:"Dados Cadastrais",icon:Db,defaultOpen:!0,children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Status"}),s.jsx("select",{value:p.status,onChange:D=>_({...p,status:D.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:y.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Originador"}),s.jsxs("select",{value:p.originator_id,onChange:D=>_({...p,originator_id:D.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:[s.jsx("option",{value:"",children:"Selecione..."}),l.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"CPF/CNPJ"}),s.jsx("input",{value:p.cpf_cnpj,onChange:D=>_({...p,cpf_cnpj:bu(D.target.value)}),onBlur:z,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:E?"#f0f9ff":"white",outline:"none"},required:!0})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nome Completo / Razo Social"}),s.jsx("input",{required:!0,value:p.name,onChange:D=>_({...p,name:D.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Email"}),s.jsx("input",{type:"email",value:p.email,onChange:D=>_({...p,email:D.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Telefone"}),s.jsx("input",{value:p.phone,onChange:D=>_({...p,phone:Ci(D.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),s.jsxs(Pn,{title:"Endereo",icon:pm,defaultOpen:!1,children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"CEP (Busca)"}),s.jsx("input",{value:p.cep,onChange:D=>_({...p,cep:D.target.value}),onBlur:A,style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:C?"#f0f9ff":"white",outline:"none"}})]}),s.jsxs("div",{style:{flex:2},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Cidade/UF"}),s.jsx("input",{value:`${p.cidade} - ${p.uf}`,disabled:!0,style:{width:"100%",padding:"0.6rem",border:"1px solid #f1f5f9",borderRadius:"6px",background:"#f8fafc",color:"#64748b"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Rua"}),s.jsx("input",{value:p.rua,onChange:D=>_({...p,rua:D.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nmero"}),s.jsx("input",{value:p.numero,onChange:D=>_({...p,numero:D.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Complemento"}),s.jsx("input",{value:p.complemento,onChange:D=>_({...p,complemento:D.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Bairro"}),s.jsx("input",{value:p.bairro,onChange:D=>_({...p,bairro:D.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),s.jsx(Pn,{title:"Unidades Consumidoras (UCs)",icon:Ao,defaultOpen:!1,children:s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"1rem"},children:(e==null?void 0:e.id)&&s.jsxs("button",{type:"button",onClick:()=>v(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:[s.jsx(ol,{size:16})," Cadastrar UCs"]})}),u.length>0?s.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:u.map(D=>{var N;return s.jsxs("div",{style:{background:"#f8fafc",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",justifySelf:"stretch",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsxs("span",{style:{fontWeight:600,color:"#1e293b",fontSize:"0.9rem"},children:["UC: ",D.numero_uc]}),s.jsxs("span",{style:{display:"block",fontSize:"0.8rem",color:"#64748b"},children:[D.concessionaria," - ",(N=D.status)==null?void 0:N.replace("_"," ").toUpperCase()]})]}),s.jsx("button",{type:"button",onClick:()=>B(D.id),style:{padding:"0.4rem",color:"#94a3b8",background:"none",border:"none",cursor:"pointer"},title:"Desvincular UC",children:s.jsx(yu,{size:16})})]},D.id)})}):s.jsx("div",{style:{textAlign:"center",color:"#94a3b8",padding:"1.5rem",border:"2px dashed #e2e8f0",borderRadius:"8px"},children:s.jsx("p",{style:{margin:0,fontSize:"0.9rem"},children:"Nenhuma UC vinculada."})})]})}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"2rem",padding:"1rem 0",borderTop:"1px solid #eee",alignItems:"center"},children:[s.jsx("div",{children:(e==null?void 0:e.id)&&s.jsxs("button",{type:"button",onClick:T,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1.25rem",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:[s.jsx(vu,{size:18})," ",f?"Processando...":"Emitir Fatura Consolidada"]})}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[e&&n&&s.jsx("button",{type:"button",onClick:P,style:{padding:"0.6rem 1.25rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600},children:"Excluir"}),s.jsx("button",{type:"button",onClick:t,style:{padding:"0.6rem 1.25rem",background:"#f1f5f9",color:"#475569",borderRadius:"6px",border:"1px solid #e2e8f0",fontWeight:600},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:w,style:{padding:"0.6rem 1.25rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",fontWeight:600,border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:w?"Salvando...":"Salvar Assinante"})]})]})]})})]}),x&&e&&s.jsx(Mb,{entityType:"subscriber",entityId:e.id,entityName:p.name,onClose:()=>b(!1)}),h&&e&&s.jsx(zb,{consumerUnit:{subscriber_id:e.id},onClose:()=>v(!1),onSave:()=>{R(e.id),v(!1)}})]})}function gL(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const gm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ll(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Bb(e){return"nodeType"in e}function rr(e){var t,r;return e?ll(e)?e:Bb(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Ib(e){const{Document:t}=rr(e);return e instanceof t}function wu(e){return ll(e)?!1:e instanceof rr(e).HTMLElement}function cT(e){return e instanceof rr(e).SVGElement}function cl(e){return e?ll(e)?e.document:Bb(e)?Ib(e)?e:wu(e)||cT(e)?e.ownerDocument:document:document:document}const vn=gm?g.useLayoutEffect:g.useEffect;function vm(e){const t=g.useRef(e);return vn(()=>{t.current=e}),g.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function vL(){const e=g.useRef(null),t=g.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Ic(e,t){t===void 0&&(t=[e]);const r=g.useRef(e);return vn(()=>{r.current!==e&&(r.current=e)},t),r}function _u(e,t){const r=g.useRef();return g.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Ff(e){const t=vm(e),r=g.useRef(null),n=g.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function Vf(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let Og={};function ju(e,t){return g.useMemo(()=>{if(t)return t;const r=Og[e]==null?0:Og[e]+1;return Og[e]=r,e+"-"+r},[e,t])}function uT(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const ws=uT(1),Kf=uT(-1);function yL(e){return"clientX"in e&&"clientY"in e}function ym(e){if(!e)return!1;const{KeyboardEvent:t}=rr(e.target);return t&&e instanceof t}function bL(e){if(!e)return!1;const{TouchEvent:t}=rr(e.target);return t&&e instanceof t}function Gf(e){if(bL(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return yL(e)?{x:e.clientX,y:e.clientY}:null}const yn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[yn.Translate.toString(e),yn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),W_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function xL(e){return e.matches(W_)?e:e.querySelector(W_)}const wL={display:"none"};function _L(e){let{id:t,value:r}=e;return Re.createElement("div",{id:t,style:wL},r)}function jL(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Re.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function SL(){const[e,t]=g.useState("");return{announce:g.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const dT=g.createContext(null);function CL(e){const t=g.useContext(dT);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function EL(){const[e]=g.useState(()=>new Set),t=g.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[g.useCallback(n=>{let{type:a,event:i}=n;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const OL={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},AL={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function kL(e){let{announcements:t=AL,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=OL}=e;const{announce:i,announcement:o}=SL(),l=ju("DndLiveRegion"),[c,u]=g.useState(!1);if(g.useEffect(()=>{u(!0)},[]),CL(g.useMemo(()=>({onDragStart(f){let{active:m}=f;i(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:h}=f;t.onDragMove&&i(t.onDragMove({active:m,over:h}))},onDragOver(f){let{active:m,over:h}=f;i(t.onDragOver({active:m,over:h}))},onDragEnd(f){let{active:m,over:h}=f;i(t.onDragEnd({active:m,over:h}))},onDragCancel(f){let{active:m,over:h}=f;i(t.onDragCancel({active:m,over:h}))}}),[i,t])),!c)return null;const d=Re.createElement(Re.Fragment,null,Re.createElement(_L,{id:n,value:a.draggable}),Re.createElement(jL,{id:l,announcement:o}));return r?ri.createPortal(d,r):d}var pt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(pt||(pt={}));function Yf(){}function bm(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function xm(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const bn=Object.freeze({x:0,y:0});function TL(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function RL(e,t){const r=Gf(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function NL(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function DL(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function H_(e){let{left:t,top:r,height:n,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+n},{x:t+a,y:r+n}]}function PL(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}const wm=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=H_(t),i=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const u=H_(c),d=a.reduce((m,h,v)=>m+TL(u[v],h),0),f=Number((d/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:f}})}}return i.sort(NL)};function ML(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-n,l=i-r;if(n<a&&r<i){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const zL=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:o}=i,l=r.get(o);if(l){const c=ML(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(DL)};function BL(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function fT(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:bn}function IL(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...r})}}const LL=IL(1);function hT(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function $L(e,t,r){const n=hT(t);if(!n)return e;const{scaleX:a,scaleY:i,x:o,y:l}=n,c=e.left-o-(1-a)*parseFloat(r),u=e.top-l-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const UL={ignoreTransform:!1};function ul(e,t){t===void 0&&(t=UL);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=rr(e).getComputedStyle(e);u&&(r=$L(r,u,d))}const{top:n,left:a,width:i,height:o,bottom:l,right:c}=r;return{top:n,left:a,width:i,height:o,bottom:l,right:c}}function F_(e){return ul(e,{ignoreTransform:!0})}function qL(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function WL(e,t){return t===void 0&&(t=rr(e).getComputedStyle(e)),t.position==="fixed"}function HL(e,t){t===void 0&&(t=rr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function Lb(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(Ib(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!wu(a)||cT(a)||r.includes(a))return r;const i=rr(e).getComputedStyle(a);return a!==e&&HL(a,i)&&r.push(a),WL(a,i)?r:n(a.parentNode)}return e?n(e):r}function mT(e){const[t]=Lb(e,1);return t??null}function Ag(e){return!gm||!e?null:ll(e)?e:Bb(e)?Ib(e)||e===cl(e).scrollingElement?window:wu(e)?e:null:null}function pT(e){return ll(e)?e.scrollX:e.scrollLeft}function gT(e){return ll(e)?e.scrollY:e.scrollTop}function my(e){return{x:pT(e),y:gT(e)}}var Et;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Et||(Et={}));function vT(e){return!gm||!e?!1:e===document.scrollingElement}function yT(e){const t={x:0,y:0},r=vT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:n,minScroll:t}}const FL={x:.2,y:.2};function VL(e,t,r,n,a){let{top:i,left:o,right:l,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=FL);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=yT(e),h={x:0,y:0},v={x:0,y:0},x={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+x.height?(h.y=Et.Backward,v.y=n*Math.abs((t.top+x.height-i)/x.height)):!d&&c>=t.bottom-x.height&&(h.y=Et.Forward,v.y=n*Math.abs((t.bottom-x.height-c)/x.height)),!m&&l>=t.right-x.width?(h.x=Et.Forward,v.x=n*Math.abs((t.right-x.width-l)/x.width)):!f&&o<=t.left+x.width&&(h.x=Et.Backward,v.x=n*Math.abs((t.left+x.width-o)/x.width)),{direction:h,speed:v}}function KL(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function bT(e){return e.reduce((t,r)=>ws(t,my(r)),bn)}function GL(e){return e.reduce((t,r)=>t+pT(r),0)}function YL(e){return e.reduce((t,r)=>t+gT(r),0)}function xT(e,t){if(t===void 0&&(t=ul),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);mT(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const XL=[["x",["left","right"],GL],["y",["top","bottom"],YL]];class $b{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Lb(r),a=bT(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of XL)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(n),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function ZL(e){const{EventTarget:t}=rr(e);return e instanceof t?e:cl(e)}function kg(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Wr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Wr||(Wr={}));function V_(e){e.preventDefault()}function JL(e){e.stopPropagation()}var we;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(we||(we={}));const wT={start:[we.Space,we.Enter],cancel:[we.Esc],end:[we.Space,we.Enter,we.Tab]},QL=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case we.Right:return{...r,x:r.x+25};case we.Left:return{...r,x:r.x-25};case we.Down:return{...r,y:r.y+25};case we.Up:return{...r,y:r.y-25}}};class _T{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new fc(cl(r)),this.windowListeners=new fc(rr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Wr.Resize,this.handleCancel),this.windowListeners.add(Wr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Wr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&xT(n),r(bn)}handleKeyDown(t){if(ym(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=wT,coordinateGetter:o=QL,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:bn;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:r,context:n.current,currentCoordinates:d});if(f){const m=Kf(f,d),h={x:0,y:0},{scrollableAncestors:v}=n.current;for(const x of v){const b=t.code,{isTop:y,isRight:p,isLeft:_,isBottom:w,maxScroll:j,minScroll:C}=yT(x),S=KL(x),E={x:Math.min(b===we.Right?S.right-S.width/2:S.right,Math.max(b===we.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===we.Down?S.bottom-S.height/2:S.bottom,Math.max(b===we.Down?S.top:S.top+S.height/2,f.y))},k=b===we.Right&&!p||b===we.Left&&!_,O=b===we.Down&&!w||b===we.Up&&!y;if(k&&E.x!==f.x){const R=x.scrollLeft+m.x,A=b===we.Right&&R<=j.x||b===we.Left&&R>=C.x;if(A&&!m.y){x.scrollTo({left:R,behavior:l});return}A?h.x=x.scrollLeft-R:h.x=b===we.Right?x.scrollLeft-j.x:x.scrollLeft-C.x,h.x&&x.scrollBy({left:-h.x,behavior:l});break}else if(O&&E.y!==f.y){const R=x.scrollTop+m.y,A=b===we.Down&&R<=j.y||b===we.Up&&R>=C.y;if(A&&!m.x){x.scrollTo({top:R,behavior:l});return}A?h.y=x.scrollTop-R:h.y=b===we.Down?x.scrollTop-j.y:x.scrollTop-C.y,h.y&&x.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(t,ws(Kf(f,this.referenceCoordinates),h))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_T.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=wT,onActivation:a}=t,{active:i}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function K_(e){return!!(e&&"distance"in e)}function G_(e){return!!(e&&"delay"in e)}class Ub{constructor(t,r,n){var a;n===void 0&&(n=ZL(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:o}=i;this.props=t,this.events=r,this.document=cl(o),this.documentListeners=new fc(this.document),this.listeners=new fc(n),this.windowListeners=new fc(rr(o)),this.initialCoordinates=(a=Gf(i))!=null?a:bn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Wr.Resize,this.handleCancel),this.windowListeners.add(Wr.DragStart,V_),this.windowListeners.add(Wr.VisibilityChange,this.handleCancel),this.windowListeners.add(Wr.ContextMenu,V_),this.documentListeners.add(Wr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(G_(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(K_(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Wr.Click,JL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Wr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(r=Gf(t))!=null?r:bn,u=Kf(a,c);if(!n&&l){if(K_(l)){if(l.tolerance!=null&&kg(u,l.tolerance))return this.handleCancel();if(kg(u,l.distance))return this.handleStart()}if(G_(l)&&kg(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===we.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const e$={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class dl extends Ub{constructor(t){const{event:r}=t,n=cl(r.target);super(t,e$,n)}}dl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const t$={move:{name:"mousemove"},end:{name:"mouseup"}};var py;(function(e){e[e.RightClick=2]="RightClick"})(py||(py={}));class r$ extends Ub{constructor(t){super(t,t$,cl(t.event.target))}}r$.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===py.RightClick?!1:(n==null||n({event:r}),!0)}}];const Tg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class n$ extends Ub{constructor(t){super(t,Tg)}static setup(){return window.addEventListener(Tg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Tg.move.name,t)};function t(){}}}n$.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var hc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(hc||(hc={}));var Xf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xf||(Xf={}));function a$(e){let{acceleration:t,activator:r=hc.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:o=5,order:l=Xf.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const h=o$({delta:f,disabled:!i}),[v,x]=vL(),b=g.useRef({x:0,y:0}),y=g.useRef({x:0,y:0}),p=g.useMemo(()=>{switch(r){case hc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case hc.DraggableRect:return a}},[r,a,c]),_=g.useRef(null),w=g.useCallback(()=>{const C=_.current;if(!C)return;const S=b.current.x*y.current.x,E=b.current.y*y.current.y;C.scrollBy(S,E)},[]),j=g.useMemo(()=>l===Xf.TreeOrder?[...u].reverse():u,[l,u]);g.useEffect(()=>{if(!i||!u.length||!p){x();return}for(const C of j){if((n==null?void 0:n(C))===!1)continue;const S=u.indexOf(C),E=d[S];if(!E)continue;const{direction:k,speed:O}=VL(C,E,p,t,m);for(const R of["x","y"])h[R][k[R]]||(O[R]=0,k[R]=0);if(O.x>0||O.y>0){x(),_.current=C,v(w,o),b.current=O,y.current=k;return}}b.current={x:0,y:0},y.current={x:0,y:0},x()},[t,w,n,x,i,o,JSON.stringify(p),JSON.stringify(h),v,u,j,d,JSON.stringify(m)])}const i$={x:{[Et.Backward]:!1,[Et.Forward]:!1},y:{[Et.Backward]:!1,[Et.Forward]:!1}};function o$(e){let{delta:t,disabled:r}=e;const n=Vf(t);return _u(a=>{if(r||!n||!a)return i$;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Et.Backward]:a.x[Et.Backward]||i.x===-1,[Et.Forward]:a.x[Et.Forward]||i.x===1},y:{[Et.Backward]:a.y[Et.Backward]||i.y===-1,[Et.Forward]:a.y[Et.Forward]||i.y===1}}},[r,t,n])}function s$(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return _u(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function l$(e,t){return g.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...i]},[]),[e,t])}var Lc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Lc||(Lc={}));var gy;(function(e){e.Optimized="optimized"})(gy||(gy={}));const Y_=new Map;function c$(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,o]=g.useState(null),{frequency:l,measure:c,strategy:u}=a,d=g.useRef(e),f=b(),m=Ic(f),h=g.useCallback(function(y){y===void 0&&(y=[]),!m.current&&o(p=>p===null?y:p.concat(y.filter(_=>!p.includes(_))))},[m]),v=g.useRef(null),x=_u(y=>{if(f&&!r)return Y_;if(!y||y===Y_||d.current!==e||i!=null){const p=new Map;for(let _ of e){if(!_)continue;if(i&&i.length>0&&!i.includes(_.id)&&_.rect.current){p.set(_.id,_.rect.current);continue}const w=_.node.current,j=w?new $b(c(w),w):null;_.rect.current=j,j&&p.set(_.id,j)}return p}return y},[e,i,r,f,c]);return g.useEffect(()=>{d.current=e},[e]),g.useEffect(()=>{f||h()},[r,f]),g.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),g.useEffect(()=>{f||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},l))},[l,f,h,...n]),{droppableRects:x,measureDroppableContainers:h,measuringScheduled:i!=null};function b(){switch(u){case Lc.Always:return!1;case Lc.BeforeDragging:return r;default:return!r}}}function qb(e,t){return _u(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function u$(e,t){return qb(e,t)}function d$(e){let{callback:t,disabled:r}=e;const n=vm(t),a=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return g.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function _m(e){let{callback:t,disabled:r}=e;const n=vm(t),a=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return g.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function f$(e){return new $b(ul(e),e)}function X_(e,t,r){t===void 0&&(t=f$);const[n,a]=g.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=d$({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=_m({callback:i});return vn(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),n}function h$(e){const t=qb(e);return fT(e,t)}const Z_=[];function m$(e){const t=g.useRef(e),r=_u(n=>e?n&&n!==Z_&&e&&t.current&&e.parentNode===t.current.parentNode?n:Lb(e):Z_,[e]);return g.useEffect(()=>{t.current=e},[e]),r}function p$(e){const[t,r]=g.useState(null),n=g.useRef(e),a=g.useCallback(i=>{const o=Ag(i.target);o&&r(l=>l?(l.set(o,my(o)),new Map(l)):null)},[]);return g.useEffect(()=>{const i=n.current;if(e!==i){o(i);const l=e.map(c=>{const u=Ag(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,my(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=Ag(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>ws(i,o),bn):bT(e):bn,[e,t])}function J_(e,t){t===void 0&&(t=[]);const r=g.useRef(null);return g.useEffect(()=>{r.current=null},t),g.useEffect(()=>{const n=e!==bn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Kf(e,r.current):bn}function g$(e){g.useEffect(()=>{if(!gm)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function v$(e,t){return g.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=o=>{i(o,t)},r},{}),[e,t])}function jT(e){return g.useMemo(()=>e?qL(e):null,[e])}const Q_=[];function y$(e,t){t===void 0&&(t=ul);const[r]=e,n=jT(r?rr(r):null),[a,i]=g.useState(Q_);function o(){i(()=>e.length?e.map(c=>vT(c)?n:new $b(t(c),c)):Q_)}const l=_m({callback:o});return vn(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function ST(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wu(t)?t:e}function b$(e){let{measure:t}=e;const[r,n]=g.useState(null),a=g.useCallback(u=>{for(const{target:d}of u)if(wu(d)){n(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),i=_m({callback:a}),o=g.useCallback(u=>{const d=ST(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),n(d?t(d):null)},[t,i]),[l,c]=Ff(o);return g.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const x$=[{sensor:dl,options:{}},{sensor:_T,options:{}}],w$={current:{}},nf={draggable:{measure:F_},droppable:{measure:F_,strategy:Lc.WhileDragging,frequency:gy.Optimized},dragOverlay:{measure:ul}};class mc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const _$={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new mc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Yf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nf,measureDroppableContainers:Yf,windowRect:null,measuringScheduled:!1},CT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Yf,draggableNodes:new Map,over:null,measureDroppableContainers:Yf},Su=g.createContext(CT),ET=g.createContext(_$);function j$(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new mc}}}function S$(e,t){switch(t.type){case pt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case pt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case pt.DragEnd:case pt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case pt.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new mc(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case pt.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new mc(e.droppable.containers);return o.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case pt.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new mc(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function C$(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=g.useContext(Su),i=Vf(n),o=Vf(r==null?void 0:r.id);return g.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!ym(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=xL(d);if(f){f.focus();break}}})}},[n,t,a,o,i]),null}function OT(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function E$(e){return g.useMemo(()=>({draggable:{...nf.draggable,...e==null?void 0:e.draggable},droppable:{...nf.droppable,...e==null?void 0:e.droppable},dragOverlay:{...nf.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function O$(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=g.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;vn(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=fT(d,n);if(o||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=mT(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,l,n,r])}const jm=g.createContext({...bn,scaleX:1,scaleY:1});var Ka;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ka||(Ka={}));const Sm=g.memo(function(t){var r,n,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=x$,collisionDetection:f=zL,measuring:m,modifiers:h,...v}=t;const x=g.useReducer(S$,void 0,j$),[b,y]=x,[p,_]=EL(),[w,j]=g.useState(Ka.Uninitialized),C=w===Ka.Initialized,{draggable:{active:S,nodes:E,translate:k},droppable:{containers:O}}=b,R=S!=null?E.get(S):null,A=g.useRef({initial:null,translated:null}),z=g.useMemo(()=>{var Ht;return S!=null?{id:S,data:(Ht=R==null?void 0:R.data)!=null?Ht:w$,rect:A}:null},[S,R]),T=g.useRef(null),[q,P]=g.useState(null),[B,D]=g.useState(null),N=Ic(v,Object.values(v)),L=ju("DndDescribedBy",o),Y=g.useMemo(()=>O.getEnabled(),[O]),G=E$(m),{droppableRects:ie,measureDroppableContainers:J,measuringScheduled:he}=c$(Y,{dragging:C,dependencies:[k.x,k.y],config:G.droppable}),ce=s$(E,S),M=g.useMemo(()=>B?Gf(B):null,[B]),Z=lP(),I=u$(ce,G.draggable.measure);O$({activeNode:S!=null?E.get(S):null,config:Z.layoutShiftCompensation,initialRect:I,measure:G.draggable.measure});const K=X_(ce,G.draggable.measure,I),re=X_(ce?ce.parentElement:null),V=g.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Te=O.getNodeFor((r=V.current.over)==null?void 0:r.id),me=b$({measure:G.dragOverlay.measure}),Ye=(n=me.nodeRef.current)!=null?n:ce,Xe=C?(a=me.rect)!=null?a:K:null,Br=!!(me.nodeRef.current&&me.rect),Pi=h$(Br?null:K),xl=jT(Ye?rr(Ye):null),En=m$(C?Te??ce:null),Po=y$(En),Mo=OT(h,{transform:{x:k.x-Pi.x,y:k.y-Pi.y,scaleX:1,scaleY:1},activatorEvent:B,active:z,activeNodeRect:K,containerNodeRect:re,draggingNodeRect:Xe,over:V.current.over,overlayNodeRect:me.rect,scrollableAncestors:En,scrollableAncestorRects:Po,windowRect:xl}),Vu=M?ws(M,k):null,wl=p$(En),Ku=J_(wl),Gu=J_(wl,[K]),Wn=ws(Mo,Ku),Hn=Xe?LL(Xe,Mo):null,La=z&&Hn?f({active:z,collisionRect:Hn,droppableRects:ie,droppableContainers:Y,pointerCoordinates:Vu}):null,W=PL(La,"id"),[H,oe]=g.useState(null),ae=Br?Mo:ws(Mo,Gu),be=BL(ae,(i=H==null?void 0:H.rect)!=null?i:null,K),Ze=g.useRef(null),Nt=g.useCallback((Ht,gr)=>{let{sensor:vr,options:$a}=gr;if(T.current==null)return;const Ir=E.get(T.current);if(!Ir)return;const yr=Ht.nativeEvent,On=new vr({active:T.current,activeNode:Ir,event:yr,options:$a,context:V,onAbort(Dt){if(!E.get(Dt))return;const{onDragAbort:An}=N.current,Vn={id:Dt};An==null||An(Vn),p({type:"onDragAbort",event:Vn})},onPending(Dt,Ua,An,Vn){if(!E.get(Dt))return;const{onDragPending:Sl}=N.current,qa={id:Dt,constraint:Ua,initialCoordinates:An,offset:Vn};Sl==null||Sl(qa),p({type:"onDragPending",event:qa})},onStart(Dt){const Ua=T.current;if(Ua==null)return;const An=E.get(Ua);if(!An)return;const{onDragStart:Vn}=N.current,jl={activatorEvent:yr,active:{id:Ua,data:An.data,rect:A}};ri.unstable_batchedUpdates(()=>{Vn==null||Vn(jl),j(Ka.Initializing),y({type:pt.DragStart,initialCoordinates:Dt,active:Ua}),p({type:"onDragStart",event:jl}),P(Ze.current),D(yr)})},onMove(Dt){y({type:pt.DragMove,coordinates:Dt})},onEnd:zo(pt.DragEnd),onCancel:zo(pt.DragCancel)});Ze.current=On;function zo(Dt){return async function(){const{active:An,collisions:Vn,over:jl,scrollAdjustedTranslate:Sl}=V.current;let qa=null;if(An&&Sl){const{cancelDrop:Cl}=N.current;qa={activatorEvent:yr,active:An,collisions:Vn,delta:Sl,over:jl},Dt===pt.DragEnd&&typeof Cl=="function"&&await Promise.resolve(Cl(qa))&&(Dt=pt.DragCancel)}T.current=null,ri.unstable_batchedUpdates(()=>{y({type:Dt}),j(Ka.Uninitialized),oe(null),P(null),D(null),Ze.current=null;const Cl=Dt===pt.DragEnd?"onDragEnd":"onDragCancel";if(qa){const Rp=N.current[Cl];Rp==null||Rp(qa),p({type:Cl,event:qa})}})}}},[E]),Fn=g.useCallback((Ht,gr)=>(vr,$a)=>{const Ir=vr.nativeEvent,yr=E.get($a);if(T.current!==null||!yr||Ir.dndKit||Ir.defaultPrevented)return;const On={active:yr};Ht(vr,gr.options,On)===!0&&(Ir.dndKit={capturedBy:gr.sensor},T.current=$a,Nt(vr,gr))},[E,Nt]),Yu=l$(d,Fn);g$(d),vn(()=>{K&&w===Ka.Initializing&&j(Ka.Initialized)},[K,w]),g.useEffect(()=>{const{onDragMove:Ht}=N.current,{active:gr,activatorEvent:vr,collisions:$a,over:Ir}=V.current;if(!gr||!vr)return;const yr={active:gr,activatorEvent:vr,collisions:$a,delta:{x:Wn.x,y:Wn.y},over:Ir};ri.unstable_batchedUpdates(()=>{Ht==null||Ht(yr),p({type:"onDragMove",event:yr})})},[Wn.x,Wn.y]),g.useEffect(()=>{const{active:Ht,activatorEvent:gr,collisions:vr,droppableContainers:$a,scrollAdjustedTranslate:Ir}=V.current;if(!Ht||T.current==null||!gr||!Ir)return;const{onDragOver:yr}=N.current,On=$a.get(W),zo=On&&On.rect.current?{id:On.id,rect:On.rect.current,data:On.data,disabled:On.disabled}:null,Dt={active:Ht,activatorEvent:gr,collisions:vr,delta:{x:Ir.x,y:Ir.y},over:zo};ri.unstable_batchedUpdates(()=>{oe(zo),yr==null||yr(Dt),p({type:"onDragOver",event:Dt})})},[W]),vn(()=>{V.current={activatorEvent:B,active:z,activeNode:ce,collisionRect:Hn,collisions:La,droppableRects:ie,draggableNodes:E,draggingNode:Ye,draggingNodeRect:Xe,droppableContainers:O,over:H,scrollableAncestors:En,scrollAdjustedTranslate:Wn},A.current={initial:Xe,translated:Hn}},[z,ce,La,Hn,E,Ye,Xe,ie,O,H,En,Wn]),a$({...Z,delta:k,draggingRect:Hn,pointerCoordinates:Vu,scrollableAncestors:En,scrollableAncestorRects:Po});const Xu=g.useMemo(()=>({active:z,activeNode:ce,activeNodeRect:K,activatorEvent:B,collisions:La,containerNodeRect:re,dragOverlay:me,draggableNodes:E,droppableContainers:O,droppableRects:ie,over:H,measureDroppableContainers:J,scrollableAncestors:En,scrollableAncestorRects:Po,measuringConfiguration:G,measuringScheduled:he,windowRect:xl}),[z,ce,K,B,La,re,me,E,O,ie,H,J,En,Po,G,he,xl]),_l=g.useMemo(()=>({activatorEvent:B,activators:Yu,active:z,activeNodeRect:K,ariaDescribedById:{draggable:L},dispatch:y,draggableNodes:E,over:H,measureDroppableContainers:J}),[B,Yu,z,K,y,L,E,H,J]);return Re.createElement(dT.Provider,{value:_},Re.createElement(Su.Provider,{value:_l},Re.createElement(ET.Provider,{value:Xu},Re.createElement(jm.Provider,{value:be},u)),Re.createElement(C$,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Re.createElement(kL,{...l,hiddenTextDescribedById:L}));function lP(){const Ht=(q==null?void 0:q.autoScrollEnabled)===!1,gr=typeof c=="object"?c.enabled===!1:c===!1,vr=C&&!Ht&&!gr;return typeof c=="object"?{...c,enabled:vr}:{enabled:vr}}}),A$=g.createContext(null),ej="button",k$="Draggable";function T$(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=ju(k$),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=g.useContext(Su),{role:h=ej,roleDescription:v="draggable",tabIndex:x=0}=a??{},b=(c==null?void 0:c.id)===t,y=g.useContext(b?jm:A$),[p,_]=Ff(),[w,j]=Ff(),C=v$(o,t),S=Ic(r);vn(()=>(f.set(t,{id:t,key:i,node:p,activatorNode:w,data:S}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const E=g.useMemo(()=>({role:h,tabIndex:x,"aria-disabled":n,"aria-pressed":b&&h===ej?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[n,h,x,b,v,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:E,isDragging:b,listeners:n?void 0:C,node:p,over:m,setNodeRef:_,setActivatorNodeRef:j,transform:y}}function AT(){return g.useContext(ET)}const R$="Droppable",N$={timeout:25};function Cm(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=ju(R$),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=g.useContext(Su),d=g.useRef({disabled:r}),f=g.useRef(!1),m=g.useRef(null),h=g.useRef(null),{disabled:v,updateMeasurementsFor:x,timeout:b}={...N$,...a},y=Ic(x??n),p=g.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),h.current=null},b)},[b]),_=_m({callback:p,disabled:v||!o}),w=g.useCallback((E,k)=>{_&&(k&&(_.unobserve(k),f.current=!1),E&&_.observe(E))},[_]),[j,C]=Ff(w),S=Ic(t);return g.useEffect(()=>{!_||!j.current||(_.disconnect(),f.current=!1,_.observe(j.current))},[j,_]),g.useEffect(()=>(l({type:pt.RegisterDroppable,element:{id:n,key:i,disabled:r,node:j,rect:m,data:S}}),()=>l({type:pt.UnregisterDroppable,key:i,id:n})),[n]),g.useEffect(()=>{r!==d.current.disabled&&(l({type:pt.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===n,node:j,over:c,setNodeRef:C}}function D$(e){let{animation:t,children:r}=e;const[n,a]=g.useState(null),[i,o]=g.useState(null),l=Vf(r);return!r&&!n&&l&&a(l),vn(()=>{if(!i)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,n,i]),Re.createElement(Re.Fragment,null,r,n?g.cloneElement(n,{ref:o}):null)}const P$={x:0,y:0,scaleX:1,scaleY:1};function M$(e){let{children:t}=e;return Re.createElement(Su.Provider,{value:CT},Re.createElement(jm.Provider,{value:P$},t))}const z$={position:"fixed",touchAction:"none"},B$=e=>ym(e)?"transform 250ms ease":void 0,I$=g.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:o,rect:l,style:c,transform:u,transition:d=B$}=e;if(!l)return null;const f=a?u:{...u,scaleX:1,scaleY:1},m={...z$,width:l.width,height:l.height,top:l.top,left:l.left,transform:yn.Transform.toString(f),transformOrigin:a&&n?RL(n,l):void 0,transition:typeof d=="function"?d(n):d,...c};return Re.createElement(r,{className:o,style:m,ref:t},i)}),L$=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))r.node.style.setProperty(c,u);o!=null&&o.active&&r.node.classList.remove(o.active)}},$$=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:yn.Transform.toString(t)},{transform:yn.Transform.toString(r)}]},U$={duration:250,easing:"ease",keyframes:$$,sideEffects:L$({styles:{active:{opacity:"0"}}})};function q$(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return vm((i,o)=>{if(t===null)return;const l=r.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=ST(o);if(!u)return;const{transform:d}=rr(o).getComputedStyle(o),f=hT(d);if(!f)return;const m=typeof t=="function"?t:W$(t);return xT(c,a.draggable.measure),m({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:a,transform:f})})}function W$(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...U$,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...u}=i;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-d.x,y:c.y-d.y,...f},h=a({...u,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[v]=h,x=h[h.length-1];if(JSON.stringify(v)===JSON.stringify(x))return;const b=n==null?void 0:n({active:o,dragOverlay:l,...u}),y=l.node.animate(h,{duration:t,easing:r,fill:"forwards"});return new Promise(p=>{y.onfinish=()=>{b==null||b(),p()}})}}let tj=0;function H$(e){return g.useMemo(()=>{if(e!=null)return tj++,tj},[e])}const Wb=Re.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:h,draggableNodes:v,droppableContainers:x,dragOverlay:b,over:y,measuringConfiguration:p,scrollableAncestors:_,scrollableAncestorRects:w,windowRect:j}=AT(),C=g.useContext(jm),S=H$(f==null?void 0:f.id),E=OT(o,{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:h,draggingNodeRect:b.rect,over:y,overlayNodeRect:b.rect,scrollableAncestors:_,scrollableAncestorRects:w,transform:C,windowRect:j}),k=qb(m),O=q$({config:n,draggableNodes:v,droppableContainers:x,measuringConfiguration:p}),R=k?b.setRef:void 0;return Re.createElement(M$,null,Re.createElement(D$,{animation:O},f&&S?Re.createElement(I$,{key:S,id:f.id,ref:R,as:l,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:k,style:{zIndex:u,...a},transform:E},r):null))});function kT(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function F$(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function _d(e){return e!==null&&e>=0}function V$(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function K$(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const TT=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=kT(t,n,r),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},jd={scaleX:1,scaleY:1},Em=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:a,rects:i,overIndex:o}=e;const l=(t=i[r])!=null?t:n;if(!l)return null;if(a===r){const u=i[o];return u?{x:0,y:r<o?u.top+u.height-(l.top+l.height):u.top-l.top,...jd}:null}const c=G$(i,a,r);return a>r&&a<=o?{x:0,y:-l.height-c,...jd}:a<r&&a>=o?{x:0,y:l.height+c,...jd}:{x:0,y:0,...jd}};function G$(e,t,r){const n=e[t],a=e[t-1],i=e[t+1];return n?r<t?a?n.top-(a.top+a.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const RT="Sortable",NT=Re.createContext({activeIndex:-1,containerId:RT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:TT,disabled:{draggable:!1,droppable:!1}});function Om(e){let{children:t,id:r,items:n,strategy:a=TT,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=AT(),f=ju(RT,r),m=l.rect!==null,h=g.useMemo(()=>n.map(C=>typeof C=="object"&&"id"in C?C.id:C),[n]),v=o!=null,x=o?h.indexOf(o.id):-1,b=u?h.indexOf(u.id):-1,y=g.useRef(h),p=!V$(h,y.current),_=b!==-1&&x===-1||p,w=K$(i);vn(()=>{p&&v&&d(h)},[p,h,v,d]),g.useEffect(()=>{y.current=h},[h]);const j=g.useMemo(()=>({activeIndex:x,containerId:f,disabled:w,disableTransforms:_,items:h,overIndex:b,useDragOverlay:m,sortedRects:F$(h,c),strategy:a}),[x,f,w.draggable,w.droppable,_,h,b,c,m,a]);return Re.createElement(NT.Provider,{value:j},t)}const Y$=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return kT(r,n,a).indexOf(t)},X$=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==i&&a===o?!1:r?!0:o!==a&&t===c},Z$={duration:200,easing:"ease"},DT="transform",J$=yn.Transition.toString({property:DT,duration:0,easing:"linear"}),Q$={roleDescription:"sortable"};function e9(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,o]=g.useState(null),l=g.useRef(r);return vn(()=>{if(!t&&r!==l.current&&n.current){const c=a.current;if(c){const u=ul(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}r!==l.current&&(l.current=r)},[t,r,n,a]),g.useEffect(()=>{i&&o(null)},[i]),i}function Am(e){let{animateLayoutChanges:t=X$,attributes:r,disabled:n,data:a,getNewIndex:i=Y$,id:o,strategy:l,resizeObserverConfig:c,transition:u=Z$}=e;const{items:d,containerId:f,activeIndex:m,disabled:h,disableTransforms:v,sortedRects:x,overIndex:b,useDragOverlay:y,strategy:p}=g.useContext(NT),_=t9(n,h),w=d.indexOf(o),j=g.useMemo(()=>({sortable:{containerId:f,index:w,items:d},...a}),[f,a,w,d]),C=g.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:S,node:E,isOver:k,setNodeRef:O}=Cm({id:o,data:j,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:R,activatorEvent:A,activeNodeRect:z,attributes:T,setNodeRef:q,listeners:P,isDragging:B,over:D,setActivatorNodeRef:N,transform:L}=T$({id:o,data:j,attributes:{...Q$,...r},disabled:_.draggable}),Y=gL(O,q),G=!!R,ie=G&&!v&&_d(m)&&_d(b),J=!y&&B,he=J&&ie?L:null,M=ie?he??(l??p)({rects:x,activeNodeRect:z,activeIndex:m,overIndex:b,index:w}):null,Z=_d(m)&&_d(b)?i({id:o,items:d,activeIndex:m,overIndex:b}):w,I=R==null?void 0:R.id,K=g.useRef({activeId:I,items:d,newIndex:Z,containerId:f}),re=d!==K.current.items,V=t({active:R,containerId:f,isDragging:B,isSorting:G,id:o,index:w,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:u,wasDragging:K.current.activeId!=null}),Te=e9({disabled:!V,index:w,node:E,rect:S});return g.useEffect(()=>{G&&K.current.newIndex!==Z&&(K.current.newIndex=Z),f!==K.current.containerId&&(K.current.containerId=f),d!==K.current.items&&(K.current.items=d)},[G,Z,f,d]),g.useEffect(()=>{if(I===K.current.activeId)return;if(I!=null&&K.current.activeId==null){K.current.activeId=I;return}const Ye=setTimeout(()=>{K.current.activeId=I},50);return()=>clearTimeout(Ye)},[I]),{active:R,activeIndex:m,attributes:T,data:j,rect:S,index:w,newIndex:Z,items:d,isOver:k,isSorting:G,isDragging:B,listeners:P,node:E,overIndex:b,over:D,setNodeRef:Y,setActivatorNodeRef:N,setDroppableNodeRef:O,setDraggableNodeRef:q,transform:Te??M,transition:me()};function me(){if(Te||re&&K.current.newIndex===w)return J$;if(!(J&&!ym(A)||!u)&&(G||V))return yn.Transition.toString({...u,property:DT})}}function t9(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}we.Down,we.Right,we.Up,we.Left;const rj=[{status:"simulacao",label:"Simulao",color:"#64748b"},{status:"indicado",label:"Indicado",color:"#0ea5e9"},{status:"em_negociacao",label:"Em Negociao",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"negocio_perdido",label:"Negcio Perdido",color:"#ef4444"},{status:"pago",label:"Pago",color:"#8b5cf6"}];function PT({lead:e,onClick:t,isOverlay:r}){var d,f;const{attributes:n,listeners:a,setNodeRef:i,transform:o,transition:l,isDragging:c}=Am({id:e.id,disabled:!!r}),u={transform:yn.Transform.toString(o),transition:l,opacity:c?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:r?"var(--shadow-lg)":"var(--shadow-sm)",cursor:r?"grabbing":"grab",border:"1px solid transparent",zIndex:c?1e3:1,position:"relative",width:r?"280px":"auto"};return s.jsxs("div",{ref:i,style:u,...r?{}:n,...r?{}:a,onClick:()=>!r&&t(e),children:[s.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:e.name}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontSize:"0.7rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria||"N/A"}),s.jsx("span",{style:{fontSize:"0.7rem",color:"#047857",background:"#ecfdf5",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.consumo_kwh?`${Number(e.consumo_kwh).toLocaleString("pt-BR")} kWh`:"0 kWh"})]}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.email}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:e.phone}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[s.jsx("span",{children:((f=(d=e.originator)==null?void 0:d.name)==null?void 0:f.split(" ")[0])||"-"}),s.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})}function r9({status:e,label:t,color:r,leads:n,onCardClick:a}){const{setNodeRef:i,isOver:o}=Cm({id:e});return s.jsxs("div",{ref:i,style:{minWidth:"280px",flex:1,background:o?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:t}),s.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:n.length})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:s.jsx(Om,{items:n.map(l=>l.id),strategy:Em,children:n.map(l=>s.jsx(PT,{lead:l,onClick:a},l.id))})})]})}function n9(){const{profile:e}=nn(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,v]=g.useState("kanban"),[x,b]=g.useState(""),[y,p]=g.useState(null),_=xm(bm(dl,{activationConstraint:{distance:8}})),w=t.filter(A=>{var T,q,P,B;if(!x)return!0;const z=x.toLowerCase();return((T=A.name)==null?void 0:T.toLowerCase().includes(z))||((q=A.email)==null?void 0:q.toLowerCase().includes(z))||((P=A.phone)==null?void 0:P.includes(z))||((B=A.concessionaria)==null?void 0:B.toLowerCase().includes(z))});g.useEffect(()=>{j()},[]);const j=async()=>{a(!0);try{const{data:A,error:z}=await U.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(z)throw z;r(A||[])}catch(A){console.error("Error fetching leads:",A)}finally{a(!1)}},C=A=>{j(),o(!1)},S=A=>{r(t.filter(z=>z.id!==A)),o(!1)},E=A=>{m(A),c(!0)},k=async A=>{try{await U.from("leads").update({status:"em_negociacao"}).eq("id",f.id),j(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(z){console.error("Erro ao atualizar status do lead",z)}},O=A=>{p(A.active.id)},R=async A=>{const{active:z,over:T}=A;if(p(null),!T)return;const q=z.id,P=T.id;let B=P;if(!rj.some(L=>L.status===P)){const L=t.find(Y=>Y.id===P);B=L==null?void 0:L.status}if(!B)return;const N=t.find(L=>L.id===q);if(N&&N.status!==B){r(L=>L.map(Y=>Y.id===q?{...Y,status:B}:Y));try{const{error:L}=await U.from("leads").update({status:B}).eq("id",q);if(L)throw L}catch(L){console.error("Error updating lead status:",L),j()}}};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Gesto de Leads"}),s.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[s.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou concessionria...",value:x,onChange:A=>b(A.target.value),className:"input",style:{maxWidth:"400px"}}),s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>v("list"),className:`btn ${h==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>v("kanban"),className:`btn ${h==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:h==="list"?s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:w.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome"}),s.jsx("th",{children:"Concessionria"}),s.jsx("th",{children:"Consumo (kWh)"}),s.jsx("th",{children:"Contato"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Originador"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:w.map(A=>{var z;return s.jsxs("tr",{children:[s.jsx("td",{style:{fontWeight:"bold"},children:A.name}),s.jsx("td",{children:A.concessionaria||"-"}),s.jsx("td",{children:A.consumo_kwh?`${Number(A.consumo_kwh).toLocaleString("pt-BR")} kWh`:"-"}),s.jsxs("td",{children:[s.jsx("div",{style:{fontSize:"0.9rem"},children:A.email}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:A.phone})]}),s.jsx("td",{children:s.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:A.status==="simulacao"?"#f1f5f9":A.status==="em_negociacao"?"#fef9c3":A.status==="ativo"?"#dcfce7":"#f1f5f9",color:A.status==="simulacao"?"#64748b":A.status==="em_negociacao"?"#a16207":A.status==="ativo"?"#166534":"#64748b"},children:A.status.toUpperCase().replace("_"," ")})}),s.jsx("td",{children:((z=A.originator)==null?void 0:z.name)||"-"}),s.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{onClick:()=>{d(A),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),A.status!=="convertido"&&s.jsx("button",{onClick:()=>E(A),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},A.id)})})]})})}):s.jsxs(Sm,{sensors:_,collisionDetection:wm,onDragStart:O,onDragEnd:R,onDragCancel:()=>p(null),children:[s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:rj.map(({status:A,label:z,color:T})=>{const q=w.filter(P=>(P.status||"simulacao")===A);return s.jsx(r9,{status:A,label:z,color:T,leads:q,onCardClick:P=>{d(P),o(!0)}},A)})}),s.jsx(Wb,{adjustScale:!0,children:y?s.jsx(PT,{lead:t.find(A=>A.id===y),isOverlay:!0}):null})]})}),i&&s.jsx(pL,{lead:u,onClose:()=>o(!1),onSave:C,onDelete:S,onConvert:E}),l&&s.jsx(lT,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>c(!1),onSave:k})]})}function a9(){const{profile:e}=nn(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState("list"),[f,m]=g.useState(""),[h,v]=g.useState(null),x=t.filter(j=>{var S,E,k,O;if(!f)return!0;const C=f.toLowerCase();return((S=j.name)==null?void 0:S.toLowerCase().includes(C))||((E=j.email)==null?void 0:E.toLowerCase().includes(C))||((k=j.phone)==null?void 0:k.includes(C))||((O=j.cpf_cnpj)==null?void 0:O.includes(C))});g.useEffect(()=>{b()},[]);const b=async()=>{a(!0);try{const{data:j,error:C}=await U.from("subscribers").select("*").order("created_at",{ascending:!1});if(C)throw C;r(j||[])}catch(j){console.error("Error fetching subscribers:",j)}finally{a(!1)}},y=j=>{const C=t.find(S=>S.id===j.id);r(C?t.map(S=>S.id===j.id?{...S,...j}:S):[j,...t])},p=async j=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${j.name}?`)){v(j.id);try{const C=await hm(j.id,"subscriber");C.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(C.url,"_blank"))}catch(C){console.error(C),alert("Erro: "+(C.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{v(null)}}},_={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},w=j=>{r(t.filter(C=>C.id!==j))};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Gesto de Assinantes"}),s.jsx("button",{onClick:()=>{c(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[s.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:j=>m(j.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),s.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),s.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:u==="list"?s.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:x.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),s.jsx("tbody",{children:x.map(j=>{var C,S,E,k,O;return s.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[s.jsxs("td",{style:{padding:"1rem"},children:[s.jsx("div",{style:{fontWeight:"bold"},children:j.name}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.cpf_cnpj})]}),s.jsxs("td",{style:{padding:"1rem"},children:[s.jsx("div",{style:{fontSize:"0.9rem"},children:j.email}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.phone})]}),s.jsx("td",{style:{padding:"1rem"},children:s.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(C=j.status)!=null&&C.includes("ativo")?"#dcfce7":(S=j.status)!=null&&S.includes("cancelado")?"#fee2e2":"#dbeafe",color:(E=j.status)!=null&&E.includes("ativo")?"#166534":(k=j.status)!=null&&k.includes("cancelado")?"#dc2626":"#1e40af"},children:(O=j.status)==null?void 0:O.toUpperCase().replace("_"," ")})}),s.jsx("td",{style:{padding:"1rem"},children:j.cidade?`${j.cidade}/${j.uf}`:"-"}),s.jsx("td",{style:{padding:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{onClick:()=>p(j),disabled:h===j.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:h===j.id?"...":s.jsx(vu,{size:14})}),s.jsx("button",{onClick:()=>{c(j),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},j.id)})})]})}):s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(j=>{const C=x.filter(E=>E.status===j),S=_[j]||"#64748b";return s.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${S}`},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:S},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:j.replace("_"," ")}),s.jsx("span",{style:{fontSize:"0.8rem",background:S,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:C.length})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:C.map(E=>s.jsxs("div",{onClick:()=>{c(E),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:k=>k.currentTarget.style.borderColor="transparent",children:[s.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:E.name}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.cpf_cnpj}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.email}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[s.jsx("span",{children:E.cidade}),s.jsx("span",{children:new Date(E.created_at).toLocaleDateString()})]})]},E.id))})]},j)})})}),i&&s.jsx(lT,{subscriber:l,onClose:()=>o(!1),onSave:y,onDelete:w})]})}function i9({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});g.useEffect(()=>{var v,x,b,y,p,_,w,j,C;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((v=e.split_commission)==null?void 0:v.start)||0,split_recurrent:((x=e.split_commission)==null?void 0:x.recurrent)||0,cep:((b=e.address)==null?void 0:b.cep)||"",rua:((y=e.address)==null?void 0:y.rua)||"",numero:((p=e.address)==null?void 0:p.numero)||"",complemento:((_=e.address)==null?void 0:_.complemento)||"",bairro:((w=e.address)==null?void 0:w.bairro)||"",cidade:((j=e.address)==null?void 0:j.cidade)||"",uf:((C=e.address)==null?void 0:C.uf)||""})},[e]);const d=async()=>{const v=c.cep.replace(/\D/g,"");if(v.length===8){l(!0);try{const x=await Sn(v);u(b=>({...b,rua:x.rua||"",bairro:x.bairro||"",cidade:x.cidade||"",uf:x.uf||""}))}catch(x){console.error("Erro CEP",x),alert("Erro ao buscar CEP")}finally{l(!1)}}};g.useEffect(()=>{if(c.pix_key_type==="aleatoria")return;let v="";c.pix_key_type==="cpf"||c.pix_key_type==="cnpj"?v=c.cpf_cnpj:c.pix_key_type==="email"?v=c.email:c.pix_key_type==="telefone"&&(v=c.phone),v!==c.pix_key&&u(x=>({...x,pix_key:v}))},[c.pix_key_type,c.cpf_cnpj,c.email,c.phone]);const f=async v=>{if(v.preventDefault(),!xu(c.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!mo(c.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const x={name:c.name,cpf_cnpj:c.cpf_cnpj,email:c.email,phone:c.phone,pix_key:c.pix_key,pix_key_type:c.pix_key_type,split_commission:{start:Number(c.split_start)||0,recurrent:Number(c.split_recurrent)||0},address:{cep:c.cep,rua:c.rua,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cidade:c.cidade,uf:c.uf}};try{let b;if(e!=null&&e.id?b=await U.from("originators_v2").update(x).eq("id",e.id).select().single():b=await U.from("originators_v2").insert(x).select().single(),b.error)throw b.error;r(b.data),t()}catch(b){alert("Erro ao salvar originador: "+b.message)}finally{i(!1)}},m=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:v}=await U.from("originators_v2").delete().eq("id",e.id);if(v)throw v;n&&n(e.id),t()}catch(v){alert("Erro ao excluir: "+v.message)}finally{i(!1)}}},h=e?`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`:"Salve para gerar URL";return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),s.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&s.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[s.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("input",{value:`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`,className:"input",style:{color:"#0284c7"}}),s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),s.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),s.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[s.jsx("label",{className:"label",children:"Nome Completo"}),s.jsx("input",{value:c.name,onChange:v=>u({...c,name:v.target.value}),className:"input",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"CPF/CNPJ"}),s.jsx("input",{value:c.cpf_cnpj,onChange:v=>u({...c,cpf_cnpj:bu(v.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Email"}),s.jsx("input",{type:"email",value:c.email,onChange:v=>u({...c,email:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Telefone"}),s.jsx("input",{value:c.phone,onChange:v=>u({...c,phone:Ci(v.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Tipo Chave PIX"}),s.jsxs("select",{value:c.pix_key_type,onChange:v=>u({...c,pix_key_type:v.target.value}),className:"select",children:[s.jsx("option",{value:"cpf",children:"CPF"}),s.jsx("option",{value:"cnpj",children:"CNPJ"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"telefone",children:"Telefone"}),s.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Chave PIX"}),s.jsx("input",{value:c.pix_key,onChange:v=>u({...c,pix_key:v.target.value}),className:"input"})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:s.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"CEP"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{value:c.cep,onChange:v=>u({...c,cep:v.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&s.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Rua"}),s.jsx("input",{value:c.rua,onChange:v=>u({...c,rua:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Nmero"}),s.jsx("input",{value:c.numero,onChange:v=>u({...c,numero:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Complemento"}),s.jsx("input",{value:c.complemento,onChange:v=>u({...c,complemento:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Bairro"}),s.jsx("input",{value:c.bairro,onChange:v=>u({...c,bairro:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Cidade"}),s.jsx("input",{value:c.cidade,onChange:v=>u({...c,cidade:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"UF"}),s.jsx("input",{value:c.uf,onChange:v=>u({...c,uf:v.target.value}),className:"input"})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:s.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),s.jsx("input",{type:"number",step:"0.01",value:c.split_start,onChange:v=>u({...c,split_start:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),s.jsx("input",{type:"number",step:"0.01",value:c.split_recurrent,onChange:v=>u({...c,split_recurrent:v.target.value}),className:"input"})]}),e&&s.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[s.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("input",{readOnly:!0,value:h,className:"input",style:{border:"1px solid #10b981"}}),s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(h),alert("Link copiado: "+h)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),s.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&s.jsx("button",{type:"button",onClick:m,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),s.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function o9(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState(null);g.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:_}=await U.from("originators_v2").select("*").order("name");_?console.error("Error fetching originators:",_):t(p||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const p=new Date().toISOString().split("T")[0],{data:_,error:w}=await U.rpc("generate_monthly_commissions",{target_date:p});if(w)throw w;alert(`Processamento concludo!
Faturas processadas: ${_.invoices_processed}
Valor total gerado: R$ ${_.total_commission_value}`)}catch(p){console.error("Error processing commissions:",p),alert("Erro ao processar comisses: "+(p.message||"Erro desconhecido"))}finally{n(!1)}}},m=p=>{u(p),l(!0)},h=()=>{u(null),l(!0)},v=p=>{d()},x=p=>{d()},b=p=>{const _=`${window.location.origin}/clientes?id=${p}`;navigator.clipboard.writeText(_),alert("Link copiado: "+_)},y=e.filter(p=>{var _,w;return((_=p.name)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))||((w=p.email)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("h2",{children:"Gesto de Originadores"}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),s.jsxs("button",{onClick:h,className:"btn btn-accent",children:[s.jsx(ol,{size:18})," Novo Originador"]})]})]}),s.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[s.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:p=>i(p.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),s.jsx(Rb,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?s.jsx("p",{children:"Carregando..."}):s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome"}),s.jsx("th",{children:"Contato"}),s.jsx("th",{children:"Comisso (Start/Rec.)"}),s.jsx("th",{children:"Chave PIX"}),s.jsx("th",{children:"Link"}),s.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),s.jsx("tbody",{children:y.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):y.map(p=>{var _,w;return s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:p.name}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:p.cpf_cnpj})]}),s.jsxs("td",{children:[s.jsx("div",{style:{fontSize:"0.9rem"},children:p.email}),s.jsx("div",{style:{fontSize:"0.9rem"},children:p.phone})]}),s.jsx("td",{children:s.jsxs("span",{className:"badge badge-success",children:[((_=p.split_commission)==null?void 0:_.start)||0,"% / ",((w=p.split_commission)==null?void 0:w.recurrent)||0,"%"]})}),s.jsx("td",{style:{fontSize:"0.9rem"},children:p.pix_key||"-"}),s.jsx("td",{children:s.jsx("button",{onClick:()=>b(p.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:s.jsx(oI,{size:16,color:"var(--color-blue)"})})}),s.jsx("td",{style:{textAlign:"right"},children:s.jsx("button",{onClick:()=>m(p),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:s.jsx(WI,{size:18})})})]},p.id)})})]})})}),o&&s.jsx(i9,{originator:c,onClose:()=>l(!1),onSave:v,onDelete:x})]})}function s9({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=hr(),[o,l]=g.useState(!1),[c,u]=g.useState([]),[d,f]=g.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});g.useEffect(()=>{var y,p,_,w,j,C,S,E,k;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((y=e.address)==null?void 0:y.cep)||"",rua:((p=e.address)==null?void 0:p.logradouro)||((_=e.address)==null?void 0:_.rua)||"",numero:((w=e.address)==null?void 0:w.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((C=e.address)==null?void 0:C.bairro)||"",cidade:((S=e.address)==null?void 0:S.municipio)||((E=e.address)==null?void 0:E.cidade)||"",uf:((k=e.address)==null?void 0:k.uf)||""}),m(e.id))},[e]);const m=async y=>{const{data:p}=await U.from("usinas").select("id, name, status").eq("supplier_id",y);u(p||[])},h=async()=>{const y=d.cnpj.replace(/\D/g,"");if(y.length===14){l(!0);try{const p=await zc(y);p&&f(_=>{var w,j,C,S,E,k,O,R,A;return{..._,name:p.nome||_.name,email:p.email||_.email,phone:p.telefone||_.phone,legal_partner_name:((w=p.legal_partner)==null?void 0:w.nome)||_.legal_partner_name,legal_partner_cpf:((j=p.legal_partner)==null?void 0:j.cpf)||_.legal_partner_cpf,cep:((C=p.address)==null?void 0:C.cep)||_.cep,rua:((S=p.address)==null?void 0:S.logradouro)||_.rua,numero:((E=p.address)==null?void 0:E.numero)||_.numero,complemento:((k=p.address)==null?void 0:k.complemento)||_.complemento,bairro:((O=p.address)==null?void 0:O.bairro)||_.bairro,cidade:((R=p.address)==null?void 0:R.municipio)||_.cidade,uf:((A=p.address)==null?void 0:A.uf)||_.uf}})}catch(p){console.error("Erro CNPJ",p),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{l(!1)}}},v=y=>{const p=y.target.value;let _=d.pix_key;switch(p){case"telefone":_=d.phone;break;case"email":_=d.email;break;case"cnpj":_=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(_=d.legal_partner_cpf);break}f(w=>({...w,pix_key_type:p,pix_key:_}))},x=async y=>{if(y.preventDefault(),d.cnpj&&!xu(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!mo(d.phone)){a("Telefone invlido!","warning");return}l(!0);try{console.log("Submitting payload:",d);const p={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",p);let _;if(e!=null&&e.id?_=await U.from("suppliers").update(p).eq("id",e.id).select().single():_=await U.from("suppliers").insert(p).select().single(),console.log("Supabase result:",_),_.error)throw _.error;r(_.data),t()}catch(p){console.error("Save error details:",p);const _=p.message||JSON.stringify(p);_.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await U.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+_,"error")}finally{l(!1)}},b=async()=>{if(c.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){l(!0);try{const{error:p}=await U.from("suppliers").delete().eq("id",e.id);if(p)throw p;n&&n(e.id),t()}catch(p){a("Erro ao excluir: "+p.message,"error")}finally{l(!1)}}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[s.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),s.jsxs("form",{onSubmit:x,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),s.jsx("input",{value:d.cnpj,onChange:y=>f({...d,cnpj:y.target.value}),onBlur:h,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),s.jsx("input",{required:!0,value:d.name,onChange:y=>f({...d,name:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),s.jsx("input",{value:d.legal_partner_name,onChange:y=>f({...d,legal_partner_name:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),s.jsx("input",{value:d.legal_partner_cpf,onChange:y=>f({...d,legal_partner_cpf:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),s.jsx("input",{value:d.cnpj,onChange:y=>f({...d,cnpj:bu(y.target.value)}),onBlur:h,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),s.jsx("input",{value:d.phone,onChange:y=>f({...d,phone:Ci(y.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),s.jsx("input",{type:"email",value:d.email,onChange:y=>f({...d,email:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),s.jsxs("select",{value:d.pix_key_type,onChange:v,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[s.jsx("option",{value:"cpf",children:"CPF"}),s.jsx("option",{value:"cnpj",children:"CNPJ"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"telefone",children:"Telefone"}),s.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),s.jsx("input",{value:d.pix_key,onChange:y=>f({...d,pix_key:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),s.jsxs("select",{value:d.status,onChange:y=>f({...d,status:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[s.jsx("option",{value:"ativacao",children:"Em Ativao"}),s.jsx("option",{value:"ativo",children:"Ativo"}),s.jsx("option",{value:"inativo",children:"Inativo"})]})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),s.jsx("input",{value:d.cep,onChange:y=>f({...d,cep:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),s.jsx("input",{value:d.rua,onChange:y=>f({...d,rua:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),s.jsx("input",{value:d.numero,onChange:y=>f({...d,numero:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),s.jsx("input",{value:d.complemento,onChange:y=>f({...d,complemento:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),s.jsx("input",{value:d.bairro,onChange:y=>f({...d,bairro:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("input",{value:d.cidade,onChange:y=>f({...d,cidade:y.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),s.jsx("input",{value:d.uf,onChange:y=>f({...d,uf:y.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&c.length>0&&s.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[s.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),s.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:c.map(y=>s.jsxs("li",{children:[y.name," - ",s.jsx("span",{style:{opacity:.7},children:y.status})]},y.id))})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[s.jsx("div",{children:e&&n&&s.jsx("button",{type:"button",onClick:b,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function l9(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(!1),[o,l]=g.useState(null);g.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const{data:f,error:m}=await U.from("suppliers").select("*").order("created_at",{ascending:!1});if(m)throw m;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{c(),i(!1)},d=f=>{t(e.filter(m=>m.id!==f)),i(!1)};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Fornecedores (Geradores)"}),s.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?s.jsx("p",{children:"Carregando..."}):s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:e.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome/Razo Social"}),s.jsx("th",{children:"CNPJ"}),s.jsx("th",{children:"Contato"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:e.map(f=>{var m;return s.jsxs("tr",{children:[s.jsx("td",{style:{fontWeight:"bold"},children:f.name}),s.jsx("td",{children:f.cnpj}),s.jsxs("td",{children:[s.jsx("div",{children:f.email}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),s.jsx("td",{children:s.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(m=f.status)==null?void 0:m.toUpperCase()})}),s.jsx("td",{children:s.jsx("button",{onClick:()=>{l(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&s.jsx(s9,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function MT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=MT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function We(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=MT(e))&&(n&&(n+=" "),n+=t);return n}var c9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Hb(e){if(typeof e!="string")return!1;var t=c9;return t.includes(e)}var u9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],d9=new Set(u9);function zT(e){return typeof e!="string"?!1:d9.has(e)}function BT(e){return typeof e=="string"&&e.startsWith("data-")}function xa(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(zT(r)||BT(r))&&(t[r]=e[r]);return t}function Fb(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return xa(t)}return typeof e=="object"&&!Array.isArray(e)?xa(e):null}function en(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(zT(r)||BT(r)||Hb(r))&&(t[r]=e[r]);return t}var f9=["children","width","height","viewBox","className","style","title","desc"];function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}function h9(e,t){if(e==null)return{};var r,n,a=m9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IT=g.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=h9(e,f9),f=i||{width:n,height:a,x:0,y:0},m=We("recharts-surface",o);return g.createElement("svg",vy({},en(d),{className:m,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),p9=["children","className"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function g9(e,t){if(e==null)return{};var r,n,a=v9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function v9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wa=g.forwardRef((e,t)=>{var{children:r,className:n}=e,a=g9(e,p9),i=We("recharts-layer",n);return g.createElement("g",yy({className:i},en(a),{ref:t}),r)}),y9=g.createContext(null);function ze(e){return function(){return e}}const LT=Math.cos,Zf=Math.sin,Cn=Math.sqrt,Jf=Math.PI,km=2*Jf,by=Math.PI,xy=2*by,Wi=1e-6,b9=xy-Wi;function $T(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function x9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $T;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class w9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$T:x9(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Wi)if(!(Math.abs(f*c-u*d)>Wi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=a-l,x=c*c+u*u,b=h*h+v*v,y=Math.sqrt(x),p=Math.sqrt(m),_=i*Math.tan((by-Math.acos((x+m-b)/(2*y*p)))/2),w=_/p,j=_/y;Math.abs(w-1)>Wi&&this._append`L${t+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*h>d*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Wi||Math.abs(this._y1-d)>Wi)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%xy+xy),m>b9?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Wi&&this._append`A${n},${n},0,${+(m>=by)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Vb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new w9(t)}function Kb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UT(e){this._context=e}UT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tm(e){return new UT(e)}function qT(e){return e[0]}function WT(e){return e[1]}function HT(e,t){var r=ze(!0),n=null,a=Tm,i=null,o=Vb(l);e=typeof e=="function"?e:e===void 0?qT:ze(e),t=typeof t=="function"?t:t===void 0?WT:ze(t);function l(c){var u,d=(c=Kb(c)).length,f,m=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ze(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ze(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ze(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Sd(e,t,r){var n=null,a=ze(!0),i=null,o=Tm,l=null,c=Vb(u);e=typeof e=="function"?e:e===void 0?qT:ze(+e),t=typeof t=="function"?t:ze(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WT:ze(+r);function u(f){var m,h,v,x=(f=Kb(f)).length,b,y=!1,p,_=new Array(x),w=new Array(x);for(i==null&&(l=o(p=c())),m=0;m<=x;++m){if(!(m<x&&a(b=f[m],m,f))===y)if(y=!y)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=m-1;v>=h;--v)l.point(_[v],w[v]);l.lineEnd(),l.areaEnd()}y&&(_[m]=+e(b,m,f),w[m]=+t(b,m,f),l.point(n?+n(b,m,f):_[m],r?+r(b,m,f):w[m]))}if(p)return l=null,p+""||null}function d(){return HT().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ze(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ze(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ze(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ze(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ze(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ze(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ze(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class FT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _9(e){return new FT(e,!0)}function j9(e){return new FT(e,!1)}const Gb={draw(e,t){const r=Cn(t/Jf);e.moveTo(r,0),e.arc(0,0,r,0,km)}},S9={draw(e,t){const r=Cn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},VT=Cn(1/3),C9=VT*2,E9={draw(e,t){const r=Cn(t/C9),n=r*VT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},O9={draw(e,t){const r=Cn(t),n=-r/2;e.rect(n,n,r,r)}},A9=.8908130915292852,KT=Zf(Jf/10)/Zf(7*Jf/10),k9=Zf(km/10)*KT,T9=-LT(km/10)*KT,R9={draw(e,t){const r=Cn(t*A9),n=k9*r,a=T9*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=km*i/5,l=LT(o),c=Zf(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Rg=Cn(3),N9={draw(e,t){const r=-Cn(t/(Rg*3));e.moveTo(0,r*2),e.lineTo(-Rg*r,-r),e.lineTo(Rg*r,-r),e.closePath()}},Lr=-.5,$r=Cn(3)/2,wy=1/Cn(12),D9=(wy/2+1)*3,P9={draw(e,t){const r=Cn(t/D9),n=r/2,a=r*wy,i=n,o=r*wy+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Lr*n-$r*a,$r*n+Lr*a),e.lineTo(Lr*i-$r*o,$r*i+Lr*o),e.lineTo(Lr*l-$r*c,$r*l+Lr*c),e.lineTo(Lr*n+$r*a,Lr*a-$r*n),e.lineTo(Lr*i+$r*o,Lr*o-$r*i),e.lineTo(Lr*l+$r*c,Lr*c-$r*l),e.closePath()}};function M9(e,t){let r=null,n=Vb(a);e=typeof e=="function"?e:ze(e||Gb),t=typeof t=="function"?t:ze(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ze(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ze(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Qf(){}function eh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function GT(e){this._context=e}GT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z9(e){return new GT(e)}function YT(e){this._context=e}YT.prototype={areaStart:Qf,areaEnd:Qf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B9(e){return new YT(e)}function XT(e){this._context=e}XT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:eh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I9(e){return new XT(e)}function ZT(e){this._context=e}ZT.prototype={areaStart:Qf,areaEnd:Qf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function L9(e){return new ZT(e)}function nj(e){return e<0?-1:1}function aj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(nj(i)+nj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ij(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ng(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function th(e){this._context=e}th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ng(this,this._t0,ij(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ng(this,ij(this,r=aj(this,e,t)),r);break;default:Ng(this,this._t0,r=aj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function JT(e){this._context=new QT(e)}(JT.prototype=Object.create(th.prototype)).point=function(e,t){th.prototype.point.call(this,t,e)};function QT(e){this._context=e}QT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function $9(e){return new th(e)}function U9(e){return new JT(e)}function eR(e){this._context=e}eR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=oj(e),a=oj(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function q9(e){return new eR(e)}function Rm(e,t){this._context=e,this._t=t}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function W9(e){return new Rm(e,.5)}function H9(e){return new Rm(e,0)}function F9(e){return new Rm(e,1)}function po(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function _y(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function V9(e,t){return e[t]}function K9(e){const t=[];return t.key=e,t}function G9(){var e=ze([]),t=_y,r=po,n=V9;function a(i){var o=Array.from(e.apply(this,arguments),K9),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Kb(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ze(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:ze(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?_y:typeof i=="function"?i:ze(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??po,a):r},a}function Y9(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}po(e,t)}}function X9(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}po(e,t)}}function Z9(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,v=0;v<l;++v){var x=e[t[v]],b=x[n][1]||0,y=x[n-1][1]||0;h+=b-y}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,po(e,t)}}var Nm={},tR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(tR);var Yb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Yb);var Dm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Dm);var Pm={},rR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(rR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR,r=Dm;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,l++}return c&&i.push(c),i}e.toPath=n})(Pm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR,r=Yb,n=Dm,a=Pm;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Nm);var J9=Nm.get;const Bs=ka(J9);var Q9=4;function ci(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q9,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Qe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var l=r[o-1];return typeof l=="string"?a+l+i:l!==void 0?a+ci(l)+i:a+i},"")}var lr=e=>e===0?0:e>0?1:-1,xn=e=>typeof e=="number"&&e!=+e,_a=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ee=e=>(typeof e=="number"||e instanceof Number)&&!xn(e),In=e=>ee(e)||typeof e=="string",eU=0,$c=e=>{var t=++eU;return"".concat(e||"").concat(t)},wn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(t)&&typeof t!="string")return n;var i;if(_a(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return xn(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},nR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Bt(e,t,r){return ee(e)&&ee(t)?ci(e+r*(t-e)):t}function tU(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Bs(n,t))===r)}var kt=e=>e===null||typeof e>"u",Cu=e=>kt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function rU(e){return e!=null}function Eu(){}var nU=["type","size","sizeType"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){aU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aU(e,t,r){return(t=iU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iU(e){var t=oU(e,"string");return typeof t=="symbol"?t:t+""}function oU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sU(e,t){if(e==null)return{};var r,n,a=lU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aR={symbolCircle:Gb,symbolCross:S9,symbolDiamond:E9,symbolSquare:O9,symbolStar:R9,symbolTriangle:N9,symbolWye:P9},cU=Math.PI/180,uU=e=>{var t="symbol".concat(Cu(e));return aR[t]||Gb},dU=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*cU;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fU=(e,t)=>{aR["symbol".concat(Cu(e))]=t},iR=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=sU(e,nU),i=lj(lj({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=uU(o),h=M9().type(m).size(dU(r,n,o)),v=h();if(v!==null)return v},{className:c,cx:u,cy:d}=i,f=en(i);return ee(u)&&ee(d)&&ee(r)?g.createElement("path",jy({},f,{className:We("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};iR.registerSymbol=fU;var oR=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,hU=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Hb(a)&&(n[a]=i=>r[a](r,i))}),n},mU=(e,t,r)=>n=>(e(t,r,n),null),Xb=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Hb(a)&&typeof i=="function"&&(n||(n={}),n[a]=mU(i,t,r))}),n};function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=yU(e,"string");return typeof t=="symbol"?t:t+""}function yU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zr(e,t){var r=pU({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var sR={},lR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o,i,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(lR);var cR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(cR);var Zb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Zb);var uR={},Mm={},dR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(dR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dR;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Mm);var fR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(fR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mm,r=fR;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(uR);var hR={},mR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nm;function r(n){return function(a){return t.get(a,n)}}e.property=r})(mR);var pR={},Jb={},gR={},Qb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Qb);var ex={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ex);var tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(tx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qb,r=ex,n=tx;function a(d,f,m){return typeof m!="function"?a(d,f,()=>{}):i(d,f,function h(v,x,b,y,p,_){const w=m(v,x,b,y,p,_);return w!==void 0?!!w:i(v,x,h,_)},new Map)}function i(d,f,m,h){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,m,h);case"function":return Object.keys(f).length>0?i(d,{...f},m,h):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,m,h){if(f==null)return!0;if(Array.isArray(f))return c(d,f,m,h);if(f instanceof Map)return l(d,f,m,h);if(f instanceof Set)return u(d,f,m,h);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===d;h==null||h.set(f,d);try{for(let x=0;x<v.length;x++){const b=v[x];if(!r.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!m(d[b],f[b],b,d,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function l(d,f,m,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,x]of f.entries()){const b=d.get(v);if(m(b,x,v,d,f,h)===!1)return!1}return!0}function c(d,f,m,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let x=0;x<f.length;x++){const b=f[x];let y=!1;for(let p=0;p<d.length;p++){if(v.has(p))continue;const _=d[p];let w=!1;if(m(_,b,x,d,f,h)&&(w=!0),w){v.add(p),y=!0;break}}if(!y)return!1}return!0}function u(d,f,m,h){return f.size===0?!0:d instanceof Set?c([...d],[...f],m,h):!1}e.isMatchWith=a,e.isSetMatch=u})(gR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gR;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Jb);var vR={},rx={},yR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(yR);var zm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(zm);var nx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",v="[object Error]",x="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",p="[object Uint16Array]",_="[object Uint32Array]",w="[object BigUint64Array]",j="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",E="[object BigInt64Array]",k="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=w,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=k,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=C,e.int32ArrayTag=S,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=p,e.uint32ArrayTag=_,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y})(nx);var bR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(bR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yR,r=zm,n=nx,a=ex,i=bR;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,m,h=new Map,v=void 0){const x=v==null?void 0:v(d,f,m,h);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const b=new Array(d.length);h.set(d,b);for(let y=0;y<d.length;y++)b[y]=l(d[y],y,m,h,v);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;h.set(d,b);for(const[y,p]of d)b.set(y,l(p,y,m,h,v));return b}if(d instanceof Set){const b=new Set;h.set(d,b);for(const y of d)b.add(l(y,void 0,m,h,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,b);for(let y=0;y<d.length;y++)b[y]=l(d[y],y,m,h,v);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,b),c(b,d,m,h,v),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return h.set(d,b),c(b,d,m,h,v),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return h.set(d,b),c(b,d,m,h,v),b}if(d instanceof Error){const b=new d.constructor;return h.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,m,h,v),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return h.set(d,b),c(b,d,m,h,v),b}if(d instanceof Number){const b=new Number(d.valueOf());return h.set(d,b),c(b,d,m,h,v),b}if(d instanceof String){const b=new String(d.valueOf());return h.set(d,b),c(b,d,m,h,v),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return h.set(d,b),c(b,d,m,h,v),b}return d}function c(d,f,m=d,h,v){const x=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<x.length;b++){const y=x[b],p=Object.getOwnPropertyDescriptor(d,y);(p==null||p.writable)&&(d[y]=l(f[y],y,m,h,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(rx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(vR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jb,r=vR;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(pR);var xR={},wR={},_R={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx,r=zm,n=nx;function a(i,o){return t.cloneDeepWith(i,(l,c,u,d)=>{const f=o==null?void 0:o(l,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const m={};return d.set(i,m),t.copyProperties(m,i,u,d),m}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=a})(_R);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_R;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(wR);var jR={},ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ax);var SR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zm;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(SR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yb,r=ax,n=SR,a=Pm;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(jR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jb,r=Dm,n=wR,a=Nm,i=jR;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(xR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zb,r=mR,n=pR,a=xR;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(hR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lR,r=cR,n=Zb,a=uR,i=hR;function o(l,c=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(sR);var bU=sR.uniqBy;const uj=ka(bU);function xU(e,t,r){return t===!0?uj(e,r):typeof t=="function"?uj(e,t):e}var CR={exports:{}},ER={},OR={exports:{}},AR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=g;function wU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _U=typeof Object.is=="function"?Object.is:wU,jU=Is.useState,SU=Is.useEffect,CU=Is.useLayoutEffect,EU=Is.useDebugValue;function OU(e,t){var r=t(),n=jU({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return CU(function(){a.value=r,a.getSnapshot=t,Dg(a)&&i({inst:a})},[e,r,t]),SU(function(){return Dg(a)&&i({inst:a}),e(function(){Dg(a)&&i({inst:a})})},[e]),EU(r),r}function Dg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_U(e,r)}catch{return!0}}function AU(e,t){return t()}var kU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AU:OU;AR.useSyncExternalStore=Is.useSyncExternalStore!==void 0?Is.useSyncExternalStore:kU;OR.exports=AR;var TU=OR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=g,RU=TU;function NU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DU=typeof Object.is=="function"?Object.is:NU,PU=RU.useSyncExternalStore,MU=Bm.useRef,zU=Bm.useEffect,BU=Bm.useMemo,IU=Bm.useDebugValue;ER.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=MU(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=BU(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var v=o.value;if(a(v,h))return f=v}return f=h}if(v=f,DU(d,h))return v;var x=n(h);return a!==void 0&&a(v,x)?(d=h,v):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=PU(e,i[0],i[1]);return zU(function(){o.hasValue=!0,o.value=l},[l]),IU(l),l};CR.exports=ER;var LU=CR.exports,ix=g.createContext(null),$U=e=>e,at=()=>{var e=g.useContext(ix);return e?e.store.dispatch:$U},af=()=>{},UU=()=>af,qU=(e,t)=>e===t;function ne(e){var t=g.useContext(ix);return LU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:UU,t?t.store.getState:af,t?t.store.getState:af,t?e:af,qU)}function WU(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function HU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function FU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var dj=e=>Array.isArray(e)?e:[e];function VU(e){const t=Array.isArray(e[0])?e[0]:e;return FU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function KU(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var GU=class{constructor(e){this.value=e}deref(){return this.value}},YU=typeof WeakRef<"u"?WeakRef:GU,XU=0,fj=1;function Cd(){return{s:XU,v:void 0,o:null,p:null}}function kR(e,t={}){let r=Cd();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const b=x.get(v);b===void 0?(l=Cd(),x.set(v,l)):l=b}else{let x=l.p;x===null&&(l.p=x=new Map);const b=x.get(v);b===void 0?(l=Cd(),x.set(v,l)):l=b}}const u=l;let d;if(l.s===fj)d=l.v;else if(d=e.apply(null,arguments),i++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,d)&&(d=m,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new YU(d):d}return u.s=fj,u.v=d,d}return o.clearCache=()=>{r=Cd(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function ZU(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),WU(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=kR,argsMemoizeOptions:v=[]}=d,x=dj(m),b=dj(v),y=VU(a),p=f(function(){return i++,u.apply(null,arguments)},...x),_=h(function(){o++;const j=KU(y,arguments);return l=p.apply(null,j),l},...b);return Object.assign(_,{resultFunc:u,memoizedResultFunc:p,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var $=ZU(kR),JU=Object.assign((e,t=$)=>{HU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>JU}),TR={},RR={},NR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(NR);var DR={},ox={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ox);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(DR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NR,r=DR,n=Pm;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,v)=>{let x=h;for(let b=0;b<v.length&&x!=null;++b)x=x[v[b]];return x},d=(h,v)=>v==null||h==null?v:typeof h=="object"&&"key"in h?Object.hasOwn(v,h.key)?v[h.key]:u(v,h.path):typeof h=="function"?h(v):Array.isArray(h)?u(v,h):typeof v=="object"?v[h]:v,f=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:f.map(v=>d(v,h))})).slice().sort((h,v)=>{for(let x=0;x<f.length;x++){const b=t.compareValues(h.criteria[x],v.criteria[x],l[x]);if(b!==0)return b}return 0}).map(h=>h.original)}e.orderBy=a})(RR);var PR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(PR);var sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax,r=Mm,n=Qb,a=tx;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.isEqualsSameValueZero(c[l],o):!1}e.isIterateeCall=i})(sx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RR,r=PR,n=sx;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(TR);var QU=TR.sortBy;const Im=ka(QU);var MR=e=>e.legend.settings,e7=e=>e.legend.size,t7=e=>e.legend.payload;$([t7,MR],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Im(n,r):n});var Ed=1;function r7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Ed||Math.abs(o.left-t.left)>Ed||Math.abs(o.top-t.top)>Ed||Math.abs(o.width-t.width)>Ed)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var n7=typeof Symbol=="function"&&Symbol.observable||"@@observable",hj=n7,Pg=()=>Math.random().toString(36).substring(7).split("").join("."),a7={INIT:`@@redux/INIT${Pg()}`,REPLACE:`@@redux/REPLACE${Pg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pg()}`},rh=a7;function lx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function zR(e,t,r){if(typeof e!="function")throw new Error(Pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pt(1));return r(zR)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((b,y)=>{o.set(y,b)}))}function d(){if(c)throw new Error(Pt(3));return a}function f(b){if(typeof b!="function")throw new Error(Pt(4));if(c)throw new Error(Pt(5));let y=!0;u();const p=l++;return o.set(p,b),function(){if(y){if(c)throw new Error(Pt(6));y=!1,u(),o.delete(p),i=null}}}function m(b){if(!lx(b))throw new Error(Pt(7));if(typeof b.type>"u")throw new Error(Pt(8));if(typeof b.type!="string")throw new Error(Pt(17));if(c)throw new Error(Pt(9));try{c=!0,a=n(a,b)}finally{c=!1}return(i=o).forEach(p=>{p()}),b}function h(b){if(typeof b!="function")throw new Error(Pt(10));n=b,m({type:rh.REPLACE})}function v(){const b=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Pt(11));function p(){const w=y;w.next&&w.next(d())}return p(),{unsubscribe:b(p)}},[hj](){return this}}}return m({type:rh.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[hj]:v}}function i7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:rh.INIT})>"u")throw new Error(Pt(12));if(typeof r(void 0,{type:rh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function BR(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{i7(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=o[f],v=m(h,l);if(typeof v>"u")throw l&&l.type,new Error(Pt(14));u[f]=v,c=c||v!==h}return c=c||n.length!==Object.keys(o).length,c?u:o}}function nh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function o7(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Pt(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=nh(...l)(a.dispatch),{...a,dispatch:i}}}function IR(e){return lx(e)&&"type"in e&&typeof e.type=="string"}var LR=Symbol.for("immer-nothing"),mj=Symbol.for("immer-draftable"),er=Symbol.for("immer-state");function hn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Or=Object,Ls=Or.getPrototypeOf,ah="constructor",Lm="prototype",Sy="configurable",ih="enumerable",of="writable",Uc="value",ja=e=>!!e&&!!e[er];function _n(e){var t;return e?$R(e)||Um(e)||!!e[mj]||!!((t=e[ah])!=null&&t[mj])||qm(e)||Wm(e):!1}var s7=Or[Lm][ah].toString(),pj=new WeakMap;function $R(e){if(!e||!cx(e))return!1;const t=Ls(e);if(t===null||t===Or[Lm])return!0;const r=Or.hasOwnProperty.call(t,ah)&&t[ah];if(r===Object)return!0;if(!Jo(r))return!1;let n=pj.get(r);return n===void 0&&(n=Function.toString.call(r),pj.set(r,n)),n===s7}function $m(e,t,r=!0){Ou(e)===0?(r?Reflect.ownKeys(e):Or.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Ou(e){const t=e[er];return t?t.type_:Um(e)?1:qm(e)?2:Wm(e)?3:0}var gj=(e,t,r=Ou(e))=>r===2?e.has(t):Or[Lm].hasOwnProperty.call(e,t),Cy=(e,t,r=Ou(e))=>r===2?e.get(t):e[t],oh=(e,t,r,n=Ou(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function l7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Um=Array.isArray,qm=e=>e instanceof Map,Wm=e=>e instanceof Set,cx=e=>typeof e=="object",Jo=e=>typeof e=="function",Mg=e=>typeof e=="boolean";function c7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ea=e=>e.copy_||e.base_,ux=e=>e.modified_?e.copy_:e.base_;function Ey(e,t){if(qm(e))return new Map(e);if(Wm(e))return new Set(e);if(Um(e))return Array[Lm].slice.call(e);const r=$R(e);if(t===!0||t==="class_only"&&!r){const n=Or.getOwnPropertyDescriptors(e);delete n[er];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[of]===!1&&(l[of]=!0,l[Sy]=!0),(l.get||l.set)&&(n[o]={[Sy]:!0,[of]:!0,[ih]:l[ih],[Uc]:e[o]})}return Or.create(Ls(e),n)}else{const n=Ls(e);if(n!==null&&r)return{...e};const a=Or.create(n);return Or.assign(a,e)}}function dx(e,t=!1){return Hm(e)||ja(e)||!_n(e)||(Ou(e)>1&&Or.defineProperties(e,{set:Od,add:Od,clear:Od,delete:Od}),Or.freeze(e),t&&$m(e,(r,n)=>{dx(n,!0)},!1)),e}function u7(){hn(2)}var Od={[Uc]:u7};function Hm(e){return e===null||!cx(e)?!0:Or.isFrozen(e)}var sh="MapSet",Oy="Patches",vj="ArrayMethods",UR={};function go(e){const t=UR[e];return t||hn(0,e),t}var yj=e=>!!UR[e],qc,qR=()=>qc,d7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yj(sh)?go(sh):void 0,arrayMethodsPlugin_:yj(vj)?go(vj):void 0});function bj(e,t){t&&(e.patchPlugin_=go(Oy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ay(e){ky(e),e.drafts_.forEach(f7),e.drafts_=null}function ky(e){e===qc&&(qc=e.parent_)}var xj=e=>qc=d7(qc,e);function f7(e){const t=e[er];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[er].modified_&&(Ay(t),hn(4)),_n(e)&&(e=_j(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[er].base_,e,t)}else e=_j(t,r);return h7(t,e,!0),Ay(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LR?e:void 0}function _j(e,t){if(Hm(t))return t;const r=t[er];if(!r)return lh(t,e.handledSet_,e);if(!Fm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);FR(r,e)}return r.copy_}function h7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dx(t,r)}function WR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Fm=(e,t)=>e.scope_===t,m7=[];function HR(e,t,r,n){const a=ea(e),i=e.type_;if(n!==void 0&&Cy(a,n,i)===t){oh(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;$m(a,(c,u)=>{if(ja(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??m7;for(const l of o)oh(a,l,r,i)}function p7(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!Fm(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=ux(i);HR(e,i.draft_??i,o,r),FR(i,a)})}function FR(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}WR(e)}}function g7(e,t,r){const{scope_:n}=e;if(ja(r)){const a=r[er];Fm(a,n)&&a.callbacks_.push(function(){sf(e);const o=ux(a);HR(e,r,o,t)})}else _n(r)&&e.callbacks_.push(function(){const i=ea(e);e.type_===3?i.has(r)&&lh(r,n.handledSet_,n):Cy(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&lh(Cy(e.copy_,t,e.type_),n.handledSet_,n)})}function lh(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ja(e)||t.has(e)||!_n(e)||Hm(e)||(t.add(e),$m(e,(n,a)=>{if(ja(a)){const i=a[er];if(Fm(i,r)){const o=ux(i);oh(e,n,o,e.type_),WR(i)}}else _n(a)&&lh(a,t,r)})),e}function v7(e,t){const r=Um(e),n={type_:r?1:0,scope_:t?t.scope_:qR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=ch;r&&(a=[n],i=Wc);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var ch={get(e,t){if(t===er)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=ea(e);if(!gj(a,t,e.type_))return y7(e,a,t);const i=a[t];if(e.finalized_||!_n(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&c7(t))return i;if(i===zg(e.base_,t)){sf(e);const o=e.type_===1?+t:t,l=Ry(e.scope_,i,e,o);return e.copy_[o]=l}return i},has(e,t){return t in ea(e)},ownKeys(e){return Reflect.ownKeys(ea(e))},set(e,t,r){const n=VR(ea(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=zg(ea(e),t),i=a==null?void 0:a[er];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(l7(r,a)&&(r!==void 0||gj(e.base_,t,e.type_)))return!0;sf(e),Ty(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),g7(e,t,r)),!0},deleteProperty(e,t){return sf(e),zg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ty(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ea(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[of]:!0,[Sy]:e.type_!==1||t!=="length",[ih]:n[ih],[Uc]:r[t]}},defineProperty(){hn(11)},getPrototypeOf(e){return Ls(e.base_)},setPrototypeOf(){hn(12)}},Wc={};for(let e in ch){let t=ch[e];Wc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Wc.deleteProperty=function(e,t){return Wc.set.call(this,e,t,void 0)};Wc.set=function(e,t,r){return ch.set.call(this,e[0],t,r,e[0])};function zg(e,t){const r=e[er];return(r?ea(r):e)[t]}function y7(e,t,r){var a;const n=VR(t,r);return n?Uc in n?n[Uc]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function VR(e,t){if(!(t in e))return;let r=Ls(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ls(r)}}function Ty(e){e.modified_||(e.modified_=!0,e.parent_&&Ty(e.parent_))}function sf(e){e.copy_||(e.assigned_=new Map,e.copy_=Ey(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var b7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Jo(r)&&!Jo(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}Jo(n)||hn(6),a!==void 0&&!Jo(a)&&hn(7);let i;if(_n(r)){const o=xj(this),l=Ry(o,r,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Ay(o):ky(o)}return bj(o,a),wj(i,o)}else if(!r||!cx(r)){if(i=n(r),i===void 0&&(i=r),i===LR&&(i=void 0),this.autoFreeze_&&dx(i,!0),a){const o=[],l=[];go(Oy).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else hn(1,r)},this.produceWithPatches=(r,n)=>{if(Jo(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,i;return[this.produce(r,n,(l,c)=>{a=l,i=c}),a,i]},Mg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Mg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Mg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){_n(t)||hn(8),ja(t)&&(t=gn(t));const r=xj(this),n=Ry(r,t,void 0);return n[er].isManual_=!0,ky(r),n}finishDraft(t,r){const n=t&&t[er];(!n||!n.isManual_)&&hn(9);const{scope_:a}=n;return bj(a,r),wj(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=go(Oy).applyPatches_;return ja(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Ry(e,t,r,n){const[a,i]=qm(t)?go(sh).proxyMap_(t,r):Wm(t)?go(sh).proxySet_(t,r):v7(t,r);return((r==null?void 0:r.scope_)??qR()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?p7(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function gn(e){return ja(e)||hn(10,e),KR(e)}function KR(e){if(!_n(e)||Hm(e))return e;const t=e[er];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ey(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ey(e,!0);return $m(r,(a,i)=>{oh(r,a,KR(i))},n),t&&(t.finalized_=!1),r}var x7=new b7,GR=x7.produce;function YR(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var w7=YR(),_7=YR,j7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nh:nh.apply(null,arguments)};function tn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Nr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>IR(n)&&n.type===e,r}var XR=class Kl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kl.prototype)}static get[Symbol.species](){return Kl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kl(...t[0].concat(this)):new Kl(...t.concat(this))}};function jj(e){return _n(e)?GR(e,()=>{}):e}function Ad(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function S7(e){return typeof e=="boolean"}var C7=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new XR;return r&&(S7(r)?o.push(w7):o.push(_7(r.extraArgument))),o},ZR="RTK_autoBatch",Fe=()=>e=>({payload:e,meta:{[ZR]:!0}}),Sj=e=>t=>{setTimeout(t,e)},JR=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Sj(10):e.type==="callback"?e.queueNotification:Sj(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[ZR]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},E7=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new XR(e);return n&&a.push(JR(typeof n=="object"?n:void 0)),a};function O7(e){const t=C7(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(lx(r))l=BR(r);else throw new Error(Nr(1));let c;typeof n=="function"?c=n(t):c=t();let u=nh;a&&(u=j7({trace:!1,...typeof a=="object"&&a}));const d=o7(...c),f=E7(d);let m=typeof o=="function"?o(f):f();const h=u(...m);return zR(l,i,h)}function QR(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Nr(28));if(l in t)throw new Error(Nr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function A7(e){return typeof e=="function"}function k7(e,t){let[r,n,a]=QR(t),i;if(A7(e))i=()=>jj(e());else{const l=jj(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(ja(d)){const h=f(d,c);return h===void 0?d:h}else{if(_n(d))return GR(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return o.getInitialState=i,o}var T7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",R7=(e=21)=>{let t="",r=e;for(;r--;)t+=T7[Math.random()*64|0];return t},N7=Symbol.for("rtk-slice-createasyncthunk");function D7(e,t){return`${e}/${t}`}function P7({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[N7];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(Nr(11));const l=(typeof a.reducers=="function"?a.reducers(z7()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,j){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(Nr(12));if(C in u.sliceCaseReducersByType)throw new Error(Nr(13));return u.sliceCaseReducersByType[C]=j,d},addMatcher(w,j){return u.sliceMatchers.push({matcher:w,reducer:j}),d},exposeAction(w,j){return u.actionCreators[w]=j,d},exposeCaseReducer(w,j){return u.sliceCaseReducersByName[w]=j,d}};c.forEach(w=>{const j=l[w],C={reducerName:w,type:D7(i,w),createNotation:typeof a.reducers=="function"};I7(j)?$7(C,j,d,t):B7(C,j,d)});function f(){const[w={},j=[],C=void 0]=typeof a.extraReducers=="function"?QR(a.extraReducers):[a.extraReducers],S={...w,...u.sliceCaseReducersByType};return k7(a.initialState,E=>{for(let k in S)E.addCase(k,S[k]);for(let k of u.sliceMatchers)E.addMatcher(k.matcher,k.reducer);for(let k of j)E.addMatcher(k.matcher,k.reducer);C&&E.addDefaultCase(C)})}const m=w=>w,h=new Map,v=new WeakMap;let x;function b(w,j){return x||(x=f()),x(w,j)}function y(){return x||(x=f()),x.getInitialState()}function p(w,j=!1){function C(E){let k=E[w];return typeof k>"u"&&j&&(k=Ad(v,C,y)),k}function S(E=m){const k=Ad(h,j,()=>new WeakMap);return Ad(k,E,()=>{const O={};for(const[R,A]of Object.entries(a.selectors??{}))O[R]=M7(A,E,()=>Ad(v,E,y),j);return O})}return{reducerPath:w,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const _={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...p(o),injectInto(w,{reducerPath:j,...C}={}){const S=j??o;return w.inject({reducerPath:S,reducer:b},C),{..._,...p(S,!0)}}};return _}}function M7(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var mr=P7();function z7(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function B7({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!L7(n))throw new Error(Nr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?tn(e,o):tn(e))}function I7(e){return e._reducerDefinitionType==="asyncThunk"}function L7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $7({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Nr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||kd,pending:l||kd,rejected:c||kd,settled:u||kd})}function kd(){}var U7="task",e5="listener",t5="completed",fx="cancelled",q7=`task-${fx}`,W7=`task-${t5}`,Ny=`${e5}-${fx}`,H7=`${e5}-${t5}`,Vm=class{constructor(e){Np(this,"name","TaskAbortError");Np(this,"message");this.code=e,this.message=`${U7} ${fx} (reason: ${e})`}},hx=(e,t)=>{if(typeof e!="function")throw new TypeError(Nr(32))},uh=()=>{},r5=(e,t=uh)=>(e.catch(t),e),n5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),io=e=>{if(e.aborted)throw new Vm(e.reason)};function a5(e,t){let r=uh;return new Promise((n,a)=>{const i=()=>a(new Vm(e.reason));if(e.aborted){i();return}r=n5(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=uh})}var F7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Vm?"cancelled":"rejected",error:r}}finally{t==null||t()}},dh=e=>t=>r5(a5(e,t).then(r=>(io(e),r))),i5=e=>{const t=dh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:_s}=Object,Cj={},Km="listenerMiddleware",V7=(e,t)=>{const r=n=>n5(e,()=>n.abort(e.reason));return(n,a)=>{hx(n);const i=new AbortController;r(i);const o=F7(async()=>{io(e),io(i.signal);const l=await n({pause:dh(i.signal),delay:i5(i.signal),signal:i.signal});return io(i.signal),l},()=>i.abort(W7));return a!=null&&a.autoJoin&&t.push(o.catch(uh)),{result:dh(e)(o),cancel(){i.abort(q7)}}}},K7=(e,t)=>{const r=async(n,a)=>{io(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await a5(t,Promise.race(l));return io(t),c}finally{i()}};return(n,a)=>r5(r(n,a))},o5=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=tn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Nr(21));return hx(i),{predicate:a,type:t,effect:i}},s5=_s(e=>{const{type:t,predicate:r,effect:n}=o5(e);return{id:R7(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Nr(22))}}},{withTypes:()=>s5}),Ej=(e,t)=>{const{type:r,effect:n,predicate:a}=o5(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Dy=e=>{e.pending.forEach(t=>{t.abort(Ny)})},G7=(e,t)=>()=>{for(const r of t.keys())Dy(r);e.clear()},Oj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},l5=_s(tn(`${Km}/add`),{withTypes:()=>l5}),Y7=tn(`${Km}/removeAll`),c5=_s(tn(`${Km}/remove`),{withTypes:()=>c5}),X7=(...e)=>{console.error(`${Km}/error`,...e)},Au=(e={})=>{const t=new Map,r=new Map,n=h=>{const v=r.get(h)??0;r.set(h,v+1)},a=h=>{const v=r.get(h)??1;v===1?r.delete(h):r.set(h,v-1)},{extra:i,onError:o=X7}=e;hx(o);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),v=>{h.unsubscribe(),v!=null&&v.cancelActive&&Dy(h)}),c=h=>{const v=Ej(t,h)??s5(h);return l(v)};_s(c,{withTypes:()=>c});const u=h=>{const v=Ej(t,h);return v&&(v.unsubscribe(),h.cancelActive&&Dy(v)),!!v};_s(u,{withTypes:()=>u});const d=async(h,v,x,b)=>{const y=new AbortController,p=K7(c,y.signal),_=[];try{h.pending.add(y),n(h),await Promise.resolve(h.effect(v,_s({},x,{getOriginalState:b,condition:(w,j)=>p(w,j).then(Boolean),take:p,delay:i5(y.signal),pause:dh(y.signal),extra:i,signal:y.signal,fork:V7(y.signal,_),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((w,j,C)=>{w!==y&&(w.abort(Ny),C.delete(w))})},cancel:()=>{y.abort(Ny),h.pending.delete(y)},throwIfCancelled:()=>{io(y.signal)}})))}catch(w){w instanceof Vm||Oj(o,w,{raisedBy:"effect"})}finally{await Promise.all(_),y.abort(H7),a(h),h.pending.delete(y)}},f=G7(t,r);return{middleware:h=>v=>x=>{if(!IR(x))return v(x);if(l5.match(x))return c(x.payload);if(Y7.match(x)){f();return}if(c5.match(x))return u(x.payload);let b=h.getState();const y=()=>{if(b===Cj)throw new Error(Nr(23));return b};let p;try{if(p=v(x),t.size>0){const _=h.getState(),w=Array.from(t.values());for(const j of w){let C=!1;try{C=j.predicate(x,_,b)}catch(S){C=!1,Oj(o,S,{raisedBy:"predicate"})}C&&d(j,x,h,y)}}}finally{b=Cj}return p},startListening:c,stopListening:u,clearListeners:f}};function Nr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},u5=mr({name:"chartLayout",initialState:Z7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:J7,setLayout:Q7,setChartSize:eq,setScale:tq}=u5.actions,rq=u5.reducer;function d5(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ge(e){return Number.isFinite(e)}function Ln(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wt(e,t,r){return kt(e)||kt(t)?r:In(t)?Bs(e,t,r):typeof t=="function"?t(e):r}var oq=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ee(e[i]))return ds(ds({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ee(e[o]))return ds(ds({},e),{},{[o]:e[o]+(a||0)})}return e},ko=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",f5=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},h5=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:h}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(x=h==="angleAxis"&&i&&i.length>=2?lr(i[0]-i[1])*2*x:x,f||m){var b=(f||m||[]).map((y,p)=>{var _=n?n.indexOf(y):y;return{coordinate:o(_)+x,value:y,offset:x,index:p}});return b.filter(y=>!xn(y.coordinate))}return c&&u?u.map((y,p)=>({coordinate:o(y)+x,value:y,index:p,offset:x})):o.ticks&&d!=null?o.ticks(d).map((y,p)=>({coordinate:o(y)+x,value:y,offset:x,index:p})):o.domain().map((y,p)=>({coordinate:o(y)+x,value:n?n[y]:y,index:p,offset:x}))},kj=1e-4,sq=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-kj,i=Math.max(n[0],n[1])+kj,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},lq=(e,t)=>{if(!t||t.length!==2||!ee(t[0])||!ee(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(a[0]=r),(!ee(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},cq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var c=e[l],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],m=xn(d)?f:d;m>=0?(u[0]=i,u[1]=i+m,i=d):(u[0]=o,u[1]=o+m,o=d)}}}},uq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var l=e[o],c=l==null?void 0:l[a];if(c!=null){var u=xn(c[1])?c[0]:c[1];u>=0?(c[0]=i,c[1]=i+u,i=c[1]):(c[0]=0,c[1]=0)}}}},dq={sign:cq,expand:Y9,none:po,silhouette:X9,wiggle:Z9,positive:uq},fq=(e,t,r)=>{var n,a=(n=dq[r])!==null&&n!==void 0?n:po,i=G9().keys(t).value((l,c)=>Number(Wt(l,c,0))).order(_y).offset(a),o=i(e);return o.forEach((l,c)=>{l.forEach((u,d)=>{var f=Wt(e[d],t[c],0);Array.isArray(f)&&f.length===2&&ee(f[0])&&ee(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function hq(e){return e==null?void 0:String(e)}var Tj=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Wt(i,t.dataKey,t.scale.domain()[o]);return kt(l)?null:t.scale(l)-a/2+n},mq=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},pq=e=>{var t=e.flat(2).filter(ee);return[Math.min(...t),Math.max(...t)]},gq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],vq=(e,t,r)=>{if(e!=null)return gq(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,l=o.reduce((c,u)=>{var d=d5(u,t,r),f=pq(d);return!Ge(f[0])||!Ge(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Rj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Im(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function Dj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return ds(ds({},t),{},{dataKey:r,payload:n,value:a,name:i})}function m5(e,t){if(e)return String(e);if(typeof t=="string")return t}var yq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},bq=(e,t)=>t==="centric"?e.angle:e.radius,Ra=e=>e.layout.width,Na=e=>e.layout.height,xq=e=>e.layout.scale,p5=e=>e.layout.margin,Gm=$(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ym=$(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),wq="data-recharts-item-index",_q="data-recharts-item-id",ku=60;function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){jq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jq(e,t,r){return(t=Sq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eq=e=>e.brush.height;function Oq(e){var t=Ym(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ku;return r+a}return r},0)}function Aq(e){var t=Ym(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ku;return r+a}return r},0)}function kq(e){var t=Gm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Tq(e){var t=Gm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Tt=$([Ra,Na,p5,Eq,Oq,Aq,kq,Tq,MR,e7],(e,t,r,n,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=Td(Td({},f),d),h=m.bottom;m.bottom+=n,m=oq(m,c,u);var v=e-m.left-m.right,x=t-m.top-m.bottom;return Td(Td({brushBottom:h},m),{},{width:Math.max(v,0),height:Math.max(x,0)})}),Rq=$(Tt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mx=$(Ra,Na,(e,t)=>({x:0,y:0,width:e,height:t})),Nq=g.createContext(null),pr=()=>g.useContext(Nq)!=null,Xm=e=>e.brush,Zm=$([Xm,Tt,p5],(e,t,r)=>({height:e.height,x:ee(e.x)?e.x:t.left,y:ee(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ee(e.width)?e.width:t.width})),g5={},v5={},y5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),x()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},v=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{v(),o=void 0,l=null},b=()=>{d()},y=function(...p){if(a!=null&&a.aborted)return;o=this,l=p;const _=m==null;h(),c&&_&&d()};return y.schedule=h,y.cancel=x,y.flush=b,a==null||a.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(y5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y5;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),h=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,x),d)},v=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=v,h}e.debounce=r})(v5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v5;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(g5);var Dq=g5.throttle;const Pq=ka(Dq);var hh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},b5=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=_a(n)?e:Number(n),c=_a(a)?t:Number(a);return i&&i>0&&(l?c=l/i:c&&(l=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},Mq={width:0,height:0,overflow:"visible"},zq={width:0,overflowX:"visible"},Bq={height:0,overflowY:"visible"},Iq={},Lq=e=>{var{width:t,height:r}=e,n=_a(t),a=_a(r);return n&&a?Mq:n?zq:a?Bq:Iq};function $q(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return(t=qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x5=g.createContext({width:-1,height:-1});function Hq(e){return Ln(e.width)&&Ln(e.height)}function w5(e){var{children:t,width:r,height:n}=e,a=g.useMemo(()=>({width:r,height:n}),[r,n]);return Hq(a)?g.createElement(x5.Provider,{value:a},t):null}var px=()=>g.useContext(x5),Fq=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:m,onResize:h,style:v={}}=e,x=g.useRef(null),b=g.useRef();b.current=h,g.useImperativeHandle(t,()=>x.current);var[y,p]=g.useState({containerWidth:n.width,containerHeight:n.height}),_=g.useCallback((E,k)=>{p(O=>{var R=Math.round(E),A=Math.round(k);return O.containerWidth===R&&O.containerHeight===A?O:{containerWidth:R,containerHeight:A}})},[]);g.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Eu;var E=A=>{var z,{width:T,height:q}=A[0].contentRect;_(T,q),(z=b.current)===null||z===void 0||z.call(b,T,q)};d>0&&(E=Pq(E,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(E),{width:O,height:R}=x.current.getBoundingClientRect();return _(O,R),k.observe(x.current),()=>{k.disconnect()}},[_,d]);var{containerWidth:w,containerHeight:j}=y;hh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:S}=b5(w,j,{width:a,height:i,aspect:r,maxHeight:c});return hh(C!=null&&C>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,S,a,i,o,l,r),g.createElement("div",{id:f?"".concat(f):void 0,className:We("recharts-responsive-container",m),style:zj(zj({},v),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:x},g.createElement("div",{style:Lq({width:a,height:i})},g.createElement(w5,{width:C,height:S},u)))}),Vq=g.forwardRef((e,t)=>{var r=px();if(Ln(r.width)&&Ln(r.height))return e.children;var{width:n,height:a}=$q({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=b5(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ee(i)&&ee(o)?g.createElement(w5,{width:i,height:o},e.children):g.createElement(Fq,Py({},e,{width:n,height:a,ref:t}))});function _5(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Jm=()=>{var e,t=pr(),r=ne(Rq),n=ne(Zm),a=(e=ne(Xm))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Kq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},j5=()=>{var e;return(e=ne(Tt))!==null&&e!==void 0?e:Kq},S5=()=>ne(Ra),C5=()=>ne(Na),Oe=e=>e.layout.layoutType,Tu=()=>ne(Oe),Gq=()=>{var e=Tu();return e!==void 0},Qm=e=>{var t=at(),r=pr(),{width:n,height:a}=e,i=px(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),g.useEffect(()=>{!r&&Ln(o)&&Ln(l)&&t(eq({width:o,height:l}))},[t,r,o,l]),null},E5=Symbol.for("immer-nothing"),Bj=Symbol.for("immer-draftable"),Mr=Symbol.for("immer-state");function mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Hc=Object.getPrototypeOf;function $s(e){return!!e&&!!e[Mr]}function vo(e){var t;return e?O5(e)||Array.isArray(e)||!!e[Bj]||!!((t=e.constructor)!=null&&t[Bj])||Ru(e)||tp(e):!1}var Yq=Object.prototype.constructor.toString(),Ij=new WeakMap;function O5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Ij.get(r);return n===void 0&&(n=Function.toString.call(r),Ij.set(r,n)),n===Yq}function mh(e,t,r=!0){ep(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ep(e){const t=e[Mr];return t?t.type_:Array.isArray(e)?1:Ru(e)?2:tp(e)?3:0}function My(e,t){return ep(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function A5(e,t,r){const n=ep(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Xq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ru(e){return e instanceof Map}function tp(e){return e instanceof Set}function Hi(e){return e.copy_||e.base_}function zy(e,t){if(Ru(e))return new Map(e);if(tp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=O5(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Mr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Hc(e),n)}else{const n=Hc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function gx(e,t=!1){return rp(e)||$s(e)||!vo(e)||(ep(e)>1&&Object.defineProperties(e,{set:Rd,add:Rd,clear:Rd,delete:Rd}),Object.freeze(e),t&&Object.values(e).forEach(r=>gx(r,!0))),e}function Zq(){mn(2)}var Rd={value:Zq};function rp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Jq={};function yo(e){const t=Jq[e];return t||mn(0,e),t}var Fc;function k5(){return Fc}function Qq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Lj(e,t){t&&(yo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function By(e){Iy(e),e.drafts_.forEach(eW),e.drafts_=null}function Iy(e){e===Fc&&(Fc=e.parent_)}function $j(e){return Fc=Qq(Fc,e)}function eW(e){const t=e[Mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Uj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Mr].modified_&&(By(t),mn(4)),vo(e)&&(e=ph(t,e),t.parent_||gh(t,e)),t.patches_&&yo("Patches").generateReplacementPatches_(r[Mr].base_,e,t.patches_,t.inversePatches_)):e=ph(t,r,[]),By(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==E5?e:void 0}function ph(e,t,r){if(rp(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Mr];if(!a)return mh(t,(i,o)=>qj(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return gh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),mh(o,(c,u)=>qj(e,a,i,c,u,r,l),n),gh(e,i,!1),r&&e.patches_&&yo("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function qj(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=rp(a);if(!(l&&!o)){if($s(a)){const c=i&&t&&t.type_!==3&&!My(t.assigned_,n)?i.concat(n):void 0,u=ph(e,a,c);if(A5(r,n,u),$s(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(vo(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;ph(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ru(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&gh(e,a)}}}function gh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gx(t,r)}function tW(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:k5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=vx;r&&(a=[n],i=Vc);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var vx={get(e,t){if(t===Mr)return e;const r=Hi(e);if(!My(r,t))return rW(e,r,t);const n=r[t];return e.finalized_||!vo(n)?n:n===Bg(e.base_,t)?(Ig(e),e.copy_[t]=$y(n,e)):n},has(e,t){return t in Hi(e)},ownKeys(e){return Reflect.ownKeys(Hi(e))},set(e,t,r){const n=T5(Hi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Bg(Hi(e),t),i=a==null?void 0:a[Mr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Xq(r,a)&&(r!==void 0||My(e.base_,t)))return!0;Ig(e),Ly(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Bg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ig(e),Ly(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Hi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){mn(11)},getPrototypeOf(e){return Hc(e.base_)},setPrototypeOf(){mn(12)}},Vc={};mh(vx,(e,t)=>{Vc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vc.deleteProperty=function(e,t){return Vc.set.call(this,e,t,void 0)};Vc.set=function(e,t,r){return vx.set.call(this,e[0],t,r,e[0])};function Bg(e,t){const r=e[Mr];return(r?Hi(r):e)[t]}function rW(e,t,r){var a;const n=T5(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function T5(e,t){if(!(t in e))return;let r=Hc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Hc(r)}}function Ly(e){e.modified_||(e.modified_=!0,e.parent_&&Ly(e.parent_))}function Ig(e){e.copy_||(e.copy_=zy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&mn(6),n!==void 0&&typeof n!="function"&&mn(7);let a;if(vo(t)){const i=$j(this),o=$y(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?By(i):Iy(i)}return Lj(i,n),Uj(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===E5&&(a=void 0),this.autoFreeze_&&gx(a,!0),n){const i=[],o=[];yo("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else mn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vo(e)||mn(8),$s(e)&&(e=aW(e));const t=$j(this),r=$y(e,void 0);return r[Mr].isManual_=!0,Iy(t),r}finishDraft(e,t){const r=e&&e[Mr];(!r||!r.isManual_)&&mn(9);const{scope_:n}=r;return Lj(n,t),Uj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=yo("Patches").applyPatches_;return $s(e)?n(e,t):this.produce(e,a=>n(a,t))}};function $y(e,t){const r=Ru(e)?yo("MapSet").proxyMap_(e,t):tp(e)?yo("MapSet").proxySet_(e,t):tW(e,t);return(t?t.scope_:k5()).drafts_.push(r),r}function aW(e){return $s(e)||mn(10,e),R5(e)}function R5(e){if(!vo(e)||rp(e))return e;const t=e[Mr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=zy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=zy(e,!0);return mh(r,(a,i)=>{A5(r,a,R5(i))},n),t&&(t.finalized_=!1),r}var iW=new nW;iW.produce;var oW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},N5=mr({name:"legend",initialState:oW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Fe()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=gn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Fe()},removeLegendPayload:{reducer(e,t){var r=gn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Fe()}}}),{setLegendSize:$re,setLegendSettings:Ure,addLegendPayload:sW,replaceLegendPayload:lW,removeLegendPayload:cW}=N5.actions,uW=N5.reducer;function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){dW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dW(e,t,r){return(t=fW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fW(e){var t=hW(e,"string");return typeof t=="symbol"?t:t+""}function hW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mW(e){return Array.isArray(e)&&In(e[0])&&In(e[1])?e.join(" ~ "):e}var pW=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=!1}=e,h=()=>{if(i&&i.length){var j={padding:0,margin:0},C=(l?Im(i,l):i).map((S,E)=>{if(S.type==="none")return null;var k=S.formatter||o||mW,{value:O,name:R}=S,A=O,z=R;if(k){var T=k(O,R,S,E,i);if(Array.isArray(T))[A,z]=T;else if(T!=null)A=T;else return null}var q=Lg({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:q},In(z)?g.createElement("span",{className:"recharts-tooltip-item-name"},z):null,In(z)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},A),g.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},C)}return null},v=Lg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Lg({margin:0},a),b=!kt(d),y=b?d:"",p=We("recharts-default-tooltip",c),_=We("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(y=f(d,i));var w=m?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Uy({className:p,style:v},w),g.createElement("p",{className:_,style:x},g.isValidElement(y)?y:"".concat(y)),h())},Dl="recharts-tooltip-wrapper",gW={visibility:"hidden"};function vW(e){var{coordinate:t,translateX:r,translateY:n}=e;return We(Dl,{["".concat(Dl,"-right")]:ee(r)&&t&&ee(t.x)&&r>=t.x,["".concat(Dl,"-left")]:ee(r)&&t&&ee(t.x)&&r<t.x,["".concat(Dl,"-bottom")]:ee(n)&&t&&ee(t.y)&&n>=t.y,["".concat(Dl,"-top")]:ee(n)&&t&&ee(t.y)&&n<t.y})}function Hj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&ee(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var m=c[n];if(m==null)return 0;if(o[n]){var h=d,v=m;return h<v?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var x=f+l,b=m+u;return x>b?Math.max(d,m):Math.max(f,m)}function yW(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bW(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=Hj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Hj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=yW({translateX:d,translateY:f,useTranslate3d:l})):u=gW,{cssProperties:u,cssClasses:vW({translateX:d,translateY:f,coordinate:r})}}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){qy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qy(e,t,r){return(t=xW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _W extends g.PureComponent{constructor(){super(...arguments),qy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:v,lastBoundingBox:x,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:p,cssProperties:_}=bW({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:h}),w=y?{}:Nd(Nd({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=Nd(Nd({},w),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:p,style:j,ref:b},i)}}var D5=()=>{var e;return(e=ne(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){jW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jW(e,t,r){return(t=SW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gj={curveBasisClosed:B9,curveBasisOpen:I9,curveBasis:z9,curveBumpX:_9,curveBumpY:j9,curveLinearClosed:L9,curveLinear:Tm,curveMonotoneX:$9,curveMonotoneY:U9,curveNatural:q9,curveStep:W9,curveStepAfter:F9,curveStepBefore:H9},vh=e=>Ge(e.x)&&Ge(e.y),Yj=e=>e.base!=null&&vh(e.base)&&vh(e),Pl=e=>e.x,Ml=e=>e.y,EW=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Cu(e));return(r==="curveMonotone"||r==="curveBump")&&t?Gj["".concat(r).concat(t==="vertical"?"Y":"X")]:Gj[r]||Tm},OW=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=EW(t,a),l=i?r.filter(vh):r,c;if(Array.isArray(n)){var u=r.map((h,v)=>Kj(Kj({},h),{},{base:n[v]}));a==="vertical"?c=Sd().y(Ml).x1(Pl).x0(h=>h.base.x):c=Sd().x(Pl).y1(Ml).y0(h=>h.base.y);var d=c.defined(Yj).curve(o),f=i?u.filter(Yj):u;return d(f)}a==="vertical"&&ee(n)?c=Sd().y(Ml).x1(Pl).x0(n):ee(n)?c=Sd().x(Pl).y1(Ml).y0(n):c=HT().x(Pl).y(Ml);var m=c.defined(vh).curve(o);return m(l)},P5=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=Tu();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?OW(o):n;return g.createElement("path",Wy({},xa(e),hU(e),{className:We("recharts-curve",t),d:l===null?void 0:l,ref:a}))},AW=["x","y","top","left","width","height","className"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){TW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TW(e,t,r){return(t=RW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DW(e,t){if(e==null)return{};var r,n,a=PW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MW=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),zW=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=DW(e,AW),u=kW({x:t,y:r,top:n,left:a,width:i,height:o},c);return!ee(t)||!ee(r)||!ee(i)||!ee(o)||!ee(n)||!ee(a)?null:g.createElement("path",Hy({},en(u),{className:We("recharts-cross",l),d:MW(t,r,i,o,n,a)}))};function BW(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){IW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IW(e,t,r){return(t=LW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),M5=(e,t,r)=>e.map(n=>"".concat(UW(n)," ").concat(t,"ms ").concat(r)).join(","),qW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Kc=(e,t)=>Object.keys(t).reduce((r,n)=>Jj(Jj({},r),{},{[n]:e(n,t[n])}),{});function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){WW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WW(e,t,r){return(t=HW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HW(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yh=(e,t,r)=>e+(t-e)*r,Fy=e=>{var{from:t,to:r}=e;return t!==r},z5=(e,t,r)=>{var n=Kc((a,i)=>{if(Fy(i)){var[o,l]=e(i.from,i.to,i.velocity);return mt(mt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Kc((a,i)=>Fy(i)&&n[a]!=null?mt(mt({},i),{},{velocity:yh(i.velocity,n[a].velocity,r),from:yh(i.from,n[a].from,r)}):i,t):z5(e,n,r-1)};function VW(e,t,r,n,a,i){var o,l=n.reduce((m,h)=>mt(mt({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>Kc((m,h)=>h.from,l),u=()=>!Object.values(l).filter(Fy).length,d=null,f=m=>{o||(o=m);var h=m-o,v=h/r.dt;l=z5(r,l,v),a(mt(mt(mt({},e),t),c())),o=m,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function KW(e,t,r,n,a,i,o){var l=null,c=a.reduce((f,m)=>{var h=e[m],v=t[m];return h==null||v==null?f:mt(mt({},f),{},{[m]:[h,v]})},{}),u,d=f=>{u||(u=f);var m=(f-u)/n,h=Kc((x,b)=>yh(...b,r(m)),c);if(i(mt(mt(mt({},e),t),h)),m<1)l=o.setTimeout(d);else{var v=Kc((x,b)=>yh(...b,r(1)),c);i(mt(mt(mt({},e),t),v))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const GW=(e,t,r,n,a,i)=>{var o=qW(e,t);return r==null?()=>(a(mt(mt({},e),t)),()=>{}):r.isStepper===!0?VW(e,t,r,o,a,i):KW(e,t,r,n,o,a,i)};var bh=1e-4,B5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],I5=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),eS=(e,t)=>r=>{var n=B5(e,t);return I5(n,r)},YW=(e,t)=>r=>{var n=B5(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return I5(a,r)},XW=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},ZW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=XW(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},JW=(e,t,r,n)=>{var a=eS(e,r),i=eS(t,n),o=YW(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,m=0;m<8;++m){var h=a(f)-d,v=o(f);if(Math.abs(h-d)<bh||v<bh)return i(f);f=l(f-h/v)}return i(f)};return c.isStepper=!1,c},tS=function(){return JW(...ZW(...arguments))},QW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,m=c*a/1e3+o;return Math.abs(m-l)<bh&&Math.abs(f)<bh?[l,0]:[m,f]};return i.isStepper=!0,i.dt=a,i},eH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tS(e);case"spring":return QW();default:if(e.split("(")[0]==="cubic-bezier")return tS(e)}return typeof e=="function"?e:null};function tH(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class rH{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function nH(){return tH(new rH)}var aH=g.createContext(nH);function iH(e,t){var r=g.useContext(aH);return g.useMemo(()=>t??r(e),[e,t,r])}var oH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),np={isSsr:oH()},sH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},rS={t:0},$g={t:1};function yx(e){var t=zr(e,sH),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!np.isSsr:r,f=iH(t.animationId,t.animationManager),[m,h]=g.useState(d?rS:$g),v=g.useRef(null);return g.useEffect(()=>{d||h($g)},[d]),g.useEffect(()=>{if(!d||!n)return Eu;var x=GW(rS,$g,eH(i),a,h,f.getTimeoutController()),b=()=>{v.current=x()};return f.start([c,o,b,a,l]),()=>{f.stop(),v.current&&v.current(),l()}},[d,n,a,i,o,c,l,f]),u(m.t)}function bx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef($c(t)),n=g.useRef(e);return n.current!==e&&(r.current=$c(t),n.current=e),r.current}var lH=["radius"],cH=["radius"],nS,aS,iS,oS,sS,lS,cS,uS,dS,fS;function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(null,arguments)}function pS(e,t){if(e==null)return{};var r,n,a=hH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var gS=(e,t,r,n,a)=>{var i=ci(r),o=ci(n),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(l>0&&a instanceof Array){for(var m=[0,0,0,0],h=0,v=4;h<v;h++)m[h]=a[h]>l?l:a[h];f=Qe(nS||(nS=kn(["M",",",""])),e,t+c*m[0]),m[0]>0&&(f+=Qe(aS||(aS=kn(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),f+=Qe(iS||(iS=kn(["L ",",",""])),e+r-u*m[1],t),m[1]>0&&(f+=Qe(oS||(oS=kn(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+r,t+c*m[1])),f+=Qe(sS||(sS=kn(["L ",",",""])),e+r,t+n-c*m[2]),m[2]>0&&(f+=Qe(lS||(lS=kn(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+r-u*m[2],t+n)),f+=Qe(cS||(cS=kn(["L ",",",""])),e+u*m[3],t+n),m[3]>0&&(f+=Qe(uS||(uS=kn(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+n-c*m[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var x=Math.min(l,a);f=Qe(dS||(dS=kn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*x,x,x,d,e+u*x,t,e+r-u*x,t,x,x,d,e+r,t+c*x,e+r,t+n-c*x,x,x,d,e+r-u*x,t+n,e+u*x,t+n,x,x,d,e,t+n-c*x)}else f=Qe(fS||(fS=kn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},vS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L5=e=>{var t=zr(e,vS),r=g.useRef(null),[n,a]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var B=r.current.getTotalLength();B&&a(B)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:v,isUpdateAnimationActive:x}=t,b=g.useRef(l),y=g.useRef(c),p=g.useRef(i),_=g.useRef(o),w=g.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),j=bx(w,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var C=We("recharts-rectangle",d);if(!x){var S=en(t),{radius:E}=S,k=pS(S,lH);return g.createElement("path",xh({},k,{x:ci(i),y:ci(o),width:ci(l),height:ci(c),radius:typeof u=="number"?u:void 0,className:C,d:gS(i,o,l,c,u)}))}var O=b.current,R=y.current,A=p.current,z=_.current,T="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),P=M5(["strokeDasharray"],m,typeof f=="string"?f:vS.animationEasing);return g.createElement(yx,{animationId:j,key:j,canBegin:n>0,duration:m,easing:f,isActive:x,begin:h},B=>{var D=Bt(O,l,B),N=Bt(R,c,B),L=Bt(A,i,B),Y=Bt(z,o,B);r.current&&(b.current=D,y.current=N,p.current=L,_.current=Y);var G;v?B>0?G={transition:P,strokeDasharray:q}:G={strokeDasharray:T}:G={strokeDasharray:q};var ie=en(t),{radius:J}=ie,he=pS(ie,cH);return g.createElement("path",xh({},he,{radius:typeof u=="number"?u:void 0,className:C,d:gS(L,Y,D,N,u),ref:r,style:mS(mS({},G),t.style)}))})};function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){mH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mH(e,t,r){return(t=pH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wh=Math.PI/180,vH=e=>e*180/Math.PI,Ut=(e,t,r,n)=>({x:e+Math.cos(-wh*n)*r,y:t+Math.sin(-wh*n)*r}),yH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bH=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},xH=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=bH({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:vH(c),angleInRadian:c}},wH=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},_H=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},jH=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=xH({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=wH(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?bS(bS({},t),{},{radius:a,angle:_H(d,t)}):null};function $5(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Ut(t,r,n,a),l=Ut(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var xS,wS,_S,jS,SS,CS,ES;function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(null,arguments)}function Yi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var SH=(e,t)=>{var r=lr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Dd=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/wh,f=c?a:a+i*d,m=Ut(t,r,u,f),h=Ut(t,r,n,f),v=c?a-i*d:a,x=Ut(t,r,u*Math.cos(d*wh),v);return{center:m,circleTangency:h,lineTangency:x,theta:d}},U5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=SH(i,o),c=i+l,u=Ut(t,r,a,i),d=Ut(t,r,a,c),f=Qe(xS||(xS=Yi(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(i>c),d.x,d.y);if(n>0){var m=Ut(t,r,n,i),h=Ut(t,r,n,c);f+=Qe(wS||(wS=Yi(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),h.x,h.y,n,n,+(Math.abs(l)>180),+(i<=c),m.x,m.y)}else f+=Qe(_S||(_S=Yi(["L ",","," Z"])),t,r);return f},CH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=lr(u-c),{circleTangency:f,lineTangency:m,theta:h}=Dd({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:v,lineTangency:x,theta:b}=Dd({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-h-b;if(y<0)return o?Qe(jS||(jS=Yi(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,i,i,i*2,i,i,-i*2):U5({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var p=Qe(SS||(SS=Yi(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,i,i,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),v.x,v.y,i,i,+(d<0),x.x,x.y);if(n>0){var{circleTangency:_,lineTangency:w,theta:j}=Dd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:C,lineTangency:S,theta:E}=Dd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),k=l?Math.abs(c-u):Math.abs(c-u)-j-E;if(k<0&&i===0)return"".concat(p,"L").concat(t,",").concat(r,"Z");p+=Qe(CS||(CS=Yi(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,i,i,+(d<0),C.x,C.y,n,n,+(k>180),+(d>0),_.x,_.y,i,i,+(d<0),w.x,w.y)}else p+=Qe(ES||(ES=Yi(["L",",","Z"])),t,r);return p},EH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q5=e=>{var t=zr(e,EH),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var m=We("recharts-sector",f),h=i-a,v=wn(o,h,0,!0),x;return v>0&&Math.abs(u-d)<360?x=CH({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=U5({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",Vy({},en(t),{className:m,d:x}))};function OH(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(oR(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,c=Ut(n,a,i,l),u=Ut(n,a,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return $5(t)}}var W5={},H5={},F5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(F5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F5;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(H5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sx,r=H5;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(W5);var AH=W5.range;const V5=ka(AH);function bi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xx(e){let t,r,n;e.length!==2?(t=bi,r=(l,c)=>bi(e(l),c),n=(l,c)=>e(l)-c):(t=e===bi||e===kH?e:TH,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function TH(){return 0}function K5(e){return e===null?NaN:+e}function*RH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const NH=xx(bi),Nu=NH.right;xx(K5).center;class OS extends Map{constructor(t,r=MH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(AS(this,t))}has(t){return super.has(AS(this,t))}set(t,r){return super.set(DH(this,t),r)}delete(t){return super.delete(PH(this,t))}}function AS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function DH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function PH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function MH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zH(e=bi){if(e===bi)return G5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function G5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BH=Math.sqrt(50),IH=Math.sqrt(10),LH=Math.sqrt(2);function _h(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=BH?10:i>=IH?5:i>=LH?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?_h(e,t,r*2):[l,c,u]}function Ky(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?_h(t,e,r):_h(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Gy(e,t,r){return t=+t,e=+e,r=+r,_h(e,t,r)[2]}function Yy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Gy(t,e,r):Gy(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function kS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function TS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Y5(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?G5:zH(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),v=Math.min(n,Math.floor(t+(c-u)*f/c+m));Y5(e,t,h,v,a)}const i=e[t];let o=r,l=n;for(zl(e,r,t),a(e[n],i)>0&&zl(e,r,n);o<l;){for(zl(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?zl(e,r,l):(++l,zl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function zl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $H(e,t,r){if(e=Float64Array.from(RH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return TS(e);if(t>=1)return kS(e);var n,a=(n-1)*t,i=Math.floor(a),o=kS(Y5(e,i).subarray(0,i+1)),l=TS(e.subarray(i+1));return o+(l-o)*(a-i)}}function UH(e,t,r=K5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function qH(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function an(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Da(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xy=Symbol("implicit");function wx(){var e=new OS,t=[],r=[],n=Xy;function a(i){let o=e.get(i);if(o===void 0){if(n!==Xy)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new OS;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return wx(t,r).unknown(n)},an.apply(a,arguments),a}function _x(){var e=wx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=a<n,v=h?a:n,x=h?n:a;i=(x-v)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),v+=(x-v-i*(m-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var b=qH(m).map(function(y){return v+i*y});return r(h?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return _x(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},an.apply(f(),arguments)}function X5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return X5(t())},e}function WH(){return X5(_x.apply(null,arguments).paddingInner(1))}function jx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Z5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Du(){}var Gc=.7,jh=1/Gc,js="\\s*([+-]?\\d+)\\s*",Yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HH=/^#([0-9a-f]{3,8})$/,FH=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),VH=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),KH=new RegExp(`^rgba\\(${js},${js},${js},${Yc}\\)$`),GH=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${Yc}\\)$`),YH=new RegExp(`^hsl\\(${Yc},${Bn},${Bn}\\)$`),XH=new RegExp(`^hsla\\(${Yc},${Bn},${Bn},${Yc}\\)$`),RS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jx(Du,Xc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NS,formatHex:NS,formatHex8:ZH,formatHsl:JH,formatRgb:DS,toString:DS});function NS(){return this.rgb().formatHex()}function ZH(){return this.rgb().formatHex8()}function JH(){return J5(this).formatHsl()}function DS(){return this.rgb().formatRgb()}function Xc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=HH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?PS(t):r===3?new cr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Pd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Pd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FH.exec(e))?new cr(t[1],t[2],t[3],1):(t=VH.exec(e))?new cr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KH.exec(e))?Pd(t[1],t[2],t[3],t[4]):(t=GH.exec(e))?Pd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YH.exec(e))?BS(t[1],t[2]/100,t[3]/100,1):(t=XH.exec(e))?BS(t[1],t[2]/100,t[3]/100,t[4]):RS.hasOwnProperty(e)?PS(RS[e]):e==="transparent"?new cr(NaN,NaN,NaN,0):null}function PS(e){return new cr(e>>16&255,e>>8&255,e&255,1)}function Pd(e,t,r,n){return n<=0&&(e=t=r=NaN),new cr(e,t,r,n)}function QH(e){return e instanceof Du||(e=Xc(e)),e?(e=e.rgb(),new cr(e.r,e.g,e.b,e.opacity)):new cr}function Zy(e,t,r,n){return arguments.length===1?QH(e):new cr(e,t,r,n??1)}function cr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}jx(cr,Zy,Z5(Du,{brighter(e){return e=e==null?jh:Math.pow(jh,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gc:Math.pow(Gc,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cr(oo(this.r),oo(this.g),oo(this.b),Sh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MS,formatHex:MS,formatHex8:eF,formatRgb:zS,toString:zS}));function MS(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function eF(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function zS(){const e=Sh(this.opacity);return`${e===1?"rgb(":"rgba("}${oo(this.r)}, ${oo(this.g)}, ${oo(this.b)}${e===1?")":`, ${e})`}`}function Sh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xi(e){return e=oo(e),(e<16?"0":"")+e.toString(16)}function BS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pn(e,t,r,n)}function J5(e){if(e instanceof pn)return new pn(e.h,e.s,e.l,e.opacity);if(e instanceof Du||(e=Xc(e)),!e)return new pn;if(e instanceof pn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new pn(o,l,c,e.opacity)}function tF(e,t,r,n){return arguments.length===1?J5(e):new pn(e,t,r,n??1)}function pn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}jx(pn,tF,Z5(Du,{brighter(e){return e=e==null?jh:Math.pow(jh,e),new pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gc:Math.pow(Gc,e),new pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new cr(Ug(e>=240?e-240:e+120,a,n),Ug(e,a,n),Ug(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new pn(IS(this.h),Md(this.s),Md(this.l),Sh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sh(this.opacity);return`${e===1?"hsl(":"hsla("}${IS(this.h)}, ${Md(this.s)*100}%, ${Md(this.l)*100}%${e===1?")":`, ${e})`}`}}));function IS(e){return e=(e||0)%360,e<0?e+360:e}function Md(e){return Math.max(0,Math.min(1,e||0))}function Ug(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Sx=e=>()=>e;function rF(e,t){return function(r){return e+r*t}}function nF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function aF(e){return(e=+e)==1?Q5:function(t,r){return r-t?nF(t,r,e):Sx(isNaN(t)?r:t)}}function Q5(e,t){var r=t-e;return r?rF(e,r):Sx(isNaN(e)?t:e)}const LS=function e(t){var r=aF(t);function n(a,i){var o=r((a=Zy(a)).r,(i=Zy(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=Q5(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function iF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function oF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=fl(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function lF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ch(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function cF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=fl(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Jy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qg=new RegExp(Jy.source,"g");function uF(e){return function(){return e}}function dF(e){return function(t){return e(t)+""}}function fF(e,t){var r=Jy.lastIndex=qg.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Jy.exec(e))&&(a=qg.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Ch(n,a)})),r=qg.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?dF(c[0].x):uF(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function fl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Sx(t):(r==="number"?Ch:r==="string"?(n=Xc(t))?(t=n,LS):fF:t instanceof Xc?LS:t instanceof Date?lF:oF(t)?iF:Array.isArray(t)?sF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cF:Ch)(e,t)}function Cx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function hF(e,t){t===void 0&&(t=e,e=fl);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function mF(e){return function(){return e}}function Eh(e){return+e}var $S=[0,1];function Jt(e){return e}function Qy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:mF(isNaN(t)?NaN:.5)}function pF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function gF(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Qy(a,n),i=r(o,i)):(n=Qy(n,a),i=r(i,o)),function(l){return i(n(l))}}function vF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Qy(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Nu(e,l,1,n)-1;return i[c](a[c](l))}}function Pu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ap(){var e=$S,t=$S,r=fl,n,a,i,o=Jt,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Jt&&(o=pF(e[0],e[m-1])),l=m>2?vF:gF,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(n),Ch)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,Eh),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=Cx,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Jt,d()):o!==Jt},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return n=m,a=h,d()}}function Ex(){return ap()(Jt,Jt)}function yF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Oh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Us(e){return e=Oh(Math.abs(e)),e?e[1]:NaN}function bF(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function xF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zc(e){if(!(t=wF.exec(e)))throw new Error("invalid format: "+e);var t;return new Ox({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zc.prototype=Ox.prototype;function Ox(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ox.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _F(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Ah;function jF(e,t){var r=Oh(e,t);if(!r)return Ah=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Ah=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Oh(e,Math.max(0,t+i-1))[0]}function US(e,t){var r=Oh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const qS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>US(e*100,t),r:US,s:jF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WS(e){return e}var HS=Array.prototype.map,FS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SF(e){var t=e.grouping===void 0||e.thousands===void 0?WS:bF(HS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?WS:xF(HS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,m){f=Zc(f);var h=f.fill,v=f.align,x=f.sign,b=f.symbol,y=f.zero,p=f.width,_=f.comma,w=f.precision,j=f.trim,C=f.type;C==="n"?(_=!0,C="g"):qS[C]||(w===void 0&&(w=12),j=!0,C="g"),(y||h==="0"&&v==="=")&&(y=!0,h="0",v="=");var S=(m&&m.prefix!==void 0?m.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),E=(b==="$"?n:/[%p]/.test(C)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),k=qS[C],O=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(A){var z=S,T=E,q,P,B;if(C==="c")T=k(A)+T,A="";else{A=+A;var D=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),w),j&&(A=_F(A)),D&&+A==0&&x!=="+"&&(D=!1),z=(D?x==="("?x:l:x==="-"||x==="("?"":x)+z,T=(C==="s"&&!isNaN(A)&&Ah!==void 0?FS[8+Ah/3]:"")+T+(D&&x==="("?")":""),O){for(q=-1,P=A.length;++q<P;)if(B=A.charCodeAt(q),48>B||B>57){T=(B===46?a+A.slice(q+1):A.slice(q))+T,A=A.slice(0,q);break}}}_&&!y&&(A=t(A,1/0));var N=z.length+A.length+T.length,L=N<p?new Array(p-N+1).join(h):"";switch(_&&y&&(A=t(L+A,L.length?p-T.length:1/0),L=""),v){case"<":A=z+A+T+L;break;case"=":A=z+L+A+T;break;case"^":A=L.slice(0,N=L.length>>1)+z+A+T+L.slice(N);break;default:A=L+z+A+T;break}return i(A)}return R.toString=function(){return f+""},R}function d(f,m){var h=Math.max(-8,Math.min(8,Math.floor(Us(m)/3)))*3,v=Math.pow(10,-h),x=u((f=Zc(f),f.type="f",f),{suffix:FS[8+h/3]});return function(b){return x(v*b)}}return{format:u,formatPrefix:d}}var zd,Ax,eN;CF({thousands:",",grouping:[3],currency:["$",""]});function CF(e){return zd=SF(e),Ax=zd.format,eN=zd.formatPrefix,zd}function EF(e){return Math.max(0,-Us(Math.abs(e)))}function OF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Us(t)/3)))*3-Us(Math.abs(e)))}function AF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Us(t)-Us(e))+1}function tN(e,t,r,n){var a=Yy(e,t,r),i;switch(n=Zc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=OF(a,o))&&(n.precision=i),eN(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=AF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=EF(a))&&(n.precision=i-(n.type==="%")*2);break}}return Ax(n)}function Ni(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ky(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return tN(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Gy(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function rN(){var e=Ex();return e.copy=function(){return Pu(e,rN())},an.apply(e,arguments),Ni(e)}function nN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Eh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nN(e).unknown(t)},e=arguments.length?Array.from(e,Eh):[0,1],Ni(r)}function aN(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function VS(e){return Math.log(e)}function KS(e){return Math.exp(e)}function kF(e){return-Math.log(-e)}function TF(e){return-Math.exp(-e)}function RF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NF(e){return e===10?RF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GS(e){return(t,r)=>-e(-t,r)}function kx(e){const t=e(VS,KS),r=t.domain;let n=10,a,i;function o(){return a=DF(n),i=NF(n),r()[0]<0?(a=GS(a),i=GS(i),e(kF,TF)):e(VS,KS),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),v,x;const b=l==null?10:+l;let y=[];if(!(n%1)&&h-m<b){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(v=1;v<n;++v)if(x=m<0?v/i(-m):v*i(m),!(x<u)){if(x>d)break;y.push(x)}}else for(;m<=h;++m)for(v=n-1;v>=1;--v)if(x=m>0?v/i(-m):v*i(m),!(x<u)){if(x>d)break;y.push(x)}y.length*2<b&&(y=Ky(u,d,b))}else y=Ky(m,h,Math.min(h-m,b)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Zc(c)).precision==null&&(c.trim=!0),c=Ax(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(aN(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function iN(){const e=kx(ap()).domain([1,10]);return e.copy=()=>Pu(e,iN()).base(e.base()),an.apply(e,arguments),e}function YS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tx(e){var t=1,r=e(YS(t),XS(t));return r.constant=function(n){return arguments.length?e(YS(t=+n),XS(t)):t},Ni(r)}function oN(){var e=Tx(ap());return e.copy=function(){return Pu(e,oN()).constant(e.constant())},an.apply(e,arguments)}function ZS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MF(e){return e<0?-e*e:e*e}function Rx(e){var t=e(Jt,Jt),r=1;function n(){return r===1?e(Jt,Jt):r===.5?e(PF,MF):e(ZS(r),ZS(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ni(t)}function Nx(){var e=Rx(ap());return e.copy=function(){return Pu(e,Nx()).exponent(e.exponent())},an.apply(e,arguments),e}function zF(){return Nx.apply(null,arguments).exponent(.5)}function JS(e){return Math.sign(e)*e*e}function BF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sN(){var e=Ex(),t=[0,1],r=!1,n;function a(i){var o=BF(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(JS(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Eh)).map(JS)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},an.apply(a,arguments),Ni(a)}function lN(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=UH(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Nu(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(bi),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return lN().domain(e).range(t).unknown(n)},an.apply(i,arguments)}function cN(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Nu(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cN().domain([e,t]).range(a).unknown(i)},an.apply(Ni(o),arguments)}function uN(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Nu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return uN().domain(e).range(t).unknown(r)},an.apply(a,arguments)}const Wg=new Date,Hg=new Date;function yt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>yt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Wg.setTime(+i),Hg.setTime(+o),e(Wg),e(Hg),Math.floor(r(Wg,Hg))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const kh=yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kh);kh.range;const sa=1e3,Xr=sa*60,la=Xr*60,Sa=la*24,Dx=Sa*7,QS=Sa*30,Fg=Sa*365,Zi=yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCSeconds());Zi.range;const Px=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sa)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getMinutes());Px.range;const Mx=yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getUTCMinutes());Mx.range;const zx=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sa-e.getMinutes()*Xr)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getHours());zx.range;const Bx=yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCHours());Bx.range;const Mu=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xr)/Sa,e=>e.getDate()-1);Mu.range;const ip=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>e.getUTCDate()-1);ip.range;const dN=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>Math.floor(e/Sa));dN.range;function To(e){return yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xr)/Dx)}const op=To(0),Th=To(1),IF=To(2),LF=To(3),qs=To(4),$F=To(5),UF=To(6);op.range;Th.range;IF.range;LF.range;qs.range;$F.range;UF.range;function Ro(e){return yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Dx)}const sp=Ro(0),Rh=Ro(1),qF=Ro(2),WF=Ro(3),Ws=Ro(4),HF=Ro(5),FF=Ro(6);sp.range;Rh.range;qF.range;WF.range;Ws.range;HF.range;FF.range;const Ix=yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ix.range;const Lx=yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lx.range;const Ca=yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ca.range;const Ea=yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ea.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ea.range;function fN(e,t,r,n,a,i){const o=[[Zi,1,sa],[Zi,5,5*sa],[Zi,15,15*sa],[Zi,30,30*sa],[i,1,Xr],[i,5,5*Xr],[i,15,15*Xr],[i,30,30*Xr],[a,1,la],[a,3,3*la],[a,6,6*la],[a,12,12*la],[n,1,Sa],[n,2,2*Sa],[r,1,Dx],[t,1,QS],[t,3,3*QS],[e,1,Fg]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),v=h?h.range(u,+d+1):[];return m?v.reverse():v}function c(u,d,f){const m=Math.abs(d-u)/f,h=xx(([,,b])=>b).right(o,m);if(h===o.length)return e.every(Yy(u/Fg,d/Fg,f));if(h===0)return kh.every(Math.max(Yy(u,d,f),1));const[v,x]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return v.every(x)}return[l,c]}const[VF,KF]=fN(Ea,Lx,sp,dN,Bx,Mx),[GF,YF]=fN(Ca,Ix,op,Mu,zx,Px);function Vg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function XF(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Il(a),d=Ll(a),f=Il(i),m=Ll(i),h=Il(o),v=Ll(o),x=Il(l),b=Ll(l),y=Il(c),p=Ll(c),_={a:B,A:D,b:N,B:L,c:null,d:iC,e:iC,f:bV,g:kV,G:RV,H:gV,I:vV,j:yV,L:hN,m:xV,M:wV,p:Y,q:G,Q:lC,s:cC,S:_V,u:jV,U:SV,V:CV,w:EV,W:OV,x:null,X:null,y:AV,Y:TV,Z:NV,"%":sC},w={a:ie,A:J,b:he,B:ce,c:null,d:oC,e:oC,f:zV,g:VV,G:GV,H:DV,I:PV,j:MV,L:pN,m:BV,M:IV,p:M,q:Z,Q:lC,s:cC,S:LV,u:$V,U:UV,V:qV,w:WV,W:HV,x:null,X:null,y:FV,Y:KV,Z:YV,"%":sC},j={a:O,A:R,b:A,B:z,c:T,d:nC,e:nC,f:fV,g:rC,G:tC,H:aC,I:aC,j:lV,L:dV,m:sV,M:cV,p:k,q:oV,Q:mV,s:pV,S:uV,u:tV,U:rV,V:nV,w:eV,W:aV,x:q,X:P,y:rC,Y:tC,Z:iV,"%":hV};_.x=C(r,_),_.X=C(n,_),_.c=C(t,_),w.x=C(r,w),w.X=C(n,w),w.c=C(t,w);function C(I,K){return function(re){var V=[],Te=-1,me=0,Ye=I.length,Xe,Br,Pi;for(re instanceof Date||(re=new Date(+re));++Te<Ye;)I.charCodeAt(Te)===37&&(V.push(I.slice(me,Te)),(Br=eC[Xe=I.charAt(++Te)])!=null?Xe=I.charAt(++Te):Br=Xe==="e"?" ":"0",(Pi=K[Xe])&&(Xe=Pi(re,Br)),V.push(Xe),me=Te+1);return V.push(I.slice(me,Te)),V.join("")}}function S(I,K){return function(re){var V=Bl(1900,void 0,1),Te=E(V,I,re+="",0),me,Ye;if(Te!=re.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(K&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(me=Kg(Bl(V.y,0,1)),Ye=me.getUTCDay(),me=Ye>4||Ye===0?Rh.ceil(me):Rh(me),me=ip.offset(me,(V.V-1)*7),V.y=me.getUTCFullYear(),V.m=me.getUTCMonth(),V.d=me.getUTCDate()+(V.w+6)%7):(me=Vg(Bl(V.y,0,1)),Ye=me.getDay(),me=Ye>4||Ye===0?Th.ceil(me):Th(me),me=Mu.offset(me,(V.V-1)*7),V.y=me.getFullYear(),V.m=me.getMonth(),V.d=me.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Ye="Z"in V?Kg(Bl(V.y,0,1)).getUTCDay():Vg(Bl(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(Ye+5)%7:V.w+V.U*7-(Ye+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Kg(V)):Vg(V)}}function E(I,K,re,V){for(var Te=0,me=K.length,Ye=re.length,Xe,Br;Te<me;){if(V>=Ye)return-1;if(Xe=K.charCodeAt(Te++),Xe===37){if(Xe=K.charAt(Te++),Br=j[Xe in eC?K.charAt(Te++):Xe],!Br||(V=Br(I,re,V))<0)return-1}else if(Xe!=re.charCodeAt(V++))return-1}return V}function k(I,K,re){var V=u.exec(K.slice(re));return V?(I.p=d.get(V[0].toLowerCase()),re+V[0].length):-1}function O(I,K,re){var V=h.exec(K.slice(re));return V?(I.w=v.get(V[0].toLowerCase()),re+V[0].length):-1}function R(I,K,re){var V=f.exec(K.slice(re));return V?(I.w=m.get(V[0].toLowerCase()),re+V[0].length):-1}function A(I,K,re){var V=y.exec(K.slice(re));return V?(I.m=p.get(V[0].toLowerCase()),re+V[0].length):-1}function z(I,K,re){var V=x.exec(K.slice(re));return V?(I.m=b.get(V[0].toLowerCase()),re+V[0].length):-1}function T(I,K,re){return E(I,t,K,re)}function q(I,K,re){return E(I,r,K,re)}function P(I,K,re){return E(I,n,K,re)}function B(I){return o[I.getDay()]}function D(I){return i[I.getDay()]}function N(I){return c[I.getMonth()]}function L(I){return l[I.getMonth()]}function Y(I){return a[+(I.getHours()>=12)]}function G(I){return 1+~~(I.getMonth()/3)}function ie(I){return o[I.getUTCDay()]}function J(I){return i[I.getUTCDay()]}function he(I){return c[I.getUTCMonth()]}function ce(I){return l[I.getUTCMonth()]}function M(I){return a[+(I.getUTCHours()>=12)]}function Z(I){return 1+~~(I.getUTCMonth()/3)}return{format:function(I){var K=C(I+="",_);return K.toString=function(){return I},K},parse:function(I){var K=S(I+="",!1);return K.toString=function(){return I},K},utcFormat:function(I){var K=C(I+="",w);return K.toString=function(){return I},K},utcParse:function(I){var K=S(I+="",!0);return K.toString=function(){return I},K}}}var eC={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,ZF=/^%/,JF=/[\\^$*+?|[\]().{}]/g;function xe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function QF(e){return e.replace(JF,"\\$&")}function Il(e){return new RegExp("^(?:"+e.map(QF).join("|")+")","i")}function Ll(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function eV(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function tV(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function rV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function nV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function aV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tC(e,t,r){var n=Rt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rC(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oV(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function sV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nC(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function lV(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aC(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function cV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function uV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function dV(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function fV(e,t,r){var n=Rt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function hV(e,t,r){var n=ZF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function mV(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pV(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iC(e,t){return xe(e.getDate(),t,2)}function gV(e,t){return xe(e.getHours(),t,2)}function vV(e,t){return xe(e.getHours()%12||12,t,2)}function yV(e,t){return xe(1+Mu.count(Ca(e),e),t,3)}function hN(e,t){return xe(e.getMilliseconds(),t,3)}function bV(e,t){return hN(e,t)+"000"}function xV(e,t){return xe(e.getMonth()+1,t,2)}function wV(e,t){return xe(e.getMinutes(),t,2)}function _V(e,t){return xe(e.getSeconds(),t,2)}function jV(e){var t=e.getDay();return t===0?7:t}function SV(e,t){return xe(op.count(Ca(e)-1,e),t,2)}function mN(e){var t=e.getDay();return t>=4||t===0?qs(e):qs.ceil(e)}function CV(e,t){return e=mN(e),xe(qs.count(Ca(e),e)+(Ca(e).getDay()===4),t,2)}function EV(e){return e.getDay()}function OV(e,t){return xe(Th.count(Ca(e)-1,e),t,2)}function AV(e,t){return xe(e.getFullYear()%100,t,2)}function kV(e,t){return e=mN(e),xe(e.getFullYear()%100,t,2)}function TV(e,t){return xe(e.getFullYear()%1e4,t,4)}function RV(e,t){var r=e.getDay();return e=r>=4||r===0?qs(e):qs.ceil(e),xe(e.getFullYear()%1e4,t,4)}function NV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xe(t/60|0,"0",2)+xe(t%60,"0",2)}function oC(e,t){return xe(e.getUTCDate(),t,2)}function DV(e,t){return xe(e.getUTCHours(),t,2)}function PV(e,t){return xe(e.getUTCHours()%12||12,t,2)}function MV(e,t){return xe(1+ip.count(Ea(e),e),t,3)}function pN(e,t){return xe(e.getUTCMilliseconds(),t,3)}function zV(e,t){return pN(e,t)+"000"}function BV(e,t){return xe(e.getUTCMonth()+1,t,2)}function IV(e,t){return xe(e.getUTCMinutes(),t,2)}function LV(e,t){return xe(e.getUTCSeconds(),t,2)}function $V(e){var t=e.getUTCDay();return t===0?7:t}function UV(e,t){return xe(sp.count(Ea(e)-1,e),t,2)}function gN(e){var t=e.getUTCDay();return t>=4||t===0?Ws(e):Ws.ceil(e)}function qV(e,t){return e=gN(e),xe(Ws.count(Ea(e),e)+(Ea(e).getUTCDay()===4),t,2)}function WV(e){return e.getUTCDay()}function HV(e,t){return xe(Rh.count(Ea(e)-1,e),t,2)}function FV(e,t){return xe(e.getUTCFullYear()%100,t,2)}function VV(e,t){return e=gN(e),xe(e.getUTCFullYear()%100,t,2)}function KV(e,t){return xe(e.getUTCFullYear()%1e4,t,4)}function GV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ws(e):Ws.ceil(e),xe(e.getUTCFullYear()%1e4,t,4)}function YV(){return"+0000"}function sC(){return"%"}function lC(e){return+e}function cC(e){return Math.floor(+e/1e3)}var Ho,vN,yN;XV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XV(e){return Ho=XF(e),vN=Ho.format,Ho.parse,yN=Ho.utcFormat,Ho.utcParse,Ho}function ZV(e){return new Date(e)}function JV(e){return e instanceof Date?+e:+new Date(+e)}function $x(e,t,r,n,a,i,o,l,c,u){var d=Ex(),f=d.invert,m=d.domain,h=u(".%L"),v=u(":%S"),x=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),p=u("%b %d"),_=u("%B"),w=u("%Y");function j(C){return(c(C)<C?h:l(C)<C?v:o(C)<C?x:i(C)<C?b:n(C)<C?a(C)<C?y:p:r(C)<C?_:w)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?m(Array.from(C,JV)):m().map(ZV)},d.ticks=function(C){var S=m();return e(S[0],S[S.length-1],C??10)},d.tickFormat=function(C,S){return S==null?j:u(S)},d.nice=function(C){var S=m();return(!C||typeof C.range!="function")&&(C=t(S[0],S[S.length-1],C??10)),C?m(aN(S,C)):d},d.copy=function(){return Pu(d,$x(e,t,r,n,a,i,o,l,c,u))},d}function QV(){return an.apply($x(GF,YF,Ca,Ix,op,Mu,zx,Px,Zi,vN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eK(){return an.apply($x(VF,KF,Ea,Lx,sp,ip,Bx,Mx,Zi,yN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lp(){var e=0,t=1,r,n,a,i,o=Jt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,v;return arguments.length?([h,v]=m,o=f(h,v),u):[o(0),o(1)]}}return u.range=d(fl),u.rangeRound=d(Cx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Di(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bN(){var e=Ni(lp()(Jt));return e.copy=function(){return Di(e,bN())},Da.apply(e,arguments)}function xN(){var e=kx(lp()).domain([1,10]);return e.copy=function(){return Di(e,xN()).base(e.base())},Da.apply(e,arguments)}function wN(){var e=Tx(lp());return e.copy=function(){return Di(e,wN()).constant(e.constant())},Da.apply(e,arguments)}function Ux(){var e=Rx(lp());return e.copy=function(){return Di(e,Ux()).exponent(e.exponent())},Da.apply(e,arguments)}function tK(){return Ux.apply(null,arguments).exponent(.5)}function _N(){var e=[],t=Jt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Nu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(bi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>$H(e,i/n))},r.copy=function(){return _N(t).domain(e)},Da.apply(r,arguments)}function cp(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Jt,d,f=!1,m;function h(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:c),u(f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(u=x,h):u};function v(x){return function(b){var y,p,_;return arguments.length?([y,p,_]=b,u=hF(x,[y,p,_]),h):[u(0),u(.5),u(1)]}}return h.range=v(fl),h.rangeRound=v(Cx),h.unknown=function(x){return arguments.length?(m=x,h):m},function(x){return d=x,a=x(e),i=x(t),o=x(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function jN(){var e=Ni(cp()(Jt));return e.copy=function(){return Di(e,jN())},Da.apply(e,arguments)}function SN(){var e=kx(cp()).domain([.1,1,10]);return e.copy=function(){return Di(e,SN()).base(e.base())},Da.apply(e,arguments)}function CN(){var e=Tx(cp());return e.copy=function(){return Di(e,CN()).constant(e.constant())},Da.apply(e,arguments)}function qx(){var e=Rx(cp());return e.copy=function(){return Di(e,qx()).exponent(e.exponent())},Da.apply(e,arguments)}function rK(){return qx.apply(null,arguments).exponent(.5)}const Gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_x,scaleDiverging:jN,scaleDivergingLog:SN,scaleDivergingPow:qx,scaleDivergingSqrt:rK,scaleDivergingSymlog:CN,scaleIdentity:nN,scaleImplicit:Xy,scaleLinear:rN,scaleLog:iN,scaleOrdinal:wx,scalePoint:WH,scalePow:Nx,scaleQuantile:lN,scaleQuantize:cN,scaleRadial:sN,scaleSequential:bN,scaleSequentialLog:xN,scaleSequentialPow:Ux,scaleSequentialQuantile:_N,scaleSequentialSqrt:tK,scaleSequentialSymlog:wN,scaleSqrt:zF,scaleSymlog:oN,scaleThreshold:uN,scaleTime:QV,scaleUtc:eK,tickFormat:tN},Symbol.toStringTag,{value:"Module"}));var Pa=e=>e.chartData,EN=$([Pa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ON=(e,t,r,n)=>n?EN(e):Pa(e),nK=(e,t,r)=>r?EN(e):Pa(e);function Ei(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ge(t)&&Ge(r))return!0}return!1}function uC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function AN(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Ge(r))a=r;else if(typeof r=="function")return;if(Ge(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Ei(o))return o}}function aK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ei(n))return uC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ee(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Rj.test(a)){var c=Rj.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ee(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Nj.test(i)){var d=Nj.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var m=[o,l];if(Ei(m))return t==null?m:uC(m,t,r)}}}var hl=1e9,iK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hx,Ve=!0,rn="[DecimalError] ",so=rn+"Invalid argument: ",Wx=rn+"Exponent out of range: ",ml=Math.floor,Fi=Math.pow,oK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,St=1e7,Le=7,kN=9007199254740991,Nh=ml(kN/Le),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Le;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};X.dividedBy=X.div=function(e){return fa(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,r=t.constructor;return Ne(fa(t,new r(e),0,1),r.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return ft(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cr))throw Error(rn+"NaN");if(r.s<1)throw Error(rn+(r.s?"NaN":"-Infinity"));return r.eq(Cr)?new n(0):(Ve=!1,t=fa(Jc(r,i),Jc(e,i),i),Ve=!0,Ne(t,a))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NN(t,e):TN(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(rn+"NaN");return r.s?(Ve=!1,t=fa(r,e,0,1).times(e),Ve=!0,r.minus(t)):Ne(new n(r),a)};X.naturalExponential=X.exp=function(){return RN(this)};X.naturalLogarithm=X.ln=function(){return Jc(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TN(t,e):NN(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(so+e);if(t=ft(a)+1,n=a.d.length-1,r=n*Le+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};X.squareRoot=X.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(rn+"NaN")}for(e=ft(l),Ve=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Mn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ml((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(fa(l,i,o+2)).times(.5),Mn(i.d).slice(0,o)===(t=Mn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ne(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ve=!0,Ne(n,r)};X.times=X.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+h[n]*m[a-n-1]+t,i[a--]=l%St|0,t=l/St|0;i[a]=(i[a]+t)%St|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ve?Ne(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:($n(e,0,hl),t===void 0?t=n.rounding:$n(t,0,8),Ne(r,e+ft(r)+1,t))};X.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=bo(n,!0):($n(e,0,hl),t===void 0?t=a.rounding:$n(t,0,8),n=Ne(new a(n),e+1,t),r=bo(n,!0,e+1)),r};X.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?bo(a):($n(e,0,hl),t===void 0?t=i.rounding:$n(t,0,8),n=Ne(new i(a),e+ft(a)+1,t),r=bo(n.abs(),!1,e+ft(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return Ne(new t(e),ft(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Cr);if(l=new c(l),!l.s){if(e.s<1)throw Error(rn+"Infinity");return l}if(l.eq(Cr))return l;if(n=c.precision,e.eq(Cr))return Ne(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=kN){for(a=new c(Cr),t=Math.ceil(n/Le+4),Ve=!1;r%2&&(a=a.times(l),fC(a.d,t)),r=ml(r/2),r!==0;)l=l.times(l),fC(l.d,t);return Ve=!0,e.s<0?new c(Cr).div(a):Ne(a,n)}}else if(i<0)throw Error(rn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ve=!1,a=e.times(Jc(l,n+u)),Ve=!0,a=RN(a),a.s=i,a};X.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ft(a),n=bo(a,r<=i.toExpNeg||r>=i.toExpPos)):($n(e,1,hl),t===void 0?t=i.rounding:$n(t,0,8),a=Ne(new i(a),e,t),r=ft(a),n=bo(a,e<=r||r<=i.toExpNeg,e)),n};X.toSignificantDigits=X.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):($n(e,1,hl),t===void 0?t=n.rounding:$n(t,0,8)),Ne(new n(r),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return bo(e,t<=r.toExpNeg||t>=r.toExpPos)};function TN(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ve?Ne(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Le),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/St|0,c[i]%=St;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ve?Ne(t,f):t}function $n(e,t,r){if(e!==~~e||e<t||e>r)throw Error(so+e)}function Mn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Le-n.length,r&&(i+=Ga(r)),i+=n;o=e[t],n=o+"",r=Le-n.length,r&&(i+=Ga(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var fa=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%St|0,o=i/St|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*St+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,m,h,v,x,b,y,p,_,w,j,C,S,E,k=n.constructor,O=n.s==a.s?1:-1,R=n.d,A=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(rn+"Division by zero");for(c=n.e-a.e,S=A.length,j=R.length,h=new k(O),v=h.d=[],u=0;A[u]==(R[u]||0);)++u;if(A[u]>(R[u]||0)&&--c,i==null?p=i=k.precision:o?p=i+(ft(n)-ft(a))+1:p=i,p<0)return new k(0);if(p=p/Le+2|0,u=0,S==1)for(d=0,A=A[0],p++;(u<j||d)&&p--;u++)_=d*St+(R[u]||0),v[u]=_/A|0,d=_%A|0;else{for(d=St/(A[0]+1)|0,d>1&&(A=e(A,d),R=e(R,d),S=A.length,j=R.length),w=S,x=R.slice(0,S),b=x.length;b<S;)x[b++]=0;E=A.slice(),E.unshift(0),C=A[0],A[1]>=St/2&&++C;do d=0,l=t(A,x,S,b),l<0?(y=x[0],S!=b&&(y=y*St+(x[1]||0)),d=y/C|0,d>1?(d>=St&&(d=St-1),f=e(A,d),m=f.length,b=x.length,l=t(f,x,m,b),l==1&&(d--,r(f,S<m?E:A,m))):(d==0&&(l=d=1),f=A.slice()),m=f.length,m<b&&f.unshift(0),r(x,f,b),l==-1&&(b=x.length,l=t(A,x,S,b),l<1&&(d++,r(x,S<b?E:A,b))),b=x.length):l===0&&(d++,x=[0]),v[u++]=d,l&&x[0]?x[b++]=R[w]||0:(x=[R[w]],b=1);while((w++<j||x[0]!==void 0)&&p--)}return v[0]||v.shift(),h.e=c,Ne(h,o?i+ft(h)+1:i)}}();function RN(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ft(e)>16)throw Error(Wx+ft(e));if(!e.s)return new d(Cr);for(Ve=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Fi(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Cr),d.precision=l;;){if(a=Ne(a.times(e),l),r=r.times(++c),o=i.plus(fa(a,r,l)),Mn(o.d).slice(0,l)===Mn(i.d).slice(0,l)){for(;u--;)i=Ne(i.times(i),l);return d.precision=f,t==null?(Ve=!0,Ne(i,f)):i}i=o}}function ft(e){for(var t=e.e*Le,r=e.d[0];r>=10;r/=10)t++;return t}function Gg(e,t,r){if(t>e.LN10.sd())throw Ve=!0,r&&(e.precision=r),Error(rn+"LN10 precision limit exceeded");return Ne(new e(e.LN10),t)}function Ga(e){for(var t="";e--;)t+="0";return t}function Jc(e,t){var r,n,a,i,o,l,c,u,d,f=1,m=10,h=e,v=h.d,x=h.constructor,b=x.precision;if(h.s<1)throw Error(rn+(h.s?"NaN":"-Infinity"));if(h.eq(Cr))return new x(0);if(t==null?(Ve=!1,u=b):u=t,h.eq(10))return t==null&&(Ve=!0),Gg(x,u);if(u+=m,x.precision=u,r=Mn(v),n=r.charAt(0),i=ft(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Mn(h.d),n=r.charAt(0),f++;i=ft(h),n>1?(h=new x("0."+r),i++):h=new x(n+"."+r.slice(1))}else return c=Gg(x,u+2,b).times(i+""),h=Jc(new x(n+"."+r.slice(1)),u-m).plus(c),x.precision=b,t==null?(Ve=!0,Ne(h,b)):h;for(l=o=h=fa(h.minus(Cr),h.plus(Cr),u),d=Ne(h.times(h),u),a=3;;){if(o=Ne(o.times(d),u),c=l.plus(fa(o,new x(a),u)),Mn(c.d).slice(0,u)===Mn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Gg(x,u+2,b).times(i+""))),l=fa(l,new x(f),u),x.precision=b,t==null?(Ve=!0,Ne(l,b)):l;l=c,a+=2}}function dC(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ml(r/Le),e.d=[],n=(r+1)%Le,r<0&&(n+=Le),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Le;n<a;)e.d.push(+t.slice(n,n+=Le));t=t.slice(n),n=Le-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ve&&(e.e>Nh||e.e<-Nh))throw Error(Wx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ne(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Le,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Le),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Le,a=n-Le+o}if(r!==void 0&&(i=Fi(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Fi(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ft(e),f.length=1,t=t-i-1,f[0]=Fi(10,(Le-t%Le)%Le),e.e=ml(-t/Le)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Fi(10,Le-n),f[d]=a>0?(u/Fi(10,o-a)%Fi(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==St&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=St)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ve&&(e.e>Nh||e.e<-Nh))throw Error(Wx+ft(e));return e}function NN(e,t){var r,n,a,i,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ve?Ne(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Le),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=St-1;--c[i],c[a]+=St}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ve?Ne(t,h):t):new m(0)}function bo(e,t,r){var n,a=ft(e),i=Mn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ga(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ga(-a-1)+i,r&&(n=r-o)>0&&(i+=Ga(n))):a>=o?(i+=Ga(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ga(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ga(n))),e.s<0?"-"+i:i}function fC(e,t){if(e.length>t)return e.length=t,!0}function DN(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(so+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return dC(o,i.toString())}else if(typeof i!="string")throw Error(so+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,oK.test(i))dC(o,i);else throw Error(so+i)}if(a.prototype=X,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=DN,a.config=a.set=sK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function sK(e){if(!e||typeof e!="object")throw Error(rn+"Object expected");var t,r,n,a=["precision",1,hl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ml(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(so+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(so+r+": "+n);return this}var Hx=DN(iK);Cr=new Hx(1);const Ce=Hx;var lK=e=>e,PN={},MN=e=>e===PN,hC=e=>function t(){return arguments.length===0||arguments.length===1&&MN(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},zN=(e,t)=>e===1?t:hC(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==PN).length;return i>=e?t(...n):zN(e-i,hC(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>MN(d)?l.shift():d);return t(...u,...l)}))}),cK=e=>zN(e.length,e),e0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},uK=cK((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),dK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return lK;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}};function BN(e){var t;return e===0?t=1:t=Math.floor(new Ce(e).abs().log(10).toNumber())+1,t}function IN(e,t,r){for(var n=new Ce(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var LN=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},$N=(e,t,r)=>{if(e.lte(0))return new Ce(0);var n=BN(e.toNumber()),a=new Ce(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Ce(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new Ce(c.toNumber()):new Ce(Math.ceil(c.toNumber()))},fK=(e,t,r)=>{var n=new Ce(1),a=new Ce(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ce(10).pow(BN(e)-1),a=new Ce(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ce(Math.floor(e)))}else e===0?a=new Ce(Math.floor((t-1)/2)):r||(a=new Ce(Math.floor(e)));var o=Math.floor((t-1)/2),l=dK(uK(c=>a.add(new Ce(c-o).mul(n)).toNumber()),e0);return l(0,t)},UN=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ce(0),tickMin:new Ce(0),tickMax:new Ce(0)};var o=$N(new Ce(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new Ce(0):(l=new Ce(t).add(r).div(2),l=l.sub(new Ce(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new Ce(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?UN(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new Ce(c).mul(o)),tickMax:l.add(new Ce(u).mul(o))})},hK=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=LN([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...e0(0,a-1).map(()=>1/0)]:[...e0(0,a-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(l===c)return fK(l,a,i);var{step:d,tickMin:f,tickMax:m}=UN(l,c,o,i,0),h=IN(f,m.add(new Ce(.1).mul(d)),d);return r>n?h.reverse():h},mK=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=LN([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(r,2),u=$N(new Ce(l).sub(o).div(c-1),i,0),d=[...IN(new Ce(o),new Ce(l),u),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},qN=e=>e.rootProps.maxBarSize,pK=e=>e.rootProps.barGap,WN=e=>e.rootProps.barCategoryGap,gK=e=>e.rootProps.barSize,up=e=>e.rootProps.stackOffset,HN=e=>e.rootProps.reverseStackOrder,Fx=e=>e.options.chartName,Vx=e=>e.rootProps.syncId,FN=e=>e.rootProps.syncMethod,Kx=e=>e.options.eventEmitter,Qt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ra={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},vK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ra.angleAxisId,includeHidden:!1,name:void 0,reversed:ra.reversed,scale:ra.scale,tick:ra.tick,tickCount:void 0,ticks:void 0,type:ra.type,unit:void 0},yK={allowDataOverflow:xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xr.scale,tick:xr.tick,tickCount:xr.tickCount,ticks:void 0,type:xr.type,unit:void 0},bK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ra.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ra.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ra.scale,tick:ra.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xK={allowDataOverflow:xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xr.scale,tick:xr.tick,tickCount:xr.tickCount,ticks:void 0,type:"category",unit:void 0},Gx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?bK:vK,Yx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?xK:yK,fp=e=>e.polarOptions,Xx=$([Ra,Na,Tt],yH),VN=$([fp,Xx],(e,t)=>{if(e!=null)return wn(e.innerRadius,t,0)}),KN=$([fp,Xx],(e,t)=>{if(e!=null)return wn(e.outerRadius,t,t*.8)}),wK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},GN=$([fp],wK);$([Gx,GN],dp);var YN=$([Xx,VN,KN],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});$([Yx,YN],dp);var XN=$([Oe,fp,VN,KN,Ra,Na],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:wn(o,a,a/2),cy:wn(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),bt=(e,t)=>t,hp=(e,t,r)=>r;function Zx(e){return e==null?void 0:e.id}function ZN(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Zx(l);u.forEach((f,m)=>{var h=i==null||a?m:String(Wt(f,i,null)),v=Wt(f,l.dataKey,0),x;o.has(h)?x=o.get(h):x={},Object.assign(x,{[d]:v}),o.set(h,x)})}}),Array.from(o.values())}function mp(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var pp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function gp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _K(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var xt=e=>{var t=Oe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},pl=e=>e.tooltip.settings.axisId;function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){jK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jK(e,t,r){return(t=SK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t0=[0,"auto"],_t={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},JN=(e,t)=>e.cartesianAxis.xAxis[t],Ma=(e,t)=>{var r=JN(e,t);return r??_t},jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:t0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ku},QN=(e,t)=>e.cartesianAxis.yAxis[t],za=(e,t)=>{var r=QN(e,t);return r??jt},EK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Jx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??EK},nr=(e,t,r)=>{switch(t){case"xAxis":return Ma(e,r);case"yAxis":return za(e,r);case"zAxis":return Jx(e,r);case"angleAxis":return Gx(e,r);case"radiusAxis":return Yx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},OK=(e,t,r)=>{switch(t){case"xAxis":return Ma(e,r);case"yAxis":return za(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zu=(e,t,r)=>{switch(t){case"xAxis":return Ma(e,r);case"yAxis":return za(e,r);case"angleAxis":return Gx(e,r);case"radiusAxis":return Yx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},e4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function t4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Qx=e=>e.graphicalItems.cartesianItems,AK=$([bt,hp],t4),r4=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Bu=$([Qx,nr,AK],r4,{memoizeOptions:{resultEqualityCheck:gp}}),n4=$([Bu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(mp)),a4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kK=$([Bu],a4),i4=e=>e.map(t=>t.data).filter(Boolean).flat(1),TK=$([Bu],i4,{memoizeOptions:{resultEqualityCheck:gp}}),o4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},e1=$([TK,ON],o4),s4=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Wt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Wt(a,n)}))):e.map(n=>({value:n})),vp=$([e1,nr,Bu],s4);function l4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lf(e){if(In(e)||e instanceof Date){var t=Number(e);if(Ge(t))return t}}function pC(e){if(Array.isArray(e)){var t=[lf(e[0]),lf(e[1])];return Ei(t)?t:void 0}var r=lf(e);if(r!=null)return[r,r]}function Oa(e){return e.map(lf).filter(rU)}function RK(e,t,r){return!r||typeof t!="number"||xn(t)?[]:r.length?Oa(r.flatMap(n=>{var a=Wt(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Ge(i)||!Ge(o)))return[t-i,t+o]})):[]}var wt=e=>{var t=xt(e),r=pl(e);return zu(e,t,r)},Iu=$([wt],e=>e==null?void 0:e.dataKey),NK=$([n4,ON,wt],ZN),c4=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,c]=o,u=n?[...c].reverse():c,d=u.map(Zx);return[l,{stackedData:fq(e,d,r),graphicalItems:u}]}))},r0=$([NK,n4,up,HN],c4),u4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=vq(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},DK=$([nr],e=>e.allowDataOverflow),t1=e=>{var t;if(e==null||!("domain"in e))return t0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Oa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:t0},d4=$([nr],t1),f4=$([d4,DK],AN),PK=$([r0,Pa,bt,f4],u4,{memoizeOptions:{resultEqualityCheck:pp}}),r1=e=>e.errorBars,MK=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>l4(r,n)),Ph=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},h4=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>l4(a,y)),m=Wt(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),h=RK(l,m,f);if(h.length>=2){var v=Math.min(...h),x=Math.max(...h);(i==null||v<i)&&(i=v),(o==null||x>o)&&(o=x)}var b=pC(m);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=pC(Wt(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),Ge(i)&&Ge(o))return[i,o]},zK=$([e1,nr,kK,r1,bt],h4,{memoizeOptions:{resultEqualityCheck:pp}});function BK(e){var{value:t}=e;if(In(t)||t instanceof Date)return t}var IK=(e,t,r)=>{var n=e.map(BK).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&nR(n))?V5(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},m4=e=>e.referenceElements.dots,gl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),LK=$([m4,bt,hp],gl),p4=e=>e.referenceElements.areas,$K=$([p4,bt,hp],gl),g4=e=>e.referenceElements.lines,UK=$([g4,bt,hp],gl),v4=(e,t)=>{if(e!=null){var r=Oa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},qK=$(LK,bt,v4),y4=(e,t)=>{if(e!=null){var r=Oa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},WK=$([$K,bt],y4);function HK(e){var t;if(e.x!=null)return Oa([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Oa(r)}function FK(e){var t;if(e.y!=null)return Oa([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Oa(r)}var b4=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?HK(n):FK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},VK=$([UK,bt],b4),KK=$(qK,VK,WK,(e,t,r)=>Ph(e,r,t)),x4=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?Ph(n,i,a):Ph(i,a);return aK(t,u,e.allowDataOverflow)},GK=$([nr,d4,f4,PK,zK,KK,Oe,bt],x4,{memoizeOptions:{resultEqualityCheck:pp}}),YK=[0,1],w4=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=ko(t,i);if(u&&l==null){var d;return V5(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?IK(n,e,u):a==="expand"?YK:o}},n1=$([nr,Oe,e1,vp,up,bt,GK],w4),_4=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Cu(i));return l in Gl?l:"point"}}},Lu=$([nr,Oe,e4,Fx,bt],_4);function XK(e){if(e!=null){if(e in Gl)return Gl[e]();var t="scale".concat(Cu(e));if(t in Gl)return Gl[t]()}}function a1(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=XK(t);if(a!=null){var i=a.domain(r).range(n);return sq(i),i}}}var j4=(e,t,r)=>{var n=t1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ei(e))return hK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ei(e))return mK(e,t.tickCount,t.allowDecimals)}},i1=$([n1,zu,Lu],j4),S4=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ei(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},ZK=$([nr,n1,i1,bt],S4),JK=$(vp,nr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Oa(e.map(f=>f.value))).sort((f,m)=>f-m),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],u=n[l+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),C4=$(JK,Oe,WN,Tt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Ge(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=wn(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),QK=(e,t,r)=>{var n=Ma(e,t);return n==null||typeof n.padding!="string"?0:C4(e,"xAxis",t,r,n.padding)},eG=(e,t,r)=>{var n=za(e,t);return n==null||typeof n.padding!="string"?0:C4(e,"yAxis",t,r,n.padding)},tG=$(Ma,QK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),rG=$(za,eG,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),nG=$([Tt,tG,Zm,Xm,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),aG=$([Tt,Oe,rG,Zm,Xm,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),$u=(e,t,r,n)=>{var a;switch(t){case"xAxis":return nG(e,r,n);case"yAxis":return aG(e,r,n);case"zAxis":return(a=Jx(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return GN(e);case"radiusAxis":return YN(e,r);default:return}},E4=$([nr,$u],dp),yp=$([nr,Lu,ZK,E4],a1);$([Bu,r1,bt],MK);function O4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bp=(e,t)=>t,xp=(e,t,r)=>r,iG=$(Gm,bp,xp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(O4)),oG=$(Ym,bp,xp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(O4)),A4=(e,t)=>({width:e.width,height:t.height}),sG=(e,t)=>{var r=typeof t.width=="number"?t.width:ku;return{width:r,height:e.height}},k4=$(Tt,Ma,A4),lG=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cG=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},uG=$(Na,Tt,iG,bp,xp,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=A4(t,l);o==null&&(o=lG(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),dG=$(Ra,Tt,oG,bp,xp,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=sG(t,l);o==null&&(o=cG(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),fG=(e,t)=>{var r=Ma(e,t);if(r!=null)return uG(e,r.orientation,r.mirror)},hG=$([Tt,Ma,fG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),mG=(e,t)=>{var r=za(e,t);if(r!=null)return dG(e,r.orientation,r.mirror)},pG=$([Tt,za,mG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),T4=$(Tt,za,(e,t)=>{var r=typeof t.width=="number"?t.width:ku;return{width:r,height:e.height}}),gC=(e,t,r)=>{switch(t){case"xAxis":return k4(e,r).width;case"yAxis":return T4(e,r).height;default:return}},R4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=ko(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&nR(c))return c}},o1=$([Oe,vp,nr,bt],R4),N4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=ko(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},s1=$([Oe,vp,zu,bt],N4),vC=$([Oe,OK,Lu,yp,o1,s1,$u,i1,bt],(e,t,r,n,a,i,o,l,c)=>{if(t!=null){var u=ko(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),gG=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var u=ko(e,c),{type:d,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/h:0;v=c==="angleAxis"&&i!=null&&i.length>=2?lr(i[0]-i[1])*2*v:v;var x=f||a;if(x){var b=x.map((y,p)=>{var _=o?o.indexOf(y):y;return{index:p,coordinate:n(_)+v,value:y,offset:v}});return b.filter(y=>Ge(y.coordinate))}return u&&l?l.map((y,p)=>({coordinate:n(y)+v,value:y,index:p,offset:v})).filter(y=>Ge(y.coordinate)):n.ticks?n.ticks(m).map(y=>({coordinate:n(y)+v,value:y,offset:v})):n.domain().map((y,p)=>({coordinate:n(y)+v,value:o?o[y]:y,index:p,offset:v}))}},D4=$([Oe,zu,Lu,yp,i1,$u,o1,s1,bt],gG),vG=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=ko(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?lr(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Hs=$([Oe,zu,yp,$u,o1,s1,bt],vG),Fs=$(nr,yp,(e,t)=>{if(!(e==null||t==null))return Dh(Dh({},e),{},{scale:t})}),yG=$([nr,Lu,n1,E4],a1);$((e,t,r)=>Jx(e,r),yG,(e,t)=>{if(!(e==null||t==null))return Dh(Dh({},e),{},{scale:t})});var bG=$([Oe,Gm,Ym],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),P4=e=>e.options.defaultTooltipEventType,M4=e=>e.options.validateTooltipEventTypes;function z4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function l1(e,t){var r=P4(e),n=M4(e);return z4(t,r,n)}function xG(e){return ne(t=>l1(t,e))}var B4=(e,t)=>{var r,n=Number(t);if(!(xn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},wG=e=>e.tooltip.settings,ti={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_G={itemInteraction:{click:ti,hover:ti},axisInteraction:{click:ti,hover:ti},keyboardInteraction:ti,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},I4=mr({name:"tooltip",initialState:_G,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Fe()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=gn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Fe()},removeTooltipEntrySettings:{reducer(e,t){var r=gn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Fe()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:jG,replaceTooltipEntrySettings:SG,removeTooltipEntrySettings:CG,setTooltipSettingsState:EG,setActiveMouseOverItemIndex:L4,mouseLeaveItem:OG,mouseLeaveChart:$4,setActiveClickItemIndex:AG,setMouseOverAxisIndex:U4,setMouseClickAxisIndex:kG,setSyncInteraction:n0,setKeyboardInteraction:a0}=I4.actions,TG=I4.reducer;function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){RG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t,r){return(t=NG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PG(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function MG(e){return e.index!=null}var q4=(e,t,r,n)=>{if(t==null)return ti;var a=PG(e,t,r);if(a==null)return ti;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(MG(a)){if(i)return Bd(Bd({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Bd(Bd({},ti),{},{coordinate:a.coordinate})};function zG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function BG(e,t){var r=zG(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function IG(e,t,r){if(r==null||t==null)return!0;var n=Wt(e,t);return n==null||!Ei(r)?!0:BG(n,r)}var c1=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Ge(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(i,l)),u=t[c];return u==null||IG(u,r,n)?String(c):null},W4=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},H4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},Uu=e=>e.options.tooltipPayloadSearcher,vl=e=>e.tooltip;function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){LG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LG(e,t,r){return(t=$G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qG(e,t){return e??t}var F4=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,h)=>{var v,{dataDefinedOnItem:x,settings:b}=h,y=qG(x,l),p=Array.isArray(y)?d5(y,u,d):y,_=(v=b==null?void 0:b.dataKey)!==null&&v!==void 0?v:n,w=b==null?void 0:b.nameKey,j;if(n&&Array.isArray(p)&&!Array.isArray(p[0])&&o==="axis"?j=tU(p,n,a):j=i(p,t,c,w),Array.isArray(j))j.forEach(S=>{var E=xC(xC({},b),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});m.push(Dj({tooltipEntrySettings:E,dataKey:S.dataKey,payload:S.payload,value:Wt(S.payload,S.dataKey),name:S.name}))});else{var C;m.push(Dj({tooltipEntrySettings:b,dataKey:_,payload:j,value:Wt(j,_),name:(C=Wt(j,w))!==null&&C!==void 0?C:b==null?void 0:b.name}))}return m},f)}},u1=$([wt,Oe,e4,Fx,xt],_4),WG=$([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HG=$([xt,pl],t4),yl=$([WG,wt,HG],r4,{memoizeOptions:{resultEqualityCheck:gp}}),FG=$([yl],e=>e.filter(mp)),VG=$([yl],i4,{memoizeOptions:{resultEqualityCheck:gp}}),bl=$([VG,Pa],o4),KG=$([FG,Pa,wt],ZN),d1=$([bl,wt,yl],s4),V4=$([wt],t1),GG=$([wt],e=>e.allowDataOverflow),K4=$([V4,GG],AN),YG=$([yl],e=>e.filter(mp)),XG=$([KG,YG,up,HN],c4),ZG=$([XG,Pa,xt,K4],u4),JG=$([yl],a4),QG=$([bl,wt,JG,r1,xt],h4,{memoizeOptions:{resultEqualityCheck:pp}}),eY=$([m4,xt,pl],gl),tY=$([eY,xt],v4),rY=$([p4,xt,pl],gl),nY=$([rY,xt],y4),aY=$([g4,xt,pl],gl),iY=$([aY,xt],b4),oY=$([tY,iY,nY],Ph),sY=$([wt,V4,K4,ZG,QG,oY,Oe,xt],x4),qu=$([wt,Oe,bl,d1,up,xt,sY],w4),lY=$([qu,wt,u1],j4),cY=$([wt,qu,lY,xt],S4),G4=e=>{var t=xt(e),r=pl(e),n=!1;return $u(e,t,r,n)},Y4=$([wt,G4],dp),X4=$([wt,u1,cY,Y4],a1),uY=$([Oe,d1,wt,xt],R4),dY=$([Oe,d1,wt,xt],N4),fY=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,u=ko(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?lr(a[0]-a[1])*2*f:f,u&&o?o.map((m,h)=>({coordinate:n(m)+f,value:m,index:h,offset:f})):n.domain().map((m,h)=>({coordinate:n(m)+f,value:i?i[m]:m,index:h,offset:f}))}}},Ba=$([Oe,wt,u1,X4,G4,uY,dY,xt],fY),f1=$([P4,M4,wG],(e,t,r)=>z4(r.shared,e,t)),Z4=e=>e.tooltip.settings.trigger,h1=e=>e.tooltip.settings.defaultIndex,Wu=$([vl,f1,Z4,h1],q4),Vs=$([Wu,bl,Iu,qu],c1),J4=$([Ba,Vs],B4),Q4=$([Wu],e=>{if(e)return e.dataKey});$([Wu],e=>{if(e)return e.graphicalItemId});var eD=$([vl,f1,Z4,h1],H4),hY=$([Ra,Na,Oe,Tt,Ba,h1,eD,Uu],W4),mY=$([Wu,hY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),pY=$([Wu],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),gY=$([eD,Vs,Pa,Iu,J4,Uu,f1],F4);$([gY],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){vY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vY(e,t,r){return(t=yY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=bY(e,"string");return typeof t=="symbol"?t:t+""}function bY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xY=()=>ne(wt),wY=()=>{var e=xY(),t=ne(Ba),r=ne(X4);return fh(!e||!r?void 0:_C(_C({},e),{},{scale:r}),t)};function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return(t=jY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jY(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CY=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},EY=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Fo(Fo(Fo({},n),Ut(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return Fo(Fo(Fo({},n),Ut(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function OY(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var tD=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,u,d,f,m,h=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,v=(d=r[l])===null||d===void 0?void 0:d.coordinate,x=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(m=r[l+1])===null||m===void 0?void 0:m.coordinate,b=void 0;if(!(h==null||v==null||x==null))if(lr(v-h)!==lr(x-v)){var y=[];if(lr(x-v)===lr(a[1]-a[0])){b=x;var p=v+a[1]-a[0];y[0]=Math.min(p,(p+h)/2),y[1]=Math.max(p,(p+h)/2)}else{b=h;var _=x+a[1]-a[0];y[0]=Math.min(v,(_+v)/2),y[1]=Math.max(v,(_+v)/2)}var w=[Math.min(v,(b+v)/2),Math.max(v,(b+v)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var C=Math.min(h,x),S=Math.max(h,x);if(e>(C+v)/2&&e<=(S+v)/2){var E;return(E=r[l])===null||E===void 0?void 0:E.index}}}else if(t)for(var k=0;k<o;k++){var O=t[k];if(O!=null){var R=t[k+1],A=t[k-1];if(k===0&&R!=null&&e<=(O.coordinate+R.coordinate)/2||k===o-1&&A!=null&&e>(O.coordinate+A.coordinate)/2||k>0&&k<o-1&&A!=null&&R!=null&&e>(O.coordinate+A.coordinate)/2&&e<=(O.coordinate+R.coordinate)/2)return O.index}}return-1},AY=()=>ne(Fx),m1=(e,t)=>t,rD=(e,t,r)=>r,p1=(e,t,r,n)=>n,kY=$(Ba,e=>Im(e,t=>t.coordinate)),g1=$([vl,m1,rD,p1],q4),v1=$([g1,bl,Iu,qu],c1),TY=(e,t,r)=>{if(t!=null){var n=vl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},nD=$([vl,m1,rD,p1],H4),Mh=$([Ra,Na,Oe,Tt,Ba,p1,nD,Uu],W4),RY=$([g1,Mh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),aD=$([Ba,v1],B4),NY=$([nD,v1,Pa,Iu,aD,Uu,m1],F4),DY=$([g1,v1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),PY=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&OY(e,o)){var l=yq(e,t),c=tD(l,i,a,r,n),u=CY(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},MY=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=jH(e,r);if(l){var c=bq(l,t),u=tD(c,o,i,n,a),d=EY(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},zY=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?PY(e,t,n,a,i,o,l):MY(e,t,r,n,a,i,o)},BY=$(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),IY=$(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Qt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:_K}});function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LY(e,t,r){return(t=$Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=UY(e,"string");return typeof t=="symbol"?t:t+""}function UY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qY={},WY={zIndexMap:Object.values(Qt).reduce((e,t)=>CC(CC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),qY)},HY=new Set(Object.values(Qt));function FY(e){return HY.has(e)}var iD=mr({name:"zIndex",initialState:WY,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Fe()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!FY(r)&&delete e.zIndexMap[r])},prepare:Fe()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Fe()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Fe()}}}),{registerZIndexPortal:VY,unregisterZIndexPortal:KY,registerZIndexPortalElement:GY,unregisterZIndexPortalElement:YY}=iD.actions,XY=iD.reducer;function Ia(e){var{zIndex:t,children:r}=e,n=Gq(),a=n&&t!==void 0&&t!==0,i=pr(),o=at();g.useLayoutEffect(()=>a?(o(VY({zIndex:t})),()=>{o(KY({zIndex:t}))}):Eu,[o,t,a]);var l=ne(c=>BY(c,t,i));return a?l?ri.createPortal(r,l):null:r}function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}function EC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(r),!0).forEach(function(n){ZY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZY(e,t,r){return(t=JY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eX(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function tX(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,m=n,h=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var v,x,b;if(d==="ScatterChart")v=f,x=zW,b=Qt.cursorLine;else if(d==="BarChart")v=BW(l,f,i,o),x=L5,b=Qt.cursorRectangle;else if(l==="radial"&&oR(f)){var{cx:y,cy:p,radius:_,startAngle:w,endAngle:j}=$5(f);v={cx:y,cy:p,startAngle:w,endAngle:j,innerRadius:_,outerRadius:_},x=q5,b=Qt.cursorLine}else v={points:OH(l,f,i)},x=P5,b=Qt.cursorLine;var C=typeof c=="object"&&"className"in c?c.className:void 0,S=Id(Id(Id(Id({stroke:"#ccc",pointerEvents:"none"},i),v),Fb(c)),{},{payload:m,payloadIndex:h,className:We("recharts-tooltip-cursor",C)});return g.createElement(Ia,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(eX,{cursor:c,cursorComp:x,cursorProps:S}))}function rX(e){var t=wY(),r=j5(),n=Tu(),a=AY();return t==null||r==null||n==null||a==null?null:g.createElement(tX,i0({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var oD=g.createContext(null),nX=()=>g.useContext(oD),sD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,v=new Array(h);m<h;m++)v[m]=f[m].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,v){var x=r?r+u:u;if(!this._events[x])return!1;var b=this._events[x],y=arguments.length,p,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,m),!0;case 5:return b.fn.call(b.context,d,f,m,h),!0;case 6:return b.fn.call(b.context,d,f,m,h,v),!0}for(_=1,p=new Array(y-1);_<y;_++)p[_-1]=arguments[_];b.fn.apply(b.context,p)}else{var w=b.length,j;for(_=0;_<w;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),y){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,f);break;case 4:b[_].fn.call(b[_].context,d,f,m);break;default:if(!p)for(j=1,p=new Array(y-1);j<y;j++)p[j-1]=arguments[j];b[_].fn.apply(b[_].context,p)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!m||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var x=0,b=[],y=v.length;x<y;x++)(v[x].fn!==d||m&&!v[x].once||f&&v[x].context!==f)&&b.push(v[x]);b.length?this._events[h]=b.length===1?b[0]:b:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(sD);var aX=sD.exports;const iX=ka(aX);var Qc=new iX,o0="recharts.syncEvent.tooltip",OC="recharts.syncEvent.brush";function oX(e,t){if(t){var r=Number.parseInt(t,10);if(!xn(r))return e==null?void 0:e[r]}}var sX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lD=mr({name:"options",initialState:sX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lX=lD.reducer,{createEventEmitter:cX}=lD.actions;function uX(e){return e.tooltip.syncInteraction}var dX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cD=mr({name:"chartData",initialState:dX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:AC,setDataStartEndIndexes:fX,setComputedData:qre}=cD.actions,hX=cD.reducer,mX=["x","y"];function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t,r){return(t=gX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yX(e,t){if(e==null)return{};var r,n,a=bX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xX(){var e=ne(Vx),t=ne(Kx),r=at(),n=ne(FN),a=ne(Ba),i=Tu(),o=Jm(),l=ne(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return Eu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:v,y:x}=h,b=yX(h,mX),{x:y,y:p,width:_,height:w}=d.payload.sourceViewBox,j=Vo(Vo({},b),{},{x:o.x+(_?(v-y)/_:0)*o.width,y:o.y+(w?(x-p)/w:0)*o.height});r(Vo(Vo({},d),{},{payload:Vo(Vo({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var C;if(typeof n=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(a,S);C=a[E]}else n==="value"&&(C=a.find(P=>String(P.value)===d.payload.label));var{coordinate:k}=d.payload;if(C==null||d.payload.active===!1||k==null||o==null){r(n0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:R}=k,A=Math.min(O,o.x+o.width),z=Math.min(R,o.y+o.height),T={x:i==="horizontal"?C.coordinate:A,y:i==="horizontal"?z:C.coordinate},q=n0({active:d.payload.active,coordinate:T,dataKey:d.payload.dataKey,index:String(C.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(q)}}};return Qc.on(o0,c),()=>{Qc.off(o0,c)}},[l,r,t,e,n,a,i,o])}function wX(){var e=ne(Vx),t=ne(Kx),r=at();g.useEffect(()=>{if(e==null)return Eu;var n=(a,i,o)=>{t!==o&&e===a&&r(fX(i))};return Qc.on(OC,n),()=>{Qc.off(OC,n)}},[r,t,e])}function _X(){var e=at();g.useEffect(()=>{e(cX())},[e]),xX(),wX()}function jX(e,t,r,n,a,i){var o=ne(h=>TY(h,e,t)),l=ne(Kx),c=ne(Vx),u=ne(FN),d=ne(uX),f=d==null?void 0:d.active,m=Jm();g.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=n0({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});Qc.emit(o0,c,h,l)}},[f,r,o,a,n,l,c,u,i,m])}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){SX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OX(e){return e.dataKey}function AX(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(pW,t)}var NC=[],kX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function TX(e){var t,r,n=zr(e,kX),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:h,reverseDirection:v,useTranslate3d:x,wrapperStyle:b,cursor:y,shared:p,trigger:_,defaultIndex:w,portal:j,axisId:C}=n,S=at(),E=typeof w=="number"?String(w):w;g.useEffect(()=>{S(EG({shared:p,trigger:_,axisId:C,active:a,defaultIndex:E}))},[S,p,_,C,a,E]);var k=Jm(),O=D5(),R=xG(p),{activeIndex:A,isActive:z}=(t=ne(M=>DY(M,R,_,E)))!==null&&t!==void 0?t:{},T=ne(M=>NY(M,R,_,E)),q=ne(M=>aD(M,R,_,E)),P=ne(M=>RY(M,R,_,E)),B=T,D=nX(),N=(r=a??z)!==null&&r!==void 0?r:!1,[L,Y]=r7([B,N]),G=R==="axis"?q:void 0;jX(R,_,P,G,A,N);var ie=j??D;if(ie==null||k==null||R==null)return null;var J=B??NC;N||(J=NC),u&&J.length&&(J=xU(J.filter(M=>M.value!=null&&(M.hide!==!0||n.includeHidden)),m,OX));var he=J.length>0,ce=g.createElement(_W,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:N,coordinate:P,hasPayload:he,offset:f,position:h,reverseDirection:v,useTranslate3d:x,viewBox:k,wrapperStyle:b,lastBoundingBox:L,innerRef:Y,hasPortalFromProps:!!j},AX(c,RC(RC({},n),{},{payload:J,label:G,active:N,activeIndex:A,coordinate:P,accessibilityLayer:O})));return g.createElement(g.Fragment,null,ri.createPortal(ce,ie),N&&g.createElement(rX,{cursor:y,tooltipEventType:R,coordinate:P,payload:J,index:A}))}var y1=e=>null;y1.displayName="Cell";function RX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PX{constructor(t){RX(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){zX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zX(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LX={cacheSize:2e3,enableCache:!0},uD=MX({},LX),PC=new PX(uD.cacheSize),$X={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MC="recharts_measurement_span";function UX(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var zC=(e,t)=>{try{var r=document.getElementById(MC);r||(r=document.createElement("span"),r.setAttribute("id",MC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,$X,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},pc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||np.isSsr)return{width:0,height:0};if(!uD.enableCache)return zC(t,r);var n=UX(t,r),a=PC.get(n);if(a)return a;var i=zC(t,r);return PC.set(n,i),i},dD;function qX(e,t,r){return(t=WX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GX=["cm","mm","pt","pc","in","Q","px"];function YX(e){return GX.includes(e)}var fs="NaN";function XX(e,t){return e*KX[t]}class zt{static parse(t){var r,[,n,a]=(r=VX.exec(t))!==null&&r!==void 0?r:[];return n==null?zt.NaN:new zt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,xn(t)&&(this.unit=""),r!==""&&!FX.test(r)&&(this.num=NaN,this.unit=""),YX(r)&&(this.num=XX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new zt(NaN,""):new zt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new zt(NaN,""):new zt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zt(NaN,""):new zt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zt(NaN,""):new zt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xn(this.num)}}dD=zt;qX(zt,"NaN",new dD(NaN,""));function fD(e){if(e==null||e.includes(fs))return fs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=BC.exec(t))!==null&&r!==void 0?r:[],o=zt.parse(n??""),l=zt.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return fs;t=t.replace(BC,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=IC.exec(t))!==null&&u!==void 0?u:[],h=zt.parse(d??""),v=zt.parse(m??""),x=f==="+"?h.add(v):h.subtract(v);if(x.isNaN())return fs;t=t.replace(IC,x.toString())}return t}var LC=/\(([^()]*)\)/;function ZX(e){for(var t=e,r;(r=LC.exec(t))!=null;){var[,n]=r;t=t.replace(LC,fD(n))}return t}function JX(e){var t=e.replace(/\s+/g,"");return t=ZX(t),t=fD(t),t}function QX(e){try{return JX(e)}catch{return fs}}function Yg(e){var t=QX(e.slice(5,-1));return t===fs?"":t}var eZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],tZ=["dx","dy","angle","className","breakAll"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}function $C(e,t){if(e==null)return{};var r,n,a=rZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hD=/[ \f\n\r\t\v\u2028\u2029]+/,mD=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];kt(t)||(r?a=t.toString().split(""):a=t.toString().split(hD));var i=a.map(l=>({word:l,width:pc(l,n).width})),o=r?0:pc("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function nZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var pD=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),gD=e=>e.reduce((t,r)=>t.width>r.width?t:r),aZ="",UC=(e,t,r,n,a,i,o,l)=>{var c=e.slice(0,t),u=mD({breakAll:r,style:n,children:c+aZ});if(!u)return[!1,[]];var d=pD(u.wordsWithComputedWidth,i,o,l),f=d.length>a||gD(d).width>Number(i);return[f,d]},iZ=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=ee(i),d=String(o),f=pD(t,n,r,a);if(!u||a)return f;var m=f.length>i||gD(f).width>Number(n);if(!m)return f;for(var h=0,v=d.length-1,x=0,b;h<=v&&x<=d.length-1;){var y=Math.floor((h+v)/2),p=y-1,[_,w]=UC(d,p,c,l,i,n,r,a),[j]=UC(d,y,c,l,i,n,r,a);if(!_&&!j&&(h=y+1),_&&j&&(v=y-1),!_&&j){b=w;break}x++}return b||f},qC=e=>{var t=kt(e)?[]:e.toString().split(hD);return[{words:t,width:void 0}]},oZ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!np.isSsr){var l,c,u=mD({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return qC(n);return iZ({breakAll:i,children:n,maxLines:o,style:a},l,c,t,!!r)}return qC(n)},vD="#808080",sZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:vD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},b1=g.forwardRef((e,t)=>{var r=zr(e,sZ),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=$C(r,eZ),m=g.useMemo(()=>oZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:h,dy:v,angle:x,className:b,breakAll:y}=f,p=$C(f,tZ);if(!In(n)||!In(a)||m.length===0)return null;var _=Number(n)+(ee(h)?h:0),w=Number(a)+(ee(v)?v:0);if(!Ge(_)||!Ge(w))return null;var j;switch(d){case"start":j=Yg("calc(".concat(o,")"));break;case"middle":j=Yg("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=Yg("calc(".concat(m.length-1," * -").concat(i,")"));break}var C=[];if(c){var S=m[0].width,{width:E}=f;C.push("scale(".concat(ee(E)&&ee(S)?E/S:1,")"))}return x&&C.push("rotate(".concat(x,", ").concat(_,", ").concat(w,")")),C.length&&(p.transform=C.join(" ")),g.createElement("text",s0({},en(p),{ref:t,x:_,y:w,className:We("recharts-text",b),textAnchor:u,fill:l.includes("url")?vD:l}),m.map((k,O)=>{var R=k.words.join(y?"":" ");return g.createElement("tspan",{x:_,dy:O===0?j:i,key:"".concat(R,"-").concat(O)},R)}))});b1.displayName="Text";var lZ=["labelRef"],cZ=["content"];function WC(e,t){if(e==null)return{};var r,n,a=uZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){dZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t,r){return(t=fZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},na.apply(null,arguments)}var yD=g.createContext(null),mZ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,c=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return g.createElement(yD.Provider,{value:c},l)},bD=()=>{var e=g.useContext(yD),t=Jm();return e||_5(t)},pZ=g.createContext(null),gZ=()=>{var e=g.useContext(pZ),t=ne(XN);return e||t},vZ=e=>{var{value:t,formatter:r}=e,n=kt(e.children)?t:e.children;return typeof r=="function"?r(n):n},x1=e=>e!=null&&typeof e=="function",yZ=(e,t)=>{var r=lr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},bZ=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:h}=a,v=(u+d)/2,x=yZ(f,m),b=x>=0?1:-1,y,p;switch(t){case"insideStart":y=f+b*i,p=h;break;case"insideEnd":y=m-b*i,p=!h;break;case"end":y=m+b*i,p=h;break;default:throw new Error("Unsupported position ".concat(t))}p=x<=0?p:!p;var _=Ut(l,c,v,y),w=Ut(l,c,v,y+(p?1:-1)*359),j="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(p?0:1,`,
    `).concat(w.x,",").concat(w.y),C=kt(e.id)?$c("recharts-radial-line-"):e.id;return g.createElement("text",na({},n,{dominantBaseline:"central",className:We("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:C,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(C)},r))},xZ=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Ut(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:h,y:v}=Ut(n,a,m,u);return{x:h,y:v,textAnchor:"middle",verticalAnchor:"middle"}},l0=e=>"cx"in e&&ee(e.cx),wZ=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!l0(r)&&(i=r);var{x:o,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=o,m=o+(c-u)/2,h=(f+m)/2,v=(c+u)/2,x=f+c/2,b=d>=0?1:-1,y=b*n,p=b>0?"end":"start",_=b>0?"start":"end",w=c>=0?1:-1,j=w*n,C=w>0?"end":"start",S=w>0?"start":"end";if(a==="top"){var E={x:f+c/2,y:l-y,textAnchor:"middle",verticalAnchor:p};return tt(tt({},E),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var k={x:m+u/2,y:l+d+y,textAnchor:"middle",verticalAnchor:_};return tt(tt({},k),i?{height:Math.max(i.y+i.height-(l+d),0),width:u}:{})}if(a==="left"){var O={x:h-j,y:l+d/2,textAnchor:C,verticalAnchor:"middle"};return tt(tt({},O),i?{width:Math.max(O.x-i.x,0),height:d}:{})}if(a==="right"){var R={x:h+v+j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return tt(tt({},R),i?{width:Math.max(i.x+i.width-R.x,0),height:d}:{})}var A=i?{width:v,height:d}:{};return a==="insideLeft"?tt({x:h+j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},A):a==="insideRight"?tt({x:h+v-j,y:l+d/2,textAnchor:C,verticalAnchor:"middle"},A):a==="insideTop"?tt({x:f+c/2,y:l+y,textAnchor:"middle",verticalAnchor:_},A):a==="insideBottom"?tt({x:m+u/2,y:l+d-y,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?tt({x:f+j,y:l+y,textAnchor:S,verticalAnchor:_},A):a==="insideTopRight"?tt({x:f+c-j,y:l+y,textAnchor:C,verticalAnchor:_},A):a==="insideBottomLeft"?tt({x:m+j,y:l+d-y,textAnchor:S,verticalAnchor:p},A):a==="insideBottomRight"?tt({x:m+u-j,y:l+d-y,textAnchor:C,verticalAnchor:p},A):a&&typeof a=="object"&&(ee(a.x)||_a(a.x))&&(ee(a.y)||_a(a.y))?tt({x:o+wn(a.x,v),y:l+wn(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):tt({x,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},_Z={angle:0,offset:5,zIndex:Qt.label,position:"middle",textBreakAll:!1};function Ya(e){var t=zr(e,_Z),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=gZ(),f=bD(),m=n==="center"?f:d??f,h,v,x;if(r==null?h=m:l0(r)?h=r:h=_5(r),!h||kt(a)&&kt(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var b=tt(tt({},t),{},{viewBox:h});if(g.isValidElement(o)){var{labelRef:y}=b,p=WC(b,lZ);return g.cloneElement(o,p)}if(typeof o=="function"){var{content:_}=b,w=WC(b,cZ);if(v=g.createElement(o,w),g.isValidElement(v))return v}else v=vZ(t);var j=en(t);if(l0(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return bZ(t,n,v,j,h);x=xZ(h,t.offset,t.position)}else x=wZ(t,h);return g.createElement(Ia,{zIndex:t.zIndex},g.createElement(b1,na({ref:u,className:We("recharts-label",l)},j,x,{textAnchor:nZ(j.textAnchor)?j.textAnchor:x.textAnchor,breakAll:c}),v))}Ya.displayName="Label";var jZ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(Ya,na({key:"label-implicit"},n)):In(e)?g.createElement(Ya,na({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===Ya?g.cloneElement(e,tt({key:"label-implicit"},n)):g.createElement(Ya,na({key:"label-implicit",content:e},n)):x1(e)?g.createElement(Ya,na({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(Ya,na({},e,{key:"label-implicit"},n)):null};function SZ(e){var{label:t,labelRef:r}=e,n=bD();return jZ(t,n,r)||null}var xD={},wD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(wD);var _D={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(_D);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wD,r=_D,n=Mm;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(xD);var CZ=xD.last;const EZ=ka(CZ);var OZ=["valueAccessor"],AZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zh.apply(null,arguments)}function FC(e,t){if(e==null)return{};var r,n,a=kZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TZ=e=>Array.isArray(e.value)?EZ(e.value):e.value,jD=g.createContext(void 0),RZ=jD.Provider,SD=g.createContext(void 0);SD.Provider;function NZ(){return g.useContext(jD)}function DZ(){return g.useContext(SD)}function cf(e){var{valueAccessor:t=TZ}=e,r=FC(e,OZ),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,c=FC(r,AZ),u=NZ(),d=DZ(),f=u||d;return!f||!f.length?null:g.createElement(Ia,{zIndex:l??Qt.label},g.createElement(wa,{className:"recharts-label-list"},f.map((m,h)=>{var v,x=kt(n)?t(m,h):Wt(m&&m.payload,n),b=kt(i)?{}:{id:"".concat(i,"-").concat(h)};return g.createElement(Ya,zh({key:"label-".concat(h)},en(m),c,b,{fill:(v=r.fill)!==null&&v!==void 0?v:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:o,viewBox:m.viewBox,index:h,zIndex:0}))})))}cf.displayName="LabelList";function PZ(e){var{label:t}=e;return t?t===!0?g.createElement(cf,{key:"labelList-implicit"}):g.isValidElement(t)||x1(t)?g.createElement(cf,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(cf,zh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var MZ={radiusAxis:{},angleAxis:{}},CD=mr({name:"polarAxis",initialState:MZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Wre,removeRadiusAxis:Hre,addAngleAxis:Fre,removeAngleAxis:Vre}=CD.actions,zZ=CD.reducer,ED={exports:{}},Pe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1=Symbol.for("react.transitional.element"),_1=Symbol.for("react.portal"),wp=Symbol.for("react.fragment"),_p=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),Sp=Symbol.for("react.consumer"),Cp=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),kp=Symbol.for("react.memo"),Tp=Symbol.for("react.lazy"),BZ=Symbol.for("react.view_transition"),IZ=Symbol.for("react.client.reference");function on(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case w1:switch(e=e.type,e){case wp:case jp:case _p:case Op:case Ap:case BZ:return e;default:switch(e=e&&e.$$typeof,e){case Cp:case Ep:case Tp:case kp:return e;case Sp:return e;default:return t}}case _1:return t}}}Pe.ContextConsumer=Sp;Pe.ContextProvider=Cp;Pe.Element=w1;Pe.ForwardRef=Ep;Pe.Fragment=wp;Pe.Lazy=Tp;Pe.Memo=kp;Pe.Portal=_1;Pe.Profiler=jp;Pe.StrictMode=_p;Pe.Suspense=Op;Pe.SuspenseList=Ap;Pe.isContextConsumer=function(e){return on(e)===Sp};Pe.isContextProvider=function(e){return on(e)===Cp};Pe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===w1};Pe.isForwardRef=function(e){return on(e)===Ep};Pe.isFragment=function(e){return on(e)===wp};Pe.isLazy=function(e){return on(e)===Tp};Pe.isMemo=function(e){return on(e)===kp};Pe.isPortal=function(e){return on(e)===_1};Pe.isProfiler=function(e){return on(e)===jp};Pe.isStrictMode=function(e){return on(e)===_p};Pe.isSuspense=function(e){return on(e)===Op};Pe.isSuspenseList=function(e){return on(e)===Ap};Pe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wp||e===jp||e===_p||e===Op||e===Ap||typeof e=="object"&&e!==null&&(e.$$typeof===Tp||e.$$typeof===kp||e.$$typeof===Cp||e.$$typeof===Sp||e.$$typeof===Ep||e.$$typeof===IZ||e.getModuleId!==void 0)};Pe.typeOf=on;ED.exports=Pe;var LZ=ED.exports,VC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",KC=null,Xg=null,OD=e=>{if(e===KC&&Array.isArray(Xg))return Xg;var t=[];return g.Children.forEach(e,r=>{kt(r)||(LZ.isFragment(r)?t=t.concat(OD(r.props.children)):t.push(r))}),Xg=t,KC=e,t};function $Z(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>VC(a)):n=[VC(t)],OD(e).forEach(a=>{var i=Bs(a,"type.displayName")||Bs(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var AD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(AD);var UZ=AD.isPlainObject;const qZ=ka(UZ);var GC,YC,XC,ZC,JC;function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){WZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WZ(e,t,r){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=FZ(e,"string");return typeof t=="symbol"?t:t+""}function FZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}function $l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var tE=(e,t,r,n,a)=>{var i=r-n,o;return o=Qe(GC||(GC=$l(["M ",",",""])),e,t),o+=Qe(YC||(YC=$l(["L ",",",""])),e+r,t),o+=Qe(XC||(XC=$l(["L ",",",""])),e+r-i/2,t+a),o+=Qe(ZC||(ZC=$l(["L ",",",""])),e+r-i/2-n,t+a),o+=Qe(JC||(JC=$l(["L ",","," Z"])),e,t),o},VZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KZ=e=>{var t=zr(e,VZ),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=g.useRef(null),[h,v]=g.useState(-1),x=g.useRef(a),b=g.useRef(i),y=g.useRef(o),p=g.useRef(r),_=g.useRef(n),w=bx(e,"trapezoid-");if(g.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var T=m.current.getTotalLength();T&&v(T)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=We("recharts-trapezoid",l);if(!f)return g.createElement("g",null,g.createElement("path",Bh({},en(t),{className:j,d:tE(r,n,a,i,o)})));var C=x.current,S=b.current,E=y.current,k=p.current,O=_.current,R="0px ".concat(h===-1?1:h,"px"),A="".concat(h,"px 0px"),z=M5(["strokeDasharray"],u,c);return g.createElement(yx,{animationId:w,key:w,canBegin:h>0,duration:u,easing:c,isActive:f,begin:d},T=>{var q=Bt(C,a,T),P=Bt(S,i,T),B=Bt(E,o,T),D=Bt(k,r,T),N=Bt(O,n,T);m.current&&(x.current=q,b.current=P,y.current=B,p.current=D,_.current=N);var L=T>0?{transition:z,strokeDasharray:A}:{strokeDasharray:R};return g.createElement("path",Bh({},en(t),{className:j,d:tE(D,N,q,P,B),ref:m,style:eE(eE({},L),t.style)}))})},GZ=["option","shapeType","activeClassName"];function YZ(e,t){if(e==null)return{};var r,n,a=XZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){ZZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZZ(e,t,r){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eJ(e,t){return Ih(Ih({},t),e)}function tJ(e,t){return e==="symbols"}function nE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(L5,r);case"trapezoid":return g.createElement(KZ,r);case"sector":return g.createElement(q5,r);case"symbols":if(tJ(t))return g.createElement(iR,r);break;case"curve":return g.createElement(P5,r);default:return null}}function rJ(e){return g.isValidElement(e)?e.props:e}function nJ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=YZ(e,GZ),i;if(g.isValidElement(t))i=g.cloneElement(t,Ih(Ih({},a),rJ(t)));else if(typeof t=="function")i=t(a,a.index);else if(qZ(t)&&typeof t!="boolean"){var o=eJ(t,a);i=g.createElement(nE,{shapeType:r,elementProps:o})}else{var l=a;i=g.createElement(nE,{shapeType:r,elementProps:l})}return a.isActive?g.createElement(wa,{className:n},i):i}var kD=(e,t,r)=>{var n=at();return(a,i)=>o=>{e==null||e(a,i,o),n(L4({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},TD=e=>{var t=at();return(r,n)=>a=>{e==null||e(r,n,a),t(OG())}},RD=(e,t,r)=>{var n=at();return(a,i)=>o=>{e==null||e(a,i,o),n(AG({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function aJ(e){var{tooltipEntrySettings:t}=e,r=at(),n=pr(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(jG(t)):a.current!==t&&r(SG({prev:a.current,next:t})),a.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{a.current&&(r(CG(a.current)),a.current=null)},[r]),null}function iJ(e){var{legendPayload:t}=e,r=at(),n=pr(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(sW(t)):a.current!==t&&r(lW({prev:a.current,next:t})),a.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{a.current&&(r(cW(a.current)),a.current=null)},[r]),null}var Zg,oJ=()=>{var[e]=g.useState(()=>$c("uid-"));return e},sJ=(Zg=BE.useId)!==null&&Zg!==void 0?Zg:oJ;function lJ(e,t){var r=sJ();return t||(e?"".concat(e,"-").concat(r):r)}var cJ=g.createContext(void 0),uJ=e=>{var{id:t,type:r,children:n}=e,a=lJ("recharts-".concat(r),t);return g.createElement(cJ.Provider,{value:a},n(a))},dJ={cartesianItems:[],polarItems:[]},ND=mr({name:"graphicalItems",initialState:dJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Fe()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=gn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Fe()},removeCartesianGraphicalItem:{reducer(e,t){var r=gn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Fe()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Fe()},removePolarGraphicalItem:{reducer(e,t){var r=gn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Fe()}}}),{addCartesianGraphicalItem:fJ,replaceCartesianGraphicalItem:hJ,removeCartesianGraphicalItem:mJ,addPolarGraphicalItem:Kre,removePolarGraphicalItem:Gre}=ND.actions,pJ=ND.reducer,gJ=e=>{var t=at(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(fJ(e)):r.current!==e&&t(hJ({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(mJ(r.current)),r.current=null)},[t]),null},vJ=g.memo(gJ);function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){yJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t,r){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DD=0,wJ={xAxis:{},yAxis:{},zAxis:{}},PD=mr({name:"cartesianAxis",initialState:wJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Fe()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Fe()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Fe()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Fe()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Fe()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Fe()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Fe()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Fe()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Fe()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=iE(iE({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:_J,replaceXAxis:jJ,removeXAxis:SJ,addYAxis:CJ,replaceYAxis:EJ,removeYAxis:OJ,addZAxis:Yre,replaceZAxis:Xre,removeZAxis:Zre,updateYAxisWidth:AJ}=PD.actions,kJ=PD.reducer,TJ=$([Tt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),RJ=$([TJ,Ra,Na],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),MD=()=>ne(RJ),oE=(e,t,r)=>{var n=r??e;if(!kt(n))return wn(n,t,0)},NJ=(e,t,r)=>{var n={},a=e.filter(mp),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,m=f.map(v=>v.dataKey),h=oE(t,r,f[0].barSize);return{stackId:d,dataKeys:m,barSize:h}}),c=i.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=oE(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(r),!0).forEach(function(n){DJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DJ(e,t,r){return(t=PJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PJ(e){var t=MJ(e,"string");return typeof t=="symbol"?t:t+""}function MJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zJ(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=wn(e,r,0,!0),l,c=[];if(Ge(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((y,p)=>y+(p.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var m=(r-f)/2>>0,h={offset:m-o,size:0};l=n.reduce((y,p)=>{var _,w={stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:h.offset+h.size+o,size:u?d:(_=p.barSize)!==null&&_!==void 0?_:0}},j=[...y,w];return h=j[j.length-1].position,j},c)}else{var v=wn(t,r,0,!0);r-2*v-(i-1)*o<=0&&(o=0);var x=(r-2*v-(i-1)*o)/i;x>1&&(x>>=0);var b=Ge(a)?Math.min(x,a):x;l=n.reduce((y,p,_)=>[...y,{stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:v+(x+o)*_+(x-b)/2,size:b}}],c)}return l}}var BJ=(e,t,r,n,a,i,o)=>{var l=kt(o)?t:o,c=zJ(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>Ld(Ld({},u),{},{position:Ld(Ld({},u.position),{},{offset:u.position.offset-a/2})}))),c},IJ=(e,t)=>{var r=Zx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function LJ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ge(e.zIndex)?e.zIndex:t}var $J=e=>{var{chartData:t}=e,r=at(),n=pr();return g.useEffect(()=>n?()=>{}:(r(AC(t)),()=>{r(AC(void 0))}),[t,r,n]),null},lE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zD=mr({name:"brush",initialState:lE,reducers:{setBrushSettings(e,t){return t.payload==null?lE:t.payload}}}),{setBrushSettings:Jre}=zD.actions,UJ=zD.reducer;function qJ(e,t,r){return(t=WJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class j1{static create(t){return new j1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}qJ(j1,"EPS",1e-4);function FJ(e){return(e%180+180)%180}var VJ=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=FJ(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},KJ={dots:[],areas:[],lines:[]},BD=mr({name:"referenceElements",initialState:KJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=gn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=gn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=gn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Qre,removeDot:ene,addArea:tne,removeArea:rne,addLine:nne,removeLine:ane}=BD.actions,GJ=BD.reducer,YJ=g.createContext(void 0),XJ=e=>{var{children:t}=e,[r]=g.useState("".concat($c("recharts"),"-clip")),n=MD();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return g.createElement(YJ.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function ID(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function ZJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return VJ(n,r)}function JJ(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function eu(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function QJ(e,t){return ID(e,t+1)}function eQ(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:ID(n,u)};var x=c,b,y=()=>(b===void 0&&(b=r(v,x)),b),p=v.coordinate,_=c===0||eu(e,p,y,d,l);_||(c=0,d=o,u+=1),_&&(d=p+e*(y()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function tQ(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:l,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,m=!0,h=function(){var p=n[v],_=v,w,j=()=>(w===void 0&&(w=r(p,_)),w),C=p.coordinate,S=v===d||eu(e,C,j,f,c);if(!S)return m=!1,1;S&&(f=C+e*(j()/2+a))},v=d;v<o&&!h();v+=u);if(m){for(var x=[],b=d;b<o;b+=u)x.push(n[b]);return x}}return[]}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iQ(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(m){var h=i[m],v,x=()=>(v===void 0&&(v=r(h,m)),v);if(m===o-1){var b=e*(h.coordinate+e*x()/2-c);i[m]=h=Ft(Ft({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else i[m]=h=Ft(Ft({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var y=eu(e,h.tickCoord,x,l,c);y&&(c=h.tickCoord-e*(x()/2+a),i[m]=Ft(Ft({},h),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function oQ(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Ft(Ft({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var h=eu(e,d.tickCoord,()=>f,c,u);h&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Ft(Ft({},d),{},{isShow:!0}))}}for(var v=i?l-1:l,x=function(p){var _=o[p],w,j=()=>(w===void 0&&(w=r(_,p)),w);if(p===0){var C=e*(_.coordinate-e*j()/2-c);o[p]=_=Ft(Ft({},_),{},{tickCoord:C<0?_.coordinate-C*e:_.coordinate})}else o[p]=_=Ft(Ft({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var S=eu(e,_.tickCoord,j,c,u);S&&(c=_.tickCoord+e*(j()/2+a),o[p]=Ft(Ft({},_),{},{isShow:!0}))}},b=0;b<v;b++)x(b);return o}function S1(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(ee(c)||np.isSsr){var m;return(m=QJ(a,ee(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],v=l==="top"||l==="bottom"?"width":"height",x=d&&v==="width"?pc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(_,w)=>{var j=typeof u=="function"?u(_.value,w):_.value;return v==="width"?ZJ(pc(j,{fontSize:t,letterSpacing:r}),x,f):pc(j,{fontSize:t,letterSpacing:r})[v]},y=a.length>=2?lr(a[1].coordinate-a[0].coordinate):1,p=JJ(i,y,v);return c==="equidistantPreserveStart"?eQ(y,p,b,a,o):c==="equidistantPreserveEnd"?tQ(y,p,b,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=oQ(y,p,b,a,o,c==="preserveStartEnd"):h=iQ(y,p,b,a,o),h.filter(_=>_.isShow))}var sQ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},lQ=["axisLine","width","height","className","hide","ticks","axisType"];function cQ(e,t){if(e==null)return{};var r,n,a=uQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(null,arguments)}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){dQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dQ(e,t,r){return(t=fQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ha={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qt.axis};function mQ(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=ot(ot(ot({},c),xa(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=ot(ot({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=ot(ot({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return g.createElement("line",xo({},u,{className:We("recharts-cartesian-axis-line",Bs(l,"className"))}))}function pQ(e,t,r,n,a,i,o,l,c){var u,d,f,m,h,v,x=l?-1:1,b=e.tickSize||o,y=ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,m=r+ +!l*a,f=m-x*b,v=f-x*c,h=y;break;case"left":f=m=e.coordinate,d=t+ +!l*n,u=d-x*b,h=u-x*c,v=y;break;case"right":f=m=e.coordinate,d=t+ +l*n,u=d+x*b,h=u+x*c,v=y;break;default:u=d=e.coordinate,m=r+ +l*a,f=m+x*b,v=f+x*c,h=y;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:h,y:v}}}function gQ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function vQ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function yQ(e){var{option:t,tickProps:r,value:n}=e,a,i=We(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,ot(ot({},r),{},{className:i}));else if(typeof t=="function")a=t(ot(ot({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=We(o,t==null?void 0:t.className)),a=g.createElement(b1,xo({},r,{className:o}),n)}return a}var bQ=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:m,y:h,width:v,height:x,tickSize:b,tickMargin:y,fontSize:p,letterSpacing:_,getTicksConfig:w,events:j,axisType:C}=e,S=S1(ot(ot({},w),{},{ticks:r}),p,_),E=gQ(d,f),k=vQ(d,f),O=xa(w),R=Fb(n),A={};typeof a=="object"&&(A=a);var z=ot(ot({},O),{},{fill:"none"},A),T=S.map(B=>ot({entry:B},pQ(B,m,h,v,x,d,b,f,y))),q=T.map(B=>{var{entry:D,line:N}=B;return g.createElement(wa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},a&&g.createElement("line",xo({},z,N,{className:We("recharts-cartesian-axis-tick-line",Bs(a,"className"))})))}),P=T.map((B,D)=>{var{entry:N,tick:L}=B,Y=ot(ot(ot(ot({textAnchor:E,verticalAnchor:k},O),{},{stroke:"none",fill:i},R),L),{},{index:D,payload:N,visibleTicksCount:S.length,tickFormatter:o,padding:c},u);return g.createElement(wa,xo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Xb(j,N,D)),n&&g.createElement(yQ,{option:n,tickProps:Y,value:"".concat(typeof o=="function"?o(N.value,D):N.value).concat(l||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},P.length>0&&g.createElement(Ia,{zIndex:Qt.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},P)),q.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},q))}),xQ=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:c}=e,u=cQ(e,lQ),[d,f]=g.useState(""),[m,h]=g.useState(""),v=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return sQ({ticks:v.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=g.useCallback(b=>{if(b){var y=b.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=y;var p=y[0];if(p){var _=window.getComputedStyle(p),w=_.fontSize,j=_.letterSpacing;(w!==d||j!==m)&&(f(w),h(j))}}},[d,m]);return o||n!=null&&n<=0||a!=null&&a<=0?null:g.createElement(Ia,{zIndex:e.zIndex},g.createElement(wa,{className:We("recharts-cartesian-axis",i)},g.createElement(mQ,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:xa(e)}),g.createElement(bQ,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(mZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(SZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),C1=g.forwardRef((e,t)=>{var r=zr(e,ha);return g.createElement(xQ,xo({},r,{ref:t}))});C1.displayName="CartesianAxis";var wQ=["x1","y1","x2","y2","key"],_Q=["offset"],jQ=["xAxisId","yAxisId"],SQ=["xAxisId","yAxisId"];function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(n){CQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CQ(e,t,r){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(null,arguments)}function Lh(e,t){if(e==null)return{};var r,n,a=AQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return g.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function LD(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:c,key:u}=r,d=Lh(r,wQ),f=(a=xa(d))!==null&&a!==void 0?a:{},{offset:m}=f,h=Lh(f,_Q);n=g.createElement("line",Ji({},h,{x1:i,y1:o,x2:l,y2:c,fill:"none",key:u}))}return n}function TQ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Lh(e,jQ),c=a.map((u,d)=>{var f=Vt(Vt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return g.createElement(LD,{key:"line-".concat(d),option:n,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function RQ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Lh(e,SQ),c=a.map((u,d)=>{var f=Vt(Vt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return g.createElement(LD,{option:n,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function NQ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],v=h?a+o-f:u[m+1]-f;if(v<=0)return null;var x=m%t.length;return g.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:v,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function DQ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],v=h?a+o-f:u[m+1]-f;if(v<=0)return null;var x=m%r.length;return g.createElement("rect",{key:"react-".concat(m),x:f,y:i,width:v,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var PQ=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return f5(S1(Vt(Vt(Vt({},ha),r),{},{ticks:h5(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},MQ=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return f5(S1(Vt(Vt(Vt({},ha),r),{},{ticks:h5(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},zQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Qt.grid};function $D(e){var t=S5(),r=C5(),n=j5(),a=Vt(Vt({},zr(e,zQ)),{},{x:ee(e.x)?e.x:n.left,y:ee(e.y)?e.y:n.top,width:ee(e.width)?e.width:n.width,height:ee(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:h}=a,v=pr(),x=ne(k=>vC(k,"xAxis",i,v)),b=ne(k=>vC(k,"yAxis",o,v));if(!Ln(u)||!Ln(d)||!ee(l)||!ee(c))return null;var y=a.verticalCoordinatesGenerator||PQ,p=a.horizontalCoordinatesGenerator||MQ,{horizontalPoints:_,verticalPoints:w}=a;if((!_||!_.length)&&typeof p=="function"){var j=m&&m.length,C=p({yAxis:b?Vt(Vt({},b),{},{ticks:j?m:b.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);hh(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}if((!w||!w.length)&&typeof y=="function"){var S=h&&h.length,E=y({xAxis:x?Vt(Vt({},x),{},{ticks:S?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);hh(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(w=E)}return g.createElement(Ia,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(kQ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(NQ,Ji({},a,{horizontalPoints:_})),g.createElement(DQ,Ji({},a,{verticalPoints:w})),g.createElement(TQ,Ji({},a,{offset:n,horizontalPoints:_,xAxis:x,yAxis:b})),g.createElement(RQ,Ji({},a,{offset:n,verticalPoints:w,xAxis:x,yAxis:b}))))}$D.displayName="CartesianGrid";var BQ={},UD=mr({name:"errorBars",initialState:BQ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:ine,replaceErrorBar:one,removeErrorBar:sne}=UD.actions,IQ=UD.reducer,LQ=["children"];function $Q(e,t){if(e==null)return{};var r,n,a=UQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},WQ=g.createContext(qQ);function HQ(e){var{children:t}=e,r=$Q(e,LQ);return g.createElement(WQ.Provider,{value:r},t)}function qD(e,t){var r,n,a=ne(u=>Ma(u,e)),i=ne(u=>za(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:_t.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:jt.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function FQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=MD(),{needClipX:i,needClipY:o,needClip:l}=qD(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var VQ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=g;function KQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GQ=typeof Object.is=="function"?Object.is:KQ,YQ=Hu.useSyncExternalStore,XQ=Hu.useRef,ZQ=Hu.useEffect,JQ=Hu.useMemo,QQ=Hu.useDebugValue;VQ.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=XQ(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=JQ(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var v=o.value;if(a(v,h))return f=v}return f=h}if(v=f,GQ(d,h))return v;var x=n(h);return a!==void 0&&a(v,x)?(d=h,v):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=YQ(e,i[0],i[1]);return ZQ(function(){o.hasValue=!0,o.value=l},[l]),QQ(l),l};function eee(e){e()}function tee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eee(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var fE={notify(){},get:()=>[]};function ree(e,t){let r,n=fE,a=0,i=!1;function o(x){d();const b=n.subscribe(x);let y=!1;return()=>{y||(y=!0,b(),f())}}function l(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=tee())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=fE)}function m(){i||(i=!0,d())}function h(){i&&(i=!1,f())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return v}var nee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aee=nee(),iee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oee=iee(),see=()=>aee||oee?g.useLayoutEffect:g.useEffect,lee=see();function hE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cee(e,t){if(hE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!hE(e[r[a]],t[r[a]]))return!1;return!0}var Jg=Symbol.for("react-redux-context"),Qg=typeof globalThis<"u"?globalThis:{};function uee(){if(!g.createContext)return{};const e=Qg[Jg]??(Qg[Jg]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var dee=uee();function fee(e){const{children:t,context:r,serverState:n,store:a}=e,i=g.useMemo(()=>{const c=ree(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=g.useMemo(()=>a.getState(),[a]);lee(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||dee;return g.createElement(l.Provider,{value:i},t)}var hee=fee,mee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function pee(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function E1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(mee.has(n)){if(e[n]==null&&t[n]==null)continue;if(!cee(e[n],t[n]))return!1}else if(!pee(e[n],t[n]))return!1;return!0}function No(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:DD}function Do(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:DD}var gee="Invariant failed";function vee(e,t){throw new Error(gee)}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(null,arguments)}function $h(e){return g.createElement(nJ,c0({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var yee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ee(t))return t;var i=ee(n)||kt(n);return i?t(n,a):(i||vee(),r)}},bee=(e,t,r)=>r,xee=(e,t)=>t,Fu=$([Qx,xee],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),wee=$([Fu],e=>e==null?void 0:e.maxBarSize),_ee=(e,t,r,n)=>n,jee=$([Oe,Qx,No,Do,bee],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),See=(e,t,r)=>{var n=Oe(e),a=No(e,t),i=Do(e,t);if(!(a==null||i==null))return n==="horizontal"?r0(e,"yAxis",i,r):r0(e,"xAxis",a,r)},Cee=(e,t)=>{var r=Oe(e),n=No(e,t),a=Do(e,t);if(!(n==null||a==null))return r==="horizontal"?gC(e,"xAxis",n):gC(e,"yAxis",a)},Eee=$([jee,gK,Cee],NJ),Oee=(e,t,r)=>{var n,a,i=Fu(e,t);if(i!=null){var o=No(e,t),l=Do(e,t);if(!(o==null||l==null)){var c=Oe(e),u=qN(e),{maxBarSize:d}=i,f=kt(d)?u:d,m,h;return c==="horizontal"?(m=Fs(e,"xAxis",o,r),h=Hs(e,"xAxis",o,r)):(m=Fs(e,"yAxis",l,r),h=Hs(e,"yAxis",l,r)),(n=(a=fh(m,h,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},WD=(e,t,r)=>{var n=Oe(e),a=No(e,t),i=Do(e,t);if(!(a==null||i==null)){var o,l;return n==="horizontal"?(o=Fs(e,"xAxis",a,r),l=Hs(e,"xAxis",a,r)):(o=Fs(e,"yAxis",i,r),l=Hs(e,"yAxis",i,r)),fh(o,l)}},Aee=$([Eee,qN,pK,WN,Oee,WD,wee],BJ),kee=(e,t,r)=>{var n=No(e,t);if(n!=null)return Fs(e,"xAxis",n,r)},Tee=(e,t,r)=>{var n=Do(e,t);if(n!=null)return Fs(e,"yAxis",n,r)},Ree=(e,t,r)=>{var n=No(e,t);if(n!=null)return Hs(e,"xAxis",n,r)},Nee=(e,t,r)=>{var n=Do(e,t);if(n!=null)return Hs(e,"yAxis",n,r)},Dee=$([Aee,Fu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Pee=$([See,Fu],IJ),Mee=$([Tt,mx,kee,Tee,Ree,Nee,Dee,Oe,nK,WD,Pee,Fu,_ee],(e,t,r,n,a,i,o,l,c,u,d,f,m)=>{var{chartData:h,dataStartIndex:v,dataEndIndex:x}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:b}=f,y;if(b!=null&&b.length>0?y=b:y=h==null?void 0:h.slice(v,x+1),y!=null)return ute({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:m,dataStartIndex:v})}}),zee=["index"];function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(null,arguments)}function Bee(e,t){if(e==null)return{};var r,n,a=Iee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HD=g.createContext(void 0),Lee=e=>{var t=g.useContext(HD);if(t!=null)return t.stackId;if(e!=null)return hq(e)},$ee=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Uee=e=>{var t=g.useContext(HD);if(t!=null){var{stackId:r}=t;return"url(#".concat($ee(r,e),")")}},qee=e=>{var{index:t}=e,r=Bee(e,zee),n=Uee(t);return g.createElement(wa,u0({className:"recharts-bar-stack-layer",clipPath:n},r))},Wee=["onMouseEnter","onMouseLeave","onClick"],Hee=["value","background","tooltipPosition"],Fee=["id"],Vee=["onMouseEnter","onClick","onMouseLeave"];function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(null,arguments)}function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){Kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kee(e,t,r){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uh(e,t){if(e==null)return{};var r,n,a=Xee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zee=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:m5(r,t),payload:e}]},Jee=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:m5(i,t),hide:o,type:c,color:a,unit:l,graphicalItemId:u}};return g.createElement(aJ,{tooltipEntrySettings:d})});function Qee(e){var t=ne(Vs),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=Uh(i,Wee),d=kD(o,n,i.id),f=TD(l),m=RD(c,n,i.id);if(!a||r==null)return null;var h=Fb(a);return g.createElement(Ia,{zIndex:LJ(a,Qt.barBackground)},r.map((v,x)=>{var{value:b,background:y,tooltipPosition:p}=v,_=Uh(v,Hee);if(!y)return null;var w=d(v,x),j=f(v,x),C=m(v,x),S=Xt(Xt(Xt(Xt(Xt({option:a,isActive:String(x)===t},_),{},{fill:"#eee"},y),h),Xb(u,v,x)),{},{onMouseEnter:w,onMouseLeave:j,onClick:C,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return g.createElement($h,Aa({key:"background-bar-".concat(x)},S))}))}function ete(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Xt(Xt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return g.createElement(RZ,{value:t?a:void 0},r)}function tte(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=ne(Vs),c=ne(Q4),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return u?g.createElement(Ia,{zIndex:Qt.activeBar},g.createElement($h,Aa({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):g.createElement($h,Aa({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function rte(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return g.createElement($h,Aa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function nte(e){var t,{data:r,props:n}=e,a=(t=xa(n))!==null&&t!==void 0?t:{},{id:i}=a,o=Uh(a,Fee),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:m}=n,h=Uh(n,Vee),v=kD(d,c,i),x=TD(m),b=RD(f,c,i);return r?g.createElement(g.Fragment,null,r.map((y,p)=>g.createElement(qee,Aa({index:p,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(p),className:"recharts-bar-rectangle"},Xb(h,y,p),{onMouseEnter:v(y,p),onMouseLeave:x(y,p),onClick:b(y,p)}),u?g.createElement(tte,{shape:l,activeBar:u,baseProps:o,entry:y,index:p,dataKey:c}):g.createElement(rte,{shape:l,baseProps:o,entry:y,index:p,dataKey:c})))):null}function ate(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=bx(t,"recharts-bar-"),[h,v]=g.useState(!1),x=!h,b=g.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),y=g.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return g.createElement(ete,{showLabels:x,rects:n},g.createElement(yx,{animationId:m,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:y,key:m},p=>{var _=p===1?n:n==null?void 0:n.map((w,j)=>{var C=f&&f[j];if(C)return Xt(Xt({},w),{},{x:Bt(C.x,w.x,p),y:Bt(C.y,w.y,p),width:Bt(C.width,w.width,p),height:Bt(C.height,w.height,p)});if(a==="horizontal"){var S=Bt(0,w.height,p),E=Bt(w.stackedBarStart,w.y,p);return Xt(Xt({},w),{},{y:E,height:S})}var k=Bt(0,w.width,p),O=Bt(w.stackedBarStart,w.x,p);return Xt(Xt({},w),{},{width:k,x:O})});return p>0&&(r.current=_??null),_==null?null:g.createElement(wa,null,g.createElement(nte,{props:t,data:_}))}),g.createElement(PZ,{label:t.label}),t.children)}function ite(e){var t=g.useRef(null);return g.createElement(ate,{previousRectanglesRef:t,props:e})}var FD=0,ote=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Wt(e,t)}};class ste extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=We("recharts-bar",a),f=u;return g.createElement(wa,{className:d,id:u},l&&g.createElement("defs",null,g.createElement(FQ,{clipPathId:f,xAxisId:i,yAxisId:o})),g.createElement(wa,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},g.createElement(Qee,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(ite,this.props)))}}var lte={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:FD,xAxisId:0,yAxisId:0,zIndex:Qt.bar};function cte(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=qD(t,r),m=Tu(),h=pr(),v=$Z(e.children,y1),x=ne(p=>Mee(p,e.id,h,v));if(m!=="vertical"&&m!=="horizontal")return null;var b,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?b=0:b=m==="vertical"?y.height/2:y.width/2,g.createElement(HQ,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:ote,errorBarOffset:b},g.createElement(ste,Aa({},e,{layout:m,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function ute(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:h,parentViewBox:v,dataStartIndex:x}=e,b=t==="horizontal"?l:o,y=d?b.scale.domain():null,p=mq({numericAxis:b}),_=b.scale(p);return f.map((w,j)=>{var C,S,E,k,O,R;if(d){var A=d[j+x];if(A==null)return null;C=lq(A,y)}else C=Wt(w,r),Array.isArray(C)||(C=[p,C]);var z=yee(n,FD)(C[1],j);if(t==="horizontal"){var T,[q,P]=[l.scale(C[0]),l.scale(C[1])];S=Tj({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:w,index:j}),E=(T=P??q)!==null&&T!==void 0?T:void 0,k=a.size;var B=q-P;if(O=xn(B)?0:B,R={x:S,y:m.top,width:k,height:m.height},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var D=lr(O||z)*(Math.abs(z)-Math.abs(O));E-=D,O+=D}}else{var[N,L]=[o.scale(C[0]),o.scale(C[1])];if(S=N,E=Tj({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:w,index:j}),k=L-N,O=a.size,R={x:m.left,y:E,width:m.width,height:O},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var Y=lr(k||z)*(Math.abs(z)-Math.abs(k));k+=Y}}if(S==null||E==null||k==null||O==null)return null;var G=Xt(Xt({},w),{},{stackedBarStart:_,x:S,y:E,width:k,height:O,value:d?C:C[1],payload:w,background:R,tooltipPosition:{x:S+k/2,y:E+O/2},parentViewBox:v},h&&h[j]&&h[j].props);return G}).filter(Boolean)}function dte(e){var t=zr(e,lte),r=Lee(t.stackId),n=pr();return g.createElement(uJ,{id:t.id,type:"bar"},a=>g.createElement(g.Fragment,null,g.createElement(iJ,{legendPayload:Zee(t)}),g.createElement(Jee,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),g.createElement(vJ,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),g.createElement(Ia,{zIndex:t.zIndex},g.createElement(cte,Aa({},t,{id:a})))))}var VD=g.memo(dte,E1);VD.displayName="Bar";var fte=["domain","range"],hte=["domain","range"];function pE(e,t){if(e==null)return{};var r,n,a=mte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gE(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function KD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=pE(e,fte),{domain:i,range:o}=t,l=pE(t,hte);return!gE(r,i)||!gE(n,o)?!1:E1(a,l)}var pte=["dangerouslySetInnerHTML","ticks","scale"],gte=["id","scale"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d0.apply(null,arguments)}function vE(e,t){if(e==null)return{};var r,n,a=vte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yte(e){var t=at(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(_J(e)):r.current!==e&&t(jJ({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(SJ(r.current)),r.current=null)},[t]),null}var bte=e=>{var{xAxisId:t,className:r}=e,n=ne(mx),a=pr(),i="xAxis",o=ne(y=>D4(y,i,t,a)),l=ne(y=>k4(y,t)),c=ne(y=>hG(y,t)),u=ne(y=>JN(y,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:m}=e,h=vE(e,pte),{id:v,scale:x}=u,b=vE(u,gte);return g.createElement(C1,d0({},h,b,{x:c.x,y:c.y,width:l.width,height:l.height,className:We("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},xte={allowDataOverflow:_t.allowDataOverflow,allowDecimals:_t.allowDecimals,allowDuplicatedCategory:_t.allowDuplicatedCategory,angle:_t.angle,axisLine:ha.axisLine,height:_t.height,hide:!1,includeHidden:_t.includeHidden,interval:_t.interval,minTickGap:_t.minTickGap,mirror:_t.mirror,orientation:_t.orientation,padding:_t.padding,reversed:_t.reversed,scale:_t.scale,tick:_t.tick,tickCount:_t.tickCount,tickLine:ha.tickLine,tickSize:ha.tickSize,type:_t.type,xAxisId:0},wte=e=>{var t=zr(e,xte);return g.createElement(g.Fragment,null,g.createElement(yte,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(bte,t))},GD=g.memo(wte,KD);GD.displayName="XAxis";var _te=["dangerouslySetInnerHTML","ticks","scale"],jte=["id","scale"];function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f0.apply(null,arguments)}function yE(e,t){if(e==null)return{};var r,n,a=Ste(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ste(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cte(e){var t=at(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(CJ(e)):r.current!==e&&t(EJ({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(OJ(r.current)),r.current=null)},[t]),null}var Ete=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=g.useRef(null),o=g.useRef(null),l=ne(mx),c=pr(),u=at(),d="yAxis",f=ne(C=>T4(C,t)),m=ne(C=>pG(C,t)),h=ne(C=>D4(C,d,t,c)),v=ne(C=>QN(C,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!f||x1(a)||g.isValidElement(a)||v==null)){var C=i.current;if(C){var S=C.getCalculatedWidth();Math.round(f.width)!==Math.round(S)&&u(AJ({id:t,width:S}))}}},[h,f,u,a,t,n,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:b,scale:y}=e,p=yE(e,_te),{id:_,scale:w}=v,j=yE(v,jte);return g.createElement(C1,f0({},p,j,{ref:i,labelRef:o,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:We("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:h,axisType:d}))},Ote={allowDataOverflow:jt.allowDataOverflow,allowDecimals:jt.allowDecimals,allowDuplicatedCategory:jt.allowDuplicatedCategory,angle:jt.angle,axisLine:ha.axisLine,hide:!1,includeHidden:jt.includeHidden,interval:jt.interval,minTickGap:jt.minTickGap,mirror:jt.mirror,orientation:jt.orientation,padding:jt.padding,reversed:jt.reversed,scale:jt.scale,tick:jt.tick,tickCount:jt.tickCount,tickLine:ha.tickLine,tickSize:ha.tickSize,type:jt.type,width:jt.width,yAxisId:0},Ate=e=>{var t=zr(e,Ote);return g.createElement(g.Fragment,null,g.createElement(Cte,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(Ete,t))},YD=g.memo(Ate,KD);YD.displayName="YAxis";var kte=(e,t)=>t,O1=$([kte,Oe,XN,xt,Y4,Ba,kY,Tt],zY),A1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},XD=tn("mouseClick"),ZD=Au();ZD.startListening({actionCreator:XD,effect:(e,t)=>{var r=e.payload,n=O1(t.getState(),A1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(kG({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var h0=tn("mouseMove"),JD=Au(),$d=null;JD.startListening({actionCreator:h0,effect:(e,t)=>{var r=e.payload;$d!==null&&cancelAnimationFrame($d);var n=A1(r);$d=requestAnimationFrame(()=>{var a=t.getState(),i=l1(a,a.tooltip.settings.shared);if(i==="axis"){var o=O1(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(U4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch($4())}$d=null})}});function Tte(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var bE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},QD=mr({name:"rootProps",initialState:bE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:bE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Rte=QD.reducer,{updateOptions:Nte}=QD.actions,eP=mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:lne}=eP.actions,Dte=eP.reducer,tP=tn("keyDown"),rP=tn("focus"),k1=Au();k1.startListening({actionCreator:tP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=c1(a,bl(r),Iu(r),qu(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=Ba(r);if(i==="Enter"){var u=Mh(r,"axis","hover",String(a.index));t.dispatch(a0({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=bG(r),f=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,h=l+m*f;if(!(c==null||h>=c.length||h<0)){var v=Mh(r,"axis","hover",String(h));t.dispatch(a0({active:!0,activeIndex:h.toString(),activeCoordinate:v}))}}}}}});k1.startListening({actionCreator:rP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Mh(r,"axis","hover",String(i));t.dispatch(a0({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ur=tn("externalEvent"),nP=Au(),ev=new Map;nP.startListening({actionCreator:Ur,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=ev.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:mY(l),activeDataKey:Q4(l),activeIndex:Vs(l),activeLabel:J4(l),activeTooltipIndex:Vs(l),isTooltipActive:pY(l)};r(c,n)}finally{ev.delete(a)}});ev.set(a,o)}}});var Pte=$([vl],e=>e.tooltipItemPayloads),Mte=$([Pte,Uu,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),aP=tn("touchMove"),iP=Au();iP.startListening({actionCreator:aP,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=l1(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=O1(n,A1({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(U4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(wq),f=(l=u.getAttribute(_q))!==null&&l!==void 0?l:void 0,m=yl(n).find(x=>x.id===f);if(d==null||m==null||f==null)return;var{dataKey:h}=m,v=Mte(n,d,f);t.dispatch(L4({activeDataKey:h,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var zte=BR({brush:UJ,cartesianAxis:kJ,chartData:hX,errorBars:IQ,graphicalItems:pJ,layout:rq,legend:uW,options:lX,polarAxis:zZ,polarOptions:Dte,referenceElements:GJ,rootProps:Rte,tooltip:TG,zIndex:XY}),Bte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return O7({reducer:zte,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([ZD.middleware,JD.middleware,k1.middleware,nP.middleware,iP.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(JR({type:"raf"}))},devTools:{serialize:{replacer:Tte},name:"recharts-".concat(r)}})};function Ite(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=pr(),i=g.useRef(null);if(a)return r;i.current==null&&(i.current=Bte(t,n));var o=ix;return g.createElement(hee,{context:o,store:i.current},r)}function Lte(e){var{layout:t,margin:r}=e,n=at(),a=pr();return g.useEffect(()=>{a||(n(Q7(t)),n(J7(r)))},[n,a,t,r]),null}var $te=g.memo(Lte,E1);function Ute(e){var t=at();return g.useEffect(()=>{t(Nte(e))},[t,e]),null}function xE(e){var{zIndex:t,isPanorama:r}=e,n=g.useRef(null),a=at();return g.useLayoutEffect(()=>(n.current&&a(GY({zIndex:t,element:n.current,isPanorama:r})),()=>{a(YY({zIndex:t,isPanorama:r}))}),[a,t,r]),g.createElement("g",{tabIndex:-1,ref:n})}function wE(e){var{children:t,isPanorama:r}=e,n=ne(IY);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return g.createElement(g.Fragment,null,a.map(o=>g.createElement(xE,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>g.createElement(xE,{key:o,zIndex:o,isPanorama:r})))}var qte=["children"];function Wte(e,t){if(e==null)return{};var r,n,a=Hte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(null,arguments)}var Fte={width:"100%",height:"100%",display:"block"},Vte=g.forwardRef((e,t)=>{var r=S5(),n=C5(),a=D5();if(!Ln(r)||!Ln(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),g.createElement(IT,qh({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Fte,ref:t}),i)}),Kte=e=>{var{children:t}=e,r=ne(Zm);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return g.createElement(IT,{width:n,height:a,x:o,y:i},t)},_E=g.forwardRef((e,t)=>{var{children:r}=e,n=Wte(e,qte),a=pr();return a?g.createElement(Kte,null,g.createElement(wE,{isPanorama:!0},r)):g.createElement(Vte,qh({ref:t},n),g.createElement(wE,{isPanorama:!1},r))});function Gte(){var e=at(),[t,r]=g.useState(null),n=ne(xq);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Ge(i)&&i!==n&&e(tq(i))}},[t,e,n]),r}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){Xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xte(e,t,r){return(t=Zte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zte(e){var t=Jte(e,"string");return typeof t=="symbol"?t:t+""}function Jte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(null,arguments)}var Qte=()=>(_X(),null);function Wh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ere=g.forwardRef((e,t)=>{var r,n,a=g.useRef(null),[i,o]=g.useState({containerWidth:Wh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Wh((n=e.style)===null||n===void 0?void 0:n.height)}),l=g.useCallback((u,d)=>{o(f=>{var m=Math.round(u),h=Math.round(d);return f.containerWidth===m&&f.containerHeight===h?f:{containerWidth:m,containerHeight:h}})},[]),c=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var m=v=>{var{width:x,height:b}=v[0].contentRect;l(x,b)},h=new ResizeObserver(m);h.observe(u),a.current=h}},[t,l]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),g.createElement(g.Fragment,null,g.createElement(Qm,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",wo({ref:c},e)))}),tre=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=g.useState({containerWidth:Wh(r),containerHeight:Wh(n)}),o=g.useCallback((c,u)=>{i(d=>{var f=Math.round(c),m=Math.round(u);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),l=g.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(Qm,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",wo({ref:l},e)))}),rre=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(Qm,{width:r,height:n}),g.createElement("div",wo({ref:t},e)))}),nre=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return _a(r)||_a(n)?g.createElement(tre,wo({},e,{ref:t})):g.createElement(rre,wo({},e,{ref:t}))});function are(e){return e===!0?ere:nre}var ire=g.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:v,onTouchStart:x,style:b,width:y,responsive:p,dispatchTouchEvents:_=!0}=e,w=g.useRef(null),j=at(),[C,S]=g.useState(null),[E,k]=g.useState(null),O=Gte(),R=px(),A=(R==null?void 0:R.width)>0?R.width:y,z=(R==null?void 0:R.height)>0?R.height:a,T=g.useCallback(I=>{O(I),typeof t=="function"&&t(I),S(I),k(I),I!=null&&(w.current=I)},[O,t,S,k]),q=g.useCallback(I=>{j(XD(I)),j(Ur({handler:i,reactEvent:I}))},[j,i]),P=g.useCallback(I=>{j(h0(I)),j(Ur({handler:u,reactEvent:I}))},[j,u]),B=g.useCallback(I=>{j($4()),j(Ur({handler:d,reactEvent:I}))},[j,d]),D=g.useCallback(I=>{j(h0(I)),j(Ur({handler:f,reactEvent:I}))},[j,f]),N=g.useCallback(()=>{j(rP())},[j]),L=g.useCallback(I=>{j(tP(I.key))},[j]),Y=g.useCallback(I=>{j(Ur({handler:o,reactEvent:I}))},[j,o]),G=g.useCallback(I=>{j(Ur({handler:l,reactEvent:I}))},[j,l]),ie=g.useCallback(I=>{j(Ur({handler:c,reactEvent:I}))},[j,c]),J=g.useCallback(I=>{j(Ur({handler:m,reactEvent:I}))},[j,m]),he=g.useCallback(I=>{j(Ur({handler:x,reactEvent:I}))},[j,x]),ce=g.useCallback(I=>{_&&j(aP(I)),j(Ur({handler:v,reactEvent:I}))},[j,_,v]),M=g.useCallback(I=>{j(Ur({handler:h,reactEvent:I}))},[j,h]),Z=are(p);return g.createElement(oD.Provider,{value:C},g.createElement(y9.Provider,{value:E},g.createElement(Z,{width:A??(b==null?void 0:b.width),height:z??(b==null?void 0:b.height),className:We("recharts-wrapper",n),style:Yte({position:"relative",cursor:"default",width:A,height:z},b),onClick:q,onContextMenu:Y,onDoubleClick:G,onFocus:N,onKeyDown:L,onMouseDown:ie,onMouseEnter:P,onMouseLeave:B,onMouseMove:D,onMouseUp:J,onTouchEnd:M,onTouchMove:ce,onTouchStart:he,ref:T},g.createElement(Qte,null),r)))}),ore=["width","height","responsive","children","className","style","compact","title","desc"];function sre(e,t){if(e==null)return{};var r,n,a=lre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cre=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:c,title:u,desc:d}=e,f=sre(e,ore),m=xa(f);return c?g.createElement(g.Fragment,null,g.createElement(Qm,{width:r,height:n}),g.createElement(_E,{otherAttributes:m,title:u,desc:d},i)):g.createElement(ire,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(_E,{otherAttributes:m,title:u,desc:d,ref:t},g.createElement(XJ,null,i)))});function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(null,arguments)}var ure={top:5,right:5,bottom:5,left:5},dre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ure,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},fre=g.forwardRef(function(t,r){var n,a=zr(t.categoricalChartProps,dre),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(Ite,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},g.createElement($J,{chartData:u.data}),g.createElement($te,{layout:a.layout,margin:a.margin}),g.createElement(Ute,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),g.createElement(cre,m0({},a,{ref:r})))}),hre=["axis","item"],mre=g.forwardRef((e,t)=>g.createElement(fre,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hre,tooltipPayloadSearcher:oX,categoricalChartProps:e,ref:t}));function pre({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=g.useState([]),[i,o]=g.useState(!1),[l,c]=g.useState(null);g.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),c(null);try{const{data:m,error:h}=await U.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(h)throw h;if(!m)throw new Error("Dados de irradincia no encontrados para este local.");const x=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(b=>{const y=Number(m[b.key]),p=y?t*y:0;return{name:b.name,geracao:Math.round(p),factor:y}});a(x)}catch(m){console.error("Irradiance error:",m),c("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((m,h)=>m+h.geracao,0),f=n.length>0?d/12:0;return g.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?s.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):s.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Estimativa de Gerao Mensal"}),s.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",s.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),s.jsx("div",{style:{width:"100%",height:300},children:s.jsx(Vq,{children:s.jsxs(mre,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[s.jsx($D,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),s.jsx(GD,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),s.jsx(YD,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),s.jsx(TX,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:m=>[`${m.toLocaleString("pt-BR")} kWh`,"Gerao"]}),s.jsx(VD,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((m,h)=>s.jsx(y1,{fill:"var(--color-orange)"},`cell-${h}`))})]})})}),s.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}const Ud=({title:e,icon:t,children:r,defaultOpen:n=!1,color:a="var(--color-blue)",rightContent:i})=>{const[o,l]=g.useState(n);return s.jsxs("div",{style:{marginBottom:"1rem",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",background:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[s.jsxs("div",{style:{padding:"1rem",background:o?`${a}10`:"white",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:o?"1px solid #e2e8f0":"none",transition:"background 0.2s"},children:[s.jsxs("div",{onClick:()=>l(!o),style:{display:"flex",alignItems:"center",gap:"0.8rem",fontWeight:"bold",color:a,cursor:"pointer",flex:1},children:[t&&s.jsx(t,{size:20}),s.jsx("span",{style:{fontSize:"1rem"},children:e}),o?s.jsx(Qk,{size:20,color:"#64748b",style:{marginLeft:"auto"}}):s.jsx(Jk,{size:20,color:"#64748b",style:{marginLeft:"auto"}})]}),i&&s.jsx("div",{style:{marginLeft:"1rem"},children:i})]}),o&&s.jsx("div",{style:{padding:"1.5rem",animation:"fadeIn 0.3s ease-in-out"},children:r})]})},gre=({uc:e,index:t,onToggle:r,geracaoEstimada:n,onPreview:a,subscribers:i,isFixed:o})=>{const l=n>0?(e.franquia/n*100).toFixed(2):null,c=i==null?void 0:i.find(b=>b.id===e.titular_fatura_id),{attributes:u,listeners:d,setNodeRef:f,transform:m,transition:h,isDragging:v}=Am({id:e.id,disabled:o}),x={transform:yn.Transform.toString(m),transition:h,display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.85rem",padding:"0.8rem",border:"1px solid #8b5cf6",borderRadius:"6px",background:"white",cursor:"default",boxShadow:v?"0 8px 16px rgba(139, 92, 246, 0.15)":"none",zIndex:v?100:1,position:"relative",marginBottom:"0.5rem"};return s.jsxs("div",{ref:f,style:x,children:[!o&&s.jsx("div",{...u,...d,style:{cursor:"grab",display:"flex",alignItems:"center",color:"#94a3b8"},children:s.jsx(pI,{size:18})}),o&&s.jsx("div",{style:{width:"18px",display:"flex",alignItems:"center",color:"#cbd5e1"},children:s.jsx("div",{style:{width:"18px"}})}),s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#7c3aed",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:t+1}),s.jsx("input",{type:"checkbox",checked:!0,onChange:b=>r(b.target.checked),style:{transform:"scale(1.1)",accentColor:"#7c3aed",cursor:"pointer"}}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:e.numero_uc}),s.jsx("span",{style:{fontSize:"0.65rem",padding:"0.1rem 0.4rem",borderRadius:"4px",background:e.tipo_unidade==="geradora"?"#fef3c7":"#e0f2fe",color:e.tipo_unidade==="geradora"?"#92400e":"#075985",fontWeight:600,textTransform:"capitalize"},children:e.tipo_unidade||"Beneficiria"})]}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:e.titular_conta}),c&&s.jsxs("div",{style:{fontSize:"0.75rem",color:"#475569",fontWeight:600,marginTop:"0.2rem"},children:["Titular: ",c.name]}),s.jsxs("div",{style:{fontSize:"0.7rem",color:"#94a3b8"},children:["CPF/CNPJ: ",e.cpf_cnpj_fatura||(c==null?void 0:c.cpf_cnpj)||"No inf."]})]}),s.jsxs("div",{style:{textAlign:"right",display:"flex",alignItems:"center",gap:"0.8rem"},children:[s.jsxs("div",{children:[s.jsx("span",{style:{display:"block",fontSize:"0.65rem",color:"#94a3b8"},children:e.concessionaria}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#059669",fontWeight:"bold"},children:e.franquia?`${Math.round(e.franquia)} kWh`:"0 kWh"}),l&&s.jsxs("div",{style:{fontSize:"0.8rem",color:"#059669",fontWeight:"bold"},children:[l,"%"]})]}),s.jsx("button",{type:"button",onClick:()=>a(e),style:{background:"#f1f5f9",border:"none",borderRadius:"4px",padding:"0.4rem",color:"#64748b",cursor:"pointer"},children:s.jsx(Bc,{size:16})})]})]})};function vre({usina:e,onClose:t,onSave:r,onDelete:n}){var wl,Ku,Gu,Wn,Hn,La;const{showAlert:a,showConfirm:i}=hr(),[o,l]=g.useState([]),[c,u]=g.useState([]),[d,f]=g.useState(!1),[m,h]=g.useState(!1),v=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],x=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],b=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],y=(W,H,oe)=>{let ae=[];for(let be=W;be<=H;be+=oe)ae.push(be);return ae},p=y(460,800,5),_=[...y(1e3,7e3,1e3),7500,9e3,1e4,12500,...y(15e3,75e3,5e3),...y(1e5,3e5,25e3)],[w,j]=g.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:"",unidade_geradora:"",cnpj_cpf:"",rateio_type:"prioridade",portal_credentials:{url:"",login:"",password:""}}),[C,S]=g.useState([]),[E,k]=g.useState([]),[O,R]=g.useState([]),[A,z]=g.useState("linked"),[T,q]=g.useState(null),[P,B]=g.useState(!1),D=xm(bm(dl,{activationConstraint:{distance:8}})),[N,L]=g.useState(0),Y=E.reduce((W,H)=>W+(Number(H.consumo_medio_kwh)||Number(H.franquia)||0),0);g.useEffect(()=>{const W=Number(w.qtd_modulos)||0,H=Number(w.potencia_modulos_w)||0,oe=W*H/1e3;L(Number(oe.toFixed(2)))},[w.qtd_modulos,w.potencia_modulos_w]),g.useEffect(()=>{var W,H,oe,ae,be,Ze,Nt;K(),V(),re(),e&&(j({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?Te(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((W=e.address)==null?void 0:W.cep)||"",rua:((H=e.address)==null?void 0:H.rua)||"",numero:((oe=e.address)==null?void 0:oe.numero)||"",bairro:((ae=e.address)==null?void 0:ae.bairro)||"",cidade:((be=e.address)==null?void 0:be.cidade)||"",uf:((Ze=e.address)==null?void 0:Ze.uf)||"",ibge_code:e.ibge_code||((Nt=e.address)==null?void 0:Nt.ibge)||"",concessionaria:e.concessionaria||"",unidade_geradora:e.unidade_geradora||"",cnpj_cpf:e.cnpj_cpf||"",rateio_type:e.rateio_type||"prioridade",portal_credentials:e.portal_credentials||{url:"",login:"",password:""}}),G(e.id))},[e]),g.useEffect(()=>{I()},[e==null?void 0:e.id]);const G=async W=>{const{data:H}=await U.from("consumer_units").select("*").eq("usina_id",W).order("prioridade",{ascending:!0});H&&k(H)},[ie,J]=g.useState(!1),[he,ce]=g.useState(!1),[M,Z]=g.useState(!1),I=async()=>{if(!(e!=null&&e.id)&&!e){const{data:W}=await U.from("consumer_units").select("*").is("usina_id",null);S(W||[]);return}if(e!=null&&e.id){J(!0);try{const[W,H]=await Promise.all([U.from("consumer_units").select("*").eq("usina_id",e.id),U.from("consumer_units").select("*").is("usina_id",null)]),oe=[...W.data||[],...H.data||[]],ae=Array.from(new Map(oe.map(be=>[be.id,be])).values());S(ae)}catch(W){console.error("Error fetching UCs:",W)}finally{J(!1)}}},K=async()=>{const{data:W}=await U.from("suppliers").select("id, name").order("name");l(W||[])},re=async()=>{const{data:W}=await U.from("subscribers").select("id, name, cpf_cnpj");R(W||[])},V=async()=>{const{data:W}=await U.from("inverter_brands").select("name").order("name");u(W||[])},Te=W=>W===""||W===void 0||W===null?"":typeof W=="number"?W.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(W.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),me=W=>{const H=W.target.value.replace(/\D/g,"");if(!H){j({...w,valor_investido:""});return}const ae=(Number(H)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});j({...w,valor_investido:ae})},Ye=W=>{if(!W)return 0;const H=W.replace(/[^\d,]/g,"").replace(",",".");return Number(H)||0},Xe=W=>{j(H=>{const oe=H.servicos_contratados||[];return oe.includes(W)?{...H,servicos_contratados:oe.filter(ae=>ae!==W)}:{...H,servicos_contratados:[...oe,W]}})},Br=(W,H)=>{const oe=H.replace(/\D/g,""),ae=Number(oe)/100;j(be=>({...be,service_values:{...be.service_values,[W]:ae}}))},Pi=async()=>{const W=w.cep.replace(/\D/g,"");if(W.length===8){h(!0);try{const H=await Sn(W);if(j(oe=>({...oe,rua:H.rua||"",bairro:H.bairro||"",cidade:H.cidade||"",uf:H.uf||"",ibge_code:H.ibge||""})),H.ibge){const oe=await gu(H.ibge);oe&&oe.Concessionaria&&j(ae=>({...ae,concessionaria:oe.Concessionaria}))}}catch(H){console.error("Erro CEP",H)}finally{h(!1)}}},xl=g.useCallback(W=>{W&&j(H=>W!==Number(H.geracao_estimada_kwh)?{...H,geracao_estimada_kwh:W}:H)},[]),En=W=>{const{active:H,over:oe}=W;H.id!==oe.id&&k(ae=>{var Xu;const be=ae.findIndex(_l=>_l.id===H.id),Ze=ae.findIndex(_l=>_l.id===oe.id);if(((Xu=ae[0])==null?void 0:Xu.numero_uc)===w.unidade_geradora&&(be===0||Ze===0))return ae;const Fn=[...ae],[Yu]=Fn.splice(be,1);return Fn.splice(Ze,0,Yu),Fn})},Po=()=>{const W=A==="linked"?E:C.filter(H=>!E.some(oe=>oe.id===H.id));return W.length===0?s.jsxs("p",{style:{fontSize:"0.8rem",color:"#64748b",textAlign:"center",padding:"1rem"},children:["Nenhuma UC ",A==="linked"?"vinculada":"disponvel","."]}):A==="linked"&&w.rateio_type==="prioridade"?s.jsx(Sm,{sensors:D,collisionDetection:wm,onDragEnd:En,children:s.jsx(Om,{items:W.map(H=>H.id),strategy:Em,children:s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:W.map((H,oe)=>s.jsx(gre,{uc:H,index:oe,isSelected:!0,geracaoEstimada:w.geracao_estimada_kwh,subscribers:O,isFixed:oe===0&&H.numero_uc===w.unidade_geradora,onPreview:()=>{q(H),B(!0)},onToggle:async ae=>{if(oe===0&&H.numero_uc===w.unidade_geradora){a("A Unidade Geradora principal no pode ser removida por aqui. Altere na seo Identificao.","warning");return}ae||await i("Remover Vnculo?",`Deseja realmente remover a UC ${H.numero_uc} desta usina?`)&&k(E.filter(Ze=>Ze.id!==H.id))}},H.id))})})}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0.8rem"},children:W.map(H=>{const oe=E.some(ae=>ae.id===H.id);return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.85rem",padding:"0.8rem",border:oe?"1px solid #8b5cf6":"1px solid #ddd",borderRadius:"6px",background:oe?"white":"rgba(255,255,255,0.6)",transition:"0.2s",boxShadow:oe?"0 2px 4px rgba(139, 92, 246, 0.1)":"none"},children:[s.jsx("input",{type:"checkbox",checked:oe,onChange:async ae=>{const be=ae.target.checked;await i(`${be?"Vincular":"Remover"} UC?`,`Deseja realmente ${be?"vincular":"remover o vnculo da"} UC ${H.numero_uc}?`)&&k(be?[...E,H]:E.filter(Fn=>Fn.id!==H.id))},style:{transform:"scale(1.1)",accentColor:"#7c3aed",cursor:"pointer"}}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:H.numero_uc}),s.jsx("span",{style:{fontSize:"0.65rem",padding:"0.1rem 0.4rem",borderRadius:"4px",background:H.tipo_unidade==="geradora"?"#fef3c7":"#e0f2fe",color:H.tipo_unidade==="geradora"?"#92400e":"#075985",fontWeight:600,textTransform:"capitalize"},children:H.tipo_unidade||"Beneficiria"})]}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:H.titular_conta}),(()=>{const ae=O.find(be=>be.id===H.titular_fatura_id);return s.jsxs(s.Fragment,{children:[ae&&s.jsxs("div",{style:{fontSize:"0.75rem",color:"#475569",fontWeight:600,marginTop:"0.2rem"},children:["Titular: ",ae.name]}),s.jsxs("div",{style:{fontSize:"0.7rem",color:"#94a3b8"},children:["CPF/CNPJ: ",H.cpf_cnpj_fatura||(ae==null?void 0:ae.cpf_cnpj)||"No inf."]})]})})()]}),s.jsxs("div",{style:{textAlign:"right",display:"flex",alignItems:"center",gap:"0.8rem"},children:[s.jsxs("div",{children:[s.jsx("span",{style:{display:"block",fontSize:"0.65rem",color:"#94a3b8"},children:H.concessionaria}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#059669",fontWeight:"bold"},children:H.franquia?`${Math.round(H.franquia)} kWh`:"0 kWh"}),oe&&w.geracao_estimada_kwh>0&&s.jsxs("div",{style:{fontSize:"0.8rem",color:"#059669",fontWeight:"bold"},children:[(H.franquia/w.geracao_estimada_kwh*100).toFixed(2),"%"]})]}),s.jsx("button",{type:"button",onClick:()=>{q(H),B(!0)},style:{background:"#f1f5f9",border:"none",borderRadius:"4px",padding:"0.4rem",color:"#64748b",cursor:"pointer"},children:s.jsx(Bc,{size:16})})]})]},H.id)})})},Mo=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:H}=await U.from("usinas").delete().eq("id",e.id);if(H)throw H;n&&n(e.id),t()}catch(H){a("Erro ao excluir: "+H.message,"error")}finally{f(!1)}}},Vu=async W=>{W.preventDefault(),f(!0);try{const H=Ye(w.valor_investido),oe={supplier_id:w.supplier_id||null,name:w.name,concessionaria:w.concessionaria,status:w.status,modalidade:w.modalidade,valor_investido:H,potencia_kwp:Number(N),qtd_modulos:Number(w.qtd_modulos),potencia_modulos_w:Number(w.potencia_modulos_w),fabricante_inversor:w.fabricante_inversor,potencia_inversor_w:Number(w.potencia_inversor_w),geracao_estimada_kwh:Number(w.geracao_estimada_kwh),servicos_contratados:w.servicos_contratados,service_values:w.service_values,gestao_percentual:Number(w.gestao_percentual),ibge_code:w.ibge_code,unidade_geradora:w.unidade_geradora,cnpj_cpf:w.cnpj_cpf,rateio_type:w.rateio_type,portal_credentials:w.portal_credentials,address:{cep:w.cep,rua:w.rua,numero:w.numero,bairro:w.bairro,cidade:w.cidade,uf:w.uf,ibge:w.ibge_code}};let ae=e==null?void 0:e.id,be=null;if(e!=null&&e.id){const{data:Ze,error:Nt}=await U.from("usinas").update(oe).eq("id",e.id).select().single();Nt?be=Nt:Ze&&(ae=Ze.id)}else{const{data:Ze,error:Nt}=await U.from("usinas").insert(oe).select().single();Nt?be=Nt:Ze&&(ae=Ze.id)}if(be)throw be;if(ae&&(await U.from("consumer_units").update({usina_id:null,prioridade:null}).eq("usina_id",ae),E.length>0)){const Ze=E.map((Nt,Fn)=>U.from("consumer_units").update({usina_id:ae,prioridade:w.rateio_type==="prioridade"?Fn+1:null}).eq("id",Nt.id));await Promise.all(Ze)}r({id:ae}),t(),a("Usina salva com sucesso!","success")}catch(H){console.error("Save error:",H),a("Erro ao salvar usina: "+(H.message||JSON.stringify(H)),"error")}finally{f(!1)}};return s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:[s.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"850px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[s.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"1.5rem",color:"#1e293b",fontWeight:"bold"},children:e?e.name||w.name:"Nova Usina"}),s.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem",marginTop:"0.2rem"},children:"Configure os dados tcnicos e comerciais da usina"})]}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8",padding:"0.5rem"},children:s.jsx(ba,{size:24})})]}),s.jsxs("form",{onSubmit:Vu,style:{padding:"1.5rem"},children:[s.jsx(Ud,{title:"Identificao e Localizao",icon:OI,defaultOpen:!0,color:"#2563eb",rightContent:s.jsxs("button",{type:"button",onClick:W=>{W.stopPropagation(),ce(!0)},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.8rem",background:"#fef2f2",color:"#ef4444",borderRadius:"6px",border:"1px solid #fee2e2",fontSize:"0.85rem",fontWeight:600,cursor:"pointer",transition:"0.2s"},children:[s.jsx(Hf,{size:14})," Credenciais"]}),children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Nome da Usina"}),s.jsx("input",{required:!0,value:w.name,onChange:W=>j({...w,name:W.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"},placeholder:"Ex: Usina Solar Norte 01"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fornecedor / Proprietrio"}),s.jsxs("select",{required:!0,value:w.supplier_id,onChange:W=>j({...w,supplier_id:W.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione..."}),o.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"CEP"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{value:w.cep,onChange:W=>j({...w,cep:W.target.value}),onBlur:Pi,placeholder:"00000-000",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:m?"#f0f9ff":"white"}}),m&&s.jsx("span",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"0.8rem",color:"#3b82f6"},children:"..."})]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Cidade / UF"}),s.jsx("input",{value:w.cidade&&w.uf?`${w.cidade} / ${w.uf}`:"",disabled:!0,placeholder:"Preenchimento automtico",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f1f5f9",color:"#64748b"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Concessionria"}),s.jsx("input",{value:w.concessionaria,onChange:W=>j({...w,concessionaria:W.target.value}),placeholder:"Ex: Cemig",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.6rem",color:"#475569",fontWeight:600},children:"Unidade Geradora (Seleo nica)"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"0.8rem",maxHeight:"300px",overflowY:"auto",padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",background:"#f8fafc"},children:(()=>{const W=[...C,...E].filter(H=>H.tipo_unidade==="geradora");return W.length===0?s.jsx("p",{style:{fontSize:"0.8rem",color:"#64748b",padding:"1rem"},children:'Nenhuma UC do tipo "Geradora" encontrada.'}):W.map(H=>{const oe=w.unidade_geradora===H.numero_uc,ae=O.find(be=>be.id===H.titular_fatura_id);return s.jsxs("div",{onClick:()=>{oe?j({...w,unidade_geradora:"",cnpj_cpf:""}):(j({...w,unidade_geradora:H.numero_uc,cnpj_cpf:H.cpf_cnpj_fatura||(ae==null?void 0:ae.cpf_cnpj)||""}),k(be=>{const Ze=be.filter(Nt=>Nt.id!==H.id);return[H,...Ze]}))},style:{padding:"0.8rem",background:"white",border:oe?"2px solid #7c3aed":"1px solid #cbd5e1",borderRadius:"8px",cursor:"pointer",position:"relative",transition:"0.2s",boxShadow:oe?"0 4px 6px -1px rgba(124, 58, 237, 0.1)":"none"},children:[s.jsx("div",{style:{position:"absolute",top:"0.8rem",right:"0.8rem"},children:s.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",border:oe?"5px solid #7c3aed":"2px solid #cbd5e1",background:"white"}})}),s.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:H.numero_uc}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.2rem"},children:H.titular_conta}),ae&&s.jsx("div",{style:{fontSize:"0.75rem",color:"#475569",fontWeight:600},children:ae.name}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem"},children:[s.jsx("span",{style:{fontSize:"0.65rem",color:"#94a3b8"},children:H.concessionaria}),s.jsxs("span",{style:{fontSize:"0.8rem",color:"#059669",fontWeight:"bold"},children:[H.franquia," kWh"]})]})]},H.id)})})()})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"CNPJ/CPF"}),s.jsx("input",{value:w.cnpj_cpf,onChange:W=>j({...w,cnpj_cpf:W.target.value}),placeholder:"00.000.000/0001-00",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]})]})}),s.jsxs(Ud,{title:"Caractersticas Tcnicas",icon:Nb,defaultOpen:!0,color:"#ea580c",children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status Operacional"}),s.jsx("select",{value:w.status,onChange:W=>j({...w,status:W.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:v.map(W=>s.jsx("option",{value:W.value,children:W.label},W.value))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Modalidade"}),s.jsx("select",{value:w.modalidade,onChange:W=>j({...w,modalidade:W.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:x.map(W=>s.jsx("option",{value:W.value,children:W.label},W.value))})]}),s.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.5rem 0",gridColumn:"1 / -1"}}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Qtd. Mdulos"}),s.jsx("input",{type:"number",value:w.qtd_modulos,onChange:W=>j({...w,qtd_modulos:W.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Mdulo (W)"}),s.jsxs("select",{value:w.potencia_modulos_w,onChange:W=>j({...w,potencia_modulos_w:W.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione..."}),p.map(W=>s.jsxs("option",{value:W,children:[W," W"]},W))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fabricante Inversor"}),s.jsxs("select",{value:w.fabricante_inversor,onChange:W=>j({...w,fabricante_inversor:W.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione..."}),c.map(W=>s.jsx("option",{value:W.name,children:W.name},W.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Inversor (W)"}),s.jsxs("select",{value:w.potencia_inversor_w,onChange:W=>j({...w,potencia_inversor_w:W.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione..."}),_.map(W=>s.jsxs("option",{value:W,children:[W," W"]},W))]})]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#059669",fontWeight:600,marginBottom:"0.5rem"},children:[s.jsx(FB,{size:18}),s.jsx("span",{children:"Estimativa de Gerao (Irradincia)"})]}),s.jsx(pre,{ibgeCode:w.ibge_code,potenciaKwp:N,onCalculate:xl})]})]}),s.jsx(Ud,{title:"Gerao e Financeiro",icon:mm,color:"#16a34a",children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Valor Investido"}),s.jsx("input",{value:w.valor_investido,onChange:me,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Gerao Estimada (Mdia Mensal)"}),s.jsx("input",{type:"number",value:w.geracao_estimada_kwh,onChange:W=>j({...w,geracao_estimada_kwh:W.target.value}),placeholder:"Use o grfico para calcular",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f0fdf4"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Servios Contratados"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:b.map(W=>{var oe;const H=w.servicos_contratados.includes(W);return s.jsxs("div",{style:{border:H?"1px solid #16a34a":"1px solid #e2e8f0",borderRadius:"6px",padding:"0.5rem",background:H?"#f0fdf4":"white",transition:"0.2s"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",marginBottom:H?"0.5rem":"0"},children:[s.jsx("input",{type:"checkbox",checked:H,onChange:()=>Xe(W)}),s.jsx("span",{style:{fontSize:"0.9rem",fontWeight:H?600:400,color:H?"#166534":"#64748b"},children:W})]}),H&&s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",animation:"fadeIn 0.2s"},children:s.jsx("input",{placeholder:"Valor (R$)",value:Te((oe=w.service_values)==null?void 0:oe[W]),onChange:ae=>Br(W,ae.target.value),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}})}),H&&W==="Gesto"&&s.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("input",{type:"number",step:"0.01",placeholder:"%",value:w.gestao_percentual,onChange:ae=>j({...w,gestao_percentual:ae.target.value}),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}}),s.jsx("span",{style:{fontSize:"0.8rem",color:"#166534"},children:"%"})]})]},W)})})]})]})}),s.jsx(Ud,{title:"Vnculos com UCs",icon:Pb,color:"#7c3aed",children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[s.jsx("label",{style:{fontSize:"0.85rem",color:"#64748b",fontWeight:600},children:"Tipo de Rateio"}),s.jsxs("div",{style:{display:"flex",background:"#f1f5f9",padding:"0.25rem",borderRadius:"8px",width:"fit-content"},children:[s.jsx("button",{type:"button",onClick:async()=>{await i("Alterar Rateio?","Deseja alterar o tipo de rateio para Prioridade? A ordem das UCs ser preservada.")&&j({...w,rateio_type:"prioridade"})},style:{padding:"0.5rem 1rem",border:"none",borderRadius:"6px",fontSize:"0.85rem",fontWeight:600,background:w.rateio_type==="prioridade"?"white":"transparent",color:w.rateio_type==="prioridade"?"#7c3aed":"#64748b",boxShadow:w.rateio_type==="prioridade"?"0 1px 3px rgba(0,0,0,0.1)":"none",cursor:"pointer",transition:"0.2s"},children:"Prioridade"}),s.jsx("button",{type:"button",onClick:async()=>{await i("Alterar Rateio?","Deseja alterar o tipo de rateio para Porcentagem?")&&j({...w,rateio_type:"porcentagem"})},style:{padding:"0.5rem 1rem",border:"none",borderRadius:"6px",fontSize:"0.85rem",fontWeight:600,background:w.rateio_type==="porcentagem"?"white":"transparent",color:w.rateio_type==="porcentagem"?"#7c3aed":"#64748b",boxShadow:w.rateio_type==="porcentagem"?"0 1px 3px rgba(0,0,0,0.1)":"none",cursor:"pointer",transition:"0.2s"},children:"Porcentagem"})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[s.jsx("label",{style:{fontSize:"0.85rem",color:"#64748b",fontWeight:600},children:"Exibir UCs"}),s.jsxs("div",{style:{display:"flex",background:"#f1f5f9",padding:"0.25rem",borderRadius:"8px",width:"fit-content"},children:[s.jsx("button",{type:"button",onClick:()=>z("linked"),style:{padding:"0.5rem 1rem",border:"none",borderRadius:"6px",fontSize:"0.85rem",fontWeight:600,background:A==="linked"?"white":"transparent",color:A==="linked"?"#7c3aed":"#64748b",boxShadow:A==="linked"?"0 1px 3px rgba(0,0,0,0.1)":"none",cursor:"pointer",transition:"0.2s"},children:"Vinculadas"}),s.jsx("button",{type:"button",onClick:()=>z("unlinked"),style:{padding:"0.5rem 1rem",border:"none",borderRadius:"6px",fontSize:"0.85rem",fontWeight:600,background:A==="unlinked"?"white":"transparent",color:A==="unlinked"?"#7c3aed":"#64748b",boxShadow:A==="unlinked"?"0 1px 3px rgba(0,0,0,0.1)":"none",cursor:"pointer",transition:"0.2s"},children:"Sem vnculo"})]})]})]}),s.jsxs("div",{style:{background:"#f5f3ff",padding:"1rem",borderRadius:"8px",border:"1px solid #ede9fe"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.8rem"},children:[s.jsxs("div",{style:{fontSize:"0.9rem",color:"#5b21b6"},children:["Capacidade Comprometida: ",s.jsxs("strong",{children:[Y.toFixed(2)," kWh"]}),w.geracao_estimada_kwh>0&&s.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",color:Y>w.geracao_estimada_kwh?"#ef4444":"#166534"},children:["(",Math.round(Y/w.geracao_estimada_kwh*100),"% da Gerao)"]})]}),s.jsxs("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#059669"},children:["Total de Ucs Vinculadas: ",E.length]})]}),ie?s.jsx("p",{style:{fontSize:"0.8rem",color:"#64748b",textAlign:"center",padding:"1rem"},children:"Carregando unidades..."}):s.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:Po()}),s.jsx("div",{style:{marginTop:"1rem",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #ede9fe",paddingTop:"1rem"},children:s.jsx("button",{type:"button",style:{padding:"0.6rem 1.2rem",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.2)"},onClick:()=>a('Funo "Gerar Lista" em desenvolvimento.',"info"),children:"Gerar Lista"})})]})]})}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[s.jsx("div",{children:e&&n&&s.jsxs("button",{type:"button",onClick:Mo,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.7rem 1.2rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:[s.jsx(yu,{size:18})," Excluir Usina"]})}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:d,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":s.jsxs(s.Fragment,{children:[s.jsx(Tb,{size:18})," Salvar Usina"]})})]})]})]})]}),he&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100,animation:"fadeIn 0.2s ease-out"},children:s.jsxs("div",{style:{background:"white",borderRadius:"16px",width:"90%",maxWidth:"400px",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04)",position:"relative"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:"48px",height:"48px",background:"#fff7ed",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"#f97316"},children:s.jsx(Hf,{size:24})}),s.jsx("h4",{style:{fontSize:"1.25rem",fontWeight:700,color:"#1e293b",margin:0},children:"Credenciais"}),s.jsx("p",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"0.25rem"},children:"Acesso ao portal da concessionria"})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:600,color:"#475569",marginBottom:"0.4rem"},children:"URL do Portal"}),s.jsx("input",{type:"url",value:((wl=w.portal_credentials)==null?void 0:wl.url)||"",onChange:W=>j({...w,portal_credentials:{...w.portal_credentials,url:W.target.value}}),placeholder:"http://portal.concessionaria.com.br",style:{width:"100%",padding:"0.7rem",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.9rem",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:600,color:"#475569",marginBottom:"0.4rem"},children:"Email / Login"}),s.jsx("input",{type:"text",value:((Ku=w.portal_credentials)==null?void 0:Ku.login)||"",onChange:W=>j({...w,portal_credentials:{...w.portal_credentials,login:W.target.value}}),placeholder:"login@exemplo.com",style:{width:"100%",padding:"0.7rem",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.9rem",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:600,color:"#475569",marginBottom:"0.4rem"},children:"Senha"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:M?"text":"password",value:((Gu=w.portal_credentials)==null?void 0:Gu.password)||"",onChange:W=>j({...w,portal_credentials:{...w.portal_credentials,password:W.target.value}}),placeholder:"",style:{width:"100%",padding:"0.7rem",paddingRight:"2.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.9rem",outline:"none"}}),s.jsx("button",{type:"button",onClick:()=>Z(!M),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#94a3b8",cursor:"pointer",padding:"0.2rem"},children:M?s.jsx(Ab,{size:18}):s.jsx(Bc,{size:18})})]})]})]}),s.jsxs("div",{style:{marginTop:"2rem",display:"flex",gap:"0.8rem"},children:[s.jsx("button",{type:"button",onClick:()=>ce(!1),style:{flex:1,padding:"0.75rem",background:"#f8fafc",color:"#475569",border:"1px solid #e2e8f0",borderRadius:"8px",fontWeight:600,cursor:"pointer"},children:"Fechar"}),s.jsx("button",{type:"button",onClick:()=>ce(!1),style:{flex:1,padding:"0.75rem",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(239, 68, 68, 0.2)"},children:"Salvar"})]})]})}),P&&T&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1200,animation:"fadeIn 0.2s ease-out"},children:s.jsxs("div",{style:{background:"white",borderRadius:"16px",width:"95%",maxWidth:"600px",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)",position:"relative",maxHeight:"90vh",overflowY:"auto"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",borderBottom:"1px solid #f1f5f9",paddingBottom:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem"},children:[s.jsx("div",{style:{padding:"0.6rem",background:"#f5f3ff",color:"#7c3aed",borderRadius:"10px"},children:s.jsx(Ao,{size:24})}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:"1.2rem",fontWeight:700,color:"#1e293b",margin:0},children:"Detalhes da UC"}),s.jsxs("p",{style:{fontSize:"0.85rem",color:"#64748b",margin:0},children:["Visualizao bsica - ",s.jsx("strong",{children:((Wn=O.find(W=>W.id===T.subscriber_id))==null?void 0:Wn.name)||"N/A"})]})]})]}),s.jsx("button",{onClick:()=>B(!1),style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:s.jsx(ba,{size:24})})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"Nmero da UC"}),s.jsx("div",{style:{fontSize:"1rem",fontWeight:600,color:"#1e293b"},children:T.numero_uc})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"Status"}),s.jsx("span",{style:{fontSize:"0.85rem",padding:"0.2rem 0.6rem",borderRadius:"20px",background:"#f0fdf4",color:"#166534",fontWeight:600},children:(Hn=T.status)==null?void 0:Hn.replace("_"," ").toUpperCase()})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"3fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"Identificao da Fatura"}),s.jsx("div",{style:{fontSize:"1rem",color:"#1e293b"},children:T.titular_conta})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"Vencimento"}),s.jsxs("div",{style:{fontSize:"1rem",color:"#1e293b",fontWeight:600},children:["Dia ",T.dia_vencimento||"N/A"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"Titular da Fatura"}),s.jsx("div",{style:{fontSize:"0.9rem",color:"#475569"},children:((La=O.find(W=>W.id===T.titular_fatura_id))==null?void 0:La.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"CPF/CNPJ do Titular"}),s.jsx("div",{style:{fontSize:"0.9rem",color:"#475569"},children:T.cpf_cnpj_fatura||"N/A"})]}),s.jsx("div",{style:{height:"1px",background:"#f1f5f9",gridColumn:"1 / -1"}}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"Tipo de Unidade"}),s.jsx("div",{style:{fontSize:"0.9rem",color:"#475569",textTransform:"capitalize"},children:T.tipo_unidade||"Beneficiria"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"Concessionria"}),s.jsx("div",{style:{fontSize:"0.9rem",color:"#475569"},children:T.concessionaria})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"Franquia (kWh)"}),s.jsxs("div",{style:{fontSize:"1rem",fontWeight:700,color:"#059669"},children:[T.franquia," kWh"]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",marginBottom:"0.25rem"},children:"Dia de Leitura"}),s.jsx("div",{style:{fontSize:"0.9rem",color:"#475569"},children:T.dia_leitura||"N/A"})]})]}),s.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"flex-end"},children:s.jsx("button",{onClick:()=>B(!1),style:{padding:"0.7rem 2rem",background:"#f1f5f9",color:"#475569",border:"none",borderRadius:"8px",fontWeight:600,cursor:"pointer"},children:"Fechar"})})]})})]})}function yre({usina:e,closingId:t,onClose:r,onSave:n}){const{showAlert:a}=hr(),[i,o]=g.useState(!1),l=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],c=new Date().getFullYear(),u=[c-1,c,c+1],[d,f]=g.useState({ref_month:l[new Date().getMonth()],ref_year:c,closing_date:new Date().toISOString().split("T")[0],status:"rascunho",energia_gerada:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas_base:"",custo_disponibilidade:"",manutencao:"",arrendamento:"",servicos_total:"",taxa_gestao_percentual:"",taxa_gestao_valor:"",total_despesas:"",saldo_liquido:""}),m=j=>!j&&j!==0?"":Number(j).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),h=j=>j?typeof j=="number"?j:Number(j.replace(/[^\d,]/g,"").replace(",","."))||0:0;g.useEffect(()=>{if(t)v();else if(e){const j=e.service_values||{},C=j.Internet||0,S=j.Segurana||0,E=j.gua||0,k=C+S+E;f(O=>({...O,custo_disponibilidade:j.Energia||0,manutencao:j.Manuteno||0,arrendamento:j.Arrendamento||0,servicos_total:k,taxa_gestao_percentual:e.gestao_percentual||0}))}},[e,t]),g.useEffect(()=>{!t&&e&&x()},[d.ref_month,d.ref_year]),g.useEffect(()=>{b()},[d.faturas_pagas_base,d.taxa_gestao_percentual,d.custo_disponibilidade,d.manutencao,d.arrendamento,d.servicos_total]);const v=async()=>{o(!0);const{data:j,error:C}=await U.from("plant_closings").select("*").eq("id",t).single();j&&f(j),o(!1)},x=async()=>{const{data:j}=await U.from("consumer_units").select("id").eq("usina_id",e.id),C=(j==null?void 0:j.map(E=>E.id))||[];if(C.length===0)return;`${d.ref_month}${d.ref_year}`;const{data:S}=await U.from("invoices").select("consumo_kwh, valor_total, status, economia_reais, consumo_reais").in("uc_id",C).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year);if(S){const E=S.reduce((A,z)=>A+(Number(z.consumo_kwh)||0),0),O=S.filter(A=>A.status==="paga").reduce((A,z)=>A+(Number(z.valor_total)||0),0),R=S.reduce((A,z)=>A+(Number(z.valor_total)||0),0);f(A=>({...A,energia_compensada:E,faturamento_mensal:R,faturas_pagas_base:O}))}},b=()=>{const j=h(d.faturas_pagas_base),C=Number(d.taxa_gestao_percentual)||0,S=j*(C/100),E=h(d.custo_disponibilidade),k=h(d.manutencao),O=h(d.arrendamento),R=h(d.servicos_total),A=E+k+O+R,z=j-(S+A);f(T=>({...T,taxa_gestao_valor:S,total_despesas:A,saldo_liquido:z}))},y=(j,C)=>{f(S=>({...S,[j]:C}))},p=(j,C)=>{const S=Number(C.replace(/\D/g,""))/100;f(E=>({...E,[j]:S}))},_=async()=>{if(!e.pix_key){a("Usina sem chave PIX cadastrada!","error");return}if(confirm("Confirma o repasse de "+m(d.saldo_liquido)+" para a usina? Essa ao  irreversvel.")){o(!0);try{const{data:j,error:C}=await U.functions.invoke("transfer-asaas-pix",{body:{amount:d.saldo_liquido,pixKey:e.pix_key,pixKeyType:e.pix_key_type||"CPF",description:`Repasse Mensal Usina ${e.name} - ${d.ref_month}/${d.ref_year}`,usinaId:e.id}});if(C)throw new Error(C.message||"Erro na comunicao com Asaas");if(j!=null&&j.error)throw new Error(j.error);await U.from("plant_closings").update({status:"liquidado"}).eq("id",t);const S=`${d.ref_month}/${d.ref_year}`,{data:E}=await U.from("consumer_units").select("id").eq("usina_id",e.id),k=(E==null?void 0:E.map(A=>A.id))||[];k.length>0&&await U.from("invoices").update({status:"liquidado"}).in("uc_id",k).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year).eq("status","paga");const R=[{cat:"manutencao",val:d.manutencao,desc:"Manuteno"},{cat:"arrendamento",val:d.arrendamento,desc:"Arrendamento"},{cat:"taxa_gestao",val:d.taxa_gestao_valor,desc:"Taxa de Gesto"},{cat:"servicos",val:d.servicos_total,desc:"Servios Gerais"}].filter(A=>Number(A.val)>0).map(A=>({usina_id:e.id,type:"saida",category:A.cat,amount:Number(A.val),description:`${A.desc} - Ref. ${d.ref_month}/${d.ref_year}`,origin_id:t,origin_type:"plant_closing",status:"liquidado",transaction_date:new Date().toISOString()}));R.length>0&&await U.from("cashbook").insert(R),k.length>0&&await U.from("cashbook").update({status:"liquidado"}).eq("usina_id",e.id).eq("type","entrada").eq("status","provisionado").textSearch("description",`${d.ref_month} ${d.ref_year}`),a("Pagamento realizado e despesas liquidadas!","success"),n(),r()}catch(j){console.error(j),a("Erro no processamento: "+j.message,"error")}finally{o(!1)}}},w=async j=>{j.preventDefault(),o(!0);const C={usina_id:e.id,...d,taxa_gestao_valor:Number(d.taxa_gestao_valor),total_despesas:Number(d.total_despesas),saldo_liquido:Number(d.saldo_liquido)};delete C.created_at;let S;t?S=await U.from("plant_closings").update(C).eq("id",t):S=await U.from("plant_closings").insert(C),o(!1),S.error?a("Erro ao salvar: "+S.error.message,"error"):(a("Fechamento salvo com sucesso!","success"),n(),r())};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:s.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"900px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[s.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Novo Fechamento"}),s.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Usina: ",e.name]})]}),s.jsx("button",{onClick:r,children:s.jsx(ba,{size:24,color:"#94a3b8"})})]}),s.jsxs("form",{onSubmit:w,style:{padding:"2rem",display:"grid",gap:"2rem"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",background:"white",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ms Ref."}),s.jsx("select",{value:d.ref_month,onChange:j=>y("ref_month",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:l.map(j=>s.jsx("option",{value:j,children:j},j))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ano"}),s.jsx("select",{value:d.ref_year,onChange:j=>y("ref_year",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:u.map(j=>s.jsx("option",{value:j,children:j},j))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Data Fechamento"}),s.jsx("input",{type:"date",value:d.closing_date,onChange:j=>y("closing_date",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Status"}),s.jsxs("select",{value:d.status,onChange:j=>y("status",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontWeight:"bold",color:d.status==="fechado"?"#166534":"#ea580c"},children:[s.jsx("option",{value:"rascunho",children:"EM PRODUO"}),s.jsx("option",{value:"fechado",children:"FECHADO"})]})]}),s.jsx("div",{style:{display:"flex",alignItems:"end"},children:s.jsx("button",{type:"button",onClick:x,style:{width:"100%",padding:"0.6rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:"Buscar Faturas"})})]}),s.jsxs("div",{children:[s.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Zk,{size:18})," Produo e Receita"]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Gerao Mensal (kWh)"}),s.jsx("input",{type:"number",value:d.energia_gerada,onChange:j=>y("energia_gerada",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Energia Compensada (kWh) - Soma Faturas"}),s.jsx("input",{type:"number",value:d.energia_compensada,disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",background:"#f1f5f9"}})]})]}),s.jsxs("div",{style:{background:"#f0fdf4",padding:"1.5rem",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"bold",color:"#166534",marginBottom:"0.5rem"},children:"Faturas Pagas (Base de Clculo) - R$"}),s.jsx("input",{value:m(d.faturas_pagas_base),onChange:j=>p("faturas_pagas_base",j.target.value),style:{width:"100%",fontSize:"1.5rem",fontWeight:"bold",color:"#166534",padding:"0.5rem",background:"transparent",border:"none",outline:"none",borderBottom:"2px solid #16a34a"}}),s.jsx("p",{style:{fontSize:"0.8rem",color:"#15803d",marginTop:"0.5rem"},children:"Valor efetivamente recebido dos assinantes."})]})]}),s.jsxs("div",{style:{border:"1px solid #fb923c",borderRadius:"8px",padding:"1.5rem",background:"#fff7ed",position:"relative"},children:[s.jsxs("div",{style:{position:"absolute",top:"-12px",left:"20px",background:"#fff7ed",padding:"0 10px",color:"#c2410c",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Si,{size:18})," Despesas Operacionais"]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginTop:"0.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Custo Disp. (R$)"}),s.jsx("input",{value:m(d.custo_disponibilidade),onChange:j=>p("custo_disponibilidade",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Manuteno (R$)"}),s.jsx("input",{value:m(d.manutencao),onChange:j=>p("manutencao",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Arrendamento (R$)"}),s.jsx("input",{value:m(d.arrendamento),onChange:j=>p("arrendamento",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Servios (Net/Seg/gua) (R$)"}),s.jsx("input",{value:m(d.servicos_total),onChange:j=>p("servicos_total",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]})]})]}),s.jsx("div",{style:{background:"#fefce8",borderRadius:"8px",padding:"1.5rem",border:"1px solid #fde047"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[s.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"end"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Taxa de Gesto (%)"}),s.jsx("input",{type:"number",step:"0.1",value:d.taxa_gestao_percentual,onChange:j=>y("taxa_gestao_percentual",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"white"}})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Valor (R$)"}),s.jsx("input",{value:m(d.taxa_gestao_valor),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Total Despesas Operacionais"}),s.jsx("input",{value:m(d.total_despesas),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]})}),"/* ... existing render logic ... */",s.jsxs("div",{style:{background:"#eff6ff",borderRadius:"8px",padding:"2rem",textAlign:"center",border:"1px solid #bfdbfe"},children:[s.jsx("h3",{style:{color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),s.jsx("p",{style:{color:"#3b82f6",fontSize:"0.9rem",marginBottom:"1rem"},children:"Faturas Pagas - (Taxa Gesto + Total Despesas)"}),s.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"900",color:d.saldo_liquido<0?"#ef4444":"#1e40af"},children:m(d.saldo_liquido)}),d.saldo_liquido>0&&d.status!=="liquidado"&&s.jsxs("button",{type:"button",onClick:_,disabled:i||d.status==="liquidado",style:{marginTop:"1.5rem",background:"#16a34a",color:"white",padding:"0.8rem 2rem",borderRadius:"6px",border:"none",fontWeight:"bold",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 6px -1px rgba(22, 163, 74, 0.3)"},children:[s.jsx(mm,{size:20})," Pagar e Liquidar via Pix"]}),d.status==="liquidado"&&s.jsxs("div",{style:{marginTop:"1rem",color:"#166534",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#166534"}}),"Repasse Realizado"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[s.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:i?"Salvando...":s.jsxs(s.Fragment,{children:[s.jsx(Tb,{size:18})," Salvar Fechamento"]})})]})]})]})})}function bre({usina:e,onClose:t}){const{showAlert:r}=hr(),[n,a]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState(null),[u,d]=g.useState(!1);g.useEffect(()=>{e&&f()},[e]);const f=async()=>{o(!0);const{data:b,error:y}=await U.from("plant_closings").select("*").eq("usina_id",e.id).order("created_at",{ascending:!1});y?console.error("Error fetching closings",y):a(b||[]),o(!1)},m=b=>{c(b),d(!0)},h=()=>{c(null),d(!0)},v=()=>{f()},x=b=>Number(b||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},children:[u&&s.jsx(yre,{usina:e,closingId:l,onClose:()=>d(!1),onSave:v}),s.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[s.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Fechamentos Mensais"}),s.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Histrico financeiro da usina ",e.name]})]}),s.jsx("button",{onClick:t,children:s.jsx(ba,{size:24,color:"#94a3b8"})})]}),s.jsx("div",{style:{padding:"1rem 1.5rem",background:"#f8fafc",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end"},children:s.jsxs("button",{onClick:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-blue)",color:"white",padding:"0.6rem 1.2rem",borderRadius:"6px",border:"none",fontWeight:600,cursor:"pointer"},children:[s.jsx(ol,{size:18})," Novo Fechamento"]})}),s.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1,background:"#f1f5f9"},children:i?s.jsx("p",{children:"Carregando..."}):n.length===0?s.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8",background:"white",borderRadius:"8px",border:"1px dashed #cbd5e1"},children:[s.jsx(Si,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),s.jsx("p",{children:"Nenhum fechamento registrado para esta usina."})]}):s.jsx("div",{style:{display:"grid",gap:"1rem"},children:n.map(b=>s.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[s.jsxs("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",textAlign:"center",minWidth:"80px"},children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b",textTransform:"uppercase"},children:"Ms/Ano"}),s.jsxs("div",{style:{fontWeight:"bold",color:"#1e40af"},children:[b.ref_month,"/",b.ref_year]})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.3rem"},children:[s.jsx("span",{style:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:"bold",padding:"0.2rem 0.5rem",borderRadius:"99px",background:b.status==="fechado"?"#dcfce7":"#ffedd5",color:b.status==="fechado"?"#166534":"#9a3412"},children:b.status}),s.jsxs("span",{style:{fontSize:"0.8rem",color:"#94a3b8"},children:["Criado em ",new Date(b.created_at).toLocaleDateString()]})]}),s.jsxs("div",{style:{fontSize:"0.9rem",color:"#475569"},children:["Faturas: ",s.jsx("strong",{children:x(b.faturas_pagas_base)})," | Despesas: ",s.jsx("strong",{children:x(b.total_despesas)})]})]})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:"Saldo Lquido"}),s.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:b.saldo_liquido<0?"#ef4444":"#166534"},children:x(b.saldo_liquido)}),s.jsx("button",{onClick:()=>m(b.id),style:{marginTop:"0.5rem",background:"none",border:"none",color:"#3b82f6",fontSize:"0.85rem",cursor:"pointer",textDecoration:"underline"},children:"Ver Detalhes"})]})]},b.id))})})]})]})}const gc=[{status:"em_conexao",label:"Em Conexo",color:"#9a3412",bg:"#ffedd5"},{status:"gerando",label:"Gerando",color:"#166534",bg:"#dcfce7"},{status:"manutencao",label:"Manuteno",color:"#991b1b",bg:"#fee2e2"},{status:"inativa",label:"Inativa",color:"#64748b",bg:"#f1f5f9"},{status:"cancelada",label:"Cancelada",color:"#94a3b8",bg:"#f1f5f9"}];function oP({plant:e,onClick:t,onClosingsClick:r,isOverlay:n}){var m,h,v,x,b;const{attributes:a,listeners:i,setNodeRef:o,transform:l,transition:c,isDragging:u}=Am({id:e.id,disabled:!!n}),d=gc.find(y=>y.status===e.status)||gc[0],f={transform:yn.Transform.toString(l),transition:c,opacity:u?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:n?"var(--shadow-lg)":"var(--shadow-sm)",cursor:n?"grabbing":"grab",border:"1px solid transparent",zIndex:u?1e3:1,position:"relative",overflow:"hidden",width:n?"300px":"auto"};return s.jsxs("div",{ref:o,style:f,...n?{}:a,...n?{}:i,onClick:()=>!n&&t(e),children:[s.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:d.bg,color:d.color,marginBottom:"0.5rem"},children:(m=e.status)==null?void 0:m.replace("_"," ")}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:s.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:e.name})}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[s.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria||"Sem conc."}),s.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((h=e.supplier)==null?void 0:h.name)||"Sem Fornecedor"})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[s.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[s.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),s.jsxs("div",{style:{fontWeight:"bold"},children:[e.potencia_kwp," kWp"]})]}),s.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[s.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),s.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[e.geracao_estimada_kwh," kWh"]})]})]}),e.geracao_estimada_kwh>0&&((v=e.consumer_units)==null?void 0:v.length)>0&&s.jsxs("div",{style:{marginBottom:"0.8rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.65rem",color:"#64748b",marginBottom:"0.2rem"},children:[s.jsx("span",{children:"Lotao / Franquia"}),s.jsxs("span",{style:{fontWeight:"bold",color:"#7c3aed"},children:[Math.round(e.consumer_units.reduce((y,p)=>y+(Number(p.consumo_medio_kwh)||Number(p.franquia)||0),0)/e.geracao_estimada_kwh*100),"%"]})]}),s.jsx("div",{style:{height:"4px",background:"#e2e8f0",borderRadius:"2px",overflow:"hidden"},children:s.jsx("div",{style:{height:"100%",background:"#7c3aed",width:`${Math.min(100,e.consumer_units.reduce((y,p)=>y+(Number(p.consumo_medio_kwh)||Number(p.franquia)||0),0)/e.geracao_estimada_kwh*100)}%`}})})]}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[s.jsxs("span",{children:[(x=e.address)==null?void 0:x.cidade,"/",(b=e.address)==null?void 0:b.uf]}),s.jsxs("button",{onClick:y=>{y.stopPropagation(),r(e)},style:{background:"none",border:"none",color:"#3b82f6",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.2rem"},children:[s.jsx(Si,{size:14})," Fechamentos"]})]})]})}function xre({status:e,label:t,color:r,bg:n,plants:a,onCardClick:i,onClosingsClick:o}){const{setNodeRef:l,isOver:c}=Cm({id:e});return s.jsxs("div",{ref:l,style:{minWidth:"300px",flex:1,background:c?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:t}),s.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:a.length})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:s.jsx(Om,{items:a.map(u=>u.id),strategy:Em,children:a.map(u=>s.jsx(oP,{plant:u,onClick:i,onClosingsClick:o},u.id))})})]})}function wre(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(!1),[d,f]=g.useState(null),[m,h]=g.useState(""),[v,x]=g.useState("kanban"),[b,y]=g.useState(null),p=xm(bm(dl,{activationConstraint:{distance:8}})),_=e.filter(O=>{var A,z,T,q,P,B,D;if(!m)return!0;const R=m.toLowerCase();return((A=O.name)==null?void 0:A.toLowerCase().includes(R))||((z=O.concessionaria)==null?void 0:z.toLowerCase().includes(R))||((q=(T=O.supplier)==null?void 0:T.name)==null?void 0:q.toLowerCase().includes(R))||((P=O.status)==null?void 0:P.toLowerCase().includes(R))||((D=(B=O.address)==null?void 0:B.cidade)==null?void 0:D.toLowerCase().includes(R))});g.useEffect(()=>{w()},[]);const w=async()=>{n(!0);try{const{data:O,error:R}=await U.from("usinas").select(`
                    *,
                    supplier:supplier_id (name),
                    consumer_units (*)
                `).order("created_at",{ascending:!1});if(R)throw R;t(O||[])}catch(O){console.error("Erro usinas",O)}finally{n(!1)}},j=()=>{w(),i(!1)},C=O=>{t(e.filter(R=>R.id!==O)),i(!1)},S=O=>{y(O.active.id)},E=async O=>{const{active:R,over:A}=O;if(y(null),!A)return;const z=R.id,T=A.id;let q=T;if(!gc.some(D=>D.status===T)){const D=e.find(N=>N.id===T);q=D==null?void 0:D.status}if(!q)return;const B=e.find(D=>D.id===z);if(B&&B.status!==q){t(D=>D.map(N=>N.id===z?{...N,status:q}:N));try{const{error:D}=await U.from("usinas").update({status:q}).eq("id",z);if(D)throw D}catch(D){console.error("Error updating status:",D),w()}}},k=O=>{const R=gc.find(A=>A.status===O)||{bg:"#f1f5f9",color:"#64748b"};return{bg:R.bg,color:R.color}};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Usinas Geradoras"}),s.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[s.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:m,onChange:O=>h(O.target.value),className:"input",style:{maxWidth:"400px"}}),s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>x("list"),className:`btn ${v==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>x("kanban"),className:`btn ${v==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:v==="list"?s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:_.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome / Concessionria"}),s.jsx("th",{children:"Fornecedor"}),s.jsx("th",{children:"Cidade"}),s.jsx("th",{children:"Gerao / Potncia"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:_.map(O=>{var A,z,T,q;const R=k(O.status);return s.jsxs("tr",{children:[s.jsxs("td",{style:{fontWeight:"bold"},children:[s.jsx("div",{children:O.name}),s.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:O.concessionaria||"-"})]}),s.jsx("td",{children:((A=O.supplier)==null?void 0:A.name)||"-"}),s.jsxs("td",{children:[(z=O.address)==null?void 0:z.cidade,"/",(T=O.address)==null?void 0:T.uf]}),s.jsxs("td",{children:[s.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:O.geracao_estimada_kwh?`${O.geracao_estimada_kwh} kWh/ms`:"-"}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",O.potencia_kwp," kWp"]})]}),s.jsx("td",{children:s.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:R.bg,color:R.color,textTransform:"uppercase"},children:(q=O.status)==null?void 0:q.replace("_"," ")})}),s.jsxs("td",{children:[s.jsx("button",{onClick:()=>{l(O),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",marginRight:"0.5rem"},children:"Editar"}),s.jsx("button",{onClick:()=>{f(O),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",background:"#e0f2fe",color:"#0369a1",border:"1px solid #bae6fd"},children:s.jsx(Si,{size:14})})]})]},O.id)})})]})})}):s.jsxs(Sm,{sensors:p,collisionDetection:wm,onDragStart:S,onDragEnd:E,onDragCancel:()=>y(null),children:[s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:gc.map(({status:O,label:R,color:A,bg:z})=>{const T=_.filter(q=>q.status===O);return s.jsx(xre,{status:O,label:R,color:A,bg:z,plants:T,onCardClick:q=>{l(q),i(!0)},onClosingsClick:q=>{f(q),u(!0)}},O)})}),s.jsx(Wb,{adjustScale:!0,children:b?s.jsx(oP,{plant:e.find(O=>O.id===b),isOverlay:!0}):null})]})}),a&&s.jsx(vre,{usina:o,onClose:()=>i(!1),onSave:j,onDelete:C}),c&&s.jsx(bre,{usina:d,onClose:()=>u(!1)})]})}function _re(){const{showAlert:e,showConfirm:t}=hr(),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState("kanban"),[d,f]=g.useState(null),[m,h]=g.useState(!1),[v,x]=g.useState(new Date().toISOString().substring(0,7)),[b,y]=g.useState(""),[p,_]=g.useState(""),[w,j]=g.useState(null),C=r.filter(P=>{var B,D,N,L,Y,G,ie;if(b&&P.status!==b)return!1;if(p){const J=p.toLowerCase(),he=((D=(B=P.consumer_units)==null?void 0:B.titular_conta)==null?void 0:D.toLowerCase())||"",ce=((Y=(L=(N=P.consumer_units)==null?void 0:N.subscribers)==null?void 0:L.name)==null?void 0:Y.toLowerCase())||"",M=((ie=(G=P.consumer_units)==null?void 0:G.numero_uc)==null?void 0:ie.toLowerCase())||"";if(!he.includes(J)&&!ce.includes(J)&&!M.includes(J))return!1}return!0});g.useEffect(()=>{S(),E()},[v]);const S=async()=>{l(!0);try{const[P,B]=v.split("-"),D=`${P}-${B}-01`,N=new Date(P,B,0).getDate(),L=`${P}-${B}-${N}`,{data:Y,error:G}=await U.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",D).lte("mes_referencia",L).order("vencimento",{ascending:!0});if(G)throw G;n(Y||[])}catch(P){console.error("Error fetching invoices:",P),e("Erro ao carregar faturas.","error")}finally{l(!1)}},E=async()=>{const{data:P,error:B}=await U.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta, tarifa_concessionaria, desconto_assinante, tipo_ligacao").eq("status","ativo").order("titular_conta");B||i(P||[])},k=()=>{f(null),h(!0)},O=P=>{f(P),h(!0)},R=()=>{S(),h(!1)},A=async P=>{var D;if(await t(`Gerar boleto Asaas para a fatura de ${(D=P.consumer_units)==null?void 0:D.titular_conta}?`)){j(P.id);try{const N=await hm(P.id);N.url&&(e("Boleto gerado com sucesso!","success"),window.open(N.url,"_blank"),S())}catch(N){console.error(N),e("Erro ao gerar boleto: "+N.message,"error")}finally{j(null)}}},z=async P=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:D}=await U.from("invoices").delete().eq("id",P);if(D)throw D;S()}catch(D){console.error("Erro ao excluir fatura:",D),e("Erro ao excluir fatura: "+D.message,"error")}},T=P=>Number(P||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),q=P=>{const B={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:tT},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:rT},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:eT}},D=B[P]||B.a_vencer,N=D.icon;return s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:D.bg,color:D.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[s.jsx(N,{size:12})," ",D.label]})};return s.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),s.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),s.jsxs("button",{onClick:k,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(ol,{size:18})," Nova Fatura"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[s.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[s.jsx(hI,{size:18}),s.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),s.jsx("input",{type:"month",value:v,onChange:P=>x(P.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),s.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:s.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),s.jsxs("select",{value:b,onChange:P=>y(P.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"a_vencer",children:"A Vencer"}),s.jsx("option",{value:"atrasado",children:"Atrasado"}),s.jsx("option",{value:"pago",children:"Pago"})]}),s.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:s.jsx(Rb,{size:18})}),s.jsx("input",{placeholder:"Buscar por Nome...",value:p,onChange:P=>_(P.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>u("list"),className:`btn ${c==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>u("kanban"),className:`btn ${c==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:c==="list"?s.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{style:{background:"#f8fafc"},children:s.jsxs("tr",{children:[s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),s.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),s.jsx("tbody",{children:C.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):C.map(P=>{var B,D,N;return s.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[s.jsx("td",{style:{padding:"1rem"},children:q(P.status)}),s.jsx("td",{style:{padding:"1rem",color:"#334155"},children:P.vencimento?new Date(P.vencimento).toLocaleDateString("pt-BR"):"-"}),s.jsxs("td",{style:{padding:"1rem"},children:[s.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((B=P.consumer_units)==null?void 0:B.numero_uc)||"N/A"}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(D=P.consumer_units)==null?void 0:D.titular_conta," (",(N=P.consumer_units)==null?void 0:N.concessionaria,")"]})]}),s.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(P.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),s.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:T(P.valor_a_pagar)}),s.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[P.asaas_boleto_url?s.jsxs("a",{href:P.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[s.jsx(Si,{size:14})," Boleto"]}):s.jsx("button",{onClick:()=>A(P),disabled:w===P.id,style:{background:w===P.id?"#f1f5f9":"#fff7ed",color:w===P.id?"#94a3b8":"#c2410c",border:w===P.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:w===P.id?"Gerando...":s.jsxs(s.Fragment,{children:[s.jsx(vu,{size:14})," Emitir"]})}),s.jsx("button",{onClick:()=>O(P),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),s.jsx("button",{onClick:()=>z(P.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:s.jsx(yu,{size:16})})]})})]},P.id)})})]})}):s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(P=>{const B=C.filter(L=>L.status===P),D={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},N=D[P]||D.a_vencer;return s.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${N.color}`,boxShadow:"var(--shadow-sm)"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:N.color},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:N.label}),s.jsx("span",{style:{fontSize:"0.8rem",background:N.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:T(B.reduce((L,Y)=>L+(Number(Y.valor_a_pagar)||0),0))})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:B.map(L=>{var Y,G;return s.jsxs("div",{onClick:()=>O(L),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:ie=>ie.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:ie=>ie.currentTarget.style.borderColor="transparent",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(Y=L.consumer_units)==null?void 0:Y.numero_uc}),s.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",L.vencimento?new Date(L.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),s.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(G=L.consumer_units)==null?void 0:G.titular_conta}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),s.jsxs("div",{children:[Number(L.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),s.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:T(L.valor_a_pagar)})]})]}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:L.asaas_boleto_url?s.jsxs("a",{href:L.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:ie=>ie.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[s.jsx(Si,{size:14})," Boleto"]}):s.jsx("button",{onClick:ie=>{ie.stopPropagation(),A(L)},className:"btn",disabled:w===L.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:w===L.id?"...":"Emitir"})})]},L.id)})})]},P)})})}),m&&s.jsx(sT,{invoice:d,ucs:a,onClose:()=>h(!1),onSave:R})]})}const SE=[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}];function sP({uc:e,onClick:t,isOverlay:r}){var d,f,m;const{attributes:n,listeners:a,setNodeRef:i,transform:o,transition:l,isDragging:c}=Am({id:e.id,disabled:!!r}),u={transform:yn.Transform.toString(o),transition:l,opacity:c?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:r?"var(--shadow-lg)":"var(--shadow-sm)",cursor:r?"grabbing":"grab",border:"1px solid transparent",zIndex:c?1e3:1,position:"relative",width:r?"300px":"auto"};return s.jsxs("div",{ref:i,style:u,...r?{}:n,...r?{}:a,onClick:()=>!r&&t(e),children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:e.numero_uc}),s.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria})]}),s.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((d=e.subscriber)==null?void 0:d.name)||"Sem Assinante"}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[s.jsxs("span",{children:[(f=e.address)==null?void 0:f.cidade,"/",(m=e.address)==null?void 0:m.uf]}),s.jsx("span",{children:e.franquia?`${Number(e.franquia).toLocaleString("pt-BR")} kWh`:""})]})]})}function jre({status:e,label:t,color:r,units:n,onCardClick:a}){const{setNodeRef:i,isOver:o}=Cm({id:e});return s.jsxs("div",{ref:i,style:{minWidth:"300px",flex:1,background:o?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:t}),s.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:n.length})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:s.jsx(Om,{items:n.map(l=>l.id),strategy:Em,children:n.map(l=>s.jsx(sP,{uc:l,onClick:a},l.id))})})]})}function Sre(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState("kanban"),[c,u]=g.useState(!1),[d,f]=g.useState(null),[m,h]=g.useState(null),v=xm(bm(dl,{activationConstraint:{distance:8}})),x=e.filter(j=>{var S,E,k,O,R,A,z;if(!a)return!0;const C=a.toLowerCase();return((S=j.numero_uc)==null?void 0:S.toLowerCase().includes(C))||((k=(E=j.subscriber)==null?void 0:E.name)==null?void 0:k.toLowerCase().includes(C))||((O=j.concessionaria)==null?void 0:O.toLowerCase().includes(C))||((A=(R=j.address)==null?void 0:R.cidade)==null?void 0:A.toLowerCase().includes(C))||((z=j.status)==null?void 0:z.toLowerCase().includes(C))});g.useEffect(()=>{b()},[]);const b=async()=>{n(!0);try{const{data:j,error:C}=await U.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(C)throw C;t(j||[])}catch(j){console.error("Error fetching UCs:",j)}finally{n(!1)}},y=j=>{b(),u(!1)},p=j=>{t(e.filter(C=>C.id!==j)),u(!1)},_=j=>{h(j.active.id)},w=async j=>{const{active:C,over:S}=j;if(h(null),!S)return;const E=C.id,k=S.id;let O=k;if(!SE.some(z=>z.status===k)){const z=e.find(T=>T.id===k);O=z==null?void 0:z.status}if(!O)return;const A=e.find(z=>z.id===E);if(A&&A.status!==O){t(z=>z.map(T=>T.id===E?{...T,status:O}:T));try{const{error:z}=await U.from("consumer_units").update({status:O}).eq("id",E);if(z)throw z}catch(z){console.error("Error updating status:",z),b()}}};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),s.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[s.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:j=>i(j.target.value),className:"input",style:{maxWidth:"400px"}}),s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>l("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>l("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:o==="list"?s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:x.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"UC"}),s.jsx("th",{children:"Concessionria"}),s.jsx("th",{children:"Assinante"}),s.jsx("th",{children:"Franquia"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Cidade"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:x.map(j=>{var C,S,E,k,O;return s.jsxs("tr",{children:[s.jsx("td",{style:{fontWeight:"bold"},children:j.numero_uc}),s.jsx("td",{style:{color:"var(--color-text-medium)"},children:j.concessionaria||"-"}),s.jsxs("td",{children:[s.jsx("div",{style:{fontWeight:"bold"},children:((C=j.subscriber)==null?void 0:C.name)||"-"}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(S=j.subscriber)==null?void 0:S.cpf_cnpj})]}),s.jsx("td",{children:j.franquia?`${Number(j.franquia).toLocaleString("pt-BR")} kWh`:"-"}),s.jsx("td",{children:s.jsx("span",{className:"badge",style:{background:j.status==="ativo"?"var(--color-success-light)":j.status==="em_atraso"||j.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:j.status==="ativo"?"var(--color-success)":j.status==="em_atraso"||j.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(E=j.status)==null?void 0:E.replace("_"," ").toUpperCase()})}),s.jsxs("td",{children:[(k=j.address)==null?void 0:k.cidade," / ",(O=j.address)==null?void 0:O.uf]}),s.jsx("td",{children:s.jsx("button",{onClick:()=>{f(j),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},j.id)})})]})})}):s.jsxs(Sm,{sensors:v,collisionDetection:wm,onDragStart:_,onDragEnd:w,onDragCancel:()=>h(null),children:[s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:SE.map(({status:j,label:C,color:S})=>{const E=x.filter(k=>(k.status||"em_ativacao")===j);return s.jsx(jre,{status:j,label:C,color:S,units:E,onCardClick:k=>{f(k),u(!0)}},j)})}),s.jsx(Wb,{adjustScale:!0,children:m?s.jsx(sP,{uc:e.find(j=>j.id===m),isOverlay:!0}):null})]})}),c&&s.jsx(zb,{consumerUnit:d,onClose:()=>u(!1),onSave:y,onDelete:p})]})}function Cre({billing:e,onClose:t,onSave:r}){const[n,a]=g.useState([]),[i,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,m]=g.useState(0),h=["em_producao","fechado","liquidado"],v=S=>{if(!S&&S!==0)return"";const E=Number(S);return isNaN(E)?"":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},x=S=>{if(!S||typeof S!="string")return 0;const E=S.replace(/\D/g,"");return Number(E)/100},b=(S,E)=>{const k=E.replace(/\D/g,""),R=(Number(k)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(A=>({...A,[S]:R}))};g.useEffect(()=>{y(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:v(e.faturamento_mensal),faturas_pagas:v(e.faturas_pagas),custo_disponibilidade:v(e.custo_disponibilidade),manutencao:v(e.manutencao),gestao_reais:v(e.gestao_reais),arrendamento:v(e.arrendamento),servicos:v(e.servicos),total_despesas:v(e.total_despesas),saldo_receber:v(e.saldo_receber)}),p(e.usina_id))},[e]),g.useEffect(()=>{w()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const y=async()=>{const{data:S}=await U.from("usinas").select("id, name");a(S||[])},p=async S=>{if(!S)return;const{data:E}=await U.from("usinas").select("gestao_percentual").eq("id",S).single();E&&m(Number(E.gestao_percentual)||0)},_=async S=>{const E=S.target.value;d(k=>({...k,usina_id:E})),await p(E)},w=()=>{const S=x(u.faturas_pagas),E=x(u.custo_disponibilidade),k=x(u.manutencao),O=x(u.arrendamento),R=x(u.servicos);let A=0;f>0&&(A=S*(f/100));const z=E+k+A+O+R,T=S-z,q=x(u.gestao_reais),P=x(u.total_despesas),B=x(u.saldo_receber);Math.abs(q-A)<.01&&Math.abs(P-z)<.01&&Math.abs(B-T)<.01||d(D=>({...D,gestao_reais:v(A),total_despesas:v(z),saldo_receber:v(T)}))},j=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}c(!0);try{const{data:S,error:E}=await U.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(E)throw E;if(!S||S.length===0){alert("Nenhuma UC vinculada a esta usina."),c(!1);return}const k=S.map(N=>N.id),[O,R]=u.mes_referencia.split("-"),A=`${O}-${R}-01`,z=new Date(O,R,0).getDate(),T=`${O}-${R}-${z}`,{data:q,error:P}=await U.from("invoices").select("valor_a_pagar, status").in("uc_id",k).gte("mes_referencia",A).lte("mes_referencia",T);if(P)throw P;let B=0,D=0;q.forEach(N=>{const L=Number(N.valor_a_pagar)||0;B+=L,N.status==="pago"&&(D+=L)}),d(N=>({...N,faturamento_mensal:v(B),faturas_pagas:v(D)}))}catch(S){console.error("Reconciliation error:",S),alert("Erro ao buscar faturas: "+S.message)}finally{c(!1)}},C=async S=>{S.preventDefault(),o(!0);try{const E={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:x(u.faturamento_mensal),faturas_pagas:x(u.faturas_pagas),custo_disponibilidade:x(u.custo_disponibilidade),manutencao:x(u.manutencao),gestao_reais:x(u.gestao_reais),arrendamento:x(u.arrendamento),servicos:x(u.servicos),total_despesas:x(u.total_despesas),saldo_receber:x(u.saldo_receber)};let k;if(e!=null&&e.id?k=await U.from("generation_production").update(E).eq("id",e.id):k=await U.from("generation_production").insert(E),k.error)throw k.error;r(),t()}catch(E){console.error("Save error:",E),alert("Erro ao salvar: "+(E.message||JSON.stringify(E)))}finally{o(!1)}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[s.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),s.jsxs("form",{onSubmit:C,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),s.jsxs("select",{required:!0,value:u.usina_id,onChange:_,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[s.jsx("option",{value:"",children:"Selecione..."}),n.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),s.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:S=>{const E=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${E}-${S.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((S,E)=>s.jsx("option",{value:S,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][E]},S))})]}),s.jsxs("div",{style:{width:"80px"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),s.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:S=>{const E=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${S.target.value}-${E}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(S,E)=>new Date().getFullYear()-2+E).map(S=>s.jsx("option",{value:S,children:S},S))})]})]}),s.jsxs("div",{style:{width:"150px"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),s.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:S=>d({...u,fechamento:S.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{style:{width:"120px"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),s.jsx("select",{value:u.status,onChange:S=>d({...u,status:S.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:h.map(S=>s.jsx("option",{value:S,children:S.replace("_"," ").toUpperCase()},S))})]}),s.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:s.jsx("button",{type:"button",onClick:j,disabled:l||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:l?.7:1},children:l?"Buscando...":"Buscar Faturas"})})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),s.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:S=>d({...u,geracao_mensal_kwh:S.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),s.jsx("input",{type:"number",value:u.energia_compensada,onChange:S=>d({...u,energia_compensada:S.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),s.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:S=>b("faturamento_mensal",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),s.jsx("input",{type:"text",value:u.faturas_pagas,onChange:S=>b("faturas_pagas",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),s.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),s.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:S=>b("custo_disponibilidade",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),s.jsx("input",{type:"text",value:u.manutencao,onChange:S=>b("manutencao",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),s.jsx("input",{type:"text",value:u.arrendamento,onChange:S=>b("arrendamento",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),s.jsx("input",{type:"text",value:u.servicos,onChange:S=>b("servicos",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),s.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),s.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[s.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),s.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),s.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[s.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function Ere(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState("kanban"),[o,l]=g.useState(!1),[c,u]=g.useState(null);g.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:_}=await U.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});_?console.error("Error fetching billing:",_):t(p||[]),n(!1)},f=p=>{u(p),l(!0)},m=()=>{u(null),l(!0)},h=async p=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:_}=await U.from("generation_production").delete().eq("id",p);_?alert("Erro ao excluir"):d()},v=async p=>{var _;if(!p.saldo_receber||p.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${p.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:w,error:j}=await U.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",p.usina_id).single();if(j||!w||!w.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const C=w.supplier;if(!C.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:S,error:E}=await U.functions.invoke("transfer-asaas-pix",{body:{value:p.saldo_receber,pix_key:C.pix_key,pix_key_type:C.pix_key_type,description:`Pagamento Energia - ${p.mes_referencia} - ${w.name}`,operationType:"PIX"}});if(E)throw E;if(!S.success)throw new Error(S.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((_=S.data)==null?void 0:_.id)),d(),await U.from("generation_production").update({status:"liquidado"}).eq("id",p.id),d()}catch(w){console.error("Payment Error:",w),alert("Erro no pagamento: "+w.message)}finally{n(!1)}}},x=()=>{d(),l(!1)},b=p=>{if(!p)return"-";const[_,w]=p.split("-"),j=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],C=parseInt(w,10)-1;return`${j[C]||"-"} ${_}`},y=p=>Number(p||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return s.jsxs("div",{style:{padding:"2rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),s.jsx("button",{onClick:m,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:a==="list"?s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Ms Ref."}),s.jsx("th",{children:"Usina"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Gerao (kWh)"}),s.jsx("th",{children:"Compensado (kWh)"}),s.jsx("th",{children:"Faturado (R$)"}),s.jsx("th",{children:"Saldo a Receber (R$)"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:e.map(p=>{var _;return s.jsxs("tr",{children:[s.jsx("td",{children:b(p.mes_referencia)}),s.jsx("td",{children:((_=p.usinas)==null?void 0:_.name)||"-"}),s.jsx("td",{children:s.jsx("span",{className:"badge",style:{background:p.status==="liquidado"?"#dcfce7":p.status==="fechado"?"#e0f2fe":"#fef9c3",color:p.status==="liquidado"?"#166534":p.status==="fechado"?"#0369a1":"#854d0e"},children:p.status})}),s.jsxs("td",{children:[Number(p.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),s.jsxs("td",{children:[Number(p.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),s.jsx("td",{children:y(p.faturamento_mensal)}),s.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:y(p.saldo_receber)}),s.jsx("td",{children:s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{onClick:()=>f(p),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),s.jsx("button",{onClick:()=>h(p.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),s.jsx("button",{onClick:()=>v(p),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},p.id)})})]})})}):s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(p=>{const _=e.filter(C=>C.status===p),j={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[p]||"#64748b";return s.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${j}`,boxShadow:"var(--shadow-sm)"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:j},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:p}),s.jsx("span",{style:{fontSize:"0.8rem",background:j,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:y(_.reduce((C,S)=>C+(Number(S.saldo_receber)||0),0))})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:_.map(C=>{var S;return s.jsxs("div",{onClick:()=>f(C),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:E=>E.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:E=>E.currentTarget.style.borderColor="transparent",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(S=C.usinas)==null?void 0:S.name}),s.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:b(C.mes_referencia)})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),s.jsxs("div",{children:[Number(C.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),s.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:y(C.saldo_receber)})]})]}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:C.status!=="liquidado"&&s.jsx("button",{onClick:E=>{E.stopPropagation(),v(C)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},C.id)})})]},p)})})}),o&&s.jsx(Cre,{billing:c,onClose:()=>l(!1),onSave:x})]})}function Ore(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState("all"),[o,l]=g.useState(""),[c,u]=g.useState(null),d=[{id:"all",label:"Todos",color:"#64748b"},{id:"super_admin",label:"Super Admin",color:"#0f172a"},{id:"admin",label:"Admin",color:"#1e293b"},{id:"manager",label:"Gerente",color:"#334155"},{id:"coordinator",label:"Coord.",color:"#475569"},{id:"supplier",label:"Fornecedor",color:"#ea580c"},{id:"originator",label:"Originador",color:"#059669"},{id:"subscriber",label:"Assinante",color:"#2563eb"},{id:"lead",label:"Lead",color:"#94a3b8"}],f=p=>{var _;return((_=d.find(w=>w.id===p))==null?void 0:_.label)||p},m=p=>{var _;return((_=d.find(w=>w.id===p))==null?void 0:_.color)||"#94a3b8"};g.useEffect(()=>{h()},[]);const h=async()=>{n(!0);const{data:p}=await U.from("profiles").select("*").order("name");p&&t(p),n(!1)},v=p=>{t(e.map(_=>_.id===p.id?p:_))},x=e.filter(p=>{var j,C;const _=(((j=p.name)==null?void 0:j.toLowerCase())||"").includes(o.toLowerCase())||(((C=p.email)==null?void 0:C.toLowerCase())||"").includes(o.toLowerCase()),w=a==="all"?!0:p.role===a;return _&&w}),b=e.length,y=e.filter(p=>p.role!=="lead").length;return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[s.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",color:"#2563eb"},children:s.jsx(Pb,{size:24})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:b}),s.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Total de Usurios"})]})]}),s.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{background:"#f0fdf4",padding:"0.8rem",borderRadius:"8px",color:"#16a34a"},children:s.jsx(nT,{size:24})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:y}),s.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Perfis Ativos"})]})]})]}),s.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[s.jsxs("div",{style:{borderBottom:"1px solid #e2e8f0"},children:[s.jsxs("div",{style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[s.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#334155"},children:"Lista de Usurios"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(Rb,{size:16,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),s.jsx("input",{placeholder:"Buscar usurio...",value:o,onChange:p=>l(p.target.value),style:{padding:"0.5rem 1rem 0.5rem 2.2rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem",width:"250px"}})]})]}),s.jsx("div",{style:{display:"flex",gap:"2rem",padding:"0 1rem",overflowX:"auto"},children:d.map(p=>s.jsxs("button",{onClick:()=>i(p.id),style:{background:"none",border:"none",padding:"1rem 0",color:a===p.id?"#0284c7":"#64748b",fontWeight:a===p.id?600:400,borderBottom:a===p.id?"2px solid #0284c7":"2px solid transparent",cursor:"pointer",whiteSpace:"nowrap",fontSize:"0.9rem"},children:[p.label,s.jsx("span",{style:{marginLeft:"6px",background:a===p.id?"#e0f2fe":"#f1f5f9",padding:"2px 6px",borderRadius:"99px",fontSize:"0.75rem"},children:p.id==="all"?e.length:e.filter(_=>_.role===p.id).length})]},p.id))})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[s.jsx("thead",{style:{background:"#f8fafc",borderBottom:"1px solid #e2e8f0",fontSize:"0.8rem",textTransform:"uppercase",color:"#64748b"},children:s.jsxs("tr",{children:[s.jsx("th",{style:{padding:"1rem"},children:"Usurio"}),s.jsx("th",{style:{padding:"1rem"},children:"Perfil (Role)"}),s.jsx("th",{style:{padding:"1rem"},children:"Contato"}),s.jsx("th",{style:{padding:"1rem"},children:"Comisses"}),s.jsx("th",{style:{padding:"1rem",textAlign:"right"},children:"Aes"})]})}),s.jsx("tbody",{children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center"},children:"Carregando..."})}):x.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhum usurio encontrado."})}):x.map(p=>{var _;return s.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[s.jsx("td",{style:{padding:"1rem"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem"},children:[s.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b",fontWeight:"bold"},children:((_=p.name)==null?void 0:_.charAt(0).toUpperCase())||"?"}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:p.name||"Sem Nome"}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:p.email})]})]})}),s.jsx("td",{style:{padding:"1rem"},children:s.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:600,background:m(p.role)+"20",color:m(p.role),border:`1px solid ${m(p.role)}40`},children:f(p.role)})}),s.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem",color:"#475569"},children:p.phone||"-"}),s.jsx("td",{style:{padding:"1rem",fontSize:"0.85rem"},children:p.commission_split?s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("span",{style:{color:"#94a3b8"},children:"Start:"})," ",s.jsxs("strong",{children:[p.commission_split.start,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{style:{color:"#94a3b8"},children:"Rec.:"})," ",s.jsxs("strong",{children:[p.commission_split.recorrente,"%"]})]})]}):"-"}),s.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:s.jsxs("button",{onClick:()=>u(p),style:{background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",padding:"0.4rem 0.8rem",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.4rem",color:"#475569",fontSize:"0.8rem",fontWeight:500},children:[s.jsx(DI,{size:14})," Editar"]})})]},p.id)})})]})})]}),c&&s.jsx(oT,{user:c,onClose:()=>u(null),onSave:v})]})}function CE({serviceName:e,title:t,description:r}){var E,k;const{showAlert:n}=hr(),[a,i]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState({endpoint_url:"",api_key:"",secret_key:"",variables:[]});g.useEffect(()=>{d()},[e]);const d=async()=>{i(!0);const{data:O,error:R}=await U.from("integrations_config").select("*").eq("service_name",e).single();if(O){const A=O.variables?Object.entries(O.variables).map(([z,T])=>({key:z,value:T})):[];u({endpoint_url:O.endpoint_url||"",api_key:O.api_key||"",secret_key:O.secret_key||"",variables:A})}else R&&R.code!=="PGRST116"&&console.error("Error fetching config:",R);i(!1)},f=async O=>{O.preventDefault(),i(!0);const R=c.variables.reduce((T,q)=>(q.key&&(T[q.key]=q.value),T),{}),A={service_name:e,endpoint_url:c.endpoint_url,api_key:c.api_key,secret_key:c.secret_key,variables:R,updated_at:new Date().toISOString()},{error:z}=await U.from("integrations_config").upsert(A,{onConflict:"service_name"});i(!1),z?n("Erro ao salvar configuraes: "+z.message,"error"):n("Configuraes salvas com sucesso!","success")},m=()=>{u(O=>({...O,variables:[...O.variables,{key:"",value:""}]}))},h=O=>{u(R=>({...R,variables:R.variables.filter((A,z)=>z!==O)}))},v=(O,R,A)=>{const z=[...c.variables];z[O][R]=A,u(T=>({...T,variables:z}))},[x,b]=g.useState(""),[y,p]=g.useState("Teste de conexo Evolution API"),[_,w]=g.useState(""),[j,C]=g.useState(!1),S=async()=>{if(!x){n("Informe um nmero de telefone para teste.","error");return}C(!0);try{const{data:O,error:R}=await U.functions.invoke("send-whatsapp",{body:{text:y,phone:x,mediaUrl:_}});if(R)throw new Error(R.message);if(O!=null&&O.error)throw new Error(O.error);n("Mensagem de teste enviada com sucesso!","success")}catch(O){console.error(O),n("Falha no teste: "+O.message,"error")}finally{C(!1)}};return s.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[s.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",background:"#f8fafc"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{padding:"0.5rem",background:"#fff",borderRadius:"6px",border:"1px solid #cbd5e1"},children:s.jsx($I,{size:20,color:"#475569"})}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"#1e293b"},children:t}),s.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#64748b"},children:r})]})]})}),s.jsxs("form",{onSubmit:f,style:{padding:"2rem"},children:[s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Endpoint URL"}),s.jsx("input",{type:"url",placeholder:"https://api.exemplo.com/v1",value:c.endpoint_url,onChange:O=>u({...c,endpoint_url:O.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"API Key / Token"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:o?"text":"password",value:c.api_key,onChange:O=>u({...c,api_key:O.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),s.jsx("button",{type:"button",onClick:()=>l(!o),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o?s.jsx(Ab,{size:18}):s.jsx(Bc,{size:18})})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Secret Key (Opcional)"}),s.jsx("input",{type:"password",value:c.secret_key,onChange:O=>u({...c,secret_key:O.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]})]}),e==="evolution_api"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Nome da Instncia"}),s.jsx("input",{placeholder:"Nome da Instncia (ex: minha-instancia)",value:((E=c.variables.find(O=>O.key==="instance_name"))==null?void 0:E.value)||"",onChange:O=>{const R=O.target.value;u(A=>{const z=A.variables.some(q=>q.key==="instance_name");let T;return z?T=A.variables.map(q=>q.key==="instance_name"?{...q,value:R}:q):T=[...A.variables,{key:"instance_name",value:R}],{...A,variables:T}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),s.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Nome da instncia criada na Evolution API."})]}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"URL da Mdia (Convite)"}),s.jsx("input",{type:"url",placeholder:"https://exemplo.com/imagem.png",value:((k=c.variables.find(O=>O.key==="invite_media_url"))==null?void 0:k.value)||"",onChange:O=>{const R=O.target.value;u(A=>{const z=A.variables.some(q=>q.key==="invite_media_url");let T;return z?T=A.variables.map(q=>q.key==="invite_media_url"?{...q,value:R}:q):T=[...A.variables,{key:"invite_media_url",value:R}],{...A,variables:T}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),s.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Imagem enviada junto com o convite."})]})]}),s.jsxs("div",{style:{borderTop:"1px solid #e2e8f0",paddingTop:"1.5rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("label",{style:{fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Variveis de Ambiente / Parmetros Extras"}),s.jsxs("button",{type:"button",onClick:m,style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.8rem",color:"#2563eb",background:"#eff6ff",padding:"0.4rem 0.8rem",borderRadius:"99px",border:"none",cursor:"pointer",fontWeight:600},children:[s.jsx(ol,{size:14})," Adicionar Varivel"]})]}),c.variables.length===0&&s.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"6px",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #cbd5e1"},children:"Nenhuma varivel configurada."}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:c.variables.map((O,R)=>e==="evolution_api"&&(O.key==="instance_name"||O.key==="invite_media_url")?null:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:"1rem",alignItems:"center"},children:[s.jsx("input",{placeholder:"Nome da Varivel (ex: instance_name)",value:O.key,onChange:A=>v(R,"key",A.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),s.jsx("input",{placeholder:"Valor",value:O.value,onChange:A=>v(R,"value",A.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),s.jsx("button",{type:"button",onClick:()=>h(R),style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer",padding:"0.4rem"},title:"Remover",children:s.jsx(yu,{size:18})})]},R))})]}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:s.jsx("button",{type:"submit",disabled:a,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"#0284c7",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(2, 132, 199, 0.2)"},children:a?"Salvando...":s.jsxs(s.Fragment,{children:[s.jsx(Tb,{size:18})," Salvar Configuraes"]})})}),e==="evolution_api"&&s.jsxs("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:[s.jsx("h4",{style:{margin:"0 0 1rem 0",color:"#334155"},children:"Teste de Conexo"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"1rem",alignItems:"end"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Nmero (com DDI)"}),s.jsx("input",{placeholder:"5511999999999",value:x,onChange:O=>b(O.target.value.replace(/\D/g,"")),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"URL da Mdia (Opcional)"}),s.jsx("input",{placeholder:"https://...",value:_,onChange:O=>w(O.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Mensagem / Legenda"}),s.jsx("input",{value:y,onChange:O=>p(O.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsx("button",{type:"button",onClick:S,disabled:j||!x,style:{padding:"0.7rem 1.5rem",background:j?"#94a3b8":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:j?"default":"pointer",fontWeight:600},children:j?"Enviando...":"Enviar Teste"})]})]}),e==="financial_api"&&s.jsx("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#334155"},children:"Teste de Conexo (Asaas)"}),s.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Verifica se o endpoint e o token esto corretos."})]}),s.jsx("button",{type:"button",onClick:async()=>{var O;i(!0);try{const{data:R,error:A}=await U.functions.invoke("manage-asaas-customer",{body:{test:!0}});if(A){let z=A.message;try{const T=await((O=A.context)==null?void 0:O.json());T&&T.error&&(z=T.error)}catch{}throw new Error(z)}if(R!=null&&R.success)n(R.message||"Conexo OK!","success");else throw new Error((R==null?void 0:R.error)||"Erro desconhecido")}catch(R){console.error(R),n("Falha na conexo: "+R.message,"error")}finally{i(!1)}},disabled:a||!c.api_key||!c.endpoint_url,style:{padding:"0.7rem 1.5rem",background:a?"#94a3b8":"#6366f1",color:"white",border:"none",borderRadius:"6px",cursor:a?"default":"pointer",fontWeight:600},children:a?"Testando...":"Testar Conexo"})]})})]})]})}function Are(){const[e,t]=g.useState("users"),r=[{id:"users",label:"Perfil de Usurios",icon:Pb,desc:"Gerenciar usurios e acesso"},{id:"evolution",label:"Evolution API",icon:aI,desc:"Configurao da API WhatsApp"},{id:"financial",label:"Integrao Financeira",icon:vu,desc:"Gateways de Pagamento"}],n=()=>{switch(e){case"users":return s.jsx(Ore,{});case"evolution":return s.jsx(CE,{serviceName:"evolution_api",title:"Evolution API",description:"Configurao da API de WhatsApp"});case"financial":return s.jsx(CE,{serviceName:"financial_api",title:"Integrao Financeira",description:"Gateways de Pagamento (Asaas, etc)"});default:return null}};return s.jsxs("div",{style:{padding:"2rem",height:"100%"},children:[s.jsx("h2",{style:{marginBottom:"0.5rem",color:"#1e293b"},children:"Configuraes"}),s.jsx("p",{style:{color:"#64748b",marginBottom:"2rem"},children:"Gerencie as configuraes gerais e integraes do sistema."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"260px 1fr",gap:"2rem",alignItems:"start"},children:[s.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[s.jsx("div",{style:{padding:"1rem",borderBottom:"1px solid #f1f5f9",background:"#f8fafc"},children:s.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Menu"})}),s.jsx("div",{children:r.map(a=>s.jsxs("button",{onClick:()=>t(a.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem 1.5rem",border:"none",textAlign:"left",cursor:"pointer",color:e===a.id?"#0284c7":"#475569",background:e===a.id?"#f0f9ff":"transparent",borderLeft:e===a.id?"3px solid #0284c7":"3px solid transparent",transition:"all 0.2s"},children:[s.jsx(a.icon,{size:18}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:a.label}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:a.desc})]})]},a.id))})]}),s.jsx("div",{style:{minHeight:"500px"},children:n()})]})]})}function kre(){var h;const{profile:e,signOut:t}=nn(),r=Ti(),[n,a]=g.useState("default"),[i,o]=g.useState(!1),[l,c]=g.useState(!1);g.useEffect(()=>{e&&n==="default"&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e,n]);const u=async()=>{await t(),r("/login")},f=(v=>{if(!v)return[];const x=[];v!=="subscriber"&&x.push({id:"leads",label:"Leads",icon:kI}),["originator","coordinator","manager","admin","super_admin"].includes(v)&&(v==="originator"?(x.push({id:"originator_dashboard",label:"Minhas Comisses",icon:Eg}),x.push({id:"originators_list",label:"Equipe",icon:q_})):x.push({id:"originators_list",label:"Originadores",icon:q_})),v!=="lead"&&(v==="subscriber"?x.push({id:"subscriber_dashboard",label:"Meu Painel",icon:Eg}):x.push({id:"subscribers_list",label:"Assinantes",icon:nT})),v!=="lead"&&v!=="subscriber"&&x.push({id:"consumer_units",label:"Unidades Consumidoras",icon:pm}),x.push({id:"invoices",label:"Faturas",icon:Si});const y=["supplier","manager","admin","super_admin"];return y.includes(v)&&(v==="supplier"?x.push({id:"supplier_dashboard",label:"Meu Painel",icon:Eg}):x.push({id:"suppliers_list",label:"Fornecedores",icon:VI})),y.includes(v)&&x.push({id:"power_plants",label:"Usinas",icon:Ao}),["supplier","manager","admin","super_admin"].includes(v)&&x.push({id:"billing",label:"Billing",icon:mm}),["admin","super_admin"].includes(v)&&x.push({id:"settings",label:"Configuraes",icon:Nb}),x})(e==null?void 0:e.role),m=()=>{if(!e)return s.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return s.jsx(dL,{});case"subscriber_dashboard":return s.jsx(fL,{});case"originator_dashboard":return s.jsx(hL,{});case"supplier_dashboard":return s.jsx(mL,{});case"leads":return s.jsx(n9,{});case"subscribers_list":return s.jsx(a9,{});case"originators_list":return s.jsx(o9,{});case"suppliers_list":return s.jsx(l9,{});case"power_plants":return s.jsx(wre,{});case"consumer_units":return s.jsx(Sre,{});case"invoices":return s.jsx(_re,{});case"billing":return s.jsx(Ere,{});case"settings":return s.jsx(Are,{});default:return s.jsxs("div",{style:{padding:"2rem"},children:[s.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),s.jsx("p",{children:"Selecione uma opo no menu."})]})}};return s.jsxs("div",{className:"dashboard-container",children:[s.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:s.jsx(RI,{size:24})}),i&&s.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),s.jsxs("aside",{className:`sidebar ${i?"open":""} ${l?"collapsed":""}`,children:[s.jsxs("div",{className:"sidebar-header",style:{justifyContent:l?"center":"space-between"},children:[!l&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),s.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),s.jsx("button",{onClick:()=>c(!l),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:l?s.jsx(XB,{size:20}):s.jsx(GB,{size:20})})]}),s.jsx("nav",{style:{flex:1,overflowY:"auto"},children:s.jsx("ul",{style:{listStyle:"none"},children:f.map(v=>{const x=v.icon;return s.jsx("li",{style:{marginBottom:"0.25rem"},children:s.jsxs("button",{onClick:()=>{a(v.id),o(!1)},title:l?v.label:"",className:`sidebar-link ${n===v.id?"active":""}`,style:{justifyContent:l?"center":"flex-start"},children:[s.jsx(x,{size:20,style:{marginRight:l?0:"0.75rem",flexShrink:0}}),!l&&s.jsx("span",{children:v.label})]})},v.id)})})}),s.jsxs("div",{className:"sidebar-footer",children:[!l&&s.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[s.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),s.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(h=e==null?void 0:e.role)==null?void 0:h.replace("_"," ").toUpperCase()})]}),s.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:l?"center":"flex-start"},children:[s.jsx(CI,{size:20,style:{marginRight:l?0:"0.5rem"}}),!l&&s.jsx("span",{children:"Sair"})]})]})]}),s.jsx("main",{className:"main-content",children:m()})]})}function Tre(){const[e]=yb(),t=Ti(),r=e.get("id"),[n,a]=g.useState("simulation"),[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,v]=g.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),x=async()=>{if(h.cep.length>=8)try{o(!0);const p=await Sn(h.cep);if(v(_=>({..._,rua:p.rua||"",bairro:p.bairro||"",cidade:p.cidade||"",uf:p.uf||""})),p.ibge){const _=await gu(p.ibge);d(_)}}catch(p){console.error(p),alert("Erro ao buscar CEP")}finally{o(!1)}},b=async p=>{if(p.preventDefault(),!mo(h.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const _=u&&u["Tarifa Concessionaria"]||.85,w=u&&u["Desconto Assinante"]||.1,j=parseFloat(h.consumo)*_,C=j*w;c({contaAtual:j,economiaMensal:C,anual:C*12});const{data:S,error:E}=await U.from("leads").insert({name:h.nome,email:h.email,phone:h.telefone,address:{cep:h.cep,rua:h.rua,cidade:h.cidade,uf:h.uf},consumo_kwh:parseFloat(h.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:_,desconto_assinante:w,originator_id:r,status:"indicado"}).select().single();if(E)throw E;m(S.id),a("signup")}catch(_){alert("Erro na simulao: "+_.message)}finally{o(!1)}},y=async p=>{if(p.preventDefault(),!xu(h.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!mo(h.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:_,error:w}=await U.from("subscribers").insert({name:h.nome,cpf_cnpj:h.cpf_cnpj,email:h.email,phone:h.telefone,status:"ativacao",originator_id:r}).select().single();if(w)throw w;const{error:j}=await U.from("consumer_units").insert({subscriber_id:_.id,numero_uc:h.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:h.cep,rua:h.rua,numero:h.numero,bairro:h.bairro,cidade:h.cidade,uf:h.uf},titular_conta:h.nome});if(j)throw j;f&&await U.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(_){alert("Erro ao finalizar cadastro: "+_.message)}finally{o(!1)}};return s.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:s.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),s.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?s.jsxs("form",{onSubmit:b,children:[s.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),s.jsx("input",{value:h.cep,onChange:p=>v({...h,cep:p.target.value}),onBlur:x,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),h.cidade&&s.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",h.cidade," - ",h.uf,u&&s.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),s.jsx("input",{value:h.nome,onChange:p=>v({...h,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),s.jsx("input",{type:"email",value:h.email,onChange:p=>v({...h,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),s.jsx("input",{value:h.telefone,onChange:p=>v({...h,telefone:Ci(p.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),s.jsx("input",{type:"number",value:h.consumo,onChange:p=>v({...h,consumo:p.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):s.jsxs("form",{onSubmit:y,children:[l&&s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[s.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),s.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",l.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),s.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),s.jsx("input",{value:h.cpf_cnpj,onChange:p=>v({...h,cpf_cnpj:bu(p.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),s.jsx("input",{value:h.nome,onChange:p=>v({...h,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),s.jsx("input",{type:"email",value:h.email,onChange:p=>v({...h,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),s.jsx("input",{value:h.telefone,onChange:p=>v({...h,telefone:Ci(p.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),s.jsx("input",{value:h.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),s.jsxs("div",{style:{width:"100px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),s.jsx("input",{value:h.numero,onChange:p=>v({...h,numero:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),s.jsx("input",{value:h.numero_uc,onChange:p=>v({...h,numero_uc:p.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const Rre=()=>{const{user:e}=nn();return e?s.jsx(Jz,{}):s.jsx(WA,{to:"/login",replace:!0})};function Nre(){return s.jsx(a3,{children:s.jsx(JI,{children:s.jsx(oL,{children:s.jsxs(e3,{children:[s.jsx(Tn,{path:"/login",element:s.jsx(NB,{})}),s.jsx(Tn,{path:"/simulacao",element:s.jsx(eL,{})}),s.jsx(Tn,{path:"/cadastro-parceiro",element:s.jsx(nL,{})}),s.jsx(Tn,{path:"/assine",element:s.jsx(uL,{})}),s.jsx(Tn,{path:"/originador",element:s.jsx(Tre,{})}),s.jsx(Tn,{path:"/contrato",element:s.jsx(cL,{})}),s.jsx(Tn,{element:s.jsx(Rre,{}),children:s.jsx(Tn,{path:"/dashboard",element:s.jsx(kre,{})})}),s.jsx(Tn,{path:"/",element:s.jsx(WA,{to:"/login",replace:!0})})]})})})})}oz.createRoot(document.getElementById("root")).render(s.jsx(g.StrictMode,{children:s.jsx(Nre,{})}));
