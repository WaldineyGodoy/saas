var o4=Object.defineProperty;var s4=(e,t,r)=>t in e?o4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var up=(e,t,r)=>s4(e,typeof t!="symbol"?t+"":t,r);function gE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function va(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var yE={exports:{}},Oh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4=Symbol.for("react.transitional.element"),c4=Symbol.for("react.fragment");function bE(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:l4,type:e,key:n,ref:t!==void 0?t:null,props:r}}Oh.Fragment=c4;Oh.jsx=bE;Oh.jsxs=bE;yE.exports=Oh;var l=yE.exports,xE={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky=Symbol.for("react.transitional.element"),u4=Symbol.for("react.portal"),d4=Symbol.for("react.fragment"),f4=Symbol.for("react.strict_mode"),h4=Symbol.for("react.profiler"),m4=Symbol.for("react.consumer"),p4=Symbol.for("react.context"),g4=Symbol.for("react.forward_ref"),v4=Symbol.for("react.suspense"),y4=Symbol.for("react.memo"),wE=Symbol.for("react.lazy"),b4=Symbol.for("react.activity"),x1=Symbol.iterator;function x4(e){return e===null||typeof e!="object"?null:(e=x1&&e[x1]||e["@@iterator"],typeof e=="function"?e:null)}var _E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jE=Object.assign,SE={};function zs(e,t,r){this.props=e,this.context=t,this.refs=SE,this.updater=r||_E}zs.prototype.isReactComponent={};zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CE(){}CE.prototype=zs.prototype;function Gy(e,t,r){this.props=e,this.context=t,this.refs=SE,this.updater=r||_E}var Yy=Gy.prototype=new CE;Yy.constructor=Gy;jE(Yy,zs.prototype);Yy.isPureReactComponent=!0;var w1=Array.isArray;function Dg(){}var ze={H:null,A:null,T:null,S:null},EE=Object.prototype.hasOwnProperty;function Xy(e,t,r){var n=r.ref;return{$$typeof:Ky,type:e,key:t,ref:n!==void 0?n:null,props:r}}function w4(e,t){return Xy(e.type,t,e.props)}function Zy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ky}function _4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _1=/\/+/g;function dp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_4(""+e.key):t.toString(36)}function j4(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Dg,Dg):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function zo(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ky:case u4:o=!0;break;case wE:return o=e._init,zo(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+dp(e,0):n,w1(a)?(r="",o!=null&&(r=o.replace(_1,"$&/")+"/"),zo(a,t,r,"",function(u){return u})):a!=null&&(Zy(a)&&(a=w4(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(_1,"$&/")+"/")+o)),t.push(a)),1;o=0;var s=n===""?".":n+":";if(w1(e))for(var c=0;c<e.length;c++)n=e[c],i=s+dp(n,c),o+=zo(n,t,r,i,a);else if(c=x4(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,i=s+dp(n,c++),o+=zo(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return zo(j4(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Mu(e,t,r){if(e==null)return e;var n=[],a=0;return zo(e,n,"","",function(i){return t.call(r,i,a++)}),n}function S4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var j1=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},C4={map:Mu,forEach:function(e,t,r){Mu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mu(e,function(){t++}),t},toArray:function(e){return Mu(e,function(t){return t})||[]},only:function(e){if(!Zy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Activity=b4;oe.Children=C4;oe.Component=zs;oe.Fragment=d4;oe.Profiler=h4;oe.PureComponent=Gy;oe.StrictMode=f4;oe.Suspense=v4;oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ze;oe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ze.H.useMemoCache(e)}};oe.cache=function(e){return function(){return e.apply(null,arguments)}};oe.cacheSignal=function(){return null};oe.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=jE({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!EE.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];n.children=o}return Xy(e.type,a,n)};oe.createContext=function(e){return e={$$typeof:p4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:m4,_context:e},e};oe.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)EE.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];a.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return Xy(e,i,a)};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:g4,render:e}};oe.isValidElement=Zy;oe.lazy=function(e){return{$$typeof:wE,_payload:{_status:-1,_result:e},_init:S4}};oe.memo=function(e,t){return{$$typeof:y4,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=ze.T,r={};ze.T=r;try{var n=e(),a=ze.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Dg,j1)}catch(i){j1(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),ze.T=t}};oe.unstable_useCacheRefresh=function(){return ze.H.useCacheRefresh()};oe.use=function(e){return ze.H.use(e)};oe.useActionState=function(e,t,r){return ze.H.useActionState(e,t,r)};oe.useCallback=function(e,t){return ze.H.useCallback(e,t)};oe.useContext=function(e){return ze.H.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e,t){return ze.H.useDeferredValue(e,t)};oe.useEffect=function(e,t){return ze.H.useEffect(e,t)};oe.useEffectEvent=function(e){return ze.H.useEffectEvent(e)};oe.useId=function(){return ze.H.useId()};oe.useImperativeHandle=function(e,t,r){return ze.H.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return ze.H.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return ze.H.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return ze.H.useMemo(e,t)};oe.useOptimistic=function(e,t){return ze.H.useOptimistic(e,t)};oe.useReducer=function(e,t,r){return ze.H.useReducer(e,t,r)};oe.useRef=function(e){return ze.H.useRef(e)};oe.useState=function(e){return ze.H.useState(e)};oe.useSyncExternalStore=function(e,t,r){return ze.H.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return ze.H.useTransition()};oe.version="19.2.3";xE.exports=oe;var g=xE.exports;const Ee=va(g),OE=gE({__proto__:null,default:Ee},[g]);var AE={exports:{}},Ah={},kE={exports:{}},TE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,I){var k=D.length;D.push(I);e:for(;0<k;){var R=k-1>>>1,M=D[R];if(0<a(M,I))D[R]=I,D[k]=M,k=R;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var I=D[0],k=D.pop();if(k!==I){D[0]=k;e:for(var R=0,M=D.length,K=M>>>1;R<K;){var V=2*(R+1)-1,ee=D[V],Z=V+1,ce=D[Z];if(0>a(ee,k))Z<M&&0>a(ce,ee)?(D[R]=ce,D[Z]=k,R=Z):(D[R]=ee,D[V]=k,R=V);else if(Z<M&&0>a(ce,k))D[R]=ce,D[Z]=k,R=Z;else break e}}return I}function a(D,I){var k=D.sortIndex-I.sortIndex;return k!==0?k:D.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,m=3,h=!1,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function _(D){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=D)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function j(D){if(x=!1,_(D),!v)if(r(c)!==null)v=!0,C||(C=!0,T());else{var I=r(u);I!==null&&H(j,I.startTime-D)}}var C=!1,S=-1,E=5,O=-1;function A(){return b?!0:!(e.unstable_now()-O<E)}function N(){if(b=!1,C){var D=e.unstable_now();O=D;var I=!0;try{e:{v=!1,x&&(x=!1,p(S),S=-1),h=!0;var k=m;try{t:{for(_(D),f=r(c);f!==null&&!(f.expirationTime>D&&A());){var R=f.callback;if(typeof R=="function"){f.callback=null,m=f.priorityLevel;var M=R(f.expirationTime<=D);if(D=e.unstable_now(),typeof M=="function"){f.callback=M,_(D),I=!0;break t}f===r(c)&&n(c),_(D)}else n(c);f=r(c)}if(f!==null)I=!0;else{var K=r(u);K!==null&&H(j,K.startTime-D),I=!1}}break e}finally{f=null,m=k,h=!1}I=void 0}}finally{I?T():C=!1}}}var T;if(typeof w=="function")T=function(){w(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,L=z.port2;z.port1.onmessage=N,T=function(){L.postMessage(null)}}else T=function(){y(N,0)};function H(D,I){S=y(function(){D(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var k=m;m=I;try{return D()}finally{m=k}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var k=m;m=D;try{return I()}finally{m=k}},e.unstable_scheduleCallback=function(D,I,k){var R=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?R+k:R):k=R,D){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=k+M,D={id:d++,callback:I,priorityLevel:D,startTime:k,expirationTime:M,sortIndex:-1},k>R?(D.sortIndex=k,t(u,D),r(c)===null&&D===r(u)&&(x?(p(S),S=-1):x=!0,H(j,k-R))):(D.sortIndex=M,t(c,D),v||h||(v=!0,C||(C=!0,T()))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var I=m;return function(){var k=m;m=I;try{return D.apply(this,arguments)}finally{m=k}}}})(TE);kE.exports=TE;var E4=kE.exports,RE={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O4=g;function NE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Na(){}var Ht={d:{f:Na,r:function(){throw Error(NE(522))},D:Na,C:Na,L:Na,m:Na,X:Na,S:Na,M:Na},p:0,findDOMNode:null},A4=Symbol.for("react.portal");function k4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A4,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var zl=O4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function kh(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht;Gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(NE(299));return k4(e,t,null,r)};Gt.flushSync=function(e){var t=zl.T,r=Ht.p;try{if(zl.T=null,Ht.p=2,e)return e()}finally{zl.T=t,Ht.p=r,Ht.d.f()}};Gt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ht.d.C(e,t))};Gt.prefetchDNS=function(e){typeof e=="string"&&Ht.d.D(e)};Gt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=kh(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Ht.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Ht.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Gt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=kh(t.as,t.crossOrigin);Ht.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ht.d.M(e)};Gt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=kh(r,t.crossOrigin);Ht.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Gt.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=kh(t.as,t.crossOrigin);Ht.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ht.d.m(e)};Gt.requestFormReset=function(e){Ht.d.r(e)};Gt.unstable_batchedUpdates=function(e,t){return e(t)};Gt.useFormState=function(e,t,r){return zl.H.useFormState(e,t,r)};Gt.useFormStatus=function(){return zl.H.useHostTransitionStatus()};Gt.version="19.2.3";function DE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DE)}catch(e){console.error(e)}}DE(),RE.exports=Gt;var Fa=RE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt=E4,PE=g,T4=Fa;function W(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ME(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function zE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function BE(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S1(e){if(Uc(e)!==e)throw Error(W(188))}function R4(e){var t=e.alternate;if(!t){if(t=Uc(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return S1(a),e;if(i===n)return S1(a),t;i=i.sibling}throw Error(W(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function IE(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=IE(e),t!==null)return t;e=e.sibling}return null}var Be=Object.assign,N4=Symbol.for("react.element"),zu=Symbol.for("react.transitional.element"),Al=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),$E=Symbol.for("react.strict_mode"),Pg=Symbol.for("react.profiler"),LE=Symbol.for("react.consumer"),Kn=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),Mg=Symbol.for("react.suspense"),zg=Symbol.for("react.suspense_list"),Qy=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),Bg=Symbol.for("react.activity"),D4=Symbol.for("react.memo_cache_sentinel"),C1=Symbol.iterator;function hl(e){return e===null||typeof e!="object"?null:(e=C1&&e[C1]||e["@@iterator"],typeof e=="function"?e:null)}var P4=Symbol.for("react.client.reference");function Ig(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P4?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qo:return"Fragment";case Pg:return"Profiler";case $E:return"StrictMode";case Mg:return"Suspense";case zg:return"SuspenseList";case Bg:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Al:return"Portal";case Kn:return e.displayName||"Context";case LE:return(e._context.displayName||"Context")+".Consumer";case Jy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qy:return t=e.displayName||null,t!==null?t:Ig(e.type)||"Memo";case Pa:t=e._payload,e=e._init;try{return Ig(e(t))}catch{}}return null}var kl=Array.isArray,ne=PE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=T4.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qi={pending:!1,data:null,method:null,action:null},$g=[],Wo=-1;function Dn(e){return{current:e}}function _t(e){0>Wo||(e.current=$g[Wo],$g[Wo]=null,Wo--)}function Ne(e,t){Wo++,$g[Wo]=e.current,e.current=t}var On=Dn(null),ac=Dn(null),Qa=Dn(null),Kd=Dn(null);function Gd(e,t){switch(Ne(Qa,t),Ne(ac,e),Ne(On,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rw(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rw(t),e=o2(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_t(On),Ne(On,e)}function hs(){_t(On),_t(ac),_t(Qa)}function Lg(e){e.memoizedState!==null&&Ne(Kd,e);var t=On.current,r=o2(t,e.type);t!==r&&(Ne(ac,e),Ne(On,r))}function Yd(e){ac.current===e&&(_t(On),_t(ac)),Kd.current===e&&(_t(Kd),pc._currentValue=qi)}var fp,E1;function Oi(e){if(fp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fp=t&&t[1]||"",E1=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fp+e+E1}var hp=!1;function mp(e,t){if(!e||hp)return"";hp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var c=o.split(`
`),u=s.split(`
`);for(a=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===c.length||a===u.length)for(n=c.length-1,a=u.length-1;1<=n&&0<=a&&c[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(c[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||c[n]!==u[a]){var d=`
`+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{hp=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Oi(r):""}function M4(e,t){switch(e.tag){case 26:case 27:case 5:return Oi(e.type);case 16:return Oi("Lazy");case 13:return e.child!==t&&t!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return mp(e.type,!1);case 11:return mp(e.type.render,!1);case 1:return mp(e.type,!0);case 31:return Oi("Activity");default:return""}}function O1(e){try{var t="",r=null;do t+=M4(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Ug=Object.prototype.hasOwnProperty,e0=dt.unstable_scheduleCallback,pp=dt.unstable_cancelCallback,z4=dt.unstable_shouldYield,B4=dt.unstable_requestPaint,wr=dt.unstable_now,I4=dt.unstable_getCurrentPriorityLevel,UE=dt.unstable_ImmediatePriority,qE=dt.unstable_UserBlockingPriority,Xd=dt.unstable_NormalPriority,$4=dt.unstable_LowPriority,WE=dt.unstable_IdlePriority,L4=dt.log,U4=dt.unstable_setDisableYieldValue,qc=null,_r=null;function Va(e){if(typeof L4=="function"&&U4(e),_r&&typeof _r.setStrictMode=="function")try{_r.setStrictMode(qc,e)}catch{}}var jr=Math.clz32?Math.clz32:H4,q4=Math.log,W4=Math.LN2;function H4(e){return e>>>=0,e===0?32:31-(q4(e)/W4|0)|0}var Bu=256,Iu=262144,$u=4194304;function Ai(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Th(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=n&134217727;return s!==0?(n=s&~i,n!==0?a=Ai(n):(o&=s,o!==0?a=Ai(o):r||(r=s&~e,r!==0&&(a=Ai(r))))):(s=n&~i,s!==0?a=Ai(s):o!==0?a=Ai(o):r||(r=n&~e,r!==0&&(a=Ai(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Wc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function F4(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HE(){var e=$u;return $u<<=1,!($u&62914560)&&($u=4194304),e}function gp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function V4(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-jr(r),f=1<<d;s[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}r&=~f}n!==0&&FE(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function FE(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-jr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function VE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-jr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function KE(e,t){var r=t&-t;return r=r&42?1:t0(r),r&(e.suspendedLanes|t)?0:r}function t0(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function r0(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function GE(){var e=be.p;return e!==0?e:(e=window.event,e===void 0?32:v2(e.type))}function A1(e,t){var r=be.p;try{return be.p=e,t()}finally{be.p=r}}var gi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+gi,ar="__reactProps$"+gi,Bs="__reactContainer$"+gi,qg="__reactEvents$"+gi,K4="__reactListeners$"+gi,G4="__reactHandles$"+gi,k1="__reactResources$"+gi,Fc="__reactMarker$"+gi;function n0(e){delete e[Rt],delete e[ar],delete e[qg],delete e[K4],delete e[G4]}function Ho(e){var t=e[Rt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bs]||r[Rt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zw(e);e!==null;){if(r=e[Rt])return r;e=zw(e)}return t}e=r,r=e.parentNode}return null}function Is(e){if(e=e[Rt]||e[Bs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Tl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(W(33))}function rs(e){var t=e[k1];return t||(t=e[k1]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[Fc]=!0}var YE=new Set,XE={};function uo(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(XE[e]=t,e=0;e<t.length;e++)YE.add(t[e])}var Y4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),T1={},R1={};function X4(e){return Ug.call(R1,e)?!0:Ug.call(T1,e)?!1:Y4.test(e)?R1[e]=!0:(T1[e]=!0,!1)}function Ed(e,t,r){if(X4(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Lu(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function zn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function zr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ZE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z4(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wg(e){if(!e._valueTracker){var t=ZE(e)?"checked":"value";e._valueTracker=Z4(e,t,""+e[t])}}function JE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ZE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var J4=/[\n"\\]/g;function $r(e){return e.replace(J4,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hg(e,t,r,n,a,i,o,s){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zr(t)):e.value!==""+zr(t)&&(e.value=""+zr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Fg(e,o,zr(t)):r!=null?Fg(e,o,zr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+zr(s):e.removeAttribute("name")}function QE(e,t,r,n,a,i,o,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Wg(e);return}r=r!=null?""+zr(r):"",t=t!=null?""+zr(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Wg(e)}function Fg(e,t,r){t==="number"&&Zd(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ns(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function eO(e,t,r){if(t!=null&&(t=""+zr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+zr(r):""}function tO(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(W(92));if(kl(n)){if(1<n.length)throw Error(W(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=zr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),Wg(e)}function ps(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Q4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function N1(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||Q4.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function rO(e,t,r){if(t!=null&&typeof t!="object")throw Error(W(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&N1(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&N1(e,i,t[i])}function a0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Od(e){return tM.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Vg=null;function i0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fo=null,as=null;function D1(e){var t=Is(e);if(t&&(e=t.stateNode)){var r=e[ar]||null;e:switch(e=t.stateNode,t.type){case"input":if(Hg(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+$r(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[ar]||null;if(!a)throw Error(W(90));Hg(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&JE(n)}break e;case"textarea":eO(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&ns(e,!!r.multiple,t,!1)}}}var vp=!1;function nO(e,t,r){if(vp)return e(t,r);vp=!0;try{var n=e(t);return n}finally{if(vp=!1,(Fo!==null||as!==null)&&(qh(),Fo&&(t=Fo,e=as,as=Fo=null,D1(t),e)))for(t=0;t<e.length;t++)D1(e[t])}}function ic(e,t){var r=e.stateNode;if(r===null)return null;var n=r[ar]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kg=!1;if(na)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Kg=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Kg=!1}var Ka=null,o0=null,Ad=null;function aO(){if(Ad)return Ad;var e,t=o0,r=t.length,n,a="value"in Ka?Ka.value:Ka.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Ad=a.slice(e,1<n?1-n:void 0)}function kd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uu(){return!0}function P1(){return!1}function ir(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Uu:P1,this.isPropagationStopped=P1,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),t}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rh=ir(fo),Vc=Be({},fo,{view:0,detail:0}),rM=ir(Vc),yp,bp,pl,Nh=Be({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pl&&(pl&&e.type==="mousemove"?(yp=e.screenX-pl.screenX,bp=e.screenY-pl.screenY):bp=yp=0,pl=e),yp)},movementY:function(e){return"movementY"in e?e.movementY:bp}}),M1=ir(Nh),nM=Be({},Nh,{dataTransfer:0}),aM=ir(nM),iM=Be({},Vc,{relatedTarget:0}),xp=ir(iM),oM=Be({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),sM=ir(oM),lM=Be({},fo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cM=ir(lM),uM=Be({},fo,{data:0}),z1=ir(uM),dM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hM[e])?!!t[e]:!1}function s0(){return mM}var pM=Be({},Vc,{key:function(e){if(e.key){var t=dM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s0,charCode:function(e){return e.type==="keypress"?kd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gM=ir(pM),vM=Be({},Nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B1=ir(vM),yM=Be({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s0}),bM=ir(yM),xM=Be({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),wM=ir(xM),_M=Be({},Nh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jM=ir(_M),SM=Be({},fo,{newState:0,oldState:0}),CM=ir(SM),EM=[9,13,27,32],l0=na&&"CompositionEvent"in window,Bl=null;na&&"documentMode"in document&&(Bl=document.documentMode);var OM=na&&"TextEvent"in window&&!Bl,iO=na&&(!l0||Bl&&8<Bl&&11>=Bl),I1=" ",$1=!1;function oO(e,t){switch(e){case"keyup":return EM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vo=!1;function AM(e,t){switch(e){case"compositionend":return sO(t);case"keypress":return t.which!==32?null:($1=!0,I1);case"textInput":return e=t.data,e===I1&&$1?null:e;default:return null}}function kM(e,t){if(Vo)return e==="compositionend"||!l0&&oO(e,t)?(e=aO(),Ad=o0=Ka=null,Vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iO&&t.locale!=="ko"?null:t.data;default:return null}}var TM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TM[e.type]:t==="textarea"}function lO(e,t,r,n){Fo?as?as.push(n):as=[n]:Fo=n,t=gf(t,"onChange"),0<t.length&&(r=new Rh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Il=null,oc=null;function RM(e){n2(e,0)}function Dh(e){var t=Tl(e);if(JE(t))return e}function U1(e,t){if(e==="change")return t}var cO=!1;if(na){var wp;if(na){var _p="oninput"in document;if(!_p){var q1=document.createElement("div");q1.setAttribute("oninput","return;"),_p=typeof q1.oninput=="function"}wp=_p}else wp=!1;cO=wp&&(!document.documentMode||9<document.documentMode)}function W1(){Il&&(Il.detachEvent("onpropertychange",uO),oc=Il=null)}function uO(e){if(e.propertyName==="value"&&Dh(oc)){var t=[];lO(t,oc,e,i0(e)),nO(RM,t)}}function NM(e,t,r){e==="focusin"?(W1(),Il=t,oc=r,Il.attachEvent("onpropertychange",uO)):e==="focusout"&&W1()}function DM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dh(oc)}function PM(e,t){if(e==="click")return Dh(t)}function MM(e,t){if(e==="input"||e==="change")return Dh(t)}function zM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Er=typeof Object.is=="function"?Object.is:zM;function sc(e,t){if(Er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ug.call(t,a)||!Er(e[a],t[a]))return!1}return!0}function H1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function F1(e,t){var r=H1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=H1(r)}}function dO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fO(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zd(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zd(e.document)}return t}function c0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var BM=na&&"documentMode"in document&&11>=document.documentMode,Ko=null,Gg=null,$l=null,Yg=!1;function V1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yg||Ko==null||Ko!==Zd(n)||(n=Ko,"selectionStart"in n&&c0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$l&&sc($l,n)||($l=n,n=gf(Gg,"onSelect"),0<n.length&&(t=new Rh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ko)))}function Si(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Go={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},jp={},hO={};na&&(hO=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function ho(e){if(jp[e])return jp[e];if(!Go[e])return e;var t=Go[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hO)return jp[e]=t[r];return e}var mO=ho("animationend"),pO=ho("animationiteration"),gO=ho("animationstart"),IM=ho("transitionrun"),$M=ho("transitionstart"),LM=ho("transitioncancel"),vO=ho("transitionend"),yO=new Map,Xg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xg.push("scrollEnd");function mn(e,t){yO.set(e,t),uo(t,[e])}var Jd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pr=[],Yo=0,u0=0;function Ph(){for(var e=Yo,t=u0=Yo=0;t<e;){var r=Pr[t];Pr[t++]=null;var n=Pr[t];Pr[t++]=null;var a=Pr[t];Pr[t++]=null;var i=Pr[t];if(Pr[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&bO(r,a,i)}}function Mh(e,t,r,n){Pr[Yo++]=e,Pr[Yo++]=t,Pr[Yo++]=r,Pr[Yo++]=n,u0|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function d0(e,t,r,n){return Mh(e,t,r,n),Qd(e)}function mo(e,t){return Mh(e,null,null,t),Qd(e)}function bO(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-jr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Qd(e){if(50<Gl)throw Gl=0,vv=null,Error(W(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xo={};function UM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,r,n){return new UM(e,t,r,n)}function f0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jn(e,t){var r=e.alternate;return r===null?(r=pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function xO(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Td(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")f0(e)&&(o=1);else if(typeof e=="string")o=V6(e,r,On.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Bg:return e=pr(31,r,t,a),e.elementType=Bg,e.lanes=i,e;case qo:return Wi(r.children,a,i,t);case $E:o=8,a|=24;break;case Pg:return e=pr(12,r,t,a|2),e.elementType=Pg,e.lanes=i,e;case Mg:return e=pr(13,r,t,a),e.elementType=Mg,e.lanes=i,e;case zg:return e=pr(19,r,t,a),e.elementType=zg,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kn:o=10;break e;case LE:o=9;break e;case Jy:o=11;break e;case Qy:o=14;break e;case Pa:o=16,n=null;break e}o=29,r=Error(W(130,e===null?"null":typeof e,"")),n=null}return t=pr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Wi(e,t,r,n){return e=pr(7,e,n,t),e.lanes=r,e}function Sp(e,t,r){return e=pr(6,e,null,t),e.lanes=r,e}function wO(e){var t=pr(18,null,null,0);return t.stateNode=e,t}function Cp(e,t,r){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var K1=new WeakMap;function Lr(e,t){if(typeof e=="object"&&e!==null){var r=K1.get(e);return r!==void 0?r:(t={value:e,source:t,stack:O1(t)},K1.set(e,t),t)}return{value:e,source:t,stack:O1(t)}}var Zo=[],Jo=0,ef=null,lc=0,Br=[],Ir=0,ci=null,_n=1,jn="";function qn(e,t){Zo[Jo++]=lc,Zo[Jo++]=ef,ef=e,lc=t}function _O(e,t,r){Br[Ir++]=_n,Br[Ir++]=jn,Br[Ir++]=ci,ci=e;var n=_n;e=jn;var a=32-jr(n)-1;n&=~(1<<a),r+=1;var i=32-jr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,_n=1<<32-jr(t)+a|r<<a|n,jn=i+e}else _n=1<<i|r<<a|n,jn=e}function h0(e){e.return!==null&&(qn(e,1),_O(e,1,0))}function m0(e){for(;e===ef;)ef=Zo[--Jo],Zo[Jo]=null,lc=Zo[--Jo],Zo[Jo]=null;for(;e===ci;)ci=Br[--Ir],Br[Ir]=null,jn=Br[--Ir],Br[Ir]=null,_n=Br[--Ir],Br[Ir]=null}function jO(e,t){Br[Ir++]=_n,Br[Ir++]=jn,Br[Ir++]=ci,_n=t.id,jn=t.overflow,ci=e}var Nt=null,Me=null,he=!1,ei=null,Ur=!1,Zg=Error(W(519));function ui(e){var t=Error(W(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cc(Lr(t,e)),Zg}function G1(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Rt]=e,t[ar]=n,r){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(r=0;r<hc.length;r++)ue(hc[r],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),QE(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),tO(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||i2(t.textContent,r)?(n.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),n.onScroll!=null&&ue("scroll",t),n.onScrollEnd!=null&&ue("scrollend",t),n.onClick!=null&&(t.onclick=Gn),t=!0):t=!1,t||ui(e,!0)}function Y1(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:Nt=Nt.return}}function Eo(e){if(e!==Nt)return!1;if(!he)return Y1(e),he=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||_v(e.type,e.memoizedProps)),r=!r),r&&Me&&ui(e),Y1(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));Me=Mw(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));Me=Mw(e)}else t===27?(t=Me,vi(e.type)?(e=Ev,Ev=null,Me=e):Me=t):Me=Nt?Hr(e.stateNode.nextSibling):null;return!0}function Zi(){Me=Nt=null,he=!1}function Ep(){var e=ei;return e!==null&&(er===null?er=e:er.push.apply(er,e),ei=null),e}function cc(e){ei===null?ei=[e]:ei.push(e)}var Jg=Dn(null),po=null,Yn=null;function $a(e,t,r){Ne(Jg,t._currentValue),t._currentValue=r}function Qn(e){e._currentValue=Jg.current,_t(Jg)}function Qg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ev(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=a;for(var c=0;c<t.length;c++)if(s.context===t[c]){i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),Qg(i.return,r,e),n||(o=null);break e}i=s.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Qg(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function $s(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(W(387));if(o=o.memoizedProps,o!==null){var s=a.type;Er(a.pendingProps.value,o.value)||(e!==null?e.push(s):e=[s])}}else if(a===Kd.current){if(o=a.alternate,o===null)throw Error(W(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(pc):e=[pc])}a=a.return}e!==null&&ev(t,e,r,n),t.flags|=262144}function tf(e){for(e=e.firstContext;e!==null;){if(!Er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ji(e){po=e,Yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return SO(po,e)}function qu(e,t){return po===null&&Ji(e),SO(e,t)}function SO(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Yn===null){if(e===null)throw Error(W(308));Yn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Yn=Yn.next=t;return r}var qM=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},WM=dt.unstable_scheduleCallback,HM=dt.unstable_NormalPriority,nt={$$typeof:Kn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function p0(){return{controller:new qM,data:new Map,refCount:0}}function Kc(e){e.refCount--,e.refCount===0&&WM(HM,function(){e.controller.abort()})}var Ll=null,tv=0,gs=0,is=null;function FM(e,t){if(Ll===null){var r=Ll=[];tv=0,gs=L0(),is={status:"pending",value:void 0,then:function(n){r.push(n)}}}return tv++,t.then(X1,X1),t}function X1(){if(--tv===0&&Ll!==null){is!==null&&(is.status="fulfilled");var e=Ll;Ll=null,gs=0,is=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function VM(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var Z1=ne.S;ne.S=function(e,t){IA=wr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&FM(e,t),Z1!==null&&Z1(e,t)};var Hi=Dn(null);function g0(){var e=Hi.current;return e!==null?e:Ae.pooledCache}function Rd(e,t){t===null?Ne(Hi,Hi.current):Ne(Hi,t.pool)}function CO(){var e=g0();return e===null?null:{parent:nt._currentValue,pool:e}}var Ls=Error(W(460)),v0=Error(W(474)),zh=Error(W(542)),rf={then:function(){}};function J1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function EO(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Gn,Gn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ew(e),e;default:if(typeof t.status=="string")t.then(Gn,Gn);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(W(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ew(e),e}throw Fi=t,Ls}}function ki(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Fi=r,Ls):r}}var Fi=null;function Q1(){if(Fi===null)throw Error(W(459));var e=Fi;return Fi=null,e}function ew(e){if(e===Ls||e===zh)throw Error(W(483))}var os=null,uc=0;function Wu(e){var t=uc;return uc+=1,os===null&&(os=[]),EO(os,e,t)}function gl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hu(e,t){throw t.$$typeof===N4?Error(W(525)):(e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function OO(e){function t(y,p){if(e){var w=y.deletions;w===null?(y.deletions=[p],y.flags|=16):w.push(p)}}function r(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function n(y){for(var p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function a(y,p){return y=Jn(y,p),y.index=0,y.sibling=null,y}function i(y,p,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<p?(y.flags|=67108866,p):w):(y.flags|=67108866,p)):(y.flags|=1048576,p)}function o(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function s(y,p,w,_){return p===null||p.tag!==6?(p=Sp(w,y.mode,_),p.return=y,p):(p=a(p,w),p.return=y,p)}function c(y,p,w,_){var j=w.type;return j===qo?d(y,p,w.props.children,_,w.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pa&&ki(j)===p.type)?(p=a(p,w.props),gl(p,w),p.return=y,p):(p=Td(w.type,w.key,w.props,null,y.mode,_),gl(p,w),p.return=y,p)}function u(y,p,w,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Cp(w,y.mode,_),p.return=y,p):(p=a(p,w.children||[]),p.return=y,p)}function d(y,p,w,_,j){return p===null||p.tag!==7?(p=Wi(w,y.mode,_,j),p.return=y,p):(p=a(p,w),p.return=y,p)}function f(y,p,w){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Sp(""+p,y.mode,w),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zu:return w=Td(p.type,p.key,p.props,null,y.mode,w),gl(w,p),w.return=y,w;case Al:return p=Cp(p,y.mode,w),p.return=y,p;case Pa:return p=ki(p),f(y,p,w)}if(kl(p)||hl(p))return p=Wi(p,y.mode,w,null),p.return=y,p;if(typeof p.then=="function")return f(y,Wu(p),w);if(p.$$typeof===Kn)return f(y,qu(y,p),w);Hu(y,p)}return null}function m(y,p,w,_){var j=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return j!==null?null:s(y,p,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zu:return w.key===j?c(y,p,w,_):null;case Al:return w.key===j?u(y,p,w,_):null;case Pa:return w=ki(w),m(y,p,w,_)}if(kl(w)||hl(w))return j!==null?null:d(y,p,w,_,null);if(typeof w.then=="function")return m(y,p,Wu(w),_);if(w.$$typeof===Kn)return m(y,p,qu(y,w),_);Hu(y,w)}return null}function h(y,p,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return y=y.get(w)||null,s(p,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zu:return y=y.get(_.key===null?w:_.key)||null,c(p,y,_,j);case Al:return y=y.get(_.key===null?w:_.key)||null,u(p,y,_,j);case Pa:return _=ki(_),h(y,p,w,_,j)}if(kl(_)||hl(_))return y=y.get(w)||null,d(p,y,_,j,null);if(typeof _.then=="function")return h(y,p,w,Wu(_),j);if(_.$$typeof===Kn)return h(y,p,w,qu(p,_),j);Hu(p,_)}return null}function v(y,p,w,_){for(var j=null,C=null,S=p,E=p=0,O=null;S!==null&&E<w.length;E++){S.index>E?(O=S,S=null):O=S.sibling;var A=m(y,S,w[E],_);if(A===null){S===null&&(S=O);break}e&&S&&A.alternate===null&&t(y,S),p=i(A,p,E),C===null?j=A:C.sibling=A,C=A,S=O}if(E===w.length)return r(y,S),he&&qn(y,E),j;if(S===null){for(;E<w.length;E++)S=f(y,w[E],_),S!==null&&(p=i(S,p,E),C===null?j=S:C.sibling=S,C=S);return he&&qn(y,E),j}for(S=n(S);E<w.length;E++)O=h(S,y,E,w[E],_),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?E:O.key),p=i(O,p,E),C===null?j=O:C.sibling=O,C=O);return e&&S.forEach(function(N){return t(y,N)}),he&&qn(y,E),j}function x(y,p,w,_){if(w==null)throw Error(W(151));for(var j=null,C=null,S=p,E=p=0,O=null,A=w.next();S!==null&&!A.done;E++,A=w.next()){S.index>E?(O=S,S=null):O=S.sibling;var N=m(y,S,A.value,_);if(N===null){S===null&&(S=O);break}e&&S&&N.alternate===null&&t(y,S),p=i(N,p,E),C===null?j=N:C.sibling=N,C=N,S=O}if(A.done)return r(y,S),he&&qn(y,E),j;if(S===null){for(;!A.done;E++,A=w.next())A=f(y,A.value,_),A!==null&&(p=i(A,p,E),C===null?j=A:C.sibling=A,C=A);return he&&qn(y,E),j}for(S=n(S);!A.done;E++,A=w.next())A=h(S,y,E,A.value,_),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?E:A.key),p=i(A,p,E),C===null?j=A:C.sibling=A,C=A);return e&&S.forEach(function(T){return t(y,T)}),he&&qn(y,E),j}function b(y,p,w,_){if(typeof w=="object"&&w!==null&&w.type===qo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zu:e:{for(var j=w.key;p!==null;){if(p.key===j){if(j=w.type,j===qo){if(p.tag===7){r(y,p.sibling),_=a(p,w.props.children),_.return=y,y=_;break e}}else if(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pa&&ki(j)===p.type){r(y,p.sibling),_=a(p,w.props),gl(_,w),_.return=y,y=_;break e}r(y,p);break}else t(y,p);p=p.sibling}w.type===qo?(_=Wi(w.props.children,y.mode,_,w.key),_.return=y,y=_):(_=Td(w.type,w.key,w.props,null,y.mode,_),gl(_,w),_.return=y,y=_)}return o(y);case Al:e:{for(j=w.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){r(y,p.sibling),_=a(p,w.children||[]),_.return=y,y=_;break e}else{r(y,p);break}else t(y,p);p=p.sibling}_=Cp(w,y.mode,_),_.return=y,y=_}return o(y);case Pa:return w=ki(w),b(y,p,w,_)}if(kl(w))return v(y,p,w,_);if(hl(w)){if(j=hl(w),typeof j!="function")throw Error(W(150));return w=j.call(w),x(y,p,w,_)}if(typeof w.then=="function")return b(y,p,Wu(w),_);if(w.$$typeof===Kn)return b(y,p,qu(y,w),_);Hu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,p!==null&&p.tag===6?(r(y,p.sibling),_=a(p,w),_.return=y,y=_):(r(y,p),_=Sp(w,y.mode,_),_.return=y,y=_),o(y)):r(y,p)}return function(y,p,w,_){try{uc=0;var j=b(y,p,w,_);return os=null,j}catch(S){if(S===Ls||S===zh)throw S;var C=pr(29,S,null,y.mode);return C.lanes=_,C.return=y,C}finally{}}}var Qi=OO(!0),AO=OO(!1),Ma=!1;function y0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ri(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Qd(e),bO(e,null,r),t}return Mh(e,n,t,r),Qd(e)}function Ul(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,VE(e,r)}}function Op(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var nv=!1;function ql(){if(nv){var e=is;if(e!==null)throw e}}function Wl(e,t,r,n){nv=!1;var a=e.updateQueue;Ma=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,s=i;do{var m=s.lane&-536870913,h=m!==s.lane;if(h?(fe&m)===m:(n&m)===m){m!==0&&m===gs&&(nv=!0),d!==null&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=e,x=s;m=t;var b=r;switch(x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(b,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(b,f,m):v,m==null)break e;f=Be({},f,m);break e;case 2:Ma=!0}}m=s.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=a.callbacks,h===null?a.callbacks=[m]:h.push(m))}else h={lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),fi|=o,e.lanes=o,e.memoizedState=f}}function kO(e,t){if(typeof e!="function")throw Error(W(191,e));e.call(t)}function TO(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)kO(r[e],t)}var vs=Dn(null),nf=Dn(0);function tw(e,t){e=sa,Ne(nf,e),Ne(vs,t),sa=e|t.baseLanes}function av(){Ne(nf,sa),Ne(vs,vs.current)}function b0(){sa=nf.current,_t(vs),_t(nf)}var Or=Dn(null),Wr=null;function La(e){var t=e.alternate;Ne(Ge,Ge.current&1),Ne(Or,e),Wr===null&&(t===null||vs.current!==null||t.memoizedState!==null)&&(Wr=e)}function iv(e){Ne(Ge,Ge.current),Ne(Or,e),Wr===null&&(Wr=e)}function RO(e){e.tag===22?(Ne(Ge,Ge.current),Ne(Or,e),Wr===null&&(Wr=e)):Ua()}function Ua(){Ne(Ge,Ge.current),Ne(Or,Or.current)}function mr(e){_t(Or),Wr===e&&(Wr=null),_t(Ge)}var Ge=Dn(0);function af(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sv(r)||Cv(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=0,le=null,Ce=null,tt=null,of=!1,ss=!1,eo=!1,sf=0,dc=0,ls=null,KM=0;function He(){throw Error(W(321))}function x0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Er(e[r],t[r]))return!1;return!0}function w0(e,t,r,n,a,i){return aa=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ne.H=e===null||e.memoizedState===null?lA:N0,eo=!1,i=r(n,a),eo=!1,ss&&(i=DO(t,r,n,a)),NO(e),i}function NO(e){ne.H=fc;var t=Ce!==null&&Ce.next!==null;if(aa=0,tt=Ce=le=null,of=!1,dc=0,ls=null,t)throw Error(W(300));e===null||at||(e=e.dependencies,e!==null&&tf(e)&&(at=!0))}function DO(e,t,r,n){le=e;var a=0;do{if(ss&&(ls=null),dc=0,ss=!1,25<=a)throw Error(W(301));if(a+=1,tt=Ce=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ne.H=cA,i=t(r,n)}while(ss);return i}function GM(){var e=ne.H,t=e.useState()[0];return t=typeof t.then=="function"?Gc(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(le.flags|=1024),t}function _0(){var e=sf!==0;return sf=0,e}function j0(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function S0(e){if(of){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}of=!1}aa=0,tt=Ce=le=null,ss=!1,dc=sf=0,ls=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?le.memoizedState=tt=e:tt=tt.next=e,tt}function Ye(){if(Ce===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=tt===null?le.memoizedState:tt.next;if(t!==null)tt=t,Ce=e;else{if(e===null)throw le.alternate===null?Error(W(467)):Error(W(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},tt===null?le.memoizedState=tt=e:tt=tt.next=e}return tt}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gc(e){var t=dc;return dc+=1,ls===null&&(ls=[]),e=EO(ls,e,t),t=le,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,ne.H=t===null||t.memoizedState===null?lA:N0),e}function Ih(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gc(e);if(e.$$typeof===Kn)return Dt(e)}throw Error(W(438,String(e)))}function C0(e){var t=null,r=le.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=le.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Bh(),le.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=D4;return t.index++,r}function ia(e,t){return typeof t=="function"?t(e):t}function Nd(e){var t=Ye();return E0(t,Ce,e)}function E0(e,t,r){var n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var s=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(fe&f)===f:(aa&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===gs&&(d=!0);else if((aa&m)===m){u=u.next,m===gs&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=f,o=i):c=c.next=f,le.lanes|=m,fi|=m;f=u.action,eo&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=m,o=i):c=c.next=m,le.lanes|=f,fi|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=s,!Er(i,e.memoizedState)&&(at=!0,d&&(r=is,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ap(e){var t=Ye(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Er(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function PO(e,t,r){var n=le,a=Ye(),i=he;if(i){if(r===void 0)throw Error(W(407));r=r()}else r=t();var o=!Er((Ce||a).memoizedState,r);if(o&&(a.memoizedState=r,at=!0),a=a.queue,O0(BO.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,ys(9,{destroy:void 0},zO.bind(null,n,a,r,t),null),Ae===null)throw Error(W(349));i||aa&127||MO(n,t,r)}return r}function MO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=le.updateQueue,t===null?(t=Bh(),le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zO(e,t,r,n){t.value=r,t.getSnapshot=n,IO(t)&&$O(e)}function BO(e,t,r){return r(function(){IO(t)&&$O(e)})}function IO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Er(e,r)}catch{return!0}}function $O(e){var t=mo(e,2);t!==null&&nr(t,e,2)}function ov(e){var t=Ut();if(typeof e=="function"){var r=e;if(e=r(),eo){Va(!0);try{r()}finally{Va(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function LO(e,t,r,n){return e.baseState=r,E0(e,Ce,typeof n=="function"?n:ia)}function YM(e,t,r,n,a){if(Lh(e))throw Error(W(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};ne.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,UO(t,i)):(i.next=r.next,t.pending=r.next=i)}}function UO(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=ne.T,o={};ne.T=o;try{var s=r(a,n),c=ne.S;c!==null&&c(o,s),rw(e,t,s)}catch(u){sv(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),ne.T=i}}else try{i=r(a,n),rw(e,t,i)}catch(u){sv(e,t,u)}}function rw(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){nw(e,t,n)},function(n){return sv(e,t,n)}):nw(e,t,r)}function nw(e,t,r){t.status="fulfilled",t.value=r,qO(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,UO(e,r)))}function sv(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,qO(t),t=t.next;while(t!==n)}e.action=null}function qO(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function WO(e,t){return t}function aw(e,t){if(he){var r=Ae.formState;if(r!==null){e:{var n=le;if(he){if(Me){t:{for(var a=Me,i=Ur;a.nodeType!==8;){if(!i){a=null;break t}if(a=Hr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Me=Hr(a.nextSibling),n=a.data==="F!";break e}}ui(n)}n=!1}n&&(t=r[0])}}return r=Ut(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WO,lastRenderedState:t},r.queue=n,r=iA.bind(null,le,n),n.dispatch=r,n=ov(!1),i=R0.bind(null,le,!1,n.queue),n=Ut(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=YM.bind(null,le,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function iw(e){var t=Ye();return HO(t,Ce,e)}function HO(e,t,r){if(t=E0(e,t,WO)[0],e=Nd(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Gc(t)}catch(o){throw o===Ls?zh:o}else n=t;t=Ye();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(le.flags|=2048,ys(9,{destroy:void 0},XM.bind(null,a,r),null)),[n,i,e]}function XM(e,t){e.action=t}function ow(e){var t=Ye(),r=Ce;if(r!==null)return HO(t,r,e);Ye(),t=t.memoizedState,r=Ye();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function ys(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=le.updateQueue,t===null&&(t=Bh(),le.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function FO(){return Ye().memoizedState}function Dd(e,t,r,n){var a=Ut();le.flags|=e,a.memoizedState=ys(1|t,{destroy:void 0},r,n===void 0?null:n)}function $h(e,t,r,n){var a=Ye();n=n===void 0?null:n;var i=a.memoizedState.inst;Ce!==null&&n!==null&&x0(n,Ce.memoizedState.deps)?a.memoizedState=ys(t,i,r,n):(le.flags|=e,a.memoizedState=ys(1|t,i,r,n))}function sw(e,t){Dd(8390656,8,e,t)}function O0(e,t){$h(2048,8,e,t)}function ZM(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=Bh(),le.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function VO(e){var t=Ye().memoizedState;return ZM({ref:t,nextImpl:e}),function(){if(ye&2)throw Error(W(440));return t.impl.apply(void 0,arguments)}}function KO(e,t){return $h(4,2,e,t)}function GO(e,t){return $h(4,4,e,t)}function YO(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function XO(e,t,r){r=r!=null?r.concat([e]):null,$h(4,4,YO.bind(null,t,e),r)}function A0(){}function ZO(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&x0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function JO(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&x0(t,n[1]))return n[0];if(n=e(),eo){Va(!0);try{e()}finally{Va(!1)}}return r.memoizedState=[n,t],n}function k0(e,t,r){return r===void 0||aa&1073741824&&!(fe&261930)?e.memoizedState=t:(e.memoizedState=r,e=LA(),le.lanes|=e,fi|=e,r)}function QO(e,t,r,n){return Er(r,t)?r:vs.current!==null?(e=k0(e,r,n),Er(e,t)||(at=!0),e):!(aa&42)||aa&1073741824&&!(fe&261930)?(at=!0,e.memoizedState=r):(e=LA(),le.lanes|=e,fi|=e,t)}function eA(e,t,r,n,a){var i=be.p;be.p=i!==0&&8>i?i:8;var o=ne.T,s={};ne.T=s,R0(e,!1,t,r);try{var c=a(),u=ne.S;if(u!==null&&u(s,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=VM(c,n);Hl(e,t,d,Sr(e))}else Hl(e,t,n,Sr(e))}catch(f){Hl(e,t,{then:function(){},status:"rejected",reason:f},Sr())}finally{be.p=i,o!==null&&s.types!==null&&(o.types=s.types),ne.T=o}}function JM(){}function lv(e,t,r,n){if(e.tag!==5)throw Error(W(476));var a=tA(e).queue;eA(e,a,t,qi,r===null?JM:function(){return rA(e),r(n)})}function tA(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:qi,baseState:qi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:qi},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rA(e){var t=tA(e);t.next===null&&(t=e.alternate.memoizedState),Hl(e,t.next.queue,{},Sr())}function T0(){return Dt(pc)}function nA(){return Ye().memoizedState}function aA(){return Ye().memoizedState}function QM(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Sr();e=ti(r);var n=ri(t,e,r);n!==null&&(nr(n,t,r),Ul(n,t,r)),t={cache:p0()},e.payload=t;return}t=t.return}}function e6(e,t,r){var n=Sr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Lh(e)?oA(t,r):(r=d0(e,t,r,n),r!==null&&(nr(r,e,n),sA(r,t,n)))}function iA(e,t,r){var n=Sr();Hl(e,t,r,n)}function Hl(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lh(e))oA(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,Er(s,o))return Mh(e,t,a,0),Ae===null&&Ph(),!1}catch{}finally{}if(r=d0(e,t,a,n),r!==null)return nr(r,e,n),sA(r,t,n),!0}return!1}function R0(e,t,r,n){if(n={lane:2,revertLane:L0(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Lh(e)){if(t)throw Error(W(479))}else t=d0(e,r,n,2),t!==null&&nr(t,e,2)}function Lh(e){var t=e.alternate;return e===le||t!==null&&t===le}function oA(e,t){ss=of=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sA(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,VE(e,r)}}var fc={readContext:Dt,use:Ih,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};fc.useEffectEvent=He;var lA={readContext:Dt,use:Ih,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:sw,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Dd(4194308,4,YO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dd(4194308,4,e,t)},useInsertionEffect:function(e,t){Dd(4,2,e,t)},useMemo:function(e,t){var r=Ut();t=t===void 0?null:t;var n=e();if(eo){Va(!0);try{e()}finally{Va(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Ut();if(r!==void 0){var a=r(t);if(eo){Va(!0);try{r(t)}finally{Va(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=e6.bind(null,le,e),[n.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=ov(e);var t=e.queue,r=iA.bind(null,le,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:A0,useDeferredValue:function(e,t){var r=Ut();return k0(r,e,t)},useTransition:function(){var e=ov(!1);return e=eA.bind(null,le,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=le,a=Ut();if(he){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Ae===null)throw Error(W(349));fe&127||MO(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,sw(BO.bind(null,n,i,e),[e]),n.flags|=2048,ys(9,{destroy:void 0},zO.bind(null,n,i,r,t),null),r},useId:function(){var e=Ut(),t=Ae.identifierPrefix;if(he){var r=jn,n=_n;r=(n&~(1<<32-jr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=sf++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=KM++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:T0,useFormState:aw,useActionState:aw,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=R0.bind(null,le,!0,r),r.dispatch=t,[e,t]},useMemoCache:C0,useCacheRefresh:function(){return Ut().memoizedState=QM.bind(null,le)},useEffectEvent:function(e){var t=Ut(),r={impl:e};return t.memoizedState=r,function(){if(ye&2)throw Error(W(440));return r.impl.apply(void 0,arguments)}}},N0={readContext:Dt,use:Ih,useCallback:ZO,useContext:Dt,useEffect:O0,useImperativeHandle:XO,useInsertionEffect:KO,useLayoutEffect:GO,useMemo:JO,useReducer:Nd,useRef:FO,useState:function(){return Nd(ia)},useDebugValue:A0,useDeferredValue:function(e,t){var r=Ye();return QO(r,Ce.memoizedState,e,t)},useTransition:function(){var e=Nd(ia)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Gc(e),t]},useSyncExternalStore:PO,useId:nA,useHostTransitionStatus:T0,useFormState:iw,useActionState:iw,useOptimistic:function(e,t){var r=Ye();return LO(r,Ce,e,t)},useMemoCache:C0,useCacheRefresh:aA};N0.useEffectEvent=VO;var cA={readContext:Dt,use:Ih,useCallback:ZO,useContext:Dt,useEffect:O0,useImperativeHandle:XO,useInsertionEffect:KO,useLayoutEffect:GO,useMemo:JO,useReducer:Ap,useRef:FO,useState:function(){return Ap(ia)},useDebugValue:A0,useDeferredValue:function(e,t){var r=Ye();return Ce===null?k0(r,e,t):QO(r,Ce.memoizedState,e,t)},useTransition:function(){var e=Ap(ia)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Gc(e),t]},useSyncExternalStore:PO,useId:nA,useHostTransitionStatus:T0,useFormState:ow,useActionState:ow,useOptimistic:function(e,t){var r=Ye();return Ce!==null?LO(r,Ce,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:C0,useCacheRefresh:aA};cA.useEffectEvent=VO;function kp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cv={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Sr(),a=ti(n);a.payload=t,r!=null&&(a.callback=r),t=ri(e,a,n),t!==null&&(nr(t,e,n),Ul(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Sr(),a=ti(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ri(e,a,n),t!==null&&(nr(t,e,n),Ul(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Sr(),n=ti(r);n.tag=2,t!=null&&(n.callback=t),t=ri(e,n,r),t!==null&&(nr(t,e,r),Ul(t,e,r))}};function lw(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!sc(r,n)||!sc(a,i):!0}function cw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cv.enqueueReplaceState(t,t.state,null)}function to(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Be({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function uA(e){Jd(e)}function dA(e){console.error(e)}function fA(e){Jd(e)}function lf(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function uw(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function uv(e,t,r){return r=ti(r),r.tag=3,r.payload={element:null},r.callback=function(){lf(e,t)},r}function hA(e){return e=ti(e),e.tag=3,e}function mA(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){uw(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){uw(t,r,n),typeof a!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})})}function t6(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&$s(t,r,a,!0),r=Or.current,r!==null){switch(r.tag){case 31:case 13:return Wr===null?hf():r.alternate===null&&Ve===0&&(Ve=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===rf?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),Lp(e,n,a)),!1;case 22:return r.flags|=65536,n===rf?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),Lp(e,n,a)),!1}throw Error(W(435,r.tag))}return Lp(e,n,a),hf(),!1}if(he)return t=Or.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Zg&&(e=Error(W(422),{cause:n}),cc(Lr(e,r)))):(n!==Zg&&(t=Error(W(423),{cause:n}),cc(Lr(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Lr(n,r),a=uv(e.stateNode,n,a),Op(e,a),Ve!==4&&(Ve=2)),!1;var i=Error(W(520),{cause:n});if(i=Lr(i,r),Kl===null?Kl=[i]:Kl.push(i),Ve!==4&&(Ve=2),t===null)return!0;n=Lr(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=uv(r.stateNode,n,e),Op(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ni===null||!ni.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=hA(a),mA(a,e,r,n),Op(r,a),!1}r=r.return}while(r!==null);return!1}var D0=Error(W(461)),at=!1;function At(e,t,r,n){t.child=e===null?AO(t,null,r,n):Qi(t,e.child,r,n)}function dw(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}else o=n;return Ji(t),n=w0(e,t,r,o,i,a),s=_0(),e!==null&&!at?(j0(e,t,a),oa(e,t,a)):(he&&s&&h0(t),t.flags|=1,At(e,t,n,a),t.child)}function fw(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!f0(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,pA(e,t,i,n,a)):(e=Td(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!P0(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:sc,r(o,n)&&e.ref===t.ref)return oa(e,t,a)}return t.flags|=1,e=Jn(i,n),e.ref=t.ref,e.return=t,t.child=e}function pA(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(sc(i,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=i,P0(e,a))e.flags&131072&&(at=!0);else return t.lanes=e.lanes,oa(e,t,a)}return dv(e,t,r,n,a)}function gA(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return hw(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rd(t,i!==null?i.cachePool:null),i!==null?tw(t,i):av(),RO(t);else return n=t.lanes=536870912,hw(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(Rd(t,i.cachePool),tw(t,i),Ua(),t.memoizedState=null):(e!==null&&Rd(t,null),av(),Ua());return At(e,t,a,r),t.child}function Rl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function hw(e,t,r,n,a){var i=g0();return i=i===null?null:{parent:nt._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&Rd(t,null),av(),RO(t),e!==null&&$s(e,t,n,!0),t.childLanes=a,null}function Pd(e,t){return t=cf({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mw(e,t,r){return Qi(t,e.child,null,r),e=Pd(t,t.pendingProps),e.flags|=2,mr(t),t.memoizedState=null,e}function r6(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(he){if(n.mode==="hidden")return e=Pd(t,n),t.lanes=536870912,Rl(null,e);if(iv(t),(e=Me)?(e=l2(e,Ur),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ci!==null?{id:_n,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},r=wO(e),r.return=t,t.child=r,Nt=t,Me=null)):e=null,e===null)throw ui(t);return t.lanes=536870912,null}return Pd(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(iv(t),a)if(t.flags&256)t.flags&=-257,t=mw(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(W(558));else if(at||$s(e,t,r,!1),a=(r&e.childLanes)!==0,at||a){if(n=Ae,n!==null&&(o=KE(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,mo(e,o),nr(n,e,o),D0;hf(),t=mw(e,t,r)}else e=i.treeContext,Me=Hr(o.nextSibling),Nt=t,he=!0,ei=null,Ur=!1,e!==null&&jO(t,e),t=Pd(t,n),t.flags|=4096;return t}return e=Jn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Md(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(W(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function dv(e,t,r,n,a){return Ji(t),r=w0(e,t,r,n,void 0,a),n=_0(),e!==null&&!at?(j0(e,t,a),oa(e,t,a)):(he&&n&&h0(t),t.flags|=1,At(e,t,r,a),t.child)}function pw(e,t,r,n,a,i){return Ji(t),t.updateQueue=null,r=DO(t,n,r,a),NO(e),n=_0(),e!==null&&!at?(j0(e,t,i),oa(e,t,i)):(he&&n&&h0(t),t.flags|=1,At(e,t,r,i),t.child)}function gw(e,t,r,n,a){if(Ji(t),t.stateNode===null){var i=Xo,o=r.contextType;typeof o=="object"&&o!==null&&(i=Dt(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=cv,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},y0(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Dt(o):Xo,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(kp(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&cv.enqueueReplaceState(i,i.state,null),Wl(t,n,i,a),ql(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var s=t.memoizedProps,c=to(r,s);i.props=c;var u=i.context,d=r.contextType;o=Xo,typeof d=="object"&&d!==null&&(o=Dt(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==o)&&cw(t,i,n,o),Ma=!1;var m=t.memoizedState;i.state=m,Wl(t,n,i,a),ql(),u=t.memoizedState,s||m!==u||Ma?(typeof f=="function"&&(kp(t,r,f,n),u=t.memoizedState),(c=Ma||lw(t,r,c,n,m,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,rv(e,t),o=t.memoizedProps,d=to(r,o),i.props=d,f=t.pendingProps,m=i.context,u=r.contextType,c=Xo,typeof u=="object"&&u!==null&&(c=Dt(u)),s=r.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||m!==c)&&cw(t,i,n,c),Ma=!1,m=t.memoizedState,i.state=m,Wl(t,n,i,a),ql();var h=t.memoizedState;o!==f||m!==h||Ma||e!==null&&e.dependencies!==null&&tf(e.dependencies)?(typeof s=="function"&&(kp(t,r,s,n),h=t.memoizedState),(d=Ma||lw(t,r,d,n,m,h,c)||e!==null&&e.dependencies!==null&&tf(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),i.props=n,i.state=h,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Md(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Qi(t,e.child,null,a),t.child=Qi(t,null,r,a)):At(e,t,r,a),t.memoizedState=i.state,e=t.child):e=oa(e,t,a),e}function vw(e,t,r,n){return Zi(),t.flags|=256,At(e,t,r,n),t.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rp(e){return{baseLanes:e,cachePool:CO()}}function Np(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=br),e}function vA(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(a?La(t):Ua(),(e=Me)?(e=l2(e,Ur),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ci!==null?{id:_n,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},r=wO(e),r.return=t,t.child=r,Nt=t,Me=null)):e=null,e===null)throw ui(t);return Cv(e)?t.lanes=32:t.lanes=536870912,null}var s=n.children;return n=n.fallback,a?(Ua(),a=t.mode,s=cf({mode:"hidden",children:s},a),n=Wi(n,a,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n=t.child,n.memoizedState=Rp(r),n.childLanes=Np(e,o,r),t.memoizedState=Tp,Rl(null,n)):(La(t),fv(t,s))}var c=e.memoizedState;if(c!==null&&(s=c.dehydrated,s!==null)){if(i)t.flags&256?(La(t),t.flags&=-257,t=Dp(e,t,r)):t.memoizedState!==null?(Ua(),t.child=e.child,t.flags|=128,t=null):(Ua(),s=n.fallback,a=t.mode,n=cf({mode:"visible",children:n.children},a),s=Wi(s,a,r,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,Qi(t,e.child,null,r),n=t.child,n.memoizedState=Rp(r),n.childLanes=Np(e,o,r),t.memoizedState=Tp,t=Rl(null,n));else if(La(t),Cv(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(W(419)),n.stack="",n.digest=o,cc({value:n,source:null,stack:null}),t=Dp(e,t,r)}else if(at||$s(e,t,r,!1),o=(r&e.childLanes)!==0,at||o){if(o=Ae,o!==null&&(n=KE(o,r),n!==0&&n!==c.retryLane))throw c.retryLane=n,mo(e,n),nr(o,e,n),D0;Sv(s)||hf(),t=Dp(e,t,r)}else Sv(s)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Me=Hr(s.nextSibling),Nt=t,he=!0,ei=null,Ur=!1,e!==null&&jO(t,e),t=fv(t,n.children),t.flags|=4096);return t}return a?(Ua(),s=n.fallback,a=t.mode,c=e.child,u=c.sibling,n=Jn(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?s=Jn(u,s):(s=Wi(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,Rl(null,n),n=t.child,s=e.child.memoizedState,s===null?s=Rp(r):(a=s.cachePool,a!==null?(c=nt._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=CO(),s={baseLanes:s.baseLanes|r,cachePool:a}),n.memoizedState=s,n.childLanes=Np(e,o,r),t.memoizedState=Tp,Rl(e.child,n)):(La(t),r=e.child,e=r.sibling,r=Jn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function fv(e,t){return t=cf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cf(e,t){return e=pr(22,e,null,t),e.lanes=0,e}function Dp(e,t,r){return Qi(t,e.child,null,r),e=fv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qg(e.return,t,r)}function Pp(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function yA(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Ge.current,s=(o&2)!==0;if(s?(o=o&1|2,t.flags|=128):o&=1,Ne(Ge,o),At(e,t,n,r),n=he?lc:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yw(e,r,t);else if(e.tag===19)yw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&af(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Pp(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&af(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Pp(t,!0,r,null,i,n);break;case"together":Pp(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function oa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(r&t.childLanes))if(e!==null){if($s(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Jn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function P0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&tf(e)))}function n6(e,t,r){switch(t.tag){case 3:Gd(t,t.stateNode.containerInfo),$a(t,nt,e.memoizedState.cache),Zi();break;case 27:case 5:Lg(t);break;case 4:Gd(t,t.stateNode.containerInfo);break;case 10:$a(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,iv(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(La(t),t.flags|=128,null):r&t.child.childLanes?vA(e,t,r):(La(t),e=oa(e,t,r),e!==null?e.sibling:null);La(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||($s(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return yA(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ne(Ge,Ge.current),n)break;return null;case 22:return t.lanes=0,gA(e,t,r,t.pendingProps);case 24:$a(t,nt,e.memoizedState.cache)}return oa(e,t,r)}function bA(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!P0(e,r)&&!(t.flags&128))return at=!1,n6(e,t,r);at=!!(e.flags&131072)}else at=!1,he&&t.flags&1048576&&_O(t,lc,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ki(t.elementType),t.type=e,typeof e=="function")f0(e)?(n=to(e,n),t.tag=1,t=gw(null,t,e,n,r)):(t.tag=0,t=dv(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===Jy){t.tag=11,t=dw(null,t,e,n,r);break e}else if(a===Qy){t.tag=14,t=fw(null,t,e,n,r);break e}}throw t=Ig(e)||e,Error(W(306,t,""))}}return t;case 0:return dv(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=to(n,t.pendingProps),gw(e,t,n,a,r);case 3:e:{if(Gd(t,t.stateNode.containerInfo),e===null)throw Error(W(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,rv(e,t),Wl(t,n,null,r);var o=t.memoizedState;if(n=o.cache,$a(t,nt,n),n!==i.cache&&ev(t,[nt],r,!0),ql(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=vw(e,t,n,r);break e}else if(n!==a){a=Lr(Error(W(424)),t),cc(a),t=vw(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Hr(e.firstChild),Nt=t,he=!0,ei=null,Ur=!0,r=AO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Zi(),n===a){t=oa(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 26:return Md(e,t),e===null?(r=Iw(t.type,null,t.pendingProps,null))?t.memoizedState=r:he||(r=t.type,e=t.pendingProps,n=vf(Qa.current).createElement(r),n[Rt]=t,n[ar]=e,Mt(n,r,e),wt(n),t.stateNode=n):t.memoizedState=Iw(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Lg(t),e===null&&he&&(n=t.stateNode=c2(t.type,t.pendingProps,Qa.current),Nt=t,Ur=!0,a=Me,vi(t.type)?(Ev=a,Me=Hr(n.firstChild)):Me=a),At(e,t,t.pendingProps.children,r),Md(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((a=n=Me)&&(n=D6(n,t.type,t.pendingProps,Ur),n!==null?(t.stateNode=n,Nt=t,Me=Hr(n.firstChild),Ur=!1,a=!0):a=!1),a||ui(t)),Lg(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,_v(a,i)?n=null:o!==null&&_v(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=w0(e,t,GM,null,null,r),pc._currentValue=a),Md(e,t),At(e,t,n,r),t.child;case 6:return e===null&&he&&((e=r=Me)&&(r=P6(r,t.pendingProps,Ur),r!==null?(t.stateNode=r,Nt=t,Me=null,e=!0):e=!1),e||ui(t)),null;case 13:return vA(e,t,r);case 4:return Gd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qi(t,null,n,r):At(e,t,n,r),t.child;case 11:return dw(e,t,t.type,t.pendingProps,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,$a(t,t.type,n.value),At(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Ji(t),a=Dt(a),n=n(a),t.flags|=1,At(e,t,n,r),t.child;case 14:return fw(e,t,t.type,t.pendingProps,r);case 15:return pA(e,t,t.type,t.pendingProps,r);case 19:return yA(e,t,r);case 31:return r6(e,t,r);case 22:return gA(e,t,r,t.pendingProps);case 24:return Ji(t),n=Dt(nt),e===null?(a=g0(),a===null&&(a=Ae,i=p0(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},y0(t),$a(t,nt,a)):(e.lanes&r&&(rv(e,t),Wl(t,null,null,r),ql()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),$a(t,nt,n)):(n=i.cache,$a(t,nt,n),n!==a.cache&&ev(t,[nt],r,!0))),At(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(W(156,t.tag))}function Bn(e){e.flags|=4}function Mp(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(WA())e.flags|=8192;else throw Fi=rf,v0}else e.flags&=-16777217}function bw(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!f2(t))if(WA())e.flags|=8192;else throw Fi=rf,v0}function Fu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?HE():536870912,e.lanes|=t,bs|=t)}function vl(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function a6(e,t,r){var n=t.pendingProps;switch(m0(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Qn(nt),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Eo(t)?Bn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ep())),De(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(Bn(t),i!==null?(De(t),bw(t,i)):(De(t),Mp(t,a,null,n,r))):i?i!==e.memoizedState?(Bn(t),De(t),bw(t,i)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Bn(t),De(t),Mp(t,a,e,n,r)),null;case 27:if(Yd(t),r=Qa.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Bn(t);else{if(!n){if(t.stateNode===null)throw Error(W(166));return De(t),null}e=On.current,Eo(t)?G1(t):(e=c2(a,n,r),t.stateNode=e,Bn(t))}return De(t),null;case 5:if(Yd(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Bn(t);else{if(!n){if(t.stateNode===null)throw Error(W(166));return De(t),null}if(i=On.current,Eo(t))G1(t);else{var o=vf(Qa.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[Rt]=t,i[ar]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Mt(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Bn(t)}}return De(t),Mp(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Bn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(e=Qa.current,Eo(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=Nt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Rt]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||i2(e.nodeValue,r)),e||ui(t,!0)}else e=vf(e).createTextNode(n),e[Rt]=t,t.stateNode=e}return De(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Eo(t),r!==null){if(e===null){if(!n)throw Error(W(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(557));e[Rt]=t}else Zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else r=Ep(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(mr(t),t):(mr(t),null);if(t.flags&128)throw Error(W(558))}return De(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Eo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Rt]=t}else Zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),a=!1}else a=Ep(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(mr(t),t):(mr(t),null)}return mr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Fu(t,t.updateQueue),De(t),null);case 4:return hs(),e===null&&U0(t.stateNode.containerInfo),De(t),null;case 10:return Qn(t.type),De(t),null;case 19:if(_t(Ge),n=t.memoizedState,n===null)return De(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)vl(n,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=af(e),i!==null){for(t.flags|=128,vl(n,!1),e=i.updateQueue,t.updateQueue=e,Fu(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)xO(r,e),r=r.sibling;return Ne(Ge,Ge.current&1|2),he&&qn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&wr()>df&&(t.flags|=128,a=!0,vl(n,!1),t.lanes=4194304)}else{if(!a)if(e=af(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Fu(t,e),vl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!he)return De(t),null}else 2*wr()-n.renderingStartTime>df&&r!==536870912&&(t.flags|=128,a=!0,vl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=wr(),e.sibling=null,r=Ge.current,Ne(Ge,a?r&1|2:r&1),he&&qn(t,n.treeForkCount),e):(De(t),null);case 22:case 23:return mr(t),b0(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),r=t.updateQueue,r!==null&&Fu(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&_t(Hi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Qn(nt),De(t),null;case 25:return null;case 30:return null}throw Error(W(156,t.tag))}function i6(e,t){switch(m0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(nt),hs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Yd(t),null;case 31:if(t.memoizedState!==null){if(mr(t),t.alternate===null)throw Error(W(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(mr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Ge),null;case 4:return hs(),null;case 10:return Qn(t.type),null;case 22:case 23:return mr(t),b0(),e!==null&&_t(Hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qn(nt),null;case 25:return null;default:return null}}function xA(e,t){switch(m0(t),t.tag){case 3:Qn(nt),hs();break;case 26:case 27:case 5:Yd(t);break;case 4:hs();break;case 31:t.memoizedState!==null&&mr(t);break;case 13:mr(t);break;case 19:_t(Ge);break;case 10:Qn(t.type);break;case 22:case 23:mr(t),b0(),e!==null&&_t(Hi);break;case 24:Qn(nt)}}function Yc(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(s){_e(t,t.return,s)}}function di(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,a=t;var c=r,u=s;try{u()}catch(d){_e(a,c,d)}}}n=n.next}while(n!==i)}}catch(d){_e(t,t.return,d)}}function wA(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{TO(t,r)}catch(n){_e(e,e.return,n)}}}function _A(e,t,r){r.props=to(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){_e(e,t,n)}}function Fl(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){_e(e,t,a)}}function Sn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){_e(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){_e(e,t,a)}else r.current=null}function jA(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){_e(e,e.return,a)}}function zp(e,t,r){try{var n=e.stateNode;O6(n,e.type,r,t),n[ar]=t}catch(a){_e(e,e.return,a)}}function SA(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vi(e.type)||e.tag===4}function Bp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gn));else if(n!==4&&(n===27&&vi(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(hv(e,t,r),e=e.sibling;e!==null;)hv(e,t,r),e=e.sibling}function uf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&vi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(uf(e,t,r),e=e.sibling;e!==null;)uf(e,t,r),e=e.sibling}function CA(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Mt(t,n,r),t[Rt]=e,t[ar]=r}catch(i){_e(e,e.return,i)}}var Hn=!1,rt=!1,Ip=!1,xw=typeof WeakSet=="function"?WeakSet:Set,bt=null;function o6(e,t){if(e=e.containerInfo,xv=wf,e=fO(e),c0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===a&&(s=o),m===i&&++d===n&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wv={focusedElem:e,selectionRange:r},wf=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var v=to(r.type,a);e=n.getSnapshotBeforeUpdate(v,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){_e(r,r.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)jv(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jv(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(W(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function EA(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:$n(e,r),n&4&&Yc(5,r);break;case 1:if($n(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){_e(r,r.return,o)}else{var a=to(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){_e(r,r.return,o)}}n&64&&wA(r),n&512&&Fl(r,r.return);break;case 3:if($n(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{TO(e,t)}catch(o){_e(r,r.return,o)}}break;case 27:t===null&&n&4&&CA(r);case 26:case 5:$n(e,r),t===null&&n&4&&jA(r),n&512&&Fl(r,r.return);break;case 12:$n(e,r);break;case 31:$n(e,r),n&4&&kA(e,r);break;case 13:$n(e,r),n&4&&TA(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=p6.bind(null,r),M6(e,r))));break;case 22:if(n=r.memoizedState!==null||Hn,!n){t=t!==null&&t.memoizedState!==null||rt,a=Hn;var i=rt;Hn=n,(rt=t)&&!i?Ln(e,r,(r.subtreeFlags&8772)!==0):$n(e,r),Hn=a,rt=i}break;case 30:break;default:$n(e,r)}}function OA(e){var t=e.alternate;t!==null&&(e.alternate=null,OA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&n0(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,Qt=!1;function In(e,t,r){for(r=r.child;r!==null;)AA(e,t,r),r=r.sibling}function AA(e,t,r){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(qc,r)}catch{}switch(r.tag){case 26:rt||Sn(r,t),In(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rt||Sn(r,t);var n=$e,a=Qt;vi(r.type)&&($e=r.stateNode,Qt=!1),In(e,t,r),Yl(r.stateNode),$e=n,Qt=a;break;case 5:rt||Sn(r,t);case 6:if(n=$e,a=Qt,$e=null,In(e,t,r),$e=n,Qt=a,$e!==null)if(Qt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(r.stateNode)}catch(i){_e(r,t,i)}else try{$e.removeChild(r.stateNode)}catch(i){_e(r,t,i)}break;case 18:$e!==null&&(Qt?(e=$e,Dw(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),js(e)):Dw($e,r.stateNode));break;case 4:n=$e,a=Qt,$e=r.stateNode.containerInfo,Qt=!0,In(e,t,r),$e=n,Qt=a;break;case 0:case 11:case 14:case 15:di(2,r,t),rt||di(4,r,t),In(e,t,r);break;case 1:rt||(Sn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&_A(r,t,n)),In(e,t,r);break;case 21:In(e,t,r);break;case 22:rt=(n=rt)||r.memoizedState!==null,In(e,t,r),rt=n;break;default:In(e,t,r)}}function kA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{js(e)}catch(r){_e(t,t.return,r)}}}function TA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{js(e)}catch(r){_e(t,t.return,r)}}function s6(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new xw),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new xw),t;default:throw Error(W(435,e.tag))}}function Vu(e,t){var r=s6(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=g6.bind(null,e,n);n.then(a,a)}})}function Zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(vi(s.type)){$e=s.stateNode,Qt=!1;break e}break;case 5:$e=s.stateNode,Qt=!1;break e;case 3:case 4:$e=s.stateNode.containerInfo,Qt=!0;break e}s=s.return}if($e===null)throw Error(W(160));AA(i,o,a),$e=null,Qt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)RA(t,e),t=t.sibling}var rn=null;function RA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(t,e),Jt(e),n&4&&(di(3,e,e.return),Yc(3,e),di(5,e,e.return));break;case 1:Zt(t,e),Jt(e),n&512&&(rt||r===null||Sn(r,r.return)),n&64&&Hn&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=rn;if(Zt(t,e),Jt(e),n&512&&(rt||r===null||Sn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Fc]||i[Rt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Mt(i,n,r),i[Rt]=e,wt(i),n=i;break e;case"link":var o=Lw("link","href",a).get(n+(r.href||""));if(o){for(var s=0;s<o.length;s++)if(i=o[s],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(s,1);break t}}i=a.createElement(n),Mt(i,n,r),a.head.appendChild(i);break;case"meta":if(o=Lw("meta","content",a).get(n+(r.content||""))){for(s=0;s<o.length;s++)if(i=o[s],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(s,1);break t}}i=a.createElement(n),Mt(i,n,r),a.head.appendChild(i);break;default:throw Error(W(468,n))}i[Rt]=e,wt(i),n=i}e.stateNode=n}else Uw(a,e.type,e.stateNode);else e.stateNode=$w(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Uw(a,e.type,e.stateNode):$w(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&zp(e,e.memoizedProps,r.memoizedProps)}break;case 27:Zt(t,e),Jt(e),n&512&&(rt||r===null||Sn(r,r.return)),r!==null&&n&4&&zp(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Zt(t,e),Jt(e),n&512&&(rt||r===null||Sn(r,r.return)),e.flags&32){a=e.stateNode;try{ps(a,"")}catch(v){_e(e,e.return,v)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,zp(e,a,r!==null?r.memoizedProps:a)),n&1024&&(Ip=!0);break;case 6:if(Zt(t,e),Jt(e),n&4){if(e.stateNode===null)throw Error(W(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(v){_e(e,e.return,v)}}break;case 3:if(Id=null,a=rn,rn=yf(t.containerInfo),Zt(t,e),rn=a,Jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{js(t.containerInfo)}catch(v){_e(e,e.return,v)}Ip&&(Ip=!1,NA(e));break;case 4:n=rn,rn=yf(e.stateNode.containerInfo),Zt(t,e),Jt(e),rn=n;break;case 12:Zt(t,e),Jt(e);break;case 31:Zt(t,e),Jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vu(e,n)));break;case 13:Zt(t,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Uh=wr()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vu(e,n)));break;case 22:a=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=Hn,d=rt;if(Hn=u||a,rt=d||c,Zt(t,e),rt=d,Hn=u,Jt(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||c||Hn||rt||Ti(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(i=c.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){_e(c,c.return,v)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(v){_e(c,c.return,v)}}}else if(t.tag===18){if(r===null){c=t;try{var h=c.stateNode;a?Pw(h,!0):Pw(c.stateNode,!1)}catch(v){_e(c,c.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Vu(e,r))));break;case 19:Zt(t,e),Jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vu(e,n)));break;case 30:break;case 21:break;default:Zt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(SA(n)){r=n;break}n=n.return}if(r==null)throw Error(W(160));switch(r.tag){case 27:var a=r.stateNode,i=Bp(e);uf(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(ps(o,""),r.flags&=-33);var s=Bp(e);uf(e,s,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=Bp(e);hv(e,u,c);break;default:throw Error(W(161))}}catch(d){_e(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NA(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;NA(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $n(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)EA(e,t.alternate,t),t=t.sibling}function Ti(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:di(4,t,t.return),Ti(t);break;case 1:Sn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&_A(t,t.return,r),Ti(t);break;case 27:Yl(t.stateNode);case 26:case 5:Sn(t,t.return),Ti(t);break;case 22:t.memoizedState===null&&Ti(t);break;case 30:Ti(t);break;default:Ti(t)}e=e.sibling}}function Ln(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Ln(a,i,r),Yc(4,i);break;case 1:if(Ln(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){_e(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var s=n.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)kO(c[a],s)}catch(u){_e(n,n.return,u)}}r&&o&64&&wA(i),Fl(i,i.return);break;case 27:CA(i);case 26:case 5:Ln(a,i,r),r&&n===null&&o&4&&jA(i),Fl(i,i.return);break;case 12:Ln(a,i,r);break;case 31:Ln(a,i,r),r&&o&4&&kA(a,i);break;case 13:Ln(a,i,r),r&&o&4&&TA(a,i);break;case 22:i.memoizedState===null&&Ln(a,i,r),Fl(i,i.return);break;case 30:break;default:Ln(a,i,r)}t=t.sibling}}function M0(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Kc(r))}function z0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kc(e))}function Jr(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)DA(e,t,r,n),t=t.sibling}function DA(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Jr(e,t,r,n),a&2048&&Yc(9,t);break;case 1:Jr(e,t,r,n);break;case 3:Jr(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kc(e)));break;case 12:if(a&2048){Jr(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;typeof s=="function"&&s(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){_e(t,t.return,c)}}else Jr(e,t,r,n);break;case 31:Jr(e,t,r,n);break;case 13:Jr(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Jr(e,t,r,n):Vl(e,t):i._visibility&2?Jr(e,t,r,n):(i._visibility|=2,Bo(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&M0(o,t);break;case 24:Jr(e,t,r,n),a&2048&&z0(t.alternate,t);break;default:Jr(e,t,r,n)}}function Bo(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,s=r,c=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:Bo(i,o,s,c,a),Yc(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?Bo(i,o,s,c,a):Vl(i,o):(d._visibility|=2,Bo(i,o,s,c,a)),a&&u&2048&&M0(o.alternate,o);break;case 24:Bo(i,o,s,c,a),a&&u&2048&&z0(o.alternate,o);break;default:Bo(i,o,s,c,a)}t=t.sibling}}function Vl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:Vl(r,n),a&2048&&M0(n.alternate,n);break;case 24:Vl(r,n),a&2048&&z0(n.alternate,n);break;default:Vl(r,n)}t=t.sibling}}var Nl=8192;function Oo(e,t,r){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)PA(e,t,r),e=e.sibling}function PA(e,t,r){switch(e.tag){case 26:Oo(e,t,r),e.flags&Nl&&e.memoizedState!==null&&K6(r,rn,e.memoizedState,e.memoizedProps);break;case 5:Oo(e,t,r);break;case 3:case 4:var n=rn;rn=yf(e.stateNode.containerInfo),Oo(e,t,r),rn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Nl,Nl=16777216,Oo(e,t,r),Nl=n):Oo(e,t,r));break;default:Oo(e,t,r)}}function MA(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function yl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];bt=n,BA(n,e)}MA(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zA(e),e=e.sibling}function zA(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&di(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zd(e)):yl(e);break;default:yl(e)}}function zd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];bt=n,BA(n,e)}MA(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:di(8,t,t.return),zd(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,zd(t));break;default:zd(t)}e=e.sibling}}function BA(e,t){for(;bt!==null;){var r=bt;switch(r.tag){case 0:case 11:case 15:di(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Kc(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,bt=n;else e:for(r=e;bt!==null;){n=bt;var a=n.sibling,i=n.return;if(OA(n),n===r){bt=null;break e}if(a!==null){a.return=i,bt=a;break e}bt=i}}}var l6={getCacheForType:function(e){var t=Dt(nt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Dt(nt).controller.signal}},c6=typeof WeakMap=="function"?WeakMap:Map,ye=0,Ae=null,de=null,fe=0,xe=0,fr=null,Ga=!1,Us=!1,B0=!1,sa=0,Ve=0,fi=0,Vi=0,I0=0,br=0,bs=0,Kl=null,er=null,mv=!1,Uh=0,IA=0,df=1/0,ff=null,ni=null,ut=0,ai=null,xs=null,ea=0,pv=0,gv=null,$A=null,Gl=0,vv=null;function Sr(){return ye&2&&fe!==0?fe&-fe:ne.T!==null?L0():GE()}function LA(){if(br===0)if(!(fe&536870912)||he){var e=Iu;Iu<<=1,!(Iu&3932160)&&(Iu=262144),br=e}else br=536870912;return e=Or.current,e!==null&&(e.flags|=32),br}function nr(e,t,r){(e===Ae&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(ws(e,0),Ya(e,fe,br,!1)),Hc(e,r),(!(ye&2)||e!==Ae)&&(e===Ae&&(!(ye&2)&&(Vi|=r),Ve===4&&Ya(e,fe,br,!1)),Pn(e))}function UA(e,t,r){if(ye&6)throw Error(W(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Wc(e,t),a=n?f6(e,t):$p(e,t,!0),i=n;do{if(a===0){Us&&!n&&Ya(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!u6(r)){a=$p(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var s=e;a=Kl;var c=s.current.memoizedState.isDehydrated;if(c&&(ws(s,o).flags|=256),o=$p(s,o,!1),o!==2){if(B0&&!c){s.errorRecoveryDisabledLanes|=i,Vi|=i,a=4;break e}i=er,er=a,i!==null&&(er===null?er=i:er.push.apply(er,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){ws(e,0),Ya(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(W(345));case 4:if((t&4194048)!==t)break;case 6:Ya(n,t,br,!Ga);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(W(329))}if((t&62914560)===t&&(a=Uh+300-wr(),10<a)){if(Ya(n,t,br,!Ga),Th(n,0,!0)!==0)break e;ea=t,n.timeoutHandle=s2(ww.bind(null,n,r,er,ff,mv,t,br,Vi,bs,Ga,i,"Throttled",-0,0),a);break e}ww(n,r,er,ff,mv,t,br,Vi,bs,Ga,i,null,-0,0)}}break}while(!0);Pn(e)}function ww(e,t,r,n,a,i,o,s,c,u,d,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},PA(t,i,f);var v=(i&62914560)===i?Uh-wr():(i&4194048)===i?IA-wr():0;if(v=G6(f,v),v!==null){ea=i,e.cancelPendingCommit=v(jw.bind(null,e,t,i,r,n,a,o,s,c,d,f,null,m,h)),Ya(e,i,o,!u);return}}jw(e,t,i,r,n,a,o,s,c)}function u6(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Er(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t,r,n){t&=~I0,t&=~Vi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-jr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&FE(e,r,t)}function qh(){return ye&6?!0:(Xc(0),!1)}function $0(){if(de!==null){if(xe===0)var e=de.return;else e=de,Yn=po=null,S0(e),os=null,uc=0,e=de;for(;e!==null;)xA(e.alternate,e),e=e.return;de=null}}function ws(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,T6(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ea=0,$0(),Ae=e,de=r=Jn(e.current,null),fe=t,xe=0,fr=null,Ga=!1,Us=Wc(e,t),B0=!1,bs=br=I0=Vi=fi=Ve=0,er=Kl=null,mv=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-jr(n),i=1<<a;t|=e[a],n&=~i}return sa=t,Ph(),r}function qA(e,t){le=null,ne.H=fc,t===Ls||t===zh?(t=Q1(),xe=3):t===v0?(t=Q1(),xe=4):xe=t===D0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fr=t,de===null&&(Ve=1,lf(e,Lr(t,e.current)))}function WA(){var e=Or.current;return e===null?!0:(fe&4194048)===fe?Wr===null:(fe&62914560)===fe||fe&536870912?e===Wr:!1}function HA(){var e=ne.H;return ne.H=fc,e===null?fc:e}function FA(){var e=ne.A;return ne.A=l6,e}function hf(){Ve=4,Ga||(fe&4194048)!==fe&&Or.current!==null||(Us=!0),!(fi&134217727)&&!(Vi&134217727)||Ae===null||Ya(Ae,fe,br,!1)}function $p(e,t,r){var n=ye;ye|=2;var a=HA(),i=FA();(Ae!==e||fe!==t)&&(ff=null,ws(e,t)),t=!1;var o=Ve;e:do try{if(xe!==0&&de!==null){var s=de,c=fr;switch(xe){case 8:$0(),o=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(t=!0);var u=xe;if(xe=0,fr=null,Qo(e,s,c,u),r&&Us){o=0;break e}break;default:u=xe,xe=0,fr=null,Qo(e,s,c,u)}}d6(),o=Ve;break}catch(d){qA(e,d)}while(!0);return t&&e.shellSuspendCounter++,Yn=po=null,ye=n,ne.H=a,ne.A=i,de===null&&(Ae=null,fe=0,Ph()),o}function d6(){for(;de!==null;)VA(de)}function f6(e,t){var r=ye;ye|=2;var n=HA(),a=FA();Ae!==e||fe!==t?(ff=null,df=wr()+500,ws(e,t)):Us=Wc(e,t);e:do try{if(xe!==0&&de!==null){t=de;var i=fr;t:switch(xe){case 1:xe=0,fr=null,Qo(e,t,i,1);break;case 2:case 9:if(J1(i)){xe=0,fr=null,_w(t);break}t=function(){xe!==2&&xe!==9||Ae!==e||(xe=7),Pn(e)},i.then(t,t);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:J1(i)?(xe=0,fr=null,_w(t)):(xe=0,fr=null,Qo(e,t,i,7));break;case 5:var o=null;switch(de.tag){case 26:o=de.memoizedState;case 5:case 27:var s=de;if(o?f2(o):s.stateNode.complete){xe=0,fr=null;var c=s.sibling;if(c!==null)de=c;else{var u=s.return;u!==null?(de=u,Wh(u)):de=null}break t}}xe=0,fr=null,Qo(e,t,i,5);break;case 6:xe=0,fr=null,Qo(e,t,i,6);break;case 8:$0(),Ve=6;break e;default:throw Error(W(462))}}h6();break}catch(d){qA(e,d)}while(!0);return Yn=po=null,ne.H=n,ne.A=a,ye=r,de!==null?0:(Ae=null,fe=0,Ph(),Ve)}function h6(){for(;de!==null&&!z4();)VA(de)}function VA(e){var t=bA(e.alternate,e,sa);e.memoizedProps=e.pendingProps,t===null?Wh(e):de=t}function _w(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=pw(r,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=pw(r,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:S0(t);default:xA(r,t),t=de=xO(t,sa),t=bA(r,t,sa)}e.memoizedProps=e.pendingProps,t===null?Wh(e):de=t}function Qo(e,t,r,n){Yn=po=null,S0(t),os=null,uc=0;var a=t.return;try{if(t6(e,a,t,r,fe)){Ve=1,lf(e,Lr(r,e.current)),de=null;return}}catch(i){if(a!==null)throw de=a,i;Ve=1,lf(e,Lr(r,e.current)),de=null;return}t.flags&32768?(he||n===1?e=!0:Us||fe&536870912?e=!1:(Ga=e=!0,(n===2||n===9||n===3||n===6)&&(n=Or.current,n!==null&&n.tag===13&&(n.flags|=16384))),KA(t,e)):Wh(t)}function Wh(e){var t=e;do{if(t.flags&32768){KA(t,Ga);return}e=t.return;var r=a6(t.alternate,t,sa);if(r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Ve===0&&(Ve=5)}function KA(e,t){do{var r=i6(e.alternate,e);if(r!==null){r.flags&=32767,de=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=r}while(e!==null);Ve=6,de=null}function jw(e,t,r,n,a,i,o,s,c){e.cancelPendingCommit=null;do Hh();while(ut!==0);if(ye&6)throw Error(W(327));if(t!==null){if(t===e.current)throw Error(W(177));if(i=t.lanes|t.childLanes,i|=u0,V4(e,r,i,o,s,c),e===Ae&&(de=Ae=null,fe=0),xs=t,ai=e,ea=r,pv=i,gv=a,$A=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,v6(Xd,function(){return JA(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=ne.T,ne.T=null,a=be.p,be.p=2,o=ye,ye|=4;try{o6(e,t,r)}finally{ye=o,be.p=a,ne.T=n}}ut=1,GA(),YA(),XA()}}function GA(){if(ut===1){ut=0;var e=ai,t=xs,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=ne.T,ne.T=null;var n=be.p;be.p=2;var a=ye;ye|=4;try{RA(t,e);var i=wv,o=fO(e.containerInfo),s=i.focusedElem,c=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&dO(s.ownerDocument.documentElement,s)){if(c!==null&&c0(s)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(d,s.value.length);else{var f=s.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),v=s.textContent.length,x=Math.min(c.start,v),b=c.end===void 0?x:Math.min(c.end,v);!h.extend&&x>b&&(o=b,b=x,x=o);var y=F1(s,x),p=F1(s,b);if(y&&p&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==p.node||h.focusOffset!==p.offset)){var w=f.createRange();w.setStart(y.node,y.offset),h.removeAllRanges(),x>b?(h.addRange(w),h.extend(p.node,p.offset)):(w.setEnd(p.node,p.offset),h.addRange(w))}}}}for(f=[],h=s;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var _=f[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}wf=!!xv,wv=xv=null}finally{ye=a,be.p=n,ne.T=r}}e.current=t,ut=2}}function YA(){if(ut===2){ut=0;var e=ai,t=xs,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=ne.T,ne.T=null;var n=be.p;be.p=2;var a=ye;ye|=4;try{EA(e,t.alternate,t)}finally{ye=a,be.p=n,ne.T=r}}ut=3}}function XA(){if(ut===4||ut===3){ut=0,B4();var e=ai,t=xs,r=ea,n=$A;t.subtreeFlags&10256||t.flags&10256?ut=5:(ut=0,xs=ai=null,ZA(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(ni=null),r0(r),t=t.stateNode,_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(qc,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=ne.T,a=be.p,be.p=2,ne.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var s=n[o];i(s.value,{componentStack:s.stack})}}finally{ne.T=t,be.p=a}}ea&3&&Hh(),Pn(e),a=e.pendingLanes,r&261930&&a&42?e===vv?Gl++:(Gl=0,vv=e):Gl=0,Xc(0)}}function ZA(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Kc(t)))}function Hh(){return GA(),YA(),XA(),JA()}function JA(){if(ut!==5)return!1;var e=ai,t=pv;pv=0;var r=r0(ea),n=ne.T,a=be.p;try{be.p=32>r?32:r,ne.T=null,r=gv,gv=null;var i=ai,o=ea;if(ut=0,xs=ai=null,ea=0,ye&6)throw Error(W(331));var s=ye;if(ye|=4,zA(i.current),DA(i,i.current,o,r),ye=s,Xc(0,!1),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(qc,i)}catch{}return!0}finally{be.p=a,ne.T=n,ZA(e,t)}}function Sw(e,t,r){t=Lr(r,t),t=uv(e.stateNode,t,2),e=ri(e,t,2),e!==null&&(Hc(e,2),Pn(e))}function _e(e,t,r){if(e.tag===3)Sw(e,e,r);else for(;t!==null;){if(t.tag===3){Sw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ni===null||!ni.has(n))){e=Lr(r,e),r=hA(2),n=ri(t,r,2),n!==null&&(mA(r,n,t,e),Hc(n,2),Pn(n));break}}t=t.return}}function Lp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new c6;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(B0=!0,a.add(r),e=m6.bind(null,e,t,r),t.then(e,e))}function m6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ae===e&&(fe&r)===r&&(Ve===4||Ve===3&&(fe&62914560)===fe&&300>wr()-Uh?!(ye&2)&&ws(e,0):I0|=r,bs===fe&&(bs=0)),Pn(e)}function QA(e,t){t===0&&(t=HE()),e=mo(e,t),e!==null&&(Hc(e,t),Pn(e))}function p6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),QA(e,r)}function g6(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(W(314))}n!==null&&n.delete(t),QA(e,r)}function v6(e,t){return e0(e,t)}var mf=null,Io=null,yv=!1,pf=!1,Up=!1,Xa=0;function Pn(e){e!==Io&&e.next===null&&(Io===null?mf=Io=e:Io=Io.next=e),pf=!0,yv||(yv=!0,b6())}function Xc(e,t){if(!Up&&pf){Up=!0;do for(var r=!1,n=mf;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,s=n.pingedLanes;i=(1<<31-jr(42|e)+1)-1,i&=a&~(o&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Cw(n,i))}else i=fe,i=Th(n,n===Ae?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Wc(n,i)||(r=!0,Cw(n,i));n=n.next}while(r);Up=!1}}function y6(){e2()}function e2(){pf=yv=!1;var e=0;Xa!==0&&k6()&&(e=Xa);for(var t=wr(),r=null,n=mf;n!==null;){var a=n.next,i=t2(n,t);i===0?(n.next=null,r===null?mf=a:r.next=a,a===null&&(Io=r)):(r=n,(e!==0||i&3)&&(pf=!0)),n=a}ut!==0&&ut!==5||Xc(e),Xa!==0&&(Xa=0)}function t2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-jr(i),s=1<<o,c=a[o];c===-1?(!(s&r)||s&n)&&(a[o]=F4(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}if(t=Ae,r=fe,r=Th(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&pp(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Wc(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&pp(n),r0(r)){case 2:case 8:r=qE;break;case 32:r=Xd;break;case 268435456:r=WE;break;default:r=Xd}return n=r2.bind(null,e),r=e0(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&pp(n),e.callbackPriority=2,e.callbackNode=null,2}function r2(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Hh()&&e.callbackNode!==r)return null;var n=fe;return n=Th(e,e===Ae?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(UA(e,n,t),t2(e,wr()),e.callbackNode!=null&&e.callbackNode===r?r2.bind(null,e):null)}function Cw(e,t){if(Hh())return null;UA(e,t,!0)}function b6(){R6(function(){ye&6?e0(UE,y6):e2()})}function L0(){if(Xa===0){var e=gs;e===0&&(e=Bu,Bu<<=1,!(Bu&261888)&&(Bu=256)),Xa=e}return Xa}function Ew(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Od(""+e)}function Ow(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function x6(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=Ew((a[ar]||null).action),o=n.submitter;o&&(t=(t=o[ar]||null)?Ew(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var s=new Rh("action","action",null,n,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Xa!==0){var c=o?Ow(a,o):new FormData(a);lv(r,{pending:!0,data:c,method:a.method,action:i},null,c)}}else typeof i=="function"&&(s.preventDefault(),c=o?Ow(a,o):new FormData(a),lv(r,{pending:!0,data:c,method:a.method,action:i},i,c))},currentTarget:a}]})}}for(var qp=0;qp<Xg.length;qp++){var Wp=Xg[qp],w6=Wp.toLowerCase(),_6=Wp[0].toUpperCase()+Wp.slice(1);mn(w6,"on"+_6)}mn(mO,"onAnimationEnd");mn(pO,"onAnimationIteration");mn(gO,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(IM,"onTransitionRun");mn($M,"onTransitionStart");mn(LM,"onTransitionCancel");mn(vO,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function n2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Jd(d)}a.currentTarget=null,i=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Jd(d)}a.currentTarget=null,i=c}}}}function ue(e,t){var r=t[qg];r===void 0&&(r=t[qg]=new Set);var n=e+"__bubble";r.has(n)||(a2(t,e,2,!1),r.add(n))}function Hp(e,t,r){var n=0;t&&(n|=4),a2(r,e,n,t)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function U0(e){if(!e[Ku]){e[Ku]=!0,YE.forEach(function(r){r!=="selectionchange"&&(j6.has(r)||Hp(r,!1,e),Hp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ku]||(t[Ku]=!0,Hp("selectionchange",!1,t))}}function a2(e,t,r,n){switch(v2(t)){case 2:var a=Z6;break;case 8:a=J6;break;default:a=F0}r=a.bind(null,t,r,e),a=void 0,!Kg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Fp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;s!==null;){if(o=Ho(s),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){n=i=o;continue e}s=s.parentNode}}n=n.return}nO(function(){var u=i,d=i0(r),f=[];e:{var m=yO.get(e);if(m!==void 0){var h=Rh,v=e;switch(e){case"keypress":if(kd(r)===0)break e;case"keydown":case"keyup":h=gM;break;case"focusin":v="focus",h=xp;break;case"focusout":v="blur",h=xp;break;case"beforeblur":case"afterblur":h=xp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=aM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=bM;break;case mO:case pO:case gO:h=sM;break;case vO:h=wM;break;case"scroll":case"scrollend":h=rM;break;case"wheel":h=jM;break;case"copy":case"cut":case"paste":h=cM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=B1;break;case"toggle":case"beforetoggle":h=CM}var x=(t&4)!==0,b=!x&&(e==="scroll"||e==="scrollend"),y=x?m!==null?m+"Capture":null:m;x=[];for(var p=u,w;p!==null;){var _=p;if(w=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||w===null||y===null||(_=ic(p,y),_!=null&&x.push(mc(p,_,w))),b)break;p=p.return}0<x.length&&(m=new h(m,v,null,r,d),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==Vg&&(v=r.relatedTarget||r.fromElement)&&(Ho(v)||v[Bs]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=u,v=v?Ho(v):null,v!==null&&(b=Uc(v),x=v.tag,v!==b||x!==5&&x!==27&&x!==6)&&(v=null)):(h=null,v=u),h!==v)){if(x=M1,_="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=B1,_="onPointerLeave",y="onPointerEnter",p="pointer"),b=h==null?m:Tl(h),w=v==null?m:Tl(v),m=new x(_,p+"leave",h,r,d),m.target=b,m.relatedTarget=w,_=null,Ho(d)===u&&(x=new x(y,p+"enter",v,r,d),x.target=w,x.relatedTarget=b,_=x),b=_,h&&v)t:{for(x=S6,y=h,p=v,w=0,_=y;_;_=x(_))w++;_=0;for(var j=p;j;j=x(j))_++;for(;0<w-_;)y=x(y),w--;for(;0<_-w;)p=x(p),_--;for(;w--;){if(y===p||p!==null&&y===p.alternate){x=y;break t}y=x(y),p=x(p)}x=null}else x=null;h!==null&&Aw(f,m,h,x,!1),v!==null&&b!==null&&Aw(f,b,v,x,!0)}}e:{if(m=u?Tl(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var C=U1;else if(L1(m))if(cO)C=MM;else{C=DM;var S=NM}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&a0(u.elementType)&&(C=U1):C=PM;if(C&&(C=C(e,u))){lO(f,C,r,d);break e}S&&S(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Fg(m,"number",m.value)}switch(S=u?Tl(u):window,e){case"focusin":(L1(S)||S.contentEditable==="true")&&(Ko=S,Gg=u,$l=null);break;case"focusout":$l=Gg=Ko=null;break;case"mousedown":Yg=!0;break;case"contextmenu":case"mouseup":case"dragend":Yg=!1,V1(f,r,d);break;case"selectionchange":if(BM)break;case"keydown":case"keyup":V1(f,r,d)}var E;if(l0)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Vo?oO(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(iO&&r.locale!=="ko"&&(Vo||O!=="onCompositionStart"?O==="onCompositionEnd"&&Vo&&(E=aO()):(Ka=d,o0="value"in Ka?Ka.value:Ka.textContent,Vo=!0)),S=gf(u,O),0<S.length&&(O=new z1(O,e,null,r,d),f.push({event:O,listeners:S}),E?O.data=E:(E=sO(r),E!==null&&(O.data=E)))),(E=OM?AM(e,r):kM(e,r))&&(O=gf(u,"onBeforeInput"),0<O.length&&(S=new z1("onBeforeInput","beforeinput",null,r,d),f.push({event:S,listeners:O}),S.data=E)),x6(f,e,u,r,d)}n2(f,t)})}function mc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function gf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=ic(e,r),a!=null&&n.unshift(mc(e,a,i)),a=ic(e,t),a!=null&&n.push(mc(e,a,i))),e.tag===3)return n;e=e.return}return[]}function S6(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Aw(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(s=s.tag,c!==null&&c===n)break;s!==5&&s!==26&&s!==27||u===null||(c=u,a?(u=ic(r,i),u!=null&&o.unshift(mc(r,u,c))):a||(u=ic(r,i),u!=null&&o.push(mc(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var C6=/\r\n?/g,E6=/\u0000|\uFFFD/g;function kw(e){return(typeof e=="string"?e:""+e).replace(C6,`
`).replace(E6,"")}function i2(e,t){return t=kw(t),kw(e)===t}function Se(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||ps(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&ps(e,""+n);break;case"className":Lu(e,"class",n);break;case"tabIndex":Lu(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Lu(e,r,n);break;case"style":rO(e,n,i);break;case"data":if(t!=="object"){Lu(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Od(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&Se(e,t,"name",a.name,a,null),Se(e,t,"formEncType",a.formEncType,a,null),Se(e,t,"formMethod",a.formMethod,a,null),Se(e,t,"formTarget",a.formTarget,a,null)):(Se(e,t,"encType",a.encType,a,null),Se(e,t,"method",a.method,a,null),Se(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Od(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=Gn);break;case"onScroll":n!=null&&ue("scroll",e);break;case"onScrollEnd":n!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(W(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(W(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=Od(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Ed(e,"popover",n);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ed(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=eM.get(r)||r,Ed(e,r,n))}}function bv(e,t,r,n,a,i){switch(r){case"style":rO(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(W(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(W(60));e.innerHTML=r}}break;case"children":typeof n=="string"?ps(e,n):(typeof n=="number"||typeof n=="bigint")&&ps(e,""+n);break;case"onScroll":n!=null&&ue("scroll",e);break;case"onScrollEnd":n!=null&&ue("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!XE.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[ar]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):Ed(e,r,n)}}}function Mt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:Se(e,t,i,o,r,null)}}a&&Se(e,t,"srcSet",r.srcSet,r,null),n&&Se(e,t,"src",r.src,r,null);return;case"input":ue("invalid",e);var s=i=o=a=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(W(137,t));break;default:Se(e,t,n,d,r,null)}}QE(e,i,s,c,u,o,a,!1);return;case"select":ue("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(s=r[a],s!=null))switch(a){case"value":i=s;break;case"defaultValue":o=s;break;case"multiple":n=s;default:Se(e,t,a,s,r,null)}t=i,r=o,e.multiple=!!n,t!=null?ns(e,!!n,t,!1):r!=null&&ns(e,!!n,r,!0);return;case"textarea":ue("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(s=r[o],s!=null))switch(o){case"value":n=s;break;case"defaultValue":a=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(W(91));break;default:Se(e,t,o,s,r,null)}tO(e,n,a,i);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Se(e,t,c,n,r,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(n=0;n<hc.length;n++)ue(hc[n],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:Se(e,t,u,n,r,null)}return;default:if(a0(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&bv(e,t,d,n,r,void 0));return}}for(s in r)r.hasOwnProperty(s)&&(n=r[s],n!=null&&Se(e,t,s,n,r,null))}function O6(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,s=null,c=null,u=null,d=null;for(h in r){var f=r[h];if(r.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(h)||Se(e,t,h,null,n,f)}}for(var m in n){var h=n[m];if(f=r[m],n.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":i=h;break;case"name":a=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":o=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(W(137,t));break;default:h!==f&&Se(e,t,m,h,n,f)}}Hg(e,o,s,c,u,d,i,a);return;case"select":h=o=s=m=null;for(i in r)if(c=r[i],r.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":h=c;default:n.hasOwnProperty(i)||Se(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(i!=null||c!=null))switch(a){case"value":m=i;break;case"defaultValue":s=i;break;case"multiple":o=i;default:i!==c&&Se(e,t,a,i,n,c)}t=s,r=o,n=h,m!=null?ns(e,!!r,m,!1):!!n!=!!r&&(t!=null?ns(e,!!r,t,!0):ns(e,!!r,r?[]:"",!1));return;case"textarea":h=m=null;for(s in r)if(a=r[s],r.hasOwnProperty(s)&&a!=null&&!n.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:Se(e,t,s,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":m=a;break;case"defaultValue":h=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(W(91));break;default:a!==i&&Se(e,t,o,a,n,i)}eO(e,m,h);return;case"option":for(var v in r)if(m=r[v],r.hasOwnProperty(v)&&m!=null&&!n.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:Se(e,t,v,null,n,m)}for(c in n)if(m=n[c],h=r[c],n.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Se(e,t,c,m,n,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)m=r[x],r.hasOwnProperty(x)&&m!=null&&!n.hasOwnProperty(x)&&Se(e,t,x,null,n,m);for(u in n)if(m=n[u],h=r[u],n.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(W(137,t));break;default:Se(e,t,u,m,n,h)}return;default:if(a0(t)){for(var b in r)m=r[b],r.hasOwnProperty(b)&&m!==void 0&&!n.hasOwnProperty(b)&&bv(e,t,b,void 0,n,m);for(d in n)m=n[d],h=r[d],!n.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||bv(e,t,d,m,n,h);return}}for(var y in r)m=r[y],r.hasOwnProperty(y)&&m!=null&&!n.hasOwnProperty(y)&&Se(e,t,y,null,n,m);for(f in n)m=n[f],h=r[f],!n.hasOwnProperty(f)||m===h||m==null&&h==null||Se(e,t,f,m,n,h)}function Tw(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A6(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,s=a.duration;if(i&&s&&Tw(o)){for(o=0,s=a.responseEnd,n+=1;n<r.length;n++){var c=r[n],u=c.startTime;if(u>s)break;var d=c.transferSize,f=c.initiatorType;d&&Tw(f)&&(c=c.responseEnd,o+=d*(c<s?1:(s-u)/(c-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xv=null,wv=null;function vf(e){return e.nodeType===9?e:e.ownerDocument}function Rw(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o2(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _v(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vp=null;function k6(){var e=window.event;return e&&e.type==="popstate"?e===Vp?!1:(Vp=e,!0):(Vp=null,!1)}var s2=typeof setTimeout=="function"?setTimeout:void 0,T6=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,R6=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(e){return Nw.resolve(null).then(e).catch(N6)}:s2;function N6(e){setTimeout(function(){throw e})}function vi(e){return e==="head"}function Dw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),js(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")Yl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Yl(r);for(var i=r.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[Fc]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&Yl(e.ownerDocument.body);r=a}while(r);js(t)}function Pw(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function jv(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":jv(r),n0(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function D6(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Fc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Hr(e.nextSibling),e===null)break}return null}function P6(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Hr(e.nextSibling),e===null))return null;return e}function l2(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Hr(e.nextSibling),e===null))return null;return e}function Sv(e){return e.data==="$?"||e.data==="$~"}function Cv(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function M6(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ev=null;function Mw(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Hr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function zw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function c2(e,t,r){switch(t=vf(r),e){case"html":if(e=t.documentElement,!e)throw Error(W(452));return e;case"head":if(e=t.head,!e)throw Error(W(453));return e;case"body":if(e=t.body,!e)throw Error(W(454));return e;default:throw Error(W(451))}}function Yl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);n0(e)}var Fr=new Map,Bw=new Set;function yf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ya=be.d;be.d={f:z6,r:B6,D:I6,C:$6,L:L6,m:U6,X:W6,S:q6,M:H6};function z6(){var e=ya.f(),t=qh();return e||t}function B6(e){var t=Is(e);t!==null&&t.tag===5&&t.type==="form"?rA(t):ya.r(e)}var qs=typeof document>"u"?null:document;function u2(e,t,r){var n=qs;if(n&&typeof t=="string"&&t){var a=$r(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Bw.has(a)||(Bw.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Mt(t,"link",e),wt(t),n.head.appendChild(t)))}}function I6(e){ya.D(e),u2("dns-prefetch",e,null)}function $6(e,t){ya.C(e,t),u2("preconnect",e,t)}function L6(e,t,r){ya.L(e,t,r);var n=qs;if(n&&e&&t){var a='link[rel="preload"][as="'+$r(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+$r(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+$r(r.imageSizes)+'"]')):a+='[href="'+$r(e)+'"]';var i=a;switch(t){case"style":i=_s(e);break;case"script":i=Ws(e)}Fr.has(i)||(e=Be({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Fr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(Zc(i))||t==="script"&&n.querySelector(Jc(i))||(t=n.createElement("link"),Mt(t,"link",e),wt(t),n.head.appendChild(t)))}}function U6(e,t){ya.m(e,t);var r=qs;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+$r(n)+'"][href="'+$r(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ws(e)}if(!Fr.has(i)&&(e=Be({rel:"modulepreload",href:e},t),Fr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jc(i)))return}n=r.createElement("link"),Mt(n,"link",e),wt(n),r.head.appendChild(n)}}}function q6(e,t,r){ya.S(e,t,r);var n=qs;if(n&&e){var a=rs(n).hoistableStyles,i=_s(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(Zc(i)))s.loading=5;else{e=Be({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Fr.get(i))&&q0(e,r);var c=o=n.createElement("link");wt(c),Mt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Bd(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}}function W6(e,t){ya.X(e,t);var r=qs;if(r&&e){var n=rs(r).hoistableScripts,a=Ws(e),i=n.get(a);i||(i=r.querySelector(Jc(a)),i||(e=Be({src:e,async:!0},t),(t=Fr.get(a))&&W0(e,t),i=r.createElement("script"),wt(i),Mt(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function H6(e,t){ya.M(e,t);var r=qs;if(r&&e){var n=rs(r).hoistableScripts,a=Ws(e),i=n.get(a);i||(i=r.querySelector(Jc(a)),i||(e=Be({src:e,async:!0,type:"module"},t),(t=Fr.get(a))&&W0(e,t),i=r.createElement("script"),wt(i),Mt(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Iw(e,t,r,n){var a=(a=Qa.current)?yf(a):null;if(!a)throw Error(W(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=_s(r.href),r=rs(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=_s(r.href);var i=rs(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(Zc(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Fr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Fr.set(e,r),i||F6(a,e,r,o.state))),t&&n===null)throw Error(W(528,""));return o}if(t&&n!==null)throw Error(W(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ws(r),r=rs(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(W(444,e))}}function _s(e){return'href="'+$r(e)+'"'}function Zc(e){return'link[rel="stylesheet"]['+e+"]"}function d2(e){return Be({},e,{"data-precedence":e.precedence,precedence:null})}function F6(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Mt(t,"link",r),wt(t),e.head.appendChild(t))}function Ws(e){return'[src="'+$r(e)+'"]'}function Jc(e){return"script[async]"+e}function $w(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+$r(r.href)+'"]');if(n)return t.instance=n,wt(n),n;var a=Be({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),wt(n),Mt(n,"style",a),Bd(n,r.precedence,e),t.instance=n;case"stylesheet":a=_s(r.href);var i=e.querySelector(Zc(a));if(i)return t.state.loading|=4,t.instance=i,wt(i),i;n=d2(r),(a=Fr.get(a))&&q0(n,a),i=(e.ownerDocument||e).createElement("link"),wt(i);var o=i;return o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Mt(i,"link",n),t.state.loading|=4,Bd(i,r.precedence,e),t.instance=i;case"script":return i=Ws(r.src),(a=e.querySelector(Jc(i)))?(t.instance=a,wt(a),a):(n=r,(a=Fr.get(i))&&(n=Be({},r),W0(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),wt(a),Mt(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(W(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Bd(n,r.precedence,e));return t.instance}function Bd(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function q0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function W0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Id=null;function Lw(e,t,r){if(Id===null){var n=new Map,a=Id=new Map;a.set(r,n)}else a=Id,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Fc]||i[Rt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var s=n.get(o);s?s.push(i):n.set(o,[i])}}return n}function Uw(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function V6(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function f2(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function K6(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=_s(n.href),i=t.querySelector(Zc(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=bf.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,wt(i);return}i=t.ownerDocument||t,n=d2(n),(a=Fr.get(a))&&q0(n,a),i=i.createElement("link"),wt(i);var o=i;o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Mt(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=bf.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Kp=0;function G6(e,t){return e.stylesheets&&e.count===0&&$d(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Kp===0&&(Kp=62500*A6());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Kp?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function bf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xf=null;function $d(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xf=new Map,t.forEach(Y6,e),xf=null,bf.call(e))}function Y6(e,t){if(!(t.state.loading&4)){var r=xf.get(e);if(r)var n=r.get(null);else{r=new Map,xf.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=bf.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var pc={$$typeof:Kn,Provider:null,Consumer:null,_currentValue:qi,_currentValue2:qi,_threadCount:0};function X6(e,t,r,n,a,i,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gp(0),this.hiddenUpdates=gp(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function h2(e,t,r,n,a,i,o,s,c,u,d,f){return e=new X6(e,t,r,o,c,u,d,f,s),t=1,i===!0&&(t|=24),i=pr(3,null,null,t),e.current=i,i.stateNode=e,t=p0(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},y0(i),e}function m2(e){return e?(e=Xo,e):Xo}function p2(e,t,r,n,a,i){a=m2(a),n.context===null?n.context=a:n.pendingContext=a,n=ti(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=ri(e,n,t),r!==null&&(nr(r,e,t),Ul(r,e,t))}function qw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function H0(e,t){qw(e,t),(e=e.alternate)&&qw(e,t)}function g2(e){if(e.tag===13||e.tag===31){var t=mo(e,67108864);t!==null&&nr(t,e,67108864),H0(e,67108864)}}function Ww(e){if(e.tag===13||e.tag===31){var t=Sr();t=t0(t);var r=mo(e,t);r!==null&&nr(r,e,t),H0(e,t)}}var wf=!0;function Z6(e,t,r,n){var a=ne.T;ne.T=null;var i=be.p;try{be.p=2,F0(e,t,r,n)}finally{be.p=i,ne.T=a}}function J6(e,t,r,n){var a=ne.T;ne.T=null;var i=be.p;try{be.p=8,F0(e,t,r,n)}finally{be.p=i,ne.T=a}}function F0(e,t,r,n){if(wf){var a=Ov(n);if(a===null)Fp(e,t,n,_f,r),Hw(e,n);else if(ez(a,e,t,r,n))n.stopPropagation();else if(Hw(e,n),t&4&&-1<Q6.indexOf(e)){for(;a!==null;){var i=Is(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Ai(i.pendingLanes);if(o!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-jr(o);s.entanglements[1]|=c,o&=~c}Pn(i),!(ye&6)&&(df=wr()+500,Xc(0))}}break;case 31:case 13:s=mo(i,2),s!==null&&nr(s,i,2),qh(),H0(i,2)}if(i=Ov(n),i===null&&Fp(e,t,n,_f,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Fp(e,t,n,null,r)}}function Ov(e){return e=i0(e),V0(e)}var _f=null;function V0(e){if(_f=null,e=Ho(e),e!==null){var t=Uc(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=zE(t),e!==null)return e;e=null}else if(r===31){if(e=BE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _f=e,null}function v2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I4()){case UE:return 2;case qE:return 8;case Xd:case $4:return 32;case WE:return 268435456;default:return 32}default:return 32}}var Av=!1,ii=null,oi=null,si=null,gc=new Map,vc=new Map,qa=[],Q6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hw(e,t){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":gc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(t.pointerId)}}function bl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Is(t),t!==null&&g2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ez(e,t,r,n,a){switch(t){case"focusin":return ii=bl(ii,e,t,r,n,a),!0;case"dragenter":return oi=bl(oi,e,t,r,n,a),!0;case"mouseover":return si=bl(si,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return gc.set(i,bl(gc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,vc.set(i,bl(vc.get(i)||null,e,t,r,n,a)),!0}return!1}function y2(e){var t=Ho(e.target);if(t!==null){var r=Uc(t);if(r!==null){if(t=r.tag,t===13){if(t=zE(r),t!==null){e.blockedOn=t,A1(e.priority,function(){Ww(r)});return}}else if(t===31){if(t=BE(r),t!==null){e.blockedOn=t,A1(e.priority,function(){Ww(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ld(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ov(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vg=n,r.target.dispatchEvent(n),Vg=null}else return t=Is(r),t!==null&&g2(t),e.blockedOn=r,!1;t.shift()}return!0}function Fw(e,t,r){Ld(e)&&r.delete(t)}function tz(){Av=!1,ii!==null&&Ld(ii)&&(ii=null),oi!==null&&Ld(oi)&&(oi=null),si!==null&&Ld(si)&&(si=null),gc.forEach(Fw),vc.forEach(Fw)}function Gu(e,t){e.blockedOn===t&&(e.blockedOn=null,Av||(Av=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,tz)))}var Yu=null;function Vw(e){Yu!==e&&(Yu=e,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,function(){Yu===e&&(Yu=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(V0(n||r)===null)continue;break}var i=Is(r);i!==null&&(e.splice(t,3),t-=3,lv(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function js(e){function t(c){return Gu(c,e)}ii!==null&&Gu(ii,e),oi!==null&&Gu(oi,e),si!==null&&Gu(si,e),gc.forEach(t),vc.forEach(t);for(var r=0;r<qa.length;r++){var n=qa[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<qa.length&&(r=qa[0],r.blockedOn===null);)y2(r),r.blockedOn===null&&qa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[ar]||null;if(typeof i=="function")o||Vw(r);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[ar]||null)s=o.formAction;else if(V0(a)!==null)continue}else s=o.action;typeof s=="function"?r[n+1]=s:(r.splice(n,3),n-=3),Vw(r)}}}function b2(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function K0(e){this._internalRoot=e}Fh.prototype.render=K0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));var r=t.current,n=Sr();p2(r,n,e,t,null,null)};Fh.prototype.unmount=K0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;p2(e.current,2,null,e,null,null),qh(),t[Bs]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var t=GE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qa.length&&t!==0&&t<qa[r].priority;r++);qa.splice(r,0,e),r===0&&y2(e)}};var Kw=PE.version;if(Kw!=="19.2.3")throw Error(W(527,Kw,"19.2.3"));be.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=R4(t),e=e!==null?IE(e):null,e=e===null?null:e.stateNode,e};var rz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{qc=Xu.inject(rz),_r=Xu}catch{}}Ah.createRoot=function(e,t){if(!ME(e))throw Error(W(299));var r=!1,n="",a=uA,i=dA,o=fA;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=h2(e,1,!1,null,null,r,n,null,a,i,o,b2),e[Bs]=t.current,U0(e),new K0(t)};Ah.hydrateRoot=function(e,t,r){if(!ME(e))throw Error(W(299));var n=!1,a="",i=uA,o=dA,s=fA,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(s=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=h2(e,1,!0,t,r??null,n,a,c,i,o,s,b2),t.context=m2(null),r=t.current,n=Sr(),n=t0(n),a=ti(n),a.callback=null,ri(r,a,n),r=n,t.current.lanes=r,Hc(t,r),Pn(t),e[Bs]=t.current,U0(e),new Fh(t)};Ah.version="19.2.3";function x2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x2)}catch(e){console.error(e)}}x2(),AE.exports=Ah;var nz=AE.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}var Za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Za||(Za={}));const Gw="popstate";function az(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return kv("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:w2(a)}return oz(t,r,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iz(){return Math.random().toString(36).substr(2,8)}function Yw(e,t){return{usr:e.state,key:e.key,idx:t}}function kv(e,t,r,n){return r===void 0&&(r=null),yc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hs(t):t,{state:r,key:t&&t.key||n||iz()})}function w2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function oz(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=Za.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(yc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Za.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:s,location:x.location,delta:y})}function m(b,y){s=Za.Push;let p=kv(x.location,b,y);u=d()+1;let w=Yw(p,u),_=x.createHref(p);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:s,location:x.location,delta:1})}function h(b,y){s=Za.Replace;let p=kv(x.location,b,y);u=d();let w=Yw(p,u),_=x.createHref(p);o.replaceState(w,"",_),i&&c&&c({action:s,location:x.location,delta:0})}function v(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof b=="string"?b:w2(b);return p=p.replace(/ $/,"%20"),it(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let x={get action(){return s},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Gw,f),c=b,()=>{a.removeEventListener(Gw,f),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:h,go(b){return o.go(b)}};return x}var Xw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xw||(Xw={}));function sz(e,t,r){return r===void 0&&(r="/"),lz(e,t,r)}function lz(e,t,r,n){let a=typeof t=="string"?Hs(t):t,i=S2(a.pathname||"/",r);if(i==null)return null;let o=_2(e);cz(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=wz(i);s=yz(o[c],u)}return s}function _2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let c={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ki([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_2(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:gz(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let c of j2(i.path))a(i,o,c)}),t}function j2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=j2(n.join("/")),s=[];return s.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function cz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uz=/^:[\w-]+$/,dz=3,fz=2,hz=1,mz=10,pz=-2,Zw=e=>e==="*";function gz(e,t){let r=e.split("/"),n=r.length;return r.some(Zw)&&(n+=pz),t&&(n+=fz),r.filter(a=>!Zw(a)).reduce((a,i)=>a+(uz.test(i)?dz:i===""?hz:mz),n)}function vz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function yz(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=bz({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ki([i,f.pathname]),pathnameBase:Ez(Ki([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Ki([i,f.pathnameBase]))}return o}function bz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let x=s[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=s[f];return h&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function xz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),G0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function wz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return G0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function S2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const _z=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jz=e=>_z.test(e);function Sz(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Hs(e):e,i;if(r)if(jz(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),G0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Jw(r.substring(1),"/"):i=Jw(r,t)}else i=t;return{pathname:i,search:Oz(n),hash:Az(a)}}function Jw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Gp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function C2(e,t){let r=Cz(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function E2(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Hs(e):(a=yc({},e),it(!a.pathname||!a.pathname.includes("?"),Gp("?","pathname","search",a)),it(!a.pathname||!a.pathname.includes("#"),Gp("#","pathname","hash",a)),it(!a.search||!a.search.includes("#"),Gp("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}s=f>=0?t[f]:"/"}let c=Sz(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ki=e=>e.join("/").replace(/\/\/+/g,"/"),Ez=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Az=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const O2=["post","put","patch","delete"];new Set(O2);const Tz=["get",...O2];new Set(Tz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}const Y0=g.createContext(null),Rz=g.createContext(null),Qc=g.createContext(null),Vh=g.createContext(null),yi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),A2=g.createContext(null);function eu(){return g.useContext(Vh)!=null}function Kh(){return eu()||it(!1),g.useContext(Vh).location}function k2(e){g.useContext(Qc).static||g.useLayoutEffect(e)}function bi(){let{isDataRoute:e}=g.useContext(yi);return e?Vz():Nz()}function Nz(){eu()||it(!1);let e=g.useContext(Y0),{basename:t,future:r,navigator:n}=g.useContext(Qc),{matches:a}=g.useContext(yi),{pathname:i}=Kh(),o=JSON.stringify(C2(a,r.v7_relativeSplatPath)),s=g.useRef(!1);return k2(()=>{s.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=E2(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ki([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Dz=g.createContext(null);function Pz(e){let t=g.useContext(yi).outlet;return t&&g.createElement(Dz.Provider,{value:e},t)}function Mz(e,t){return zz(e,t)}function zz(e,t,r,n){eu()||it(!1);let{navigator:a}=g.useContext(Qc),{matches:i}=g.useContext(yi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Kh(),d;if(t){var f;let b=typeof t=="string"?Hs(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||it(!1),d=b}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=sz(e,{pathname:h}),x=Uz(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Ki([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Ki([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&x?g.createElement(Vh.Provider,{value:{location:bc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Za.Pop}},x):x}function Bz(){let e=Fz(),t=kz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,null)}const Iz=g.createElement(Bz,null);class $z extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(yi.Provider,{value:this.props.routeContext},g.createElement(A2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lz(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(Y0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(yi.Provider,{value:t},n)}function Uz(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,v=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let h,v=!1,x=null,b=null;r&&(h=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||Iz,c&&(u<0&&m===0?(Kz("route-fallback"),v=!0,b=null):u===m&&(v=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),p=()=>{let w;return h?w=x:v?w=b:f.route.Component?w=g.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,g.createElement(Lz,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement($z,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var T2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T2||{}),R2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(R2||{});function qz(e){let t=g.useContext(Y0);return t||it(!1),t}function Wz(e){let t=g.useContext(Rz);return t||it(!1),t}function Hz(e){let t=g.useContext(yi);return t||it(!1),t}function N2(e){let t=Hz(),r=t.matches[t.matches.length-1];return r.route.id||it(!1),r.route.id}function Fz(){var e;let t=g.useContext(A2),r=Wz(),n=N2();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Vz(){let{router:e}=qz(T2.UseNavigateStable),t=N2(R2.UseNavigateStable),r=g.useRef(!1);return k2(()=>{r.current=!0}),g.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,bc({fromRouteId:t},i)))},[e,t])}const Qw={};function Kz(e,t,r){Qw[e]||(Qw[e]=!0)}function Gz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function D2(e){let{to:t,replace:r,state:n,relative:a}=e;eu()||it(!1);let{future:i,static:o}=g.useContext(Qc),{matches:s}=g.useContext(yi),{pathname:c}=Kh(),u=bi(),d=E2(t,C2(s,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Yz(e){return Pz(e.context)}function wn(e){it(!1)}function Xz(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Za.Pop,navigator:i,static:o=!1,future:s}=e;eu()&&it(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:bc({v7_relativeSplatPath:!1},s)}),[c,s,i,o]);typeof n=="string"&&(n=Hs(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:v="default"}=n,x=g.useMemo(()=>{let b=S2(d,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:h,key:v},navigationType:a}},[c,d,f,m,h,v,a]);return x==null?null:g.createElement(Qc.Provider,{value:u},g.createElement(Vh.Provider,{children:r,value:x}))}function Zz(e){let{children:t,location:r}=e;return Mz(Tv(t),r)}new Promise(()=>{});function Tv(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,Tv(n.props.children,i));return}n.type!==wn&&it(!1),!n.props.index||!n.props.children||it(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Tv(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Jz(e,t){let r=Rv(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Qz="6";try{window.__reactRouterVersion=Qz}catch{}const e3="startTransition",e_=OE[e3];function t3(e){let{basename:t,children:r,future:n,window:a}=e,i=g.useRef();i.current==null&&(i.current=az({window:a,v5Compat:!0}));let o=i.current,[s,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(f=>{u&&e_?e_(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>Gz(n),[n]),g.createElement(Xz,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}var t_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(t_||(t_={}));var r_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(r_||(r_={}));function X0(e){let t=g.useRef(Rv(e)),r=g.useRef(!1),n=Kh(),a=g.useMemo(()=>Jz(n.search,r.current?null:t.current),[n.search]),i=bi(),o=g.useCallback((s,c)=>{const u=Rv(typeof s=="function"?s(a):s);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var Nv=function(e,t){return Nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Nv(e,t)};function P2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var jf=function(){return jf=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},jf.apply(this,arguments)};function Fs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function M2(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function z2(e,t){return function(r,n){t(r,n,e)}}function B2(e,t,r,n,a,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,m=!1,h=r.length-1;h>=0;h--){var v={};for(var x in n)v[x]=x==="access"?{}:n[x];for(var x in n.access)v.access[x]=n.access[x];v.addInitializer=function(y){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var b=(0,r[h])(s==="accessor"?{get:d.get,set:d.set}:d[c],v);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=o(b.get))&&(d.get=f),(f=o(b.set))&&(d.set=f),(f=o(b.init))&&a.unshift(f)}else(f=o(b))&&(s==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),m=!0}function I2(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function $2(e){return typeof e=="symbol"?e:"".concat(e)}function L2(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function U2(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function X(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function q2(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Gh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function W2(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Gh(t,e,r)}function Sf(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function H2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Z0(arguments[t]));return e}function F2(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function V2(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ss(e){return this instanceof Ss?(this.v=e,this):new Ss(e)}function K2(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(h){return function(v){return Promise.resolve(v).then(h,f)}}function s(h,v){n[h]&&(a[h]=function(x){return new Promise(function(b,y){i.push([h,x,b,y])>1||c(h,x)})},v&&(a[h]=v(a[h])))}function c(h,v){try{u(n[h](v))}catch(x){m(i[0][3],x)}}function u(h){h.value instanceof Ss?Promise.resolve(h.value.v).then(d,f):m(i[0][2],h)}function d(h){c("next",h)}function f(h){c("throw",h)}function m(h,v){h(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function G2(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Ss(e[a](o)),done:!1}:i?i(o):o}:i}}function Y2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Sf=="function"?Sf(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,c){o=e[i](o),a(s,c,o.done,o.value)})}}function a(i,o,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},o)}}function X2(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var r3=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Dv=function(e){return Dv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Dv(e)};function Z2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Dv(e),n=0;n<r.length;n++)r[n]!=="default"&&Gh(t,e,r[n]);return r3(t,e),t}function J2(e){return e&&e.__esModule?e:{default:e}}function Q2(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function ek(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function tk(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function rk(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var n3=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function nk(e){function t(i){e.error=e.hasError?new n3(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function ak(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const a3={__extends:P2,__assign:jf,__rest:Fs,__decorate:M2,__param:z2,__esDecorate:B2,__runInitializers:I2,__propKey:$2,__setFunctionName:L2,__metadata:U2,__awaiter:X,__generator:q2,__createBinding:Gh,__exportStar:W2,__values:Sf,__read:Z0,__spread:H2,__spreadArrays:F2,__spreadArray:V2,__await:Ss,__asyncGenerator:K2,__asyncDelegator:G2,__asyncValues:Y2,__makeTemplateObject:X2,__importStar:Z2,__importDefault:J2,__classPrivateFieldGet:Q2,__classPrivateFieldSet:ek,__classPrivateFieldIn:tk,__addDisposableResource:rk,__disposeResources:nk,__rewriteRelativeImportExtension:ak},i3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rk,get __assign(){return jf},__asyncDelegator:G2,__asyncGenerator:K2,__asyncValues:Y2,__await:Ss,__awaiter:X,__classPrivateFieldGet:Q2,__classPrivateFieldIn:tk,__classPrivateFieldSet:ek,__createBinding:Gh,__decorate:M2,__disposeResources:nk,__esDecorate:B2,__exportStar:W2,__extends:P2,__generator:q2,__importDefault:J2,__importStar:Z2,__makeTemplateObject:X2,__metadata:U2,__param:z2,__propKey:$2,__read:Z0,__rest:Fs,__rewriteRelativeImportExtension:ak,__runInitializers:I2,__setFunctionName:L2,__spread:H2,__spreadArray:V2,__spreadArrays:F2,__values:Sf,default:a3},Symbol.toStringTag,{value:"Module"})),o3="modulepreload",s3=function(e){return"/"+e},n_={},Vs=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=s3(c),c in n_)return;n_[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":o3,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},l3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>go);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class J0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class a_ extends J0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i_ extends J0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o_ extends J0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pv||(Pv={}));class c3{constructor(t,{headers:r={},customFetch:n,region:a=Pv.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=l3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return X(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:s,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=s):typeof s=="string"?(u["Content-Type"]="text/plain",m=s):typeof FormData<"u"&&s instanceof FormData?m=s:(u["Content-Type"]="application/json",m=JSON.stringify(s)):m=s;const h=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new a_(y)}),v=h.headers.get("x-relay-error");if(v&&v==="true")throw new i_(h);if(!h.ok)throw new o_(h);let x=((a=h.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield h.json():x==="application/octet-stream"||x==="application/pdf"?b=yield h.blob():x==="text/event-stream"?b=h:x==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new a_(i)}:{data:null,error:i,response:i instanceof o_||i instanceof i_?i.context:void 0}}})}}var qt={};const Ks=vE(i3);var Zu={},Ju={},Qu={},ed={},td={},u3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cs=u3();const d3=Cs.fetch,ik=Cs.fetch.bind(Cs),ok=Cs.Headers,f3=Cs.Request,h3=Cs.Response,go=Object.freeze(Object.defineProperty({__proto__:null,Headers:ok,Request:f3,Response:h3,default:ik,fetch:d3},Symbol.toStringTag,{value:"Module"})),m3=vE(go);var rd={},s_;function sk(){if(s_)return rd;s_=1,Object.defineProperty(rd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return rd.default=e,rd}var l_;function lk(){if(l_)return td;l_=1,Object.defineProperty(td,"__esModule",{value:!0});const e=Ks,t=e.__importDefault(m3),r=e.__importDefault(sk());class n{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m,h;let v=null,x=null,b=null,y=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=C:x=JSON.parse(C))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");_&&j&&j.length>1&&(b=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,y=406,p="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const _=await u.text();try{v=JSON.parse(_),Array.isArray(v)&&u.status===404&&(x=[],v=null,y=200,p="OK")}catch{u.status===404&&_===""?(y=204,p="No Content"):v={message:_}}if(v&&this.isMaybeSingle&&(!((h=v==null?void 0:v.details)===null||h===void 0)&&h.includes("0 rows"))&&(v=null,y=200,p="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:x,count:b,status:y,statusText:p}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,m;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return td.default=n,td}var c_;function ck(){if(c_)return ed;c_=1,Object.defineProperty(ed,"__esModule",{value:!0});const t=Ks.__importDefault(lk());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ed.default=r,ed}var u_;function Q0(){if(u_)return Qu;u_=1,Object.defineProperty(Qu,"__esModule",{value:!0});const t=Ks.__importDefault(ck()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}}return Qu.default=n,Qu}var d_;function uk(){if(d_)return Ju;d_=1,Object.defineProperty(Ju,"__esModule",{value:!0});const t=Ks.__importDefault(Q0());class r{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,i){const{head:o=!1,count:s}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(f.length>0){const m=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ju.default=r,Ju}var f_;function p3(){if(f_)return Zu;f_=1,Object.defineProperty(Zu,"__esModule",{value:!0});const e=Ks,t=e.__importDefault(uk()),r=e.__importDefault(Q0());class n{constructor(i,{headers:o={},schema:s,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${i}`);let h;s||c?(f=s?"HEAD":"GET",Object.entries(o).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{m.searchParams.append(x,b)})):(f="POST",h=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:v,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Zu.default=n,Zu}Object.defineProperty(qt,"__esModule",{value:!0});var dk=qt.PostgrestError=wk=qt.PostgrestBuilder=bk=qt.PostgrestTransformBuilder=vk=qt.PostgrestFilterBuilder=pk=qt.PostgrestQueryBuilder=hk=qt.PostgrestClient=void 0;const Gs=Ks,fk=Gs.__importDefault(p3());var hk=qt.PostgrestClient=fk.default;const mk=Gs.__importDefault(uk());var pk=qt.PostgrestQueryBuilder=mk.default;const gk=Gs.__importDefault(Q0());var vk=qt.PostgrestFilterBuilder=gk.default;const yk=Gs.__importDefault(ck());var bk=qt.PostgrestTransformBuilder=yk.default;const xk=Gs.__importDefault(lk());var wk=qt.PostgrestBuilder=xk.default;const _k=Gs.__importDefault(sk());dk=qt.PostgrestError=_k.default;var jk=qt.default={PostgrestClient:fk.default,PostgrestQueryBuilder:mk.default,PostgrestFilterBuilder:gk.default,PostgrestTransformBuilder:yk.default,PostgrestBuilder:xk.default,PostgrestError:_k.default};const g3=gE({__proto__:null,get PostgrestBuilder(){return wk},get PostgrestClient(){return hk},get PostgrestError(){return dk},get PostgrestFilterBuilder(){return vk},get PostgrestQueryBuilder(){return pk},get PostgrestTransformBuilder(){return bk},default:jk},[qt]),{PostgrestClient:v3,PostgrestQueryBuilder:kre,PostgrestFilterBuilder:Tre,PostgrestTransformBuilder:Rre,PostgrestBuilder:Nre,PostgrestError:Dre}=jk||g3;class y3{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const b3="2.78.0",x3=`realtime-js/${b3}`,w3="1.0.0",Mv=1e4,_3=1e3,j3=100;var Xl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xl||(Xl={}));var st;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(st||(st={}));var nn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nn||(nn={}));var zv;(function(e){e.websocket="websocket"})(zv||(zv={}));var Mi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mi||(Mi={}));class S3{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class Sk{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Te||(Te={}));const h_=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=C3(o,e,t,a),i),{}):{}},C3=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?Ck(i,o):Bv(o)},Ck=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return k3(t,r)}switch(e){case Te.bool:return E3(t);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return O3(t);case Te.json:case Te.jsonb:return A3(t);case Te.timestamp:return T3(t);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Bv(t);default:return Bv(t)}},Bv=e=>e,E3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},O3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},A3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},k3=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>Ck(t,s))}return e},T3=e=>typeof e=="string"?e.replace(" ","T"):e,Ek=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Yp{constructor(t,r,n={},a=Mv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var m_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(m_||(m_={}));class Zl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Zl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Zl.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),v=d.filter(b=>h.indexOf(b.presence_ref)<0),x=f.filter(b=>m.indexOf(b.presence_ref)<0);v.length>0&&(s[u]=v),x.length>0&&(c[u]=x)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,c)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),d.length>0){const f=t[s].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);t[s].unshift(...m)}n(s,d,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,c),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var p_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(p_||(p_={}));var Jl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jl||(Jl={}));var Un;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class eb{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yp(this,nn.join,this.params,this.timeout),this.rejoinTimer=new Sk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Zl(this),this.broadcastEndpointURL=Ek(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Jl.PRESENCE]&&this.bindings[Jl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Un.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket.setAuth(),h===void 0){t==null||t(Un.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,y=[];for(let p=0;p<b;p++){const w=x[p],{filter:{event:_,schema:j,table:C,filter:S}}=w,E=h&&h[p];if(E&&E.event===_&&E.schema===j&&E.table===C&&E.filter===S)y.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=st.errored,t==null||t(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Un.SUBSCRIBED);return}}).receive("error",h=>{this.state=st.errored,t==null||t(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===st.joined&&t===Jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const u=await s.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Yp(this,nn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Yp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>j3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=nn;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var v,x,b;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=h.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(h=>h.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var v,x,b,y,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const _=h.id,j=(v=h.filter)===null||v===void 0?void 0:v.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(p=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:x,table:b,commit_timestamp:y,type:p,errors:w}=v;m=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(v))}h.callback(m,n)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&eb.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nn.close,{},t)}_onError(t){this._on(nn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=h_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=h_(t.columns,t.old_record)),r}}const Xp=()=>{},nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R3=[1e3,2e3,5e3,1e4],N3=1e4,D3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P3{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mv,this.transport=null,this.heartbeatIntervalMs=nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xp,this.ref=0,this.reconnectTimer=null,this.logger=Xp,this.conn=null,this.sendBuffer=[],this.serializer=new S3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Vs(async()=>{const{default:s}=await Promise.resolve().then(()=>go);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${zv.websocket}`,this.httpEndpoint=Ek(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y3.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:w3}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xl.connecting:return Mi.Connecting;case Xl.open:return Mi.Open;case Xl.closing:return Mi.Closing;default:return Mi.Closed}}isConnected(){return this.connectionState()===Mi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new eb(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(nn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([D3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:x3};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(nn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Sk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,s,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Mv,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:nd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Xp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>R3[f-1]||N3,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class tb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class M3 extends tb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Iv extends tb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const rb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>go);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},z3=()=>X(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vs(()=>Promise.resolve().then(()=>go),void 0)).Response:Response}),$v=e=>{if(Array.isArray(e))return e.map(r=>$v(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=$v(n)}),t},B3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},I3=(e,t,r)=>X(void 0,void 0,void 0,function*(){const n=yield z3();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new M3(Zp(a),i,o))}).catch(a=>{t(new Iv(Zp(a),a))}):t(new Iv(Zp(e),e))}),$3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(B3(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function tu(e,t,r,n,a,i){return X(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,$3(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>I3(c,s,n))})})}function xc(e,t,r,n){return X(this,void 0,void 0,function*(){return tu(e,"GET",t,r,n)})}function tn(e,t,r,n,a){return X(this,void 0,void 0,function*(){return tu(e,"POST",t,n,a,r)})}function Lv(e,t,r,n,a){return X(this,void 0,void 0,function*(){return tu(e,"PUT",t,n,a,r)})}function L3(e,t,r,n){return X(this,void 0,void 0,function*(){return tu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function nb(e,t,r,n,a){return X(this,void 0,void 0,function*(){return tu(e,"DELETE",t,n,a,r)})}class U3{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}}var Ok;class q3{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Ok]="BlobDownloadBuilder",this.promise=null}asStream(){return new U3(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}}Ok=Symbol.toStringTag;const W3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},g_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class H3{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=rb(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return X(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},g_),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Lv:tn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return X(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:g_.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Lv(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return X(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield tn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new tb("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}update(t,r,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return X(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}copy(t,r,n){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return X(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield tn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return X(this,void 0,void 0,function*(){try{const a=yield tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),c=()=>xc(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new q3(c,this.shouldThrowOnError)}info(t){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield xc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$v(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}exists(t){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield L3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n)&&n instanceof Iv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return X(this,void 0,void 0,function*(){try{return{data:yield nb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}list(t,r,n){return X(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},W3),r),{prefix:t||""});return{data:yield tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}listV2(t,r){return X(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield tn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ak="2.78.0",kk={"X-Client-Info":`storage-js/${Ak}`};class F3{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kk),r),this.fetch=rb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return X(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield xc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}getBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield xc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}createBucket(t){return X(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield tn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return X(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield nb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class V3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kk),r),this.fetch=rb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listBuckets(t){return X(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield xc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield nb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}}const ab={"X-Client-Info":`storage-js/${Ak}`,"Content-Type":"application/json"};class Tk extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function gr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Jp extends Tk{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class K3 extends Tk{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var v_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(v_||(v_={}));const ib=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>go);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},G3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},y_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Y3=(e,t,r)=>X(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Jp(y_(o),a,s))}).catch(()=>{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Jp(s,a,o))});else{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Jp(s,a,o))}}else t(new K3(y_(e),e))}),X3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(G3(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Z3(e,t,r,n,a,i){return X(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,X3(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Y3(c,s,n))})})}function vr(e,t,r,n,a){return X(this,void 0,void 0,function*(){return Z3(e,"POST",t,n,a,r)})}class J3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ab),r),this.fetch=ib(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return X(this,void 0,void 0,function*(){try{return{data:(yield vr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return X(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}})}listIndexes(t){return X(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return X(this,void 0,void 0,function*(){try{return{data:(yield vr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}})}}class Q3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ab),r),this.fetch=ib(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return X(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield vr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}getVectors(t){return X(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}listVectors(t){return X(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield vr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}queryVectors(t){return X(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return X(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield vr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}}class e8{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ab),r),this.fetch=ib(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return X(this,void 0,void 0,function*(){try{return{data:(yield vr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}getBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}listBuckets(){return X(this,arguments,void 0,function*(t={}){try{return{data:yield vr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:(yield vr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}}class t8 extends e8{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new r8(this.url,this.headers,t,this.fetch)}}class r8 extends J3{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new n8(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class n8 extends Q3{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class a8 extends F3{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new H3(this.url,this.headers,t,this.fetch)}get vectors(){return new t8(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new V3(this.url+"/iceberg",this.headers,this.fetch)}}const i8="2.78.0";let Dl="";typeof Deno<"u"?Dl="deno":typeof document<"u"?Dl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dl="react-native":Dl="node";const o8={"X-Client-Info":`supabase-js-${Dl}/${i8}`},s8={headers:o8},l8={schema:"public"},c8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u8={},d8=e=>{let t;return e?t=e:typeof fetch>"u"?t=ik:t=fetch,(...r)=>t(...r)},f8=()=>typeof Headers>"u"?ok:Headers,h8=(e,t,r)=>{const n=d8(r),a=f8();return async(i,o)=>{var s;const c=(s=await t())!==null&&s!==void 0?s:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function m8(e){return e.endsWith("/")?e:e+"/"}function p8(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function g8(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(m8(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rk="2.78.0",$o=30*1e3,Uv=3,Qp=Uv*$o,v8="http://localhost:9999",y8="supabase.auth.token",b8={"X-Client-Info":`gotrue-js/${Rk}`},qv="X-Supabase-Api-Version",Nk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},x8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w8=10*60*1e3;class wc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _8 extends wc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function j8(e){return Q(e)&&e.name==="AuthApiError"}class zi extends wc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class xi extends wc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Qr extends xi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function S8(e){return Q(e)&&e.name==="AuthSessionMissingError"}class Ao extends xi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ad extends xi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class id extends xi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C8(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class b_ extends xi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wv extends xi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function eg(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class x_ extends xi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Hv extends xi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),w_=` 	
\r=`.split(""),E8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<w_.length;t+=1)e[w_[t].charCodeAt(0)]=-2;for(let t=0;t<Cf.length;t+=1)e[Cf[t].charCodeAt(0)]=t;return e})();function __(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cf[n]),t.queuedBits-=6}}function Dk(e,t,r){const n=E8[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function j_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{k8(o,n,r)};for(let o=0;o<e.length;o+=1)Dk(e.charCodeAt(o),a,i);return t.join("")}function O8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function A8(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}O8(n,t)}}function k8(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function cs(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Dk(e.charCodeAt(a),r,n);return new Uint8Array(t)}function T8(e){const t=[];return A8(e,r=>t.push(r)),new Uint8Array(t)}function Bi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>__(a,r,n)),__(null,r,n),t.join("")}function R8(e){return Math.round(Date.now()/1e3)+e}function N8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",Ci={tested:!1,writable:!1},Pk=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ci.tested)return Ci.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ci.tested=!0,Ci.writable=!0}catch{Ci.tested=!0,Ci.writable=!1}return Ci.writable};function D8(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Mk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>go);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},P8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ei=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Da=async(e,t)=>{await e.removeItem(t)};class Yh{constructor(){this.promise=new Yh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Yh.promiseConstructor=Promise;function tg(e){const t=e.split(".");if(t.length!==3)throw new Hv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!x8.test(t[n]))throw new Hv("JWT not in base64url format");return{header:JSON.parse(j_(t[0])),payload:JSON.parse(j_(t[1])),signature:cs(t[2]),raw:{header:t[0],payload:t[1]}}}async function M8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function z8(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function B8(e){return("0"+e.toString(16)).substr(-2)}function I8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,B8).join("")}async function $8(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function L8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $8(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(e,t,r=!1){const n=I8();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Lo(e,`${t}-code-verifier`,a);const i=await L8(n);return[i,n===i?"plain":"s256"]}const U8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q8(e){const t=e.headers.get(qv);if(!t||!t.match(U8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function H8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const F8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function To(e){if(!F8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function V8(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function S_(e){return JSON.parse(JSON.stringify(e))}const Ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),K8=[502,503,504];async function C_(e){var t;if(!P8(e))throw new Wv(Ri(e),0);if(K8.includes(e.status))throw new Wv(Ri(e),e.status);let r;try{r=await e.json()}catch(i){throw new zi(Ri(i),i)}let n;const a=q8(e);if(a&&a.getTime()>=Nk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new x_(Ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Qr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new x_(Ri(r),e.status,r.weak_password.reasons);throw new _8(Ri(r),e.status||500,n)}const G8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function re(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[qv]||(i[qv]=Nk["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Y8(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Y8(e,t,r,n,a,i){const o=G8(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Wv(Ri(c),0)}if(s.ok||await C_(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await C_(c)}}function en(e){var t;let r=null;J8(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=R8(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function E_(e){const t=en(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function X8(e){return{data:e,error:null}}function Z8(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Fs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function O_(e){return e}function J8(e){return e.access_token&&e.refresh_token&&e.expires_in}const ng=["global","local","others"];class Q8{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Mk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ng[0]){if(ng.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ng.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wa})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Fs(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Z8,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wa})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:O_});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){To(t);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wa})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){To(t);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wa})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){To(t);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wa})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){To(t.userId);try{const{data:r,error:n}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){To(t.userId),To(t.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:O_});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}}function A_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ro={debug:!!(globalThis&&Pk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eB extends zk{}async function tB(e,t,r){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ro.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Bk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function nB(e){return parseInt(e,16)}function aB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function iB(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=Bk(e.address),v=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${h}

${x}`;let y=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);p+=`
- ${w}`}y+=p}return`${b}
${y}`}class Qe extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ef extends Qe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function oB({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Ik(o)){if(i.rp.id!==o)return new Qe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function sB({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Ik(n)){if(r.rpId!==n)return new Qe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lB{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const cB=new lB;function uB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Fs(e,["challenge","user","excludeCredentials"]),i=cs(t).buffer,o=Object.assign(Object.assign({},r),{id:cs(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:cs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function dB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Fs(e,["challenge","allowCredentials"]),a=cs(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:cs(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function fB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Bi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Bi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Bi(new Uint8Array(a.authenticatorData)),clientDataJSON:Bi(new Uint8Array(a.clientDataJSON)),signature:Bi(new Uint8Array(a.signature)),userHandle:a.userHandle?Bi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ik(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function k_(){var e,t;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mB(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ef("Browser returned unexpected credential type",t)}:{data:null,error:new Ef("Empty credential response",t)}}catch(t){return{data:null,error:oB({error:t,options:e})}}}async function pB(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ef("Browser returned unexpected credential type",t)}:{data:null,error:new Ef("Empty credential response",t)}}catch(t){return{data:null,error:sB({error:t,options:e})}}}const gB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},vB={userVerification:"preferred",hints:["security-key"]};function Of(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const s=n[i];t(s)?n[i]=Of(s,o):n[i]=Of(o)}else n[i]=o}return n}function yB(e,t){return Of(gB,e,t||{})}function bB(e,t){return Of(vB,e,t||{})}class xB{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const c=a??cB.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=yB(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await mB({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=bB(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await pB(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Q(o)?{data:null,error:o}:{data:null,error:new zi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new wc("rpId is required for WebAuthn authentication")};try{if(!k_())return{data:null,error:new zi("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Q(o)?{data:null,error:o}:{data:null,error:new zi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new wc("rpId is required for WebAuthn registration")};try{if(!k_())return{data:null,error:new zi("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Q(o)?{data:null,error:o}:{data:null,error:new zi("Unexpected error in register",o)}}}}rB();const wB={url:v8,storageKey:y8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function T_(e,t,r){return await r()}const No={};class _c{get jwks(){var t,r;return(r=(t=No[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=No[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_c.nextInstanceID,_c.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},wB),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Q8({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Mk(a.fetch),this.lock=a.lock||T_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=tB:this.lock=T_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Pk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=A_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=A_(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=D8(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),C8(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new zi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:en}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await ko(this.storage,this.storageKey)),i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:v},xform:en})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:en})}else throw new ad("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:E_})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:E_})}else throw new ad("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ao}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,s,c,u,d,f,m;let h,v;if("message"in t)h=t.message,v=t.signature;else{const{chain:x,wallet:b,statement:y,options:p}=t;let w;if(Lt())if(typeof b=="object")w=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Bk(j[0]);let S=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const O=await w.request({method:"eth_chainId"});S=nB(O)}const E={domain:_.host,address:C,statement:y,uri:_.href,version:"1",chainId:S,nonce:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=iB(E),v=await w.request({method:"personal_sign",params:[aB(h),C]})}try{const{data:x,error:b}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:en});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ao}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(Q(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var r,n,a,i,o,s,c,u,d,f,m,h;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:b,wallet:y,statement:p,options:w}=t;let _;if(Lt())if(typeof y=="object")_=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let S;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")S=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)S=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:b,error:y}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Bi(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:en});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ao}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(Q(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Ei(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:en});if(await Da(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ao}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:en}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ao}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ko(this.storage,this.storageKey));const{error:f}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ad("You must provide either an email or phone number.")}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:en});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ko(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:X8})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Qr;const{error:a}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new ad("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Qp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ei(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=rg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=V8(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wa}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qr}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Wa})})}catch(r){if(Q(r))return S8(r)&&(await this._removeSession(),await Da(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Qr;const o=a.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await ko(this.storage,this.storageKey));const{data:u,error:d}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:Wa});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=tg(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Qr;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lt())throw new id("No browser detected.");if(t.error||t.error_description||t.error_code)throw new id(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new b_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new id("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new b_("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!i||!s||!o||!u)throw new id("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let m=d+f;c&&(m=parseInt(c));const h=m-d;h*1e3<=$o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=m-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ei(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(j8(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Da(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=N8(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ko(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,c,u,d;const{data:f,error:m}=i;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:c,access_token:u,nonce:d}=t,f=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:en}),{data:m,error:h}=f;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ao}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:h})}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await z8(async a=>(a>0&&await M8(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:en})),(a,i)=>{const o=200*Math.pow(2,a);return i&&eg(i)&&Date.now()+o-n<$o})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ei(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ei(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Lo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:rg()}else if(a&&!a.user&&!a.user){const o=await Ei(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Da(this.storage,this.storageKey+"-user"),await Lo(this.storage,this.storageKey,a)):a.user=rg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Qp}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),eg(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Yh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),Q(i)){const o={data:null,error:i};return eg(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Lo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=S_(a);await Lo(this.storage,this.storageKey,i)}else{const a=S_(r);await Lo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Da(this.storage,this.storageKey),await Da(this.storage,this.storageKey+"-code-verifier"),await Da(this.storage,this.storageKey+"-user"),this.userStorage&&await Da(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$o);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/$o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${$o}ms, refresh threshold is ${Uv} ticks`),a<=Uv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ko(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await re(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fB(t.webauthn.credential_response):hB(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:c}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:uB(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:dB(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=tg(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Qr}})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Qr};const o=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Qr};const o=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+w8>a)return n;const{data:i,error:o}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:c}}=tg(n);r!=null&&r.allowExpired||W8(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const d=H8(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,T8(`${s}.${c}`)))throw new Hv("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}_c.nextInstanceID=0;const _B=_c;class jB extends _B{constructor(t){super(t)}}class SB{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const s=g8(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:l8,realtime:u8,auth:Object.assign(Object.assign({},c8),{storageKey:c}),global:s8},d=p8(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=h8(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new v3(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new a8(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new c3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jB({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new P3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CB=(e,t,r)=>new SB(e,t,r);function EB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}EB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const OB="https://abbysvxnnhwvvzhftoms.supabase.co",AB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",$=CB(OB,AB);function kB(){const[e,t]=g.useState(""),[r,n]=g.useState(""),[a,i]=g.useState(!1),[o,s]=g.useState(!1),[c,u]=g.useState(""),[d,f]=g.useState(""),m=bi();g.useEffect(()=>{const{data:{subscription:x}}=$.auth.onAuthStateChange(async(b,y)=>{b==="PASSWORD_RECOVERY"&&s(!0)});return window.location.search.includes("reset=true")&&s(!0),()=>x.unsubscribe()},[]);const h=async x=>{if(x.preventDefault(),c!==d){alert("As senhas no coincidem!");return}i(!0);try{const{error:b}=await $.auth.updateUser({password:c});if(b)throw b;alert("Senha atualizada com sucesso! Agora voc pode fazer login."),s(!1),u(""),f(""),m("/login")}catch(b){alert("Erro ao atualizar senha: "+b.message)}finally{i(!1)}},v=async x=>{x.preventDefault(),i(!0);const{error:b}=await $.auth.signInWithPassword({email:e,password:r});b?b.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(b.message):m("/dashboard"),i(!1)};return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:o?l.jsxs("form",{onSubmit:h,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"}}),l.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Defina sua nova senha"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nova Senha"}),l.jsx("input",{type:"password",value:c,onChange:x=>u(x.target.value),className:"input",placeholder:"",required:!0,minLength:6})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Confirmar Nova Senha"}),l.jsx("input",{type:"password",value:d,onChange:x=>f(x.target.value),className:"input",placeholder:"",required:!0,minLength:6})]}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Atualizar Senha"}),l.jsx("button",{type:"button",onClick:()=>s(!1),style:{background:"none",border:"none",color:"var(--color-primary)",width:"100%",marginTop:"1rem",cursor:"pointer"},children:"Cancelar"})]}):l.jsxs("form",{onSubmit:v,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:x=>{x.target.onerror=null,x.target.style.display="none",x.target.nextSibling.style.display="block"}}),l.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),l.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:e,onChange:x=>t(x.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),l.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:x}=await $.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/login?reset=true"});i(!1),alert(x?"Erro ao enviar email: "+x.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),l.jsx("input",{id:"password",type:"password",value:r,onChange:x=>n(x.target.value),className:"input",placeholder:"",required:!0})]}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),l.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[l.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),l.jsx("button",{type:"button",onClick:()=>m("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const pn=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},jc=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const s=await o.json(),c=s.estabelecimento||{},u=s.socios&&s.socios.length>0?s.socios[0]:null;return{nome:s.razao_social,fantasia:c.nome_fantasia,doc:t,email:c.email,telefone:c.ddd1&&c.telefone1?`(${c.ddd1}) ${c.telefone1}`:"",address:{logradouro:c.tipo_logradouro?`${c.tipo_logradouro} ${c.logradouro}`:c.logradouro,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cep:c.cep,uf:(n=c.estado)==null?void 0:n.sigla,municipio:(a=c.cidade)==null?void 0:a.nome,cidade:(i=c.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:s}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},$k=async e=>{var t;try{const{data:r,error:n}=await $.functions.invoke("manage-asaas-customer",{body:e});if(n){let a=n.message;try{const i=await((t=n.context)==null?void 0:t.json());i!=null&&i.error&&(a=i.error)}catch(i){console.warn("Could not parse error body:",i)}throw new Error(a)}return r}catch(r){throw console.error("Erro Asaas Customer:",r),r}},ru=async e=>{const{data:t,error:r}=await $.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},Xh=async(e,t="invoice")=>{var i;const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await $.functions.invoke("create-asaas-charge",{body:r});if(a){let o=a.message;try{const s=await((i=a.context)==null?void 0:i.json());s!=null&&s.error&&(o=s.error)}catch{}throw new Error(o)}return n},Fv=async(e,t,r,n)=>{var a;try{const{data:i,error:o}=await $.functions.invoke("send-whatsapp",{body:{phone:e?e.replace(/\D/g,""):"",text:t,mediaUrl:r,instanceName:n}});if(o){let s=o.message;try{const c=await((a=o.context)==null?void 0:a.json());c!=null&&c.error&&(s=c.error)}catch{}throw new Error(s)}if(i!=null&&i.error)throw new Error(i.error);return i}catch(i){throw console.error("Erro ao enviar WhatsApp:",i),i}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),R_=e=>{const t=RB(e);return t.charAt(0).toUpperCase()+t.slice(1)},Lk=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),NB=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...s},c)=>g.createElement("svg",{ref:c,...DB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Lk("lucide",a),...!i&&!NB(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const r=g.forwardRef(({className:n,...a},i)=>g.createElement(PB,{ref:i,iconNode:t,className:Lk(`lucide-${TB(R_(e))}`,`lucide-${e}`,n),...a}));return r.displayName=R_(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zB=ie("arrow-right",MB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],N_=ie("briefcase",BB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],$B=ie("calculator",IB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Uk=ie("calendar",LB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],qB=ie("chart-no-axes-column-increasing",UB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qk=ie("chevron-down",WB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],FB=ie("chevron-left",HB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],KB=ie("chevron-right",VB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Wk=ie("chevron-up",GB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hk=ie("circle-alert",YB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fk=ie("circle-check-big",XB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JB=ie("circle-question-mark",ZB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vk=ie("clock",QB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],tI=ie("code",eI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nI=ie("copy",rI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nu=ie("credit-card",aI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zh=ie("dollar-sign",iI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sI=ie("eye-off",oI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cI=ie("eye",lI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hi=ie("file-text",uI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fI=ie("funnel",dI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ob=ie("history",hI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Jh=ie("house",mI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gI=ie("info",pI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ag=ie("layout-dashboard",vI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],bI=ie("link",yI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wI=ie("log-out",xI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jI=ie("map-pin",_I);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],CI=ie("megaphone",SI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],OI=ie("menu",EI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kI=ie("pen",AI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ys=ie("plus",TI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sb=ie("save",RI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lb=ie("search",NI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],PI=ie("send",DI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zI=ie("server",MI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cb=ie("settings",BI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$I=ie("square-pen",II);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],au=ie("trash-2",LI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],qI=ie("truck",UI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Kk=ie("user-check",WI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ub=ie("user",HI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],db=ie("users",FI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wi=ie("x",VI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vo=ie("zap",KI),Gk=g.createContext(),or=()=>{const e=g.useContext(Gk);if(!e)throw new Error("useUI must be used within a UIProvider");return e},GI=({children:e})=>{const[t,r]=g.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=g.useRef(null),a=()=>{r(u=>({...u,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(u=>({...u,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(u,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:u,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},s=(u,d="Confirmao",f="Confirmar",m="Cancelar")=>new Promise(h=>{n.current=h,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:u,confirmText:f,cancelText:m,onConfirm:()=>{},onCancel:()=>{}})}),c=()=>{switch(t.variant){case"error":return l.jsx(Hk,{size:32,color:"#ef4444"});case"success":return l.jsx(Fk,{size:32,color:"#22c55e"});case"warning":return l.jsx(JB,{size:32,color:"#f59e0b"});default:return l.jsx(gI,{size:32,color:"#3b82f6"})}};return l.jsxs(Gk.Provider,{value:{showAlert:o,showConfirm:s},children:[e,t.isOpen&&l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:c()}),l.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),l.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:l.jsx(wi,{size:20})})]}),l.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&l.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:u=>u.currentTarget.style.background="#f9fafb",onMouseOut:u=>u.currentTarget.style.background="white",children:t.cancelText}),l.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:u=>u.currentTarget.style.filter="brightness(0.9)",onMouseOut:u=>u.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),l.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})};function YI(){const[e]=X0();bi();const{showAlert:t}=or(),[r,n]=g.useState(!1),[a,i]=g.useState(!1),[o,s]=g.useState(null),c=e.get("id");e.get("originador");const[u,d]=g.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[f,m]=g.useState(null),h=async()=>{const j=u.cep.replace(/\D/g,"");if(j.length===8){n(!0);try{const C=await pn(j);if(d(S=>({...S,street:C.rua,neighborhood:C.bairro,city:C.cidade,uf:C.uf})),C.ibge){const S=await ru(C.ibge);S?(m(S),d(E=>({...E,concessionaria:S.Concessionaria||""}))):(m(null),d(E=>({...E,concessionaria:""})))}}catch(C){console.error("Error fetching CEP:",C)}finally{n(!1)}}},v=()=>{if(!f)return 0;const j=Number(f["Tarifa Concessionaria"])||0;let S=Number(f["Desconto Assinante"])||0;return S>1&&(S=S/100),u.consumo*j*S},x=async j=>{j.preventDefault(),n(!0);try{const C=v(),E=c&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(c)?c:null,O={name:u.name,email:u.email,phone:u.phone,cep:u.cep,concessionaria:u.concessionaria,consumo_kwh:u.consumo,calculated_discount:C,rua:u.street,numero:u.number,bairro:u.neighborhood,cidade:u.city,uf:u.uf,tarifa_concessionaria:Number(f==null?void 0:f["Tarifa Concessionaria"])||0,desconto_assinante:Number(f==null?void 0:f["Desconto Assinante"])||0,status:"simulacao",originator_id:E},{data:A,error:N}=await $.from("leads").insert(O).select().single();if(N)throw N;A&&s(A),i(!0)}catch(C){console.error("Error saving lead:",C);const S=C.message||"Erro ao processar simulao. Tente novamente.";t(S,"error")}finally{n(!1)}},b=()=>{const C=v()*12;let S=Number(f==null?void 0:f["Desconto Assinante"])||0;S<1&&S>0&&(S=S*100);const E=new URLSearchParams;E.append("name",u.name),E.append("email",u.email),E.append("phone",u.phone),E.append("cep",u.cep),E.append("consumo",u.consumo),c&&E.append("originator_id",c),E.append("discount_percent",S.toFixed(0)),E.append("savings_annual",C.toFixed(2));const O=`https://www.b2wenergia.com.br/contrato?${E.toString()}`;window.open(O,"_blank"),i(!1)},y=j=>j.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),p={primary:"#003366",accent:"#FF6600"},w={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:p.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:p.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:p.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},_=v();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:w.wrapper,children:[l.jsx("h2",{style:w.header,children:"Saiba o valor do seu desconto"}),l.jsxs("form",{onSubmit:x,style:w.formSpace,children:[l.jsx("div",{style:w.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:w.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:u.cep,onChange:j=>{let C=j.target.value.replace(/\D/g,"");C.length>5&&(C=C.replace(/^(\d{5})(\d)/,"$1-$2")),d({...u,cep:C})},onBlur:h,style:w.input,placeholder:"00000-000",required:!0})]})}),l.jsxs("div",{children:[l.jsx("label",{style:w.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:u.name,onChange:j=>d({...u,name:j.target.value}),style:w.input,placeholder:"Como devemos te chamar?",required:!0})]}),l.jsxs("div",{style:w.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:w.label,children:"E-mail"}),l.jsx("input",{type:"email",value:u.email,onChange:j=>d({...u,email:j.target.value}),style:w.input,placeholder:"exemplo@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:w.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:u.phone,onChange:j=>{let C=j.target.value.replace(/\D/g,"");C=C.replace(/^(\d{2})(\d)/g,"($1) $2"),C=C.replace(/(\d)(\d{4})$/,"$1-$2"),d({...u,phone:C})},style:w.input,placeholder:"(00) 00000-0000",required:!0})]})]}),l.jsxs("div",{style:w.rangeContainer,children:[l.jsxs("div",{style:w.rangeLabelRow,children:[l.jsx("label",{style:w.label,children:"Mdia de Gasto Mensal (kWh)"}),l.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:p.accent},children:[u.consumo," kWh"]})]}),l.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:u.consumo,onChange:j=>d({...u,consumo:Number(j.target.value)}),style:w.rangeInput}),l.jsxs("div",{style:w.rangeTicks,children:[l.jsx("span",{children:"0 kWh"}),l.jsx("span",{children:"10.000+ kWh"})]})]}),l.jsx("button",{type:"submit",disabled:r,style:w.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:l.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),l.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),l.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[l.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.name})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.concessionaria})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),l.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[y((o==null?void 0:o.calculated_discount)||_),l.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),l.jsx("button",{onClick:b,style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:p.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})})]})}function XI(){return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(YI,{})})})}function ZI(){const{showAlert:e}=or(),[t,r]=g.useState(!1),[n,a]=g.useState(1),[i,o]=g.useState(null);Ee.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[s,c]=g.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[u,d]=g.useState(!1),f=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),m=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),h=async()=>{const p=s.cep.replace(/\D/g,"");if(p.length===8){r(!0);try{const w=await pn(p);c(_=>({..._,street:w.rua,neighborhood:w.bairro,city:w.cidade,uf:w.uf}))}catch(w){console.error("Error fetching CEP:",w)}finally{r(!1)}}},v=async p=>{p.preventDefault(),r(!0);try{const{data:w,error:_}=await $.auth.signUp({email:s.email,password:s.password,options:{data:{name:s.name,phone:s.phone}}});if(_)throw _;w!=null&&w.user&&(o(w.user.id),a(2))}catch(w){console.error("Error signing up:",w),e(w.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},x=async p=>{p.preventDefault(),r(!0);try{const w={id:i,name:s.name,email:s.email,phone:s.phone,cpf_cnpj:s.cpf,pix_key:s.pix_key,pix_key_type:s.pix_key_type,profession:s.profession,address:{cep:s.cep,street:s.street,number:s.number,neighborhood:s.neighborhood,city:s.city,uf:s.uf,complement:s.complement}},{error:_}=await $.from("originators_v2").insert(w);if(_)throw _;a(3)}catch(w){console.error("Error saving profile:",w),e(w.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},b={primary:"#003366",accent:"#FF6600"},y={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:b.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:b.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?l.jsxs("div",{style:y.wrapper,children:[l.jsx("h2",{style:y.header,children:"Seja um Parceiro B2W"}),l.jsxs("form",{onSubmit:v,style:y.formSpace,children:[l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:s.name,onChange:p=>c({...s,name:p.target.value}),style:y.input,required:!0})]}),l.jsxs("div",{style:y.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"E-mail"}),l.jsx("input",{type:"email",value:s.email,onChange:p=>c({...s,email:p.target.value}),style:y.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:s.phone,onChange:p=>{let w=p.target.value.replace(/\D/g,"");w=w.replace(/^(\d{2})(\d)/g,"($1) $2"),w=w.replace(/(\d)(\d{4})$/,"$1-$2"),c({...s,phone:w})},style:y.input,required:!0})]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("label",{style:y.label,children:"Senha"}),l.jsx("input",{type:u?"text":"password",value:s.password,onChange:p=>c({...s,password:p.target.value}),style:{...y.input,paddingRight:"2.5rem"},required:!0,minLength:6}),l.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:u?l.jsx(m,{}):l.jsx(f,{})})]}),l.jsx("button",{type:"submit",disabled:t,style:y.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&l.jsxs("form",{onSubmit:x,style:y.formSpace,children:[l.jsx("h3",{style:{...y.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),l.jsx("div",{style:y.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:y.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:s.cep,onChange:p=>{let w=p.target.value.replace(/\D/g,"");w.length>5&&(w=w.replace(/^(\d{5})(\d)/,"$1-$2")),c({...s,cep:w})},onBlur:h,style:y.input,required:!0})]})}),l.jsxs("div",{style:y.grid,children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:y.label,children:"Rua"}),l.jsx("input",{value:s.street,style:y.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Bairro"}),l.jsx("input",{value:s.neighborhood,style:y.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Cidade / UF"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:s.city,style:{...y.input,flex:2},readOnly:!0}),l.jsx("input",{value:s.uf,style:{...y.input,flex:1},readOnly:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Nmero"}),l.jsx("input",{value:s.number,onChange:p=>c({...s,number:p.target.value}),style:y.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Complemento"}),l.jsx("input",{value:s.complement,onChange:p=>c({...s,complement:p.target.value}),style:y.input,placeholder:"Ap 101, Bloco B"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Profisso"}),l.jsx("input",{type:"text",value:s.profession,onChange:p=>c({...s,profession:p.target.value}),style:y.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),l.jsxs("div",{style:y.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"CPF (Chave PIX)"}),l.jsx("input",{type:"text",value:s.cpf,onChange:p=>{let w=p.target.value.replace(/\D/g,"");w.length>11&&(w=w.substring(0,11)),w=w.replace(/(\d{3})(\d)/,"$1.$2"),w=w.replace(/(\d{3})(\d)/,"$1.$2"),w=w.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),c(_=>({..._,cpf:w,pix_key:_.pix_key_type==="cpf"?w:_.pix_key}))},style:y.input,required:!0,placeholder:"000.000.000-00"})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Tipo Chave PIX"}),l.jsxs("select",{value:s.pix_key_type,onChange:p=>{const w=p.target.value;c(_=>({..._,pix_key_type:w,pix_key:w==="cpf"?_.cpf:""}))},style:y.input,children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"email",children:"E-mail"}),l.jsx("option",{value:"phone",children:"Telefone"}),l.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),s.pix_key_type!=="cpf"&&l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Chave PIX"}),l.jsx("input",{value:s.pix_key,onChange:p=>c({...s,pix_key:p.target.value}),style:y.input,required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:y.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h3",{style:{...y.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),l.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:y.button,children:"Ir para Login"})]})]})})}class JI extends Ee.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?l.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[l.jsx("h2",{children:"Algo deu errado."}),l.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),l.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function QI(){return Ee.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(JI,{children:l.jsx(ZI,{})})})})}const Xs=e=>e?e.replace(/\D/g,""):"",iu=e=>{const t=Xs(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},mi=e=>Xs(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),e$=e=>{const t=Xs(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,s,c;try{for(a=0,c=10,i=0;i<9;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,c=11,i=0;i<10;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},t$=e=>{const t=Xs(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);let s=i%11<2?0:11-i%11;if(s!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);return s=i%11<2?0:11-i%11,s==a.charAt(1)},ro=e=>Xs(e).length===11,ou=e=>{const t=Xs(e);return t.length<=11?e$(t):t$(t)},Yk=g.createContext({}),Yr=()=>g.useContext(Yk),r$=({children:e})=>{const[t,r]=g.useState(null),[n,a]=g.useState(null),[i,o]=g.useState(!0);g.useEffect(()=>{$.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?s(d.user.id):o(!1)});const{data:{subscription:u}}=$.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?s(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const s=async u=>{try{const{data:d,error:f}=await $.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},c={signUp:u=>$.auth.signUp(u),signIn:u=>$.auth.signInWithPassword(u),signOut:()=>$.auth.signOut(),user:t,profile:n,loading:i};return l.jsx(Yk.Provider,{value:c,children:!i&&e})},Cn=({title:e,icon:t,children:r,defaultOpen:n=!1})=>{const[a,i]=g.useState(n);return l.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",marginBottom:"1rem",background:"white"},children:[l.jsxs("div",{onClick:()=>i(!a),style:{background:"#f8fafc",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"#1e293b"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[t&&l.jsx(t,{size:18,style:{color:"var(--color-blue)"}}),l.jsx("span",{children:e})]}),l.jsx("span",{style:{transform:a?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",fontSize:"0.8rem"},children:""})]}),a&&l.jsx("div",{style:{padding:"1.25rem",borderTop:"1px solid #e2e8f0",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.25rem"},children:r})]})};function fb({entityType:e,entityId:t,entityName:r,onClose:n}){const{profile:a}=Yr(),{showAlert:i}=or(),[o,s]=g.useState([]),[c,u]=g.useState(""),[d,f]=g.useState(!0),[m,h]=g.useState(!1);g.useEffect(()=>{v()},[t]);const v=async()=>{f(!0);try{const{data:b,error:y}=await $.from("v_crm_history").select("*").eq("entity_type",e).eq("entity_id",t).order("created_at",{ascending:!1});if(y)throw y;s(b||[])}catch(b){console.error("Error fetching history:",b),i("Erro ao carregar histrico","error")}finally{f(!1)}},x=async b=>{if(b.preventDefault(),!!c.trim()){h(!0);try{const{error:y}=await $.from("crm_history").insert({entity_type:e,entity_id:t,content:c.trim(),created_by:a.id});if(y)throw y;u(""),v(),i("Comentrio adicionado!","success")}catch(y){console.error("Error adding comment:",y),i("Erro ao adicionar comentrio","error")}finally{h(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"white",padding:"0",borderRadius:"12px",width:"90%",maxWidth:"600px",height:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[l.jsxs("div",{style:{padding:"1.25rem 1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1e293b"},children:"Histrico / Timeline"}),l.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#64748b"},children:r})]}),l.jsx("button",{onClick:n,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b",padding:"0.5rem",transition:"color 0.2s"},children:l.jsx(wi,{size:24})})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1.5rem"},children:d?l.jsx("div",{style:{textAlign:"center",color:"#64748b",padding:"2rem"},children:"Carregando histrico..."}):o.length===0?l.jsxs("div",{style:{textAlign:"center",color:"#94a3b8",padding:"3rem"},children:[l.jsx(Vk,{size:48,style:{marginBottom:"1rem",opacity:.3}}),l.jsx("p",{children:"Nenhum registro encontrado."})]}):l.jsxs("div",{style:{position:"relative",paddingLeft:"2rem"},children:[l.jsx("div",{style:{position:"absolute",left:"7px",top:"0",bottom:"0",width:"2px",background:"#e2e8f0"}}),o.map((b,y)=>l.jsxs("div",{style:{position:"relative",marginBottom:"2rem"},children:[l.jsx("div",{style:{position:"absolute",left:"-29px",top:"4px",width:"16px",height:"16px",borderRadius:"50%",background:y===0?"var(--color-blue)":"#cbd5e1",border:"4px solid white",boxShadow:"0 0 0 1px #e2e8f0"}}),l.jsxs("div",{style:{background:"#f8fafc",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.75rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontWeight:600,color:"#475569"},children:[l.jsx(ub,{size:14}),b.author_name||"Sistema"]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",color:"#94a3b8"},children:[l.jsx(Uk,{size:14}),new Date(b.created_at).toLocaleString("pt-BR")]})]}),l.jsx("div",{style:{color:"#334155",fontSize:"0.9rem",lineHeight:"1.5",whiteSpace:"pre-wrap"},children:b.content})]})]},b.id))]})}),l.jsx("div",{style:{padding:"1.25rem 1.5rem",borderTop:"1px solid #e2e8f0",background:"white",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},children:l.jsxs("form",{onSubmit:x,style:{display:"flex",gap:"0.75rem"},children:[l.jsx("textarea",{value:c,onChange:b=>u(b.target.value),placeholder:"Escreva um comentrio ou atualizao...",style:{flex:1,padding:"0.75rem",border:"1px solid #cbd5e1",borderRadius:"8px",resize:"none",height:"60px",fontSize:"0.9rem",outline:"none",transition:"border-color 0.2s"},onFocus:b=>b.target.style.borderColor="var(--color-blue)",onBlur:b=>b.target.style.borderColor="#cbd5e1"}),l.jsxs("button",{type:"submit",disabled:m||!c.trim(),style:{background:"var(--color-blue)",color:"white",border:"none",borderRadius:"8px",padding:"0 1.25rem",cursor:m?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,opacity:c.trim()?1:.5,transition:"transform 0.1s"},onMouseDown:b=>!m&&(b.currentTarget.style.transform="scale(0.95)"),onMouseUp:b=>!m&&(b.currentTarget.style.transform="scale(1)"),children:[l.jsx(PI,{size:18}),m?"...":"Postar"]})]})})]})})}function hb({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){var I;const{showAlert:a,showConfirm:i}=or(),[o,s]=g.useState([]),[c,u]=g.useState([]),[d,f]=g.useState(!1),[m,h]=g.useState(!1),[v,x]=g.useState(!1),b=k=>{if(!k&&k!==0)return"";const R=Number(k);return isNaN(R)?"":R.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},y=k=>{if(!k||typeof k!="string")return 0;const R=k.replace(/\D/g,"");return Number(R)/1e4},p=(k,R)=>{const M=R.replace(/\D/g,""),V=(Number(M)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});O(ee=>({...ee,[k]:V}))},w=k=>k.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),_=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],j=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],C=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],S=[1,5,10,15,20,25,30],[E,O]=g.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});g.useEffect(()=>{A(),N()},[]),g.useEffect(()=>{var k,R,M,K,V,ee,Z;e&&O({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:b(e.tarifa_concessionaria),te:b(e.te),tusd:b(e.tusd),fio_b:b(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:w(((k=e.address)==null?void 0:k.cep)||""),rua:((R=e.address)==null?void 0:R.rua)||"",numero:((M=e.address)==null?void 0:M.numero)||"",complemento:((K=e.address)==null?void 0:K.complemento)||"",bairro:((V=e.address)==null?void 0:V.bairro)||"",cidade:((ee=e.address)==null?void 0:ee.cidade)||"",uf:((Z=e.address)==null?void 0:Z.uf)||""})},[e==null?void 0:e.id,e==null?void 0:e.subscriber_id]),g.useEffect(()=>{const k=y(E.tarifa_concessionaria);let R=30;E.tipo_ligacao==="trifasico"?R=100:E.tipo_ligacao==="bifasico"&&(R=50);const K=(k*R).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});O(V=>({...V,tarifa_minima:K}))},[E.tarifa_concessionaria,E.tipo_ligacao]);const A=async()=>{const{data:k}=await $.from("subscribers").select("id, name, cpf_cnpj").order("name");s(k||[])},N=async()=>{const{data:k}=await $.from("usinas").select("id, name").order("name");u(k||[])},T=k=>{const R=w(k.target.value);O(M=>({...M,cep:R}))},z=async()=>{const k=E.cep.replace(/\D/g,"");if(k.length===8){h(!0);try{const R=await pn(k);if(O(M=>({...M,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||"",concessionaria:M.concessionaria||""})),R.ibge){const M=await ru(R.ibge);if(M){let K=M["Desconto Assinante"]||0;K<=1&&(K=K*100),O(V=>({...V,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||"",concessionaria:M.Concessionaria||V.concessionaria,tarifa_concessionaria:M["Tarifa Concessionaria"]?b(M["Tarifa Concessionaria"]):V.tarifa_concessionaria,te:M.TE?b(M.TE):V.te,tusd:M.TUSD?b(M.TUSD):V.tusd,fio_b:M["Fio B"]?b(M["Fio B"]):V.fio_b,desconto_assinante:K.toFixed(2)}))}}}catch(R){console.error("Erro CEP",R),a("Erro ao buscar CEP/Ofertas: "+(R.message||"No encontrado"),"error")}finally{h(!1)}}},L=async k=>{k.preventDefault(),f(!0);try{const R={subscriber_id:E.subscriber_id||null,usina_id:E.usina_id||null,status:E.status,numero_uc:E.numero_uc,titular_conta:E.titular_conta,modalidade:E.modalidade,concessionaria:E.concessionaria,tipo_ligacao:E.tipo_ligacao,franquia:Number(E.franquia),tarifa_concessionaria:y(E.tarifa_concessionaria),te:y(E.te),tusd:y(E.tusd),fio_b:y(E.fio_b),desconto_assinante:Number(E.desconto_assinante),dia_vencimento:Number(E.dia_vencimento),address:{cep:E.cep.replace(/\D/g,""),rua:E.rua,numero:E.numero,complemento:E.complemento,bairro:E.bairro,cidade:E.cidade,uf:E.uf}};if(!R.subscriber_id)throw new Error("Assinante  obrigatrio.");let M;if(e!=null&&e.id?M=await $.from("consumer_units").update(R).eq("id",e.id).select().single():M=await $.from("consumer_units").insert(R).select().single(),M.error)throw M.error;r(M.data),t()}catch(R){a("Erro ao salvar UC: "+R.message,"error")}finally{f(!1)}},H=async()=>{if(await i("Tem certeza que deseja excluir esta Unidade Consumidora?")){f(!0);try{const{error:R}=await $.from("consumer_units").delete().eq("id",e.id);if(R)throw R;n&&n(e.id),t()}catch(R){a("Erro ao excluir: "+R.message,"error")}finally{f(!1)}}},D=((I=o.find(k=>k.id===E.subscriber_id))==null?void 0:I.name)||"";return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[l.jsxs("div",{style:{background:"white",padding:"0",borderRadius:"12px",width:"90%",maxWidth:"900px",maxHeight:"95vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{padding:"1.25rem 2rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[l.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1e293b"},children:e!=null&&e.id?D?`Editar UC - ${D}`:"Editar UC":"Nova Unidade Consumidora"}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[(e==null?void 0:e.id)&&l.jsxs("button",{type:"button",onClick:()=>x(!0),style:{display:"flex",alignItems:"center",gap:"0.4rem",background:"#fff",color:"var(--color-blue)",border:"1px solid var(--color-blue)",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:[l.jsx(ob,{size:16})," Histrico"]}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b"},children:l.jsx(wi,{size:24})})]})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"2rem"},children:l.jsxs("form",{onSubmit:L,children:[l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid #e2e8f0"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#64748b",fontWeight:600},children:"Status da Unidade"}),l.jsx("select",{value:E.status,onChange:k=>O({...E,status:k.target.value}),style:{width:"100%",maxWidth:"300px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:_.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))})]}),l.jsxs(Cn,{title:"Vnculos",icon:bI,defaultOpen:!0,children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:["Assinante ",l.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),l.jsxs("select",{required:!0,value:E.subscriber_id,onChange:k=>O({...E,subscriber_id:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(k=>l.jsxs("option",{value:k.id,children:[k.name," (",k.cpf_cnpj,")"]},k.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Usina (Opcional)"}),l.jsxs("select",{value:E.usina_id,onChange:k=>O({...E,usina_id:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))]})]})]}),l.jsxs(Cn,{title:"Endereo de Instalao",icon:Jh,defaultOpen:!0,children:[l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:E.cep,onChange:T,onBlur:z,placeholder:"00000-000",maxLength:9,style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none",background:m?"#f0f9ff":"white"}}),m&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"#94a3b8"},children:"..."})]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Concessionria (Auto)"}),l.jsx("input",{value:E.concessionaria,readOnly:!0,style:{width:"100%",padding:"0.6rem",border:"1px solid #f1f5f9",borderRadius:"6px",background:"#f8fafc",color:"#64748b",outline:"none"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Rua"}),l.jsx("input",{value:E.rua,onChange:k=>O({...E,rua:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nmero"}),l.jsx("input",{value:E.numero,onChange:k=>O({...E,numero:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Bairro"}),l.jsx("input",{value:E.bairro,onChange:k=>O({...E,bairro:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Complemento"}),l.jsx("input",{value:E.complemento,onChange:k=>O({...E,complemento:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Cidade"}),l.jsx("input",{value:E.cidade,onChange:k=>O({...E,cidade:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"UF"}),l.jsx("input",{value:E.uf,onChange:k=>O({...E,uf:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),l.jsxs(Cn,{title:"Dados da Unidade",icon:vo,defaultOpen:!0,children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:["Nmero da UC ",l.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),l.jsx("input",{required:!0,value:E.numero_uc,onChange:k=>O({...E,numero_uc:k.target.value}),placeholder:"Ex: 7204400277",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Titular da Conta (Na Fatura)"}),l.jsx("input",{required:!0,value:E.titular_conta,onChange:k=>O({...E,titular_conta:k.target.value}),placeholder:"Nome Completo / Razo Social",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),l.jsxs(Cn,{title:"Dados Tcnicos e Comerciais",icon:cb,defaultOpen:!0,children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tipo de Ligao"}),l.jsx("select",{value:E.tipo_ligacao,onChange:k=>O({...E,tipo_ligacao:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:C.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Modalidade"}),l.jsx("select",{value:E.modalidade,onChange:k=>O({...E,modalidade:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:j.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f0f9ff",padding:"1.25rem",borderRadius:"10px",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginTop:"0.5rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.95rem",fontWeight:600,color:"#0369a1",marginBottom:"0.25rem"},children:"Componentes Tarifrios"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),l.jsx("input",{type:"text",value:E.tarifa_concessionaria,onChange:k=>p("tarifa_concessionaria",k.target.value),placeholder:"R$ 0,0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #7dd3fc",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#075985"},children:"TE (Energia) - R$/kWh"}),l.jsx("input",{type:"text",value:E.te,onChange:k=>p("te",k.target.value),placeholder:"R$ 0,0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #7dd3fc",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),l.jsx("input",{type:"text",value:E.tusd,onChange:k=>p("tusd",k.target.value),placeholder:"R$ 0,0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #7dd3fc",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#075985"},children:"Fio B - R$/kWh"}),l.jsx("input",{type:"text",value:E.fio_b,onChange:k=>p("fio_b",k.target.value),placeholder:"R$ 0,0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #7dd3fc",borderRadius:"6px",outline:"none"}})]})]}),l.jsxs("div",{style:{background:"#fffbeb",padding:"1rem",borderRadius:"8px",border:"1px solid #fde68a",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[l.jsx("label",{style:{fontSize:"0.85rem",color:"#92400e",fontWeight:600},children:"Tarifa Mnima Estimada"}),l.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"#d97706"},children:E.tarifa_minima||"R$ 0,00"}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"#b45309"},children:["Baseada no Tipo de Ligao (",E.tipo_ligacao,") x Tarifa."]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Desconto Assinante (%)"}),l.jsx("input",{type:"number",step:"0.01",value:E.desconto_assinante,onChange:k=>O({...E,desconto_assinante:k.target.value}),placeholder:"%",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Franquia / Consumo Min (kWh)"}),l.jsx("input",{type:"number",value:E.franquia,onChange:k=>O({...E,franquia:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Dia de Vencimento"}),l.jsx("select",{value:E.dia_vencimento,onChange:k=>O({...E,dia_vencimento:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:S.map(k=>l.jsx("option",{value:k,children:k},k))})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"2rem",padding:"1rem 0",borderTop:"1px solid #eee",alignItems:"center"},children:[(e==null?void 0:e.id)&&n&&l.jsx("button",{type:"button",onClick:H,style:{marginRight:"auto",padding:"0.6rem 1.25rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:"Excluir UC"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.6rem 1.25rem",background:"#f1f5f9",color:"#475569",borderRadius:"6px",border:"1px solid #e2e8f0",fontWeight:600,cursor:"pointer"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{padding:"0.6rem 1.25rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",fontWeight:600,border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",cursor:d?"not-allowed":"pointer"},children:d?"Salvando...":"Salvar UC"})]})]})})]}),v&&(e==null?void 0:e.id)&&l.jsx(fb,{entityType:"uc",entityId:e.id,entityName:`UC: ${E.numero_uc} - ${D}`,onClose:()=>x(!1)})]})}const n$=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=g.useState(r);return l.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[l.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[l.jsx("span",{children:e}),n?l.jsx(Wk,{size:18}):l.jsx(qk,{size:18})]}),n&&l.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function a$({consumerUnit:e,subscriberId:t,concessionariaDefault:r,onClose:n,onSave:a}){const{showAlert:i,showConfirm:o}=or(),[s,c]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState({subscriber_id:t||"",status:"em_ativacao",numero_uc:"",titular_conta:"",concessionaria:r||"",modalidade:"geracao_compartilhada",tipo_ligacao:"monofasico",usina_id:null,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});g.useEffect(()=>{e&&m(y=>{var p,w,_,j,C,S,E;return{...y,...e,address:void 0,cep:h(((p=e.address)==null?void 0:p.cep)||""),rua:((w=e.address)==null?void 0:w.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((C=e.address)==null?void 0:C.bairro)||"",cidade:((S=e.address)==null?void 0:S.cidade)||"",uf:((E=e.address)==null?void 0:E.uf)||""}}),r&&m(y=>({...y,concessionaria:r}))},[e,r]);const h=y=>y.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),v=y=>{const p=h(y.target.value);m(w=>({...w,cep:p}))},x=async()=>{const y=f.cep.replace(/\D/g,"");if(y.length===8){d(!0);try{const p=await pn(y);m(w=>({...w,rua:p.rua||"",bairro:p.bairro||"",cidade:p.cidade||"",uf:p.uf||""}))}catch(p){console.error("Erro CEP",p)}finally{d(!1)}}},b=async y=>{y.preventDefault(),c(!0);try{const p={subscriber_id:f.subscriber_id,status:f.status,numero_uc:f.numero_uc,titular_conta:f.titular_conta,concessionaria:f.concessionaria,modalidade:f.modalidade,tipo_ligacao:f.tipo_ligacao,address:{cep:f.cep.replace(/\D/g,""),rua:f.rua,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cidade:f.cidade,uf:f.uf}};if(!p.subscriber_id)throw new Error("Erro: Assinante no identificado.");if(!p.numero_uc)throw new Error("Nmero da UC  obrigatrio.");let w;if(e!=null&&e.id?w=await $.from("consumer_units").update(p).eq("id",e.id).select().single():w=await $.from("consumer_units").insert(p).select().single(),w.error)throw w.error;a(w.data),n()}catch(p){i("Erro ao salvar UC: "+p.message,"error")}finally{c(!1)}};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:e?"Editar Unidade Consumidora":"Nova Unidade Consumidora"}),l.jsx("button",{onClick:n,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:b,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f0f9ff",padding:"1rem",borderRadius:"var(--radius-sm)",border:"1px solid #bae6fd"},children:[l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsxs("label",{className:"label",children:["Nmero da UC ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsx("input",{required:!0,value:f.numero_uc,onChange:y=>m({...f,numero_uc:y.target.value}),placeholder:"Ex: 7204400277",className:"input",style:{fontSize:"1.1rem",fontWeight:"bold"}})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"label",children:"Titular da Conta (Conforme Fatura)"}),l.jsx("input",{required:!0,value:f.titular_conta,onChange:y=>m({...f,titular_conta:y.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Concessionria"}),l.jsx("input",{value:f.concessionaria,readOnly:!0,className:"input",style:{background:"#e0e0e0",color:"#555"}})]})]}),l.jsxs(n$,{title:"Endereo de Instalao",defaultOpen:!0,children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{width:"140px"},children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:f.cep,onChange:v,onBlur:x,placeholder:"00000-000",maxLength:9,className:"input"}),u&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem"},children:"..."})]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:f.rua,onChange:y=>m({...f,rua:y.target.value}),className:"input"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:f.numero,onChange:y=>m({...f,numero:y.target.value}),className:"input"})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:f.bairro,onChange:y=>m({...f,bairro:y.target.value}),className:"input"})]})]}),l.jsx("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:f.complemento,onChange:y=>m({...f,complemento:y.target.value}),className:"input"})]})}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:f.cidade,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]}),l.jsxs("div",{style:{width:"60px"},children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:f.uf,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:s,className:"btn btn-primary",style:{minWidth:"150px"},children:s?"Adicionando...":"Adicionar UC"})]})]})]})})}function i$(){const[e]=X0(),t=bi(),{showAlert:r,showConfirm:n}=or(),a=e.get("name")||"",i=e.get("email")||"",o=e.get("phone")||"",s=e.get("cep")||"",c=e.get("originator_id")||"",u=e.get("discount_percent")||"0",d=e.get("savings_annual")||"0",f=e.get("concessionaria")||"",[m,h]=g.useState(!1),[v,x]=g.useState(!1),[b,y]=g.useState(null),[p,w]=g.useState([]),[_,j]=g.useState({name:a,cpf_cnpj:"",status:"ativacao",phone:o,email:i,cep:s,rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:c}),[C,S]=g.useState(!1),[E,O]=g.useState(!1);g.useEffect(()=>{s&&A(s)},[s]);const A=async R=>{const M=(R||_.cep).replace(/\D/g,"");if(M.length===8){S(!0);try{const K=await pn(M);j(V=>({...V,cep:L(M),rua:K.rua||"",bairro:K.bairro||"",cidade:K.cidade||"",uf:K.uf||""}))}catch(K){console.error("Erro CEP:",K)}finally{S(!1)}}},N=async()=>{const R=_.cpf_cnpj.replace(/\D/g,"");if(R.length>=11){O(!0);try{const M=await jc(R);M.nome&&j(K=>({...K,name:M.nome}))}catch(M){console.error("Erro Doc:",M)}finally{O(!1)}}},T=p.reduce((R,M)=>R+(Number(M.franquia)||0),0),z=p.length>0?T:e.get("consumo")||0,L=R=>R.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substr(0,9),H=async()=>{if(!ou(_.cpf_cnpj))throw new Error("CPF/CNPJ invlido!");if(!_.name)throw new Error("Nome  obrigatrio");if(_.cpf_cnpj.replace(/\D/g,""),!b){const{data:V}=await $.from("subscribers").select("id").eq("cpf_cnpj",_.cpf_cnpj).single();if(V)throw new Error("J existe um assinante com este CPF/CNPJ.")}let R=b==null?void 0:b.asaas_customer_id;try{const V=await $k({id:R,name:_.name,cpfCnpj:_.cpf_cnpj,email:_.email,phone:_.phone,postalCode:_.cep,addressNumber:_.numero,address:_.rua,province:_.bairro});V!=null&&V.success&&(R=V.asaas_id)}catch(V){if(console.error("Asaas Sync Error:",V),!await n(`Aviso: No foi possvel sincronizar com o Asaas (${V.message}).
Deseja finalizar o cadastro apenas localmente?`,"Erro de Sincronizao","Sim, Finalizar Local","No, Vou Corrigir"))throw new Error("Operao cancelada para correo de dados.")}const M={..._,asaas_customer_id:R};M.originator_id||(M.originator_id=null);let K;if(b!=null&&b.id?K=await $.from("subscribers").update(M).eq("id",b.id).select().single():K=await $.from("subscribers").insert(M).select().single(),K.error)throw K.error;return y(K.data),K.data},D=async()=>{if(b)x(!0);else try{if(!_.cpf_cnpj||!_.name)return r("Preencha os dados do assinante (CPF e Nome) antes de adicionar UCs.","warning");h(!0),await H(),h(!1),x(!0)}catch(R){h(!1),r(R.message,"error")}},I=async()=>{var R,M;h(!0);try{const K=await H();if(p.length===0&&!await n("Nenhuma Unidade Consumidora (UC) foi cadastrada. Deseja finalizar mesmo assim?")){h(!1);return}if(c){const{data:V}=await $.from("originators_v2").select("phone").eq("id",c).single();if(V!=null&&V.phone){const ee=` Novo Cliente Cadastrado!

${K.name} acabou de completar o cadastro.
Verifique no CRM.`;let Z="default";try{const{data:ce}=await $.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(R=ce==null?void 0:ce.variables)!=null&&R.instance_name&&(Z=ce.variables.instance_name)}catch(ce){console.error("Error fetching integration config:",ce)}await Fv(V.phone,ee,null,Z)}}if(K.phone){const V=`Ol, ${K.name}! 

Seu cadastro na B2W Energia foi recebido com sucesso e est em fase de ativao.

Para acompanhar o processo, acesse seu email e crie seu login.`;let ee="default";try{const{data:Z}=await $.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(M=Z==null?void 0:Z.variables)!=null&&M.instance_name&&(ee=Z.variables.instance_name)}catch(Z){console.error("Error fetching integration config:",Z)}await Fv(K.phone,V,null,ee)}r("Cadastro realizado com sucesso!","success"),t("/login")}catch(K){console.error(K),r("Erro ao finalizar: "+K.message,"error")}finally{h(!1)}},k=async()=>{if(!(b!=null&&b.id))return;const{data:R}=await $.from("consumer_units").select("*").eq("subscriber_id",b.id);w(R||[])};return g.useEffect(()=>{b&&k()},[b]),l.jsxs("div",{className:"min-h-screen bg-slate-50 font-inter",children:[l.jsx("div",{className:"bg-white border-b border-slate-200",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[l.jsx("h1",{className:"text-3xl font-bold",style:{color:"#003366"},children:_.name||"Novo Assinante"}),l.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Confira os detalhes da sua economia e finalize sua adeso abaixo."})]})}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Concessionria"}),l.jsx("p",{className:"font-semibold text-slate-900",children:"Distribuidora Local"})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Mdia de Consumo"}),l.jsxs("p",{className:"font-semibold text-slate-900",children:[Number(z).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Endereo da Instalao"}),l.jsx("p",{className:"font-semibold text-slate-900 truncate",title:`${_.rua}, ${_.numero}`,children:_.rua?`${_.rua}, ${_.numero}`:"Endereo no informado"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-2",children:[l.jsx(vo,{className:"text-orange-500 fill-orange-500",size:24}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Economia esperada com a B2W Energia"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[l.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#003366"},children:[l.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Desconto Garantido"}),l.jsxs("p",{className:"text-6xl font-bold mb-2",children:[u,"%"]}),l.jsx("p",{className:"text-xs opacity-75",children:"Sobre a tarifa de energia"})]}),l.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#FF6600"},children:[l.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Economia Anual Estimada"}),l.jsx("p",{className:"text-5xl font-bold mb-2",children:Number(d).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("p",{className:"text-xs opacity-75",children:"Mais dinheiro no seu bolso"})]})]}),l.jsx("div",{className:"bg-slate-50 p-3 text-center text-xs text-slate-500",children:"* Estimativa baseada no seu histrico de consumo mdio mensal informado."})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-6 md:p-10",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",style:{color:"#003366"},children:[l.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Dados do Assinante"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CPF ou CNPJ"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:_.cpf_cnpj,onChange:R=>j({..._,cpf_cnpj:iu(R.target.value)}),onBlur:N,className:`w-full px-4 py-4 rounded-xl border ${E?"bg-blue-50 border-blue-200":"bg-white border-slate-200"} focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`,placeholder:"000.000.000-00"}),E&&l.jsx("span",{className:"absolute right-3 top-4 text-xs text-[#003366] font-bold",children:"Buscando..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nome Completo / Razo Social"}),l.jsx("input",{type:"text",value:_.name,onChange:R=>j({..._,name:R.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700",placeholder:"Seu nome"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"E-mail"}),l.jsx("input",{type:"email",value:_.email,onChange:R=>j({..._,email:R.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"WhatsApp"}),l.jsx("input",{type:"tel",value:_.phone,onChange:R=>j({..._,phone:mi(R.target.value)}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsx("div",{className:"md:col-span-2 pt-6 border-t border-slate-100 mt-2",children:l.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",style:{color:"#003366"},children:[l.jsx("div",{className:"w-1 h-6 bg-[#FF6600] rounded-full"}),"Endereo"]})}),l.jsxs("div",{className:"grid grid-cols-3 gap-6 md:col-span-2",children:[l.jsxs("div",{className:"col-span-1",children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CEP"}),l.jsx("input",{type:"text",value:_.cep,onChange:R=>j({..._,cep:L(R.target.value)}),onBlur:R=>A(R.target.value),className:`w-full px-4 py-4 rounded-xl border ${C?"bg-blue-50":"bg-white"} border-slate-200 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Rua"}),l.jsx("input",{type:"text",value:_.rua,onChange:R=>j({..._,rua:R.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]})]}),l.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nmero"}),l.jsx("input",{type:"text",value:_.numero,onChange:R=>j({..._,numero:R.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Comp."}),l.jsx("input",{type:"text",value:_.complemento,onChange:R=>j({..._,complemento:R.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Bairro"}),l.jsx("input",{type:"text",value:_.bairro,onChange:R=>j({..._,bairro:R.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Cidade/UF"}),l.jsx("input",{type:"text",value:`${_.cidade}-${_.uf}`,readOnly:!0,className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-slate-50 text-slate-500 cursor-not-allowed font-medium"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-6 md:p-10",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",style:{color:"#003366"},children:[l.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Unidades Consumidoras"]}),l.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg font-bold hover:bg-green-100 transition-colors border border-green-200",children:[l.jsx(Ys,{size:20}),"Adicionar UC"]})]}),p.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:l.jsx("p",{children:"Nenhuma UC cadastrada. Adicione pelo menos uma para continuar."})}):l.jsx("div",{className:"space-y-3",children:p.map(R=>l.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:["UC: ",R.numero_uc]}),l.jsxs("p",{className:"text-sm text-slate-500",children:[R.concessionaria,"  ",Number(R.franquia)," kWh"]})]}),l.jsx("button",{className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",onClick:async()=>{await n("Remover esta UC?")&&(await $.from("consumer_units").delete().eq("id",R.id),k())},children:l.jsx(au,{size:18})})]},R.id))})]}),l.jsx("button",{onClick:I,disabled:m,className:"w-full py-5 text-xl font-bold text-white uppercase tracking-wider rounded-xl shadow-xl transition-all transform active:scale-[0.99] flex justify-center items-center gap-3 hover:shadow-2xl",style:{backgroundColor:"#FF6600"},children:m?"Processando...":l.jsxs(l.Fragment,{children:["Finalizar Adeso ",l.jsx(zB,{size:24})]})})]}),v&&l.jsx(a$,{consumerUnit:null,subscriberId:b==null?void 0:b.id,concessionariaDefault:f,onClose:()=>x(!1),onSave:()=>{k(),x(!1)}})]})}function o$(){const e=bi(),[t,r]=g.useState(!1),[n,a]=g.useState(1),[i,o]=g.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),s=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await jc(i.cpf);o(m=>({...m,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},c=async()=>{if(i.cep.length>=8){r(!0);try{const f=await pn(i.cep);o(m=>({...m,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:m,error:h}=await $.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(h)throw h;const v=m.user.id,{error:x}=await $.from("profiles").upsert({id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});x&&console.error("Erro ao criar/atualizar perfil:",x);const{data:b,error:y}=await $.from("subscribers").insert({profile_id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(y)throw y;await $.from("consumer_units").insert({subscriber_id:b.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(m){alert("Erro ao cadastrar: "+m.message)}finally{r(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[l.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&l.jsx("form",{onSubmit:u,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CPF/CNPJ"}),l.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nome Completo"}),l.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Email"}),l.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Senha"}),l.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Telefone"}),l.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&l.jsx("form",{onSubmit:d,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CEP da Unidade Consumidora"}),l.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:c,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Rua"}),l.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),l.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nmero da Instalao (UC)"}),l.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}function Xk({user:e,onClose:t,onSave:r}){const[n,a]=g.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=g.useState(!1),[s,c]=g.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};g.useEffect(()=>{var m,h;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((m=e.commission_split)==null?void 0:m.start)||0,commission_recorrente:((h=e.commission_split)==null?void 0:h.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async m=>{const{data:h}=await $.from("profiles").select("id, name, role").neq("id",e.id);if(h){const v=u[m]||99,x=h.filter(b=>(u[b.role]||99)<v);c(x)}},f=async m=>{if(m.preventDefault(),n.phone&&!ro(n.phone)){alert("Telefone invlido!");return}o(!0);try{const h={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:v}=await $.from("profiles").update(h).eq("id",e.id);if(v)throw v;r({...e,...h}),t()}catch(h){alert("Erro ao atualizar usurio: "+h.message)}finally{o(!1)}};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:"Editar Usurio"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nome"}),l.jsx("input",{value:n.name,onChange:m=>a({...n,name:m.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:n.phone,onChange:m=>a({...n,phone:mi(m.target.value)}),className:"input"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Funo (Role)"}),l.jsxs("select",{value:n.role,onChange:m=>{a({...n,role:m.target.value}),d(m.target.value)},className:"select",children:[l.jsx("option",{value:"lead",children:"Lead"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Superior Imediato"}),l.jsxs("select",{value:n.superior_id,onChange:m=>a({...n,superior_id:m.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Sem superior"}),s.map(m=>l.jsxs("option",{value:m.id,children:[m.name," (",m.role,")"]},m.id))]})]})]}),l.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[l.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:m=>a({...n,commission_start:m.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:m=>a({...n,commission_recorrente:m.target.value}),className:"input"})]})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function s$(){const{user:e}=Yr(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(null),[s,c]=g.useState(""),[u,d]=g.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},m=b=>f[b]||99;g.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:b,error:y}=await $.from("profiles").select("*").order("name");if(y)throw y;r(b||[])}catch(b){console.error("Error fetching users:",b),alert("Erro ao buscar usurios")}finally{a(!1)}},v=b=>{r(t.map(y=>y.id===b.id?b:y)),alert("Perfil atualizado com sucesso!")},x=t.filter(b=>{var w,_;const y=(((w=b.name)==null?void 0:w.toLowerCase())||"").includes(s.toLowerCase())||(((_=b.email)==null?void 0:_.toLowerCase())||"").includes(s.toLowerCase()),p=u?b.role===u:!0;return y&&p}).sort((b,y)=>m(b.role)-m(y.role));return l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:l.jsx("h2",{children:"Painel Administrativo"})}),l.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[l.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[l.jsx("input",{placeholder:"Buscar por nome ou email...",value:s,onChange:b=>c(b.target.value),className:"input",style:{width:"250px"}}),l.jsxs("select",{value:u,onChange:b=>d(b.target.value),className:"select",style:{width:"auto"},children:[l.jsx("option",{value:"",children:"Todos os Perfis"}),l.jsx("option",{value:"super_admin",children:"Super Admin"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?l.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Hierarquia"}),l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Perfil (Role)"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:x.map(b=>{var y,p;return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",m(b.role)]}),l.jsx("td",{children:b.name||"-"}),l.jsx("td",{children:b.email}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:b.role})}),l.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((y=b.commission_split)==null?void 0:y.start)||0,"% / ",((p=b.commission_split)==null?void 0:p.recorrente)||0,"%"]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>o(b),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},b.id)})})]})})]}),i&&l.jsx(Xk,{user:i,onClose:()=>o(null),onSave:v})]})}function Zk({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=Yr(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),[o,s]=g.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",iluminacao_publica:"",tarifa_minima:"",outros_lancamentos:"",status:"a_vencer",valor_a_pagar:"",economia_reais:"",consumo_reais:""}),[c,u]=g.useState(null),[d,f]=g.useState(!1),[m,h]=g.useState(!1),v=_=>!_&&_!==0?"R$ 0,00":Number(_).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),x=_=>_?typeof _=="number"?_:Number(_.replace(/\D/g,""))/100:0;g.useEffect(()=>{if(e){if(s({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,iluminacao_publica:e.iluminacao_publica?v(e.iluminacao_publica):"",tarifa_minima:e.tarifa_minima?v(e.tarifa_minima):"",outros_lancamentos:e.outros_lancamentos?v(e.outros_lancamentos):"",valor_a_pagar:v(e.valor_a_pagar),economia_reais:v(e.economia_reais),consumo_reais:e.consumo_reais?v(e.consumo_reais):"",status:e.status}),t){const _=t.find(j=>j.id===e.uc_id);u(_)}}else t&&t.length>0&&(s(_=>({..._,uc_id:t[0].id})),u(t[0]))},[e,t]),g.useEffect(()=>{if(o.uc_id&&t){const _=t.find(j=>j.id===o.uc_id);u(_)}},[o.uc_id,t]),g.useEffect(()=>{if(o.consumo_kwh&&c){const _=Number(o.consumo_kwh);x(String(c.tarifa_concessionaria||"0"));const j=Number(c.tarifa_concessionaria)||0,C=Number(c.desconto_assinante)||0,S=_*j;let E=0;const O=C>1?C/100:C;E=S*O;const A=S-E,N=x(o.iluminacao_publica),T=x(o.tarifa_minima),z=x(o.outros_lancamentos),L=A+N+T+z;s(H=>({...H,economia_reais:v(E),consumo_reais:v(A),valor_a_pagar:v(L)}))}},[o.consumo_kwh,o.iluminacao_publica,o.tarifa_minima,o.outros_lancamentos,c]);const b=(_,j)=>{const C=j.replace(/\D/g,""),E=(Number(C)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});s(O=>({...O,[_]:E}))},y=(_,j)=>{const C=o.mes_referencia.split("-");let S=C[0]||new Date().getFullYear(),E=C[1]||"01";_==="month"&&(E=j),_==="year"&&(S=j),s(O=>({...O,mes_referencia:`${S}-${E}`}))},p=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){h(!0);try{const _=await Xh(e.id);_.url&&(alert("Boleto gerado com sucesso!"),window.open(_.url,"_blank"),n(),r())}catch(_){console.error(_),alert("Erro ao gerar boleto: "+_.message)}finally{h(!1)}}},w=async _=>{_.preventDefault(),f(!0);try{const j={uc_id:o.uc_id,mes_referencia:`${o.mes_referencia}-01`,vencimento:o.vencimento,consumo_kwh:Number(o.consumo_kwh),consumo_reais:x(o.consumo_reais),iluminacao_publica:x(o.iluminacao_publica),tarifa_minima:x(o.tarifa_minima),outros_lancamentos:x(o.outros_lancamentos),valor_a_pagar:x(o.valor_a_pagar),economia_reais:x(o.economia_reais),status:o.status};if(!j.uc_id)throw new Error("Selecione uma Unidade Consumidora.");let C;if(e!=null&&e.id?C=await $.from("invoices").update(j).eq("id",e.id).select().single():C=await $.from("invoices").insert(j).select().single(),C.error)throw C.error;n(),r()}catch(j){alert("Erro ao salvar fatura: "+j.message)}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"800px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Fatura":"Nova Fatura"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Preencha os dados de consumo e valores"})]}),l.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8"},children:""})]}),l.jsxs("form",{onSubmit:w,style:{padding:"1.5rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Unidade Consumidora"}),l.jsxs("select",{required:!0,value:o.uc_id,onChange:_=>s({...o,uc_id:_.target.value}),disabled:!!e,style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"0.95rem",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(_=>l.jsxs("option",{value:_.id,children:[_.numero_uc," - ",_.titular_conta]},_.id))]}),c&&l.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#3b82f6",background:"#eff6ff",padding:"0.5rem",borderRadius:"4px",display:"inline-flex",gap:"1rem"},children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Tarifa:"})," R$ ",Number(c.tarifa_concessionaria||0).toFixed(4)]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Desconto:"})," ",c.desconto_assinante||0,"%"]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Ms Referncia"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("select",{value:o.mes_referencia.split("-")[1],onChange:_=>y("month",_.target.value),style:{flex:1,padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((_,j)=>l.jsx("option",{value:_,children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][j]},_))}),l.jsx("select",{value:o.mes_referencia.split("-")[0],onChange:_=>y("year",_.target.value),style:{width:"80px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:Array.from({length:5},(_,j)=>new Date().getFullYear()-1+j).map(_=>l.jsx("option",{value:_,children:_},_))})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Vencimento"}),l.jsx("input",{type:"date",required:!0,value:o.vencimento,onChange:_=>s({...o,vencimento:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),i&&l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status"}),l.jsxs("select",{value:o.status,onChange:_=>s({...o,status:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:[l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"pago",children:"Pago"}),l.jsx("option",{value:"atrasado",children:"Atrasado"})]})]})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"1rem 0"}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(vo,{size:18})," Dados de Consumo"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo (kWh)"}),l.jsx("input",{type:"number",step:"any",required:!0,value:o.consumo_kwh,onChange:_=>s({...o,consumo_kwh:_.target.value}),placeholder:"0",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Zh,{size:18})," Valores Adicionais"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Iluminao Pblica (R$)"}),l.jsx("input",{type:"text",value:o.iluminacao_publica,onChange:_=>b("iluminacao_publica",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa Mnima (R$)"}),l.jsx("input",{type:"text",value:o.tarifa_minima,onChange:_=>b("tarifa_minima",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Outros Lanamentos (R$)"}),l.jsx("input",{type:"text",value:o.outros_lancamentos,onChange:_=>b("outros_lancamentos",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),l.jsxs("div",{style:{background:"#f1f5f9",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx($B,{size:18})," Resumo do Clculo"]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Bruto:"}),l.jsxs("span",{style:{fontWeight:600},children:["R$ ",(Number(o.consumo_kwh)*(Number(c==null?void 0:c.tarifa_concessionaria)||0)).toFixed(2).replace(".",",")]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#166534",background:"#dcfce7",padding:"0.5rem",borderRadius:"4px"},children:[l.jsx("span",{children:"Economia Gerada:"}),l.jsxs("span",{style:{fontWeight:"bold"},children:["- ",o.economia_reais||"R$ 0,00"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Lquido (R$):"}),l.jsx("span",{style:{fontWeight:600},children:o.consumo_reais||"R$ 0,00"})]}),l.jsx("div",{style:{height:"1px",background:"#cbd5e1",margin:"0.5rem 0"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Ilum. Pblica:"}),l.jsx("span",{children:o.iluminacao_publica||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Tarifa Mnima:"}),l.jsx("span",{children:o.tarifa_minima||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Outros:"}),l.jsx("span",{children:o.outros_lancamentos||"R$ 0,00"})]}),l.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px dashed #cbd5e1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#64748b",marginBottom:"0.2rem"},children:"Total a Pagar"}),l.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:o.valor_a_pagar||"R$ 0,00"})]})]})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[(e==null?void 0:e.id)&&!e.asaas_boleto_url&&l.jsx("button",{type:"button",onClick:p,disabled:m,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:m?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx(nu,{size:18})," Emitir Boleto Agora"]})}),(e==null?void 0:e.asaas_boleto_url)&&l.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534",fontWeight:"bold",textDecoration:"none"},children:[l.jsx(hi,{size:18})," Ver Boleto Emitido"]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function l$(){var j;const{user:e,profile:t}=Yr(),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,s]=g.useState(!0),[c,u]=g.useState(null),[d,f]=g.useState(!1),[m,h]=g.useState(null),[v,x]=g.useState(!1),b=["super_admin","admin","manager"].includes(t==null?void 0:t.role);g.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{s(!0);let C;const{data:S}=await $.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(S){C=S.id,u(S.id);const{data:E}=await $.from("consumer_units").select("*").eq("subscriber_id",C);if(n(E||[]),E&&E.length>0){const O=E.map(N=>N.id),{data:A}=await $.from("invoices").select("*").in("uc_id",O).order("vencimento",{ascending:!1});i(A||[])}}else if(b){const{data:E}=await $.from("consumer_units").select("*");if(n(E||[]),E&&E.length>0){const{data:O}=await $.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(O||[])}}}catch(C){console.error("Error fetching dashboard data:",C)}finally{s(!1)}},p=C=>{const S=a.find(E=>E.id===C.id);i(S?a.map(E=>E.id===C.id?C:E):[C,...a]),alert("Fatura salva com sucesso!")},w=a.reduce((C,S)=>C+(S.economia_reais||0),0),_=a[0];return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Viso Geral do Assinante"}),l.jsx("div",{style:{display:"flex",gap:"1rem"},children:b&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),l.jsx("button",{onClick:()=>{h(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),l.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",w.toFixed(2)]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:_?`R$ ${(j=_.valor_a_pagar)==null?void 0:j.toFixed(2)}`:"-"}),l.jsx("small",{style:{color:"var(--color-text-light)"},children:_?new Date(_.vencimento).toLocaleDateString():""})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),l.jsx("h3",{children:"Minhas Faturas"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),l.jsx("tbody",{children:a.map(C=>{var S,E;return l.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[l.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(C.vencimento).toLocaleDateString()}),l.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[C.consumo_kwh," kWh"]}),l.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(S=C.valor_a_pagar)==null?void 0:S.toFixed(2)]}),l.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=C.economia_reais)==null?void 0:E.toFixed(2)]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{className:`badge ${C.status==="pago"?"badge-success":"badge-error"}`,children:C.status==="pago"?"Pago":"A Vencer"})}),l.jsx("td",{style:{padding:"1rem"},children:b?l.jsx("button",{onClick:()=>{h(C),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):l.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},C.id)})})]})}),d&&l.jsx(Zk,{invoice:m,ucs:r,onClose:()=>f(!1),onSave:p}),v&&l.jsx(hb,{consumerUnit:{subscriber_id:c},onClose:()=>x(!1),onSave:()=>{y(),x(!1)}})]})}function c$(){const{user:e,profile:t}=Yr(),[r,n]=g.useState([]),[a,i]=g.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;g.useEffect(()=>{async function u(){const{data:d}=await $.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await $.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:m,error:h}=await $.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});h||i(m||[])}}e&&u()},[e]);const s=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},c=async u=>{var m;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await $.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:h,error:v}=await $.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(v)throw v;if(!h.success)throw new Error(h.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((m=h.data)==null?void 0:m.id)),await $.from("commissions").update({status:"paid",payment_id:h.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(h){console.error(h),alert("Erro: "+h.message)}};return l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Originador"}),l.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[l.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[l.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),l.jsx("button",{onClick:s,className:"btn btn-accent",children:"Copiar"})]})]}),l.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data"})]})}),l.jsxs("tbody",{children:[r.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.name}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:u.status})}),l.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),l.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Faturas Proc."}),l.jsx("th",{children:"Valor (R$)"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data Pagt."}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:a.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),l.jsx("td",{children:u.total_invoices}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("td",{children:l.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),l.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),l.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&l.jsx("button",{onClick:()=>c(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function u$(){const{user:e}=Yr(),[t,r]=g.useState([]);return g.useEffect(()=>{async function n(){const{data:a}=await $.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await $.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Fornecedor"}),l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[l.jsx("h3",{children:"Minhas Usinas"}),l.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),l.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>l.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[l.jsx("h4",{children:n.name}),l.jsxs("p",{children:["Status: ",l.jsx("strong",{children:n.status})]}),l.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function d$({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=Yr(),{showAlert:o,showConfirm:s}=or(),[c,u]=g.useState([]),[d,f]=g.useState(!1),m=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[h,v]=g.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[x,b]=g.useState(!1),[y,p]=g.useState(!1);g.useEffect(()=>{w(),e?v({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&v(S=>({...S,originator_id:i.id}))},[e,i]);const w=async()=>{const{data:S}=await $.from("originators_v2").select("id, name").order("name");u(S||[])},_=async()=>{const S=h.cep.replace(/\D/g,"");if(S.length===8){p(!0);try{const E=await pn(S);let O={};if(E.ibge)try{const A=await ru(E.ibge);A&&(O=A)}catch(A){console.error("Erro na oferta",A)}v(A=>({...A,rua:E.rua||"",bairro:E.bairro||"",cidade:E.cidade||"",uf:E.uf||"",concessionaria:(O==null?void 0:O.Concessionaria)||A.concessionaria||"",tarifa_concessionaria:(O==null?void 0:O["Tarifa Concessionaria"])||A.tarifa_concessionaria||"",desconto_assinante:(()=>{let N=(O==null?void 0:O["Desconto Assinante"])||A.desconto_assinante||"";return N&&!isNaN(N)&&Number(N)>0&&Number(N)<1?Number(N)*100:N})()}))}catch(E){console.error("Erro ao buscar CEP:",E),o("Erro ao buscar CEP. Verifique se digitou corretamente.","error")}finally{p(!1)}}},j=async S=>{if(S.preventDefault(),h.phone&&!ro(h.phone)){o("Telefone invlido!","warning");return}b(!0);try{const E={...h};E.tarifa_concessionaria=E.tarifa_concessionaria?Number(E.tarifa_concessionaria):null,E.consumo_kwh=E.consumo_kwh?Number(E.consumo_kwh):null,E.desconto_assinante=E.desconto_assinante?Number(E.desconto_assinante):null,E.originator_id===""&&(E.originator_id=null);let O;if(e!=null&&e.id?O=await $.from("leads").update(E).eq("id",e.id).select().single():O=await $.from("leads").insert(E).select().single(),O.error)throw O.error;if(E.status==="ativo"&&(!e||e.status!=="ativo")){const A=E.originator_id;if(A)try{const{data:N}=await $.from("originators_v2").select("phone, split_commission, name").eq("id",A).maybeSingle();if(N&&N.phone){const T=Number(E.consumo_kwh)||0,z=Number(E.tarifa_concessionaria)||.85;let L=Number(E.desconto_assinante)||15;L<1&&L>0&&(L=L*100);const H=T*z,D=H*(L/100),I=H-D,k=Number(N.split_commission)||0,M=(I*(k/100)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),V=`${E.name||"O Lead"}, aceitou o convite e est proximo de concluir o cadastro, em breve vc receber o seu cashback ${M}`;await Fv(N.phone,V),console.log("Notificao de ativao enviada para:",N.name)}}catch(N){console.error("Erro ao enviar notificao de ativao:",N)}}r(O.data),t()}catch(E){o("Erro ao salvar lead: "+E.message,"error")}finally{b(!1)}},C=async()=>{if(!(!(e!=null&&e.id)||!await s("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita."))){b(!0);try{const{error:E}=await $.from("leads").delete().eq("id",e.id);if(E)throw E;n&&n(e.id),t()}catch(E){o("Erro ao excluir lead: "+E.message,"error")}finally{b(!1)}}};return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[l.jsxs("div",{style:{background:"white",padding:"0",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{padding:"1.25rem 2rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[l.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1e293b"},children:e?h.name:"Novo Lead"}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[e&&l.jsxs("button",{type:"button",onClick:()=>f(!0),style:{display:"flex",alignItems:"center",gap:"0.4rem",background:"#fff",color:"var(--color-blue)",border:"1px solid var(--color-blue)",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:[l.jsx(ob,{size:16})," Histrico"]}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b"},children:l.jsx(wi,{size:24})})]})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"2rem"},children:l.jsxs("form",{onSubmit:j,children:[l.jsxs(Cn,{title:"Dados do Lead",icon:ub,defaultOpen:!0,children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Status"}),l.jsx("select",{value:h.status,onChange:S=>v({...h,status:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:m.map(S=>l.jsx("option",{value:S.value,children:S.label},S.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Originador"}),l.jsxs("select",{value:h.originator_id,onChange:S=>v({...h,originator_id:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(S=>l.jsx("option",{value:S.id,children:S.name},S.id))]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nome Completo"}),l.jsx("input",{required:!0,value:h.name,onChange:S=>v({...h,name:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Telefone"}),l.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:h.phone,onChange:S=>v({...h,phone:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Email"}),l.jsx("input",{type:"email",value:h.email,onChange:S=>v({...h,email:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),l.jsxs(Cn,{title:"Endereo e Instalao",icon:Jh,defaultOpen:!1,children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"CEP (Busca)"}),l.jsx("input",{placeholder:"00000-000",value:h.cep,onChange:S=>v({...h,cep:S.target.value}),onBlur:_,style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:y?"#f0f9ff":"white",outline:"none"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Cidade/UF"}),l.jsx("input",{value:`${h.cidade} - ${h.uf} `,disabled:!0,style:{width:"100%",padding:"0.6rem",border:"1px solid #f1f5f9",borderRadius:"6px",background:"#f8fafc",color:"#64748b"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Rua"}),l.jsx("input",{value:h.rua,onChange:S=>v({...h,rua:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nmero"}),l.jsx("input",{value:h.numero,onChange:S=>v({...h,numero:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Complemento"}),l.jsx("input",{value:h.complemento,onChange:S=>v({...h,complemento:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Bairro"}),l.jsx("input",{value:h.bairro,onChange:S=>v({...h,bairro:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),l.jsxs(Cn,{title:"Dados de Energia e Oferta",icon:vo,defaultOpen:!1,children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo Mdio (kWh)"}),l.jsx("input",{type:"number",value:h.consumo_kwh,onChange:S=>v({...h,consumo_kwh:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Concessionria"}),l.jsx("input",{value:h.concessionaria,onChange:S=>v({...h,concessionaria:S.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f8fafc",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa (R$)"}),l.jsx("input",{type:"number",step:"0.0001",value:h.tarifa_concessionaria,onChange:S=>v({...h,tarifa_concessionaria:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Desconto Oferta (%)"}),l.jsx("input",{type:"number",step:"0.01",value:h.desconto_assinante,onChange:S=>v({...h,desconto_assinante:S.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#047857",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),l.jsx("input",{value:(()=>{const S=Number(h.consumo_kwh)||0,E=Number(h.tarifa_concessionaria)||0,O=Number(h.desconto_assinante)||0;if(S&&E&&O){const N=S*E*(O/100);return isNaN(N)?"R$ 0,00":N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1fae5",borderRadius:"8px",background:"#f0fdf4",color:"#065f46",fontWeight:"bold",fontSize:"1.1rem"}})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"2rem",padding:"1rem 0",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:C,style:{padding:"0.6rem 1.25rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600},children:"Excluir Lead"})}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e&&e.status!=="convertido"&&a&&l.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.6rem 1.25rem",background:"#ecfdf5",color:"#047857",border:"1px solid #bbf7d0",borderRadius:"6px",fontWeight:600},children:"Converter em Assinante"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.6rem 1.25rem",background:"#f1f5f9",color:"#475569",borderRadius:"6px",border:"1px solid #e2e8f0",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:x,style:{padding:"0.6rem 1.25rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",fontWeight:600,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:x?"Salvando...":"Salvar Lead"})]})]})]})})]}),d&&e&&l.jsx(fb,{entityType:"lead",entityId:e.id,entityName:h.name,onClose:()=>f(!1)})]})}function Jk({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=or(),{profile:o}=Yr(),[s,c]=g.useState([]),[u,d]=g.useState([]),[f,m]=g.useState(!1),[h,v]=g.useState(!1),[x,b]=g.useState(!1),y=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[p,w]=g.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[_,j]=g.useState(!1),[C,S]=g.useState(!1),[E,O]=g.useState(!1);g.useEffect(()=>{A()},[]),g.useEffect(()=>{e&&(w({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),N(e.id))},[e==null?void 0:e.id]);const A=async()=>{const{data:k}=await $.from("originators_v2").select("id, name").order("name");c(k||[])},N=async k=>{const{data:R}=await $.from("consumer_units").select("*").eq("subscriber_id",k);d(R||[])},T=async()=>{const k=p.cep.replace(/\D/g,"");if(k.length===8){S(!0);try{const R=await pn(k);w(M=>({...M,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||""}))}catch(R){console.error("Erro ao buscar CEP:",R),a("Erro ao buscar CEP. Verifique se digitou corretamente.","error")}finally{S(!1)}}},z=async()=>{const k=p.cpf_cnpj.replace(/\D/g,"");if(k.length>11){O(!0);try{const R=await jc(k);R.nome&&w(M=>{var K,V,ee,Z,ce,se,ge;return{...M,name:R.nome||M.name,email:R.email||M.email,phone:R.telefone?mi(R.telefone):M.phone,cep:((K=R.address)==null?void 0:K.cep)||M.cep,rua:((V=R.address)==null?void 0:V.logradouro)||M.rua,numero:((ee=R.address)==null?void 0:ee.numero)||M.numero,complemento:((Z=R.address)==null?void 0:Z.complemento)||M.complemento,bairro:((ce=R.address)==null?void 0:ce.bairro)||M.bairro,cidade:((se=R.address)==null?void 0:se.municipio)||M.cidade,uf:((ge=R.address)==null?void 0:ge.uf)||M.uf}})}catch(R){console.error("Erro buscar doc",R)}finally{O(!1)}}else if(k.length===11){O(!0);try{const R=await jc(k);R.nome&&w(M=>({...M,name:R.nome}))}catch(R){console.error("Erro buscar doc",R)}finally{O(!1)}}},L=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${p.name}?`)){m(!0);try{const R=await Xh(e.id,"subscriber");R.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(R.url,"_blank"))}catch(R){console.error(R),a("Erro: "+(R.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{m(!1)}}},H=async k=>{if(k.preventDefault(),!ou(p.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(p.phone&&!ro(p.phone)){a("Telefone invlido!","warning");return}j(!0);try{let R=$.from("subscribers").select("id").eq("cpf_cnpj",p.cpf_cnpj);e!=null&&e.id&&(R=R.neq("id",e.id));const{data:M,error:K}=await R;if(K)throw K;if(M&&M.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");let V=null,ee=!1;try{const se=await $k({id:e==null?void 0:e.asaas_customer_id,name:p.name,cpfCnpj:p.cpf_cnpj,email:p.email,phone:p.phone,postalCode:p.cep,addressNumber:p.numero,address:p.rua,province:p.bairro});if(se&&se.success)V=se.asaas_id,ee=!0;else if(se)throw new Error(se.error||"Erro desconhecido")}catch(se){if(console.error("Asaas Sync Error:",se),!await i(`Falha ao sincronizar com Asaas: ${se.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao","Salvar Localmente","Corrigir Dados")){j(!1);return}}const Z={...p};V&&(Z.asaas_customer_id=V),Z.originator_id===""&&(Z.originator_id=null);let ce;if(e!=null&&e.id?ce=await $.from("subscribers").update(Z).eq("id",e.id).select().single():ce=await $.from("subscribers").insert(Z).select().single(),ce.error)throw ce.error;ee?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let se=null;if(Z.status==="ativacao"?se="em_negociacao":Z.status==="ativo"&&(se="ativo"),se&&Z.email){const{data:ge}=await $.from("leads").select("id, status").eq("email",Z.email).order("created_at",{ascending:!1}).limit(1);if(ge&&ge.length>0){const U=ge[0];U.status!==se&&await $.from("leads").update({status:se}).eq("id",U.id)}}}catch(se){console.error("Lead sync error:",se)}r(ce.data),t()}catch(R){a("Erro ao salvar assinante: "+R.message,"error")}finally{j(!1)}},D=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){j(!0);try{const{error:R}=await $.from("subscribers").delete().eq("id",e.id);if(R)throw R;n&&n(e.id),t()}catch(R){a("Erro ao excluir: "+R.message,"error")}finally{j(!1)}}},I=async k=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:M}=await $.from("consumer_units").update({subscriber_id:null}).eq("id",k);if(M)throw M;N(e.id),a("UC desvinculada com sucesso!","success")}catch(M){a("Erro ao desvincular UC: "+M.message,"error")}};return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[l.jsxs("div",{style:{background:"white",padding:"0",borderRadius:"12px",width:"90%",maxWidth:"900px",maxHeight:"95vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{padding:"1.25rem 2rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[l.jsx("h3",{style:{margin:0,fontSize:"1.25rem",color:"#1e293b"},children:e?`Editar Assinante - ${p.name}`:"Novo Assinante"}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[e&&l.jsxs("button",{type:"button",onClick:()=>b(!0),style:{display:"flex",alignItems:"center",gap:"0.4rem",background:"#fff",color:"var(--color-blue)",border:"1px solid var(--color-blue)",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:[l.jsx(ob,{size:16})," Histrico"]}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#64748b"},children:l.jsx(wi,{size:24})})]})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"2rem"},children:l.jsxs("form",{onSubmit:H,children:[l.jsxs(Cn,{title:"Dados Cadastrais",icon:ub,defaultOpen:!0,children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Status"}),l.jsx("select",{value:p.status,onChange:k=>w({...p,status:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:y.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Originador"}),l.jsxs("select",{value:p.originator_id,onChange:k=>w({...p,originator_id:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},children:[l.jsx("option",{value:"",children:"Selecione..."}),s.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"CPF/CNPJ"}),l.jsx("input",{value:p.cpf_cnpj,onChange:k=>w({...p,cpf_cnpj:iu(k.target.value)}),onBlur:z,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:E?"#f0f9ff":"white",outline:"none"},required:!0})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nome Completo / Razo Social"}),l.jsx("input",{required:!0,value:p.name,onChange:k=>w({...p,name:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Email"}),l.jsx("input",{type:"email",value:p.email,onChange:k=>w({...p,email:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Telefone"}),l.jsx("input",{value:p.phone,onChange:k=>w({...p,phone:mi(k.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),l.jsxs(Cn,{title:"Endereo",icon:Jh,defaultOpen:!1,children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"CEP (Busca)"}),l.jsx("input",{value:p.cep,onChange:k=>w({...p,cep:k.target.value}),onBlur:T,style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:C?"#f0f9ff":"white",outline:"none"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Cidade/UF"}),l.jsx("input",{value:`${p.cidade} - ${p.uf}`,disabled:!0,style:{width:"100%",padding:"0.6rem",border:"1px solid #f1f5f9",borderRadius:"6px",background:"#f8fafc",color:"#64748b"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Rua"}),l.jsx("input",{value:p.rua,onChange:k=>w({...p,rua:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Nmero"}),l.jsx("input",{value:p.numero,onChange:k=>w({...p,numero:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Complemento"}),l.jsx("input",{value:p.complemento,onChange:k=>w({...p,complemento:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"#64748b"},children:"Bairro"}),l.jsx("input",{value:p.bairro,onChange:k=>w({...p,bairro:k.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px",outline:"none"}})]})]}),l.jsx(Cn,{title:"Unidades Consumidoras (UCs)",icon:vo,defaultOpen:!1,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"1rem"},children:(e==null?void 0:e.id)&&l.jsxs("button",{type:"button",onClick:()=>v(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:[l.jsx(Ys,{size:16})," Cadastrar UCs"]})}),u.length>0?l.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:u.map(k=>{var R;return l.jsxs("div",{style:{background:"#f8fafc",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",justifySelf:"stretch",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("span",{style:{fontWeight:600,color:"#1e293b",fontSize:"0.9rem"},children:["UC: ",k.numero_uc]}),l.jsxs("span",{style:{display:"block",fontSize:"0.8rem",color:"#64748b"},children:[k.concessionaria," - ",(R=k.status)==null?void 0:R.replace("_"," ").toUpperCase()]})]}),l.jsx("button",{type:"button",onClick:()=>I(k.id),style:{padding:"0.4rem",color:"#94a3b8",background:"none",border:"none",cursor:"pointer"},title:"Desvincular UC",children:l.jsx(au,{size:16})})]},k.id)})}):l.jsx("div",{style:{textAlign:"center",color:"#94a3b8",padding:"1.5rem",border:"2px dashed #e2e8f0",borderRadius:"8px"},children:l.jsx("p",{style:{margin:0,fontSize:"0.9rem"},children:"Nenhuma UC vinculada."})})]})}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"2rem",padding:"1rem 0",borderTop:"1px solid #eee",alignItems:"center"},children:[l.jsx("div",{children:(e==null?void 0:e.id)&&l.jsxs("button",{type:"button",onClick:L,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1.25rem",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:[l.jsx(nu,{size:18})," ",f?"Processando...":"Emitir Fatura Consolidada"]})}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[e&&n&&l.jsx("button",{type:"button",onClick:D,style:{padding:"0.6rem 1.25rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.6rem 1.25rem",background:"#f1f5f9",color:"#475569",borderRadius:"6px",border:"1px solid #e2e8f0",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:_,style:{padding:"0.6rem 1.25rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",fontWeight:600,border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:_?"Salvando...":"Salvar Assinante"})]})]})]})})]}),x&&e&&l.jsx(fb,{entityType:"subscriber",entityId:e.id,entityName:p.name,onClose:()=>b(!1)}),h&&e&&l.jsx(hb,{consumerUnit:{subscriber_id:e.id},onClose:()=>v(!1),onSave:()=>{N(e.id),v(!1)}})]})}function f$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const Qh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function mb(e){return"nodeType"in e}function Yt(e){var t,r;return e?Zs(e)?e:mb(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function pb(e){const{Document:t}=Yt(e);return e instanceof t}function su(e){return Zs(e)?!1:e instanceof Yt(e).HTMLElement}function Qk(e){return e instanceof Yt(e).SVGElement}function Js(e){return e?Zs(e)?e.document:mb(e)?pb(e)?e:su(e)||Qk(e)?e.ownerDocument:document:document:document}const cn=Qh?g.useLayoutEffect:g.useEffect;function em(e){const t=g.useRef(e);return cn(()=>{t.current=e}),g.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function h$(){const e=g.useRef(null),t=g.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Sc(e,t){t===void 0&&(t=[e]);const r=g.useRef(e);return cn(()=>{r.current!==e&&(r.current=e)},t),r}function lu(e,t){const r=g.useRef();return g.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Af(e){const t=em(e),r=g.useRef(null),n=g.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function kf(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let ig={};function cu(e,t){return g.useMemo(()=>{if(t)return t;const r=ig[e]==null?0:ig[e]+1;return ig[e]=r,e+"-"+r},[e,t])}function eT(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,o)=>{const s=Object.entries(o);for(const[c,u]of s){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const us=eT(1),Tf=eT(-1);function m$(e){return"clientX"in e&&"clientY"in e}function tm(e){if(!e)return!1;const{KeyboardEvent:t}=Yt(e.target);return t&&e instanceof t}function p$(e){if(!e)return!1;const{TouchEvent:t}=Yt(e.target);return t&&e instanceof t}function Rf(e){if(p$(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return m$(e)?{x:e.clientX,y:e.clientY}:null}const kn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[kn.Translate.toString(e),kn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),D_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function g$(e){return e.matches(D_)?e:e.querySelector(D_)}const v$={display:"none"};function y$(e){let{id:t,value:r}=e;return Ee.createElement("div",{id:t,style:v$},r)}function b$(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ee.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function x$(){const[e,t]=g.useState("");return{announce:g.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const tT=g.createContext(null);function w$(e){const t=g.useContext(tT);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function _$(){const[e]=g.useState(()=>new Set),t=g.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[g.useCallback(n=>{let{type:a,event:i}=n;e.forEach(o=>{var s;return(s=o[a])==null?void 0:s.call(o,i)})},[e]),t]}const j$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},S$={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function C$(e){let{announcements:t=S$,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=j$}=e;const{announce:i,announcement:o}=x$(),s=cu("DndLiveRegion"),[c,u]=g.useState(!1);if(g.useEffect(()=>{u(!0)},[]),w$(g.useMemo(()=>({onDragStart(f){let{active:m}=f;i(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:h}=f;t.onDragMove&&i(t.onDragMove({active:m,over:h}))},onDragOver(f){let{active:m,over:h}=f;i(t.onDragOver({active:m,over:h}))},onDragEnd(f){let{active:m,over:h}=f;i(t.onDragEnd({active:m,over:h}))},onDragCancel(f){let{active:m,over:h}=f;i(t.onDragCancel({active:m,over:h}))}}),[i,t])),!c)return null;const d=Ee.createElement(Ee.Fragment,null,Ee.createElement(y$,{id:n,value:a.draggable}),Ee.createElement(b$,{id:s,announcement:o}));return r?Fa.createPortal(d,r):d}var ct;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ct||(ct={}));function Nf(){}function gb(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function vb(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const un=Object.freeze({x:0,y:0});function E$(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function O$(e,t){const r=Rf(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function A$(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function k$(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function P_(e){let{left:t,top:r,height:n,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+n},{x:t+a,y:r+n}]}function T$(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}const yb=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=P_(t),i=[];for(const o of n){const{id:s}=o,c=r.get(s);if(c){const u=P_(c),d=a.reduce((m,h,v)=>m+E$(u[v],h),0),f=Number((d/4).toFixed(4));i.push({id:s,data:{droppableContainer:o,value:f}})}}return i.sort(A$)};function R$(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-n,s=i-r;if(n<a&&r<i){const c=t.width*t.height,u=e.width*e.height,d=o*s,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const N$=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:o}=i,s=r.get(o);if(s){const c=R$(s,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(k$)};function D$(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function rT(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:un}function P$(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...r})}}const M$=P$(1);function nT(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function z$(e,t,r){const n=nT(t);if(!n)return e;const{scaleX:a,scaleY:i,x:o,y:s}=n,c=e.left-o-(1-a)*parseFloat(r),u=e.top-s-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const B$={ignoreTransform:!1};function Qs(e,t){t===void 0&&(t=B$);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Yt(e).getComputedStyle(e);u&&(r=z$(r,u,d))}const{top:n,left:a,width:i,height:o,bottom:s,right:c}=r;return{top:n,left:a,width:i,height:o,bottom:s,right:c}}function M_(e){return Qs(e,{ignoreTransform:!0})}function I$(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function $$(e,t){return t===void 0&&(t=Yt(e).getComputedStyle(e)),t.position==="fixed"}function L$(e,t){t===void 0&&(t=Yt(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function bb(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(pb(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!su(a)||Qk(a)||r.includes(a))return r;const i=Yt(e).getComputedStyle(a);return a!==e&&L$(a,i)&&r.push(a),$$(a,i)?r:n(a.parentNode)}return e?n(e):r}function aT(e){const[t]=bb(e,1);return t??null}function og(e){return!Qh||!e?null:Zs(e)?e:mb(e)?pb(e)||e===Js(e).scrollingElement?window:su(e)?e:null:null}function iT(e){return Zs(e)?e.scrollX:e.scrollLeft}function oT(e){return Zs(e)?e.scrollY:e.scrollTop}function Vv(e){return{x:iT(e),y:oT(e)}}var xt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(xt||(xt={}));function sT(e){return!Qh||!e?!1:e===document.scrollingElement}function lT(e){const t={x:0,y:0},r=sT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,s=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:o,isRight:s,maxScroll:n,minScroll:t}}const U$={x:.2,y:.2};function q$(e,t,r,n,a){let{top:i,left:o,right:s,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=U$);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=lT(e),h={x:0,y:0},v={x:0,y:0},x={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+x.height?(h.y=xt.Backward,v.y=n*Math.abs((t.top+x.height-i)/x.height)):!d&&c>=t.bottom-x.height&&(h.y=xt.Forward,v.y=n*Math.abs((t.bottom-x.height-c)/x.height)),!m&&s>=t.right-x.width?(h.x=xt.Forward,v.x=n*Math.abs((t.right-x.width-s)/x.width)):!f&&o<=t.left+x.width&&(h.x=xt.Backward,v.x=n*Math.abs((t.left+x.width-o)/x.width)),{direction:h,speed:v}}function W$(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function cT(e){return e.reduce((t,r)=>us(t,Vv(r)),un)}function H$(e){return e.reduce((t,r)=>t+iT(r),0)}function F$(e){return e.reduce((t,r)=>t+oT(r),0)}function uT(e,t){if(t===void 0&&(t=Qs),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);aT(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const V$=[["x",["left","right"],H$],["y",["top","bottom"],F$]];class xb{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=bb(r),a=cT(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,s]of V$)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=s(n),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ql{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function K$(e){const{EventTarget:t}=Yt(e);return e instanceof t?e:Js(e)}function sg(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Mr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Mr||(Mr={}));function z_(e){e.preventDefault()}function G$(e){e.stopPropagation()}var ve;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ve||(ve={}));const dT={start:[ve.Space,ve.Enter],cancel:[ve.Esc],end:[ve.Space,ve.Enter,ve.Tab]},Y$=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case ve.Right:return{...r,x:r.x+25};case ve.Left:return{...r,x:r.x-25};case ve.Down:return{...r,y:r.y+25};case ve.Up:return{...r,y:r.y-25}}};class fT{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Ql(Js(r)),this.windowListeners=new Ql(Yt(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mr.Resize,this.handleCancel),this.windowListeners.add(Mr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&uT(n),r(un)}handleKeyDown(t){if(tm(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=dT,coordinateGetter:o=Y$,scrollBehavior:s="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:un;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:r,context:n.current,currentCoordinates:d});if(f){const m=Tf(f,d),h={x:0,y:0},{scrollableAncestors:v}=n.current;for(const x of v){const b=t.code,{isTop:y,isRight:p,isLeft:w,isBottom:_,maxScroll:j,minScroll:C}=lT(x),S=W$(x),E={x:Math.min(b===ve.Right?S.right-S.width/2:S.right,Math.max(b===ve.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===ve.Down?S.bottom-S.height/2:S.bottom,Math.max(b===ve.Down?S.top:S.top+S.height/2,f.y))},O=b===ve.Right&&!p||b===ve.Left&&!w,A=b===ve.Down&&!_||b===ve.Up&&!y;if(O&&E.x!==f.x){const N=x.scrollLeft+m.x,T=b===ve.Right&&N<=j.x||b===ve.Left&&N>=C.x;if(T&&!m.y){x.scrollTo({left:N,behavior:s});return}T?h.x=x.scrollLeft-N:h.x=b===ve.Right?x.scrollLeft-j.x:x.scrollLeft-C.x,h.x&&x.scrollBy({left:-h.x,behavior:s});break}else if(A&&E.y!==f.y){const N=x.scrollTop+m.y,T=b===ve.Down&&N<=j.y||b===ve.Up&&N>=C.y;if(T&&!m.x){x.scrollTo({top:N,behavior:s});return}T?h.y=x.scrollTop-N:h.y=b===ve.Down?x.scrollTop-j.y:x.scrollTop-C.y,h.y&&x.scrollBy({top:-h.y,behavior:s});break}}this.handleMove(t,us(Tf(f,this.referenceCoordinates),h))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}fT.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=dT,onActivation:a}=t,{active:i}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function B_(e){return!!(e&&"distance"in e)}function I_(e){return!!(e&&"delay"in e)}class wb{constructor(t,r,n){var a;n===void 0&&(n=K$(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:o}=i;this.props=t,this.events=r,this.document=Js(o),this.documentListeners=new Ql(this.document),this.listeners=new Ql(n),this.windowListeners=new Ql(Yt(o)),this.initialCoordinates=(a=Rf(i))!=null?a:un,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Mr.Resize,this.handleCancel),this.windowListeners.add(Mr.DragStart,z_),this.windowListeners.add(Mr.VisibilityChange,this.handleCancel),this.windowListeners.add(Mr.ContextMenu,z_),this.documentListeners.add(Mr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(I_(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(B_(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Mr.Click,G$,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:s}}=i;if(!a)return;const c=(r=Rf(t))!=null?r:un,u=Tf(a,c);if(!n&&s){if(B_(s)){if(s.tolerance!=null&&sg(u,s.tolerance))return this.handleCancel();if(sg(u,s.distance))return this.handleStart()}if(I_(s)&&sg(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===ve.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const X$={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class uu extends wb{constructor(t){const{event:r}=t,n=Js(r.target);super(t,X$,n)}}uu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const Z$={move:{name:"mousemove"},end:{name:"mouseup"}};var Kv;(function(e){e[e.RightClick=2]="RightClick"})(Kv||(Kv={}));class J$ extends wb{constructor(t){super(t,Z$,Js(t.event.target))}}J$.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Kv.RightClick?!1:(n==null||n({event:r}),!0)}}];const lg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Q$ extends wb{constructor(t){super(t,lg)}static setup(){return window.addEventListener(lg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(lg.move.name,t)};function t(){}}}Q$.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var ec;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ec||(ec={}));var Df;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Df||(Df={}));function eL(e){let{acceleration:t,activator:r=ec.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:o=5,order:s=Df.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const h=rL({delta:f,disabled:!i}),[v,x]=h$(),b=g.useRef({x:0,y:0}),y=g.useRef({x:0,y:0}),p=g.useMemo(()=>{switch(r){case ec.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ec.DraggableRect:return a}},[r,a,c]),w=g.useRef(null),_=g.useCallback(()=>{const C=w.current;if(!C)return;const S=b.current.x*y.current.x,E=b.current.y*y.current.y;C.scrollBy(S,E)},[]),j=g.useMemo(()=>s===Df.TreeOrder?[...u].reverse():u,[s,u]);g.useEffect(()=>{if(!i||!u.length||!p){x();return}for(const C of j){if((n==null?void 0:n(C))===!1)continue;const S=u.indexOf(C),E=d[S];if(!E)continue;const{direction:O,speed:A}=q$(C,E,p,t,m);for(const N of["x","y"])h[N][O[N]]||(A[N]=0,O[N]=0);if(A.x>0||A.y>0){x(),w.current=C,v(_,o),b.current=A,y.current=O;return}}b.current={x:0,y:0},y.current={x:0,y:0},x()},[t,_,n,x,i,o,JSON.stringify(p),JSON.stringify(h),v,u,j,d,JSON.stringify(m)])}const tL={x:{[xt.Backward]:!1,[xt.Forward]:!1},y:{[xt.Backward]:!1,[xt.Forward]:!1}};function rL(e){let{delta:t,disabled:r}=e;const n=kf(t);return lu(a=>{if(r||!n||!a)return tL;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[xt.Backward]:a.x[xt.Backward]||i.x===-1,[xt.Forward]:a.x[xt.Forward]||i.x===1},y:{[xt.Backward]:a.y[xt.Backward]||i.y===-1,[xt.Forward]:a.y[xt.Forward]||i.y===1}}},[r,t,n])}function nL(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return lu(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function aL(e,t){return g.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...i]},[]),[e,t])}var Cc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Cc||(Cc={}));var Gv;(function(e){e.Optimized="optimized"})(Gv||(Gv={}));const $_=new Map;function iL(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,o]=g.useState(null),{frequency:s,measure:c,strategy:u}=a,d=g.useRef(e),f=b(),m=Sc(f),h=g.useCallback(function(y){y===void 0&&(y=[]),!m.current&&o(p=>p===null?y:p.concat(y.filter(w=>!p.includes(w))))},[m]),v=g.useRef(null),x=lu(y=>{if(f&&!r)return $_;if(!y||y===$_||d.current!==e||i!=null){const p=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){p.set(w.id,w.rect.current);continue}const _=w.node.current,j=_?new xb(c(_),_):null;w.rect.current=j,j&&p.set(w.id,j)}return p}return y},[e,i,r,f,c]);return g.useEffect(()=>{d.current=e},[e]),g.useEffect(()=>{f||h()},[r,f]),g.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),g.useEffect(()=>{f||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},s))},[s,f,h,...n]),{droppableRects:x,measureDroppableContainers:h,measuringScheduled:i!=null};function b(){switch(u){case Cc.Always:return!1;case Cc.BeforeDragging:return r;default:return!r}}}function _b(e,t){return lu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function oL(e,t){return _b(e,t)}function sL(e){let{callback:t,disabled:r}=e;const n=em(t),a=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return g.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function rm(e){let{callback:t,disabled:r}=e;const n=em(t),a=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return g.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function lL(e){return new xb(Qs(e),e)}function L_(e,t,r){t===void 0&&(t=lL);const[n,a]=g.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=sL({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),s=rm({callback:i});return cn(()=>{i(),e?(s==null||s.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),o==null||o.disconnect())},[e]),n}function cL(e){const t=_b(e);return rT(e,t)}const U_=[];function uL(e){const t=g.useRef(e),r=lu(n=>e?n&&n!==U_&&e&&t.current&&e.parentNode===t.current.parentNode?n:bb(e):U_,[e]);return g.useEffect(()=>{t.current=e},[e]),r}function dL(e){const[t,r]=g.useState(null),n=g.useRef(e),a=g.useCallback(i=>{const o=og(i.target);o&&r(s=>s?(s.set(o,Vv(o)),new Map(s)):null)},[]);return g.useEffect(()=>{const i=n.current;if(e!==i){o(i);const s=e.map(c=>{const u=og(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,Vv(u)]):null}).filter(c=>c!=null);r(s.length?new Map(s):null),n.current=e}return()=>{o(e),o(i)};function o(s){s.forEach(c=>{const u=og(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>us(i,o),un):cT(e):un,[e,t])}function q_(e,t){t===void 0&&(t=[]);const r=g.useRef(null);return g.useEffect(()=>{r.current=null},t),g.useEffect(()=>{const n=e!==un;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Tf(e,r.current):un}function fL(e){g.useEffect(()=>{if(!Qh)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function hL(e,t){return g.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=o=>{i(o,t)},r},{}),[e,t])}function hT(e){return g.useMemo(()=>e?I$(e):null,[e])}const W_=[];function mL(e,t){t===void 0&&(t=Qs);const[r]=e,n=hT(r?Yt(r):null),[a,i]=g.useState(W_);function o(){i(()=>e.length?e.map(c=>sT(c)?n:new xb(t(c),c)):W_)}const s=rm({callback:o});return cn(()=>{s==null||s.disconnect(),o(),e.forEach(c=>s==null?void 0:s.observe(c))},[e]),a}function mT(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return su(t)?t:e}function pL(e){let{measure:t}=e;const[r,n]=g.useState(null),a=g.useCallback(u=>{for(const{target:d}of u)if(su(d)){n(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),i=rm({callback:a}),o=g.useCallback(u=>{const d=mT(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),n(d?t(d):null)},[t,i]),[s,c]=Af(o);return g.useMemo(()=>({nodeRef:s,rect:r,setRef:c}),[r,s,c])}const gL=[{sensor:uu,options:{}},{sensor:fT,options:{}}],vL={current:{}},Ud={draggable:{measure:M_},droppable:{measure:M_,strategy:Cc.WhileDragging,frequency:Gv.Optimized},dragOverlay:{measure:Qs}};class tc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const yL={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Nf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ud,measureDroppableContainers:Nf,windowRect:null,measuringScheduled:!1},pT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Nf,draggableNodes:new Map,over:null,measureDroppableContainers:Nf},du=g.createContext(pT),gT=g.createContext(yL);function bL(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tc}}}function xL(e,t){switch(t.type){case ct.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ct.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ct.DragEnd:case ct.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ct.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new tc(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case ct.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new tc(e.droppable.containers);return o.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case ct.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new tc(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function wL(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=g.useContext(du),i=kf(n),o=kf(r==null?void 0:r.id);return g.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!tm(i)||document.activeElement===i.target)return;const s=a.get(o);if(!s)return;const{activatorNode:c,node:u}=s;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=g$(d);if(f){f.focus();break}}})}},[n,t,a,o,i]),null}function vT(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function _L(e){return g.useMemo(()=>({draggable:{...Ud.draggable,...e==null?void 0:e.draggable},droppable:{...Ud.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ud.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function jL(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=g.useRef(!1),{x:o,y:s}=typeof a=="boolean"?{x:a,y:a}:a;cn(()=>{if(!o&&!s||!t){i.current=!1;return}if(i.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=rT(d,n);if(o||(f.x=0),s||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=aT(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,s,n,r])}const nm=g.createContext({...un,scaleX:1,scaleY:1});var za;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(za||(za={}));const jb=g.memo(function(t){var r,n,a,i;let{id:o,accessibility:s,autoScroll:c=!0,children:u,sensors:d=gL,collisionDetection:f=N$,measuring:m,modifiers:h,...v}=t;const x=g.useReducer(xL,void 0,bL),[b,y]=x,[p,w]=_$(),[_,j]=g.useState(za.Uninitialized),C=_===za.Initialized,{draggable:{active:S,nodes:E,translate:O},droppable:{containers:A}}=b,N=S!=null?E.get(S):null,T=g.useRef({initial:null,translated:null}),z=g.useMemo(()=>{var Bt;return S!=null?{id:S,data:(Bt=N==null?void 0:N.data)!=null?Bt:vL,rect:T}:null},[S,N]),L=g.useRef(null),[H,D]=g.useState(null),[I,k]=g.useState(null),R=Sc(v,Object.values(v)),M=cu("DndDescribedBy",o),K=g.useMemo(()=>A.getEnabled(),[A]),V=_L(m),{droppableRects:ee,measureDroppableContainers:Z,measuringScheduled:ce}=iL(K,{dragging:C,dependencies:[O.x,O.y],config:V.droppable}),se=nL(E,S),ge=g.useMemo(()=>I?Rf(I):null,[I]),U=i4(),P=oL(se,V.draggable.measure);jL({activeNode:S!=null?E.get(S):null,config:U.layoutShiftCompensation,initialRect:P,measure:V.draggable.measure});const F=L_(se,V.draggable.measure,P),G=L_(se?se.parentElement:null),q=g.useRef({activatorEvent:null,active:null,activeNode:se,collisionRect:null,collisions:null,droppableRects:ee,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=A.getNodeFor((r=q.current.over)==null?void 0:r.id),ae=pL({measure:V.dragOverlay.measure}),Ze=(n=ae.nodeRef.current)!=null?n:se,Je=C?(a=ae.rect)!=null?a:F:null,vn=!!(ae.nodeRef.current&&ae.rect),ll=cL(vn?null:F),sp=hT(Ze?Yt(Ze):null),Oa=uL(C?me??se:null),Du=mL(Oa),Pu=vT(h,{transform:{x:O.x-ll.x,y:O.y-ll.y,scaleX:1,scaleY:1},activatorEvent:I,active:z,activeNodeRect:F,containerNodeRect:G,draggingNodeRect:Je,over:q.current.over,overlayNodeRect:ae.rect,scrollableAncestors:Oa,scrollableAncestorRects:Du,windowRect:sp}),m1=ge?us(ge,O):null,p1=dL(Oa),JP=q_(p1),QP=q_(p1,[F]),jo=us(Pu,JP),So=Je?M$(Je,Pu):null,cl=z&&So?f({active:z,collisionRect:So,droppableRects:ee,droppableContainers:K,pointerCoordinates:m1}):null,g1=T$(cl,"id"),[Aa,v1]=g.useState(null),e4=vn?Pu:us(Pu,QP),t4=D$(e4,(i=Aa==null?void 0:Aa.rect)!=null?i:null,F),lp=g.useRef(null),y1=g.useCallback((Bt,cr)=>{let{sensor:ur,options:ka}=cr;if(L.current==null)return;const Tr=E.get(L.current);if(!Tr)return;const dr=Bt.nativeEvent,yn=new ur({active:L.current,activeNode:Tr,event:dr,options:ka,context:q,onAbort(Et){if(!E.get(Et))return;const{onDragAbort:bn}=R.current,Mn={id:Et};bn==null||bn(Mn),p({type:"onDragAbort",event:Mn})},onPending(Et,Ta,bn,Mn){if(!E.get(Et))return;const{onDragPending:dl}=R.current,Ra={id:Et,constraint:Ta,initialCoordinates:bn,offset:Mn};dl==null||dl(Ra),p({type:"onDragPending",event:Ra})},onStart(Et){const Ta=L.current;if(Ta==null)return;const bn=E.get(Ta);if(!bn)return;const{onDragStart:Mn}=R.current,ul={activatorEvent:dr,active:{id:Ta,data:bn.data,rect:T}};Fa.unstable_batchedUpdates(()=>{Mn==null||Mn(ul),j(za.Initializing),y({type:ct.DragStart,initialCoordinates:Et,active:Ta}),p({type:"onDragStart",event:ul}),D(lp.current),k(dr)})},onMove(Et){y({type:ct.DragMove,coordinates:Et})},onEnd:Co(ct.DragEnd),onCancel:Co(ct.DragCancel)});lp.current=yn;function Co(Et){return async function(){const{active:bn,collisions:Mn,over:ul,scrollAdjustedTranslate:dl}=q.current;let Ra=null;if(bn&&dl){const{cancelDrop:fl}=R.current;Ra={activatorEvent:dr,active:bn,collisions:Mn,delta:dl,over:ul},Et===ct.DragEnd&&typeof fl=="function"&&await Promise.resolve(fl(Ra))&&(Et=ct.DragCancel)}L.current=null,Fa.unstable_batchedUpdates(()=>{y({type:Et}),j(za.Uninitialized),v1(null),D(null),k(null),lp.current=null;const fl=Et===ct.DragEnd?"onDragEnd":"onDragCancel";if(Ra){const cp=R.current[fl];cp==null||cp(Ra),p({type:fl,event:Ra})}})}}},[E]),r4=g.useCallback((Bt,cr)=>(ur,ka)=>{const Tr=ur.nativeEvent,dr=E.get(ka);if(L.current!==null||!dr||Tr.dndKit||Tr.defaultPrevented)return;const yn={active:dr};Bt(ur,cr.options,yn)===!0&&(Tr.dndKit={capturedBy:cr.sensor},L.current=ka,y1(ur,cr))},[E,y1]),b1=aL(d,r4);fL(d),cn(()=>{F&&_===za.Initializing&&j(za.Initialized)},[F,_]),g.useEffect(()=>{const{onDragMove:Bt}=R.current,{active:cr,activatorEvent:ur,collisions:ka,over:Tr}=q.current;if(!cr||!ur)return;const dr={active:cr,activatorEvent:ur,collisions:ka,delta:{x:jo.x,y:jo.y},over:Tr};Fa.unstable_batchedUpdates(()=>{Bt==null||Bt(dr),p({type:"onDragMove",event:dr})})},[jo.x,jo.y]),g.useEffect(()=>{const{active:Bt,activatorEvent:cr,collisions:ur,droppableContainers:ka,scrollAdjustedTranslate:Tr}=q.current;if(!Bt||L.current==null||!cr||!Tr)return;const{onDragOver:dr}=R.current,yn=ka.get(g1),Co=yn&&yn.rect.current?{id:yn.id,rect:yn.rect.current,data:yn.data,disabled:yn.disabled}:null,Et={active:Bt,activatorEvent:cr,collisions:ur,delta:{x:Tr.x,y:Tr.y},over:Co};Fa.unstable_batchedUpdates(()=>{v1(Co),dr==null||dr(Et),p({type:"onDragOver",event:Et})})},[g1]),cn(()=>{q.current={activatorEvent:I,active:z,activeNode:se,collisionRect:So,collisions:cl,droppableRects:ee,draggableNodes:E,draggingNode:Ze,draggingNodeRect:Je,droppableContainers:A,over:Aa,scrollableAncestors:Oa,scrollAdjustedTranslate:jo},T.current={initial:Je,translated:So}},[z,se,cl,So,E,Ze,Je,ee,A,Aa,Oa,jo]),eL({...U,delta:O,draggingRect:So,pointerCoordinates:m1,scrollableAncestors:Oa,scrollableAncestorRects:Du});const n4=g.useMemo(()=>({active:z,activeNode:se,activeNodeRect:F,activatorEvent:I,collisions:cl,containerNodeRect:G,dragOverlay:ae,draggableNodes:E,droppableContainers:A,droppableRects:ee,over:Aa,measureDroppableContainers:Z,scrollableAncestors:Oa,scrollableAncestorRects:Du,measuringConfiguration:V,measuringScheduled:ce,windowRect:sp}),[z,se,F,I,cl,G,ae,E,A,ee,Aa,Z,Oa,Du,V,ce,sp]),a4=g.useMemo(()=>({activatorEvent:I,activators:b1,active:z,activeNodeRect:F,ariaDescribedById:{draggable:M},dispatch:y,draggableNodes:E,over:Aa,measureDroppableContainers:Z}),[I,b1,z,F,y,M,E,Aa,Z]);return Ee.createElement(tT.Provider,{value:w},Ee.createElement(du.Provider,{value:a4},Ee.createElement(gT.Provider,{value:n4},Ee.createElement(nm.Provider,{value:t4},u)),Ee.createElement(wL,{disabled:(s==null?void 0:s.restoreFocus)===!1})),Ee.createElement(C$,{...s,hiddenTextDescribedById:M}));function i4(){const Bt=(H==null?void 0:H.autoScrollEnabled)===!1,cr=typeof c=="object"?c.enabled===!1:c===!1,ur=C&&!Bt&&!cr;return typeof c=="object"?{...c,enabled:ur}:{enabled:ur}}}),SL=g.createContext(null),H_="button",CL="Draggable";function EL(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=cu(CL),{activators:o,activatorEvent:s,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=g.useContext(du),{role:h=H_,roleDescription:v="draggable",tabIndex:x=0}=a??{},b=(c==null?void 0:c.id)===t,y=g.useContext(b?nm:SL),[p,w]=Af(),[_,j]=Af(),C=hL(o,t),S=Sc(r);cn(()=>(f.set(t,{id:t,key:i,node:p,activatorNode:_,data:S}),()=>{const O=f.get(t);O&&O.key===i&&f.delete(t)}),[f,t]);const E=g.useMemo(()=>({role:h,tabIndex:x,"aria-disabled":n,"aria-pressed":b&&h===H_?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[n,h,x,b,v,d.draggable]);return{active:c,activatorEvent:s,activeNodeRect:u,attributes:E,isDragging:b,listeners:n?void 0:C,node:p,over:m,setNodeRef:w,setActivatorNodeRef:j,transform:y}}function yT(){return g.useContext(gT)}const OL="Droppable",AL={timeout:25};function am(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=cu(OL),{active:o,dispatch:s,over:c,measureDroppableContainers:u}=g.useContext(du),d=g.useRef({disabled:r}),f=g.useRef(!1),m=g.useRef(null),h=g.useRef(null),{disabled:v,updateMeasurementsFor:x,timeout:b}={...AL,...a},y=Sc(x??n),p=g.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),h.current=null},b)},[b]),w=rm({callback:p,disabled:v||!o}),_=g.useCallback((E,O)=>{w&&(O&&(w.unobserve(O),f.current=!1),E&&w.observe(E))},[w]),[j,C]=Af(_),S=Sc(t);return g.useEffect(()=>{!w||!j.current||(w.disconnect(),f.current=!1,w.observe(j.current))},[j,w]),g.useEffect(()=>(s({type:ct.RegisterDroppable,element:{id:n,key:i,disabled:r,node:j,rect:m,data:S}}),()=>s({type:ct.UnregisterDroppable,key:i,id:n})),[n]),g.useEffect(()=>{r!==d.current.disabled&&(s({type:ct.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,s]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===n,node:j,over:c,setNodeRef:C}}function kL(e){let{animation:t,children:r}=e;const[n,a]=g.useState(null),[i,o]=g.useState(null),s=kf(r);return!r&&!n&&s&&a(s),cn(()=>{if(!i)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,n,i]),Ee.createElement(Ee.Fragment,null,r,n?g.cloneElement(n,{ref:o}):null)}const TL={x:0,y:0,scaleX:1,scaleY:1};function RL(e){let{children:t}=e;return Ee.createElement(du.Provider,{value:pT},Ee.createElement(nm.Provider,{value:TL},t))}const NL={position:"fixed",touchAction:"none"},DL=e=>tm(e)?"transform 250ms ease":void 0,PL=g.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:o,rect:s,style:c,transform:u,transition:d=DL}=e;if(!s)return null;const f=a?u:{...u,scaleX:1,scaleY:1},m={...NL,width:s.width,height:s.height,top:s.top,left:s.left,transform:kn.Transform.toString(f),transformOrigin:a&&n?O$(n,s):void 0,transition:typeof d=="function"?d(n):d,...c};return Ee.createElement(r,{className:o,style:m,ref:t},i)}),ML=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[s,c]of Object.entries(i.active))c!==void 0&&(a[s]=r.node.style.getPropertyValue(s),r.node.style.setProperty(s,c));if(i!=null&&i.dragOverlay)for(const[s,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(s,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))r.node.style.setProperty(c,u);o!=null&&o.active&&r.node.classList.remove(o.active)}},zL=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:kn.Transform.toString(t)},{transform:kn.Transform.toString(r)}]},BL={duration:250,easing:"ease",keyframes:zL,sideEffects:ML({styles:{active:{opacity:"0"}}})};function IL(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return em((i,o)=>{if(t===null)return;const s=r.get(i);if(!s)return;const c=s.node.current;if(!c)return;const u=mT(o);if(!u)return;const{transform:d}=Yt(o).getComputedStyle(o),f=nT(d);if(!f)return;const m=typeof t=="function"?t:$L(t);return uT(c,a.draggable.measure),m({active:{id:i,data:s.data,node:c,rect:a.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:a,transform:f})})}function $L(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...BL,...e};return i=>{let{active:o,dragOverlay:s,transform:c,...u}=i;if(!t)return;const d={x:s.rect.left-o.rect.left,y:s.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/s.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/s.rect.height:1},m={x:c.x-d.x,y:c.y-d.y,...f},h=a({...u,active:o,dragOverlay:s,transform:{initial:c,final:m}}),[v]=h,x=h[h.length-1];if(JSON.stringify(v)===JSON.stringify(x))return;const b=n==null?void 0:n({active:o,dragOverlay:s,...u}),y=s.node.animate(h,{duration:t,easing:r,fill:"forwards"});return new Promise(p=>{y.onfinish=()=>{b==null||b(),p()}})}}let F_=0;function LL(e){return g.useMemo(()=>{if(e!=null)return F_++,F_},[e])}const Sb=Ee.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:o,wrapperElement:s="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:h,draggableNodes:v,droppableContainers:x,dragOverlay:b,over:y,measuringConfiguration:p,scrollableAncestors:w,scrollableAncestorRects:_,windowRect:j}=yT(),C=g.useContext(nm),S=LL(f==null?void 0:f.id),E=vT(o,{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:h,draggingNodeRect:b.rect,over:y,overlayNodeRect:b.rect,scrollableAncestors:w,scrollableAncestorRects:_,transform:C,windowRect:j}),O=_b(m),A=IL({config:n,draggableNodes:v,droppableContainers:x,measuringConfiguration:p}),N=O?b.setRef:void 0;return Ee.createElement(RL,null,Ee.createElement(kL,{animation:A},f&&S?Ee.createElement(PL,{key:S,id:f.id,ref:N,as:s,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:O,style:{zIndex:u,...a},transform:E},r):null))});function bT(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function UL(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function od(e){return e!==null&&e>=0}function qL(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function WL(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const xT=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=bT(t,n,r),o=t[a],s=i[a];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},sd={scaleX:1,scaleY:1},Cb=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:a,rects:i,overIndex:o}=e;const s=(t=i[r])!=null?t:n;if(!s)return null;if(a===r){const u=i[o];return u?{x:0,y:r<o?u.top+u.height-(s.top+s.height):u.top-s.top,...sd}:null}const c=HL(i,a,r);return a>r&&a<=o?{x:0,y:-s.height-c,...sd}:a<r&&a>=o?{x:0,y:s.height+c,...sd}:{x:0,y:0,...sd}};function HL(e,t,r){const n=e[t],a=e[t-1],i=e[t+1];return n?r<t?a?n.top-(a.top+a.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const wT="Sortable",_T=Ee.createContext({activeIndex:-1,containerId:wT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xT,disabled:{draggable:!1,droppable:!1}});function Eb(e){let{children:t,id:r,items:n,strategy:a=xT,disabled:i=!1}=e;const{active:o,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=yT(),f=cu(wT,r),m=s.rect!==null,h=g.useMemo(()=>n.map(C=>typeof C=="object"&&"id"in C?C.id:C),[n]),v=o!=null,x=o?h.indexOf(o.id):-1,b=u?h.indexOf(u.id):-1,y=g.useRef(h),p=!qL(h,y.current),w=b!==-1&&x===-1||p,_=WL(i);cn(()=>{p&&v&&d(h)},[p,h,v,d]),g.useEffect(()=>{y.current=h},[h]);const j=g.useMemo(()=>({activeIndex:x,containerId:f,disabled:_,disableTransforms:w,items:h,overIndex:b,useDragOverlay:m,sortedRects:UL(h,c),strategy:a}),[x,f,_.draggable,_.droppable,w,h,b,c,m,a]);return Ee.createElement(_T.Provider,{value:j},t)}const FL=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return bT(r,n,a).indexOf(t)},VL=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:o,previousItems:s,previousContainerId:c,transition:u}=e;return!u||!n||s!==i&&a===o?!1:r?!0:o!==a&&t===c},KL={duration:200,easing:"ease"},jT="transform",GL=kn.Transition.toString({property:jT,duration:0,easing:"linear"}),YL={roleDescription:"sortable"};function XL(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,o]=g.useState(null),s=g.useRef(r);return cn(()=>{if(!t&&r!==s.current&&n.current){const c=a.current;if(c){const u=Qs(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}r!==s.current&&(s.current=r)},[t,r,n,a]),g.useEffect(()=>{i&&o(null)},[i]),i}function Ob(e){let{animateLayoutChanges:t=VL,attributes:r,disabled:n,data:a,getNewIndex:i=FL,id:o,strategy:s,resizeObserverConfig:c,transition:u=KL}=e;const{items:d,containerId:f,activeIndex:m,disabled:h,disableTransforms:v,sortedRects:x,overIndex:b,useDragOverlay:y,strategy:p}=g.useContext(_T),w=ZL(n,h),_=d.indexOf(o),j=g.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...a}),[f,a,_,d]),C=g.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:S,node:E,isOver:O,setNodeRef:A}=am({id:o,data:j,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:N,activatorEvent:T,activeNodeRect:z,attributes:L,setNodeRef:H,listeners:D,isDragging:I,over:k,setActivatorNodeRef:R,transform:M}=EL({id:o,data:j,attributes:{...YL,...r},disabled:w.draggable}),K=f$(A,H),V=!!N,ee=V&&!v&&od(m)&&od(b),Z=!y&&I,ce=Z&&ee?M:null,ge=ee?ce??(s??p)({rects:x,activeNodeRect:z,activeIndex:m,overIndex:b,index:_}):null,U=od(m)&&od(b)?i({id:o,items:d,activeIndex:m,overIndex:b}):_,P=N==null?void 0:N.id,F=g.useRef({activeId:P,items:d,newIndex:U,containerId:f}),G=d!==F.current.items,q=t({active:N,containerId:f,isDragging:I,isSorting:V,id:o,index:_,items:d,newIndex:F.current.newIndex,previousItems:F.current.items,previousContainerId:F.current.containerId,transition:u,wasDragging:F.current.activeId!=null}),me=XL({disabled:!q,index:_,node:E,rect:S});return g.useEffect(()=>{V&&F.current.newIndex!==U&&(F.current.newIndex=U),f!==F.current.containerId&&(F.current.containerId=f),d!==F.current.items&&(F.current.items=d)},[V,U,f,d]),g.useEffect(()=>{if(P===F.current.activeId)return;if(P!=null&&F.current.activeId==null){F.current.activeId=P;return}const Ze=setTimeout(()=>{F.current.activeId=P},50);return()=>clearTimeout(Ze)},[P]),{active:N,activeIndex:m,attributes:L,data:j,rect:S,index:_,newIndex:U,items:d,isOver:O,isSorting:V,isDragging:I,listeners:D,node:E,overIndex:b,over:k,setNodeRef:K,setActivatorNodeRef:R,setDroppableNodeRef:A,setDraggableNodeRef:H,transform:me??ge,transition:ae()};function ae(){if(me||G&&F.current.newIndex===_)return GL;if(!(Z&&!tm(T)||!u)&&(V||q))return kn.Transition.toString({...u,property:jT})}}function ZL(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}ve.Down,ve.Right,ve.Up,ve.Left;const V_=[{status:"simulacao",label:"Simulao",color:"#64748b"},{status:"indicado",label:"Indicado",color:"#0ea5e9"},{status:"em_negociacao",label:"Em Negociao",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"negocio_perdido",label:"Negcio Perdido",color:"#ef4444"},{status:"pago",label:"Pago",color:"#8b5cf6"}];function ST({lead:e,onClick:t,isOverlay:r}){var d,f;const{attributes:n,listeners:a,setNodeRef:i,transform:o,transition:s,isDragging:c}=Ob({id:e.id,disabled:!!r}),u={transform:kn.Transform.toString(o),transition:s,opacity:c?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:r?"var(--shadow-lg)":"var(--shadow-sm)",cursor:r?"grabbing":"grab",border:"1px solid transparent",zIndex:c?1e3:1,position:"relative",width:r?"280px":"auto"};return l.jsxs("div",{ref:i,style:u,...r?{}:n,...r?{}:a,onClick:()=>!r&&t(e),children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:e.name}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria||"N/A"}),l.jsx("span",{style:{fontSize:"0.7rem",color:"#047857",background:"#ecfdf5",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.consumo_kwh?`${Number(e.consumo_kwh).toLocaleString("pt-BR")} kWh`:"0 kWh"})]}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:e.phone}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[l.jsx("span",{children:((f=(d=e.originator)==null?void 0:d.name)==null?void 0:f.split(" ")[0])||"-"}),l.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})}function JL({status:e,label:t,color:r,leads:n,onCardClick:a}){const{setNodeRef:i,isOver:o}=am({id:e});return l.jsxs("div",{ref:i,style:{minWidth:"280px",flex:1,background:o?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:t}),l.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:n.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:l.jsx(Eb,{items:n.map(s=>s.id),strategy:Cb,children:n.map(s=>l.jsx(ST,{lead:s,onClick:a},s.id))})})]})}function QL(){const{profile:e}=Yr(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(!1),[s,c]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,v]=g.useState("kanban"),[x,b]=g.useState(""),[y,p]=g.useState(null),w=vb(gb(uu,{activationConstraint:{distance:8}})),_=t.filter(T=>{var L,H,D,I;if(!x)return!0;const z=x.toLowerCase();return((L=T.name)==null?void 0:L.toLowerCase().includes(z))||((H=T.email)==null?void 0:H.toLowerCase().includes(z))||((D=T.phone)==null?void 0:D.includes(z))||((I=T.concessionaria)==null?void 0:I.toLowerCase().includes(z))});g.useEffect(()=>{j()},[]);const j=async()=>{a(!0);try{const{data:T,error:z}=await $.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(z)throw z;r(T||[])}catch(T){console.error("Error fetching leads:",T)}finally{a(!1)}},C=T=>{j(),o(!1)},S=T=>{r(t.filter(z=>z.id!==T)),o(!1)},E=T=>{m(T),c(!0)},O=async T=>{try{await $.from("leads").update({status:"em_negociacao"}).eq("id",f.id),j(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(z){console.error("Erro ao atualizar status do lead",z)}},A=T=>{p(T.active.id)},N=async T=>{const{active:z,over:L}=T;if(p(null),!L)return;const H=z.id,D=L.id;let I=D;if(!V_.some(M=>M.status===D)){const M=t.find(K=>K.id===D);I=M==null?void 0:M.status}if(!I)return;const R=t.find(M=>M.id===H);if(R&&R.status!==I){r(M=>M.map(K=>K.id===H?{...K,status:I}:K));try{const{error:M}=await $.from("leads").update({status:I}).eq("id",H);if(M)throw M}catch(M){console.error("Error updating lead status:",M),j()}}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Leads"}),l.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou concessionria...",value:x,onChange:T=>b(T.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>v("list"),className:`btn ${h==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>v("kanban"),className:`btn ${h==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:h==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:_.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Concessionria"}),l.jsx("th",{children:"Consumo (kWh)"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Originador"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:_.map(T=>{var z;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:T.name}),l.jsx("td",{children:T.concessionaria||"-"}),l.jsx("td",{children:T.consumo_kwh?`${Number(T.consumo_kwh).toLocaleString("pt-BR")} kWh`:"-"}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:T.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:T.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:T.status==="simulacao"?"#f1f5f9":T.status==="em_negociacao"?"#fef9c3":T.status==="ativo"?"#dcfce7":"#f1f5f9",color:T.status==="simulacao"?"#64748b":T.status==="em_negociacao"?"#a16207":T.status==="ativo"?"#166534":"#64748b"},children:T.status.toUpperCase().replace("_"," ")})}),l.jsx("td",{children:((z=T.originator)==null?void 0:z.name)||"-"}),l.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>{d(T),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),T.status!=="convertido"&&l.jsx("button",{onClick:()=>E(T),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},T.id)})})]})})}):l.jsxs(jb,{sensors:w,collisionDetection:yb,onDragStart:A,onDragEnd:N,onDragCancel:()=>p(null),children:[l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:V_.map(({status:T,label:z,color:L})=>{const H=_.filter(D=>(D.status||"simulacao")===T);return l.jsx(JL,{status:T,label:z,color:L,leads:H,onCardClick:D=>{d(D),o(!0)}},T)})}),l.jsx(Sb,{adjustScale:!0,children:y?l.jsx(ST,{lead:t.find(T=>T.id===y),isOverlay:!0}):null})]})}),i&&l.jsx(d$,{lead:u,onClose:()=>o(!1),onSave:C,onDelete:S,onConvert:E}),s&&l.jsx(Jk,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>c(!1),onSave:O})]})}function e9(){const{profile:e}=Yr(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(!1),[s,c]=g.useState(null),[u,d]=g.useState("list"),[f,m]=g.useState(""),[h,v]=g.useState(null),x=t.filter(j=>{var S,E,O,A;if(!f)return!0;const C=f.toLowerCase();return((S=j.name)==null?void 0:S.toLowerCase().includes(C))||((E=j.email)==null?void 0:E.toLowerCase().includes(C))||((O=j.phone)==null?void 0:O.includes(C))||((A=j.cpf_cnpj)==null?void 0:A.includes(C))});g.useEffect(()=>{b()},[]);const b=async()=>{a(!0);try{const{data:j,error:C}=await $.from("subscribers").select("*").order("created_at",{ascending:!1});if(C)throw C;r(j||[])}catch(j){console.error("Error fetching subscribers:",j)}finally{a(!1)}},y=j=>{const C=t.find(S=>S.id===j.id);r(C?t.map(S=>S.id===j.id?{...S,...j}:S):[j,...t])},p=async j=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${j.name}?`)){v(j.id);try{const C=await Xh(j.id,"subscriber");C.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(C.url,"_blank"))}catch(C){console.error(C),alert("Erro: "+(C.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{v(null)}}},w={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},_=j=>{r(t.filter(C=>C.id!==j))};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Assinantes"}),l.jsx("button",{onClick:()=>{c(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:j=>m(j.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),l.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:u==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:x.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),l.jsx("tbody",{children:x.map(j=>{var C,S,E,O,A;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold"},children:j.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.cpf_cnpj})]}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:j.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.phone})]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(C=j.status)!=null&&C.includes("ativo")?"#dcfce7":(S=j.status)!=null&&S.includes("cancelado")?"#fee2e2":"#dbeafe",color:(E=j.status)!=null&&E.includes("ativo")?"#166534":(O=j.status)!=null&&O.includes("cancelado")?"#dc2626":"#1e40af"},children:(A=j.status)==null?void 0:A.toUpperCase().replace("_"," ")})}),l.jsx("td",{style:{padding:"1rem"},children:j.cidade?`${j.cidade}/${j.uf}`:"-"}),l.jsx("td",{style:{padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>p(j),disabled:h===j.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:h===j.id?"...":l.jsx(nu,{size:14})}),l.jsx("button",{onClick:()=>{c(j),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},j.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(j=>{const C=x.filter(E=>E.status===j),S=w[j]||"#64748b";return l.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${S}`},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:S},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:j.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:S,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:C.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:C.map(E=>l.jsxs("div",{onClick:()=>{c(E),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:E.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.cpf_cnpj}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.email}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[l.jsx("span",{children:E.cidade}),l.jsx("span",{children:new Date(E.created_at).toLocaleDateString()})]})]},E.id))})]},j)})})}),i&&l.jsx(Jk,{subscriber:s,onClose:()=>o(!1),onSave:y,onDelete:_})]})}function t9({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=g.useState(!1),[o,s]=g.useState(!1),[c,u]=g.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});g.useEffect(()=>{var v,x,b,y,p,w,_,j,C;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((v=e.split_commission)==null?void 0:v.start)||0,split_recurrent:((x=e.split_commission)==null?void 0:x.recurrent)||0,cep:((b=e.address)==null?void 0:b.cep)||"",rua:((y=e.address)==null?void 0:y.rua)||"",numero:((p=e.address)==null?void 0:p.numero)||"",complemento:((w=e.address)==null?void 0:w.complemento)||"",bairro:((_=e.address)==null?void 0:_.bairro)||"",cidade:((j=e.address)==null?void 0:j.cidade)||"",uf:((C=e.address)==null?void 0:C.uf)||""})},[e]);const d=async()=>{const v=c.cep.replace(/\D/g,"");if(v.length===8){s(!0);try{const x=await pn(v);u(b=>({...b,rua:x.rua||"",bairro:x.bairro||"",cidade:x.cidade||"",uf:x.uf||""}))}catch(x){console.error("Erro CEP",x),alert("Erro ao buscar CEP")}finally{s(!1)}}};g.useEffect(()=>{if(c.pix_key_type==="aleatoria")return;let v="";c.pix_key_type==="cpf"||c.pix_key_type==="cnpj"?v=c.cpf_cnpj:c.pix_key_type==="email"?v=c.email:c.pix_key_type==="telefone"&&(v=c.phone),v!==c.pix_key&&u(x=>({...x,pix_key:v}))},[c.pix_key_type,c.cpf_cnpj,c.email,c.phone]);const f=async v=>{if(v.preventDefault(),!ou(c.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!ro(c.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const x={name:c.name,cpf_cnpj:c.cpf_cnpj,email:c.email,phone:c.phone,pix_key:c.pix_key,pix_key_type:c.pix_key_type,split_commission:{start:Number(c.split_start)||0,recurrent:Number(c.split_recurrent)||0},address:{cep:c.cep,rua:c.rua,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cidade:c.cidade,uf:c.uf}};try{let b;if(e!=null&&e.id?b=await $.from("originators_v2").update(x).eq("id",e.id).select().single():b=await $.from("originators_v2").insert(x).select().single(),b.error)throw b.error;r(b.data),t()}catch(b){alert("Erro ao salvar originador: "+b.message)}finally{i(!1)}},m=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:v}=await $.from("originators_v2").delete().eq("id",e.id);if(v)throw v;n&&n(e.id),t()}catch(v){alert("Erro ao excluir: "+v.message)}finally{i(!1)}}},h=e?`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`:"Salve para gerar URL";return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[l.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`,className:"input",style:{color:"#0284c7"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),l.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),l.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[l.jsx("label",{className:"label",children:"Nome Completo"}),l.jsx("input",{value:c.name,onChange:v=>u({...c,name:v.target.value}),className:"input",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CPF/CNPJ"}),l.jsx("input",{value:c.cpf_cnpj,onChange:v=>u({...c,cpf_cnpj:iu(v.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Email"}),l.jsx("input",{type:"email",value:c.email,onChange:v=>u({...c,email:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:c.phone,onChange:v=>u({...c,phone:mi(v.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Tipo Chave PIX"}),l.jsxs("select",{value:c.pix_key_type,onChange:v=>u({...c,pix_key_type:v.target.value}),className:"select",children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Chave PIX"}),l.jsx("input",{value:c.pix_key,onChange:v=>u({...c,pix_key:v.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:c.cep,onChange:v=>u({...c,cep:v.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:c.rua,onChange:v=>u({...c,rua:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:c.numero,onChange:v=>u({...c,numero:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:c.complemento,onChange:v=>u({...c,complemento:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:c.bairro,onChange:v=>u({...c,bairro:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:c.cidade,onChange:v=>u({...c,cidade:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:c.uf,onChange:v=>u({...c,uf:v.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_start,onChange:v=>u({...c,split_start:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_recurrent,onChange:v=>u({...c,split_recurrent:v.target.value}),className:"input"})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[l.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{readOnly:!0,value:h,className:"input",style:{border:"1px solid #10b981"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(h),alert("Link copiado: "+h)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&l.jsx("button",{type:"button",onClick:m,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function r9(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,s]=g.useState(!1),[c,u]=g.useState(null);g.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:w}=await $.from("originators_v2").select("*").order("name");w?console.error("Error fetching originators:",w):t(p||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const p=new Date().toISOString().split("T")[0],{data:w,error:_}=await $.rpc("generate_monthly_commissions",{target_date:p});if(_)throw _;alert(`Processamento concludo!
Faturas processadas: ${w.invoices_processed}
Valor total gerado: R$ ${w.total_commission_value}`)}catch(p){console.error("Error processing commissions:",p),alert("Erro ao processar comisses: "+(p.message||"Erro desconhecido"))}finally{n(!1)}}},m=p=>{u(p),s(!0)},h=()=>{u(null),s(!0)},v=p=>{d()},x=p=>{d()},b=p=>{const w=`${window.location.origin}/clientes?id=${p}`;navigator.clipboard.writeText(w),alert("Link copiado: "+w)},y=e.filter(p=>{var w,_;return((w=p.name)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))||((_=p.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))});return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:"Gesto de Originadores"}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),l.jsxs("button",{onClick:h,className:"btn btn-accent",children:[l.jsx(Ys,{size:18})," Novo Originador"]})]})]}),l.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[l.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:p=>i(p.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),l.jsx(lb,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Chave PIX"}),l.jsx("th",{children:"Link"}),l.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),l.jsx("tbody",{children:y.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):y.map(p=>{var w,_;return l.jsxs("tr",{children:[l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:p.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:p.cpf_cnpj})]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:p.email}),l.jsx("div",{style:{fontSize:"0.9rem"},children:p.phone})]}),l.jsx("td",{children:l.jsxs("span",{className:"badge badge-success",children:[((w=p.split_commission)==null?void 0:w.start)||0,"% / ",((_=p.split_commission)==null?void 0:_.recurrent)||0,"%"]})}),l.jsx("td",{style:{fontSize:"0.9rem"},children:p.pix_key||"-"}),l.jsx("td",{children:l.jsx("button",{onClick:()=>b(p.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:l.jsx(nI,{size:16,color:"var(--color-blue)"})})}),l.jsx("td",{style:{textAlign:"right"},children:l.jsx("button",{onClick:()=>m(p),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:l.jsx($I,{size:18})})})]},p.id)})})]})})}),o&&l.jsx(t9,{originator:c,onClose:()=>s(!1),onSave:v,onDelete:x})]})}function n9({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=or(),[o,s]=g.useState(!1),[c,u]=g.useState([]),[d,f]=g.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});g.useEffect(()=>{var y,p,w,_,j,C,S,E,O;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((y=e.address)==null?void 0:y.cep)||"",rua:((p=e.address)==null?void 0:p.logradouro)||((w=e.address)==null?void 0:w.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((C=e.address)==null?void 0:C.bairro)||"",cidade:((S=e.address)==null?void 0:S.municipio)||((E=e.address)==null?void 0:E.cidade)||"",uf:((O=e.address)==null?void 0:O.uf)||""}),m(e.id))},[e]);const m=async y=>{const{data:p}=await $.from("usinas").select("id, name, status").eq("supplier_id",y);u(p||[])},h=async()=>{const y=d.cnpj.replace(/\D/g,"");if(y.length===14){s(!0);try{const p=await jc(y);p&&f(w=>{var _,j,C,S,E,O,A,N,T;return{...w,name:p.nome||w.name,email:p.email||w.email,phone:p.telefone||w.phone,legal_partner_name:((_=p.legal_partner)==null?void 0:_.nome)||w.legal_partner_name,legal_partner_cpf:((j=p.legal_partner)==null?void 0:j.cpf)||w.legal_partner_cpf,cep:((C=p.address)==null?void 0:C.cep)||w.cep,rua:((S=p.address)==null?void 0:S.logradouro)||w.rua,numero:((E=p.address)==null?void 0:E.numero)||w.numero,complemento:((O=p.address)==null?void 0:O.complemento)||w.complemento,bairro:((A=p.address)==null?void 0:A.bairro)||w.bairro,cidade:((N=p.address)==null?void 0:N.municipio)||w.cidade,uf:((T=p.address)==null?void 0:T.uf)||w.uf}})}catch(p){console.error("Erro CNPJ",p),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{s(!1)}}},v=y=>{const p=y.target.value;let w=d.pix_key;switch(p){case"telefone":w=d.phone;break;case"email":w=d.email;break;case"cnpj":w=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(w=d.legal_partner_cpf);break}f(_=>({..._,pix_key_type:p,pix_key:w}))},x=async y=>{if(y.preventDefault(),d.cnpj&&!ou(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!ro(d.phone)){a("Telefone invlido!","warning");return}s(!0);try{console.log("Submitting payload:",d);const p={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",p);let w;if(e!=null&&e.id?w=await $.from("suppliers").update(p).eq("id",e.id).select().single():w=await $.from("suppliers").insert(p).select().single(),console.log("Supabase result:",w),w.error)throw w.error;r(w.data),t()}catch(p){console.error("Save error details:",p);const w=p.message||JSON.stringify(p);w.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await $.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+w,"error")}finally{s(!1)}},b=async()=>{if(c.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){s(!0);try{const{error:p}=await $.from("suppliers").delete().eq("id",e.id);if(p)throw p;n&&n(e.id),t()}catch(p){a("Erro ao excluir: "+p.message,"error")}finally{s(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),l.jsxs("form",{onSubmit:x,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),l.jsx("input",{value:d.cnpj,onChange:y=>f({...d,cnpj:y.target.value}),onBlur:h,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),l.jsx("input",{required:!0,value:d.name,onChange:y=>f({...d,name:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),l.jsx("input",{value:d.legal_partner_name,onChange:y=>f({...d,legal_partner_name:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),l.jsx("input",{value:d.legal_partner_cpf,onChange:y=>f({...d,legal_partner_cpf:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),l.jsx("input",{value:d.cnpj,onChange:y=>f({...d,cnpj:iu(y.target.value)}),onBlur:h,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{value:d.phone,onChange:y=>f({...d,phone:mi(y.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:d.email,onChange:y=>f({...d,email:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),l.jsxs("select",{value:d.pix_key_type,onChange:v,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),l.jsx("input",{value:d.pix_key,onChange:y=>f({...d,pix_key:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:y=>f({...d,status:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"ativacao",children:"Em Ativao"}),l.jsx("option",{value:"ativo",children:"Ativo"}),l.jsx("option",{value:"inativo",children:"Inativo"})]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),l.jsx("input",{value:d.cep,onChange:y=>f({...d,cep:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:d.rua,onChange:y=>f({...d,rua:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:d.numero,onChange:y=>f({...d,numero:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:d.complemento,onChange:y=>f({...d,complemento:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:d.bairro,onChange:y=>f({...d,bairro:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:d.cidade,onChange:y=>f({...d,cidade:y.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsx("input",{value:d.uf,onChange:y=>f({...d,uf:y.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&c.length>0&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),l.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:c.map(y=>l.jsxs("li",{children:[y.name," - ",l.jsx("span",{style:{opacity:.7},children:y.status})]},y.id))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:b,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function a9(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(!1),[o,s]=g.useState(null);g.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const{data:f,error:m}=await $.from("suppliers").select("*").order("created_at",{ascending:!1});if(m)throw m;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{c(),i(!1)},d=f=>{t(e.filter(m=>m.id!==f)),i(!1)};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Fornecedores (Geradores)"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:e.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome/Razo Social"}),l.jsx("th",{children:"CNPJ"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(f=>{var m;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:f.name}),l.jsx("td",{children:f.cnpj}),l.jsxs("td",{children:[l.jsx("div",{children:f.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(m=f.status)==null?void 0:m.toUpperCase()})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{s(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&l.jsx(n9,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function CT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=CT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ie(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=CT(e))&&(n&&(n+=" "),n+=t);return n}var i9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ab(e){if(typeof e!="string")return!1;var t=i9;return t.includes(e)}var o9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],s9=new Set(o9);function ET(e){return typeof e!="string"?!1:s9.has(e)}function OT(e){return typeof e=="string"&&e.startsWith("data-")}function la(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(ET(r)||OT(r))&&(t[r]=e[r]);return t}function kb(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return la(t)}return typeof e=="object"&&!Array.isArray(e)?la(e):null}function Vr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(ET(r)||OT(r)||Ab(r))&&(t[r]=e[r]);return t}var l9=["children","width","height","viewBox","className","style","title","desc"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(null,arguments)}function c9(e,t){if(e==null)return{};var r,n,a=u9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AT=g.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:s,title:c,desc:u}=e,d=c9(e,l9),f=i||{width:n,height:a,x:0,y:0},m=Ie("recharts-surface",o);return g.createElement("svg",Yv({},Vr(d),{className:m,width:n,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),d9=["children","className"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function f9(e,t){if(e==null)return{};var r,n,a=h9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function h9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ca=g.forwardRef((e,t)=>{var{children:r,className:n}=e,a=f9(e,d9),i=Ie("recharts-layer",n);return g.createElement("g",Xv({className:i},Vr(a),{ref:t}),r)}),m9=g.createContext(null);function Re(e){return function(){return e}}const kT=Math.cos,Pf=Math.sin,gn=Math.sqrt,Mf=Math.PI,im=2*Mf,Zv=Math.PI,Jv=2*Zv,Ni=1e-6,p9=Jv-Ni;function TT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function g9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return TT;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class v9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?TT:g9(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,u=a-r,d=o-t,f=s-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Ni)if(!(Math.abs(f*c-u*d)>Ni)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=a-s,x=c*c+u*u,b=h*h+v*v,y=Math.sqrt(x),p=Math.sqrt(m),w=i*Math.tan((Zv-Math.acos((x+m-b)/(2*y*p)))/2),_=w/p,j=w/y;Math.abs(_-1)>Ni&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),u=t+s,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ni||Math.abs(this._y1-d)>Ni)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%Jv+Jv),m>p9?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Ni&&this._append`A${n},${n},0,${+(m>=Zv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Tb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new v9(t)}function Rb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RT(e){this._context=e}RT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function om(e){return new RT(e)}function NT(e){return e[0]}function DT(e){return e[1]}function PT(e,t){var r=Re(!0),n=null,a=om,i=null,o=Tb(s);e=typeof e=="function"?e:e===void 0?NT:Re(e),t=typeof t=="function"?t:t===void 0?DT:Re(t);function s(c){var u,d=(c=Rb(c)).length,f,m=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function ld(e,t,r){var n=null,a=Re(!0),i=null,o=om,s=null,c=Tb(u);e=typeof e=="function"?e:e===void 0?NT:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?DT:Re(+r);function u(f){var m,h,v,x=(f=Rb(f)).length,b,y=!1,p,w=new Array(x),_=new Array(x);for(i==null&&(s=o(p=c())),m=0;m<=x;++m){if(!(m<x&&a(b=f[m],m,f))===y)if(y=!y)h=m,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=m-1;v>=h;--v)s.point(w[v],_[v]);s.lineEnd(),s.areaEnd()}y&&(w[m]=+e(b,m,f),_[m]=+t(b,m,f),s.point(n?+n(b,m,f):w[m],r?+r(b,m,f):_[m]))}if(p)return s=null,p+""||null}function d(){return PT().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Re(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class MT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function y9(e){return new MT(e,!0)}function b9(e){return new MT(e,!1)}const Nb={draw(e,t){const r=gn(t/Mf);e.moveTo(r,0),e.arc(0,0,r,0,im)}},x9={draw(e,t){const r=gn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},zT=gn(1/3),w9=zT*2,_9={draw(e,t){const r=gn(t/w9),n=r*zT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},j9={draw(e,t){const r=gn(t),n=-r/2;e.rect(n,n,r,r)}},S9=.8908130915292852,BT=Pf(Mf/10)/Pf(7*Mf/10),C9=Pf(im/10)*BT,E9=-kT(im/10)*BT,O9={draw(e,t){const r=gn(t*S9),n=C9*r,a=E9*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=im*i/5,s=kT(o),c=Pf(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},cg=gn(3),A9={draw(e,t){const r=-gn(t/(cg*3));e.moveTo(0,r*2),e.lineTo(-cg*r,-r),e.lineTo(cg*r,-r),e.closePath()}},Rr=-.5,Nr=gn(3)/2,Qv=1/gn(12),k9=(Qv/2+1)*3,T9={draw(e,t){const r=gn(t/k9),n=r/2,a=r*Qv,i=n,o=r*Qv+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(Rr*n-Nr*a,Nr*n+Rr*a),e.lineTo(Rr*i-Nr*o,Nr*i+Rr*o),e.lineTo(Rr*s-Nr*c,Nr*s+Rr*c),e.lineTo(Rr*n+Nr*a,Rr*a-Nr*n),e.lineTo(Rr*i+Nr*o,Rr*o-Nr*i),e.lineTo(Rr*s+Nr*c,Rr*c-Nr*s),e.closePath()}};function R9(e,t){let r=null,n=Tb(a);e=typeof e=="function"?e:Re(e||Nb),t=typeof t=="function"?t:Re(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Re(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Re(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function zf(){}function Bf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IT(e){this._context=e}IT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N9(e){return new IT(e)}function $T(e){this._context=e}$T.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D9(e){return new $T(e)}function LT(e){this._context=e}LT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P9(e){return new LT(e)}function UT(e){this._context=e}UT.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function M9(e){return new UT(e)}function K_(e){return e<0?-1:1}function G_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(K_(i)+K_(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Y_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ug(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function If(e){this._context=e}If.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ug(this,this._t0,Y_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ug(this,Y_(this,r=G_(this,e,t)),r);break;default:ug(this,this._t0,r=G_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function qT(e){this._context=new WT(e)}(qT.prototype=Object.create(If.prototype)).point=function(e,t){If.prototype.point.call(this,t,e)};function WT(e){this._context=e}WT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function z9(e){return new If(e)}function B9(e){return new qT(e)}function HT(e){this._context=e}HT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=X_(e),a=X_(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function X_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function I9(e){return new HT(e)}function sm(e,t){this._context=e,this._t=t}sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $9(e){return new sm(e,.5)}function L9(e){return new sm(e,0)}function U9(e){return new sm(e,1)}function no(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ey(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function q9(e,t){return e[t]}function W9(e){const t=[];return t.key=e,t}function H9(){var e=Re([]),t=ey,r=no,n=q9;function a(i){var o=Array.from(e.apply(this,arguments),W9),s,c=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=Rb(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Re(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Re(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?ey:typeof i=="function"?i:Re(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??no,a):r},a}function F9(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}no(e,t)}}function V9(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}no(e,t)}}function K9(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,v=0;v<s;++v){var x=e[t[v]],b=x[n][1]||0,y=x[n-1][1]||0;h+=b-y}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,no(e,t)}}var lm={},FT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(FT);var Db={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Db);var cm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(cm);var um={},VT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(VT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VT,r=cm;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,c+=a[s]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,s++}return c&&i.push(c),i}e.toPath=n})(um);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT,r=Db,n=cm,a=um;function i(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?r.isDeepKey(c)?i(s,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?u:d}}}function o(s,c,u){if(c.length===0)return u;let d=s;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(lm);var G9=lm.get;const Es=va(G9);var Y9=4;function Ja(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y9,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Fe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var s=r[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Ja(s)+i:a+i},"")}var tr=e=>e===0?0:e>0?1:-1,dn=e=>typeof e=="number"&&e!=+e,ua=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,J=e=>(typeof e=="number"||e instanceof Number)&&!dn(e),Tn=e=>J(e)||typeof e=="string",X9=0,Ec=e=>{var t=++X9;return"".concat(e||"").concat(t)},fn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(t)&&typeof t!="string")return n;var i;if(ua(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return dn(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},KT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Tt(e,t,r){return J(e)&&J(t)?Ja(e+r*(t-e)):t}function Z9(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Es(n,t))===r)}var jt=e=>e===null||typeof e>"u",fu=e=>jt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function J9(e){return e!=null}function hu(){}var Q9=["type","size","sizeType"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(null,arguments)}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){eU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nU(e,t){if(e==null)return{};var r,n,a=aU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GT={symbolCircle:Nb,symbolCross:x9,symbolDiamond:_9,symbolSquare:j9,symbolStar:O9,symbolTriangle:A9,symbolWye:T9},iU=Math.PI/180,oU=e=>{var t="symbol".concat(fu(e));return GT[t]||Nb},sU=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*iU;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lU=(e,t)=>{GT["symbol".concat(fu(e))]=t},YT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=nU(e,Q9),i=J_(J_({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var m=oU(o),h=R9().type(m).size(sU(r,n,o)),v=h();if(v!==null)return v},{className:c,cx:u,cy:d}=i,f=Vr(i);return J(u)&&J(d)&&J(r)?g.createElement("path",ty({},f,{className:Ie("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};YT.registerSymbol=lU;var XT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,cU=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Ab(a)&&(n[a]=i=>r[a](r,i))}),n},uU=(e,t,r)=>n=>(e(t,r,n),null),Pb=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Ab(a)&&typeof i=="function"&&(n||(n={}),n[a]=uU(i,t,r))}),n};function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kr(e,t){var r=dU({},e),n=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return i}var ZT={},JT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],s=n(o,i,r);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(JT);var QT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(QT);var Mb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Mb);var eR={},dm={},tR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(tR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(dm);var rR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(rR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dm,r=rR;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(eR);var nR={},aR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lm;function r(n){return function(a){return t.get(a,n)}}e.property=r})(aR);var iR={},zb={},oR={},Bb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Bb);var Ib={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ib);var $b={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})($b);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bb,r=Ib,n=$b;function a(d,f,m){return typeof m!="function"?a(d,f,()=>{}):i(d,f,function h(v,x,b,y,p,w){const _=m(v,x,b,y,p,w);return _!==void 0?!!_:i(v,x,h,w)},new Map)}function i(d,f,m,h){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,m,h);case"function":return Object.keys(f).length>0?i(d,{...f},m,h):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,m,h){if(f==null)return!0;if(Array.isArray(f))return c(d,f,m,h);if(f instanceof Map)return s(d,f,m,h);if(f instanceof Set)return u(d,f,m,h);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===d;h==null||h.set(f,d);try{for(let x=0;x<v.length;x++){const b=v[x];if(!r.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!m(d[b],f[b],b,d,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function s(d,f,m,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,x]of f.entries()){const b=d.get(v);if(m(b,x,v,d,f,h)===!1)return!1}return!0}function c(d,f,m,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let x=0;x<f.length;x++){const b=f[x];let y=!1;for(let p=0;p<d.length;p++){if(v.has(p))continue;const w=d[p];let _=!1;if(m(w,b,x,d,f,h)&&(_=!0),_){v.add(p),y=!0;break}}if(!y)return!1}return!0}function u(d,f,m,h){return f.size===0?!0:d instanceof Set?c([...d],[...f],m,h):!1}e.isMatchWith=a,e.isSetMatch=u})(oR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oR;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(zb);var sR={},Lb={},lR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(lR);var fm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(fm);var Ub={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",v="[object Error]",x="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",p="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",E="[object BigInt64Array]",O="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=x,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=O,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=C,e.int32ArrayTag=S,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=p,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y})(Ub);var cR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(cR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lR,r=fm,n=Ub,a=Ib,i=cR;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,m,h=new Map,v=void 0){const x=v==null?void 0:v(d,f,m,h);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const b=new Array(d.length);h.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,m,h,v);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;h.set(d,b);for(const[y,p]of d)b.set(y,s(p,y,m,h,v));return b}if(d instanceof Set){const b=new Set;h.set(d,b);for(const y of d)b.add(s(y,void 0,m,h,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,m,h,v);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,b),c(b,d,m,h,v),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return h.set(d,b),c(b,d,m,h,v),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return h.set(d,b),c(b,d,m,h,v),b}if(d instanceof Error){const b=new d.constructor;return h.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,m,h,v),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return h.set(d,b),c(b,d,m,h,v),b}if(d instanceof Number){const b=new Number(d.valueOf());return h.set(d,b),c(b,d,m,h,v),b}if(d instanceof String){const b=new String(d.valueOf());return h.set(d,b),c(b,d,m,h,v),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return h.set(d,b),c(b,d,m,h,v),b}return d}function c(d,f,m=d,h,v){const x=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<x.length;b++){const y=x[b],p=Object.getOwnPropertyDescriptor(d,y);(p==null||p.writable)&&(d[y]=s(f[y],y,m,h,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(Lb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lb;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(sR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zb,r=sR;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(iR);var uR={},dR={},fR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lb,r=fm,n=Ub;function a(i,o){return t.cloneDeepWith(i,(s,c,u,d)=>{const f=o==null?void 0:o(s,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const m={};return d.set(i,m),t.copyProperties(m,i,u,d),m}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=a})(fR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fR;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(dR);var hR={},qb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(qb);var mR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fm;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(mR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Db,r=qb,n=mR,a=um;function i(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?c=a.toPath(s):c=[s],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(hR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zb,r=cm,n=dR,a=lm,i=hR;function o(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(uR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mb,r=aR,n=iR,a=uR;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(nR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JT,r=QT,n=Mb,a=eR,i=nR;function o(s,c=n.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(ZT);var pU=ZT.uniqBy;const ej=va(pU);function gU(e,t,r){return t===!0?ej(e,r):typeof t=="function"?ej(e,t):e}var pR={exports:{}},gR={},vR={exports:{}},yR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=g;function vU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yU=typeof Object.is=="function"?Object.is:vU,bU=Os.useState,xU=Os.useEffect,wU=Os.useLayoutEffect,_U=Os.useDebugValue;function jU(e,t){var r=t(),n=bU({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return wU(function(){a.value=r,a.getSnapshot=t,dg(a)&&i({inst:a})},[e,r,t]),xU(function(){return dg(a)&&i({inst:a}),e(function(){dg(a)&&i({inst:a})})},[e]),_U(r),r}function dg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yU(e,r)}catch{return!0}}function SU(e,t){return t()}var CU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SU:jU;yR.useSyncExternalStore=Os.useSyncExternalStore!==void 0?Os.useSyncExternalStore:CU;vR.exports=yR;var EU=vR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=g,OU=EU;function AU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kU=typeof Object.is=="function"?Object.is:AU,TU=OU.useSyncExternalStore,RU=hm.useRef,NU=hm.useEffect,DU=hm.useMemo,PU=hm.useDebugValue;gR.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=RU(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=DU(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var v=o.value;if(a(v,h))return f=v}return f=h}if(v=f,kU(d,h))return v;var x=n(h);return a!==void 0&&a(v,x)?(d=h,v):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var s=TU(e,i[0],i[1]);return NU(function(){o.hasValue=!0,o.value=s},[s]),PU(s),s};pR.exports=gR;var MU=pR.exports,Wb=g.createContext(null),zU=e=>e,Xe=()=>{var e=g.useContext(Wb);return e?e.store.dispatch:zU},qd=()=>{},BU=()=>qd,IU=(e,t)=>e===t;function te(e){var t=g.useContext(Wb);return MU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:BU,t?t.store.getState:qd,t?t.store.getState:qd,t?e:qd,IU)}function $U(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function LU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function UU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var tj=e=>Array.isArray(e)?e:[e];function qU(e){const t=Array.isArray(e[0])?e[0]:e;return UU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function WU(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var HU=class{constructor(e){this.value=e}deref(){return this.value}},FU=typeof WeakRef<"u"?WeakRef:HU,VU=0,rj=1;function cd(){return{s:VU,v:void 0,o:null,p:null}}function bR(e,t={}){let r=cd();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let s=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=s.o;x===null&&(s.o=x=new WeakMap);const b=x.get(v);b===void 0?(s=cd(),x.set(v,s)):s=b}else{let x=s.p;x===null&&(s.p=x=new Map);const b=x.get(v);b===void 0?(s=cd(),x.set(v,s)):s=b}}const u=s;let d;if(s.s===rj)d=s.v;else if(d=e.apply(null,arguments),i++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,d)&&(d=m,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new FU(d):d}return u.s=rj,u.v=d,d}return o.clearCache=()=>{r=cd(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function KU(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,s,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),$U(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=bR,argsMemoizeOptions:v=[]}=d,x=tj(m),b=tj(v),y=qU(a),p=f(function(){return i++,u.apply(null,arguments)},...x),w=h(function(){o++;const j=WU(y,arguments);return s=p.apply(null,j),s},...b);return Object.assign(w,{resultFunc:u,memoizedResultFunc:p,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var B=KU(bR),GU=Object.assign((e,t=B)=>{LU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>GU}),xR={},wR={},_R={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),s=t(a);if(o===s&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=r})(_R);var jR={},Hb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Hb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(jR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_R,r=jR,n=um;function a(i,o,s,c){if(i==null)return[];s=c?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(h=>String(h));const u=(h,v)=>{let x=h;for(let b=0;b<v.length&&x!=null;++b)x=x[v[b]];return x},d=(h,v)=>v==null||h==null?v:typeof h=="object"&&"key"in h?Object.hasOwn(v,h.key)?v[h.key]:u(v,h.path):typeof h=="function"?h(v):Array.isArray(h)?u(v,h):typeof v=="object"?v[h]:v,f=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:f.map(v=>d(v,h))})).slice().sort((h,v)=>{for(let x=0;x<f.length;x++){const b=t.compareValues(h.criteria[x],v.criteria[x],s[x]);if(b!==0)return b}return 0}).map(h=>h.original)}e.orderBy=a})(wR);var SR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(s,c)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(SR);var Fb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qb,r=dm,n=Bb,a=$b;function i(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?a.isEqualsSameValueZero(c[s],o):!1}e.isIterateeCall=i})(Fb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wR,r=SR,n=Fb;function a(i,...o){const s=o.length;return s>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(xR);var YU=xR.sortBy;const mm=va(YU);var CR=e=>e.legend.settings,XU=e=>e.legend.size,ZU=e=>e.legend.payload;B([ZU,CR],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?mm(n,r):n});var ud=1;function JU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ud||Math.abs(o.left-t.left)>ud||Math.abs(o.top-t.top)>ud||Math.abs(o.width-t.width)>ud)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ot(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QU=typeof Symbol=="function"&&Symbol.observable||"@@observable",nj=QU,fg=()=>Math.random().toString(36).substring(7).split("").join("."),e7={INIT:`@@redux/INIT${fg()}`,REPLACE:`@@redux/REPLACE${fg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fg()}`},$f=e7;function Vb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ER(e,t,r){if(typeof e!="function")throw new Error(Ot(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ot(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ot(1));return r(ER)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((b,y)=>{o.set(y,b)}))}function d(){if(c)throw new Error(Ot(3));return a}function f(b){if(typeof b!="function")throw new Error(Ot(4));if(c)throw new Error(Ot(5));let y=!0;u();const p=s++;return o.set(p,b),function(){if(y){if(c)throw new Error(Ot(6));y=!1,u(),o.delete(p),i=null}}}function m(b){if(!Vb(b))throw new Error(Ot(7));if(typeof b.type>"u")throw new Error(Ot(8));if(typeof b.type!="string")throw new Error(Ot(17));if(c)throw new Error(Ot(9));try{c=!0,a=n(a,b)}finally{c=!1}return(i=o).forEach(p=>{p()}),b}function h(b){if(typeof b!="function")throw new Error(Ot(10));n=b,m({type:$f.REPLACE})}function v(){const b=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ot(11));function p(){const _=y;_.next&&_.next(d())}return p(),{unsubscribe:b(p)}},[nj](){return this}}}return m({type:$f.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[nj]:v}}function t7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$f.INIT})>"u")throw new Error(Ot(12));if(typeof r(void 0,{type:$f.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ot(13))})}function OR(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{t7(r)}catch(i){a=i}return function(o={},s){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=o[f],v=m(h,s);if(typeof v>"u")throw s&&s.type,new Error(Ot(14));u[f]=v,c=c||v!==h}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Lf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function r7(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ot(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},s=e.map(c=>c(o));return i=Lf(...s)(a.dispatch),{...a,dispatch:i}}}function AR(e){return Vb(e)&&"type"in e&&typeof e.type=="string"}var kR=Symbol.for("immer-nothing"),aj=Symbol.for("immer-draftable"),Kt=Symbol.for("immer-state");function an(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xr=Object,As=xr.getPrototypeOf,Uf="constructor",pm="prototype",ry="configurable",qf="enumerable",Wd="writable",Oc="value",da=e=>!!e&&!!e[Kt];function hn(e){var t;return e?TR(e)||vm(e)||!!e[aj]||!!((t=e[Uf])!=null&&t[aj])||ym(e)||bm(e):!1}var n7=xr[pm][Uf].toString(),ij=new WeakMap;function TR(e){if(!e||!Kb(e))return!1;const t=As(e);if(t===null||t===xr[pm])return!0;const r=xr.hasOwnProperty.call(t,Uf)&&t[Uf];if(r===Object)return!0;if(!Uo(r))return!1;let n=ij.get(r);return n===void 0&&(n=Function.toString.call(r),ij.set(r,n)),n===n7}function gm(e,t,r=!0){mu(e)===0?(r?Reflect.ownKeys(e):xr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function mu(e){const t=e[Kt];return t?t.type_:vm(e)?1:ym(e)?2:bm(e)?3:0}var oj=(e,t,r=mu(e))=>r===2?e.has(t):xr[pm].hasOwnProperty.call(e,t),ny=(e,t,r=mu(e))=>r===2?e.get(t):e[t],Wf=(e,t,r,n=mu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function a7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var vm=Array.isArray,ym=e=>e instanceof Map,bm=e=>e instanceof Set,Kb=e=>typeof e=="object",Uo=e=>typeof e=="function",hg=e=>typeof e=="boolean";function i7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Wn=e=>e.copy_||e.base_,Gb=e=>e.modified_?e.copy_:e.base_;function ay(e,t){if(ym(e))return new Map(e);if(bm(e))return new Set(e);if(vm(e))return Array[pm].slice.call(e);const r=TR(e);if(t===!0||t==="class_only"&&!r){const n=xr.getOwnPropertyDescriptors(e);delete n[Kt];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s[Wd]===!1&&(s[Wd]=!0,s[ry]=!0),(s.get||s.set)&&(n[o]={[ry]:!0,[Wd]:!0,[qf]:s[qf],[Oc]:e[o]})}return xr.create(As(e),n)}else{const n=As(e);if(n!==null&&r)return{...e};const a=xr.create(n);return xr.assign(a,e)}}function Yb(e,t=!1){return xm(e)||da(e)||!hn(e)||(mu(e)>1&&xr.defineProperties(e,{set:dd,add:dd,clear:dd,delete:dd}),xr.freeze(e),t&&gm(e,(r,n)=>{Yb(n,!0)},!1)),e}function o7(){an(2)}var dd={[Oc]:o7};function xm(e){return e===null||!Kb(e)?!0:xr.isFrozen(e)}var Hf="MapSet",iy="Patches",sj="ArrayMethods",RR={};function ao(e){const t=RR[e];return t||an(0,e),t}var lj=e=>!!RR[e],Ac,NR=()=>Ac,s7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:lj(Hf)?ao(Hf):void 0,arrayMethodsPlugin_:lj(sj)?ao(sj):void 0});function cj(e,t){t&&(e.patchPlugin_=ao(iy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function oy(e){sy(e),e.drafts_.forEach(l7),e.drafts_=null}function sy(e){e===Ac&&(Ac=e.parent_)}var uj=e=>Ac=s7(Ac,e);function l7(e){const t=e[Kt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Kt].modified_&&(oy(t),an(4)),hn(e)&&(e=fj(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Kt].base_,e,t)}else e=fj(t,r);return c7(t,e,!0),oy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kR?e:void 0}function fj(e,t){if(xm(t))return t;const r=t[Kt];if(!r)return Ff(t,e.handledSet_,e);if(!wm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);MR(r,e)}return r.copy_}function c7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Yb(t,r)}function DR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var wm=(e,t)=>e.scope_===t,u7=[];function PR(e,t,r,n){const a=Wn(e),i=e.type_;if(n!==void 0&&ny(a,n,i)===t){Wf(a,n,r,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;gm(a,(c,u)=>{if(da(u)){const d=s.get(u)||[];d.push(c),s.set(u,d)}})}const o=e.draftLocations_.get(t)??u7;for(const s of o)Wf(a,s,r,i)}function d7(e,t,r){e.callbacks_.push(function(a){var s;const i=t;if(!i||!wm(i,a))return;(s=a.mapSetPlugin_)==null||s.fixSetContents(i);const o=Gb(i);PR(e,i.draft_??i,o,r),MR(i,a)})}function MR(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}DR(e)}}function f7(e,t,r){const{scope_:n}=e;if(da(r)){const a=r[Kt];wm(a,n)&&a.callbacks_.push(function(){Hd(e);const o=Gb(a);PR(e,r,o,t)})}else hn(r)&&e.callbacks_.push(function(){const i=Wn(e);e.type_===3?i.has(r)&&Ff(r,n.handledSet_,n):ny(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ff(ny(e.copy_,t,e.type_),n.handledSet_,n)})}function Ff(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||da(e)||t.has(e)||!hn(e)||xm(e)||(t.add(e),gm(e,(n,a)=>{if(da(a)){const i=a[Kt];if(wm(i,r)){const o=Gb(i);Wf(e,n,o,e.type_),DR(i)}}else hn(a)&&Ff(a,t,r)})),e}function h7(e,t){const r=vm(e),n={type_:r?1:0,scope_:t?t.scope_:NR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Vf;r&&(a=[n],i=kc);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,[s,n]}var Vf={get(e,t){if(t===Kt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Wn(e);if(!oj(a,t,e.type_))return m7(e,a,t);const i=a[t];if(e.finalized_||!hn(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&i7(t))return i;if(i===mg(e.base_,t)){Hd(e);const o=e.type_===1?+t:t,s=cy(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in Wn(e)},ownKeys(e){return Reflect.ownKeys(Wn(e))},set(e,t,r){const n=zR(Wn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=mg(Wn(e),t),i=a==null?void 0:a[Kt];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(a7(r,a)&&(r!==void 0||oj(e.base_,t,e.type_)))return!0;Hd(e),ly(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),f7(e,t,r)),!0},deleteProperty(e,t){return Hd(e),mg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ly(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Wd]:!0,[ry]:e.type_!==1||t!=="length",[qf]:n[qf],[Oc]:r[t]}},defineProperty(){an(11)},getPrototypeOf(e){return As(e.base_)},setPrototypeOf(){an(12)}},kc={};for(let e in Vf){let t=Vf[e];kc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}kc.deleteProperty=function(e,t){return kc.set.call(this,e,t,void 0)};kc.set=function(e,t,r){return Vf.set.call(this,e[0],t,r,e[0])};function mg(e,t){const r=e[Kt];return(r?Wn(r):e)[t]}function m7(e,t,r){var a;const n=zR(t,r);return n?Oc in n?n[Oc]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function zR(e,t){if(!(t in e))return;let r=As(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=As(r)}}function ly(e){e.modified_||(e.modified_=!0,e.parent_&&ly(e.parent_))}function Hd(e){e.copy_||(e.assigned_=new Map,e.copy_=ay(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var p7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Uo(r)&&!Uo(n)){const o=n;n=r;const s=this;return function(u=o,...d){return s.produce(u,f=>n.call(this,f,...d))}}Uo(n)||an(6),a!==void 0&&!Uo(a)&&an(7);let i;if(hn(r)){const o=uj(this),s=cy(o,r,void 0);let c=!0;try{i=n(s),c=!1}finally{c?oy(o):sy(o)}return cj(o,a),dj(i,o)}else if(!r||!Kb(r)){if(i=n(r),i===void 0&&(i=r),i===kR&&(i=void 0),this.autoFreeze_&&Yb(i,!0),a){const o=[],s=[];ao(iy).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:s}),a(o,s)}return i}else an(1,r)},this.produceWithPatches=(r,n)=>{if(Uo(r))return(s,...c)=>this.produceWithPatches(s,u=>r(u,...c));let a,i;return[this.produce(r,n,(s,c)=>{a=s,i=c}),a,i]},hg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),hg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),hg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){hn(t)||an(8),da(t)&&(t=ln(t));const r=uj(this),n=cy(r,t,void 0);return n[Kt].isManual_=!0,sy(r),n}finishDraft(t,r){const n=t&&t[Kt];(!n||!n.isManual_)&&an(9);const{scope_:a}=n;return cj(a,r),dj(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=ao(iy).applyPatches_;return da(t)?a(t,r):this.produce(t,i=>a(i,r))}};function cy(e,t,r,n){const[a,i]=ym(t)?ao(Hf).proxyMap_(t,r):bm(t)?ao(Hf).proxySet_(t,r):h7(t,r);return((r==null?void 0:r.scope_)??NR()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?d7(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function ln(e){return da(e)||an(10,e),BR(e)}function BR(e){if(!hn(e)||xm(e))return e;const t=e[Kt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ay(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ay(e,!0);return gm(r,(a,i)=>{Wf(r,a,BR(i))},n),t&&(t.finalized_=!1),r}var g7=new p7,IR=g7.produce;function $R(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var v7=$R(),y7=$R,b7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lf:Lf.apply(null,arguments)};function Kr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Cr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>AR(n)&&n.type===e,r}var LR=class Pl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pl.prototype)}static get[Symbol.species](){return Pl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pl(...t[0].concat(this)):new Pl(...t.concat(this))}};function hj(e){return hn(e)?IR(e,()=>{}):e}function fd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function x7(e){return typeof e=="boolean"}var w7=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new LR;return r&&(x7(r)?o.push(v7):o.push(y7(r.extraArgument))),o},UR="RTK_autoBatch",Le=()=>e=>({payload:e,meta:{[UR]:!0}}),mj=e=>t=>{setTimeout(t,e)},qR=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mj(10):e.type==="callback"?e.queueNotification:mj(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return s.add(d),()=>{m(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[UR]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},_7=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new LR(e);return n&&a.push(qR(typeof n=="object"?n:void 0)),a};function j7(e){const t=w7(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Vb(r))s=OR(r);else throw new Error(Cr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Lf;a&&(u=b7({trace:!1,...typeof a=="object"&&a}));const d=r7(...c),f=_7(d);let m=typeof o=="function"?o(f):f();const h=u(...m);return ER(s,i,h)}function WR(e){const t={},r=[];let n;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(Cr(28));if(s in t)throw new Error(Cr(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function S7(e){return typeof e=="function"}function C7(e,t){let[r,n,a]=WR(t),i;if(S7(e))i=()=>hj(e());else{const s=hj(e);i=()=>s}function o(s=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(da(d)){const h=f(d,c);return h===void 0?d:h}else{if(hn(d))return IR(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},s)}return o.getInitialState=i,o}var E7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",O7=(e=21)=>{let t="",r=e;for(;r--;)t+=E7[Math.random()*64|0];return t},A7=Symbol.for("rtk-slice-createasyncthunk");function k7(e,t){return`${e}/${t}`}function T7({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[A7];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(Cr(11));const s=(typeof a.reducers=="function"?a.reducers(N7()):a.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const C=typeof _=="string"?_:_.type;if(!C)throw new Error(Cr(12));if(C in u.sliceCaseReducersByType)throw new Error(Cr(13));return u.sliceCaseReducersByType[C]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=s[_],C={reducerName:_,type:k7(i,_),createNotation:typeof a.reducers=="function"};P7(j)?z7(C,j,d,t):D7(C,j,d)});function f(){const[_={},j=[],C=void 0]=typeof a.extraReducers=="function"?WR(a.extraReducers):[a.extraReducers],S={..._,...u.sliceCaseReducersByType};return C7(a.initialState,E=>{for(let O in S)E.addCase(O,S[O]);for(let O of u.sliceMatchers)E.addMatcher(O.matcher,O.reducer);for(let O of j)E.addMatcher(O.matcher,O.reducer);C&&E.addDefaultCase(C)})}const m=_=>_,h=new Map,v=new WeakMap;let x;function b(_,j){return x||(x=f()),x(_,j)}function y(){return x||(x=f()),x.getInitialState()}function p(_,j=!1){function C(E){let O=E[_];return typeof O>"u"&&j&&(O=fd(v,C,y)),O}function S(E=m){const O=fd(h,j,()=>new WeakMap);return fd(O,E,()=>{const A={};for(const[N,T]of Object.entries(a.selectors??{}))A[N]=R7(T,E,()=>fd(v,E,y),j);return A})}return{reducerPath:_,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const w={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...p(o),injectInto(_,{reducerPath:j,...C}={}){const S=j??o;return _.inject({reducerPath:S,reducer:b},C),{...w,...p(S,!0)}}};return w}}function R7(e,t,r,n){function a(i,...o){let s=t(i);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return a.unwrapped=e,a}var sr=T7();function N7(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function D7({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!M7(n))throw new Error(Cr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Kr(e,o):Kr(e))}function P7(e){return e._reducerDefinitionType==="asyncThunk"}function M7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function z7({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Cr(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),s&&n.addCase(f.pending,s),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||hd,pending:s||hd,rejected:c||hd,settled:u||hd})}function hd(){}var B7="task",HR="listener",FR="completed",Xb="cancelled",I7=`task-${Xb}`,$7=`task-${FR}`,uy=`${HR}-${Xb}`,L7=`${HR}-${FR}`,_m=class{constructor(e){up(this,"name","TaskAbortError");up(this,"message");this.code=e,this.message=`${B7} ${Xb} (reason: ${e})`}},Zb=(e,t)=>{if(typeof e!="function")throw new TypeError(Cr(32))},Kf=()=>{},VR=(e,t=Kf)=>(e.catch(t),e),KR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Gi=e=>{if(e.aborted)throw new _m(e.reason)};function GR(e,t){let r=Kf;return new Promise((n,a)=>{const i=()=>a(new _m(e.reason));if(e.aborted){i();return}r=KR(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Kf})}var U7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof _m?"cancelled":"rejected",error:r}}finally{t==null||t()}},Gf=e=>t=>VR(GR(e,t).then(r=>(Gi(e),r))),YR=e=>{const t=Gf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ds}=Object,pj={},jm="listenerMiddleware",q7=(e,t)=>{const r=n=>KR(e,()=>n.abort(e.reason));return(n,a)=>{Zb(n);const i=new AbortController;r(i);const o=U7(async()=>{Gi(e),Gi(i.signal);const s=await n({pause:Gf(i.signal),delay:YR(i.signal),signal:i.signal});return Gi(i.signal),s},()=>i.abort($7));return a!=null&&a.autoJoin&&t.push(o.catch(Kf)),{result:Gf(e)(o),cancel(){i.abort(I7)}}}},W7=(e,t)=>{const r=async(n,a)=>{Gi(t);let i=()=>{};const s=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&s.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await GR(t,Promise.race(s));return Gi(t),c}finally{i()}};return(n,a)=>VR(r(n,a))},XR=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Kr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Cr(21));return Zb(i),{predicate:a,type:t,effect:i}},ZR=ds(e=>{const{type:t,predicate:r,effect:n}=XR(e);return{id:O7(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Cr(22))}}},{withTypes:()=>ZR}),gj=(e,t)=>{const{type:r,effect:n,predicate:a}=XR(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},dy=e=>{e.pending.forEach(t=>{t.abort(uy)})},H7=(e,t)=>()=>{for(const r of t.keys())dy(r);e.clear()},vj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},JR=ds(Kr(`${jm}/add`),{withTypes:()=>JR}),F7=Kr(`${jm}/removeAll`),QR=ds(Kr(`${jm}/remove`),{withTypes:()=>QR}),V7=(...e)=>{console.error(`${jm}/error`,...e)},pu=(e={})=>{const t=new Map,r=new Map,n=h=>{const v=r.get(h)??0;r.set(h,v+1)},a=h=>{const v=r.get(h)??1;v===1?r.delete(h):r.set(h,v-1)},{extra:i,onError:o=V7}=e;Zb(o);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),v=>{h.unsubscribe(),v!=null&&v.cancelActive&&dy(h)}),c=h=>{const v=gj(t,h)??ZR(h);return s(v)};ds(c,{withTypes:()=>c});const u=h=>{const v=gj(t,h);return v&&(v.unsubscribe(),h.cancelActive&&dy(v)),!!v};ds(u,{withTypes:()=>u});const d=async(h,v,x,b)=>{const y=new AbortController,p=W7(c,y.signal),w=[];try{h.pending.add(y),n(h),await Promise.resolve(h.effect(v,ds({},x,{getOriginalState:b,condition:(_,j)=>p(_,j).then(Boolean),take:p,delay:YR(y.signal),pause:Gf(y.signal),extra:i,signal:y.signal,fork:q7(y.signal,w),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((_,j,C)=>{_!==y&&(_.abort(uy),C.delete(_))})},cancel:()=>{y.abort(uy),h.pending.delete(y)},throwIfCancelled:()=>{Gi(y.signal)}})))}catch(_){_ instanceof _m||vj(o,_,{raisedBy:"effect"})}finally{await Promise.all(w),y.abort(L7),a(h),h.pending.delete(y)}},f=H7(t,r);return{middleware:h=>v=>x=>{if(!AR(x))return v(x);if(JR.match(x))return c(x.payload);if(F7.match(x)){f();return}if(QR.match(x))return u(x.payload);let b=h.getState();const y=()=>{if(b===pj)throw new Error(Cr(23));return b};let p;try{if(p=v(x),t.size>0){const w=h.getState(),_=Array.from(t.values());for(const j of _){let C=!1;try{C=j.predicate(x,w,b)}catch(S){C=!1,vj(o,S,{raisedBy:"predicate"})}C&&d(j,x,h,y)}}}finally{b=pj}return p},startListening:c,stopListening:u,clearListeners:f}};function Cr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eN=sr({name:"chartLayout",initialState:K7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:G7,setLayout:Y7,setChartSize:X7,setScale:Z7}=eN.actions,J7=eN.reducer;function tN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function We(e){return Number.isFinite(e)}function Rn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t,r){return jt(e)||jt(t)?r:Tn(t)?Es(e,t,r):typeof t=="function"?t(e):r}var rq=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&J(e[i]))return es(es({},e),{},{[i]:e[i]+(n||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&J(e[o]))return es(es({},e),{},{[o]:e[o]+(a||0)})}return e},yo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",rN=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===r&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(r),o},nN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:h}=e;if(!o)return null;var v=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(x=h==="angleAxis"&&i&&i.length>=2?tr(i[0]-i[1])*2*x:x,f||m){var b=(f||m||[]).map((y,p)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+x,value:y,offset:x,index:p}});return b.filter(y=>!dn(y.coordinate))}return c&&u?u.map((y,p)=>({coordinate:o(y)+x,value:y,index:p,offset:x})):o.ticks&&d!=null?o.ticks(d).map((y,p)=>({coordinate:o(y)+x,value:y,offset:x,index:p})):o.domain().map((y,p)=>({coordinate:o(y)+x,value:n?n[y]:y,index:p,offset:x}))},bj=1e-4,nq=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-bj,i=Math.max(n[0],n[1])+bj,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},aq=(e,t)=>{if(!t||t.length!==2||!J(t[0])||!J(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!J(e[0])||e[0]<r)&&(a[0]=r),(!J(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},iq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,s=0;s<r;++s){var c=e[s],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],m=dn(d)?f:d;m>=0?(u[0]=i,u[1]=i+m,i=d):(u[0]=o,u[1]=o+m,o=d)}}}},oq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var s=e[o],c=s==null?void 0:s[a];if(c!=null){var u=dn(c[1])?c[0]:c[1];u>=0?(c[0]=i,c[1]=i+u,i=c[1]):(c[0]=0,c[1]=0)}}}},sq={sign:iq,expand:F9,none:no,silhouette:V9,wiggle:K9,positive:oq},lq=(e,t,r)=>{var n,a=(n=sq[r])!==null&&n!==void 0?n:no,i=H9().keys(t).value((s,c)=>Number(zt(s,c,0))).order(ey).offset(a),o=i(e);return o.forEach((s,c)=>{s.forEach((u,d)=>{var f=zt(e[d],t[c],0);Array.isArray(f)&&f.length===2&&J(f[0])&&J(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function cq(e){return e==null?void 0:String(e)}var xj=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=zt(i,t.dataKey,t.scale.domain()[o]);return jt(s)?null:t.scale(s)-a/2+n},uq=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},dq=e=>{var t=e.flat(2).filter(J);return[Math.min(...t),Math.max(...t)]},fq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hq=(e,t,r)=>{if(e!=null)return fq(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,s=o.reduce((c,u)=>{var d=tN(u,t,r),f=dq(d);return!We(f[0])||!We(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},wj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_j=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=mm(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var c=a[o],u=a[o-1];i=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function jj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return es(es({},t),{},{dataKey:r,payload:n,value:a,name:i})}function aN(e,t){if(e)return String(e);if(typeof t=="string")return t}var mq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},pq=(e,t)=>t==="centric"?e.angle:e.radius,ba=e=>e.layout.width,xa=e=>e.layout.height,gq=e=>e.layout.scale,iN=e=>e.layout.margin,Sm=B(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Cm=B(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),vq="data-recharts-item-index",yq="data-recharts-item-id",gu=60;function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return(t=xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _q=e=>e.brush.height;function jq(e){var t=Cm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:gu;return r+a}return r},0)}function Sq(e){var t=Cm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:gu;return r+a}return r},0)}function Cq(e){var t=Sm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Eq(e){var t=Sm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var St=B([ba,xa,iN,_q,jq,Sq,Cq,Eq,CR,XU],(e,t,r,n,a,i,o,s,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+s},m=md(md({},f),d),h=m.bottom;m.bottom+=n,m=rq(m,c,u);var v=e-m.left-m.right,x=t-m.top-m.bottom;return md(md({brushBottom:h},m),{},{width:Math.max(v,0),height:Math.max(x,0)})}),Oq=B(St,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Jb=B(ba,xa,(e,t)=>({x:0,y:0,width:e,height:t})),Aq=g.createContext(null),lr=()=>g.useContext(Aq)!=null,Em=e=>e.brush,Om=B([Em,St,iN],(e,t,r)=>({height:e.height,x:J(e.x)?e.x:t.left,y:J(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:J(e.width)?e.width:t.width})),oN={},sN={},lN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,s=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),x()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},v=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{v(),o=void 0,s=null},b=()=>{d()},y=function(...p){if(a!=null&&a.aborted)return;o=this,s=p;const w=m==null;h(),c&&w&&d()};return y.schedule=h,y.cancel=x,y.flush=b,a==null||a.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(lN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),h=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,x),d)},v=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=v,h}e.debounce=r})(sN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sN;function r(n,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:s})}e.throttle=r})(oN);var kq=oN.throttle;const Tq=va(kq);var Xf=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},cN=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,s=ua(n)?e:Number(n),c=ua(a)?t:Number(a);return i&&i>0&&(s?c=s/i:c&&(s=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},Rq={width:0,height:0,overflow:"visible"},Nq={width:0,overflowX:"visible"},Dq={height:0,overflowY:"visible"},Pq={},Mq=e=>{var{width:t,height:r}=e,n=ua(t),a=ua(r);return n&&a?Rq:n?Nq:a?Dq:Pq};function zq(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(null,arguments)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){Bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bq(e,t,r){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uN=g.createContext({width:-1,height:-1});function Lq(e){return Rn(e.width)&&Rn(e.height)}function dN(e){var{children:t,width:r,height:n}=e,a=g.useMemo(()=>({width:r,height:n}),[r,n]);return Lq(a)?g.createElement(uN.Provider,{value:a},t):null}var Qb=()=>g.useContext(uN),Uq=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:c,children:u,debounce:d=0,id:f,className:m,onResize:h,style:v={}}=e,x=g.useRef(null),b=g.useRef();b.current=h,g.useImperativeHandle(t,()=>x.current);var[y,p]=g.useState({containerWidth:n.width,containerHeight:n.height}),w=g.useCallback((E,O)=>{p(A=>{var N=Math.round(E),T=Math.round(O);return A.containerWidth===N&&A.containerHeight===T?A:{containerWidth:N,containerHeight:T}})},[]);g.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return hu;var E=T=>{var z,{width:L,height:H}=T[0].contentRect;w(L,H),(z=b.current)===null||z===void 0||z.call(b,L,H)};d>0&&(E=Tq(E,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(E),{width:A,height:N}=x.current.getBoundingClientRect();return w(A,N),O.observe(x.current),()=>{O.disconnect()}},[w,d]);var{containerWidth:_,containerHeight:j}=y;Xf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:S}=cN(_,j,{width:a,height:i,aspect:r,maxHeight:c});return Xf(C!=null&&C>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,S,a,i,o,s,r),g.createElement("div",{id:f?"".concat(f):void 0,className:Ie("recharts-responsive-container",m),style:Ej(Ej({},v),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:c}),ref:x},g.createElement("div",{style:Mq({width:a,height:i})},g.createElement(dN,{width:C,height:S},u)))}),qq=g.forwardRef((e,t)=>{var r=Qb();if(Rn(r.width)&&Rn(r.height))return e.children;var{width:n,height:a}=zq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=cN(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return J(i)&&J(o)?g.createElement(dN,{width:i,height:o},e.children):g.createElement(Uq,fy({},e,{width:n,height:a,ref:t}))});function fN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Am=()=>{var e,t=lr(),r=te(Oq),n=te(Om),a=(e=te(Em))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Wq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hN=()=>{var e;return(e=te(St))!==null&&e!==void 0?e:Wq},mN=()=>te(ba),pN=()=>te(xa),je=e=>e.layout.layoutType,vu=()=>te(je),Hq=()=>{var e=vu();return e!==void 0},km=e=>{var t=Xe(),r=lr(),{width:n,height:a}=e,i=Qb(),o=n,s=a;return i&&(o=i.width>0?i.width:n,s=i.height>0?i.height:a),g.useEffect(()=>{!r&&Rn(o)&&Rn(s)&&t(X7({width:o,height:s}))},[t,r,o,s]),null},gN=Symbol.for("immer-nothing"),Oj=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function on(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tc=Object.getPrototypeOf;function ks(e){return!!e&&!!e[Ar]}function io(e){var t;return e?vN(e)||Array.isArray(e)||!!e[Oj]||!!((t=e.constructor)!=null&&t[Oj])||yu(e)||Rm(e):!1}var Fq=Object.prototype.constructor.toString(),Aj=new WeakMap;function vN(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Aj.get(r);return n===void 0&&(n=Function.toString.call(r),Aj.set(r,n)),n===Fq}function Zf(e,t,r=!0){Tm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Tm(e){const t=e[Ar];return t?t.type_:Array.isArray(e)?1:yu(e)?2:Rm(e)?3:0}function hy(e,t){return Tm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yN(e,t,r){const n=Tm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Vq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yu(e){return e instanceof Map}function Rm(e){return e instanceof Set}function Di(e){return e.copy_||e.base_}function my(e,t){if(yu(e))return new Map(e);if(Rm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=vN(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ar];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Tc(e),n)}else{const n=Tc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function ex(e,t=!1){return Nm(e)||ks(e)||!io(e)||(Tm(e)>1&&Object.defineProperties(e,{set:pd,add:pd,clear:pd,delete:pd}),Object.freeze(e),t&&Object.values(e).forEach(r=>ex(r,!0))),e}function Kq(){on(2)}var pd={value:Kq};function Nm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Gq={};function oo(e){const t=Gq[e];return t||on(0,e),t}var Rc;function bN(){return Rc}function Yq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kj(e,t){t&&(oo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function py(e){gy(e),e.drafts_.forEach(Xq),e.drafts_=null}function gy(e){e===Rc&&(Rc=e.parent_)}function Tj(e){return Rc=Yq(Rc,e)}function Xq(e){const t=e[Ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Rj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ar].modified_&&(py(t),on(4)),io(e)&&(e=Jf(t,e),t.parent_||Qf(t,e)),t.patches_&&oo("Patches").generateReplacementPatches_(r[Ar].base_,e,t.patches_,t.inversePatches_)):e=Jf(t,r,[]),py(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gN?e:void 0}function Jf(e,t,r){if(Nm(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ar];if(!a)return Zf(t,(i,o)=>Nj(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Qf(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Zf(o,(c,u)=>Nj(e,a,i,c,u,r,s),n),Qf(e,i,!1),r&&e.patches_&&oo("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function Nj(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=Nm(a);if(!(s&&!o)){if(ks(a)){const c=i&&t&&t.type_!==3&&!hy(t.assigned_,n)?i.concat(n):void 0,u=Jf(e,a,c);if(yN(r,n,u),ks(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(io(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&s)return;Jf(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(yu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Qf(e,a)}}}function Qf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ex(t,r)}function Zq(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:bN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=tx;r&&(a=[n],i=Nc);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}var tx={get(e,t){if(t===Ar)return e;const r=Di(e);if(!hy(r,t))return Jq(e,r,t);const n=r[t];return e.finalized_||!io(n)?n:n===pg(e.base_,t)?(gg(e),e.copy_[t]=yy(n,e)):n},has(e,t){return t in Di(e)},ownKeys(e){return Reflect.ownKeys(Di(e))},set(e,t,r){const n=xN(Di(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=pg(Di(e),t),i=a==null?void 0:a[Ar];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Vq(r,a)&&(r!==void 0||hy(e.base_,t)))return!0;gg(e),vy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gg(e),vy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Di(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){on(11)},getPrototypeOf(e){return Tc(e.base_)},setPrototypeOf(){on(12)}},Nc={};Zf(tx,(e,t)=>{Nc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nc.deleteProperty=function(e,t){return Nc.set.call(this,e,t,void 0)};Nc.set=function(e,t,r){return tx.set.call(this,e[0],t,r,e[0])};function pg(e,t){const r=e[Ar];return(r?Di(r):e)[t]}function Jq(e,t,r){var a;const n=xN(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function xN(e,t){if(!(t in e))return;let r=Tc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Tc(r)}}function vy(e){e.modified_||(e.modified_=!0,e.parent_&&vy(e.parent_))}function gg(e){e.copy_||(e.copy_=my(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Qq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&on(6),n!==void 0&&typeof n!="function"&&on(7);let a;if(io(t)){const i=Tj(this),o=yy(t,void 0);let s=!0;try{a=r(o),s=!1}finally{s?py(i):gy(i)}return kj(i,n),Rj(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===gN&&(a=void 0),this.autoFreeze_&&ex(a,!0),n){const i=[],o=[];oo("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else on(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,a;return[this.produce(t,r,(o,s)=>{n=o,a=s}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){io(e)||on(8),ks(e)&&(e=eW(e));const t=Tj(this),r=yy(e,void 0);return r[Ar].isManual_=!0,gy(t),r}finishDraft(e,t){const r=e&&e[Ar];(!r||!r.isManual_)&&on(9);const{scope_:n}=r;return kj(n,t),Rj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=oo("Patches").applyPatches_;return ks(e)?n(e,t):this.produce(e,a=>n(a,t))}};function yy(e,t){const r=yu(e)?oo("MapSet").proxyMap_(e,t):Rm(e)?oo("MapSet").proxySet_(e,t):Zq(e,t);return(t?t.scope_:bN()).drafts_.push(r),r}function eW(e){return ks(e)||on(10,e),wN(e)}function wN(e){if(!io(e)||Nm(e))return e;const t=e[Ar];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=my(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=my(e,!0);return Zf(r,(a,i)=>{yN(r,a,wN(i))},n),t&&(t.finalized_=!1),r}var tW=new Qq;tW.produce;var rW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_N=sr({name:"legend",initialState:rW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Le()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ln(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Le()},removeLegendPayload:{reducer(e,t){var r=ln(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Le()}}}),{setLegendSize:Mre,setLegendSettings:zre,addLegendPayload:nW,replaceLegendPayload:aW,removeLegendPayload:iW}=_N.actions,oW=_N.reducer;function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(null,arguments)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){sW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uW(e){return Array.isArray(e)&&Tn(e[0])&&Tn(e[1])?e.join(" ~ "):e}var dW=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=!1}=e,h=()=>{if(i&&i.length){var j={padding:0,margin:0},C=(s?mm(i,s):i).map((S,E)=>{if(S.type==="none")return null;var O=S.formatter||o||uW,{value:A,name:N}=S,T=A,z=N;if(O){var L=O(A,N,S,E,i);if(Array.isArray(L))[T,z]=L;else if(L!=null)T=L;else return null}var H=vg({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:H},Tn(z)?g.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Tn(z)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},T),g.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},C)}return null},v=vg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=vg({margin:0},a),b=!jt(d),y=b?d:"",p=Ie("recharts-default-tooltip",c),w=Ie("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(y=f(d,i));var _=m?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",by({className:p,style:v},_),g.createElement("p",{className:w,style:x},g.isValidElement(y)?y:"".concat(y)),h())},xl="recharts-tooltip-wrapper",fW={visibility:"hidden"};function hW(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ie(xl,{["".concat(xl,"-right")]:J(r)&&t&&J(t.x)&&r>=t.x,["".concat(xl,"-left")]:J(r)&&t&&J(t.x)&&r<t.x,["".concat(xl,"-bottom")]:J(n)&&t&&J(t.y)&&n>=t.y,["".concat(xl,"-top")]:J(n)&&t&&J(t.y)&&n<t.y})}function Pj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(i&&J(i[n]))return i[n];var d=r[n]-s-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var m=c[n];if(m==null)return 0;if(o[n]){var h=d,v=m;return h<v?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var x=f+s,b=m+u;return x>b?Math.max(d,m):Math.max(f,m)}function mW(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function pW(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=Pj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Pj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=mW({translateX:d,translateY:f,useTranslate3d:s})):u=fW,{cssProperties:u,cssClasses:hW({translateX:d,translateY:f,coordinate:r})}}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xy(e,t,r){return(t=gW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yW extends g.PureComponent{constructor(){super(...arguments),xy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:v,lastBoundingBox:x,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:p,cssProperties:w}=pW({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:h}),_=y?{}:gd(gd({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=gd(gd({},_),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:p,style:j,ref:b},i)}}var jN=()=>{var e;return(e=te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){bW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bW(e,t,r){return(t=xW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ij={curveBasisClosed:D9,curveBasisOpen:P9,curveBasis:N9,curveBumpX:y9,curveBumpY:b9,curveLinearClosed:M9,curveLinear:om,curveMonotoneX:z9,curveMonotoneY:B9,curveNatural:I9,curveStep:$9,curveStepAfter:U9,curveStepBefore:L9},eh=e=>We(e.x)&&We(e.y),$j=e=>e.base!=null&&eh(e.base)&&eh(e),wl=e=>e.x,_l=e=>e.y,_W=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(fu(e));return(r==="curveMonotone"||r==="curveBump")&&t?Ij["".concat(r).concat(t==="vertical"?"Y":"X")]:Ij[r]||om},jW=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=_W(t,a),s=i?r.filter(eh):r,c;if(Array.isArray(n)){var u=r.map((h,v)=>Bj(Bj({},h),{},{base:n[v]}));a==="vertical"?c=ld().y(_l).x1(wl).x0(h=>h.base.x):c=ld().x(wl).y1(_l).y0(h=>h.base.y);var d=c.defined($j).curve(o),f=i?u.filter($j):u;return d(f)}a==="vertical"&&J(n)?c=ld().y(_l).x1(wl).x0(n):J(n)?c=ld().x(wl).y1(_l).y0(n):c=PT().x(wl).y(_l);var m=c.defined(eh).curve(o);return m(s)},SN=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=vu();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=r&&r.length?jW(o):n;return g.createElement("path",wy({},la(e),cU(e),{className:Ie("recharts-curve",t),d:s===null?void 0:s,ref:a}))},SW=["x","y","top","left","width","height","className"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(null,arguments)}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=OW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=AW(e,"string");return typeof t=="symbol"?t:t+""}function AW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kW(e,t){if(e==null)return{};var r,n,a=TW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RW=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),NW=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:s}=e,c=kW(e,SW),u=CW({x:t,y:r,top:n,left:a,width:i,height:o},c);return!J(t)||!J(r)||!J(i)||!J(o)||!J(n)||!J(a)?null:g.createElement("path",_y({},Vr(u),{className:Ie("recharts-cross",s),d:RW(t,r,i,o,n,a)}))};function DW(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){PW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PW(e,t,r){return(t=MW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CN=(e,t,r)=>e.map(n=>"".concat(BW(n)," ").concat(t,"ms ").concat(r)).join(","),IW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Dc=(e,t)=>Object.keys(t).reduce((r,n)=>qj(qj({},r),{},{[n]:e(n,t[n])}),{});function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){$W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $W(e,t,r){return(t=LW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=UW(e,"string");return typeof t=="symbol"?t:t+""}function UW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th=(e,t,r)=>e+(t-e)*r,jy=e=>{var{from:t,to:r}=e;return t!==r},EN=(e,t,r)=>{var n=Dc((a,i)=>{if(jy(i)){var[o,s]=e(i.from,i.to,i.velocity);return lt(lt({},i),{},{from:o,velocity:s})}return i},t);return r<1?Dc((a,i)=>jy(i)&&n[a]!=null?lt(lt({},i),{},{velocity:th(i.velocity,n[a].velocity,r),from:th(i.from,n[a].from,r)}):i,t):EN(e,n,r-1)};function qW(e,t,r,n,a,i){var o,s=n.reduce((m,h)=>lt(lt({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>Dc((m,h)=>h.from,s),u=()=>!Object.values(s).filter(jy).length,d=null,f=m=>{o||(o=m);var h=m-o,v=h/r.dt;s=EN(r,s,v),a(lt(lt(lt({},e),t),c())),o=m,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function WW(e,t,r,n,a,i,o){var s=null,c=a.reduce((f,m)=>{var h=e[m],v=t[m];return h==null||v==null?f:lt(lt({},f),{},{[m]:[h,v]})},{}),u,d=f=>{u||(u=f);var m=(f-u)/n,h=Dc((x,b)=>th(...b,r(m)),c);if(i(lt(lt(lt({},e),t),h)),m<1)s=o.setTimeout(d);else{var v=Dc((x,b)=>th(...b,r(1)),c);i(lt(lt(lt({},e),t),v))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const HW=(e,t,r,n,a,i)=>{var o=IW(e,t);return r==null?()=>(a(lt(lt({},e),t)),()=>{}):r.isStepper===!0?qW(e,t,r,o,a,i):WW(e,t,r,n,o,a,i)};var rh=1e-4,ON=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],AN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Hj=(e,t)=>r=>{var n=ON(e,t);return AN(n,r)},FW=(e,t)=>r=>{var n=ON(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return AN(a,r)},VW=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},KW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=VW(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},GW=(e,t,r,n)=>{var a=Hj(e,r),i=Hj(t,n),o=FW(e,r),s=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,m=0;m<8;++m){var h=a(f)-d,v=o(f);if(Math.abs(h-d)<rh||v<rh)return i(f);f=s(f-h/v)}return i(f)};return c.isStepper=!1,c},Fj=function(){return GW(...KW(...arguments))},YW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,s,c)=>{var u=-(o-s)*r,d=c*n,f=c+(u-d)*a/1e3,m=c*a/1e3+o;return Math.abs(m-s)<rh&&Math.abs(f)<rh?[s,0]:[m,f]};return i.isStepper=!0,i.dt=a,i},XW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Fj(e);case"spring":return YW();default:if(e.split("(")[0]==="cubic-bezier")return Fj(e)}return typeof e=="function"?e:null};function ZW(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...u]=s;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class JW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function QW(){return ZW(new JW)}var eH=g.createContext(QW);function tH(e,t){var r=g.useContext(eH);return g.useMemo(()=>t??r(e),[e,t,r])}var rH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Dm={isSsr:rH()},nH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vj={t:0},yg={t:1};function rx(e){var t=kr(e,nH),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:c,children:u}=t,d=r==="auto"?!Dm.isSsr:r,f=tH(t.animationId,t.animationManager),[m,h]=g.useState(d?Vj:yg),v=g.useRef(null);return g.useEffect(()=>{d||h(yg)},[d]),g.useEffect(()=>{if(!d||!n)return hu;var x=HW(Vj,yg,XW(i),a,h,f.getTimeoutController()),b=()=>{v.current=x()};return f.start([c,o,b,a,s]),()=>{f.stop(),v.current&&v.current(),s()}},[d,n,a,i,o,c,s,f]),u(m.t)}function nx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(Ec(t)),n=g.useRef(e);return n.current!==e&&(r.current=Ec(t),n.current=e),r.current}var aH=["radius"],iH=["radius"],Kj,Gj,Yj,Xj,Zj,Jj,Qj,eS,tS,rS;function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){oH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oH(e,t,r){return(t=sH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=lH(e,"string");return typeof t=="symbol"?t:t+""}function lH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(null,arguments)}function iS(e,t){if(e==null)return{};var r,n,a=cH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var oS=(e,t,r,n,a)=>{var i=Ja(r),o=Ja(n),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],h=0,v=4;h<v;h++)m[h]=a[h]>s?s:a[h];f=Fe(Kj||(Kj=xn(["M",",",""])),e,t+c*m[0]),m[0]>0&&(f+=Fe(Gj||(Gj=xn(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),f+=Fe(Yj||(Yj=xn(["L ",",",""])),e+r-u*m[1],t),m[1]>0&&(f+=Fe(Xj||(Xj=xn(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+r,t+c*m[1])),f+=Fe(Zj||(Zj=xn(["L ",",",""])),e+r,t+n-c*m[2]),m[2]>0&&(f+=Fe(Jj||(Jj=xn(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+r-u*m[2],t+n)),f+=Fe(Qj||(Qj=xn(["L ",",",""])),e+u*m[3],t+n),m[3]>0&&(f+=Fe(eS||(eS=xn(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+n-c*m[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);f=Fe(tS||(tS=xn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*x,x,x,d,e+u*x,t,e+r-u*x,t,x,x,d,e+r,t+c*x,e+r,t+n-c*x,x,x,d,e+r-u*x,t+n,e+u*x,t+n,x,x,d,e,t+n-c*x)}else f=Fe(rS||(rS=xn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},sS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kN=e=>{var t=kr(e,sS),r=g.useRef(null),[n,a]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&a(I)}catch{}},[]);var{x:i,y:o,width:s,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:v,isUpdateAnimationActive:x}=t,b=g.useRef(s),y=g.useRef(c),p=g.useRef(i),w=g.useRef(o),_=g.useMemo(()=>({x:i,y:o,width:s,height:c,radius:u}),[i,o,s,c,u]),j=nx(_,"rectangle-");if(i!==+i||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var C=Ie("recharts-rectangle",d);if(!x){var S=Vr(t),{radius:E}=S,O=iS(S,aH);return g.createElement("path",nh({},O,{x:Ja(i),y:Ja(o),width:Ja(s),height:Ja(c),radius:typeof u=="number"?u:void 0,className:C,d:oS(i,o,s,c,u)}))}var A=b.current,N=y.current,T=p.current,z=w.current,L="0px ".concat(n===-1?1:n,"px"),H="".concat(n,"px 0px"),D=CN(["strokeDasharray"],m,typeof f=="string"?f:sS.animationEasing);return g.createElement(rx,{animationId:j,key:j,canBegin:n>0,duration:m,easing:f,isActive:x,begin:h},I=>{var k=Tt(A,s,I),R=Tt(N,c,I),M=Tt(T,i,I),K=Tt(z,o,I);r.current&&(b.current=k,y.current=R,p.current=M,w.current=K);var V;v?I>0?V={transition:D,strokeDasharray:H}:V={strokeDasharray:L}:V={strokeDasharray:H};var ee=Vr(t),{radius:Z}=ee,ce=iS(ee,iH);return g.createElement("path",nh({},ce,{radius:typeof u=="number"?u:void 0,className:C,d:oS(M,K,k,R,u),ref:r,style:aS(aS({},V),t.style)}))})};function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ah=Math.PI/180,hH=e=>e*180/Math.PI,Pt=(e,t,r,n)=>({x:e+Math.cos(-ah*n)*r,y:t+Math.sin(-ah*n)*r}),mH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},pH=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},gH=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=pH({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(r-a)/o,c=Math.acos(s);return n>i&&(c=2*Math.PI-c),{radius:o,angle:hH(c),angleInRadian:c}},vH=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},yH=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},bH=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=gH({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:c,endAngle:u}=vH(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?cS(cS({},t),{},{radius:a,angle:yH(d,t)}):null};function TN(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Pt(t,r,n,a),s=Pt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var uS,dS,fS,hS,mS,pS,gS;function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(null,arguments)}function Ii(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xH=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},vd=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,u=s*(o?1:-1)+n,d=Math.asin(s/u)/ah,f=c?a:a+i*d,m=Pt(t,r,u,f),h=Pt(t,r,n,f),v=c?a-i*d:a,x=Pt(t,r,u*Math.cos(d*ah),v);return{center:m,circleTangency:h,lineTangency:x,theta:d}},RN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,s=xH(i,o),c=i+s,u=Pt(t,r,a,i),d=Pt(t,r,a,c),f=Fe(uS||(uS=Ii(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>c),d.x,d.y);if(n>0){var m=Pt(t,r,n,i),h=Pt(t,r,n,c);f+=Fe(dS||(dS=Ii(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),h.x,h.y,n,n,+(Math.abs(s)>180),+(i<=c),m.x,m.y)}else f+=Fe(fS||(fS=Ii(["L ",","," Z"])),t,r);return f},wH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:u}=e,d=tr(u-c),{circleTangency:f,lineTangency:m,theta:h}=vd({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:v,lineTangency:x,theta:b}=vd({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(c-u):Math.abs(c-u)-h-b;if(y<0)return o?Fe(hS||(hS=Ii(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,i,i,i*2,i,i,-i*2):RN({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var p=Fe(mS||(mS=Ii(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,i,i,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),v.x,v.y,i,i,+(d<0),x.x,x.y);if(n>0){var{circleTangency:w,lineTangency:_,theta:j}=vd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:C,lineTangency:S,theta:E}=vd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),O=s?Math.abs(c-u):Math.abs(c-u)-j-E;if(O<0&&i===0)return"".concat(p,"L").concat(t,",").concat(r,"Z");p+=Fe(pS||(pS=Ii(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,i,i,+(d<0),C.x,C.y,n,n,+(O>180),+(d>0),w.x,w.y,i,i,+(d<0),_.x,_.y)}else p+=Fe(gS||(gS=Ii(["L",",","Z"])),t,r);return p},_H={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NN=e=>{var t=kr(e,_H),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var m=Ie("recharts-sector",f),h=i-a,v=fn(o,h,0,!0),x;return v>0&&Math.abs(u-d)<360?x=wH({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,h/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):x=RN({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",Sy({},Vr(t),{className:m,d:x}))};function jH(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(XT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,c=Pt(n,a,i,s),u=Pt(n,a,o,s);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return TN(t)}}var DN={},PN={},MN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(MN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MN;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(PN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fb,r=PN;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=a,a+=o;return c}e.range=n})(DN);var SH=DN.range;const zN=va(SH);function li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ax(e){let t,r,n;e.length!==2?(t=li,r=(s,c)=>li(e(s),c),n=(s,c)=>e(s)-c):(t=e===li||e===CH?e:EH,r=e,n=e);function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=a(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:o,right:i}}function EH(){return 0}function BN(e){return e===null?NaN:+e}function*OH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const AH=ax(li),bu=AH.right;ax(BN).center;class vS extends Map{constructor(t,r=RH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(yS(this,t))}has(t){return super.has(yS(this,t))}set(t,r){return super.set(kH(this,t),r)}delete(t){return super.delete(TH(this,t))}}function yS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function kH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function TH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function RH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NH(e=li){if(e===li)return IN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function IN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const DH=Math.sqrt(50),PH=Math.sqrt(10),MH=Math.sqrt(2);function ih(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=DH?10:i>=PH?5:i>=MH?2:1;let s,c,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?ih(e,t,r*2):[s,c,u]}function Cy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ih(t,e,r):ih(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(i-u)/-o;else for(let u=0;u<s;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(a+u)/-o;else for(let u=0;u<s;++u)c[u]=(a+u)*o;return c}function Ey(e,t,r){return t=+t,e=+e,r=+r,ih(e,t,r)[2]}function Oy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ey(t,e,r):Ey(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function bS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function $N(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?IN:NH(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),v=Math.min(n,Math.floor(t+(c-u)*f/c+m));$N(e,t,h,v,a)}const i=e[t];let o=r,s=n;for(jl(e,r,t),a(e[n],i)>0&&jl(e,r,n);o<s;){for(jl(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?jl(e,r,s):(++s,jl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function jl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zH(e,t,r){if(e=Float64Array.from(OH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xS(e);if(t>=1)return bS(e);var n,a=(n-1)*t,i=Math.floor(a),o=bS($N(e,i).subarray(0,i+1)),s=xS(e.subarray(i+1));return o+(s-o)*(a-i)}}function BH(e,t,r=BN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function IH(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ay=Symbol("implicit");function ix(){var e=new vS,t=[],r=[],n=Ay;function a(i){let o=e.get(i);if(o===void 0){if(n!==Ay)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new vS;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ix(t,r).unknown(n)},Xr.apply(a,arguments),a}function ox(){var e=ix().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=a<n,v=h?a:n,x=h?n:a;i=(x-v)/Math.max(1,m-c+u*2),s&&(i=Math.floor(i)),v+=(x-v-i*(m-c))*d,o=i*(1-c),s&&(v=Math.round(v),o=Math.round(o));var b=IH(m).map(function(y){return v+i*y});return r(h?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(s=!!m,f()):s},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return ox(t(),[n,a]).round(s).paddingInner(c).paddingOuter(u).align(d)},Xr.apply(f(),arguments)}function LN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LN(t())},e}function $H(){return LN(ox.apply(null,arguments).paddingInner(1))}function sx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function UN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xu(){}var Pc=.7,oh=1/Pc,fs="\\s*([+-]?\\d+)\\s*",Mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LH=/^#([0-9a-f]{3,8})$/,UH=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),qH=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),WH=new RegExp(`^rgba\\(${fs},${fs},${fs},${Mc}\\)$`),HH=new RegExp(`^rgba\\(${An},${An},${An},${Mc}\\)$`),FH=new RegExp(`^hsl\\(${Mc},${An},${An}\\)$`),VH=new RegExp(`^hsla\\(${Mc},${An},${An},${Mc}\\)$`),wS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sx(xu,zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_S,formatHex:_S,formatHex8:KH,formatHsl:GH,formatRgb:jS,toString:jS});function _S(){return this.rgb().formatHex()}function KH(){return this.rgb().formatHex8()}function GH(){return qN(this).formatHsl()}function jS(){return this.rgb().formatRgb()}function zc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?SS(t):r===3?new rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UH.exec(e))?new rr(t[1],t[2],t[3],1):(t=qH.exec(e))?new rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WH.exec(e))?yd(t[1],t[2],t[3],t[4]):(t=HH.exec(e))?yd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FH.exec(e))?OS(t[1],t[2]/100,t[3]/100,1):(t=VH.exec(e))?OS(t[1],t[2]/100,t[3]/100,t[4]):wS.hasOwnProperty(e)?SS(wS[e]):e==="transparent"?new rr(NaN,NaN,NaN,0):null}function SS(e){return new rr(e>>16&255,e>>8&255,e&255,1)}function yd(e,t,r,n){return n<=0&&(e=t=r=NaN),new rr(e,t,r,n)}function YH(e){return e instanceof xu||(e=zc(e)),e?(e=e.rgb(),new rr(e.r,e.g,e.b,e.opacity)):new rr}function ky(e,t,r,n){return arguments.length===1?YH(e):new rr(e,t,r,n??1)}function rr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sx(rr,ky,UN(xu,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pc:Math.pow(Pc,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rr(Yi(this.r),Yi(this.g),Yi(this.b),sh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CS,formatHex:CS,formatHex8:XH,formatRgb:ES,toString:ES}));function CS(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}`}function XH(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}${$i((isNaN(this.opacity)?1:this.opacity)*255)}`}function ES(){const e=sh(this.opacity);return`${e===1?"rgb(":"rgba("}${Yi(this.r)}, ${Yi(this.g)}, ${Yi(this.b)}${e===1?")":`, ${e})`}`}function sh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $i(e){return e=Yi(e),(e<16?"0":"")+e.toString(16)}function OS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,r,n)}function qN(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof xu||(e=zc(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new sn(o,s,c,e.opacity)}function ZH(e,t,r,n){return arguments.length===1?qN(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sx(sn,ZH,UN(xu,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pc:Math.pow(Pc,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new rr(bg(e>=240?e-240:e+120,a,n),bg(e,a,n),bg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new sn(AS(this.h),bd(this.s),bd(this.l),sh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sh(this.opacity);return`${e===1?"hsl(":"hsla("}${AS(this.h)}, ${bd(this.s)*100}%, ${bd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AS(e){return e=(e||0)%360,e<0?e+360:e}function bd(e){return Math.max(0,Math.min(1,e||0))}function bg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const lx=e=>()=>e;function JH(e,t){return function(r){return e+r*t}}function QH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function eF(e){return(e=+e)==1?WN:function(t,r){return r-t?QH(t,r,e):lx(isNaN(t)?r:t)}}function WN(e,t){var r=t-e;return r?JH(e,r):lx(isNaN(e)?t:e)}const kS=function e(t){var r=eF(t);function n(a,i){var o=r((a=ky(a)).r,(i=ky(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),u=WN(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function tF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function rF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=el(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function aF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=el(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Ty=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xg=new RegExp(Ty.source,"g");function oF(e){return function(){return e}}function sF(e){return function(t){return e(t)+""}}function lF(e,t){var r=Ty.lastIndex=xg.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=Ty.exec(e))&&(a=xg.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:lh(n,a)})),r=xg.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?sF(c[0].x):oF(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function el(e,t){var r=typeof t,n;return t==null||r==="boolean"?lx(t):(r==="number"?lh:r==="string"?(n=zc(t))?(t=n,kS):lF:t instanceof zc?kS:t instanceof Date?aF:rF(t)?tF:Array.isArray(t)?nF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iF:lh)(e,t)}function cx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cF(e,t){t===void 0&&(t=e,e=el);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function uF(e){return function(){return e}}function ch(e){return+e}var TS=[0,1];function Ft(e){return e}function Ry(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uF(isNaN(t)?NaN:.5)}function dF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fF(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Ry(a,n),i=r(o,i)):(n=Ry(n,a),i=r(i,o)),function(s){return i(n(s))}}function hF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Ry(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=bu(e,s,1,n)-1;return i[c](a[c](s))}}function wu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pm(){var e=TS,t=TS,r=el,n,a,i,o=Ft,s,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ft&&(o=dF(e[0],e[m-1])),s=m>2?hF:fF,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=s(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=s(t,e.map(n),lh)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,ch),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=cx,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ft,d()):o!==Ft},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return n=m,a=h,d()}}function ux(){return Pm()(Ft,Ft)}function mF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ts(e){return e=uh(Math.abs(e)),e?e[1]:NaN}function pF(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function gF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bc(e){if(!(t=vF.exec(e)))throw new Error("invalid format: "+e);var t;return new dx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bc.prototype=dx.prototype;function dx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var dh;function bF(e,t){var r=uh(e,t);if(!r)return dh=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(dh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+uh(e,Math.max(0,t+i-1))[0]}function RS(e,t){var r=uh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const NS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>RS(e*100,t),r:RS,s:bF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DS(e){return e}var PS=Array.prototype.map,MS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xF(e){var t=e.grouping===void 0||e.thousands===void 0?DS:pF(PS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?DS:gF(PS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,m){f=Bc(f);var h=f.fill,v=f.align,x=f.sign,b=f.symbol,y=f.zero,p=f.width,w=f.comma,_=f.precision,j=f.trim,C=f.type;C==="n"?(w=!0,C="g"):NS[C]||(_===void 0&&(_=12),j=!0,C="g"),(y||h==="0"&&v==="=")&&(y=!0,h="0",v="=");var S=(m&&m.prefix!==void 0?m.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),E=(b==="$"?n:/[%p]/.test(C)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),O=NS[C],A=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(T){var z=S,L=E,H,D,I;if(C==="c")L=O(T)+L,T="";else{T=+T;var k=T<0||1/T<0;if(T=isNaN(T)?c:O(Math.abs(T),_),j&&(T=yF(T)),k&&+T==0&&x!=="+"&&(k=!1),z=(k?x==="("?x:s:x==="-"||x==="("?"":x)+z,L=(C==="s"&&!isNaN(T)&&dh!==void 0?MS[8+dh/3]:"")+L+(k&&x==="("?")":""),A){for(H=-1,D=T.length;++H<D;)if(I=T.charCodeAt(H),48>I||I>57){L=(I===46?a+T.slice(H+1):T.slice(H))+L,T=T.slice(0,H);break}}}w&&!y&&(T=t(T,1/0));var R=z.length+T.length+L.length,M=R<p?new Array(p-R+1).join(h):"";switch(w&&y&&(T=t(M+T,M.length?p-L.length:1/0),M=""),v){case"<":T=z+T+L+M;break;case"=":T=z+M+T+L;break;case"^":T=M.slice(0,R=M.length>>1)+z+T+L+M.slice(R);break;default:T=M+z+T+L;break}return i(T)}return N.toString=function(){return f+""},N}function d(f,m){var h=Math.max(-8,Math.min(8,Math.floor(Ts(m)/3)))*3,v=Math.pow(10,-h),x=u((f=Bc(f),f.type="f",f),{suffix:MS[8+h/3]});return function(b){return x(v*b)}}return{format:u,formatPrefix:d}}var xd,fx,HN;wF({thousands:",",grouping:[3],currency:["$",""]});function wF(e){return xd=xF(e),fx=xd.format,HN=xd.formatPrefix,xd}function _F(e){return Math.max(0,-Ts(Math.abs(e)))}function jF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ts(t)/3)))*3-Ts(Math.abs(e)))}function SF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ts(t)-Ts(e))+1}function FN(e,t,r,n){var a=Oy(e,t,r),i;switch(n=Bc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=jF(a,o))&&(n.precision=i),HN(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=SF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=_F(a))&&(n.precision=i-(n.type==="%")*2);break}}return fx(n)}function _i(e){var t=e.domain;return e.ticks=function(r){var n=t();return Cy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return FN(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=Ey(o,s,r),u===c)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function VN(){var e=ux();return e.copy=function(){return wu(e,VN())},Xr.apply(e,arguments),_i(e)}function KN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ch),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return KN(e).unknown(t)},e=arguments.length?Array.from(e,ch):[0,1],_i(r)}function GN(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function zS(e){return Math.log(e)}function BS(e){return Math.exp(e)}function CF(e){return-Math.log(-e)}function EF(e){return-Math.exp(-e)}function OF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AF(e){return e===10?OF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IS(e){return(t,r)=>-e(-t,r)}function hx(e){const t=e(zS,BS),r=t.domain;let n=10,a,i;function o(){return a=kF(n),i=AF(n),r()[0]<0?(a=IS(a),i=IS(i),e(CF,EF)):e(zS,BS),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),v,x;const b=s==null?10:+s;let y=[];if(!(n%1)&&h-m<b){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(v=1;v<n;++v)if(x=m<0?v/i(-m):v*i(m),!(x<u)){if(x>d)break;y.push(x)}}else for(;m<=h;++m)for(v=n-1;v>=1;--v)if(x=m>0?v/i(-m):v*i(m),!(x<u)){if(x>d)break;y.push(x)}y.length*2<b&&(y=Cy(u,d,b))}else y=Cy(m,h,Math.min(h-m,b)).map(i);return f?y.reverse():y},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Bc(c)).precision==null&&(c.trim=!0),c=fx(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(GN(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function YN(){const e=hx(Pm()).domain([1,10]);return e.copy=()=>wu(e,YN()).base(e.base()),Xr.apply(e,arguments),e}function $S(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function LS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mx(e){var t=1,r=e($S(t),LS(t));return r.constant=function(n){return arguments.length?e($S(t=+n),LS(t)):t},_i(r)}function XN(){var e=mx(Pm());return e.copy=function(){return wu(e,XN()).constant(e.constant())},Xr.apply(e,arguments)}function US(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function RF(e){return e<0?-e*e:e*e}function px(e){var t=e(Ft,Ft),r=1;function n(){return r===1?e(Ft,Ft):r===.5?e(TF,RF):e(US(r),US(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},_i(t)}function gx(){var e=px(Pm());return e.copy=function(){return wu(e,gx()).exponent(e.exponent())},Xr.apply(e,arguments),e}function NF(){return gx.apply(null,arguments).exponent(.5)}function qS(e){return Math.sign(e)*e*e}function DF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZN(){var e=ux(),t=[0,1],r=!1,n;function a(i){var o=DF(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(qS(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ch)).map(qS)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ZN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xr.apply(a,arguments),_i(a)}function JN(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=BH(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[bu(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(li),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return JN().domain(e).range(t).unknown(n)},Xr.apply(i,arguments)}function QN(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[bu(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return QN().domain([e,t]).range(a).unknown(i)},Xr.apply(_i(o),arguments)}function e5(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[bu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return e5().domain(e).range(t).unknown(r)},Xr.apply(a,arguments)}const wg=new Date,_g=new Date;function ft(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let u;do c.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return c},a.filter=i=>ft(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(wg.setTime(+i),_g.setTime(+o),e(wg),e(_g),Math.floor(r(wg,_g))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const fh=ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fh);fh.range;const Xn=1e3,qr=Xn*60,Zn=qr*60,fa=Zn*24,vx=fa*7,WS=fa*30,jg=fa*365,Li=ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getUTCSeconds());Li.range;const yx=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xn)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getMinutes());yx.range;const bx=ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getUTCMinutes());bx.range;const xx=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xn-e.getMinutes()*qr)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getHours());xx.range;const wx=ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCHours());wx.range;const _u=ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qr)/fa,e=>e.getDate()-1);_u.range;const Mm=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fa,e=>e.getUTCDate()-1);Mm.range;const t5=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fa,e=>Math.floor(e/fa));t5.range;function bo(e){return ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qr)/vx)}const zm=bo(0),hh=bo(1),PF=bo(2),MF=bo(3),Rs=bo(4),zF=bo(5),BF=bo(6);zm.range;hh.range;PF.range;MF.range;Rs.range;zF.range;BF.range;function xo(e){return ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/vx)}const Bm=xo(0),mh=xo(1),IF=xo(2),$F=xo(3),Ns=xo(4),LF=xo(5),UF=xo(6);Bm.range;mh.range;IF.range;$F.range;Ns.range;LF.range;UF.range;const _x=ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_x.range;const jx=ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jx.range;const ha=ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ha.range;const ma=ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ma.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ma.range;function r5(e,t,r,n,a,i){const o=[[Li,1,Xn],[Li,5,5*Xn],[Li,15,15*Xn],[Li,30,30*Xn],[i,1,qr],[i,5,5*qr],[i,15,15*qr],[i,30,30*qr],[a,1,Zn],[a,3,3*Zn],[a,6,6*Zn],[a,12,12*Zn],[n,1,fa],[n,2,2*fa],[r,1,vx],[t,1,WS],[t,3,3*WS],[e,1,jg]];function s(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),v=h?h.range(u,+d+1):[];return m?v.reverse():v}function c(u,d,f){const m=Math.abs(d-u)/f,h=ax(([,,b])=>b).right(o,m);if(h===o.length)return e.every(Oy(u/jg,d/jg,f));if(h===0)return fh.every(Math.max(Oy(u,d,f),1));const[v,x]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return v.every(x)}return[s,c]}const[qF,WF]=r5(ma,jx,Bm,t5,wx,bx),[HF,FF]=r5(ha,_x,zm,_u,xx,yx);function Sg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function VF(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=Cl(a),d=El(a),f=Cl(i),m=El(i),h=Cl(o),v=El(o),x=Cl(s),b=El(s),y=Cl(c),p=El(c),w={a:I,A:k,b:R,B:M,c:null,d:YS,e:YS,f:pV,g:CV,G:OV,H:fV,I:hV,j:mV,L:n5,m:gV,M:vV,p:K,q:V,Q:JS,s:QS,S:yV,u:bV,U:xV,V:wV,w:_V,W:jV,x:null,X:null,y:SV,Y:EV,Z:AV,"%":ZS},_={a:ee,A:Z,b:ce,B:se,c:null,d:XS,e:XS,f:NV,g:qV,G:HV,H:kV,I:TV,j:RV,L:i5,m:DV,M:PV,p:ge,q:U,Q:JS,s:QS,S:MV,u:zV,U:BV,V:IV,w:$V,W:LV,x:null,X:null,y:UV,Y:WV,Z:FV,"%":ZS},j={a:A,A:N,b:T,B:z,c:L,d:KS,e:KS,f:lV,g:VS,G:FS,H:GS,I:GS,j:aV,L:sV,m:nV,M:iV,p:O,q:rV,Q:uV,s:dV,S:oV,u:ZF,U:JF,V:QF,w:XF,W:eV,x:H,X:D,y:VS,Y:FS,Z:tV,"%":cV};w.x=C(r,w),w.X=C(n,w),w.c=C(t,w),_.x=C(r,_),_.X=C(n,_),_.c=C(t,_);function C(P,F){return function(G){var q=[],me=-1,ae=0,Ze=P.length,Je,vn,ll;for(G instanceof Date||(G=new Date(+G));++me<Ze;)P.charCodeAt(me)===37&&(q.push(P.slice(ae,me)),(vn=HS[Je=P.charAt(++me)])!=null?Je=P.charAt(++me):vn=Je==="e"?" ":"0",(ll=F[Je])&&(Je=ll(G,vn)),q.push(Je),ae=me+1);return q.push(P.slice(ae,me)),q.join("")}}function S(P,F){return function(G){var q=Sl(1900,void 0,1),me=E(q,P,G+="",0),ae,Ze;if(me!=G.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(F&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ae=Cg(Sl(q.y,0,1)),Ze=ae.getUTCDay(),ae=Ze>4||Ze===0?mh.ceil(ae):mh(ae),ae=Mm.offset(ae,(q.V-1)*7),q.y=ae.getUTCFullYear(),q.m=ae.getUTCMonth(),q.d=ae.getUTCDate()+(q.w+6)%7):(ae=Sg(Sl(q.y,0,1)),Ze=ae.getDay(),ae=Ze>4||Ze===0?hh.ceil(ae):hh(ae),ae=_u.offset(ae,(q.V-1)*7),q.y=ae.getFullYear(),q.m=ae.getMonth(),q.d=ae.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ze="Z"in q?Cg(Sl(q.y,0,1)).getUTCDay():Sg(Sl(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ze+5)%7:q.w+q.U*7-(Ze+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Cg(q)):Sg(q)}}function E(P,F,G,q){for(var me=0,ae=F.length,Ze=G.length,Je,vn;me<ae;){if(q>=Ze)return-1;if(Je=F.charCodeAt(me++),Je===37){if(Je=F.charAt(me++),vn=j[Je in HS?F.charAt(me++):Je],!vn||(q=vn(P,G,q))<0)return-1}else if(Je!=G.charCodeAt(q++))return-1}return q}function O(P,F,G){var q=u.exec(F.slice(G));return q?(P.p=d.get(q[0].toLowerCase()),G+q[0].length):-1}function A(P,F,G){var q=h.exec(F.slice(G));return q?(P.w=v.get(q[0].toLowerCase()),G+q[0].length):-1}function N(P,F,G){var q=f.exec(F.slice(G));return q?(P.w=m.get(q[0].toLowerCase()),G+q[0].length):-1}function T(P,F,G){var q=y.exec(F.slice(G));return q?(P.m=p.get(q[0].toLowerCase()),G+q[0].length):-1}function z(P,F,G){var q=x.exec(F.slice(G));return q?(P.m=b.get(q[0].toLowerCase()),G+q[0].length):-1}function L(P,F,G){return E(P,t,F,G)}function H(P,F,G){return E(P,r,F,G)}function D(P,F,G){return E(P,n,F,G)}function I(P){return o[P.getDay()]}function k(P){return i[P.getDay()]}function R(P){return c[P.getMonth()]}function M(P){return s[P.getMonth()]}function K(P){return a[+(P.getHours()>=12)]}function V(P){return 1+~~(P.getMonth()/3)}function ee(P){return o[P.getUTCDay()]}function Z(P){return i[P.getUTCDay()]}function ce(P){return c[P.getUTCMonth()]}function se(P){return s[P.getUTCMonth()]}function ge(P){return a[+(P.getUTCHours()>=12)]}function U(P){return 1+~~(P.getUTCMonth()/3)}return{format:function(P){var F=C(P+="",w);return F.toString=function(){return P},F},parse:function(P){var F=S(P+="",!1);return F.toString=function(){return P},F},utcFormat:function(P){var F=C(P+="",_);return F.toString=function(){return P},F},utcParse:function(P){var F=S(P+="",!0);return F.toString=function(){return P},F}}}var HS={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,KF=/^%/,GF=/[\\^$*+?|[\]().{}]/g;function pe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function YF(e){return e.replace(GF,"\\$&")}function Cl(e){return new RegExp("^(?:"+e.map(YF).join("|")+")","i")}function El(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function XF(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ZF(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function JF(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function QF(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function FS(e,t,r){var n=Ct.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function VS(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rV(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function KS(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aV(e,t,r){var n=Ct.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function GS(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function oV(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sV(e,t,r){var n=Ct.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lV(e,t,r){var n=Ct.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cV(e,t,r){var n=KF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uV(e,t,r){var n=Ct.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dV(e,t,r){var n=Ct.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function YS(e,t){return pe(e.getDate(),t,2)}function fV(e,t){return pe(e.getHours(),t,2)}function hV(e,t){return pe(e.getHours()%12||12,t,2)}function mV(e,t){return pe(1+_u.count(ha(e),e),t,3)}function n5(e,t){return pe(e.getMilliseconds(),t,3)}function pV(e,t){return n5(e,t)+"000"}function gV(e,t){return pe(e.getMonth()+1,t,2)}function vV(e,t){return pe(e.getMinutes(),t,2)}function yV(e,t){return pe(e.getSeconds(),t,2)}function bV(e){var t=e.getDay();return t===0?7:t}function xV(e,t){return pe(zm.count(ha(e)-1,e),t,2)}function a5(e){var t=e.getDay();return t>=4||t===0?Rs(e):Rs.ceil(e)}function wV(e,t){return e=a5(e),pe(Rs.count(ha(e),e)+(ha(e).getDay()===4),t,2)}function _V(e){return e.getDay()}function jV(e,t){return pe(hh.count(ha(e)-1,e),t,2)}function SV(e,t){return pe(e.getFullYear()%100,t,2)}function CV(e,t){return e=a5(e),pe(e.getFullYear()%100,t,2)}function EV(e,t){return pe(e.getFullYear()%1e4,t,4)}function OV(e,t){var r=e.getDay();return e=r>=4||r===0?Rs(e):Rs.ceil(e),pe(e.getFullYear()%1e4,t,4)}function AV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pe(t/60|0,"0",2)+pe(t%60,"0",2)}function XS(e,t){return pe(e.getUTCDate(),t,2)}function kV(e,t){return pe(e.getUTCHours(),t,2)}function TV(e,t){return pe(e.getUTCHours()%12||12,t,2)}function RV(e,t){return pe(1+Mm.count(ma(e),e),t,3)}function i5(e,t){return pe(e.getUTCMilliseconds(),t,3)}function NV(e,t){return i5(e,t)+"000"}function DV(e,t){return pe(e.getUTCMonth()+1,t,2)}function PV(e,t){return pe(e.getUTCMinutes(),t,2)}function MV(e,t){return pe(e.getUTCSeconds(),t,2)}function zV(e){var t=e.getUTCDay();return t===0?7:t}function BV(e,t){return pe(Bm.count(ma(e)-1,e),t,2)}function o5(e){var t=e.getUTCDay();return t>=4||t===0?Ns(e):Ns.ceil(e)}function IV(e,t){return e=o5(e),pe(Ns.count(ma(e),e)+(ma(e).getUTCDay()===4),t,2)}function $V(e){return e.getUTCDay()}function LV(e,t){return pe(mh.count(ma(e)-1,e),t,2)}function UV(e,t){return pe(e.getUTCFullYear()%100,t,2)}function qV(e,t){return e=o5(e),pe(e.getUTCFullYear()%100,t,2)}function WV(e,t){return pe(e.getUTCFullYear()%1e4,t,4)}function HV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ns(e):Ns.ceil(e),pe(e.getUTCFullYear()%1e4,t,4)}function FV(){return"+0000"}function ZS(){return"%"}function JS(e){return+e}function QS(e){return Math.floor(+e/1e3)}var Do,s5,l5;VV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VV(e){return Do=VF(e),s5=Do.format,Do.parse,l5=Do.utcFormat,Do.utcParse,Do}function KV(e){return new Date(e)}function GV(e){return e instanceof Date?+e:+new Date(+e)}function Sx(e,t,r,n,a,i,o,s,c,u){var d=ux(),f=d.invert,m=d.domain,h=u(".%L"),v=u(":%S"),x=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),p=u("%b %d"),w=u("%B"),_=u("%Y");function j(C){return(c(C)<C?h:s(C)<C?v:o(C)<C?x:i(C)<C?b:n(C)<C?a(C)<C?y:p:r(C)<C?w:_)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?m(Array.from(C,GV)):m().map(KV)},d.ticks=function(C){var S=m();return e(S[0],S[S.length-1],C??10)},d.tickFormat=function(C,S){return S==null?j:u(S)},d.nice=function(C){var S=m();return(!C||typeof C.range!="function")&&(C=t(S[0],S[S.length-1],C??10)),C?m(GN(S,C)):d},d.copy=function(){return wu(d,Sx(e,t,r,n,a,i,o,s,c,u))},d}function YV(){return Xr.apply(Sx(HF,FF,ha,_x,zm,_u,xx,yx,Li,s5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XV(){return Xr.apply(Sx(qF,WF,ma,jx,Bm,Mm,wx,bx,Li,l5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Im(){var e=0,t=1,r,n,a,i,o=Ft,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,v;return arguments.length?([h,v]=m,o=f(h,v),u):[o(0),o(1)]}}return u.range=d(el),u.rangeRound=d(cx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ji(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function c5(){var e=_i(Im()(Ft));return e.copy=function(){return ji(e,c5())},wa.apply(e,arguments)}function u5(){var e=hx(Im()).domain([1,10]);return e.copy=function(){return ji(e,u5()).base(e.base())},wa.apply(e,arguments)}function d5(){var e=mx(Im());return e.copy=function(){return ji(e,d5()).constant(e.constant())},wa.apply(e,arguments)}function Cx(){var e=px(Im());return e.copy=function(){return ji(e,Cx()).exponent(e.exponent())},wa.apply(e,arguments)}function ZV(){return Cx.apply(null,arguments).exponent(.5)}function f5(){var e=[],t=Ft;function r(n){if(n!=null&&!isNaN(n=+n))return t((bu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(li),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>zH(e,i/n))},r.copy=function(){return f5(t).domain(e)},wa.apply(r,arguments)}function $m(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,u=Ft,d,f=!1,m;function h(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-i)*(n*x<n*i?s:c),u(f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(u=x,h):u};function v(x){return function(b){var y,p,w;return arguments.length?([y,p,w]=b,u=cF(x,[y,p,w]),h):[u(0),u(.5),u(1)]}}return h.range=v(el),h.rangeRound=v(cx),h.unknown=function(x){return arguments.length?(m=x,h):m},function(x){return d=x,a=x(e),i=x(t),o=x(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function h5(){var e=_i($m()(Ft));return e.copy=function(){return ji(e,h5())},wa.apply(e,arguments)}function m5(){var e=hx($m()).domain([.1,1,10]);return e.copy=function(){return ji(e,m5()).base(e.base())},wa.apply(e,arguments)}function p5(){var e=mx($m());return e.copy=function(){return ji(e,p5()).constant(e.constant())},wa.apply(e,arguments)}function Ex(){var e=px($m());return e.copy=function(){return ji(e,Ex()).exponent(e.exponent())},wa.apply(e,arguments)}function JV(){return Ex.apply(null,arguments).exponent(.5)}const Ml=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ox,scaleDiverging:h5,scaleDivergingLog:m5,scaleDivergingPow:Ex,scaleDivergingSqrt:JV,scaleDivergingSymlog:p5,scaleIdentity:KN,scaleImplicit:Ay,scaleLinear:VN,scaleLog:YN,scaleOrdinal:ix,scalePoint:$H,scalePow:gx,scaleQuantile:JN,scaleQuantize:QN,scaleRadial:ZN,scaleSequential:c5,scaleSequentialLog:u5,scaleSequentialPow:Cx,scaleSequentialQuantile:f5,scaleSequentialSqrt:ZV,scaleSequentialSymlog:d5,scaleSqrt:NF,scaleSymlog:XN,scaleThreshold:e5,scaleTime:YV,scaleUtc:XV,tickFormat:FN},Symbol.toStringTag,{value:"Module"}));var _a=e=>e.chartData,g5=B([_a],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),v5=(e,t,r,n)=>n?g5(e):_a(e),QV=(e,t,r)=>r?g5(e):_a(e);function pi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(We(t)&&We(r))return!0}return!1}function eC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function y5(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(We(r))a=r;else if(typeof r=="function")return;if(We(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(pi(o))return o}}function eK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(pi(n))return eC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(J(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&wj.test(a)){var c=wj.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(J(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&_j.test(i)){var d=_j.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var m=[o,s];if(pi(m))return t==null?m:eC(m,t,r)}}}var tl=1e9,tK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ax,Ue=!0,Gr="[DecimalError] ",Xi=Gr+"Invalid argument: ",Ox=Gr+"Exponent out of range: ",rl=Math.floor,Pi=Math.pow,rK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yr,yt=1e7,Pe=7,b5=9007199254740991,ph=rl(b5/Pe),Y={};Y.absoluteValue=Y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Y.comparedTo=Y.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Y.decimalPlaces=Y.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Y.dividedBy=Y.div=function(e){return ta(this,new this.constructor(e))};Y.dividedToIntegerBy=Y.idiv=function(e){var t=this,r=t.constructor;return Oe(ta(t,new r(e),0,1),r.precision)};Y.equals=Y.eq=function(e){return!this.cmp(e)};Y.exponent=function(){return ot(this)};Y.greaterThan=Y.gt=function(e){return this.cmp(e)>0};Y.greaterThanOrEqualTo=Y.gte=function(e){return this.cmp(e)>=0};Y.isInteger=Y.isint=function(){return this.e>this.d.length-2};Y.isNegative=Y.isneg=function(){return this.s<0};Y.isPositive=Y.ispos=function(){return this.s>0};Y.isZero=function(){return this.s===0};Y.lessThan=Y.lt=function(e){return this.cmp(e)<0};Y.lessThanOrEqualTo=Y.lte=function(e){return this.cmp(e)<1};Y.logarithm=Y.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(yr))throw Error(Gr+"NaN");if(r.s<1)throw Error(Gr+(r.s?"NaN":"-Infinity"));return r.eq(yr)?new n(0):(Ue=!1,t=ta(Ic(r,i),Ic(e,i),i),Ue=!0,Oe(t,a))};Y.minus=Y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_5(t,e):x5(t,(e.s=-e.s,e))};Y.modulo=Y.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Gr+"NaN");return r.s?(Ue=!1,t=ta(r,e,0,1).times(e),Ue=!0,r.minus(t)):Oe(new n(r),a)};Y.naturalExponential=Y.exp=function(){return w5(this)};Y.naturalLogarithm=Y.ln=function(){return Ic(this)};Y.negated=Y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Y.plus=Y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x5(t,e):_5(t,(e.s=-e.s,e))};Y.precision=Y.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xi+e);if(t=ot(a)+1,n=a.d.length-1,r=n*Pe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Y.squareRoot=Y.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Gr+"NaN")}for(e=ot(s),Ue=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=En(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=rl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(ta(s,i,o+2)).times(.5),En(i.d).slice(0,o)===(t=En(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Oe(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Ue=!0,Oe(n,r)};Y.times=Y.mul=function(e){var t,r,n,a,i,o,s,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+h[n]*m[a-n-1]+t,i[a--]=s%yt|0,t=s/yt|0;i[a]=(i[a]+t)%yt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ue?Oe(e,f.precision):e};Y.toDecimalPlaces=Y.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Nn(e,0,tl),t===void 0?t=n.rounding:Nn(t,0,8),Oe(r,e+ot(r)+1,t))};Y.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=so(n,!0):(Nn(e,0,tl),t===void 0?t=a.rounding:Nn(t,0,8),n=Oe(new a(n),e+1,t),r=so(n,!0,e+1)),r};Y.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?so(a):(Nn(e,0,tl),t===void 0?t=i.rounding:Nn(t,0,8),n=Oe(new i(a),e+ot(a)+1,t),r=so(n.abs(),!1,e+ot(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Y.toInteger=Y.toint=function(){var e=this,t=e.constructor;return Oe(new t(e),ot(e)+1,t.rounding)};Y.toNumber=function(){return+this};Y.toPower=Y.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(yr);if(s=new c(s),!s.s){if(e.s<1)throw Error(Gr+"Infinity");return s}if(s.eq(yr))return s;if(n=c.precision,e.eq(yr))return Oe(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=b5){for(a=new c(yr),t=Math.ceil(n/Pe+4),Ue=!1;r%2&&(a=a.times(s),rC(a.d,t)),r=rl(r/2),r!==0;)s=s.times(s),rC(s.d,t);return Ue=!0,e.s<0?new c(yr).div(a):Oe(a,n)}}else if(i<0)throw Error(Gr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ue=!1,a=e.times(Ic(s,n+u)),Ue=!0,a=w5(a),a.s=i,a};Y.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ot(a),n=so(a,r<=i.toExpNeg||r>=i.toExpPos)):(Nn(e,1,tl),t===void 0?t=i.rounding:Nn(t,0,8),a=Oe(new i(a),e,t),r=ot(a),n=so(a,e<=r||r<=i.toExpNeg,e)),n};Y.toSignificantDigits=Y.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Nn(e,1,tl),t===void 0?t=n.rounding:Nn(t,0,8)),Oe(new n(r),e,t)};Y.toString=Y.valueOf=Y.val=Y.toJSON=Y[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ot(e),r=e.constructor;return so(e,t<=r.toExpNeg||t>=r.toExpPos)};function x5(e,t){var r,n,a,i,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ue?Oe(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=u.length):(n=u,a=o,s=c.length),o=Math.ceil(f/Pe),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=u.length,s-i<0&&(i=s,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/yt|0,c[i]%=yt;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Ue?Oe(t,f):t}function Nn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Xi+e)}function En(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Pe-n.length,r&&(i+=Ba(r)),i+=n;o=e[t],n=o+"",r=Pe-n.length,r&&(i+=Ba(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ta=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%yt|0,o=i/yt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*yt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,u,d,f,m,h,v,x,b,y,p,w,_,j,C,S,E,O=n.constructor,A=n.s==a.s?1:-1,N=n.d,T=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(Gr+"Division by zero");for(c=n.e-a.e,S=T.length,j=N.length,h=new O(A),v=h.d=[],u=0;T[u]==(N[u]||0);)++u;if(T[u]>(N[u]||0)&&--c,i==null?p=i=O.precision:o?p=i+(ot(n)-ot(a))+1:p=i,p<0)return new O(0);if(p=p/Pe+2|0,u=0,S==1)for(d=0,T=T[0],p++;(u<j||d)&&p--;u++)w=d*yt+(N[u]||0),v[u]=w/T|0,d=w%T|0;else{for(d=yt/(T[0]+1)|0,d>1&&(T=e(T,d),N=e(N,d),S=T.length,j=N.length),_=S,x=N.slice(0,S),b=x.length;b<S;)x[b++]=0;E=T.slice(),E.unshift(0),C=T[0],T[1]>=yt/2&&++C;do d=0,s=t(T,x,S,b),s<0?(y=x[0],S!=b&&(y=y*yt+(x[1]||0)),d=y/C|0,d>1?(d>=yt&&(d=yt-1),f=e(T,d),m=f.length,b=x.length,s=t(f,x,m,b),s==1&&(d--,r(f,S<m?E:T,m))):(d==0&&(s=d=1),f=T.slice()),m=f.length,m<b&&f.unshift(0),r(x,f,b),s==-1&&(b=x.length,s=t(T,x,S,b),s<1&&(d++,r(x,S<b?E:T,b))),b=x.length):s===0&&(d++,x=[0]),v[u++]=d,s&&x[0]?x[b++]=N[_]||0:(x=[N[_]],b=1);while((_++<j||x[0]!==void 0)&&p--)}return v[0]||v.shift(),h.e=c,Oe(h,o?i+ot(h)+1:i)}}();function w5(e,t){var r,n,a,i,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(ot(e)>16)throw Error(Ox+ot(e));if(!e.s)return new d(yr);for(Ue=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Pi(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(yr),d.precision=s;;){if(a=Oe(a.times(e),s),r=r.times(++c),o=i.plus(ta(a,r,s)),En(o.d).slice(0,s)===En(i.d).slice(0,s)){for(;u--;)i=Oe(i.times(i),s);return d.precision=f,t==null?(Ue=!0,Oe(i,f)):i}i=o}}function ot(e){for(var t=e.e*Pe,r=e.d[0];r>=10;r/=10)t++;return t}function Eg(e,t,r){if(t>e.LN10.sd())throw Ue=!0,r&&(e.precision=r),Error(Gr+"LN10 precision limit exceeded");return Oe(new e(e.LN10),t)}function Ba(e){for(var t="";e--;)t+="0";return t}function Ic(e,t){var r,n,a,i,o,s,c,u,d,f=1,m=10,h=e,v=h.d,x=h.constructor,b=x.precision;if(h.s<1)throw Error(Gr+(h.s?"NaN":"-Infinity"));if(h.eq(yr))return new x(0);if(t==null?(Ue=!1,u=b):u=t,h.eq(10))return t==null&&(Ue=!0),Eg(x,u);if(u+=m,x.precision=u,r=En(v),n=r.charAt(0),i=ot(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=En(h.d),n=r.charAt(0),f++;i=ot(h),n>1?(h=new x("0."+r),i++):h=new x(n+"."+r.slice(1))}else return c=Eg(x,u+2,b).times(i+""),h=Ic(new x(n+"."+r.slice(1)),u-m).plus(c),x.precision=b,t==null?(Ue=!0,Oe(h,b)):h;for(s=o=h=ta(h.minus(yr),h.plus(yr),u),d=Oe(h.times(h),u),a=3;;){if(o=Oe(o.times(d),u),c=s.plus(ta(o,new x(a),u)),En(c.d).slice(0,u)===En(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(Eg(x,u+2,b).times(i+""))),s=ta(s,new x(f),u),x.precision=b,t==null?(Ue=!0,Oe(s,b)):s;s=c,a+=2}}function tC(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=rl(r/Pe),e.d=[],n=(r+1)%Pe,r<0&&(n+=Pe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Pe;n<a;)e.d.push(+t.slice(n,n+=Pe));t=t.slice(n),n=Pe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ue&&(e.e>ph||e.e<-ph))throw Error(Ox+r)}else e.s=0,e.e=0,e.d=[0];return e}function Oe(e,t,r){var n,a,i,o,s,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Pe,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Pe),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Pe,a=n-Pe+o}if(r!==void 0&&(i=Pi(10,o-a-1),s=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?u/Pi(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ot(e),f.length=1,t=t-i-1,f[0]=Pi(10,(Pe-t%Pe)%Pe),e.e=rl(-t/Pe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Pi(10,Pe-n),f[d]=a>0?(u/Pi(10,o-a)%Pi(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==yt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=yt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ue&&(e.e>ph||e.e<-ph))throw Error(Ox+ot(e));return e}function _5(e,t){var r,n,a,i,o,s,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ue?Oe(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),a=Math.max(Math.ceil(h/Pe),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=yt-1;--c[i],c[a]+=yt}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ue?Oe(t,h):t):new m(0)}function so(e,t,r){var n,a=ot(e),i=En(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ba(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ba(-a-1)+i,r&&(n=r-o)>0&&(i+=Ba(n))):a>=o?(i+=Ba(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ba(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ba(n))),e.s<0?"-"+i:i}function rC(e,t){if(e.length>t)return e.length=t,!0}function j5(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Xi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return tC(o,i.toString())}else if(typeof i!="string")throw Error(Xi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,rK.test(i))tC(o,i);else throw Error(Xi+i)}if(a.prototype=Y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=j5,a.config=a.set=nK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nK(e){if(!e||typeof e!="object")throw Error(Gr+"Object expected");var t,r,n,a=["precision",1,tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(rl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Xi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xi+r+": "+n);return this}var Ax=j5(tK);yr=new Ax(1);const we=Ax;var aK=e=>e,S5={},C5=e=>e===S5,nC=e=>function t(){return arguments.length===0||arguments.length===1&&C5(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},E5=(e,t)=>e===1?t:nC(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==S5).length;return i>=e?t(...n):E5(e-i,nC(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=n.map(d=>C5(d)?s.shift():d);return t(...u,...s)}))}),iK=e=>E5(e.length,e),Ny=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},oK=iK((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),sK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return aK;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((s,c)=>c(s),i(...arguments))}};function O5(e){var t;return e===0?t=1:t=Math.floor(new we(e).abs().log(10).toNumber())+1,t}function A5(e,t,r){for(var n=new we(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var k5=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},T5=(e,t,r)=>{if(e.lte(0))return new we(0);var n=O5(e.toNumber()),a=new we(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new we(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?new we(c.toNumber()):new we(Math.ceil(c.toNumber()))},lK=(e,t,r)=>{var n=new we(1),a=new we(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new we(10).pow(O5(e)-1),a=new we(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new we(Math.floor(e)))}else e===0?a=new we(Math.floor((t-1)/2)):r||(a=new we(Math.floor(e)));var o=Math.floor((t-1)/2),s=sK(oK(c=>a.add(new we(c-o).mul(n)).toNumber()),Ny);return s(0,t)},R5=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new we(0),tickMin:new we(0),tickMax:new we(0)};var o=T5(new we(r).sub(t).div(n-1),a,i),s;t<=0&&r>=0?s=new we(0):(s=new we(t).add(r).div(2),s=s.sub(new we(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new we(r).sub(s).div(o).toNumber()),d=c+u+1;return d>n?R5(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:s.sub(new we(c).mul(o)),tickMax:s.add(new we(u).mul(o))})},cK=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[s,c]=k5([r,n]);if(s===-1/0||c===1/0){var u=c===1/0?[s,...Ny(0,a-1).map(()=>1/0)]:[...Ny(0,a-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(s===c)return lK(s,a,i);var{step:d,tickMin:f,tickMax:m}=R5(s,c,o,i,0),h=A5(f,m.add(new we(.1).mul(d)),d);return r>n?h.reverse():h},uK=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=k5([n,a]);if(o===-1/0||s===1/0)return[n,a];if(o===s)return[o];var c=Math.max(r,2),u=T5(new we(s).sub(o).div(c-1),i,0),d=[...A5(new we(o),new we(s),u),s];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},N5=e=>e.rootProps.maxBarSize,dK=e=>e.rootProps.barGap,D5=e=>e.rootProps.barCategoryGap,fK=e=>e.rootProps.barSize,Lm=e=>e.rootProps.stackOffset,P5=e=>e.rootProps.reverseStackOrder,kx=e=>e.options.chartName,Tx=e=>e.rootProps.syncId,M5=e=>e.rootProps.syncMethod,Rx=e=>e.options.eventEmitter,Vt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Fn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},hr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Um=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Fn.angleAxisId,includeHidden:!1,name:void 0,reversed:Fn.reversed,scale:Fn.scale,tick:Fn.tick,tickCount:void 0,ticks:void 0,type:Fn.type,unit:void 0},mK={allowDataOverflow:hr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hr.scale,tick:hr.tick,tickCount:hr.tickCount,ticks:void 0,type:hr.type,unit:void 0},pK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Fn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fn.scale,tick:Fn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gK={allowDataOverflow:hr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hr.scale,tick:hr.tick,tickCount:hr.tickCount,ticks:void 0,type:"category",unit:void 0},Nx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?pK:hK,Dx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?gK:mK,qm=e=>e.polarOptions,Px=B([ba,xa,St],mH),z5=B([qm,Px],(e,t)=>{if(e!=null)return fn(e.innerRadius,t,0)}),B5=B([qm,Px],(e,t)=>{if(e!=null)return fn(e.outerRadius,t,t*.8)}),vK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},I5=B([qm],vK);B([Nx,I5],Um);var $5=B([Px,z5,B5],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});B([Dx,$5],Um);var L5=B([je,qm,z5,B5,ba,xa],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:u}=t;return{cx:fn(o,a,a/2),cy:fn(s,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),ht=(e,t)=>t,Wm=(e,t,r)=>r;function Mx(e){return e==null?void 0:e.id}function U5(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(s=>{var c,u=(c=s.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Mx(s);u.forEach((f,m)=>{var h=i==null||a?m:String(zt(f,i,null)),v=zt(f,s.dataKey,0),x;o.has(h)?x=o.get(h):x={},Object.assign(x,{[d]:v}),o.set(h,x)})}}),Array.from(o.values())}function Hm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Fm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Vm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function yK(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var mt=e=>{var t=je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},nl=e=>e.tooltip.settings.axisId;function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return(t=xK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xK(e){var t=wK(e,"string");return typeof t=="symbol"?t:t+""}function wK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dy=[0,"auto"],gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},q5=(e,t)=>e.cartesianAxis.xAxis[t],ja=(e,t)=>{var r=q5(e,t);return r??gt},vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Dy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gu},W5=(e,t)=>e.cartesianAxis.yAxis[t],Sa=(e,t)=>{var r=W5(e,t);return r??vt},_K={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??_K},Xt=(e,t,r)=>{switch(t){case"xAxis":return ja(e,r);case"yAxis":return Sa(e,r);case"zAxis":return zx(e,r);case"angleAxis":return Nx(e,r);case"radiusAxis":return Dx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jK=(e,t,r)=>{switch(t){case"xAxis":return ja(e,r);case"yAxis":return Sa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ju=(e,t,r)=>{switch(t){case"xAxis":return ja(e,r);case"yAxis":return Sa(e,r);case"angleAxis":return Nx(e,r);case"radiusAxis":return Dx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},H5=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function F5(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Bx=e=>e.graphicalItems.cartesianItems,SK=B([ht,Wm],F5),V5=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Su=B([Bx,Xt,SK],V5,{memoizeOptions:{resultEqualityCheck:Vm}}),K5=B([Su],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Hm)),G5=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),CK=B([Su],G5),Y5=e=>e.map(t=>t.data).filter(Boolean).flat(1),EK=B([Su],Y5,{memoizeOptions:{resultEqualityCheck:Vm}}),X5=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Ix=B([EK,v5],X5),Z5=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:zt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:zt(a,n)}))):e.map(n=>({value:n})),Km=B([Ix,Xt,Su],Z5);function J5(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Fd(e){if(Tn(e)||e instanceof Date){var t=Number(e);if(We(t))return t}}function iC(e){if(Array.isArray(e)){var t=[Fd(e[0]),Fd(e[1])];return pi(t)?t:void 0}var r=Fd(e);if(r!=null)return[r,r]}function pa(e){return e.map(Fd).filter(J9)}function OK(e,t,r){return!r||typeof t!="number"||dn(t)?[]:r.length?pa(r.flatMap(n=>{var a=zt(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!We(i)||!We(o)))return[t-i,t+o]})):[]}var pt=e=>{var t=mt(e),r=nl(e);return ju(e,t,r)},Cu=B([pt],e=>e==null?void 0:e.dataKey),AK=B([K5,v5,pt],U5),Q5=(e,t,r,n)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var c=o[s.stackId];return c==null&&(c=[]),c.push(s),o[s.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,c]=o,u=n?[...c].reverse():c,d=u.map(Mx);return[s,{stackedData:lq(e,d,r),graphicalItems:u}]}))},Py=B([AK,K5,Lm,P5],Q5),eD=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=hq(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},kK=B([Xt],e=>e.allowDataOverflow),$x=e=>{var t;if(e==null||!("domain"in e))return Dy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=pa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Dy},tD=B([Xt],$x),rD=B([tD,kK],y5),TK=B([Py,_a,ht,rD],eD,{memoizeOptions:{resultEqualityCheck:Fm}}),Lx=e=>e.errorBars,RK=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>J5(r,n)),vh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),s=Math.max(...i);return[o,s]}},nD=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(s=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>J5(a,y)),m=zt(s,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),h=OK(s,m,f);if(h.length>=2){var v=Math.min(...h),x=Math.max(...h);(i==null||v<i)&&(i=v),(o==null||x>o)&&(o=x)}var b=iC(m);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var c=iC(zt(s,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),We(i)&&We(o))return[i,o]},NK=B([Ix,Xt,CK,Lx,ht],nD,{memoizeOptions:{resultEqualityCheck:Fm}});function DK(e){var{value:t}=e;if(Tn(t)||t instanceof Date)return t}var PK=(e,t,r)=>{var n=e.map(DK).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&KT(n))?zN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},aD=e=>e.referenceElements.dots,al=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),MK=B([aD,ht,Wm],al),iD=e=>e.referenceElements.areas,zK=B([iD,ht,Wm],al),oD=e=>e.referenceElements.lines,BK=B([oD,ht,Wm],al),sD=(e,t)=>{if(e!=null){var r=pa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},IK=B(MK,ht,sD),lD=(e,t)=>{if(e!=null){var r=pa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},$K=B([zK,ht],lD);function LK(e){var t;if(e.x!=null)return pa([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:pa(r)}function UK(e){var t;if(e.y!=null)return pa([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:pa(r)}var cD=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?LK(n):UK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},qK=B([BK,ht],cD),WK=B(IK,qK,$K,(e,t,r)=>vh(e,r,t)),uD=(e,t,r,n,a,i,o,s)=>{if(r!=null)return r;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=c?vh(n,i,a):vh(i,a);return eK(t,u,e.allowDataOverflow)},HK=B([Xt,tD,rD,TK,NK,WK,je,ht],uD,{memoizeOptions:{resultEqualityCheck:Fm}}),FK=[0,1],dD=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,u=yo(t,i);if(u&&s==null){var d;return zN(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?PK(n,e,u):a==="expand"?FK:o}},Ux=B([Xt,je,Ix,Km,Lm,ht,HK],dD),fD=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(fu(i));return s in Ml?s:"point"}}},Eu=B([Xt,je,H5,kx,ht],fD);function VK(e){if(e!=null){if(e in Ml)return Ml[e]();var t="scale".concat(fu(e));if(t in Ml)return Ml[t]()}}function qx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=VK(t);if(a!=null){var i=a.domain(r).range(n);return nq(i),i}}}var hD=(e,t,r)=>{var n=$x(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&pi(e))return cK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pi(e))return uK(e,t.tickCount,t.allowDecimals)}},Wx=B([Ux,ju,Eu],hD),mD=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],s=r[r.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},KK=B([Xt,Ux,Wx,ht],mD),GK=B(Km,Xt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(pa(e.map(f=>f.value))).sort((f,m)=>f-m),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var c=n[s],u=n[s+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),pD=B(GK,je,D5,St,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!We(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=fn(r,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),YK=(e,t,r)=>{var n=ja(e,t);return n==null||typeof n.padding!="string"?0:pD(e,"xAxis",t,r,n.padding)},XK=(e,t,r)=>{var n=Sa(e,t);return n==null||typeof n.padding!="string"?0:pD(e,"yAxis",t,r,n.padding)},ZK=B(ja,YK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),JK=B(Sa,XK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),QK=B([St,ZK,Om,Em,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),eG=B([St,je,JK,Om,Em,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ou=(e,t,r,n)=>{var a;switch(t){case"xAxis":return QK(e,r,n);case"yAxis":return eG(e,r,n);case"zAxis":return(a=zx(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return I5(e);case"radiusAxis":return $5(e,r);default:return}},gD=B([Xt,Ou],Um),Gm=B([Xt,Eu,KK,gD],qx);B([Su,Lx,ht],RK);function vD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ym=(e,t)=>t,Xm=(e,t,r)=>r,tG=B(Sm,Ym,Xm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(vD)),rG=B(Cm,Ym,Xm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(vD)),yD=(e,t)=>({width:e.width,height:t.height}),nG=(e,t)=>{var r=typeof t.width=="number"?t.width:gu;return{width:r,height:e.height}},bD=B(St,ja,yD),aG=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},iG=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},oG=B(xa,St,tG,Ym,Xm,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=yD(t,s);o==null&&(o=aG(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[s.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),sG=B(ba,St,rG,Ym,Xm,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=nG(t,s);o==null&&(o=iG(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[s.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),lG=(e,t)=>{var r=ja(e,t);if(r!=null)return oG(e,r.orientation,r.mirror)},cG=B([St,ja,lG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),uG=(e,t)=>{var r=Sa(e,t);if(r!=null)return sG(e,r.orientation,r.mirror)},dG=B([St,Sa,uG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),xD=B(St,Sa,(e,t)=>{var r=typeof t.width=="number"?t.width:gu;return{width:r,height:e.height}}),oC=(e,t,r)=>{switch(t){case"xAxis":return bD(e,r).width;case"yAxis":return xD(e,r).height;default:return}},wD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,s=yo(e,n),c=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&KT(c))return c}},Hx=B([je,Km,Xt,ht],wD),_D=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=yo(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},Fx=B([je,Km,ju,ht],_D),sC=B([je,jK,Eu,Gm,Hx,Fx,Ou,Wx,ht],(e,t,r,n,a,i,o,s,c)=>{if(t!=null){var u=yo(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),fG=(e,t,r,n,a,i,o,s,c)=>{if(!(t==null||n==null)){var u=yo(e,c),{type:d,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/h:0;v=c==="angleAxis"&&i!=null&&i.length>=2?tr(i[0]-i[1])*2*v:v;var x=f||a;if(x){var b=x.map((y,p)=>{var w=o?o.indexOf(y):y;return{index:p,coordinate:n(w)+v,value:y,offset:v}});return b.filter(y=>We(y.coordinate))}return u&&s?s.map((y,p)=>({coordinate:n(y)+v,value:y,index:p,offset:v})).filter(y=>We(y.coordinate)):n.ticks?n.ticks(m).map(y=>({coordinate:n(y)+v,value:y,offset:v})):n.domain().map((y,p)=>({coordinate:n(y)+v,value:o?o[y]:y,index:p,offset:v}))}},jD=B([je,ju,Eu,Gm,Wx,Ou,Hx,Fx,ht],fG),hG=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=yo(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?tr(n[0]-n[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Ds=B([je,ju,Gm,Ou,Hx,Fx,ht],hG),Ps=B(Xt,Gm,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})}),mG=B([Xt,Eu,Ux,gD],qx);B((e,t,r)=>zx(e,r),mG,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})});var pG=B([je,Sm,Cm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),SD=e=>e.options.defaultTooltipEventType,CD=e=>e.options.validateTooltipEventTypes;function ED(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Vx(e,t){var r=SD(e),n=CD(e);return ED(t,r,n)}function gG(e){return te(t=>Vx(t,e))}var OD=(e,t)=>{var r,n=Number(t);if(!(dn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},vG=e=>e.tooltip.settings,Ha={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yG={itemInteraction:{click:Ha,hover:Ha},axisInteraction:{click:Ha,hover:Ha},keyboardInteraction:Ha,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},AD=sr({name:"tooltip",initialState:yG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Le()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ln(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Le()},removeTooltipEntrySettings:{reducer(e,t){var r=ln(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Le()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:bG,replaceTooltipEntrySettings:xG,removeTooltipEntrySettings:wG,setTooltipSettingsState:_G,setActiveMouseOverItemIndex:kD,mouseLeaveItem:jG,mouseLeaveChart:TD,setActiveClickItemIndex:SG,setMouseOverAxisIndex:RD,setMouseClickAxisIndex:CG,setSyncInteraction:My,setKeyboardInteraction:zy}=AD.actions,EG=AD.reducer;function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){OG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OG(e,t,r){return(t=AG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TG(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function RG(e){return e.index!=null}var ND=(e,t,r,n)=>{if(t==null)return Ha;var a=TG(e,t,r);if(a==null)return Ha;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(RG(a)){if(i)return wd(wd({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return wd(wd({},Ha),{},{coordinate:a.coordinate})};function NG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function DG(e,t){var r=NG(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function PG(e,t,r){if(r==null||t==null)return!0;var n=zt(e,t);return n==null||!pi(r)?!0:DG(n,r)}var Kx=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!We(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(o,Math.min(i,s)),u=t[c];return u==null||PG(u,r,n)?String(c):null},DD=(e,t,r,n,a,i,o,s)=>{if(!(i==null||s==null)){var c=o[0],u=c==null?void 0:s(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},PD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Au=e=>e.options.tooltipPayloadSearcher,il=e=>e.tooltip;function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IG(e,t){return e??t}var MD=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,h)=>{var v,{dataDefinedOnItem:x,settings:b}=h,y=IG(x,s),p=Array.isArray(y)?tN(y,u,d):y,w=(v=b==null?void 0:b.dataKey)!==null&&v!==void 0?v:n,_=b==null?void 0:b.nameKey,j;if(n&&Array.isArray(p)&&!Array.isArray(p[0])&&o==="axis"?j=Z9(p,n,a):j=i(p,t,c,_),Array.isArray(j))j.forEach(S=>{var E=uC(uC({},b),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});m.push(jj({tooltipEntrySettings:E,dataKey:S.dataKey,payload:S.payload,value:zt(S.payload,S.dataKey),name:S.name}))});else{var C;m.push(jj({tooltipEntrySettings:b,dataKey:w,payload:j,value:zt(j,w),name:(C=zt(j,_))!==null&&C!==void 0?C:b==null?void 0:b.name}))}return m},f)}},Gx=B([pt,je,H5,kx,mt],fD),$G=B([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),LG=B([mt,nl],F5),ol=B([$G,pt,LG],V5,{memoizeOptions:{resultEqualityCheck:Vm}}),UG=B([ol],e=>e.filter(Hm)),qG=B([ol],Y5,{memoizeOptions:{resultEqualityCheck:Vm}}),sl=B([qG,_a],X5),WG=B([UG,_a,pt],U5),Yx=B([sl,pt,ol],Z5),zD=B([pt],$x),HG=B([pt],e=>e.allowDataOverflow),BD=B([zD,HG],y5),FG=B([ol],e=>e.filter(Hm)),VG=B([WG,FG,Lm,P5],Q5),KG=B([VG,_a,mt,BD],eD),GG=B([ol],G5),YG=B([sl,pt,GG,Lx,mt],nD,{memoizeOptions:{resultEqualityCheck:Fm}}),XG=B([aD,mt,nl],al),ZG=B([XG,mt],sD),JG=B([iD,mt,nl],al),QG=B([JG,mt],lD),eY=B([oD,mt,nl],al),tY=B([eY,mt],cD),rY=B([ZG,tY,QG],vh),nY=B([pt,zD,BD,KG,YG,rY,je,mt],uD),ku=B([pt,je,sl,Yx,Lm,mt,nY],dD),aY=B([ku,pt,Gx],hD),iY=B([pt,ku,aY,mt],mD),ID=e=>{var t=mt(e),r=nl(e),n=!1;return Ou(e,t,r,n)},$D=B([pt,ID],Um),LD=B([pt,Gx,iY,$D],qx),oY=B([je,Yx,pt,mt],wD),sY=B([je,Yx,pt,mt],_D),lY=(e,t,r,n,a,i,o,s)=>{if(t){var{type:c}=t,u=yo(e,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?tr(a[0]-a[1])*2*f:f,u&&o?o.map((m,h)=>({coordinate:n(m)+f,value:m,index:h,offset:f})):n.domain().map((m,h)=>({coordinate:n(m)+f,value:i?i[m]:m,index:h,offset:f}))}}},Ca=B([je,pt,Gx,LD,ID,oY,sY,mt],lY),Xx=B([SD,CD,vG],(e,t,r)=>ED(r.shared,e,t)),UD=e=>e.tooltip.settings.trigger,Zx=e=>e.tooltip.settings.defaultIndex,Tu=B([il,Xx,UD,Zx],ND),Ms=B([Tu,sl,Cu,ku],Kx),qD=B([Ca,Ms],OD),WD=B([Tu],e=>{if(e)return e.dataKey});B([Tu],e=>{if(e)return e.graphicalItemId});var HD=B([il,Xx,UD,Zx],PD),cY=B([ba,xa,je,St,Ca,Zx,HD,Au],DD),uY=B([Tu,cY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),dY=B([Tu],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),fY=B([HD,Ms,_a,Cu,qD,Au,Xx],MD);B([fY],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return(t=mY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gY=()=>te(pt),vY=()=>{var e=gY(),t=te(Ca),r=te(LD);return Yf(!e||!r?void 0:fC(fC({},e),{},{scale:r}),t)};function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){yY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yY(e,t,r){return(t=bY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wY=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},_Y=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Po(Po(Po({},n),Pt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:c}=n;return Po(Po(Po({},n),Pt(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function jY(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var FD=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var c,u,d,f,m,h=s>0?(c=r[s-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,v=(d=r[s])===null||d===void 0?void 0:d.coordinate,x=s>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(m=r[s+1])===null||m===void 0?void 0:m.coordinate,b=void 0;if(!(h==null||v==null||x==null))if(tr(v-h)!==tr(x-v)){var y=[];if(tr(x-v)===tr(a[1]-a[0])){b=x;var p=v+a[1]-a[0];y[0]=Math.min(p,(p+h)/2),y[1]=Math.max(p,(p+h)/2)}else{b=h;var w=x+a[1]-a[0];y[0]=Math.min(v,(w+v)/2),y[1]=Math.max(v,(w+v)/2)}var _=[Math.min(v,(b+v)/2),Math.max(v,(b+v)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){var j;return(j=r[s])===null||j===void 0?void 0:j.index}}else{var C=Math.min(h,x),S=Math.max(h,x);if(e>(C+v)/2&&e<=(S+v)/2){var E;return(E=r[s])===null||E===void 0?void 0:E.index}}}else if(t)for(var O=0;O<o;O++){var A=t[O];if(A!=null){var N=t[O+1],T=t[O-1];if(O===0&&N!=null&&e<=(A.coordinate+N.coordinate)/2||O===o-1&&T!=null&&e>(A.coordinate+T.coordinate)/2||O>0&&O<o-1&&T!=null&&N!=null&&e>(A.coordinate+T.coordinate)/2&&e<=(A.coordinate+N.coordinate)/2)return A.index}}return-1},SY=()=>te(kx),Jx=(e,t)=>t,VD=(e,t,r)=>r,Qx=(e,t,r,n)=>n,CY=B(Ca,e=>mm(e,t=>t.coordinate)),e1=B([il,Jx,VD,Qx],ND),t1=B([e1,sl,Cu,ku],Kx),EY=(e,t,r)=>{if(t!=null){var n=il(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},KD=B([il,Jx,VD,Qx],PD),yh=B([ba,xa,je,St,Ca,Qx,KD,Au],DD),OY=B([e1,yh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),GD=B([Ca,t1],OD),AY=B([KD,t1,_a,Cu,GD,Au,Jx],MD),kY=B([e1,t1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),TY=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&jY(e,o)){var s=mq(e,t),c=FD(s,i,a,r,n),u=wY(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},RY=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var s=bH(e,r);if(s){var c=pq(s,t),u=FD(c,o,i,n,a),d=_Y(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},NY=(e,t,r,n,a,i,o,s)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?TY(e,t,n,a,i,o,s):RY(e,t,r,n,a,i,o)},DY=B(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),PY=B(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Vt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:yK}});function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){MY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t,r){return(t=zY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IY={},$Y={zIndexMap:Object.values(Vt).reduce((e,t)=>pC(pC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),IY)},LY=new Set(Object.values(Vt));function UY(e){return LY.has(e)}var YD=sr({name:"zIndex",initialState:$Y,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Le()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!UY(r)&&delete e.zIndexMap[r])},prepare:Le()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Le()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Le()}}}),{registerZIndexPortal:qY,unregisterZIndexPortal:WY,registerZIndexPortalElement:HY,unregisterZIndexPortalElement:FY}=YD.actions,VY=YD.reducer;function Ea(e){var{zIndex:t,children:r}=e,n=Hq(),a=n&&t!==void 0&&t!==0,i=lr(),o=Xe();g.useLayoutEffect(()=>a?(o(qY({zIndex:t})),()=>{o(WY({zIndex:t}))}):hu,[o,t,a]);var s=te(c=>DY(c,t,i));return a?s?Fa.createPortal(r,s):null:r}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XY(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function ZY(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,m=n,h=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var v,x,b;if(d==="ScatterChart")v=f,x=NW,b=Vt.cursorLine;else if(d==="BarChart")v=DW(s,f,i,o),x=kN,b=Vt.cursorRectangle;else if(s==="radial"&&XT(f)){var{cx:y,cy:p,radius:w,startAngle:_,endAngle:j}=TN(f);v={cx:y,cy:p,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},x=NN,b=Vt.cursorLine}else v={points:jH(s,f,i)},x=SN,b=Vt.cursorLine;var C=typeof c=="object"&&"className"in c?c.className:void 0,S=_d(_d(_d(_d({stroke:"#ccc",pointerEvents:"none"},i),v),kb(c)),{},{payload:m,payloadIndex:h,className:Ie("recharts-tooltip-cursor",C)});return g.createElement(Ea,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(XY,{cursor:c,cursorComp:x,cursorProps:S}))}function JY(e){var t=vY(),r=hN(),n=vu(),a=SY();return t==null||r==null||n==null||a==null?null:g.createElement(ZY,By({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var XD=g.createContext(null),QY=()=>g.useContext(XD),ZD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,v=new Array(h);m<h;m++)v[m]=f[m].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,m,h,v){var x=r?r+u:u;if(!this._events[x])return!1;var b=this._events[x],y=arguments.length,p,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,m),!0;case 5:return b.fn.call(b.context,d,f,m,h),!0;case 6:return b.fn.call(b.context,d,f,m,h,v),!0}for(w=1,p=new Array(y-1);w<y;w++)p[w-1]=arguments[w];b.fn.apply(b.context,p)}else{var _=b.length,j;for(w=0;w<_;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),y){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,f);break;case 4:b[w].fn.call(b[w].context,d,f,m);break;default:if(!p)for(j=1,p=new Array(y-1);j<y;j++)p[j-1]=arguments[j];b[w].fn.apply(b[w].context,p)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!m||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var x=0,b=[],y=v.length;x<y;x++)(v[x].fn!==d||m&&!v[x].once||f&&v[x].context!==f)&&b.push(v[x]);b.length?this._events[h]=b.length===1?b[0]:b:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(ZD);var eX=ZD.exports;const tX=va(eX);var $c=new tX,Iy="recharts.syncEvent.tooltip",vC="recharts.syncEvent.brush";function rX(e,t){if(t){var r=Number.parseInt(t,10);if(!dn(r))return e==null?void 0:e[r]}}var nX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},JD=sr({name:"options",initialState:nX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aX=JD.reducer,{createEventEmitter:iX}=JD.actions;function oX(e){return e.tooltip.syncInteraction}var sX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QD=sr({name:"chartData",initialState:sX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:yC,setDataStartEndIndexes:lX,setComputedData:Bre}=QD.actions,cX=QD.reducer,uX=["x","y"];function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return(t=fX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mX(e,t){if(e==null)return{};var r,n,a=pX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gX(){var e=te(Tx),t=te(Rx),r=Xe(),n=te(M5),a=te(Ca),i=vu(),o=Am(),s=te(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return hu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:v,y:x}=h,b=mX(h,uX),{x:y,y:p,width:w,height:_}=d.payload.sourceViewBox,j=Mo(Mo({},b),{},{x:o.x+(w?(v-y)/w:0)*o.width,y:o.y+(_?(x-p)/_:0)*o.height});r(Mo(Mo({},d),{},{payload:Mo(Mo({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var C;if(typeof n=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(a,S);C=a[E]}else n==="value"&&(C=a.find(D=>String(D.value)===d.payload.label));var{coordinate:O}=d.payload;if(C==null||d.payload.active===!1||O==null||o==null){r(My({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:N}=O,T=Math.min(A,o.x+o.width),z=Math.min(N,o.y+o.height),L={x:i==="horizontal"?C.coordinate:T,y:i==="horizontal"?z:C.coordinate},H=My({active:d.payload.active,coordinate:L,dataKey:d.payload.dataKey,index:String(C.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(H)}}};return $c.on(Iy,c),()=>{$c.off(Iy,c)}},[s,r,t,e,n,a,i,o])}function vX(){var e=te(Tx),t=te(Rx),r=Xe();g.useEffect(()=>{if(e==null)return hu;var n=(a,i,o)=>{t!==o&&e===a&&r(lX(i))};return $c.on(vC,n),()=>{$c.off(vC,n)}},[r,t,e])}function yX(){var e=Xe();g.useEffect(()=>{e(iX())},[e]),gX(),vX()}function bX(e,t,r,n,a,i){var o=te(h=>EY(h,e,t)),s=te(Rx),c=te(Tx),u=te(M5),d=te(oX),f=d==null?void 0:d.active,m=Am();g.useEffect(()=>{if(!f&&c!=null&&s!=null){var h=My({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});$c.emit(Iy,c,h,s)}},[f,r,o,a,n,s,c,u,i,m])}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){xX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jX(e){return e.dataKey}function SX(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(dW,t)}var _C=[],CX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function EX(e){var t,r,n=kr(e,CX),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:h,reverseDirection:v,useTranslate3d:x,wrapperStyle:b,cursor:y,shared:p,trigger:w,defaultIndex:_,portal:j,axisId:C}=n,S=Xe(),E=typeof _=="number"?String(_):_;g.useEffect(()=>{S(_G({shared:p,trigger:w,axisId:C,active:a,defaultIndex:E}))},[S,p,w,C,a,E]);var O=Am(),A=jN(),N=gG(p),{activeIndex:T,isActive:z}=(t=te(ge=>kY(ge,N,w,E)))!==null&&t!==void 0?t:{},L=te(ge=>AY(ge,N,w,E)),H=te(ge=>GD(ge,N,w,E)),D=te(ge=>OY(ge,N,w,E)),I=L,k=QY(),R=(r=a??z)!==null&&r!==void 0?r:!1,[M,K]=JU([I,R]),V=N==="axis"?H:void 0;bX(N,w,D,V,T,R);var ee=j??k;if(ee==null||O==null||N==null)return null;var Z=I??_C;R||(Z=_C),u&&Z.length&&(Z=gU(Z.filter(ge=>ge.value!=null&&(ge.hide!==!0||n.includeHidden)),m,jX));var ce=Z.length>0,se=g.createElement(yW,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:R,coordinate:D,hasPayload:ce,offset:f,position:h,reverseDirection:v,useTranslate3d:x,viewBox:O,wrapperStyle:b,lastBoundingBox:M,innerRef:K,hasPortalFromProps:!!j},SX(c,wC(wC({},n),{},{payload:Z,label:V,active:R,activeIndex:T,coordinate:D,accessibilityLayer:A})));return g.createElement(g.Fragment,null,Fa.createPortal(se,ee),R&&g.createElement(JY,{cursor:y,tooltipEventType:N,coordinate:D,payload:Z,index:T}))}var r1=e=>null;r1.displayName="Cell";function OX(e,t,r){return(t=AX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TX{constructor(t){OX(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=DX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MX={cacheSize:2e3,enableCache:!0},eP=RX({},MX),SC=new TX(eP.cacheSize),zX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CC="recharts_measurement_span";function BX(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var EC=(e,t)=>{try{var r=document.getElementById(CC);r||(r=document.createElement("span"),r.setAttribute("id",CC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,zX,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},rc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Dm.isSsr)return{width:0,height:0};if(!eP.enableCache)return EC(t,r);var n=BX(t,r),a=SC.get(n);if(a)return a;var i=EC(t,r);return SC.set(n,i),i},tP;function IX(e,t,r){return(t=$X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},HX=["cm","mm","pt","pc","in","Q","px"];function FX(e){return HX.includes(e)}var ts="NaN";function VX(e,t){return e*WX[t]}class kt{static parse(t){var r,[,n,a]=(r=qX.exec(t))!==null&&r!==void 0?r:[];return n==null?kt.NaN:new kt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,dn(t)&&(this.unit=""),r!==""&&!UX.test(r)&&(this.num=NaN,this.unit=""),FX(r)&&(this.num=VX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kt(NaN,""):new kt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kt(NaN,""):new kt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kt(NaN,""):new kt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kt(NaN,""):new kt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return dn(this.num)}}tP=kt;IX(kt,"NaN",new tP(NaN,""));function rP(e){if(e==null||e.includes(ts))return ts;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=OC.exec(t))!==null&&r!==void 0?r:[],o=kt.parse(n??""),s=kt.parse(i??""),c=a==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return ts;t=t.replace(OC,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=AC.exec(t))!==null&&u!==void 0?u:[],h=kt.parse(d??""),v=kt.parse(m??""),x=f==="+"?h.add(v):h.subtract(v);if(x.isNaN())return ts;t=t.replace(AC,x.toString())}return t}var kC=/\(([^()]*)\)/;function KX(e){for(var t=e,r;(r=kC.exec(t))!=null;){var[,n]=r;t=t.replace(kC,rP(n))}return t}function GX(e){var t=e.replace(/\s+/g,"");return t=KX(t),t=rP(t),t}function YX(e){try{return GX(e)}catch{return ts}}function Og(e){var t=YX(e.slice(5,-1));return t===ts?"":t}var XX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ZX=["dx","dy","angle","className","breakAll"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function TC(e,t){if(e==null)return{};var r,n,a=JX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nP=/[ \f\n\r\t\v\u2028\u2029]+/,aP=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];jt(t)||(r?a=t.toString().split(""):a=t.toString().split(nP));var i=a.map(s=>({word:s,width:rc(s,n).width})),o=r?0:rc("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function QX(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var iP=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:s}=i,c=a[a.length-1];if(c&&s!=null&&(t==null||n||c.width+s+r<Number(t)))c.words.push(o),c.width+=s+r;else{var u={words:[o],width:s};a.push(u)}return a},[]),oP=e=>e.reduce((t,r)=>t.width>r.width?t:r),eZ="",RC=(e,t,r,n,a,i,o,s)=>{var c=e.slice(0,t),u=aP({breakAll:r,style:n,children:c+eZ});if(!u)return[!1,[]];var d=iP(u.wordsWithComputedWidth,i,o,s),f=d.length>a||oP(d).width>Number(i);return[f,d]},tZ=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:s,breakAll:c}=e,u=J(i),d=String(o),f=iP(t,n,r,a);if(!u||a)return f;var m=f.length>i||oP(f).width>Number(n);if(!m)return f;for(var h=0,v=d.length-1,x=0,b;h<=v&&x<=d.length-1;){var y=Math.floor((h+v)/2),p=y-1,[w,_]=RC(d,p,c,s,i,n,r,a),[j]=RC(d,y,c,s,i,n,r,a);if(!w&&!j&&(h=y+1),w&&j&&(v=y-1),!w&&j){b=_;break}x++}return b||f},NC=e=>{var t=jt(e)?[]:e.toString().split(nP);return[{words:t,width:void 0}]},rZ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Dm.isSsr){var s,c,u=aP({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,c=f}else return NC(n);return tZ({breakAll:i,children:n,maxLines:o,style:a},s,c,t,!!r)}return NC(n)},sP="#808080",nZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:sP,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},n1=g.forwardRef((e,t)=>{var r=kr(e,nZ),{x:n,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=TC(r,XX),m=g.useMemo(()=>rZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:h,dy:v,angle:x,className:b,breakAll:y}=f,p=TC(f,ZX);if(!Tn(n)||!Tn(a)||m.length===0)return null;var w=Number(n)+(J(h)?h:0),_=Number(a)+(J(v)?v:0);if(!We(w)||!We(_))return null;var j;switch(d){case"start":j=Og("calc(".concat(o,")"));break;case"middle":j=Og("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=Og("calc(".concat(m.length-1," * -").concat(i,")"));break}var C=[];if(c){var S=m[0].width,{width:E}=f;C.push("scale(".concat(J(E)&&J(S)?E/S:1,")"))}return x&&C.push("rotate(".concat(x,", ").concat(w,", ").concat(_,")")),C.length&&(p.transform=C.join(" ")),g.createElement("text",$y({},Vr(p),{ref:t,x:w,y:_,className:Ie("recharts-text",b),textAnchor:u,fill:s.includes("url")?sP:s}),m.map((O,A)=>{var N=O.words.join(y?"":" ");return g.createElement("tspan",{x:w,dy:A===0?j:i,key:"".concat(N,"-").concat(A)},N)}))});n1.displayName="Text";var aZ=["labelRef"],iZ=["content"];function DC(e,t){if(e==null)return{};var r,n,a=oZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){sZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t,r){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vn.apply(null,arguments)}var lP=g.createContext(null),uZ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:s}=e,c=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return g.createElement(lP.Provider,{value:c},s)},cP=()=>{var e=g.useContext(lP),t=Am();return e||fN(t)},dZ=g.createContext(null),fZ=()=>{var e=g.useContext(dZ),t=te(L5);return e||t},hZ=e=>{var{value:t,formatter:r}=e,n=jt(e.children)?t:e.children;return typeof r=="function"?r(n):n},a1=e=>e!=null&&typeof e=="function",mZ=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},pZ=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:s,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:h}=a,v=(u+d)/2,x=mZ(f,m),b=x>=0?1:-1,y,p;switch(t){case"insideStart":y=f+b*i,p=h;break;case"insideEnd":y=m-b*i,p=!h;break;case"end":y=m+b*i,p=h;break;default:throw new Error("Unsupported position ".concat(t))}p=x<=0?p:!p;var w=Pt(s,c,v,y),_=Pt(s,c,v,y+(p?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(p?0:1,`,
    `).concat(_.x,",").concat(_.y),C=jt(e.id)?Ec("recharts-radial-line-"):e.id;return g.createElement("text",Vn({},n,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:C,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(C)},r))},gZ=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:d,y:f}=Pt(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:h,y:v}=Pt(n,a,m,u);return{x:h,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Ly=e=>"cx"in e&&J(e.cx),vZ=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!Ly(r)&&(i=r);var{x:o,y:s,upperWidth:c,lowerWidth:u,height:d}=t,f=o,m=o+(c-u)/2,h=(f+m)/2,v=(c+u)/2,x=f+c/2,b=d>=0?1:-1,y=b*n,p=b>0?"end":"start",w=b>0?"start":"end",_=c>=0?1:-1,j=_*n,C=_>0?"end":"start",S=_>0?"start":"end";if(a==="top"){var E={x:f+c/2,y:s-y,textAnchor:"middle",verticalAnchor:p};return Ke(Ke({},E),i?{height:Math.max(s-i.y,0),width:c}:{})}if(a==="bottom"){var O={x:m+u/2,y:s+d+y,textAnchor:"middle",verticalAnchor:w};return Ke(Ke({},O),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var A={x:h-j,y:s+d/2,textAnchor:C,verticalAnchor:"middle"};return Ke(Ke({},A),i?{width:Math.max(A.x-i.x,0),height:d}:{})}if(a==="right"){var N={x:h+v+j,y:s+d/2,textAnchor:S,verticalAnchor:"middle"};return Ke(Ke({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:d}:{})}var T=i?{width:v,height:d}:{};return a==="insideLeft"?Ke({x:h+j,y:s+d/2,textAnchor:S,verticalAnchor:"middle"},T):a==="insideRight"?Ke({x:h+v-j,y:s+d/2,textAnchor:C,verticalAnchor:"middle"},T):a==="insideTop"?Ke({x:f+c/2,y:s+y,textAnchor:"middle",verticalAnchor:w},T):a==="insideBottom"?Ke({x:m+u/2,y:s+d-y,textAnchor:"middle",verticalAnchor:p},T):a==="insideTopLeft"?Ke({x:f+j,y:s+y,textAnchor:S,verticalAnchor:w},T):a==="insideTopRight"?Ke({x:f+c-j,y:s+y,textAnchor:C,verticalAnchor:w},T):a==="insideBottomLeft"?Ke({x:m+j,y:s+d-y,textAnchor:S,verticalAnchor:p},T):a==="insideBottomRight"?Ke({x:m+u-j,y:s+d-y,textAnchor:C,verticalAnchor:p},T):a&&typeof a=="object"&&(J(a.x)||ua(a.x))&&(J(a.y)||ua(a.y))?Ke({x:o+fn(a.x,v),y:s+fn(a.y,d),textAnchor:"end",verticalAnchor:"end"},T):Ke({x,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},yZ={angle:0,offset:5,zIndex:Vt.label,position:"middle",textBreakAll:!1};function Ia(e){var t=kr(e,yZ),{viewBox:r,position:n,value:a,children:i,content:o,className:s="",textBreakAll:c,labelRef:u}=t,d=fZ(),f=cP(),m=n==="center"?f:d??f,h,v,x;if(r==null?h=m:Ly(r)?h=r:h=fN(r),!h||jt(a)&&jt(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var b=Ke(Ke({},t),{},{viewBox:h});if(g.isValidElement(o)){var{labelRef:y}=b,p=DC(b,aZ);return g.cloneElement(o,p)}if(typeof o=="function"){var{content:w}=b,_=DC(b,iZ);if(v=g.createElement(o,_),g.isValidElement(v))return v}else v=hZ(t);var j=Vr(t);if(Ly(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return pZ(t,n,v,j,h);x=gZ(h,t.offset,t.position)}else x=vZ(t,h);return g.createElement(Ea,{zIndex:t.zIndex},g.createElement(n1,Vn({ref:u,className:Ie("recharts-label",s)},j,x,{textAnchor:QX(j.textAnchor)?j.textAnchor:x.textAnchor,breakAll:c}),v))}Ia.displayName="Label";var bZ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(Ia,Vn({key:"label-implicit"},n)):Tn(e)?g.createElement(Ia,Vn({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===Ia?g.cloneElement(e,Ke({key:"label-implicit"},n)):g.createElement(Ia,Vn({key:"label-implicit",content:e},n)):a1(e)?g.createElement(Ia,Vn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(Ia,Vn({},e,{key:"label-implicit"},n)):null};function xZ(e){var{label:t,labelRef:r}=e,n=cP();return bZ(t,n,r)||null}var uP={},dP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(dP);var fP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(fP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dP,r=fP,n=dm;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(uP);var wZ=uP.last;const _Z=va(wZ);var jZ=["valueAccessor"],SZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(null,arguments)}function MC(e,t){if(e==null)return{};var r,n,a=CZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EZ=e=>Array.isArray(e.value)?_Z(e.value):e.value,hP=g.createContext(void 0),OZ=hP.Provider,mP=g.createContext(void 0);mP.Provider;function AZ(){return g.useContext(hP)}function kZ(){return g.useContext(mP)}function Vd(e){var{valueAccessor:t=EZ}=e,r=MC(e,jZ),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:s}=r,c=MC(r,SZ),u=AZ(),d=kZ(),f=u||d;return!f||!f.length?null:g.createElement(Ea,{zIndex:s??Vt.label},g.createElement(ca,{className:"recharts-label-list"},f.map((m,h)=>{var v,x=jt(n)?t(m,h):zt(m&&m.payload,n),b=jt(i)?{}:{id:"".concat(i,"-").concat(h)};return g.createElement(Ia,bh({key:"label-".concat(h)},Vr(m),c,b,{fill:(v=r.fill)!==null&&v!==void 0?v:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:o,viewBox:m.viewBox,index:h,zIndex:0}))})))}Vd.displayName="LabelList";function TZ(e){var{label:t}=e;return t?t===!0?g.createElement(Vd,{key:"labelList-implicit"}):g.isValidElement(t)||a1(t)?g.createElement(Vd,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Vd,bh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var RZ={radiusAxis:{},angleAxis:{}},pP=sr({name:"polarAxis",initialState:RZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ire,removeRadiusAxis:$re,addAngleAxis:Lre,removeAngleAxis:Ure}=pP.actions,NZ=pP.reducer,gP={exports:{}},ke={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=Symbol.for("react.transitional.element"),o1=Symbol.for("react.portal"),Zm=Symbol.for("react.fragment"),Jm=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),ep=Symbol.for("react.consumer"),tp=Symbol.for("react.context"),rp=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),ip=Symbol.for("react.memo"),op=Symbol.for("react.lazy"),DZ=Symbol.for("react.view_transition"),PZ=Symbol.for("react.client.reference");function Zr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case i1:switch(e=e.type,e){case Zm:case Qm:case Jm:case np:case ap:case DZ:return e;default:switch(e=e&&e.$$typeof,e){case tp:case rp:case op:case ip:return e;case ep:return e;default:return t}}case o1:return t}}}ke.ContextConsumer=ep;ke.ContextProvider=tp;ke.Element=i1;ke.ForwardRef=rp;ke.Fragment=Zm;ke.Lazy=op;ke.Memo=ip;ke.Portal=o1;ke.Profiler=Qm;ke.StrictMode=Jm;ke.Suspense=np;ke.SuspenseList=ap;ke.isContextConsumer=function(e){return Zr(e)===ep};ke.isContextProvider=function(e){return Zr(e)===tp};ke.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===i1};ke.isForwardRef=function(e){return Zr(e)===rp};ke.isFragment=function(e){return Zr(e)===Zm};ke.isLazy=function(e){return Zr(e)===op};ke.isMemo=function(e){return Zr(e)===ip};ke.isPortal=function(e){return Zr(e)===o1};ke.isProfiler=function(e){return Zr(e)===Qm};ke.isStrictMode=function(e){return Zr(e)===Jm};ke.isSuspense=function(e){return Zr(e)===np};ke.isSuspenseList=function(e){return Zr(e)===ap};ke.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zm||e===Qm||e===Jm||e===np||e===ap||typeof e=="object"&&e!==null&&(e.$$typeof===op||e.$$typeof===ip||e.$$typeof===tp||e.$$typeof===ep||e.$$typeof===rp||e.$$typeof===PZ||e.getModuleId!==void 0)};ke.typeOf=Zr;gP.exports=ke;var MZ=gP.exports,zC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",BC=null,Ag=null,vP=e=>{if(e===BC&&Array.isArray(Ag))return Ag;var t=[];return g.Children.forEach(e,r=>{jt(r)||(MZ.isFragment(r)?t=t.concat(vP(r.props.children)):t.push(r))}),Ag=t,BC=e,t};function zZ(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>zC(a)):n=[zC(t)],vP(e).forEach(a=>{var i=Es(a,"type.displayName")||Es(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var yP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(yP);var BZ=yP.isPlainObject;const IZ=va(BZ);var IC,$C,LC,UC,qC;function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){$Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Z(e,t,r){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZ(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(null,arguments)}function Ol(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var FC=(e,t,r,n,a)=>{var i=r-n,o;return o=Fe(IC||(IC=Ol(["M ",",",""])),e,t),o+=Fe($C||($C=Ol(["L ",",",""])),e+r,t),o+=Fe(LC||(LC=Ol(["L ",",",""])),e+r-i/2,t+a),o+=Fe(UC||(UC=Ol(["L ",",",""])),e+r-i/2-n,t+a),o+=Fe(qC||(qC=Ol(["L ",","," Z"])),e,t),o},qZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WZ=e=>{var t=kr(e,qZ),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=g.useRef(null),[h,v]=g.useState(-1),x=g.useRef(a),b=g.useRef(i),y=g.useRef(o),p=g.useRef(r),w=g.useRef(n),_=nx(e,"trapezoid-");if(g.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var L=m.current.getTotalLength();L&&v(L)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=Ie("recharts-trapezoid",s);if(!f)return g.createElement("g",null,g.createElement("path",xh({},Vr(t),{className:j,d:FC(r,n,a,i,o)})));var C=x.current,S=b.current,E=y.current,O=p.current,A=w.current,N="0px ".concat(h===-1?1:h,"px"),T="".concat(h,"px 0px"),z=CN(["strokeDasharray"],u,c);return g.createElement(rx,{animationId:_,key:_,canBegin:h>0,duration:u,easing:c,isActive:f,begin:d},L=>{var H=Tt(C,a,L),D=Tt(S,i,L),I=Tt(E,o,L),k=Tt(O,r,L),R=Tt(A,n,L);m.current&&(x.current=H,b.current=D,y.current=I,p.current=k,w.current=R);var M=L>0?{transition:z,strokeDasharray:T}:{strokeDasharray:N};return g.createElement("path",xh({},Vr(t),{className:j,d:FC(k,R,H,D,I),ref:m,style:HC(HC({},M),t.style)}))})},HZ=["option","shapeType","activeClassName"];function FZ(e,t){if(e==null)return{};var r,n,a=VZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KZ(e,t,r){return(t=GZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XZ(e,t){return wh(wh({},t),e)}function ZZ(e,t){return e==="symbols"}function KC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(kN,r);case"trapezoid":return g.createElement(WZ,r);case"sector":return g.createElement(NN,r);case"symbols":if(ZZ(t))return g.createElement(YT,r);break;case"curve":return g.createElement(SN,r);default:return null}}function JZ(e){return g.isValidElement(e)?e.props:e}function QZ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=FZ(e,HZ),i;if(g.isValidElement(t))i=g.cloneElement(t,wh(wh({},a),JZ(t)));else if(typeof t=="function")i=t(a,a.index);else if(IZ(t)&&typeof t!="boolean"){var o=XZ(t,a);i=g.createElement(KC,{shapeType:r,elementProps:o})}else{var s=a;i=g.createElement(KC,{shapeType:r,elementProps:s})}return a.isActive?g.createElement(ca,{className:n},i):i}var bP=(e,t,r)=>{var n=Xe();return(a,i)=>o=>{e==null||e(a,i,o),n(kD({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},xP=e=>{var t=Xe();return(r,n)=>a=>{e==null||e(r,n,a),t(jG())}},wP=(e,t,r)=>{var n=Xe();return(a,i)=>o=>{e==null||e(a,i,o),n(SG({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function eJ(e){var{tooltipEntrySettings:t}=e,r=Xe(),n=lr(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(bG(t)):a.current!==t&&r(xG({prev:a.current,next:t})),a.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{a.current&&(r(wG(a.current)),a.current=null)},[r]),null}function tJ(e){var{legendPayload:t}=e,r=Xe(),n=lr(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(nW(t)):a.current!==t&&r(aW({prev:a.current,next:t})),a.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{a.current&&(r(iW(a.current)),a.current=null)},[r]),null}var kg,rJ=()=>{var[e]=g.useState(()=>Ec("uid-"));return e},nJ=(kg=OE.useId)!==null&&kg!==void 0?kg:rJ;function aJ(e,t){var r=nJ();return t||(e?"".concat(e,"-").concat(r):r)}var iJ=g.createContext(void 0),oJ=e=>{var{id:t,type:r,children:n}=e,a=aJ("recharts-".concat(r),t);return g.createElement(iJ.Provider,{value:a},n(a))},sJ={cartesianItems:[],polarItems:[]},_P=sr({name:"graphicalItems",initialState:sJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Le()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ln(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Le()},removeCartesianGraphicalItem:{reducer(e,t){var r=ln(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Le()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Le()},removePolarGraphicalItem:{reducer(e,t){var r=ln(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Le()}}}),{addCartesianGraphicalItem:lJ,replaceCartesianGraphicalItem:cJ,removeCartesianGraphicalItem:uJ,addPolarGraphicalItem:qre,removePolarGraphicalItem:Wre}=_P.actions,dJ=_P.reducer,fJ=e=>{var t=Xe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(lJ(e)):r.current!==e&&t(cJ({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(uJ(r.current)),r.current=null)},[t]),null},hJ=g.memo(fJ);function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){mJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mJ(e,t,r){return(t=pJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jP=0,vJ={xAxis:{},yAxis:{},zAxis:{}},SP=sr({name:"cartesianAxis",initialState:vJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Le()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Le()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Le()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Le()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Le()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Le()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Le()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Le()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Le()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=YC(YC({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:yJ,replaceXAxis:bJ,removeXAxis:xJ,addYAxis:wJ,replaceYAxis:_J,removeYAxis:jJ,addZAxis:Hre,replaceZAxis:Fre,removeZAxis:Vre,updateYAxisWidth:SJ}=SP.actions,CJ=SP.reducer,EJ=B([St],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),OJ=B([EJ,ba,xa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),CP=()=>te(OJ),XC=(e,t,r)=>{var n=r??e;if(!jt(n))return fn(n,t,0)},AJ=(e,t,r)=>{var n={},a=e.filter(Hm),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),s=Object.entries(o).map(u=>{var[d,f]=u,m=f.map(v=>v.dataKey),h=XC(t,r,f[0].barSize);return{stackId:d,dataKeys:m,barSize:h}}),c=i.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=XC(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...s,...c]};function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){kJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kJ(e,t,r){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=RJ(e,"string");return typeof t=="symbol"?t:t+""}function RJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=fn(e,r,0,!0),s,c=[];if(We(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((y,p)=>y+(p.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var m=(r-f)/2>>0,h={offset:m-o,size:0};s=n.reduce((y,p)=>{var w,_={stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:h.offset+h.size+o,size:u?d:(w=p.barSize)!==null&&w!==void 0?w:0}},j=[...y,_];return h=j[j.length-1].position,j},c)}else{var v=fn(t,r,0,!0);r-2*v-(i-1)*o<=0&&(o=0);var x=(r-2*v-(i-1)*o)/i;x>1&&(x>>=0);var b=We(a)?Math.min(x,a):x;s=n.reduce((y,p,w)=>[...y,{stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:v+(x+o)*w+(x-b)/2,size:b}}],c)}return s}}var DJ=(e,t,r,n,a,i,o)=>{var s=jt(o)?t:o,c=NJ(r,n,a!==i?a:i,e,s);return a!==i&&c!=null&&(c=c.map(u=>jd(jd({},u),{},{position:jd(jd({},u.position),{},{offset:u.position.offset-a/2})}))),c},PJ=(e,t)=>{var r=Mx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function MJ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&We(e.zIndex)?e.zIndex:t}var zJ=e=>{var{chartData:t}=e,r=Xe(),n=lr();return g.useEffect(()=>n?()=>{}:(r(yC(t)),()=>{r(yC(void 0))}),[t,r,n]),null},JC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},EP=sr({name:"brush",initialState:JC,reducers:{setBrushSettings(e,t){return t.payload==null?JC:t.payload}}}),{setBrushSettings:Kre}=EP.actions,BJ=EP.reducer;function IJ(e,t,r){return(t=$J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $J(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class s1{static create(t){return new s1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}IJ(s1,"EPS",1e-4);function UJ(e){return(e%180+180)%180}var qJ=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=UJ(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},WJ={dots:[],areas:[],lines:[]},OP=sr({name:"referenceElements",initialState:WJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ln(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ln(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ln(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Gre,removeDot:Yre,addArea:Xre,removeArea:Zre,addLine:Jre,removeLine:Qre}=OP.actions,HJ=OP.reducer,FJ=g.createContext(void 0),VJ=e=>{var{children:t}=e,[r]=g.useState("".concat(Ec("recharts"),"-clip")),n=CP();if(n==null)return null;var{x:a,y:i,width:o,height:s}=n;return g.createElement(FJ.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function AP(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function KJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return qJ(n,r)}function GJ(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Lc(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function YJ(e,t){return AP(e,t+1)}function XJ(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:s}=t,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:AP(n,u)};var x=c,b,y=()=>(b===void 0&&(b=r(v,x)),b),p=v.coordinate,w=c===0||Lc(e,p,y,d,s);w||(c=0,d=o,u+=1),w&&(d=p+e*(y()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function ZJ(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,m=!0,h=function(){var p=n[v],w=v,_,j=()=>(_===void 0&&(_=r(p,w)),_),C=p.coordinate,S=v===d||Lc(e,C,j,f,c);if(!S)return m=!1,1;S&&(f=C+e*(j()/2+a))},v=d;v<o&&!h();v+=u);if(m){for(var x=[],b=d;b<o;b+=u)x.push(n[b]);return x}}return[]}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){JJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JJ(e,t,r){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QJ(e){var t=eQ(e,"string");return typeof t=="symbol"?t:t+""}function eQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tQ(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:s}=t,{end:c}=t,u=function(m){var h=i[m],v,x=()=>(v===void 0&&(v=r(h,m)),v);if(m===o-1){var b=e*(h.coordinate+e*x()/2-c);i[m]=h=It(It({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else i[m]=h=It(It({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var y=Lc(e,h.tickCoord,x,s,c);y&&(c=h.tickCoord-e*(x()/2+a),i[m]=It(It({},h),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function rQ(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,{start:c,end:u}=t;if(i){var d=n[s-1],f=r(d,s-1),m=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=It(It({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var h=Lc(e,d.tickCoord,()=>f,c,u);h&&(u=d.tickCoord-e*(f/2+a),o[s-1]=It(It({},d),{},{isShow:!0}))}}for(var v=i?s-1:s,x=function(p){var w=o[p],_,j=()=>(_===void 0&&(_=r(w,p)),_);if(p===0){var C=e*(w.coordinate-e*j()/2-c);o[p]=w=It(It({},w),{},{tickCoord:C<0?w.coordinate-C*e:w.coordinate})}else o[p]=w=It(It({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var S=Lc(e,w.tickCoord,j,c,u);S&&(c=w.tickCoord+e*(j()/2+a),o[p]=It(It({},w),{},{isShow:!0}))}},b=0;b<v;b++)x(b);return o}function l1(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(J(c)||Dm.isSsr){var m;return(m=YJ(a,J(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],v=s==="top"||s==="bottom"?"width":"height",x=d&&v==="width"?rc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(w,_)=>{var j=typeof u=="function"?u(w.value,_):w.value;return v==="width"?KJ(rc(j,{fontSize:t,letterSpacing:r}),x,f):rc(j,{fontSize:t,letterSpacing:r})[v]},y=a.length>=2?tr(a[1].coordinate-a[0].coordinate):1,p=GJ(i,y,v);return c==="equidistantPreserveStart"?XJ(y,p,b,a,o):c==="equidistantPreserveEnd"?ZJ(y,p,b,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=rQ(y,p,b,a,o,c==="preserveStartEnd"):h=tQ(y,p,b,a,o),h.filter(w=>w.isShow))}var nQ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+s+(r?n:0);return Math.round(u)}return 0},aQ=["axisLine","width","height","className","hide","ticks","axisType"];function iQ(e,t){if(e==null)return{};var r,n,a=oQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(null,arguments)}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){sQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sQ(e,t,r){return(t=lQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lQ(e){var t=cQ(e,"string");return typeof t=="symbol"?t:t+""}function cQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ra={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Vt.axis};function uQ(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var u=et(et(et({},c),la(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=et(et({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=et(et({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return g.createElement("line",lo({},u,{className:Ie("recharts-cartesian-axis-line",Es(s,"className"))}))}function dQ(e,t,r,n,a,i,o,s,c){var u,d,f,m,h,v,x=s?-1:1,b=e.tickSize||o,y=J(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,m=r+ +!s*a,f=m-x*b,v=f-x*c,h=y;break;case"left":f=m=e.coordinate,d=t+ +!s*n,u=d-x*b,h=u-x*c,v=y;break;case"right":f=m=e.coordinate,d=t+ +s*n,u=d+x*b,h=u+x*c,v=y;break;default:u=d=e.coordinate,m=r+ +s*a,f=m+x*b,v=f+x*c,h=y;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:h,y:v}}}function fQ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function hQ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function mQ(e){var{option:t,tickProps:r,value:n}=e,a,i=Ie(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,et(et({},r),{},{className:i}));else if(typeof t=="function")a=t(et(et({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ie(o,t==null?void 0:t.className)),a=g.createElement(n1,lo({},r,{className:o}),n)}return a}var pQ=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:c,tickTextProps:u,orientation:d,mirror:f,x:m,y:h,width:v,height:x,tickSize:b,tickMargin:y,fontSize:p,letterSpacing:w,getTicksConfig:_,events:j,axisType:C}=e,S=l1(et(et({},_),{},{ticks:r}),p,w),E=fQ(d,f),O=hQ(d,f),A=la(_),N=kb(n),T={};typeof a=="object"&&(T=a);var z=et(et({},A),{},{fill:"none"},T),L=S.map(I=>et({entry:I},dQ(I,m,h,v,x,d,b,f,y))),H=L.map(I=>{var{entry:k,line:R}=I;return g.createElement(ca,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},a&&g.createElement("line",lo({},z,R,{className:Ie("recharts-cartesian-axis-tick-line",Es(a,"className"))})))}),D=L.map((I,k)=>{var{entry:R,tick:M}=I,K=et(et(et(et({textAnchor:E,verticalAnchor:O},A),{},{stroke:"none",fill:i},N),M),{},{index:k,payload:R,visibleTicksCount:S.length,tickFormatter:o,padding:c},u);return g.createElement(ca,lo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Pb(j,R,k)),n&&g.createElement(mQ,{option:n,tickProps:K,value:"".concat(typeof o=="function"?o(R.value,k):R.value).concat(s||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},D.length>0&&g.createElement(Ea,{zIndex:Vt.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},D)),H.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},H))}),gQ=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:s,axisType:c}=e,u=iQ(e,aQ),[d,f]=g.useState(""),[m,h]=g.useState(""),v=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return nQ({ticks:v.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=g.useCallback(b=>{if(b){var y=b.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=y;var p=y[0];if(p){var w=window.getComputedStyle(p),_=w.fontSize,j=w.letterSpacing;(_!==d||j!==m)&&(f(_),h(j))}}},[d,m]);return o||n!=null&&n<=0||a!=null&&a<=0?null:g.createElement(Ea,{zIndex:e.zIndex},g.createElement(ca,{className:Ie("recharts-cartesian-axis",i)},g.createElement(uQ,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:la(e)}),g.createElement(pQ,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(uZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(xZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),c1=g.forwardRef((e,t)=>{var r=kr(e,ra);return g.createElement(gQ,lo({},r,{ref:t}))});c1.displayName="CartesianAxis";var vQ=["x1","y1","x2","y2","key"],yQ=["offset"],bQ=["xAxisId","yAxisId"],xQ=["xAxisId","yAxisId"];function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){wQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wQ(e,t,r){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(null,arguments)}function _h(e,t){if(e==null)return{};var r,n,a=SQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:s}=e;return g.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kP(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:s,y2:c,key:u}=r,d=_h(r,vQ),f=(a=la(d))!==null&&a!==void 0?a:{},{offset:m}=f,h=_h(f,yQ);n=g.createElement("line",Ui({},h,{x1:i,y1:o,x2:s,y2:c,fill:"none",key:u}))}return n}function EQ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=_h(e,bQ),c=a.map((u,d)=>{var f=$t($t({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return g.createElement(kP,{key:"line-".concat(d),option:n,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function OQ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=_h(e,xQ),c=a.map((u,d)=>{var f=$t($t({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return g.createElement(kP,{option:n,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function AQ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],v=h?a+o-f:u[m+1]-f;if(v<=0)return null;var x=m%t.length;return g.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:v,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function kQ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],v=h?a+o-f:u[m+1]-f;if(v<=0)return null;var x=m%r.length;return g.createElement("rect",{key:"react-".concat(m),x:f,y:i,width:v,height:s,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var TQ=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return rN(l1($t($t($t({},ra),r),{},{ticks:nN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},RQ=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return rN(l1($t($t($t({},ra),r),{},{ticks:nN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},NQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Vt.grid};function TP(e){var t=mN(),r=pN(),n=hN(),a=$t($t({},kr(e,NQ)),{},{x:J(e.x)?e.x:n.left,y:J(e.y)?e.y:n.top,width:J(e.width)?e.width:n.width,height:J(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:s,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:h}=a,v=lr(),x=te(O=>sC(O,"xAxis",i,v)),b=te(O=>sC(O,"yAxis",o,v));if(!Rn(u)||!Rn(d)||!J(s)||!J(c))return null;var y=a.verticalCoordinatesGenerator||TQ,p=a.horizontalCoordinatesGenerator||RQ,{horizontalPoints:w,verticalPoints:_}=a;if((!w||!w.length)&&typeof p=="function"){var j=m&&m.length,C=p({yAxis:b?$t($t({},b),{},{ticks:j?m:b.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);Xf(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(w=C)}if((!_||!_.length)&&typeof y=="function"){var S=h&&h.length,E=y({xAxis:x?$t($t({},x),{},{ticks:S?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);Xf(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}return g.createElement(Ea,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(CQ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(AQ,Ui({},a,{horizontalPoints:w})),g.createElement(kQ,Ui({},a,{verticalPoints:_})),g.createElement(EQ,Ui({},a,{offset:n,horizontalPoints:w,xAxis:x,yAxis:b})),g.createElement(OQ,Ui({},a,{offset:n,verticalPoints:_,xAxis:x,yAxis:b}))))}TP.displayName="CartesianGrid";var DQ={},RP=sr({name:"errorBars",initialState:DQ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:ene,replaceErrorBar:tne,removeErrorBar:rne}=RP.actions,PQ=RP.reducer,MQ=["children"];function zQ(e,t){if(e==null)return{};var r,n,a=BQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$Q=g.createContext(IQ);function LQ(e){var{children:t}=e,r=zQ(e,MQ);return g.createElement($Q.Provider,{value:r},t)}function NP(e,t){var r,n,a=te(u=>ja(u,e)),i=te(u=>Sa(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gt.allowDataOverflow,s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:vt.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function UQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=CP(),{needClipX:i,needClipY:o,needClip:s}=NP(t,r);if(!s||!a)return null;var{x:c,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var qQ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=g;function WQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HQ=typeof Object.is=="function"?Object.is:WQ,FQ=Ru.useSyncExternalStore,VQ=Ru.useRef,KQ=Ru.useEffect,GQ=Ru.useMemo,YQ=Ru.useDebugValue;qQ.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=VQ(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=GQ(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var v=o.value;if(a(v,h))return f=v}return f=h}if(v=f,HQ(d,h))return v;var x=n(h);return a!==void 0&&a(v,x)?(d=h,v):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var s=FQ(e,i[0],i[1]);return KQ(function(){o.hasValue=!0,o.value=s},[s]),YQ(s),s};function XQ(e){e()}function ZQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){XQ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var rE={notify(){},get:()=>[]};function JQ(e,t){let r,n=rE,a=0,i=!1;function o(x){d();const b=n.subscribe(x);let y=!1;return()=>{y||(y=!0,b(),f())}}function s(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=ZQ())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=rE)}function m(){i||(i=!0,d())}function h(){i&&(i=!1,f())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return v}var QQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eee=QQ(),tee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ree=tee(),nee=()=>eee||ree?g.useLayoutEffect:g.useEffect,aee=nee();function nE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function iee(e,t){if(nE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!nE(e[r[a]],t[r[a]]))return!1;return!0}var Tg=Symbol.for("react-redux-context"),Rg=typeof globalThis<"u"?globalThis:{};function oee(){if(!g.createContext)return{};const e=Rg[Tg]??(Rg[Tg]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var see=oee();function lee(e){const{children:t,context:r,serverState:n,store:a}=e,i=g.useMemo(()=>{const c=JQ(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=g.useMemo(()=>a.getState(),[a]);aee(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const s=r||see;return g.createElement(s.Provider,{value:i},t)}var cee=lee,uee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function dee(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function u1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(uee.has(n)){if(e[n]==null&&t[n]==null)continue;if(!iee(e[n],t[n]))return!1}else if(!dee(e[n],t[n]))return!1;return!0}function wo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:jP}function _o(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:jP}var fee="Invariant failed";function hee(e,t){throw new Error(fee)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function jh(e){return g.createElement(QZ,Uy({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var mee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(J(t))return t;var i=J(n)||jt(n);return i?t(n,a):(i||hee(),r)}},pee=(e,t,r)=>r,gee=(e,t)=>t,Nu=B([Bx,gee],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),vee=B([Nu],e=>e==null?void 0:e.maxBarSize),yee=(e,t,r,n)=>n,bee=B([je,Bx,wo,_o,pee],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),xee=(e,t,r)=>{var n=je(e),a=wo(e,t),i=_o(e,t);if(!(a==null||i==null))return n==="horizontal"?Py(e,"yAxis",i,r):Py(e,"xAxis",a,r)},wee=(e,t)=>{var r=je(e),n=wo(e,t),a=_o(e,t);if(!(n==null||a==null))return r==="horizontal"?oC(e,"xAxis",n):oC(e,"yAxis",a)},_ee=B([bee,fK,wee],AJ),jee=(e,t,r)=>{var n,a,i=Nu(e,t);if(i!=null){var o=wo(e,t),s=_o(e,t);if(!(o==null||s==null)){var c=je(e),u=N5(e),{maxBarSize:d}=i,f=jt(d)?u:d,m,h;return c==="horizontal"?(m=Ps(e,"xAxis",o,r),h=Ds(e,"xAxis",o,r)):(m=Ps(e,"yAxis",s,r),h=Ds(e,"yAxis",s,r)),(n=(a=Yf(m,h,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},DP=(e,t,r)=>{var n=je(e),a=wo(e,t),i=_o(e,t);if(!(a==null||i==null)){var o,s;return n==="horizontal"?(o=Ps(e,"xAxis",a,r),s=Ds(e,"xAxis",a,r)):(o=Ps(e,"yAxis",i,r),s=Ds(e,"yAxis",i,r)),Yf(o,s)}},See=B([_ee,N5,dK,D5,jee,DP,vee],DJ),Cee=(e,t,r)=>{var n=wo(e,t);if(n!=null)return Ps(e,"xAxis",n,r)},Eee=(e,t,r)=>{var n=_o(e,t);if(n!=null)return Ps(e,"yAxis",n,r)},Oee=(e,t,r)=>{var n=wo(e,t);if(n!=null)return Ds(e,"xAxis",n,r)},Aee=(e,t,r)=>{var n=_o(e,t);if(n!=null)return Ds(e,"yAxis",n,r)},kee=B([See,Nu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Tee=B([xee,Nu],PJ),Ree=B([St,Jb,Cee,Eee,Oee,Aee,kee,je,QV,DP,Tee,Nu,yee],(e,t,r,n,a,i,o,s,c,u,d,f,m)=>{var{chartData:h,dataStartIndex:v,dataEndIndex:x}=c;if(!(f==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:b}=f,y;if(b!=null&&b.length>0?y=b:y=h==null?void 0:h.slice(v,x+1),y!=null)return ote({layout:s,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:m,dataStartIndex:v})}}),Nee=["index"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function Dee(e,t){if(e==null)return{};var r,n,a=Pee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PP=g.createContext(void 0),Mee=e=>{var t=g.useContext(PP);if(t!=null)return t.stackId;if(e!=null)return cq(e)},zee=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Bee=e=>{var t=g.useContext(PP);if(t!=null){var{stackId:r}=t;return"url(#".concat(zee(r,e),")")}},Iee=e=>{var{index:t}=e,r=Dee(e,Nee),n=Bee(t);return g.createElement(ca,qy({className:"recharts-bar-stack-layer",clipPath:n},r))},$ee=["onMouseEnter","onMouseLeave","onClick"],Lee=["value","background","tooltipPosition"],Uee=["id"],qee=["onMouseEnter","onClick","onMouseLeave"];function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(null,arguments)}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){Wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wee(e,t,r){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hee(e){var t=Fee(e,"string");return typeof t=="symbol"?t:t+""}function Fee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sh(e,t){if(e==null)return{};var r,n,a=Vee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kee=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:aN(r,t),payload:e}]},Gee=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:s,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:aN(i,t),hide:o,type:c,color:a,unit:s,graphicalItemId:u}};return g.createElement(eJ,{tooltipEntrySettings:d})});function Yee(e){var t=te(Ms),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=i,u=Sh(i,$ee),d=bP(o,n,i.id),f=xP(s),m=wP(c,n,i.id);if(!a||r==null)return null;var h=kb(a);return g.createElement(Ea,{zIndex:MJ(a,Vt.barBackground)},r.map((v,x)=>{var{value:b,background:y,tooltipPosition:p}=v,w=Sh(v,Lee);if(!y)return null;var _=d(v,x),j=f(v,x),C=m(v,x),S=Wt(Wt(Wt(Wt(Wt({option:a,isActive:String(x)===t},w),{},{fill:"#eee"},y),h),Pb(u,v,x)),{},{onMouseEnter:_,onMouseLeave:j,onClick:C,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return g.createElement(jh,ga({key:"background-bar-".concat(x)},S))}))}function Xee(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Wt(Wt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return g.createElement(OZ,{value:t?a:void 0},r)}function Zee(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,s=te(Ms),c=te(WD),u=r&&String(i)===s&&(c==null||o===c),d=u?r:t;return u?g.createElement(Ea,{zIndex:Vt.activeBar},g.createElement(jh,ga({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):g.createElement(jh,ga({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function Jee(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return g.createElement(jh,ga({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Qee(e){var t,{data:r,props:n}=e,a=(t=la(n))!==null&&t!==void 0?t:{},{id:i}=a,o=Sh(a,Uee),{shape:s,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:m}=n,h=Sh(n,qee),v=bP(d,c,i),x=xP(m),b=wP(f,c,i);return r?g.createElement(g.Fragment,null,r.map((y,p)=>g.createElement(Iee,ga({index:p,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(p),className:"recharts-bar-rectangle"},Pb(h,y,p),{onMouseEnter:v(y,p),onMouseLeave:x(y,p),onClick:b(y,p)}),u?g.createElement(Zee,{shape:s,activeBar:u,baseProps:o,entry:y,index:p,dataKey:c}):g.createElement(Jee,{shape:s,baseProps:o,entry:y,index:p,dataKey:c})))):null}function ete(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=nx(t,"recharts-bar-"),[h,v]=g.useState(!1),x=!h,b=g.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),y=g.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return g.createElement(Xee,{showLabels:x,rects:n},g.createElement(rx,{animationId:m,begin:o,duration:s,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:y,key:m},p=>{var w=p===1?n:n==null?void 0:n.map((_,j)=>{var C=f&&f[j];if(C)return Wt(Wt({},_),{},{x:Tt(C.x,_.x,p),y:Tt(C.y,_.y,p),width:Tt(C.width,_.width,p),height:Tt(C.height,_.height,p)});if(a==="horizontal"){var S=Tt(0,_.height,p),E=Tt(_.stackedBarStart,_.y,p);return Wt(Wt({},_),{},{y:E,height:S})}var O=Tt(0,_.width,p),A=Tt(_.stackedBarStart,_.x,p);return Wt(Wt({},_),{},{width:O,x:A})});return p>0&&(r.current=w??null),w==null?null:g.createElement(ca,null,g.createElement(Qee,{props:t,data:w}))}),g.createElement(TZ,{label:t.label}),t.children)}function tte(e){var t=g.useRef(null);return g.createElement(ete,{previousRectanglesRef:t,props:e})}var MP=0,rte=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:zt(e,t)}};class nte extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:s,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ie("recharts-bar",a),f=u;return g.createElement(ca,{className:d,id:u},s&&g.createElement("defs",null,g.createElement(UQ,{clipPathId:f,xAxisId:i,yAxisId:o})),g.createElement(ca,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},g.createElement(Yee,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(tte,this.props)))}}var ate={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:MP,xAxisId:0,yAxisId:0,zIndex:Vt.bar};function ite(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=NP(t,r),m=vu(),h=lr(),v=zZ(e.children,r1),x=te(p=>Ree(p,e.id,h,v));if(m!=="vertical"&&m!=="horizontal")return null;var b,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?b=0:b=m==="vertical"?y.height/2:y.width/2,g.createElement(LQ,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:rte,errorBarOffset:b},g.createElement(nte,ga({},e,{layout:m,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function ote(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:h,parentViewBox:v,dataStartIndex:x}=e,b=t==="horizontal"?s:o,y=d?b.scale.domain():null,p=uq({numericAxis:b}),w=b.scale(p);return f.map((_,j)=>{var C,S,E,O,A,N;if(d){var T=d[j+x];if(T==null)return null;C=aq(T,y)}else C=zt(_,r),Array.isArray(C)||(C=[p,C]);var z=mee(n,MP)(C[1],j);if(t==="horizontal"){var L,[H,D]=[s.scale(C[0]),s.scale(C[1])];S=xj({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:_,index:j}),E=(L=D??H)!==null&&L!==void 0?L:void 0,O=a.size;var I=H-D;if(A=dn(I)?0:I,N={x:S,y:m.top,width:O,height:m.height},Math.abs(z)>0&&Math.abs(A)<Math.abs(z)){var k=tr(A||z)*(Math.abs(z)-Math.abs(A));E-=k,A+=k}}else{var[R,M]=[o.scale(C[0]),o.scale(C[1])];if(S=R,E=xj({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:_,index:j}),O=M-R,A=a.size,N={x:m.left,y:E,width:m.width,height:A},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var K=tr(O||z)*(Math.abs(z)-Math.abs(O));O+=K}}if(S==null||E==null||O==null||A==null)return null;var V=Wt(Wt({},_),{},{stackedBarStart:w,x:S,y:E,width:O,height:A,value:d?C:C[1],payload:_,background:N,tooltipPosition:{x:S+O/2,y:E+A/2},parentViewBox:v},h&&h[j]&&h[j].props);return V}).filter(Boolean)}function ste(e){var t=kr(e,ate),r=Mee(t.stackId),n=lr();return g.createElement(oJ,{id:t.id,type:"bar"},a=>g.createElement(g.Fragment,null,g.createElement(tJ,{legendPayload:Kee(t)}),g.createElement(Gee,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),g.createElement(hJ,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),g.createElement(Ea,{zIndex:t.zIndex},g.createElement(ite,ga({},t,{id:a})))))}var zP=g.memo(ste,u1);zP.displayName="Bar";var lte=["domain","range"],cte=["domain","range"];function iE(e,t){if(e==null)return{};var r,n,a=ute(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ute(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oE(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function BP(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=iE(e,lte),{domain:i,range:o}=t,s=iE(t,cte);return!oE(r,i)||!oE(n,o)?!1:u1(a,s)}var dte=["dangerouslySetInnerHTML","ticks","scale"],fte=["id","scale"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function sE(e,t){if(e==null)return{};var r,n,a=hte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mte(e){var t=Xe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(yJ(e)):r.current!==e&&t(bJ({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(xJ(r.current)),r.current=null)},[t]),null}var pte=e=>{var{xAxisId:t,className:r}=e,n=te(Jb),a=lr(),i="xAxis",o=te(y=>jD(y,i,t,a)),s=te(y=>bD(y,t)),c=te(y=>cG(y,t)),u=te(y=>q5(y,t));if(s==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:m}=e,h=sE(e,dte),{id:v,scale:x}=u,b=sE(u,fte);return g.createElement(c1,Wy({},h,b,{x:c.x,y:c.y,width:s.width,height:s.height,className:Ie("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},gte={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,angle:gt.angle,axisLine:ra.axisLine,height:gt.height,hide:!1,includeHidden:gt.includeHidden,interval:gt.interval,minTickGap:gt.minTickGap,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tick:gt.tick,tickCount:gt.tickCount,tickLine:ra.tickLine,tickSize:ra.tickSize,type:gt.type,xAxisId:0},vte=e=>{var t=kr(e,gte);return g.createElement(g.Fragment,null,g.createElement(mte,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(pte,t))},IP=g.memo(vte,BP);IP.displayName="XAxis";var yte=["dangerouslySetInnerHTML","ticks","scale"],bte=["id","scale"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function lE(e,t){if(e==null)return{};var r,n,a=xte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wte(e){var t=Xe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(wJ(e)):r.current!==e&&t(_J({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(jJ(r.current)),r.current=null)},[t]),null}var _te=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=g.useRef(null),o=g.useRef(null),s=te(Jb),c=lr(),u=Xe(),d="yAxis",f=te(C=>xD(C,t)),m=te(C=>dG(C,t)),h=te(C=>jD(C,d,t,c)),v=te(C=>W5(C,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!f||a1(a)||g.isValidElement(a)||v==null)){var C=i.current;if(C){var S=C.getCalculatedWidth();Math.round(f.width)!==Math.round(S)&&u(SJ({id:t,width:S}))}}},[h,f,u,a,t,n,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:b,scale:y}=e,p=lE(e,yte),{id:w,scale:_}=v,j=lE(v,bte);return g.createElement(c1,Hy({},p,j,{ref:i,labelRef:o,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Ie("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:h,axisType:d}))},jte={allowDataOverflow:vt.allowDataOverflow,allowDecimals:vt.allowDecimals,allowDuplicatedCategory:vt.allowDuplicatedCategory,angle:vt.angle,axisLine:ra.axisLine,hide:!1,includeHidden:vt.includeHidden,interval:vt.interval,minTickGap:vt.minTickGap,mirror:vt.mirror,orientation:vt.orientation,padding:vt.padding,reversed:vt.reversed,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,tickLine:ra.tickLine,tickSize:ra.tickSize,type:vt.type,width:vt.width,yAxisId:0},Ste=e=>{var t=kr(e,jte);return g.createElement(g.Fragment,null,g.createElement(wte,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(_te,t))},$P=g.memo(Ste,BP);$P.displayName="YAxis";var Cte=(e,t)=>t,d1=B([Cte,je,L5,mt,$D,Ca,CY,St],NY),f1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},LP=Kr("mouseClick"),UP=pu();UP.startListening({actionCreator:LP,effect:(e,t)=>{var r=e.payload,n=d1(t.getState(),f1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(CG({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Fy=Kr("mouseMove"),qP=pu(),Sd=null;qP.startListening({actionCreator:Fy,effect:(e,t)=>{var r=e.payload;Sd!==null&&cancelAnimationFrame(Sd);var n=f1(r);Sd=requestAnimationFrame(()=>{var a=t.getState(),i=Vx(a,a.tooltip.settings.shared);if(i==="axis"){var o=d1(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(RD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(TD())}Sd=null})}});function Ete(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var cE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},WP=sr({name:"rootProps",initialState:cE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:cE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Ote=WP.reducer,{updateOptions:Ate}=WP.actions,HP=sr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:nne}=HP.actions,kte=HP.reducer,FP=Kr("keyDown"),VP=Kr("focus"),h1=pu();h1.startListening({actionCreator:FP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Kx(a,sl(r),Cu(r),ku(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var c=Ca(r);if(i==="Enter"){var u=yh(r,"axis","hover",String(a.index));t.dispatch(zy({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=pG(r),f=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,h=s+m*f;if(!(c==null||h>=c.length||h<0)){var v=yh(r,"axis","hover",String(h));t.dispatch(zy({active:!0,activeIndex:h.toString(),activeCoordinate:v}))}}}}}});h1.startListening({actionCreator:VP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=yh(r,"axis","hover",String(i));t.dispatch(zy({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Dr=Kr("externalEvent"),KP=pu(),Ng=new Map;KP.startListening({actionCreator:Dr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=Ng.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),c={activeCoordinate:uY(s),activeDataKey:WD(s),activeIndex:Ms(s),activeLabel:qD(s),activeTooltipIndex:Ms(s),isTooltipActive:dY(s)};r(c,n)}finally{Ng.delete(a)}});Ng.set(a,o)}}});var Tte=B([il],e=>e.tooltipItemPayloads),Rte=B([Tte,Au,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(s=>s.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),GP=Kr("touchMove"),YP=pu();YP.startListening({actionCreator:GP,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Vx(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=d1(n,f1({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(RD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(vq),f=(s=u.getAttribute(yq))!==null&&s!==void 0?s:void 0,m=ol(n).find(x=>x.id===f);if(d==null||m==null||f==null)return;var{dataKey:h}=m,v=Rte(n,d,f);t.dispatch(kD({activeDataKey:h,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var Nte=OR({brush:BJ,cartesianAxis:CJ,chartData:cX,errorBars:PQ,graphicalItems:dJ,layout:J7,legend:oW,options:aX,polarAxis:NZ,polarOptions:kte,referenceElements:HJ,rootProps:Ote,tooltip:EG,zIndex:VY}),Dte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return j7({reducer:Nte,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([UP.middleware,qP.middleware,h1.middleware,KP.middleware,YP.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(qR({type:"raf"}))},devTools:{serialize:{replacer:Ete},name:"recharts-".concat(r)}})};function Pte(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=lr(),i=g.useRef(null);if(a)return r;i.current==null&&(i.current=Dte(t,n));var o=Wb;return g.createElement(cee,{context:o,store:i.current},r)}function Mte(e){var{layout:t,margin:r}=e,n=Xe(),a=lr();return g.useEffect(()=>{a||(n(Y7(t)),n(G7(r)))},[n,a,t,r]),null}var zte=g.memo(Mte,u1);function Bte(e){var t=Xe();return g.useEffect(()=>{t(Ate(e))},[t,e]),null}function uE(e){var{zIndex:t,isPanorama:r}=e,n=g.useRef(null),a=Xe();return g.useLayoutEffect(()=>(n.current&&a(HY({zIndex:t,element:n.current,isPanorama:r})),()=>{a(FY({zIndex:t,isPanorama:r}))}),[a,t,r]),g.createElement("g",{tabIndex:-1,ref:n})}function dE(e){var{children:t,isPanorama:r}=e,n=te(PY);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return g.createElement(g.Fragment,null,a.map(o=>g.createElement(uE,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>g.createElement(uE,{key:o,zIndex:o,isPanorama:r})))}var Ite=["children"];function $te(e,t){if(e==null)return{};var r,n,a=Lte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(null,arguments)}var Ute={width:"100%",height:"100%",display:"block"},qte=g.forwardRef((e,t)=>{var r=mN(),n=pN(),a=jN();if(!Rn(r)||!Rn(n))return null;var{children:i,otherAttributes:o,title:s,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),g.createElement(AT,Ch({},o,{title:s,desc:c,role:d,tabIndex:u,width:r,height:n,style:Ute,ref:t}),i)}),Wte=e=>{var{children:t}=e,r=te(Om);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return g.createElement(AT,{width:n,height:a,x:o,y:i},t)},fE=g.forwardRef((e,t)=>{var{children:r}=e,n=$te(e,Ite),a=lr();return a?g.createElement(Wte,null,g.createElement(dE,{isPanorama:!0},r)):g.createElement(qte,Ch({ref:t},n),g.createElement(dE,{isPanorama:!1},r))});function Hte(){var e=Xe(),[t,r]=g.useState(null),n=te(gq);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;We(i)&&i!==n&&e(Z7(i))}},[t,e,n]),r}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){Vte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vte(e,t,r){return(t=Kte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kte(e){var t=Gte(e,"string");return typeof t=="symbol"?t:t+""}function Gte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(null,arguments)}var Yte=()=>(yX(),null);function Eh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Xte=g.forwardRef((e,t)=>{var r,n,a=g.useRef(null),[i,o]=g.useState({containerWidth:Eh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Eh((n=e.style)===null||n===void 0?void 0:n.height)}),s=g.useCallback((u,d)=>{o(f=>{var m=Math.round(u),h=Math.round(d);return f.containerWidth===m&&f.containerHeight===h?f:{containerWidth:m,containerHeight:h}})},[]),c=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var m=v=>{var{width:x,height:b}=v[0].contentRect;s(x,b)},h=new ResizeObserver(m);h.observe(u),a.current=h}},[t,s]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),g.createElement(g.Fragment,null,g.createElement(km,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",co({ref:c},e)))}),Zte=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=g.useState({containerWidth:Eh(r),containerHeight:Eh(n)}),o=g.useCallback((c,u)=>{i(d=>{var f=Math.round(c),m=Math.round(u);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),s=g.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(km,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",co({ref:s},e)))}),Jte=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(km,{width:r,height:n}),g.createElement("div",co({ref:t},e)))}),Qte=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return ua(r)||ua(n)?g.createElement(Zte,co({},e,{ref:t})):g.createElement(Jte,co({},e,{ref:t}))});function ere(e){return e===!0?Xte:Qte}var tre=g.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:v,onTouchStart:x,style:b,width:y,responsive:p,dispatchTouchEvents:w=!0}=e,_=g.useRef(null),j=Xe(),[C,S]=g.useState(null),[E,O]=g.useState(null),A=Hte(),N=Qb(),T=(N==null?void 0:N.width)>0?N.width:y,z=(N==null?void 0:N.height)>0?N.height:a,L=g.useCallback(P=>{A(P),typeof t=="function"&&t(P),S(P),O(P),P!=null&&(_.current=P)},[A,t,S,O]),H=g.useCallback(P=>{j(LP(P)),j(Dr({handler:i,reactEvent:P}))},[j,i]),D=g.useCallback(P=>{j(Fy(P)),j(Dr({handler:u,reactEvent:P}))},[j,u]),I=g.useCallback(P=>{j(TD()),j(Dr({handler:d,reactEvent:P}))},[j,d]),k=g.useCallback(P=>{j(Fy(P)),j(Dr({handler:f,reactEvent:P}))},[j,f]),R=g.useCallback(()=>{j(VP())},[j]),M=g.useCallback(P=>{j(FP(P.key))},[j]),K=g.useCallback(P=>{j(Dr({handler:o,reactEvent:P}))},[j,o]),V=g.useCallback(P=>{j(Dr({handler:s,reactEvent:P}))},[j,s]),ee=g.useCallback(P=>{j(Dr({handler:c,reactEvent:P}))},[j,c]),Z=g.useCallback(P=>{j(Dr({handler:m,reactEvent:P}))},[j,m]),ce=g.useCallback(P=>{j(Dr({handler:x,reactEvent:P}))},[j,x]),se=g.useCallback(P=>{w&&j(GP(P)),j(Dr({handler:v,reactEvent:P}))},[j,w,v]),ge=g.useCallback(P=>{j(Dr({handler:h,reactEvent:P}))},[j,h]),U=ere(p);return g.createElement(XD.Provider,{value:C},g.createElement(m9.Provider,{value:E},g.createElement(U,{width:T??(b==null?void 0:b.width),height:z??(b==null?void 0:b.height),className:Ie("recharts-wrapper",n),style:Fte({position:"relative",cursor:"default",width:T,height:z},b),onClick:H,onContextMenu:K,onDoubleClick:V,onFocus:R,onKeyDown:M,onMouseDown:ee,onMouseEnter:D,onMouseLeave:I,onMouseMove:k,onMouseUp:Z,onTouchEnd:ge,onTouchMove:se,onTouchStart:ce,ref:L},g.createElement(Yte,null),r)))}),rre=["width","height","responsive","children","className","style","compact","title","desc"];function nre(e,t){if(e==null)return{};var r,n,a=are(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function are(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ire=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:s,compact:c,title:u,desc:d}=e,f=nre(e,rre),m=la(f);return c?g.createElement(g.Fragment,null,g.createElement(km,{width:r,height:n}),g.createElement(fE,{otherAttributes:m,title:u,desc:d},i)):g.createElement(tre,{className:o,style:s,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(fE,{otherAttributes:m,title:u,desc:d,ref:t},g.createElement(VJ,null,i)))});function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(null,arguments)}var ore={top:5,right:5,bottom:5,left:5},sre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ore,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},lre=g.forwardRef(function(t,r){var n,a=kr(t.categoricalChartProps,sre),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(Pte,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},g.createElement(zJ,{chartData:u.data}),g.createElement(zte,{layout:a.layout,margin:a.margin}),g.createElement(Bte,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),g.createElement(ire,Vy({},a,{ref:r})))}),cre=["axis","item"],ure=g.forwardRef((e,t)=>g.createElement(lre,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cre,tooltipPayloadSearcher:rX,categoricalChartProps:e,ref:t}));function dre({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=g.useState([]),[i,o]=g.useState(!1),[s,c]=g.useState(null);g.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),c(null);try{const{data:m,error:h}=await $.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(h)throw h;if(!m)throw new Error("Dados de irradincia no encontrados para este local.");const x=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(b=>{const y=Number(m[b.key]),p=y?t*y:0;return{name:b.name,geracao:Math.round(p),factor:y}});a(x)}catch(m){console.error("Irradiance error:",m),c("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((m,h)=>m+h.geracao,0),f=n.length>0?d/12:0;return g.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?l.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):l.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Estimativa de Gerao Mensal"}),l.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",l.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),l.jsx("div",{style:{width:"100%",height:300},children:l.jsx(qq,{children:l.jsxs(ure,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[l.jsx(TP,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),l.jsx(IP,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),l.jsx($P,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),l.jsx(EX,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:m=>[`${m.toLocaleString("pt-BR")} kWh`,"Gerao"]}),l.jsx(zP,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((m,h)=>l.jsx(r1,{fill:"var(--color-orange)"},`cell-${h}`))})]})})}),l.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}const Cd=({title:e,icon:t,children:r,defaultOpen:n=!1,color:a="var(--color-blue)"})=>{const[i,o]=g.useState(n);return l.jsxs("div",{style:{marginBottom:"1rem",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",background:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{onClick:()=>o(!i),style:{padding:"1rem",background:i?`${a}10`:"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:i?"1px solid #e2e8f0":"none",transition:"background 0.2s"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontWeight:"bold",color:a},children:[t&&l.jsx(t,{size:20}),l.jsx("span",{style:{fontSize:"1rem"},children:e})]}),i?l.jsx(Wk,{size:20,color:"#64748b"}):l.jsx(qk,{size:20,color:"#64748b"})]}),i&&l.jsx("div",{style:{padding:"1.5rem",animation:"fadeIn 0.3s ease-in-out"},children:r})]})};function fre({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=or(),[o,s]=g.useState([]),[c,u]=g.useState([]),[d,f]=g.useState(!1),[m,h]=g.useState(!1),v=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],x=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],b=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],y=(U,P,F)=>{let G=[];for(let q=U;q<=P;q+=F)G.push(q);return G},p=y(460,800,5),w=[...y(1e3,7e3,1e3),7500,9e3,1e4,12500,...y(15e3,75e3,5e3),...y(1e5,3e5,25e3)],[_,j]=g.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[C,S]=g.useState([]),[E,O]=g.useState([]),[A,N]=g.useState(0),T=E.reduce((U,P)=>U+(Number(P.consumo_medio_kwh)||Number(P.franquia)||0),0);g.useEffect(()=>{const U=Number(_.qtd_modulos)||0,P=Number(_.potencia_modulos_w)||0,F=U*P/1e3;N(Number(F.toFixed(2)))},[_.qtd_modulos,_.potencia_modulos_w]),g.useEffect(()=>{var U,P,F,G,q,me,ae;I(),k(),e&&(j({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?R(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((U=e.address)==null?void 0:U.cep)||"",rua:((P=e.address)==null?void 0:P.rua)||"",numero:((F=e.address)==null?void 0:F.numero)||"",bairro:((G=e.address)==null?void 0:G.bairro)||"",cidade:((q=e.address)==null?void 0:q.cidade)||"",uf:((me=e.address)==null?void 0:me.uf)||"",ibge_code:e.ibge_code||((ae=e.address)==null?void 0:ae.ibge)||"",concessionaria:e.concessionaria||""}),z(e.id))},[e]),g.useEffect(()=>{D()},[e==null?void 0:e.id]);const z=async U=>{const{data:P}=await $.from("consumer_units").select("*").eq("usina_id",U);P&&O(P)},[L,H]=g.useState(!1),D=async()=>{if(!(e!=null&&e.id)&&!e){const{data:U}=await $.from("consumer_units").select("*").is("usina_id",null);S(U||[]);return}if(e!=null&&e.id){H(!0);try{const[U,P]=await Promise.all([$.from("consumer_units").select("*").eq("usina_id",e.id),$.from("consumer_units").select("*").is("usina_id",null)]),F=[...U.data||[],...P.data||[]],G=Array.from(new Map(F.map(q=>[q.id,q])).values());S(G)}catch(U){console.error("Error fetching UCs:",U)}finally{H(!1)}}},I=async()=>{const{data:U}=await $.from("suppliers").select("id, name").order("name");s(U||[])},k=async()=>{const{data:U}=await $.from("inverter_brands").select("name").order("name");u(U||[])},R=U=>U===""||U===void 0||U===null?"":typeof U=="number"?U.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(U.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),M=U=>{const P=U.target.value.replace(/\D/g,"");if(!P){j({..._,valor_investido:""});return}const G=(Number(P)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});j({..._,valor_investido:G})},K=U=>{if(!U)return 0;const P=U.replace(/[^\d,]/g,"").replace(",",".");return Number(P)||0},V=U=>{j(P=>{const F=P.servicos_contratados||[];return F.includes(U)?{...P,servicos_contratados:F.filter(G=>G!==U)}:{...P,servicos_contratados:[...F,U]}})},ee=(U,P)=>{const F=P.replace(/\D/g,""),G=Number(F)/100;j(q=>({...q,service_values:{...q.service_values,[U]:G}}))},Z=async()=>{const U=_.cep.replace(/\D/g,"");if(U.length===8){h(!0);try{const P=await pn(U);if(j(F=>({...F,rua:P.rua||"",bairro:P.bairro||"",cidade:P.cidade||"",uf:P.uf||"",ibge_code:P.ibge||""})),P.ibge){const F=await ru(P.ibge);F&&F.Concessionaria&&j(G=>({...G,concessionaria:F.Concessionaria}))}}catch(P){console.error("Erro CEP",P)}finally{h(!1)}}},ce=g.useCallback(U=>{U&&j(P=>U!==Number(P.geracao_estimada_kwh)?{...P,geracao_estimada_kwh:U}:P)},[]),se=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:P}=await $.from("usinas").delete().eq("id",e.id);if(P)throw P;n&&n(e.id),t()}catch(P){a("Erro ao excluir: "+P.message,"error")}finally{f(!1)}}},ge=async U=>{U.preventDefault(),f(!0);try{const P=K(_.valor_investido),F={supplier_id:_.supplier_id||null,name:_.name,concessionaria:_.concessionaria,status:_.status,modalidade:_.modalidade,valor_investido:P,potencia_kwp:Number(A),qtd_modulos:Number(_.qtd_modulos),potencia_modulos_w:Number(_.potencia_modulos_w),fabricante_inversor:_.fabricante_inversor,potencia_inversor_w:Number(_.potencia_inversor_w),geracao_estimada_kwh:Number(_.geracao_estimada_kwh),servicos_contratados:_.servicos_contratados,service_values:_.service_values,gestao_percentual:Number(_.gestao_percentual),ibge_code:_.ibge_code,address:{cep:_.cep,rua:_.rua,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,ibge:_.ibge_code}};let G=e==null?void 0:e.id,q=null;if(e!=null&&e.id){const{data:me,error:ae}=await $.from("usinas").update(F).eq("id",e.id).select().single();ae?q=ae:me&&(G=me.id)}else{const{data:me,error:ae}=await $.from("usinas").insert(F).select().single();ae?q=ae:me&&(G=me.id)}if(q)throw q;if(G&&(await $.from("consumer_units").update({usina_id:null}).eq("usina_id",G),E.length>0)){const me=E.map(ae=>ae.id);await $.from("consumer_units").update({usina_id:G}).in("id",me)}r({id:G}),t(),a("Usina salva com sucesso!","success")}catch(P){console.error("Save error:",P),a("Erro ao salvar usina: "+(P.message||JSON.stringify(P)),"error")}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"850px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.5rem",color:"#1e293b",fontWeight:"bold"},children:e?e.name||_.name:"Nova Usina"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem",marginTop:"0.2rem"},children:"Configure os dados tcnicos e comerciais da usina"})]}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8",padding:"0.5rem"},children:l.jsx(wi,{size:24})})]}),l.jsxs("form",{onSubmit:ge,style:{padding:"1.5rem"},children:[l.jsx(Cd,{title:"Identificao e Localizao",icon:jI,defaultOpen:!0,color:"#2563eb",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Nome da Usina"}),l.jsx("input",{required:!0,value:_.name,onChange:U=>j({..._,name:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"},placeholder:"Ex: Usina Solar Norte 01"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fornecedor / Proprietrio"}),l.jsxs("select",{required:!0,value:_.supplier_id,onChange:U=>j({..._,supplier_id:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(U=>l.jsx("option",{value:U.id,children:U.name},U.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:_.cep,onChange:U=>j({..._,cep:U.target.value}),onBlur:Z,placeholder:"00000-000",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:m?"#f0f9ff":"white"}}),m&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"0.8rem",color:"#3b82f6"},children:"..."})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Cidade / UF"}),l.jsx("input",{value:_.cidade&&_.uf?`${_.cidade} / ${_.uf}`:"",disabled:!0,placeholder:"Preenchimento automtico",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f1f5f9",color:"#64748b"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Concessionria"}),l.jsx("input",{value:_.concessionaria,onChange:U=>j({..._,concessionaria:U.target.value}),placeholder:"Ex: Cemig",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]})]})}),l.jsx(Cd,{title:"Caractersticas Tcnicas",icon:cb,defaultOpen:!0,color:"#ea580c",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status Operacional"}),l.jsx("select",{value:_.status,onChange:U=>j({..._,status:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:v.map(U=>l.jsx("option",{value:U.value,children:U.label},U.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Modalidade"}),l.jsx("select",{value:_.modalidade,onChange:U=>j({..._,modalidade:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:x.map(U=>l.jsx("option",{value:U.value,children:U.label},U.value))})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.5rem 0",gridColumn:"1 / -1"}}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Qtd. Mdulos"}),l.jsx("input",{type:"number",value:_.qtd_modulos,onChange:U=>j({..._,qtd_modulos:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Mdulo (W)"}),l.jsxs("select",{value:_.potencia_modulos_w,onChange:U=>j({..._,potencia_modulos_w:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),p.map(U=>l.jsxs("option",{value:U,children:[U," W"]},U))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fabricante Inversor"}),l.jsxs("select",{value:_.fabricante_inversor,onChange:U=>j({..._,fabricante_inversor:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(U=>l.jsx("option",{value:U.name,children:U.name},U.name))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Inversor (W)"}),l.jsxs("select",{value:_.potencia_inversor_w,onChange:U=>j({..._,potencia_inversor_w:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),w.map(U=>l.jsxs("option",{value:U,children:[U," W"]},U))]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"0.5rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",background:"#fff7ed",padding:"1rem",borderRadius:"8px",border:"1px solid #ffedd5"},children:[l.jsx("div",{style:{background:"#ea580c",color:"white",padding:"0.5rem",borderRadius:"50%"},children:l.jsx(vo,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#ea580c",fontWeight:600,textTransform:"uppercase"},children:"Potncia Total do Sistema (Calculada)"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#9a3412"},children:[A," kWp"]})]})]})})]})}),l.jsxs(Cd,{title:"Gerao e Financeiro",icon:Zh,color:"#16a34a",children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Valor Investido"}),l.jsx("input",{value:_.valor_investido,onChange:M,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Gerao Estimada (Mdia Mensal)"}),l.jsx("input",{type:"number",value:_.geracao_estimada_kwh,onChange:U=>j({..._,geracao_estimada_kwh:U.target.value}),placeholder:"Use o grfico para calcular",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f0fdf4"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Servios Contratados"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:b.map(U=>{var F;const P=_.servicos_contratados.includes(U);return l.jsxs("div",{style:{border:P?"1px solid #16a34a":"1px solid #e2e8f0",borderRadius:"6px",padding:"0.5rem",background:P?"#f0fdf4":"white",transition:"0.2s"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",marginBottom:P?"0.5rem":"0"},children:[l.jsx("input",{type:"checkbox",checked:P,onChange:()=>V(U)}),l.jsx("span",{style:{fontSize:"0.9rem",fontWeight:P?600:400,color:P?"#166534":"#64748b"},children:U})]}),P&&l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",animation:"fadeIn 0.2s"},children:l.jsx("input",{placeholder:"Valor (R$)",value:R((F=_.service_values)==null?void 0:F[U]),onChange:G=>ee(U,G.target.value),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}})}),P&&U==="Gesto"&&l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("input",{type:"number",step:"0.01",placeholder:"%",value:_.gestao_percentual,onChange:G=>j({..._,gestao_percentual:G.target.value}),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#166534"},children:"%"})]})]},U)})})]})]}),l.jsxs("div",{style:{marginTop:"1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#059669",fontWeight:600,marginBottom:"0.5rem"},children:[l.jsx(qB,{size:18}),l.jsx("span",{children:"Estimativa de Gerao (Irradincia)"})]}),l.jsx(dre,{ibgeCode:_.ibge_code,potenciaKwp:A,onCalculate:ce})]})]}),l.jsx(Cd,{title:"Vnculos com UCs",icon:db,color:"#7c3aed",children:l.jsxs("div",{style:{background:"#f5f3ff",padding:"1rem",borderRadius:"8px",border:"1px solid #ede9fe"},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.8rem"},children:l.jsxs("div",{style:{fontSize:"0.9rem",color:"#5b21b6"},children:["Capacidade Comprometida: ",l.jsxs("strong",{children:[T.toFixed(2)," kWh"]}),_.geracao_estimada_kwh>0&&l.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",color:T>_.geracao_estimada_kwh?"#ef4444":"#166534"},children:["(",Math.round(T/_.geracao_estimada_kwh*100),"% da Gerao)"]})]})}),L?l.jsx("p",{style:{fontSize:"0.8rem",color:"#64748b",textAlign:"center",padding:"1rem"},children:"Carregando unidades disponveis..."}):C.length===0?l.jsx("p",{style:{fontSize:"0.8rem",color:"#64748b",textAlign:"center",padding:"1rem"},children:"Nenhuma UC disponvel encontrada."}):l.jsx("div",{style:{maxHeight:"250px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"0.8rem"},children:C.map(U=>{var F;const P=E.some(G=>G.id===U.id);return l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.85rem",padding:"0.8rem",border:P?"1px solid #8b5cf6":"1px solid #ddd",borderRadius:"6px",background:P?"white":"rgba(255,255,255,0.6)",cursor:"pointer",transition:"0.2s",boxShadow:P?"0 2px 4px rgba(139, 92, 246, 0.1)":"none"},children:[l.jsx("input",{type:"checkbox",checked:P,onChange:G=>{G.target.checked?O([...E,U]):O(E.filter(q=>q.id!==U.id))},style:{transform:"scale(1.1)",accentColor:"#7c3aed"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:U.numero_uc}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:(F=U.titular_conta)==null?void 0:F.substring(0,20)})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("span",{style:{display:"block",fontSize:"0.65rem",color:"#94a3b8"},children:U.concessionaria}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#059669",fontWeight:"bold"},children:U.franquia?`${Math.round(U.franquia)} kWh (Frq)`:U.consumo_medio_kwh?`${Math.round(U.consumo_medio_kwh)} kWh (Cons)`:"0 kWh"})]})]},U.id)})})]})}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsx("div",{children:e&&n&&l.jsxs("button",{type:"button",onClick:se,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.7rem 1.2rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:[l.jsx(au,{size:18})," Excluir Usina"]})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(sb,{size:18})," Salvar Usina"]})})]})]})]})]})})}function hre({usina:e,closingId:t,onClose:r,onSave:n}){const{showAlert:a}=or(),[i,o]=g.useState(!1),s=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],c=new Date().getFullYear(),u=[c-1,c,c+1],[d,f]=g.useState({ref_month:s[new Date().getMonth()],ref_year:c,closing_date:new Date().toISOString().split("T")[0],status:"rascunho",energia_gerada:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas_base:"",custo_disponibilidade:"",manutencao:"",arrendamento:"",servicos_total:"",taxa_gestao_percentual:"",taxa_gestao_valor:"",total_despesas:"",saldo_liquido:""}),m=j=>!j&&j!==0?"":Number(j).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),h=j=>j?typeof j=="number"?j:Number(j.replace(/[^\d,]/g,"").replace(",","."))||0:0;g.useEffect(()=>{if(t)v();else if(e){const j=e.service_values||{},C=j.Internet||0,S=j.Segurana||0,E=j.gua||0,O=C+S+E;f(A=>({...A,custo_disponibilidade:j.Energia||0,manutencao:j.Manuteno||0,arrendamento:j.Arrendamento||0,servicos_total:O,taxa_gestao_percentual:e.gestao_percentual||0}))}},[e,t]),g.useEffect(()=>{!t&&e&&x()},[d.ref_month,d.ref_year]),g.useEffect(()=>{b()},[d.faturas_pagas_base,d.taxa_gestao_percentual,d.custo_disponibilidade,d.manutencao,d.arrendamento,d.servicos_total]);const v=async()=>{o(!0);const{data:j,error:C}=await $.from("plant_closings").select("*").eq("id",t).single();j&&f(j),o(!1)},x=async()=>{const{data:j}=await $.from("consumer_units").select("id").eq("usina_id",e.id),C=(j==null?void 0:j.map(E=>E.id))||[];if(C.length===0)return;`${d.ref_month}${d.ref_year}`;const{data:S}=await $.from("invoices").select("consumo_kwh, valor_total, status, economia_reais, consumo_reais").in("uc_id",C).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year);if(S){const E=S.reduce((T,z)=>T+(Number(z.consumo_kwh)||0),0),A=S.filter(T=>T.status==="paga").reduce((T,z)=>T+(Number(z.valor_total)||0),0),N=S.reduce((T,z)=>T+(Number(z.valor_total)||0),0);f(T=>({...T,energia_compensada:E,faturamento_mensal:N,faturas_pagas_base:A}))}},b=()=>{const j=h(d.faturas_pagas_base),C=Number(d.taxa_gestao_percentual)||0,S=j*(C/100),E=h(d.custo_disponibilidade),O=h(d.manutencao),A=h(d.arrendamento),N=h(d.servicos_total),T=E+O+A+N,z=j-(S+T);f(L=>({...L,taxa_gestao_valor:S,total_despesas:T,saldo_liquido:z}))},y=(j,C)=>{f(S=>({...S,[j]:C}))},p=(j,C)=>{const S=Number(C.replace(/\D/g,""))/100;f(E=>({...E,[j]:S}))},w=async()=>{if(!e.pix_key){a("Usina sem chave PIX cadastrada!","error");return}if(confirm("Confirma o repasse de "+m(d.saldo_liquido)+" para a usina? Essa ao  irreversvel.")){o(!0);try{const{data:j,error:C}=await $.functions.invoke("transfer-asaas-pix",{body:{amount:d.saldo_liquido,pixKey:e.pix_key,pixKeyType:e.pix_key_type||"CPF",description:`Repasse Mensal Usina ${e.name} - ${d.ref_month}/${d.ref_year}`,usinaId:e.id}});if(C)throw new Error(C.message||"Erro na comunicao com Asaas");if(j!=null&&j.error)throw new Error(j.error);await $.from("plant_closings").update({status:"liquidado"}).eq("id",t);const S=`${d.ref_month}/${d.ref_year}`,{data:E}=await $.from("consumer_units").select("id").eq("usina_id",e.id),O=(E==null?void 0:E.map(T=>T.id))||[];O.length>0&&await $.from("invoices").update({status:"liquidado"}).in("uc_id",O).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year).eq("status","paga");const N=[{cat:"manutencao",val:d.manutencao,desc:"Manuteno"},{cat:"arrendamento",val:d.arrendamento,desc:"Arrendamento"},{cat:"taxa_gestao",val:d.taxa_gestao_valor,desc:"Taxa de Gesto"},{cat:"servicos",val:d.servicos_total,desc:"Servios Gerais"}].filter(T=>Number(T.val)>0).map(T=>({usina_id:e.id,type:"saida",category:T.cat,amount:Number(T.val),description:`${T.desc} - Ref. ${d.ref_month}/${d.ref_year}`,origin_id:t,origin_type:"plant_closing",status:"liquidado",transaction_date:new Date().toISOString()}));N.length>0&&await $.from("cashbook").insert(N),O.length>0&&await $.from("cashbook").update({status:"liquidado"}).eq("usina_id",e.id).eq("type","entrada").eq("status","provisionado").textSearch("description",`${d.ref_month} ${d.ref_year}`),a("Pagamento realizado e despesas liquidadas!","success"),n(),r()}catch(j){console.error(j),a("Erro no processamento: "+j.message,"error")}finally{o(!1)}}},_=async j=>{j.preventDefault(),o(!0);const C={usina_id:e.id,...d,taxa_gestao_valor:Number(d.taxa_gestao_valor),total_despesas:Number(d.total_despesas),saldo_liquido:Number(d.saldo_liquido)};delete C.created_at;let S;t?S=await $.from("plant_closings").update(C).eq("id",t):S=await $.from("plant_closings").insert(C),o(!1),S.error?a("Erro ao salvar: "+S.error.message,"error"):(a("Fechamento salvo com sucesso!","success"),n(),r())};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"900px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Novo Fechamento"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Usina: ",e.name]})]}),l.jsx("button",{onClick:r,children:l.jsx(wi,{size:24,color:"#94a3b8"})})]}),l.jsxs("form",{onSubmit:_,style:{padding:"2rem",display:"grid",gap:"2rem"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",background:"white",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ms Ref."}),l.jsx("select",{value:d.ref_month,onChange:j=>y("ref_month",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:s.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ano"}),l.jsx("select",{value:d.ref_year,onChange:j=>y("ref_year",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:u.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",value:d.closing_date,onChange:j=>y("closing_date",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:j=>y("status",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontWeight:"bold",color:d.status==="fechado"?"#166534":"#ea580c"},children:[l.jsx("option",{value:"rascunho",children:"EM PRODUO"}),l.jsx("option",{value:"fechado",children:"FECHADO"})]})]}),l.jsx("div",{style:{display:"flex",alignItems:"end"},children:l.jsx("button",{type:"button",onClick:x,style:{width:"100%",padding:"0.6rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:"Buscar Faturas"})})]}),l.jsxs("div",{children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Uk,{size:18})," Produo e Receita"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",value:d.energia_gerada,onChange:j=>y("energia_gerada",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Energia Compensada (kWh) - Soma Faturas"}),l.jsx("input",{type:"number",value:d.energia_compensada,disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",background:"#f1f5f9"}})]})]}),l.jsxs("div",{style:{background:"#f0fdf4",padding:"1.5rem",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"bold",color:"#166534",marginBottom:"0.5rem"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{value:m(d.faturas_pagas_base),onChange:j=>p("faturas_pagas_base",j.target.value),style:{width:"100%",fontSize:"1.5rem",fontWeight:"bold",color:"#166534",padding:"0.5rem",background:"transparent",border:"none",outline:"none",borderBottom:"2px solid #16a34a"}}),l.jsx("p",{style:{fontSize:"0.8rem",color:"#15803d",marginTop:"0.5rem"},children:"Valor efetivamente recebido dos assinantes."})]})]}),l.jsxs("div",{style:{border:"1px solid #fb923c",borderRadius:"8px",padding:"1.5rem",background:"#fff7ed",position:"relative"},children:[l.jsxs("div",{style:{position:"absolute",top:"-12px",left:"20px",background:"#fff7ed",padding:"0 10px",color:"#c2410c",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(hi,{size:18})," Despesas Operacionais"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginTop:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{value:m(d.custo_disponibilidade),onChange:j=>p("custo_disponibilidade",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Manuteno (R$)"}),l.jsx("input",{value:m(d.manutencao),onChange:j=>p("manutencao",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Arrendamento (R$)"}),l.jsx("input",{value:m(d.arrendamento),onChange:j=>p("arrendamento",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Servios (Net/Seg/gua) (R$)"}),l.jsx("input",{value:m(d.servicos_total),onChange:j=>p("servicos_total",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]})]})]}),l.jsx("div",{style:{background:"#fefce8",borderRadius:"8px",padding:"1.5rem",border:"1px solid #fde047"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Taxa de Gesto (%)"}),l.jsx("input",{type:"number",step:"0.1",value:d.taxa_gestao_percentual,onChange:j=>y("taxa_gestao_percentual",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"white"}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Valor (R$)"}),l.jsx("input",{value:m(d.taxa_gestao_valor),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Total Despesas Operacionais"}),l.jsx("input",{value:m(d.total_despesas),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]})}),"/* ... existing render logic ... */",l.jsxs("div",{style:{background:"#eff6ff",borderRadius:"8px",padding:"2rem",textAlign:"center",border:"1px solid #bfdbfe"},children:[l.jsx("h3",{style:{color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("p",{style:{color:"#3b82f6",fontSize:"0.9rem",marginBottom:"1rem"},children:"Faturas Pagas - (Taxa Gesto + Total Despesas)"}),l.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"900",color:d.saldo_liquido<0?"#ef4444":"#1e40af"},children:m(d.saldo_liquido)}),d.saldo_liquido>0&&d.status!=="liquidado"&&l.jsxs("button",{type:"button",onClick:w,disabled:i||d.status==="liquidado",style:{marginTop:"1.5rem",background:"#16a34a",color:"white",padding:"0.8rem 2rem",borderRadius:"6px",border:"none",fontWeight:"bold",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 6px -1px rgba(22, 163, 74, 0.3)"},children:[l.jsx(Zh,{size:20})," Pagar e Liquidar via Pix"]}),d.status==="liquidado"&&l.jsxs("div",{style:{marginTop:"1rem",color:"#166534",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#166534"}}),"Repasse Realizado"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:i?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(sb,{size:18})," Salvar Fechamento"]})})]})]})]})})}function mre({usina:e,onClose:t}){const{showAlert:r}=or(),[n,a]=g.useState([]),[i,o]=g.useState(!0),[s,c]=g.useState(null),[u,d]=g.useState(!1);g.useEffect(()=>{e&&f()},[e]);const f=async()=>{o(!0);const{data:b,error:y}=await $.from("plant_closings").select("*").eq("usina_id",e.id).order("created_at",{ascending:!1});y?console.error("Error fetching closings",y):a(b||[]),o(!1)},m=b=>{c(b),d(!0)},h=()=>{c(null),d(!0)},v=()=>{f()},x=b=>Number(b||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},children:[u&&l.jsx(hre,{usina:e,closingId:s,onClose:()=>d(!1),onSave:v}),l.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Fechamentos Mensais"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Histrico financeiro da usina ",e.name]})]}),l.jsx("button",{onClick:t,children:l.jsx(wi,{size:24,color:"#94a3b8"})})]}),l.jsx("div",{style:{padding:"1rem 1.5rem",background:"#f8fafc",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end"},children:l.jsxs("button",{onClick:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-blue)",color:"white",padding:"0.6rem 1.2rem",borderRadius:"6px",border:"none",fontWeight:600,cursor:"pointer"},children:[l.jsx(Ys,{size:18})," Novo Fechamento"]})}),l.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1,background:"#f1f5f9"},children:i?l.jsx("p",{children:"Carregando..."}):n.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8",background:"white",borderRadius:"8px",border:"1px dashed #cbd5e1"},children:[l.jsx(hi,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),l.jsx("p",{children:"Nenhum fechamento registrado para esta usina."})]}):l.jsx("div",{style:{display:"grid",gap:"1rem"},children:n.map(b=>l.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[l.jsxs("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",textAlign:"center",minWidth:"80px"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b",textTransform:"uppercase"},children:"Ms/Ano"}),l.jsxs("div",{style:{fontWeight:"bold",color:"#1e40af"},children:[b.ref_month,"/",b.ref_year]})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.3rem"},children:[l.jsx("span",{style:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:"bold",padding:"0.2rem 0.5rem",borderRadius:"99px",background:b.status==="fechado"?"#dcfce7":"#ffedd5",color:b.status==="fechado"?"#166534":"#9a3412"},children:b.status}),l.jsxs("span",{style:{fontSize:"0.8rem",color:"#94a3b8"},children:["Criado em ",new Date(b.created_at).toLocaleDateString()]})]}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#475569"},children:["Faturas: ",l.jsx("strong",{children:x(b.faturas_pagas_base)})," | Despesas: ",l.jsx("strong",{children:x(b.total_despesas)})]})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:"Saldo Lquido"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:b.saldo_liquido<0?"#ef4444":"#166534"},children:x(b.saldo_liquido)}),l.jsx("button",{onClick:()=>m(b.id),style:{marginTop:"0.5rem",background:"none",border:"none",color:"#3b82f6",fontSize:"0.85rem",cursor:"pointer",textDecoration:"underline"},children:"Ver Detalhes"})]})]},b.id))})})]})]})}const nc=[{status:"em_conexao",label:"Em Conexo",color:"#9a3412",bg:"#ffedd5"},{status:"gerando",label:"Gerando",color:"#166534",bg:"#dcfce7"},{status:"manutencao",label:"Manuteno",color:"#991b1b",bg:"#fee2e2"},{status:"inativa",label:"Inativa",color:"#64748b",bg:"#f1f5f9"},{status:"cancelada",label:"Cancelada",color:"#94a3b8",bg:"#f1f5f9"}];function XP({plant:e,onClick:t,onClosingsClick:r,isOverlay:n}){var m,h,v,x;const{attributes:a,listeners:i,setNodeRef:o,transform:s,transition:c,isDragging:u}=Ob({id:e.id,disabled:!!n}),d=nc.find(b=>b.status===e.status)||nc[0],f={transform:kn.Transform.toString(s),transition:c,opacity:u?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:n?"var(--shadow-lg)":"var(--shadow-sm)",cursor:n?"grabbing":"grab",border:"1px solid transparent",zIndex:u?1e3:1,position:"relative",overflow:"hidden",width:n?"300px":"auto"};return l.jsxs("div",{ref:o,style:f,...n?{}:a,...n?{}:i,onClick:()=>!n&&t(e),children:[l.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:d.bg,color:d.color,marginBottom:"0.5rem"},children:(m=e.status)==null?void 0:m.replace("_"," ")}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:e.name})}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria||"Sem conc."}),l.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((h=e.supplier)==null?void 0:h.name)||"Sem Fornecedor"})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),l.jsxs("div",{style:{fontWeight:"bold"},children:[e.potencia_kwp," kWp"]})]}),l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),l.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[e.geracao_estimada_kwh," kWh"]})]})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(v=e.address)==null?void 0:v.cidade,"/",(x=e.address)==null?void 0:x.uf]}),l.jsxs("button",{onClick:b=>{b.stopPropagation(),r(e)},style:{background:"none",border:"none",color:"#3b82f6",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.2rem"},children:[l.jsx(hi,{size:14})," Fechamentos"]})]})]})}function pre({status:e,label:t,color:r,bg:n,plants:a,onCardClick:i,onClosingsClick:o}){const{setNodeRef:s,isOver:c}=am({id:e});return l.jsxs("div",{ref:s,style:{minWidth:"300px",flex:1,background:c?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:t}),l.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:a.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:l.jsx(Eb,{items:a.map(u=>u.id),strategy:Cb,children:a.map(u=>l.jsx(XP,{plant:u,onClick:i,onClosingsClick:o},u.id))})})]})}function gre(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(!1),[o,s]=g.useState(null),[c,u]=g.useState(!1),[d,f]=g.useState(null),[m,h]=g.useState(""),[v,x]=g.useState("kanban"),[b,y]=g.useState(null),p=vb(gb(uu,{activationConstraint:{distance:8}})),w=e.filter(A=>{var T,z,L,H,D,I,k;if(!m)return!0;const N=m.toLowerCase();return((T=A.name)==null?void 0:T.toLowerCase().includes(N))||((z=A.concessionaria)==null?void 0:z.toLowerCase().includes(N))||((H=(L=A.supplier)==null?void 0:L.name)==null?void 0:H.toLowerCase().includes(N))||((D=A.status)==null?void 0:D.toLowerCase().includes(N))||((k=(I=A.address)==null?void 0:I.cidade)==null?void 0:k.toLowerCase().includes(N))});g.useEffect(()=>{_()},[]);const _=async()=>{n(!0);try{const{data:A,error:N}=await $.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(N)throw N;t(A||[])}catch(A){console.error("Erro usinas",A)}finally{n(!1)}},j=()=>{_(),i(!1)},C=A=>{t(e.filter(N=>N.id!==A)),i(!1)},S=A=>{y(A.active.id)},E=async A=>{const{active:N,over:T}=A;if(y(null),!T)return;const z=N.id,L=T.id;let H=L;if(!nc.some(k=>k.status===L)){const k=e.find(R=>R.id===L);H=k==null?void 0:k.status}if(!H)return;const I=e.find(k=>k.id===z);if(I&&I.status!==H){t(k=>k.map(R=>R.id===z?{...R,status:H}:R));try{const{error:k}=await $.from("usinas").update({status:H}).eq("id",z);if(k)throw k}catch(k){console.error("Error updating status:",k),_()}}},O=A=>{const N=nc.find(T=>T.status===A)||{bg:"#f1f5f9",color:"#64748b"};return{bg:N.bg,color:N.color}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Usinas Geradoras"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:m,onChange:A=>h(A.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>x("list"),className:`btn ${v==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>x("kanban"),className:`btn ${v==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:v==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:w.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome / Concessionria"}),l.jsx("th",{children:"Fornecedor"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Gerao / Potncia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:w.map(A=>{var T,z,L,H;const N=O(A.status);return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold"},children:[l.jsx("div",{children:A.name}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:A.concessionaria||"-"})]}),l.jsx("td",{children:((T=A.supplier)==null?void 0:T.name)||"-"}),l.jsxs("td",{children:[(z=A.address)==null?void 0:z.cidade,"/",(L=A.address)==null?void 0:L.uf]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:A.geracao_estimada_kwh?`${A.geracao_estimada_kwh} kWh/ms`:"-"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",A.potencia_kwp," kWp"]})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:N.bg,color:N.color,textTransform:"uppercase"},children:(H=A.status)==null?void 0:H.replace("_"," ")})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>{s(A),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",marginRight:"0.5rem"},children:"Editar"}),l.jsx("button",{onClick:()=>{f(A),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",background:"#e0f2fe",color:"#0369a1",border:"1px solid #bae6fd"},children:l.jsx(hi,{size:14})})]})]},A.id)})})]})})}):l.jsxs(jb,{sensors:p,collisionDetection:yb,onDragStart:S,onDragEnd:E,onDragCancel:()=>y(null),children:[l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:nc.map(({status:A,label:N,color:T,bg:z})=>{const L=w.filter(H=>H.status===A);return l.jsx(pre,{status:A,label:N,color:T,bg:z,plants:L,onCardClick:H=>{s(H),i(!0)},onClosingsClick:H=>{f(H),u(!0)}},A)})}),l.jsx(Sb,{adjustScale:!0,children:b?l.jsx(XP,{plant:e.find(A=>A.id===b),isOverlay:!0}):null})]})}),a&&l.jsx(fre,{usina:o,onClose:()=>i(!1),onSave:j,onDelete:C}),c&&l.jsx(mre,{usina:d,onClose:()=>u(!1)})]})}function vre(){const{showAlert:e,showConfirm:t}=or(),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,s]=g.useState(!0),[c,u]=g.useState("kanban"),[d,f]=g.useState(null),[m,h]=g.useState(!1),[v,x]=g.useState(new Date().toISOString().substring(0,7)),[b,y]=g.useState(""),[p,w]=g.useState(""),[_,j]=g.useState(null),C=r.filter(D=>{var I,k,R,M,K,V,ee;if(b&&D.status!==b)return!1;if(p){const Z=p.toLowerCase(),ce=((k=(I=D.consumer_units)==null?void 0:I.titular_conta)==null?void 0:k.toLowerCase())||"",se=((K=(M=(R=D.consumer_units)==null?void 0:R.subscribers)==null?void 0:M.name)==null?void 0:K.toLowerCase())||"",ge=((ee=(V=D.consumer_units)==null?void 0:V.numero_uc)==null?void 0:ee.toLowerCase())||"";if(!ce.includes(Z)&&!se.includes(Z)&&!ge.includes(Z))return!1}return!0});g.useEffect(()=>{S(),E()},[v]);const S=async()=>{s(!0);try{const[D,I]=v.split("-"),k=`${D}-${I}-01`,R=new Date(D,I,0).getDate(),M=`${D}-${I}-${R}`,{data:K,error:V}=await $.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",k).lte("mes_referencia",M).order("vencimento",{ascending:!0});if(V)throw V;n(K||[])}catch(D){console.error("Error fetching invoices:",D),e("Erro ao carregar faturas.","error")}finally{s(!1)}},E=async()=>{const{data:D,error:I}=await $.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta, tarifa_concessionaria, desconto_assinante, tipo_ligacao").eq("status","ativo").order("titular_conta");I||i(D||[])},O=()=>{f(null),h(!0)},A=D=>{f(D),h(!0)},N=()=>{S(),h(!1)},T=async D=>{var k;if(await t(`Gerar boleto Asaas para a fatura de ${(k=D.consumer_units)==null?void 0:k.titular_conta}?`)){j(D.id);try{const R=await Xh(D.id);R.url&&(e("Boleto gerado com sucesso!","success"),window.open(R.url,"_blank"),S())}catch(R){console.error(R),e("Erro ao gerar boleto: "+R.message,"error")}finally{j(null)}}},z=async D=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:k}=await $.from("invoices").delete().eq("id",D);if(k)throw k;S()}catch(k){console.error("Erro ao excluir fatura:",k),e("Erro ao excluir fatura: "+k.message,"error")}},L=D=>Number(D||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),H=D=>{const I={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:Fk},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:Vk},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:Hk}},k=I[D]||I.a_vencer,R=k.icon;return l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:k.bg,color:k.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[l.jsx(R,{size:12})," ",k.label]})};return l.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),l.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),l.jsxs("button",{onClick:O,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Ys,{size:18})," Nova Fatura"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[l.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[l.jsx(fI,{size:18}),l.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),l.jsx("input",{type:"month",value:v,onChange:D=>x(D.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),l.jsxs("select",{value:b,onChange:D=>y(D.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"atrasado",children:"Atrasado"}),l.jsx("option",{value:"pago",children:"Pago"})]}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx(lb,{size:18})}),l.jsx("input",{placeholder:"Buscar por Nome...",value:p,onChange:D=>w(D.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>u("list"),className:`btn ${c==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>u("kanban"),className:`btn ${c==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:c==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{background:"#f8fafc"},children:l.jsxs("tr",{children:[l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),l.jsx("tbody",{children:C.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):C.map(D=>{var I,k,R;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsx("td",{style:{padding:"1rem"},children:H(D.status)}),l.jsx("td",{style:{padding:"1rem",color:"#334155"},children:D.vencimento?new Date(D.vencimento).toLocaleDateString("pt-BR"):"-"}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((I=D.consumer_units)==null?void 0:I.numero_uc)||"N/A"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(k=D.consumer_units)==null?void 0:k.titular_conta," (",(R=D.consumer_units)==null?void 0:R.concessionaria,")"]})]}),l.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(D.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:L(D.valor_a_pagar)}),l.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[D.asaas_boleto_url?l.jsxs("a",{href:D.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(hi,{size:14})," Boleto"]}):l.jsx("button",{onClick:()=>T(D),disabled:_===D.id,style:{background:_===D.id?"#f1f5f9":"#fff7ed",color:_===D.id?"#94a3b8":"#c2410c",border:_===D.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:_===D.id?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx(nu,{size:14})," Emitir"]})}),l.jsx("button",{onClick:()=>A(D),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),l.jsx("button",{onClick:()=>z(D.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:l.jsx(au,{size:16})})]})})]},D.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(D=>{const I=C.filter(M=>M.status===D),k={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},R=k[D]||k.a_vencer;return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${R.color}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:R.color},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:R.label}),l.jsx("span",{style:{fontSize:"0.8rem",background:R.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:L(I.reduce((M,K)=>M+(Number(K.valor_a_pagar)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:I.map(M=>{var K,V;return l.jsxs("div",{onClick:()=>A(M),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:ee=>ee.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:ee=>ee.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(K=M.consumer_units)==null?void 0:K.numero_uc}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",M.vencimento?new Date(M.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(V=M.consumer_units)==null?void 0:V.titular_conta}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),l.jsxs("div",{children:[Number(M.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:L(M.valor_a_pagar)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:M.asaas_boleto_url?l.jsxs("a",{href:M.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:ee=>ee.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(hi,{size:14})," Boleto"]}):l.jsx("button",{onClick:ee=>{ee.stopPropagation(),T(M)},className:"btn",disabled:_===M.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:_===M.id?"...":"Emitir"})})]},M.id)})})]},D)})})}),m&&l.jsx(Zk,{invoice:d,ucs:a,onClose:()=>h(!1),onSave:N})]})}const mE=[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}];function ZP({uc:e,onClick:t,isOverlay:r}){var d,f,m;const{attributes:n,listeners:a,setNodeRef:i,transform:o,transition:s,isDragging:c}=Ob({id:e.id,disabled:!!r}),u={transform:kn.Transform.toString(o),transition:s,opacity:c?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:r?"var(--shadow-lg)":"var(--shadow-sm)",cursor:r?"grabbing":"grab",border:"1px solid transparent",zIndex:c?1e3:1,position:"relative",width:r?"300px":"auto"};return l.jsxs("div",{ref:i,style:u,...r?{}:n,...r?{}:a,onClick:()=>!r&&t(e),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:e.numero_uc}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria})]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((d=e.subscriber)==null?void 0:d.name)||"Sem Assinante"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(f=e.address)==null?void 0:f.cidade,"/",(m=e.address)==null?void 0:m.uf]}),l.jsx("span",{children:e.franquia?`${Number(e.franquia).toLocaleString("pt-BR")} kWh`:""})]})]})}function yre({status:e,label:t,color:r,units:n,onCardClick:a}){const{setNodeRef:i,isOver:o}=am({id:e});return l.jsxs("div",{ref:i,style:{minWidth:"300px",flex:1,background:o?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:t}),l.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:n.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:l.jsx(Eb,{items:n.map(s=>s.id),strategy:Cb,children:n.map(s=>l.jsx(ZP,{uc:s,onClick:a},s.id))})})]})}function bre(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,s]=g.useState("kanban"),[c,u]=g.useState(!1),[d,f]=g.useState(null),[m,h]=g.useState(null),v=vb(gb(uu,{activationConstraint:{distance:8}})),x=e.filter(j=>{var S,E,O,A,N,T,z;if(!a)return!0;const C=a.toLowerCase();return((S=j.numero_uc)==null?void 0:S.toLowerCase().includes(C))||((O=(E=j.subscriber)==null?void 0:E.name)==null?void 0:O.toLowerCase().includes(C))||((A=j.concessionaria)==null?void 0:A.toLowerCase().includes(C))||((T=(N=j.address)==null?void 0:N.cidade)==null?void 0:T.toLowerCase().includes(C))||((z=j.status)==null?void 0:z.toLowerCase().includes(C))});g.useEffect(()=>{b()},[]);const b=async()=>{n(!0);try{const{data:j,error:C}=await $.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(C)throw C;t(j||[])}catch(j){console.error("Error fetching UCs:",j)}finally{n(!1)}},y=j=>{b(),u(!1)},p=j=>{t(e.filter(C=>C.id!==j)),u(!1)},w=j=>{h(j.active.id)},_=async j=>{const{active:C,over:S}=j;if(h(null),!S)return;const E=C.id,O=S.id;let A=O;if(!mE.some(z=>z.status===O)){const z=e.find(L=>L.id===O);A=z==null?void 0:z.status}if(!A)return;const T=e.find(z=>z.id===E);if(T&&T.status!==A){t(z=>z.map(L=>L.id===E?{...L,status:A}:L));try{const{error:z}=await $.from("consumer_units").update({status:A}).eq("id",E);if(z)throw z}catch(z){console.error("Error updating status:",z),b()}}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),l.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:j=>i(j.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>s("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>s("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:o==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:x.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"UC"}),l.jsx("th",{children:"Concessionria"}),l.jsx("th",{children:"Assinante"}),l.jsx("th",{children:"Franquia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:x.map(j=>{var C,S,E,O,A;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:j.numero_uc}),l.jsx("td",{style:{color:"var(--color-text-medium)"},children:j.concessionaria||"-"}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold"},children:((C=j.subscriber)==null?void 0:C.name)||"-"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(S=j.subscriber)==null?void 0:S.cpf_cnpj})]}),l.jsx("td",{children:j.franquia?`${Number(j.franquia).toLocaleString("pt-BR")} kWh`:"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:j.status==="ativo"?"var(--color-success-light)":j.status==="em_atraso"||j.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:j.status==="ativo"?"var(--color-success)":j.status==="em_atraso"||j.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(E=j.status)==null?void 0:E.replace("_"," ").toUpperCase()})}),l.jsxs("td",{children:[(O=j.address)==null?void 0:O.cidade," / ",(A=j.address)==null?void 0:A.uf]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{f(j),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},j.id)})})]})})}):l.jsxs(jb,{sensors:v,collisionDetection:yb,onDragStart:w,onDragEnd:_,onDragCancel:()=>h(null),children:[l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:mE.map(({status:j,label:C,color:S})=>{const E=x.filter(O=>(O.status||"em_ativacao")===j);return l.jsx(yre,{status:j,label:C,color:S,units:E,onCardClick:O=>{f(O),u(!0)}},j)})}),l.jsx(Sb,{adjustScale:!0,children:m?l.jsx(ZP,{uc:e.find(j=>j.id===m),isOverlay:!0}):null})]})}),c&&l.jsx(hb,{consumerUnit:d,onClose:()=>u(!1),onSave:y,onDelete:p})]})}function xre({billing:e,onClose:t,onSave:r}){const[n,a]=g.useState([]),[i,o]=g.useState(!1),[s,c]=g.useState(!1),[u,d]=g.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,m]=g.useState(0),h=["em_producao","fechado","liquidado"],v=S=>{if(!S&&S!==0)return"";const E=Number(S);return isNaN(E)?"":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},x=S=>{if(!S||typeof S!="string")return 0;const E=S.replace(/\D/g,"");return Number(E)/100},b=(S,E)=>{const O=E.replace(/\D/g,""),N=(Number(O)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(T=>({...T,[S]:N}))};g.useEffect(()=>{y(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:v(e.faturamento_mensal),faturas_pagas:v(e.faturas_pagas),custo_disponibilidade:v(e.custo_disponibilidade),manutencao:v(e.manutencao),gestao_reais:v(e.gestao_reais),arrendamento:v(e.arrendamento),servicos:v(e.servicos),total_despesas:v(e.total_despesas),saldo_receber:v(e.saldo_receber)}),p(e.usina_id))},[e]),g.useEffect(()=>{_()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const y=async()=>{const{data:S}=await $.from("usinas").select("id, name");a(S||[])},p=async S=>{if(!S)return;const{data:E}=await $.from("usinas").select("gestao_percentual").eq("id",S).single();E&&m(Number(E.gestao_percentual)||0)},w=async S=>{const E=S.target.value;d(O=>({...O,usina_id:E})),await p(E)},_=()=>{const S=x(u.faturas_pagas),E=x(u.custo_disponibilidade),O=x(u.manutencao),A=x(u.arrendamento),N=x(u.servicos);let T=0;f>0&&(T=S*(f/100));const z=E+O+T+A+N,L=S-z,H=x(u.gestao_reais),D=x(u.total_despesas),I=x(u.saldo_receber);Math.abs(H-T)<.01&&Math.abs(D-z)<.01&&Math.abs(I-L)<.01||d(k=>({...k,gestao_reais:v(T),total_despesas:v(z),saldo_receber:v(L)}))},j=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}c(!0);try{const{data:S,error:E}=await $.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(E)throw E;if(!S||S.length===0){alert("Nenhuma UC vinculada a esta usina."),c(!1);return}const O=S.map(R=>R.id),[A,N]=u.mes_referencia.split("-"),T=`${A}-${N}-01`,z=new Date(A,N,0).getDate(),L=`${A}-${N}-${z}`,{data:H,error:D}=await $.from("invoices").select("valor_a_pagar, status").in("uc_id",O).gte("mes_referencia",T).lte("mes_referencia",L);if(D)throw D;let I=0,k=0;H.forEach(R=>{const M=Number(R.valor_a_pagar)||0;I+=M,R.status==="pago"&&(k+=M)}),d(R=>({...R,faturamento_mensal:v(I),faturas_pagas:v(k)}))}catch(S){console.error("Reconciliation error:",S),alert("Erro ao buscar faturas: "+S.message)}finally{c(!1)}},C=async S=>{S.preventDefault(),o(!0);try{const E={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:x(u.faturamento_mensal),faturas_pagas:x(u.faturas_pagas),custo_disponibilidade:x(u.custo_disponibilidade),manutencao:x(u.manutencao),gestao_reais:x(u.gestao_reais),arrendamento:x(u.arrendamento),servicos:x(u.servicos),total_despesas:x(u.total_despesas),saldo_receber:x(u.saldo_receber)};let O;if(e!=null&&e.id?O=await $.from("generation_production").update(E).eq("id",e.id):O=await $.from("generation_production").insert(E),O.error)throw O.error;r(),t()}catch(E){console.error("Save error:",E),alert("Erro ao salvar: "+(E.message||JSON.stringify(E)))}finally{o(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),l.jsxs("form",{onSubmit:C,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),l.jsxs("select",{required:!0,value:u.usina_id,onChange:w,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[l.jsx("option",{value:"",children:"Selecione..."}),n.map(S=>l.jsx("option",{value:S.id,children:S.name},S.id))]})]}),l.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),l.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:S=>{const E=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${E}-${S.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((S,E)=>l.jsx("option",{value:S,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][E]},S))})]}),l.jsxs("div",{style:{width:"80px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),l.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:S=>{const E=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${S.target.value}-${E}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(S,E)=>new Date().getFullYear()-2+E).map(S=>l.jsx("option",{value:S,children:S},S))})]})]}),l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:S=>d({...u,fechamento:S.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{width:"120px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),l.jsx("select",{value:u.status,onChange:S=>d({...u,status:S.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:h.map(S=>l.jsx("option",{value:S,children:S.replace("_"," ").toUpperCase()},S))})]}),l.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:l.jsx("button",{type:"button",onClick:j,disabled:s||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:s?.7:1},children:s?"Buscando...":"Buscar Faturas"})})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:S=>d({...u,geracao_mensal_kwh:S.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),l.jsx("input",{type:"number",value:u.energia_compensada,onChange:S=>d({...u,energia_compensada:S.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),l.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:S=>b("faturamento_mensal",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{type:"text",value:u.faturas_pagas,onChange:S=>b("faturas_pagas",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:S=>b("custo_disponibilidade",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),l.jsx("input",{type:"text",value:u.manutencao,onChange:S=>b("manutencao",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),l.jsx("input",{type:"text",value:u.arrendamento,onChange:S=>b("arrendamento",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),l.jsx("input",{type:"text",value:u.servicos,onChange:S=>b("servicos",S.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),l.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),l.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[l.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function wre(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState("kanban"),[o,s]=g.useState(!1),[c,u]=g.useState(null);g.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:w}=await $.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});w?console.error("Error fetching billing:",w):t(p||[]),n(!1)},f=p=>{u(p),s(!0)},m=()=>{u(null),s(!0)},h=async p=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:w}=await $.from("generation_production").delete().eq("id",p);w?alert("Erro ao excluir"):d()},v=async p=>{var w;if(!p.saldo_receber||p.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${p.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:_,error:j}=await $.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",p.usina_id).single();if(j||!_||!_.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const C=_.supplier;if(!C.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:S,error:E}=await $.functions.invoke("transfer-asaas-pix",{body:{value:p.saldo_receber,pix_key:C.pix_key,pix_key_type:C.pix_key_type,description:`Pagamento Energia - ${p.mes_referencia} - ${_.name}`,operationType:"PIX"}});if(E)throw E;if(!S.success)throw new Error(S.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((w=S.data)==null?void 0:w.id)),d(),await $.from("generation_production").update({status:"liquidado"}).eq("id",p.id),d()}catch(_){console.error("Payment Error:",_),alert("Erro no pagamento: "+_.message)}finally{n(!1)}}},x=()=>{d(),s(!1)},b=p=>{if(!p)return"-";const[w,_]=p.split("-"),j=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],C=parseInt(_,10)-1;return`${j[C]||"-"} ${w}`},y=p=>Number(p||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),l.jsx("button",{onClick:m,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:a==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Usina"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Gerao (kWh)"}),l.jsx("th",{children:"Compensado (kWh)"}),l.jsx("th",{children:"Faturado (R$)"}),l.jsx("th",{children:"Saldo a Receber (R$)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(p=>{var w;return l.jsxs("tr",{children:[l.jsx("td",{children:b(p.mes_referencia)}),l.jsx("td",{children:((w=p.usinas)==null?void 0:w.name)||"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:p.status==="liquidado"?"#dcfce7":p.status==="fechado"?"#e0f2fe":"#fef9c3",color:p.status==="liquidado"?"#166534":p.status==="fechado"?"#0369a1":"#854d0e"},children:p.status})}),l.jsxs("td",{children:[Number(p.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsxs("td",{children:[Number(p.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{children:y(p.faturamento_mensal)}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:y(p.saldo_receber)}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>f(p),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),l.jsx("button",{onClick:()=>h(p.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),l.jsx("button",{onClick:()=>v(p),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},p.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(p=>{const w=e.filter(C=>C.status===p),j={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[p]||"#64748b";return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${j}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:j},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:p}),l.jsx("span",{style:{fontSize:"0.8rem",background:j,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:y(w.reduce((C,S)=>C+(Number(S.saldo_receber)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.map(C=>{var S;return l.jsxs("div",{onClick:()=>f(C),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:E=>E.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:E=>E.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(S=C.usinas)==null?void 0:S.name}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:b(C.mes_referencia)})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),l.jsxs("div",{children:[Number(C.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:y(C.saldo_receber)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:C.status!=="liquidado"&&l.jsx("button",{onClick:E=>{E.stopPropagation(),v(C)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},C.id)})})]},p)})})}),o&&l.jsx(xre,{billing:c,onClose:()=>s(!1),onSave:x})]})}function _re(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState("all"),[o,s]=g.useState(""),[c,u]=g.useState(null),d=[{id:"all",label:"Todos",color:"#64748b"},{id:"super_admin",label:"Super Admin",color:"#0f172a"},{id:"admin",label:"Admin",color:"#1e293b"},{id:"manager",label:"Gerente",color:"#334155"},{id:"coordinator",label:"Coord.",color:"#475569"},{id:"supplier",label:"Fornecedor",color:"#ea580c"},{id:"originator",label:"Originador",color:"#059669"},{id:"subscriber",label:"Assinante",color:"#2563eb"},{id:"lead",label:"Lead",color:"#94a3b8"}],f=p=>{var w;return((w=d.find(_=>_.id===p))==null?void 0:w.label)||p},m=p=>{var w;return((w=d.find(_=>_.id===p))==null?void 0:w.color)||"#94a3b8"};g.useEffect(()=>{h()},[]);const h=async()=>{n(!0);const{data:p}=await $.from("profiles").select("*").order("name");p&&t(p),n(!1)},v=p=>{t(e.map(w=>w.id===p.id?p:w))},x=e.filter(p=>{var j,C;const w=(((j=p.name)==null?void 0:j.toLowerCase())||"").includes(o.toLowerCase())||(((C=p.email)==null?void 0:C.toLowerCase())||"").includes(o.toLowerCase()),_=a==="all"?!0:p.role===a;return w&&_}),b=e.length,y=e.filter(p=>p.role!=="lead").length;return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",color:"#2563eb"},children:l.jsx(db,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:b}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Total de Usurios"})]})]}),l.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{background:"#f0fdf4",padding:"0.8rem",borderRadius:"8px",color:"#16a34a"},children:l.jsx(Kk,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:y}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Perfis Ativos"})]})]})]}),l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsxs("div",{style:{borderBottom:"1px solid #e2e8f0"},children:[l.jsxs("div",{style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[l.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#334155"},children:"Lista de Usurios"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(lb,{size:16,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),l.jsx("input",{placeholder:"Buscar usurio...",value:o,onChange:p=>s(p.target.value),style:{padding:"0.5rem 1rem 0.5rem 2.2rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem",width:"250px"}})]})]}),l.jsx("div",{style:{display:"flex",gap:"2rem",padding:"0 1rem",overflowX:"auto"},children:d.map(p=>l.jsxs("button",{onClick:()=>i(p.id),style:{background:"none",border:"none",padding:"1rem 0",color:a===p.id?"#0284c7":"#64748b",fontWeight:a===p.id?600:400,borderBottom:a===p.id?"2px solid #0284c7":"2px solid transparent",cursor:"pointer",whiteSpace:"nowrap",fontSize:"0.9rem"},children:[p.label,l.jsx("span",{style:{marginLeft:"6px",background:a===p.id?"#e0f2fe":"#f1f5f9",padding:"2px 6px",borderRadius:"99px",fontSize:"0.75rem"},children:p.id==="all"?e.length:e.filter(w=>w.role===p.id).length})]},p.id))})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[l.jsx("thead",{style:{background:"#f8fafc",borderBottom:"1px solid #e2e8f0",fontSize:"0.8rem",textTransform:"uppercase",color:"#64748b"},children:l.jsxs("tr",{children:[l.jsx("th",{style:{padding:"1rem"},children:"Usurio"}),l.jsx("th",{style:{padding:"1rem"},children:"Perfil (Role)"}),l.jsx("th",{style:{padding:"1rem"},children:"Contato"}),l.jsx("th",{style:{padding:"1rem"},children:"Comisses"}),l.jsx("th",{style:{padding:"1rem",textAlign:"right"},children:"Aes"})]})}),l.jsx("tbody",{children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center"},children:"Carregando..."})}):x.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhum usurio encontrado."})}):x.map(p=>{var w;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsx("td",{style:{padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem"},children:[l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b",fontWeight:"bold"},children:((w=p.name)==null?void 0:w.charAt(0).toUpperCase())||"?"}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:p.name||"Sem Nome"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:p.email})]})]})}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:600,background:m(p.role)+"20",color:m(p.role),border:`1px solid ${m(p.role)}40`},children:f(p.role)})}),l.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem",color:"#475569"},children:p.phone||"-"}),l.jsx("td",{style:{padding:"1rem",fontSize:"0.85rem"},children:p.commission_split?l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8"},children:"Start:"})," ",l.jsxs("strong",{children:[p.commission_split.start,"%"]})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8"},children:"Rec.:"})," ",l.jsxs("strong",{children:[p.commission_split.recorrente,"%"]})]})]}):"-"}),l.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:l.jsxs("button",{onClick:()=>u(p),style:{background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",padding:"0.4rem 0.8rem",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.4rem",color:"#475569",fontSize:"0.8rem",fontWeight:500},children:[l.jsx(kI,{size:14})," Editar"]})})]},p.id)})})]})})]}),c&&l.jsx(Xk,{user:c,onClose:()=>u(null),onSave:v})]})}function pE({serviceName:e,title:t,description:r}){var E,O;const{showAlert:n}=or(),[a,i]=g.useState(!1),[o,s]=g.useState(!1),[c,u]=g.useState({endpoint_url:"",api_key:"",secret_key:"",variables:[]});g.useEffect(()=>{d()},[e]);const d=async()=>{i(!0);const{data:A,error:N}=await $.from("integrations_config").select("*").eq("service_name",e).single();if(A){const T=A.variables?Object.entries(A.variables).map(([z,L])=>({key:z,value:L})):[];u({endpoint_url:A.endpoint_url||"",api_key:A.api_key||"",secret_key:A.secret_key||"",variables:T})}else N&&N.code!=="PGRST116"&&console.error("Error fetching config:",N);i(!1)},f=async A=>{A.preventDefault(),i(!0);const N=c.variables.reduce((L,H)=>(H.key&&(L[H.key]=H.value),L),{}),T={service_name:e,endpoint_url:c.endpoint_url,api_key:c.api_key,secret_key:c.secret_key,variables:N,updated_at:new Date().toISOString()},{error:z}=await $.from("integrations_config").upsert(T,{onConflict:"service_name"});i(!1),z?n("Erro ao salvar configuraes: "+z.message,"error"):n("Configuraes salvas com sucesso!","success")},m=()=>{u(A=>({...A,variables:[...A.variables,{key:"",value:""}]}))},h=A=>{u(N=>({...N,variables:N.variables.filter((T,z)=>z!==A)}))},v=(A,N,T)=>{const z=[...c.variables];z[A][N]=T,u(L=>({...L,variables:z}))},[x,b]=g.useState(""),[y,p]=g.useState("Teste de conexo Evolution API"),[w,_]=g.useState(""),[j,C]=g.useState(!1),S=async()=>{if(!x){n("Informe um nmero de telefone para teste.","error");return}C(!0);try{const{data:A,error:N}=await $.functions.invoke("send-whatsapp",{body:{text:y,phone:x,mediaUrl:w}});if(N)throw new Error(N.message);if(A!=null&&A.error)throw new Error(A.error);n("Mensagem de teste enviada com sucesso!","success")}catch(A){console.error(A),n("Falha no teste: "+A.message,"error")}finally{C(!1)}};return l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",background:"#f8fafc"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{padding:"0.5rem",background:"#fff",borderRadius:"6px",border:"1px solid #cbd5e1"},children:l.jsx(zI,{size:20,color:"#475569"})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"#1e293b"},children:t}),l.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#64748b"},children:r})]})]})}),l.jsxs("form",{onSubmit:f,style:{padding:"2rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Endpoint URL"}),l.jsx("input",{type:"url",placeholder:"https://api.exemplo.com/v1",value:c.endpoint_url,onChange:A=>u({...c,endpoint_url:A.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"API Key / Token"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:o?"text":"password",value:c.api_key,onChange:A=>u({...c,api_key:A.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("button",{type:"button",onClick:()=>s(!o),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o?l.jsx(sI,{size:18}):l.jsx(cI,{size:18})})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Secret Key (Opcional)"}),l.jsx("input",{type:"password",value:c.secret_key,onChange:A=>u({...c,secret_key:A.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]})]}),e==="evolution_api"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Nome da Instncia"}),l.jsx("input",{placeholder:"Nome da Instncia (ex: minha-instancia)",value:((E=c.variables.find(A=>A.key==="instance_name"))==null?void 0:E.value)||"",onChange:A=>{const N=A.target.value;u(T=>{const z=T.variables.some(H=>H.key==="instance_name");let L;return z?L=T.variables.map(H=>H.key==="instance_name"?{...H,value:N}:H):L=[...T.variables,{key:"instance_name",value:N}],{...T,variables:L}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Nome da instncia criada na Evolution API."})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"URL da Mdia (Convite)"}),l.jsx("input",{type:"url",placeholder:"https://exemplo.com/imagem.png",value:((O=c.variables.find(A=>A.key==="invite_media_url"))==null?void 0:O.value)||"",onChange:A=>{const N=A.target.value;u(T=>{const z=T.variables.some(H=>H.key==="invite_media_url");let L;return z?L=T.variables.map(H=>H.key==="invite_media_url"?{...H,value:N}:H):L=[...T.variables,{key:"invite_media_url",value:N}],{...T,variables:L}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Imagem enviada junto com o convite."})]})]}),l.jsxs("div",{style:{borderTop:"1px solid #e2e8f0",paddingTop:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("label",{style:{fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Variveis de Ambiente / Parmetros Extras"}),l.jsxs("button",{type:"button",onClick:m,style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.8rem",color:"#2563eb",background:"#eff6ff",padding:"0.4rem 0.8rem",borderRadius:"99px",border:"none",cursor:"pointer",fontWeight:600},children:[l.jsx(Ys,{size:14})," Adicionar Varivel"]})]}),c.variables.length===0&&l.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"6px",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #cbd5e1"},children:"Nenhuma varivel configurada."}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:c.variables.map((A,N)=>e==="evolution_api"&&(A.key==="instance_name"||A.key==="invite_media_url")?null:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:"1rem",alignItems:"center"},children:[l.jsx("input",{placeholder:"Nome da Varivel (ex: instance_name)",value:A.key,onChange:T=>v(N,"key",T.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),l.jsx("input",{placeholder:"Valor",value:A.value,onChange:T=>v(N,"value",T.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),l.jsx("button",{type:"button",onClick:()=>h(N),style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer",padding:"0.4rem"},title:"Remover",children:l.jsx(au,{size:18})})]},N))})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:l.jsx("button",{type:"submit",disabled:a,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"#0284c7",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(2, 132, 199, 0.2)"},children:a?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(sb,{size:18})," Salvar Configuraes"]})})}),e==="evolution_api"&&l.jsxs("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:[l.jsx("h4",{style:{margin:"0 0 1rem 0",color:"#334155"},children:"Teste de Conexo"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Nmero (com DDI)"}),l.jsx("input",{placeholder:"5511999999999",value:x,onChange:A=>b(A.target.value.replace(/\D/g,"")),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"URL da Mdia (Opcional)"}),l.jsx("input",{placeholder:"https://...",value:w,onChange:A=>_(A.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Mensagem / Legenda"}),l.jsx("input",{value:y,onChange:A=>p(A.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsx("button",{type:"button",onClick:S,disabled:j||!x,style:{padding:"0.7rem 1.5rem",background:j?"#94a3b8":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:j?"default":"pointer",fontWeight:600},children:j?"Enviando...":"Enviar Teste"})]})]}),e==="financial_api"&&l.jsx("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#334155"},children:"Teste de Conexo (Asaas)"}),l.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Verifica se o endpoint e o token esto corretos."})]}),l.jsx("button",{type:"button",onClick:async()=>{var A;i(!0);try{const{data:N,error:T}=await $.functions.invoke("manage-asaas-customer",{body:{test:!0}});if(T){let z=T.message;try{const L=await((A=T.context)==null?void 0:A.json());L&&L.error&&(z=L.error)}catch{}throw new Error(z)}if(N!=null&&N.success)n(N.message||"Conexo OK!","success");else throw new Error((N==null?void 0:N.error)||"Erro desconhecido")}catch(N){console.error(N),n("Falha na conexo: "+N.message,"error")}finally{i(!1)}},disabled:a||!c.api_key||!c.endpoint_url,style:{padding:"0.7rem 1.5rem",background:a?"#94a3b8":"#6366f1",color:"white",border:"none",borderRadius:"6px",cursor:a?"default":"pointer",fontWeight:600},children:a?"Testando...":"Testar Conexo"})]})})]})]})}function jre(){const[e,t]=g.useState("users"),r=[{id:"users",label:"Perfil de Usurios",icon:db,desc:"Gerenciar usurios e acesso"},{id:"evolution",label:"Evolution API",icon:tI,desc:"Configurao da API WhatsApp"},{id:"financial",label:"Integrao Financeira",icon:nu,desc:"Gateways de Pagamento"}],n=()=>{switch(e){case"users":return l.jsx(_re,{});case"evolution":return l.jsx(pE,{serviceName:"evolution_api",title:"Evolution API",description:"Configurao da API de WhatsApp"});case"financial":return l.jsx(pE,{serviceName:"financial_api",title:"Integrao Financeira",description:"Gateways de Pagamento (Asaas, etc)"});default:return null}};return l.jsxs("div",{style:{padding:"2rem",height:"100%"},children:[l.jsx("h2",{style:{marginBottom:"0.5rem",color:"#1e293b"},children:"Configuraes"}),l.jsx("p",{style:{color:"#64748b",marginBottom:"2rem"},children:"Gerencie as configuraes gerais e integraes do sistema."}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"260px 1fr",gap:"2rem",alignItems:"start"},children:[l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsx("div",{style:{padding:"1rem",borderBottom:"1px solid #f1f5f9",background:"#f8fafc"},children:l.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Menu"})}),l.jsx("div",{children:r.map(a=>l.jsxs("button",{onClick:()=>t(a.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem 1.5rem",border:"none",textAlign:"left",cursor:"pointer",color:e===a.id?"#0284c7":"#475569",background:e===a.id?"#f0f9ff":"transparent",borderLeft:e===a.id?"3px solid #0284c7":"3px solid transparent",transition:"all 0.2s"},children:[l.jsx(a.icon,{size:18}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:a.label}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:a.desc})]})]},a.id))})]}),l.jsx("div",{style:{minHeight:"500px"},children:n()})]})]})}function Sre(){var h;const{profile:e,signOut:t}=Yr(),r=bi(),[n,a]=g.useState("default"),[i,o]=g.useState(!1),[s,c]=g.useState(!1);g.useEffect(()=>{e&&n==="default"&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e,n]);const u=async()=>{await t(),r("/login")},f=(v=>{if(!v)return[];const x=[];v!=="subscriber"&&x.push({id:"leads",label:"Leads",icon:CI}),["originator","coordinator","manager","admin","super_admin"].includes(v)&&(v==="originator"?(x.push({id:"originator_dashboard",label:"Minhas Comisses",icon:ag}),x.push({id:"originators_list",label:"Equipe",icon:N_})):x.push({id:"originators_list",label:"Originadores",icon:N_})),v!=="lead"&&(v==="subscriber"?x.push({id:"subscriber_dashboard",label:"Meu Painel",icon:ag}):x.push({id:"subscribers_list",label:"Assinantes",icon:Kk})),v!=="lead"&&v!=="subscriber"&&x.push({id:"consumer_units",label:"Unidades Consumidoras",icon:Jh}),x.push({id:"invoices",label:"Faturas",icon:hi});const y=["supplier","manager","admin","super_admin"];return y.includes(v)&&(v==="supplier"?x.push({id:"supplier_dashboard",label:"Meu Painel",icon:ag}):x.push({id:"suppliers_list",label:"Fornecedores",icon:qI})),y.includes(v)&&x.push({id:"power_plants",label:"Usinas",icon:vo}),["supplier","manager","admin","super_admin"].includes(v)&&x.push({id:"billing",label:"Billing",icon:Zh}),["admin","super_admin"].includes(v)&&x.push({id:"settings",label:"Configuraes",icon:cb}),x})(e==null?void 0:e.role),m=()=>{if(!e)return l.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return l.jsx(s$,{});case"subscriber_dashboard":return l.jsx(l$,{});case"originator_dashboard":return l.jsx(c$,{});case"supplier_dashboard":return l.jsx(u$,{});case"leads":return l.jsx(QL,{});case"subscribers_list":return l.jsx(e9,{});case"originators_list":return l.jsx(r9,{});case"suppliers_list":return l.jsx(a9,{});case"power_plants":return l.jsx(gre,{});case"consumer_units":return l.jsx(bre,{});case"invoices":return l.jsx(vre,{});case"billing":return l.jsx(wre,{});case"settings":return l.jsx(jre,{});default:return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),l.jsx("p",{children:"Selecione uma opo no menu."})]})}};return l.jsxs("div",{className:"dashboard-container",children:[l.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:l.jsx(OI,{size:24})}),i&&l.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),l.jsxs("aside",{className:`sidebar ${i?"open":""} ${s?"collapsed":""}`,children:[l.jsxs("div",{className:"sidebar-header",style:{justifyContent:s?"center":"space-between"},children:[!s&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),l.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),l.jsx("button",{onClick:()=>c(!s),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:s?l.jsx(KB,{size:20}):l.jsx(FB,{size:20})})]}),l.jsx("nav",{style:{flex:1,overflowY:"auto"},children:l.jsx("ul",{style:{listStyle:"none"},children:f.map(v=>{const x=v.icon;return l.jsx("li",{style:{marginBottom:"0.25rem"},children:l.jsxs("button",{onClick:()=>{a(v.id),o(!1)},title:s?v.label:"",className:`sidebar-link ${n===v.id?"active":""}`,style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(x,{size:20,style:{marginRight:s?0:"0.75rem",flexShrink:0}}),!s&&l.jsx("span",{children:v.label})]})},v.id)})})}),l.jsxs("div",{className:"sidebar-footer",children:[!s&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[l.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),l.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(h=e==null?void 0:e.role)==null?void 0:h.replace("_"," ").toUpperCase()})]}),l.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(wI,{size:20,style:{marginRight:s?0:"0.5rem"}}),!s&&l.jsx("span",{children:"Sair"})]})]})]}),l.jsx("main",{className:"main-content",children:m()})]})}function Cre(){const[e]=X0(),t=bi(),r=e.get("id"),[n,a]=g.useState("simulation"),[i,o]=g.useState(!1),[s,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,v]=g.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),x=async()=>{if(h.cep.length>=8)try{o(!0);const p=await pn(h.cep);if(v(w=>({...w,rua:p.rua||"",bairro:p.bairro||"",cidade:p.cidade||"",uf:p.uf||""})),p.ibge){const w=await ru(p.ibge);d(w)}}catch(p){console.error(p),alert("Erro ao buscar CEP")}finally{o(!1)}},b=async p=>{if(p.preventDefault(),!ro(h.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const w=u&&u["Tarifa Concessionaria"]||.85,_=u&&u["Desconto Assinante"]||.1,j=parseFloat(h.consumo)*w,C=j*_;c({contaAtual:j,economiaMensal:C,anual:C*12});const{data:S,error:E}=await $.from("leads").insert({name:h.nome,email:h.email,phone:h.telefone,address:{cep:h.cep,rua:h.rua,cidade:h.cidade,uf:h.uf},consumo_kwh:parseFloat(h.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:w,desconto_assinante:_,originator_id:r,status:"indicado"}).select().single();if(E)throw E;m(S.id),a("signup")}catch(w){alert("Erro na simulao: "+w.message)}finally{o(!1)}},y=async p=>{if(p.preventDefault(),!ou(h.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!ro(h.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:w,error:_}=await $.from("subscribers").insert({name:h.nome,cpf_cnpj:h.cpf_cnpj,email:h.email,phone:h.telefone,status:"ativacao",originator_id:r}).select().single();if(_)throw _;const{error:j}=await $.from("consumer_units").insert({subscriber_id:w.id,numero_uc:h.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:h.cep,rua:h.rua,numero:h.numero,bairro:h.bairro,cidade:h.cidade,uf:h.uf},titular_conta:h.nome});if(j)throw j;f&&await $.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(w){alert("Erro ao finalizar cadastro: "+w.message)}finally{o(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),l.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?l.jsxs("form",{onSubmit:b,children:[l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),l.jsx("input",{value:h.cep,onChange:p=>v({...h,cep:p.target.value}),onBlur:x,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),h.cidade&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",h.cidade," - ",h.uf,u&&l.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),l.jsx("input",{value:h.nome,onChange:p=>v({...h,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),l.jsx("input",{type:"email",value:h.email,onChange:p=>v({...h,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),l.jsx("input",{value:h.telefone,onChange:p=>v({...h,telefone:mi(p.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),l.jsx("input",{type:"number",value:h.consumo,onChange:p=>v({...h,consumo:p.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):l.jsxs("form",{onSubmit:y,children:[s&&l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[l.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",s.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),l.jsx("input",{value:h.cpf_cnpj,onChange:p=>v({...h,cpf_cnpj:iu(p.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),l.jsx("input",{value:h.nome,onChange:p=>v({...h,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),l.jsx("input",{type:"email",value:h.email,onChange:p=>v({...h,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),l.jsx("input",{value:h.telefone,onChange:p=>v({...h,telefone:mi(p.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),l.jsx("input",{value:h.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),l.jsx("input",{value:h.numero,onChange:p=>v({...h,numero:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),l.jsx("input",{value:h.numero_uc,onChange:p=>v({...h,numero_uc:p.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const Ere=()=>{const{user:e}=Yr();return e?l.jsx(Yz,{}):l.jsx(D2,{to:"/login",replace:!0})};function Ore(){return l.jsx(t3,{children:l.jsx(GI,{children:l.jsx(r$,{children:l.jsxs(Zz,{children:[l.jsx(wn,{path:"/login",element:l.jsx(kB,{})}),l.jsx(wn,{path:"/simulacao",element:l.jsx(XI,{})}),l.jsx(wn,{path:"/cadastro-parceiro",element:l.jsx(QI,{})}),l.jsx(wn,{path:"/assine",element:l.jsx(o$,{})}),l.jsx(wn,{path:"/originador",element:l.jsx(Cre,{})}),l.jsx(wn,{path:"/contrato",element:l.jsx(i$,{})}),l.jsx(wn,{element:l.jsx(Ere,{}),children:l.jsx(wn,{path:"/dashboard",element:l.jsx(Sre,{})})}),l.jsx(wn,{path:"/",element:l.jsx(D2,{to:"/login",replace:!0})})]})})})})}nz.createRoot(document.getElementById("root")).render(l.jsx(g.StrictMode,{children:l.jsx(Ore,{})}));
