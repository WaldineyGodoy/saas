var bP=Object.defineProperty;var xP=(e,t,r)=>t in e?bP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Xh=(e,t,r)=>xP(e,typeof t!="symbol"?t+"":t,r);function mS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Zn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var gS={exports:{}},bf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP=Symbol.for("react.transitional.element"),_P=Symbol.for("react.fragment");function vS(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:wP,type:e,key:n,ref:t!==void 0?t:null,props:r}}bf.Fragment=_P;bf.jsx=vS;bf.jsxs=vS;gS.exports=bf;var s=gS.exports,yS={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=Symbol.for("react.transitional.element"),jP=Symbol.for("react.portal"),SP=Symbol.for("react.fragment"),CP=Symbol.for("react.strict_mode"),EP=Symbol.for("react.profiler"),OP=Symbol.for("react.consumer"),AP=Symbol.for("react.context"),kP=Symbol.for("react.forward_ref"),TP=Symbol.for("react.suspense"),NP=Symbol.for("react.memo"),bS=Symbol.for("react.lazy"),RP=Symbol.for("react.activity"),Pb=Symbol.iterator;function PP(e){return e===null||typeof e!="object"?null:(e=Pb&&e[Pb]||e["@@iterator"],typeof e=="function"?e:null)}var xS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wS=Object.assign,_S={};function as(e,t,r){this.props=e,this.context=t,this.refs=_S,this.updater=r||xS}as.prototype.isReactComponent={};as.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};as.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jS(){}jS.prototype=as.prototype;function Ov(e,t,r){this.props=e,this.context=t,this.refs=_S,this.updater=r||xS}var Av=Ov.prototype=new jS;Av.constructor=Ov;wS(Av,as.prototype);Av.isPureReactComponent=!0;var Mb=Array.isArray;function pp(){}var Pe={H:null,A:null,T:null,S:null},SS=Object.prototype.hasOwnProperty;function kv(e,t,r){var n=r.ref;return{$$typeof:Ev,type:e,key:t,ref:n!==void 0?n:null,props:r}}function MP(e,t){return kv(e.type,t,e.props)}function Tv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ev}function DP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Db=/\/+/g;function Zh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DP(""+e.key):t.toString(36)}function zP(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(pp,pp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ao(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ev:case jP:o=!0;break;case bS:return o=e._init,ao(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+Zh(e,0):n,Mb(a)?(r="",o!=null&&(r=o.replace(Db,"$&/")+"/"),ao(a,t,r,"",function(u){return u})):a!=null&&(Tv(a)&&(a=MP(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Db,"$&/")+"/")+o)),t.push(a)),1;o=0;var l=n===""?".":n+":";if(Mb(e))for(var c=0;c<e.length;c++)n=e[c],i=l+Zh(n,c),o+=ao(n,t,r,i,a);else if(c=PP(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,i=l+Zh(n,c++),o+=ao(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return ao(zP(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Dc(e,t,r){if(e==null)return e;var n=[],a=0;return ao(e,n,"","",function(i){return t.call(r,i,a++)}),n}function BP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zb=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},IP={map:Dc,forEach:function(e,t,r){Dc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dc(e,function(){t++}),t},toArray:function(e){return Dc(e,function(t){return t})||[]},only:function(e){if(!Tv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Activity=RP;ne.Children=IP;ne.Component=as;ne.Fragment=SP;ne.Profiler=EP;ne.PureComponent=Ov;ne.StrictMode=CP;ne.Suspense=TP;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe;ne.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Pe.H.useMemoCache(e)}};ne.cache=function(e){return function(){return e.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=wS({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!SS.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];n.children=o}return kv(e.type,a,n)};ne.createContext=function(e){return e={$$typeof:AP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:OP,_context:e},e};ne.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)SS.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return kv(e,i,a)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:kP,render:e}};ne.isValidElement=Tv;ne.lazy=function(e){return{$$typeof:bS,_payload:{_status:-1,_result:e},_init:BP}};ne.memo=function(e,t){return{$$typeof:NP,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Pe.T,r={};Pe.T=r;try{var n=e(),a=Pe.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(pp,zb)}catch(i){zb(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Pe.T=t}};ne.unstable_useCacheRefresh=function(){return Pe.H.useCacheRefresh()};ne.use=function(e){return Pe.H.use(e)};ne.useActionState=function(e,t,r){return Pe.H.useActionState(e,t,r)};ne.useCallback=function(e,t){return Pe.H.useCallback(e,t)};ne.useContext=function(e){return Pe.H.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e,t){return Pe.H.useDeferredValue(e,t)};ne.useEffect=function(e,t){return Pe.H.useEffect(e,t)};ne.useEffectEvent=function(e){return Pe.H.useEffectEvent(e)};ne.useId=function(){return Pe.H.useId()};ne.useImperativeHandle=function(e,t,r){return Pe.H.useImperativeHandle(e,t,r)};ne.useInsertionEffect=function(e,t){return Pe.H.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Pe.H.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Pe.H.useMemo(e,t)};ne.useOptimistic=function(e,t){return Pe.H.useOptimistic(e,t)};ne.useReducer=function(e,t,r){return Pe.H.useReducer(e,t,r)};ne.useRef=function(e){return Pe.H.useRef(e)};ne.useState=function(e){return Pe.H.useState(e)};ne.useSyncExternalStore=function(e,t,r){return Pe.H.useSyncExternalStore(e,t,r)};ne.useTransition=function(){return Pe.H.useTransition()};ne.version="19.2.3";yS.exports=ne;var x=yS.exports;const xf=Zn(x),CS=mS({__proto__:null,default:xf},[x]);var ES={exports:{}},wf={},OS={exports:{}},AS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,N){var P=O.length;O.push(N);e:for(;0<P;){var M=P-1>>>1,L=O[M];if(0<a(L,N))O[M]=N,O[P]=L,P=M;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var N=O[0],P=O.pop();if(P!==N){O[0]=P;e:for(var M=0,L=O.length,G=L>>>1;M<G;){var J=2*(M+1)-1,ae=O[J],ie=J+1,oe=O[ie];if(0>a(ae,P))ie<L&&0>a(oe,ae)?(O[M]=oe,O[ie]=P,M=ie):(O[M]=ae,O[J]=P,M=J);else if(ie<L&&0>a(oe,P))O[M]=oe,O[ie]=P,M=ie;else break e}}return N}function a(O,N){var P=O.sortIndex-N.sortIndex;return P!==0?P:O.id-N.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,w=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function _(O){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=O)n(u),N.sortIndex=N.expirationTime,t(c,N);else break;N=r(u)}}function j(O){if(w=!1,_(O),!v)if(r(c)!==null)v=!0,S||(S=!0,T());else{var N=r(u);N!==null&&F(j,N.startTime-O)}}var S=!1,C=-1,E=5,A=-1;function k(){return y?!0:!(e.unstable_now()-A<E)}function R(){if(y=!1,S){var O=e.unstable_now();A=O;var N=!0;try{e:{v=!1,w&&(w=!1,p(C),C=-1),m=!0;var P=h;try{t:{for(_(O),f=r(c);f!==null&&!(f.expirationTime>O&&k());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var L=M(f.expirationTime<=O);if(O=e.unstable_now(),typeof L=="function"){f.callback=L,_(O),N=!0;break t}f===r(c)&&n(c),_(O)}else n(c);f=r(c)}if(f!==null)N=!0;else{var G=r(u);G!==null&&F(j,G.startTime-O),N=!1}}break e}finally{f=null,h=P,m=!1}N=void 0}}finally{N?T():S=!1}}}var T;if(typeof b=="function")T=function(){b(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=R,T=function(){q.postMessage(null)}}else T=function(){g(R,0)};function F(O,N){C=g(function(){O(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var P=h;h=N;try{return O()}finally{h=P}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(O,N){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var P=h;h=O;try{return N()}finally{h=P}},e.unstable_scheduleCallback=function(O,N,P){var M=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?M+P:M):P=M,O){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=P+L,O={id:d++,callback:N,priorityLevel:O,startTime:P,expirationTime:L,sortIndex:-1},P>M?(O.sortIndex=P,t(u,O),r(c)===null&&O===r(u)&&(w?(p(C),C=-1):w=!0,F(j,P-M))):(O.sortIndex=L,t(c,O),v||m||(v=!0,S||(S=!0,T()))),O},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(O){var N=h;return function(){var P=h;h=N;try{return O.apply(this,arguments)}finally{h=P}}}})(AS);OS.exports=AS;var $P=OS.exports,kS={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LP=x;function TS(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function sa(){}var Dt={d:{f:sa,r:function(){throw Error(TS(522))},D:sa,C:sa,L:sa,m:sa,X:sa,S:sa,M:sa},p:0,findDOMNode:null},UP=Symbol.for("react.portal");function qP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:UP,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Xs=LP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _f(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(TS(299));return qP(e,t,null,r)};$t.flushSync=function(e){var t=Xs.T,r=Dt.p;try{if(Xs.T=null,Dt.p=2,e)return e()}finally{Xs.T=t,Dt.p=r,Dt.d.f()}};$t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dt.d.C(e,t))};$t.prefetchDNS=function(e){typeof e=="string"&&Dt.d.D(e)};$t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=_f(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Dt.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=_f(t.as,t.crossOrigin);Dt.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dt.d.M(e)};$t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=_f(r,t.crossOrigin);Dt.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$t.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=_f(t.as,t.crossOrigin);Dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dt.d.m(e)};$t.requestFormReset=function(e){Dt.d.r(e)};$t.unstable_batchedUpdates=function(e,t){return e(t)};$t.useFormState=function(e,t,r){return Xs.H.useFormState(e,t,r)};$t.useFormStatus=function(){return Xs.H.useHostTransitionStatus()};$t.version="19.2.3";function NS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NS)}catch(e){console.error(e)}}NS(),kS.exports=$t;var Nv=kS.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=$P,RS=x,HP=Nv;function $(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function PS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function MS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function DS(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bb(e){if(Kl(e)!==e)throw Error($(188))}function WP(e){var t=e.alternate;if(!t){if(t=Kl(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Bb(a),e;if(i===n)return Bb(a),t;i=i.sibling}throw Error($(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function zS(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=zS(e),t!==null)return t;e=e.sibling}return null}var Me=Object.assign,FP=Symbol.for("react.element"),zc=Symbol.for("react.transitional.element"),qs=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),BS=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),IS=Symbol.for("react.consumer"),On=Symbol.for("react.context"),Rv=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),Pv=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),bp=Symbol.for("react.activity"),VP=Symbol.for("react.memo_cache_sentinel"),Ib=Symbol.iterator;function Os(e){return e===null||typeof e!="object"?null:(e=Ib&&e[Ib]||e["@@iterator"],typeof e=="function"?e:null)}var GP=Symbol.for("react.client.reference");function xp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===GP?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uo:return"Fragment";case gp:return"Profiler";case BS:return"StrictMode";case vp:return"Suspense";case yp:return"SuspenseList";case bp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case qs:return"Portal";case On:return e.displayName||"Context";case IS:return(e._context.displayName||"Context")+".Consumer";case Rv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pv:return t=e.displayName||null,t!==null?t:xp(e.type)||"Memo";case ca:t=e._payload,e=e._init;try{return xp(e(t))}catch{}}return null}var Hs=Array.isArray,te=RS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=HP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mi={pending:!1,data:null,method:null,action:null},wp=[],fo=-1;function mn(e){return{current:e}}function pt(e){0>fo||(e.current=wp[fo],wp[fo]=null,fo--)}function ke(e,t){fo++,wp[fo]=e.current,e.current=t}var cn=mn(null),ml=mn(null),Ea=mn(null),Fu=mn(null);function Vu(e,t){switch(ke(Ea,t),ke(ml,e),ke(cn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wx(t),e=aO(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pt(cn),ke(cn,e)}function Do(){pt(cn),pt(ml),pt(Ea)}function _p(e){e.memoizedState!==null&&ke(Fu,e);var t=cn.current,r=aO(t,e.type);t!==r&&(ke(ml,e),ke(cn,r))}function Gu(e){ml.current===e&&(pt(cn),pt(ml)),Fu.current===e&&(pt(Fu),Cl._currentValue=mi)}var Jh,$b;function Qa(e){if(Jh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jh=t&&t[1]||"",$b=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jh+e+$b}var Qh=!1;function em(e,t){if(!e||Qh)return"";Qh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var c=o.split(`
`),u=l.split(`
`);for(a=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===c.length||a===u.length)for(n=c.length-1,a=u.length-1;1<=n&&0<=a&&c[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(c[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||c[n]!==u[a]){var d=`
`+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{Qh=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Qa(r):""}function KP(e,t){switch(e.tag){case 26:case 27:case 5:return Qa(e.type);case 16:return Qa("Lazy");case 13:return e.child!==t&&t!==null?Qa("Suspense Fallback"):Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 15:return em(e.type,!1);case 11:return em(e.type.render,!1);case 1:return em(e.type,!0);case 31:return Qa("Activity");default:return""}}function Lb(e){try{var t="",r=null;do t+=KP(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var jp=Object.prototype.hasOwnProperty,Mv=it.unstable_scheduleCallback,tm=it.unstable_cancelCallback,YP=it.unstable_shouldYield,XP=it.unstable_requestPaint,ur=it.unstable_now,ZP=it.unstable_getCurrentPriorityLevel,$S=it.unstable_ImmediatePriority,LS=it.unstable_UserBlockingPriority,Ku=it.unstable_NormalPriority,JP=it.unstable_LowPriority,US=it.unstable_IdlePriority,QP=it.log,e5=it.unstable_setDisableYieldValue,Yl=null,dr=null;function ba(e){if(typeof QP=="function"&&e5(e),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(Yl,e)}catch{}}var fr=Math.clz32?Math.clz32:n5,t5=Math.log,r5=Math.LN2;function n5(e){return e>>>=0,e===0?32:31-(t5(e)/r5|0)|0}var Bc=256,Ic=262144,$c=4194304;function ei(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jf(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~i,n!==0?a=ei(n):(o&=l,o!==0?a=ei(o):r||(r=l&~e,r!==0&&(a=ei(r))))):(l=n&~i,l!==0?a=ei(l):o!==0?a=ei(o):r||(r=n&~e,r!==0&&(a=ei(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Xl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function a5(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qS(){var e=$c;return $c<<=1,!($c&62914560)&&($c=4194304),e}function rm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function i5(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-fr(r),f=1<<d;l[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&HS(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function HS(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function WS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function FS(e,t){var r=t&-t;return r=r&42?1:Dv(r),r&(e.suspendedLanes|t)?0:r}function Dv(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function VS(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:pO(e.type))}function Ub(e,t){var r=ge.p;try{return ge.p=e,t()}finally{ge.p=r}}var qa=Math.random().toString(36).slice(2),jt="__reactFiber$"+qa,Yt="__reactProps$"+qa,is="__reactContainer$"+qa,Sp="__reactEvents$"+qa,o5="__reactListeners$"+qa,s5="__reactHandles$"+qa,qb="__reactResources$"+qa,Jl="__reactMarker$"+qa;function Bv(e){delete e[jt],delete e[Yt],delete e[Sp],delete e[o5],delete e[s5]}function ho(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[is]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yx(e);e!==null;){if(r=e[jt])return r;e=Yx(e)}return t}e=r,r=e.parentNode}return null}function os(e){if(e=e[jt]||e[is]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ws(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($(33))}function Co(e){var t=e[qb];return t||(t=e[qb]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Jl]=!0}var GS=new Set,KS={};function Bi(e,t){zo(e,t),zo(e+"Capture",t)}function zo(e,t){for(KS[e]=t,e=0;e<t.length;e++)GS.add(t[e])}var l5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hb={},Wb={};function c5(e){return jp.call(Wb,e)?!0:jp.call(Hb,e)?!1:l5.test(e)?Wb[e]=!0:(Hb[e]=!0,!1)}function Cu(e,t,r){if(c5(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Lc(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function gn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function jr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function YS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u5(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cp(e){if(!e._valueTracker){var t=YS(e)?"checked":"value";e._valueTracker=u5(e,t,""+e[t])}}function XS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=YS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var d5=/[\n"\\]/g;function Er(e){return e.replace(d5,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ep(e,t,r,n,a,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jr(t)):e.value!==""+jr(t)&&(e.value=""+jr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Op(e,o,jr(t)):r!=null?Op(e,o,jr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+jr(l):e.removeAttribute("name")}function ZS(e,t,r,n,a,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Cp(e);return}r=r!=null?""+jr(r):"",t=t!=null?""+jr(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Cp(e)}function Op(e,t,r){t==="number"&&Yu(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Eo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function JS(e,t,r){if(t!=null&&(t=""+jr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+jr(r):""}function QS(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error($(92));if(Hs(n)){if(1<n.length)throw Error($(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=jr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),Cp(e)}function Bo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var f5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fb(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||f5.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function eC(e,t,r){if(t!=null&&typeof t!="object")throw Error($(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&Fb(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&Fb(e,i,t[i])}function Iv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eu(e){return m5.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function An(){}var Ap=null;function $v(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mo=null,Oo=null;function Vb(e){var t=os(e);if(t&&(e=t.stateNode)){var r=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ep(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Er(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Yt]||null;if(!a)throw Error($(90));Ep(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&XS(n)}break e;case"textarea":JS(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&Eo(e,!!r.multiple,t,!1)}}}var nm=!1;function tC(e,t,r){if(nm)return e(t,r);nm=!0;try{var n=e(t);return n}finally{if(nm=!1,(mo!==null||Oo!==null)&&(Df(),mo&&(t=mo,e=Oo,Oo=mo=null,Vb(t),e)))for(t=0;t<e.length;t++)Vb(e[t])}}function pl(e,t){var r=e.stateNode;if(r===null)return null;var n=r[Yt]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kp=!1;if(Bn)try{var As={};Object.defineProperty(As,"passive",{get:function(){kp=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{kp=!1}var xa=null,Lv=null,Ou=null;function rC(){if(Ou)return Ou;var e,t=Lv,r=t.length,n,a="value"in xa?xa.value:xa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Ou=a.slice(e,1<n?1-n:void 0)}function Au(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function Gb(){return!1}function Xt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Uc:Gb,this.isPropagationStopped=Gb,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sf=Xt(Ii),Ql=Me({},Ii,{view:0,detail:0}),p5=Xt(Ql),am,im,ks,Cf=Me({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(am=e.screenX-ks.screenX,im=e.screenY-ks.screenY):im=am=0,ks=e),am)},movementY:function(e){return"movementY"in e?e.movementY:im}}),Kb=Xt(Cf),g5=Me({},Cf,{dataTransfer:0}),v5=Xt(g5),y5=Me({},Ql,{relatedTarget:0}),om=Xt(y5),b5=Me({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),x5=Xt(b5),w5=Me({},Ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_5=Xt(w5),j5=Me({},Ii,{data:0}),Yb=Xt(j5),S5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E5[e])?!!t[e]:!1}function Uv(){return O5}var A5=Me({},Ql,{key:function(e){if(e.key){var t=S5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Au(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uv,charCode:function(e){return e.type==="keypress"?Au(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Au(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k5=Xt(A5),T5=Me({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xb=Xt(T5),N5=Me({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uv}),R5=Xt(N5),P5=Me({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),M5=Xt(P5),D5=Me({},Cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z5=Xt(D5),B5=Me({},Ii,{newState:0,oldState:0}),I5=Xt(B5),$5=[9,13,27,32],qv=Bn&&"CompositionEvent"in window,Zs=null;Bn&&"documentMode"in document&&(Zs=document.documentMode);var L5=Bn&&"TextEvent"in window&&!Zs,nC=Bn&&(!qv||Zs&&8<Zs&&11>=Zs),Zb=" ",Jb=!1;function aC(e,t){switch(e){case"keyup":return $5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var po=!1;function U5(e,t){switch(e){case"compositionend":return iC(t);case"keypress":return t.which!==32?null:(Jb=!0,Zb);case"textInput":return e=t.data,e===Zb&&Jb?null:e;default:return null}}function q5(e,t){if(po)return e==="compositionend"||!qv&&aC(e,t)?(e=rC(),Ou=Lv=xa=null,po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nC&&t.locale!=="ko"?null:t.data;default:return null}}var H5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H5[e.type]:t==="textarea"}function oC(e,t,r,n){mo?Oo?Oo.push(n):Oo=[n]:mo=n,t=hd(t,"onChange"),0<t.length&&(r=new Sf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Js=null,gl=null;function W5(e){tO(e,0)}function Ef(e){var t=Ws(e);if(XS(t))return e}function ex(e,t){if(e==="change")return t}var sC=!1;if(Bn){var sm;if(Bn){var lm="oninput"in document;if(!lm){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),lm=typeof tx.oninput=="function"}sm=lm}else sm=!1;sC=sm&&(!document.documentMode||9<document.documentMode)}function rx(){Js&&(Js.detachEvent("onpropertychange",lC),gl=Js=null)}function lC(e){if(e.propertyName==="value"&&Ef(gl)){var t=[];oC(t,gl,e,$v(e)),tC(W5,t)}}function F5(e,t,r){e==="focusin"?(rx(),Js=t,gl=r,Js.attachEvent("onpropertychange",lC)):e==="focusout"&&rx()}function V5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ef(gl)}function G5(e,t){if(e==="click")return Ef(t)}function K5(e,t){if(e==="input"||e==="change")return Ef(t)}function Y5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:Y5;function vl(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!jp.call(t,a)||!pr(e[a],t[a]))return!1}return!0}function nx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ax(e,t){var r=nx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nx(r)}}function cC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uC(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yu(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yu(e.document)}return t}function Hv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var X5=Bn&&"documentMode"in document&&11>=document.documentMode,go=null,Tp=null,Qs=null,Np=!1;function ix(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Np||go==null||go!==Yu(n)||(n=go,"selectionStart"in n&&Hv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qs&&vl(Qs,n)||(Qs=n,n=hd(Tp,"onSelect"),0<n.length&&(t=new Sf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=go)))}function Xa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vo={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},cm={},dC={};Bn&&(dC=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function $i(e){if(cm[e])return cm[e];if(!vo[e])return e;var t=vo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dC)return cm[e]=t[r];return e}var fC=$i("animationend"),hC=$i("animationiteration"),mC=$i("animationstart"),Z5=$i("transitionrun"),J5=$i("transitionstart"),Q5=$i("transitioncancel"),pC=$i("transitionend"),gC=new Map,Rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rp.push("scrollEnd");function Jr(e,t){gC.set(e,t),Bi(t,[e])}var Xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_r=[],yo=0,Wv=0;function Of(){for(var e=yo,t=Wv=yo=0;t<e;){var r=_r[t];_r[t++]=null;var n=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&vC(r,a,i)}}function Af(e,t,r,n){_r[yo++]=e,_r[yo++]=t,_r[yo++]=r,_r[yo++]=n,Wv|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Fv(e,t,r,n){return Af(e,t,r,n),Zu(e)}function Li(e,t){return Af(e,null,null,t),Zu(e)}function vC(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-fr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Zu(e){if(50<ll)throw ll=0,Qp=null,Error($(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var bo={};function eM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new eM(e,t,r,n)}function Vv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function yC(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ku(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")Vv(e)&&(o=1);else if(typeof e=="string")o=iD(e,r,cn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case bp:return e=ar(31,r,t,a),e.elementType=bp,e.lanes=i,e;case uo:return pi(r.children,a,i,t);case BS:o=8,a|=24;break;case gp:return e=ar(12,r,t,a|2),e.elementType=gp,e.lanes=i,e;case vp:return e=ar(13,r,t,a),e.elementType=vp,e.lanes=i,e;case yp:return e=ar(19,r,t,a),e.elementType=yp,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case On:o=10;break e;case IS:o=9;break e;case Rv:o=11;break e;case Pv:o=14;break e;case ca:o=16,n=null;break e}o=29,r=Error($(130,e===null?"null":typeof e,"")),n=null}return t=ar(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function pi(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function um(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function bC(e){var t=ar(18,null,null,0);return t.stateNode=e,t}function dm(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ox=new WeakMap;function Or(e,t){if(typeof e=="object"&&e!==null){var r=ox.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Lb(t)},ox.set(e,t),t)}return{value:e,source:t,stack:Lb(t)}}var xo=[],wo=0,Ju=null,yl=0,Sr=[],Cr=0,za=null,an=1,on="";function _n(e,t){xo[wo++]=yl,xo[wo++]=Ju,Ju=e,yl=t}function xC(e,t,r){Sr[Cr++]=an,Sr[Cr++]=on,Sr[Cr++]=za,za=e;var n=an;e=on;var a=32-fr(n)-1;n&=~(1<<a),r+=1;var i=32-fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,an=1<<32-fr(t)+a|r<<a|n,on=i+e}else an=1<<i|r<<a|n,on=e}function Gv(e){e.return!==null&&(_n(e,1),xC(e,1,0))}function Kv(e){for(;e===Ju;)Ju=xo[--wo],xo[wo]=null,yl=xo[--wo],xo[wo]=null;for(;e===za;)za=Sr[--Cr],Sr[Cr]=null,on=Sr[--Cr],Sr[Cr]=null,an=Sr[--Cr],Sr[Cr]=null}function wC(e,t){Sr[Cr++]=an,Sr[Cr++]=on,Sr[Cr++]=za,an=t.id,on=t.overflow,za=e}var St=null,Re=null,he=!1,Oa=null,Ar=!1,Pp=Error($(519));function Ba(e){var t=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Or(t,e)),Pp}function sx(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[jt]=e,t[Yt]=n,r){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(r=0;r<jl.length;r++)ue(jl[r],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),ZS(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),QS(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||nO(t.textContent,r)?(n.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),n.onScroll!=null&&ue("scroll",t),n.onScrollEnd!=null&&ue("scrollend",t),n.onClick!=null&&(t.onclick=An),t=!0):t=!1,t||Ba(e,!0)}function lx(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:St=St.return}}function Ki(e){if(e!==St)return!1;if(!he)return lx(e),he=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ag(e.type,e.memoizedProps)),r=!r),r&&Re&&Ba(e),lx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Re=Kx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Re=Kx(e)}else t===27?(t=Re,Ha(e.type)?(e=lg,lg=null,Re=e):Re=t):Re=St?Nr(e.stateNode.nextSibling):null;return!0}function ji(){Re=St=null,he=!1}function fm(){var e=Oa;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),Oa=null),e}function bl(e){Oa===null?Oa=[e]:Oa.push(e)}var Mp=mn(null),Ui=null,kn=null;function ha(e,t,r){ke(Mp,t._currentValue),t._currentValue=r}function Pn(e){e._currentValue=Mp.current,pt(Mp)}function Dp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function zp(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Dp(i.return,r,e),n||(o=null);break e}i=l.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error($(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Dp(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function ss(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error($(387));if(o=o.memoizedProps,o!==null){var l=a.type;pr(a.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(a===Fu.current){if(o=a.alternate,o===null)throw Error($(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}a=a.return}e!==null&&zp(t,e,r,n),t.flags|=262144}function Qu(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Si(e){Ui=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return _C(Ui,e)}function qc(e,t){return Ui===null&&Si(e),_C(e,t)}function _C(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},kn===null){if(e===null)throw Error($(308));kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kn=kn.next=t;return r}var tM=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},rM=it.unstable_scheduleCallback,nM=it.unstable_NormalPriority,Je={$$typeof:On,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yv(){return{controller:new tM,data:new Map,refCount:0}}function ec(e){e.refCount--,e.refCount===0&&rM(nM,function(){e.controller.abort()})}var el=null,Bp=0,Io=0,Ao=null;function aM(e,t){if(el===null){var r=el=[];Bp=0,Io=xy(),Ao={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Bp++,t.then(cx,cx),t}function cx(){if(--Bp===0&&el!==null){Ao!==null&&(Ao.status="fulfilled");var e=el;el=null,Io=0,Ao=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iM(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var ux=te.S;te.S=function(e,t){zE=ur(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&aM(e,t),ux!==null&&ux(e,t)};var gi=mn(null);function Xv(){var e=gi.current;return e!==null?e:Se.pooledCache}function Tu(e,t){t===null?ke(gi,gi.current):ke(gi,t.pool)}function jC(){var e=Xv();return e===null?null:{parent:Je._currentValue,pool:e}}var ls=Error($(460)),Zv=Error($(474)),kf=Error($(542)),ed={then:function(){}};function dx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function SC(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(An,An),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hx(e),e;default:if(typeof t.status=="string")t.then(An,An);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error($(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hx(e),e}throw vi=t,ls}}function ti(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(vi=r,ls):r}}var vi=null;function fx(){if(vi===null)throw Error($(459));var e=vi;return vi=null,e}function hx(e){if(e===ls||e===kf)throw Error($(483))}var ko=null,xl=0;function Hc(e){var t=xl;return xl+=1,ko===null&&(ko=[]),SC(ko,e,t)}function Ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wc(e,t){throw t.$$typeof===FP?Error($(525)):(e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function CC(e){function t(g,p){if(e){var b=g.deletions;b===null?(g.deletions=[p],g.flags|=16):b.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function a(g,p){return g=Rn(g,p),g.index=0,g.sibling=null,g}function i(g,p,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<p?(g.flags|=67108866,p):b):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function l(g,p,b,_){return p===null||p.tag!==6?(p=um(b,g.mode,_),p.return=g,p):(p=a(p,b),p.return=g,p)}function c(g,p,b,_){var j=b.type;return j===uo?d(g,p,b.props.children,_,b.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ca&&ti(j)===p.type)?(p=a(p,b.props),Ts(p,b),p.return=g,p):(p=ku(b.type,b.key,b.props,null,g.mode,_),Ts(p,b),p.return=g,p)}function u(g,p,b,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=dm(b,g.mode,_),p.return=g,p):(p=a(p,b.children||[]),p.return=g,p)}function d(g,p,b,_,j){return p===null||p.tag!==7?(p=pi(b,g.mode,_,j),p.return=g,p):(p=a(p,b),p.return=g,p)}function f(g,p,b){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=um(""+p,g.mode,b),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zc:return b=ku(p.type,p.key,p.props,null,g.mode,b),Ts(b,p),b.return=g,b;case qs:return p=dm(p,g.mode,b),p.return=g,p;case ca:return p=ti(p),f(g,p,b)}if(Hs(p)||Os(p))return p=pi(p,g.mode,b,null),p.return=g,p;if(typeof p.then=="function")return f(g,Hc(p),b);if(p.$$typeof===On)return f(g,qc(g,p),b);Wc(g,p)}return null}function h(g,p,b,_){var j=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return j!==null?null:l(g,p,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zc:return b.key===j?c(g,p,b,_):null;case qs:return b.key===j?u(g,p,b,_):null;case ca:return b=ti(b),h(g,p,b,_)}if(Hs(b)||Os(b))return j!==null?null:d(g,p,b,_,null);if(typeof b.then=="function")return h(g,p,Hc(b),_);if(b.$$typeof===On)return h(g,p,qc(g,b),_);Wc(g,b)}return null}function m(g,p,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return g=g.get(b)||null,l(p,g,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zc:return g=g.get(_.key===null?b:_.key)||null,c(p,g,_,j);case qs:return g=g.get(_.key===null?b:_.key)||null,u(p,g,_,j);case ca:return _=ti(_),m(g,p,b,_,j)}if(Hs(_)||Os(_))return g=g.get(b)||null,d(p,g,_,j,null);if(typeof _.then=="function")return m(g,p,b,Hc(_),j);if(_.$$typeof===On)return m(g,p,b,qc(p,_),j);Wc(p,_)}return null}function v(g,p,b,_){for(var j=null,S=null,C=p,E=p=0,A=null;C!==null&&E<b.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var k=h(g,C,b[E],_);if(k===null){C===null&&(C=A);break}e&&C&&k.alternate===null&&t(g,C),p=i(k,p,E),S===null?j=k:S.sibling=k,S=k,C=A}if(E===b.length)return r(g,C),he&&_n(g,E),j;if(C===null){for(;E<b.length;E++)C=f(g,b[E],_),C!==null&&(p=i(C,p,E),S===null?j=C:S.sibling=C,S=C);return he&&_n(g,E),j}for(C=n(C);E<b.length;E++)A=m(C,g,E,b[E],_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),p=i(A,p,E),S===null?j=A:S.sibling=A,S=A);return e&&C.forEach(function(R){return t(g,R)}),he&&_n(g,E),j}function w(g,p,b,_){if(b==null)throw Error($(151));for(var j=null,S=null,C=p,E=p=0,A=null,k=b.next();C!==null&&!k.done;E++,k=b.next()){C.index>E?(A=C,C=null):A=C.sibling;var R=h(g,C,k.value,_);if(R===null){C===null&&(C=A);break}e&&C&&R.alternate===null&&t(g,C),p=i(R,p,E),S===null?j=R:S.sibling=R,S=R,C=A}if(k.done)return r(g,C),he&&_n(g,E),j;if(C===null){for(;!k.done;E++,k=b.next())k=f(g,k.value,_),k!==null&&(p=i(k,p,E),S===null?j=k:S.sibling=k,S=k);return he&&_n(g,E),j}for(C=n(C);!k.done;E++,k=b.next())k=m(C,g,E,k.value,_),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?E:k.key),p=i(k,p,E),S===null?j=k:S.sibling=k,S=k);return e&&C.forEach(function(T){return t(g,T)}),he&&_n(g,E),j}function y(g,p,b,_){if(typeof b=="object"&&b!==null&&b.type===uo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zc:e:{for(var j=b.key;p!==null;){if(p.key===j){if(j=b.type,j===uo){if(p.tag===7){r(g,p.sibling),_=a(p,b.props.children),_.return=g,g=_;break e}}else if(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ca&&ti(j)===p.type){r(g,p.sibling),_=a(p,b.props),Ts(_,b),_.return=g,g=_;break e}r(g,p);break}else t(g,p);p=p.sibling}b.type===uo?(_=pi(b.props.children,g.mode,_,b.key),_.return=g,g=_):(_=ku(b.type,b.key,b.props,null,g.mode,_),Ts(_,b),_.return=g,g=_)}return o(g);case qs:e:{for(j=b.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){r(g,p.sibling),_=a(p,b.children||[]),_.return=g,g=_;break e}else{r(g,p);break}else t(g,p);p=p.sibling}_=dm(b,g.mode,_),_.return=g,g=_}return o(g);case ca:return b=ti(b),y(g,p,b,_)}if(Hs(b))return v(g,p,b,_);if(Os(b)){if(j=Os(b),typeof j!="function")throw Error($(150));return b=j.call(b),w(g,p,b,_)}if(typeof b.then=="function")return y(g,p,Hc(b),_);if(b.$$typeof===On)return y(g,p,qc(g,b),_);Wc(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,p!==null&&p.tag===6?(r(g,p.sibling),_=a(p,b),_.return=g,g=_):(r(g,p),_=um(b,g.mode,_),_.return=g,g=_),o(g)):r(g,p)}return function(g,p,b,_){try{xl=0;var j=y(g,p,b,_);return ko=null,j}catch(C){if(C===ls||C===kf)throw C;var S=ar(29,C,null,g.mode);return S.lanes=_,S.return=g,S}finally{}}}var Ci=CC(!0),EC=CC(!1),ua=!1;function Jv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ip(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Zu(e),vC(e,null,r),t}return Af(e,n,t,r),Zu(e)}function tl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,WS(e,r)}}function hm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var $p=!1;function rl(){if($p){var e=Ao;if(e!==null)throw e}}function nl(e,t,r,n){$p=!1;var a=e.updateQueue;ua=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(fe&h)===h:(n&h)===h){h!==0&&h===Io&&($p=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=e,w=l;h=t;var y=r;switch(w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=Me({},f,h);break e;case 2:ua=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),$a|=o,e.lanes=o,e.memoizedState=f}}function OC(e,t){if(typeof e!="function")throw Error($(191,e));e.call(t)}function AC(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)OC(r[e],t)}var $o=mn(null),td=mn(0);function mx(e,t){e=Un,ke(td,e),ke($o,t),Un=e|t.baseLanes}function Lp(){ke(td,Un),ke($o,$o.current)}function Qv(){Un=td.current,pt($o),pt(td)}var gr=mn(null),Tr=null;function ma(e){var t=e.alternate;ke(Fe,Fe.current&1),ke(gr,e),Tr===null&&(t===null||$o.current!==null||t.memoizedState!==null)&&(Tr=e)}function Up(e){ke(Fe,Fe.current),ke(gr,e),Tr===null&&(Tr=e)}function kC(e){e.tag===22?(ke(Fe,Fe.current),ke(gr,e),Tr===null&&(Tr=e)):pa()}function pa(){ke(Fe,Fe.current),ke(gr,gr.current)}function nr(e){pt(gr),Tr===e&&(Tr=null),pt(Fe)}var Fe=mn(0);function rd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||og(r)||sg(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var In=0,se=null,_e=null,Xe=null,nd=!1,To=!1,Ei=!1,ad=0,wl=0,No=null,oM=0;function Ue(){throw Error($(321))}function ey(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pr(e[r],t[r]))return!1;return!0}function ty(e,t,r,n,a,i){return In=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,te.H=e===null||e.memoizedState===null?oE:fy,Ei=!1,i=r(n,a),Ei=!1,To&&(i=NC(t,r,n,a)),TC(e),i}function TC(e){te.H=_l;var t=_e!==null&&_e.next!==null;if(In=0,Xe=_e=se=null,nd=!1,wl=0,No=null,t)throw Error($(300));e===null||Qe||(e=e.dependencies,e!==null&&Qu(e)&&(Qe=!0))}function NC(e,t,r,n){se=e;var a=0;do{if(To&&(No=null),wl=0,To=!1,25<=a)throw Error($(301));if(a+=1,Xe=_e=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}te.H=sE,i=t(r,n)}while(To);return i}function sM(){var e=te.H,t=e.useState()[0];return t=typeof t.then=="function"?tc(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(se.flags|=1024),t}function ry(){var e=ad!==0;return ad=0,e}function ny(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ay(e){if(nd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nd=!1}In=0,Xe=_e=se=null,To=!1,wl=ad=0,No=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?se.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ve(){if(_e===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Xe===null?se.memoizedState:Xe.next;if(t!==null)Xe=t,_e=e;else{if(e===null)throw se.alternate===null?Error($(467)):Error($(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Xe===null?se.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(e){var t=wl;return wl+=1,No===null&&(No=[]),e=SC(No,e,t),t=se,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,te.H=t===null||t.memoizedState===null?oE:fy),e}function Nf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tc(e);if(e.$$typeof===On)return Ct(e)}throw Error($(438,String(e)))}function iy(e){var t=null,r=se.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=se.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Tf(),se.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=VP;return t.index++,r}function $n(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=Ve();return oy(t,_e,e)}function oy(e,t,r){var n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var l=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(fe&f)===f:(In&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Io&&(d=!0);else if((In&h)===h){u=u.next,h===Io&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,o=i):c=c.next=f,se.lanes|=h,$a|=h;f=u.action,Ei&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,o=i):c=c.next=h,se.lanes|=f,$a|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=l,!pr(i,e.memoizedState)&&(Qe=!0,d&&(r=Ao,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function mm(e){var t=Ve(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pr(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function RC(e,t,r){var n=se,a=Ve(),i=he;if(i){if(r===void 0)throw Error($(407));r=r()}else r=t();var o=!pr((_e||a).memoizedState,r);if(o&&(a.memoizedState=r,Qe=!0),a=a.queue,sy(DC.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Lo(9,{destroy:void 0},MC.bind(null,n,a,r,t),null),Se===null)throw Error($(349));i||In&127||PC(n,t,r)}return r}function PC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=se.updateQueue,t===null?(t=Tf(),se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function MC(e,t,r,n){t.value=r,t.getSnapshot=n,zC(t)&&BC(e)}function DC(e,t,r){return r(function(){zC(t)&&BC(e)})}function zC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pr(e,r)}catch{return!0}}function BC(e){var t=Li(e,2);t!==null&&Kt(t,e,2)}function qp(e){var t=Rt();if(typeof e=="function"){var r=e;if(e=r(),Ei){ba(!0);try{r()}finally{ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},t}function IC(e,t,r,n){return e.baseState=r,oy(e,_e,typeof n=="function"?n:$n)}function lM(e,t,r,n,a){if(Pf(e))throw Error($(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};te.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,$C(t,i)):(i.next=r.next,t.pending=r.next=i)}}function $C(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=te.T,o={};te.T=o;try{var l=r(a,n),c=te.S;c!==null&&c(o,l),px(e,t,l)}catch(u){Hp(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),te.T=i}}else try{i=r(a,n),px(e,t,i)}catch(u){Hp(e,t,u)}}function px(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){gx(e,t,n)},function(n){return Hp(e,t,n)}):gx(e,t,r)}function gx(e,t,r){t.status="fulfilled",t.value=r,LC(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,$C(e,r)))}function Hp(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,LC(t),t=t.next;while(t!==n)}e.action=null}function LC(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function UC(e,t){return t}function vx(e,t){if(he){var r=Se.formState;if(r!==null){e:{var n=se;if(he){if(Re){t:{for(var a=Re,i=Ar;a.nodeType!==8;){if(!i){a=null;break t}if(a=Nr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Re=Nr(a.nextSibling),n=a.data==="F!";break e}}Ba(n)}n=!1}n&&(t=r[0])}}return r=Rt(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:UC,lastRenderedState:t},r.queue=n,r=nE.bind(null,se,n),n.dispatch=r,n=qp(!1),i=dy.bind(null,se,!1,n.queue),n=Rt(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=lM.bind(null,se,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function yx(e){var t=Ve();return qC(t,_e,e)}function qC(e,t,r){if(t=oy(e,t,UC)[0],e=Nu($n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=tc(t)}catch(o){throw o===ls?kf:o}else n=t;t=Ve();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(se.flags|=2048,Lo(9,{destroy:void 0},cM.bind(null,a,r),null)),[n,i,e]}function cM(e,t){e.action=t}function bx(e){var t=Ve(),r=_e;if(r!==null)return qC(t,r,e);Ve(),t=t.memoizedState,r=Ve();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Lo(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=se.updateQueue,t===null&&(t=Tf(),se.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function HC(){return Ve().memoizedState}function Ru(e,t,r,n){var a=Rt();se.flags|=e,a.memoizedState=Lo(1|t,{destroy:void 0},r,n===void 0?null:n)}function Rf(e,t,r,n){var a=Ve();n=n===void 0?null:n;var i=a.memoizedState.inst;_e!==null&&n!==null&&ey(n,_e.memoizedState.deps)?a.memoizedState=Lo(t,i,r,n):(se.flags|=e,a.memoizedState=Lo(1|t,i,r,n))}function xx(e,t){Ru(8390656,8,e,t)}function sy(e,t){Rf(2048,8,e,t)}function uM(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=Tf(),se.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function WC(e){var t=Ve().memoizedState;return uM({ref:t,nextImpl:e}),function(){if(pe&2)throw Error($(440));return t.impl.apply(void 0,arguments)}}function FC(e,t){return Rf(4,2,e,t)}function VC(e,t){return Rf(4,4,e,t)}function GC(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KC(e,t,r){r=r!=null?r.concat([e]):null,Rf(4,4,GC.bind(null,t,e),r)}function ly(){}function YC(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&ey(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function XC(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&ey(t,n[1]))return n[0];if(n=e(),Ei){ba(!0);try{e()}finally{ba(!1)}}return r.memoizedState=[n,t],n}function cy(e,t,r){return r===void 0||In&1073741824&&!(fe&261930)?e.memoizedState=t:(e.memoizedState=r,e=IE(),se.lanes|=e,$a|=e,r)}function ZC(e,t,r,n){return pr(r,t)?r:$o.current!==null?(e=cy(e,r,n),pr(e,t)||(Qe=!0),e):!(In&42)||In&1073741824&&!(fe&261930)?(Qe=!0,e.memoizedState=r):(e=IE(),se.lanes|=e,$a|=e,t)}function JC(e,t,r,n,a){var i=ge.p;ge.p=i!==0&&8>i?i:8;var o=te.T,l={};te.T=l,dy(e,!1,t,r);try{var c=a(),u=te.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=iM(c,n);al(e,t,d,hr(e))}else al(e,t,n,hr(e))}catch(f){al(e,t,{then:function(){},status:"rejected",reason:f},hr())}finally{ge.p=i,o!==null&&l.types!==null&&(o.types=l.types),te.T=o}}function dM(){}function Wp(e,t,r,n){if(e.tag!==5)throw Error($(476));var a=QC(e).queue;JC(e,a,t,mi,r===null?dM:function(){return eE(e),r(n)})}function QC(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:mi,baseState:mi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:mi},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function eE(e){var t=QC(e);t.next===null&&(t=e.alternate.memoizedState),al(e,t.next.queue,{},hr())}function uy(){return Ct(Cl)}function tE(){return Ve().memoizedState}function rE(){return Ve().memoizedState}function fM(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hr();e=Aa(r);var n=ka(t,e,r);n!==null&&(Kt(n,t,r),tl(n,t,r)),t={cache:Yv()},e.payload=t;return}t=t.return}}function hM(e,t,r){var n=hr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pf(e)?aE(t,r):(r=Fv(e,t,r,n),r!==null&&(Kt(r,e,n),iE(r,t,n)))}function nE(e,t,r){var n=hr();al(e,t,r,n)}function al(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pf(e))aE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,pr(l,o))return Af(e,t,a,0),Se===null&&Of(),!1}catch{}finally{}if(r=Fv(e,t,a,n),r!==null)return Kt(r,e,n),iE(r,t,n),!0}return!1}function dy(e,t,r,n){if(n={lane:2,revertLane:xy(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Pf(e)){if(t)throw Error($(479))}else t=Fv(e,r,n,2),t!==null&&Kt(t,e,2)}function Pf(e){var t=e.alternate;return e===se||t!==null&&t===se}function aE(e,t){To=nd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function iE(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,WS(e,r)}}var _l={readContext:Ct,use:Nf,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};_l.useEffectEvent=Ue;var oE={readContext:Ct,use:Nf,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:xx,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Ru(4194308,4,GC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ru(4194308,4,e,t)},useInsertionEffect:function(e,t){Ru(4,2,e,t)},useMemo:function(e,t){var r=Rt();t=t===void 0?null:t;var n=e();if(Ei){ba(!0);try{e()}finally{ba(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Rt();if(r!==void 0){var a=r(t);if(Ei){ba(!0);try{r(t)}finally{ba(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=hM.bind(null,se,e),[n.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=qp(e);var t=e.queue,r=nE.bind(null,se,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ly,useDeferredValue:function(e,t){var r=Rt();return cy(r,e,t)},useTransition:function(){var e=qp(!1);return e=JC.bind(null,se,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=se,a=Rt();if(he){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),Se===null)throw Error($(349));fe&127||PC(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,xx(DC.bind(null,n,i,e),[e]),n.flags|=2048,Lo(9,{destroy:void 0},MC.bind(null,n,i,r,t),null),r},useId:function(){var e=Rt(),t=Se.identifierPrefix;if(he){var r=on,n=an;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=ad++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=oM++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uy,useFormState:vx,useActionState:vx,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=dy.bind(null,se,!0,r),r.dispatch=t,[e,t]},useMemoCache:iy,useCacheRefresh:function(){return Rt().memoizedState=fM.bind(null,se)},useEffectEvent:function(e){var t=Rt(),r={impl:e};return t.memoizedState=r,function(){if(pe&2)throw Error($(440));return r.impl.apply(void 0,arguments)}}},fy={readContext:Ct,use:Nf,useCallback:YC,useContext:Ct,useEffect:sy,useImperativeHandle:KC,useInsertionEffect:FC,useLayoutEffect:VC,useMemo:XC,useReducer:Nu,useRef:HC,useState:function(){return Nu($n)},useDebugValue:ly,useDeferredValue:function(e,t){var r=Ve();return ZC(r,_e.memoizedState,e,t)},useTransition:function(){var e=Nu($n)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:tc(e),t]},useSyncExternalStore:RC,useId:tE,useHostTransitionStatus:uy,useFormState:yx,useActionState:yx,useOptimistic:function(e,t){var r=Ve();return IC(r,_e,e,t)},useMemoCache:iy,useCacheRefresh:rE};fy.useEffectEvent=WC;var sE={readContext:Ct,use:Nf,useCallback:YC,useContext:Ct,useEffect:sy,useImperativeHandle:KC,useInsertionEffect:FC,useLayoutEffect:VC,useMemo:XC,useReducer:mm,useRef:HC,useState:function(){return mm($n)},useDebugValue:ly,useDeferredValue:function(e,t){var r=Ve();return _e===null?cy(r,e,t):ZC(r,_e.memoizedState,e,t)},useTransition:function(){var e=mm($n)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:tc(e),t]},useSyncExternalStore:RC,useId:tE,useHostTransitionStatus:uy,useFormState:bx,useActionState:bx,useOptimistic:function(e,t){var r=Ve();return _e!==null?IC(r,_e,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:iy,useCacheRefresh:rE};sE.useEffectEvent=WC;function pm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fp={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Aa(n);a.payload=t,r!=null&&(a.callback=r),t=ka(e,a,n),t!==null&&(Kt(t,e,n),tl(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Aa(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ka(e,a,n),t!==null&&(Kt(t,e,n),tl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Aa(r);n.tag=2,t!=null&&(n.callback=t),t=ka(e,n,r),t!==null&&(Kt(t,e,r),tl(t,e,r))}};function wx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!vl(r,n)||!vl(a,i):!0}function _x(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fp.enqueueReplaceState(t,t.state,null)}function Oi(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Me({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function lE(e){Xu(e)}function cE(e){console.error(e)}function uE(e){Xu(e)}function id(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jx(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Vp(e,t,r){return r=Aa(r),r.tag=3,r.payload={element:null},r.callback=function(){id(e,t)},r}function dE(e){return e=Aa(e),e.tag=3,e}function fE(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){jx(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){jx(t,r,n),typeof a!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function mM(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&ss(t,r,a,!0),r=gr.current,r!==null){switch(r.tag){case 31:case 13:return Tr===null?ud():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===ed?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),Em(e,n,a)),!1;case 22:return r.flags|=65536,n===ed?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),Em(e,n,a)),!1}throw Error($(435,r.tag))}return Em(e,n,a),ud(),!1}if(he)return t=gr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Pp&&(e=Error($(422),{cause:n}),bl(Or(e,r)))):(n!==Pp&&(t=Error($(423),{cause:n}),bl(Or(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Or(n,r),a=Vp(e.stateNode,n,a),hm(e,a),He!==4&&(He=2)),!1;var i=Error($(520),{cause:n});if(i=Or(i,r),sl===null?sl=[i]:sl.push(i),He!==4&&(He=2),t===null)return!0;n=Or(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=Vp(r.stateNode,n,e),hm(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ta===null||!Ta.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=dE(a),fE(a,e,r,n),hm(r,a),!1}r=r.return}while(r!==null);return!1}var hy=Error($(461)),Qe=!1;function xt(e,t,r,n){t.child=e===null?EC(t,null,r,n):Ci(t,e.child,r,n)}function Sx(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}else o=n;return Si(t),n=ty(e,t,r,o,i,a),l=ry(),e!==null&&!Qe?(ny(e,t,a),Ln(e,t,a)):(he&&l&&Gv(t),t.flags|=1,xt(e,t,n,a),t.child)}function Cx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Vv(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,hE(e,t,i,n,a)):(e=ku(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!my(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:vl,r(o,n)&&e.ref===t.ref)return Ln(e,t,a)}return t.flags|=1,e=Rn(i,n),e.ref=t.ref,e.return=t,t.child=e}function hE(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(vl(i,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=i,my(e,a))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Ln(e,t,a)}return Gp(e,t,r,n,a)}function mE(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return Ex(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(t,i!==null?i.cachePool:null),i!==null?mx(t,i):Lp(),kC(t);else return n=t.lanes=536870912,Ex(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(Tu(t,i.cachePool),mx(t,i),pa(),t.memoizedState=null):(e!==null&&Tu(t,null),Lp(),pa());return xt(e,t,a,r),t.child}function Fs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ex(e,t,r,n,a){var i=Xv();return i=i===null?null:{parent:Je._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&Tu(t,null),Lp(),kC(t),e!==null&&ss(e,t,n,!0),t.childLanes=a,null}function Pu(e,t){return t=od({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ox(e,t,r){return Ci(t,e.child,null,r),e=Pu(t,t.pendingProps),e.flags|=2,nr(t),t.memoizedState=null,e}function pM(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(he){if(n.mode==="hidden")return e=Pu(t,n),t.lanes=536870912,Fs(null,e);if(Up(t),(e=Re)?(e=oO(e,Ar),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:an,overflow:on}:null,retryLane:536870912,hydrationErrors:null},r=bC(e),r.return=t,t.child=r,St=t,Re=null)):e=null,e===null)throw Ba(t);return t.lanes=536870912,null}return Pu(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Up(t),a)if(t.flags&256)t.flags&=-257,t=Ox(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error($(558));else if(Qe||ss(e,t,r,!1),a=(r&e.childLanes)!==0,Qe||a){if(n=Se,n!==null&&(o=FS(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,Li(e,o),Kt(n,e,o),hy;ud(),t=Ox(e,t,r)}else e=i.treeContext,Re=Nr(o.nextSibling),St=t,he=!0,Oa=null,Ar=!1,e!==null&&wC(t,e),t=Pu(t,n),t.flags|=4096;return t}return e=Rn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Mu(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error($(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Gp(e,t,r,n,a){return Si(t),r=ty(e,t,r,n,void 0,a),n=ry(),e!==null&&!Qe?(ny(e,t,a),Ln(e,t,a)):(he&&n&&Gv(t),t.flags|=1,xt(e,t,r,a),t.child)}function Ax(e,t,r,n,a,i){return Si(t),t.updateQueue=null,r=NC(t,n,r,a),TC(e),n=ry(),e!==null&&!Qe?(ny(e,t,i),Ln(e,t,i)):(he&&n&&Gv(t),t.flags|=1,xt(e,t,r,i),t.child)}function kx(e,t,r,n,a){if(Si(t),t.stateNode===null){var i=bo,o=r.contextType;typeof o=="object"&&o!==null&&(i=Ct(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Fp,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Jv(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Ct(o):bo,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(pm(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Fp.enqueueReplaceState(i,i.state,null),nl(t,n,i,a),rl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,c=Oi(r,l);i.props=c;var u=i.context,d=r.contextType;o=bo,typeof d=="object"&&d!==null&&(o=Ct(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&_x(t,i,n,o),ua=!1;var h=t.memoizedState;i.state=h,nl(t,n,i,a),rl(),u=t.memoizedState,l||h!==u||ua?(typeof f=="function"&&(pm(t,r,f,n),u=t.memoizedState),(c=ua||wx(t,r,c,n,h,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ip(e,t),o=t.memoizedProps,d=Oi(r,o),i.props=d,f=t.pendingProps,h=i.context,u=r.contextType,c=bo,typeof u=="object"&&u!==null&&(c=Ct(u)),l=r.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==c)&&_x(t,i,n,c),ua=!1,h=t.memoizedState,i.state=h,nl(t,n,i,a),rl();var m=t.memoizedState;o!==f||h!==m||ua||e!==null&&e.dependencies!==null&&Qu(e.dependencies)?(typeof l=="function"&&(pm(t,r,l,n),m=t.memoizedState),(d=ua||wx(t,r,d,n,h,m,c)||e!==null&&e.dependencies!==null&&Qu(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Mu(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Ci(t,e.child,null,a),t.child=Ci(t,null,r,a)):xt(e,t,r,a),t.memoizedState=i.state,e=t.child):e=Ln(e,t,a),e}function Tx(e,t,r,n){return ji(),t.flags|=256,xt(e,t,r,n),t.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vm(e){return{baseLanes:e,cachePool:jC()}}function ym(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=lr),e}function pE(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(a?ma(t):pa(),(e=Re)?(e=oO(e,Ar),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:an,overflow:on}:null,retryLane:536870912,hydrationErrors:null},r=bC(e),r.return=t,t.child=r,St=t,Re=null)):e=null,e===null)throw Ba(t);return sg(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,a?(pa(),a=t.mode,l=od({mode:"hidden",children:l},a),n=pi(n,a,r,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=vm(r),n.childLanes=ym(e,o,r),t.memoizedState=gm,Fs(null,n)):(ma(t),Kp(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)t.flags&256?(ma(t),t.flags&=-257,t=bm(e,t,r)):t.memoizedState!==null?(pa(),t.child=e.child,t.flags|=128,t=null):(pa(),l=n.fallback,a=t.mode,n=od({mode:"visible",children:n.children},a),l=pi(l,a,r,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,Ci(t,e.child,null,r),n=t.child,n.memoizedState=vm(r),n.childLanes=ym(e,o,r),t.memoizedState=gm,t=Fs(null,n));else if(ma(t),sg(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error($(419)),n.stack="",n.digest=o,bl({value:n,source:null,stack:null}),t=bm(e,t,r)}else if(Qe||ss(e,t,r,!1),o=(r&e.childLanes)!==0,Qe||o){if(o=Se,o!==null&&(n=FS(o,r),n!==0&&n!==c.retryLane))throw c.retryLane=n,Li(e,n),Kt(o,e,n),hy;og(l)||ud(),t=bm(e,t,r)}else og(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Re=Nr(l.nextSibling),St=t,he=!0,Oa=null,Ar=!1,e!==null&&wC(t,e),t=Kp(t,n.children),t.flags|=4096);return t}return a?(pa(),l=n.fallback,a=t.mode,c=e.child,u=c.sibling,n=Rn(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=Rn(u,l):(l=pi(l,a,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,Fs(null,n),n=t.child,l=e.child.memoizedState,l===null?l=vm(r):(a=l.cachePool,a!==null?(c=Je._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=jC(),l={baseLanes:l.baseLanes|r,cachePool:a}),n.memoizedState=l,n.childLanes=ym(e,o,r),t.memoizedState=gm,Fs(e.child,n)):(ma(t),r=e.child,e=r.sibling,r=Rn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function Kp(e,t){return t=od({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function od(e,t){return e=ar(22,e,null,t),e.lanes=0,e}function bm(e,t,r){return Ci(t,e.child,null,r),e=Kp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Dp(e.return,t,r)}function xm(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function gE(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Fe.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,ke(Fe,o),xt(e,t,n,r),n=he?yl:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nx(e,r,t);else if(e.tag===19)Nx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&rd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),xm(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&rd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}xm(t,!0,r,null,i,n);break;case"together":xm(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ln(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,!(r&t.childLanes))if(e!==null){if(ss(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=Rn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function my(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Qu(e)))}function gM(e,t,r){switch(t.tag){case 3:Vu(t,t.stateNode.containerInfo),ha(t,Je,e.memoizedState.cache),ji();break;case 27:case 5:_p(t);break;case 4:Vu(t,t.stateNode.containerInfo);break;case 10:ha(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Up(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ma(t),t.flags|=128,null):r&t.child.childLanes?pE(e,t,r):(ma(t),e=Ln(e,t,r),e!==null?e.sibling:null);ma(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(ss(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return gE(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ke(Fe,Fe.current),n)break;return null;case 22:return t.lanes=0,mE(e,t,r,t.pendingProps);case 24:ha(t,Je,e.memoizedState.cache)}return Ln(e,t,r)}function vE(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!my(e,r)&&!(t.flags&128))return Qe=!1,gM(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,he&&t.flags&1048576&&xC(t,yl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ti(t.elementType),t.type=e,typeof e=="function")Vv(e)?(n=Oi(e,n),t.tag=1,t=kx(null,t,e,n,r)):(t.tag=0,t=Gp(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===Rv){t.tag=11,t=Sx(null,t,e,n,r);break e}else if(a===Pv){t.tag=14,t=Cx(null,t,e,n,r);break e}}throw t=xp(e)||e,Error($(306,t,""))}}return t;case 0:return Gp(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=Oi(n,t.pendingProps),kx(e,t,n,a,r);case 3:e:{if(Vu(t,t.stateNode.containerInfo),e===null)throw Error($(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,Ip(e,t),nl(t,n,null,r);var o=t.memoizedState;if(n=o.cache,ha(t,Je,n),n!==i.cache&&zp(t,[Je],r,!0),rl(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Tx(e,t,n,r);break e}else if(n!==a){a=Or(Error($(424)),t),bl(a),t=Tx(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Re=Nr(e.firstChild),St=t,he=!0,Oa=null,Ar=!0,r=EC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ji(),n===a){t=Ln(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 26:return Mu(e,t),e===null?(r=Zx(t.type,null,t.pendingProps,null))?t.memoizedState=r:he||(r=t.type,e=t.pendingProps,n=md(Ea.current).createElement(r),n[jt]=t,n[Yt]=e,Ot(n,r,e),mt(n),t.stateNode=n):t.memoizedState=Zx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _p(t),e===null&&he&&(n=t.stateNode=sO(t.type,t.pendingProps,Ea.current),St=t,Ar=!0,a=Re,Ha(t.type)?(lg=a,Re=Nr(n.firstChild)):Re=a),xt(e,t,t.pendingProps.children,r),Mu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((a=n=Re)&&(n=VM(n,t.type,t.pendingProps,Ar),n!==null?(t.stateNode=n,St=t,Re=Nr(n.firstChild),Ar=!1,a=!0):a=!1),a||Ba(t)),_p(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,ag(a,i)?n=null:o!==null&&ag(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=ty(e,t,sM,null,null,r),Cl._currentValue=a),Mu(e,t),xt(e,t,n,r),t.child;case 6:return e===null&&he&&((e=r=Re)&&(r=GM(r,t.pendingProps,Ar),r!==null?(t.stateNode=r,St=t,Re=null,e=!0):e=!1),e||Ba(t)),null;case 13:return pE(e,t,r);case 4:return Vu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ci(t,null,n,r):xt(e,t,n,r),t.child;case 11:return Sx(e,t,t.type,t.pendingProps,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ha(t,t.type,n.value),xt(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Si(t),a=Ct(a),n=n(a),t.flags|=1,xt(e,t,n,r),t.child;case 14:return Cx(e,t,t.type,t.pendingProps,r);case 15:return hE(e,t,t.type,t.pendingProps,r);case 19:return gE(e,t,r);case 31:return pM(e,t,r);case 22:return mE(e,t,r,t.pendingProps);case 24:return Si(t),n=Ct(Je),e===null?(a=Xv(),a===null&&(a=Se,i=Yv(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},Jv(t),ha(t,Je,a)):(e.lanes&r&&(Ip(e,t),nl(t,null,null,r),rl()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ha(t,Je,n)):(n=i.cache,ha(t,Je,n),n!==a.cache&&zp(t,[Je],r,!0))),xt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error($(156,t.tag))}function vn(e){e.flags|=4}function wm(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(UE())e.flags|=8192;else throw vi=ed,Zv}else e.flags&=-16777217}function Rx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!uO(t))if(UE())e.flags|=8192;else throw vi=ed,Zv}function Fc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qS():536870912,e.lanes|=t,Uo|=t)}function Ns(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vM(e,t,r){var n=t.pendingProps;switch(Kv(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Te(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pn(Je),Do(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ki(t)?vn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fm())),Te(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(vn(t),i!==null?(Te(t),Rx(t,i)):(Te(t),wm(t,a,null,n,r))):i?i!==e.memoizedState?(vn(t),Te(t),Rx(t,i)):(Te(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&vn(t),Te(t),wm(t,a,e,n,r)),null;case 27:if(Gu(t),r=Ea.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&vn(t);else{if(!n){if(t.stateNode===null)throw Error($(166));return Te(t),null}e=cn.current,Ki(t)?sx(t):(e=sO(a,n,r),t.stateNode=e,vn(t))}return Te(t),null;case 5:if(Gu(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&vn(t);else{if(!n){if(t.stateNode===null)throw Error($(166));return Te(t),null}if(i=cn.current,Ki(t))sx(t);else{var o=md(Ea.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[jt]=t,i[Yt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ot(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&vn(t)}}return Te(t),wm(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&vn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(e=Ea.current,Ki(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=St,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[jt]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||nO(e.nodeValue,r)),e||Ba(t,!0)}else e=md(e).createTextNode(n),e[jt]=t,t.stateNode=e}return Te(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Ki(t),r!==null){if(e===null){if(!n)throw Error($(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(557));e[jt]=t}else ji(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),e=!1}else r=fm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(nr(t),t):(nr(t),null);if(t.flags&128)throw Error($(558))}return Te(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ki(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error($(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error($(317));a[jt]=t}else ji(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),a=!1}else a=fm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(nr(t),t):(nr(t),null)}return nr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Fc(t,t.updateQueue),Te(t),null);case 4:return Do(),e===null&&wy(t.stateNode.containerInfo),Te(t),null;case 10:return Pn(t.type),Te(t),null;case 19:if(pt(Fe),n=t.memoizedState,n===null)return Te(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Ns(n,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=rd(e),i!==null){for(t.flags|=128,Ns(n,!1),e=i.updateQueue,t.updateQueue=e,Fc(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)yC(r,e),r=r.sibling;return ke(Fe,Fe.current&1|2),he&&_n(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ur()>ld&&(t.flags|=128,a=!0,Ns(n,!1),t.lanes=4194304)}else{if(!a)if(e=rd(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Fc(t,e),Ns(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!he)return Te(t),null}else 2*ur()-n.renderingStartTime>ld&&r!==536870912&&(t.flags|=128,a=!0,Ns(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ur(),e.sibling=null,r=Fe.current,ke(Fe,a?r&1|2:r&1),he&&_n(t,n.treeForkCount),e):(Te(t),null);case 22:case 23:return nr(t),Qv(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),r=t.updateQueue,r!==null&&Fc(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&pt(gi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Pn(Je),Te(t),null;case 25:return null;case 30:return null}throw Error($(156,t.tag))}function yM(e,t){switch(Kv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(Je),Do(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Gu(t),null;case 31:if(t.memoizedState!==null){if(nr(t),t.alternate===null)throw Error($(340));ji()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));ji()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(Fe),null;case 4:return Do(),null;case 10:return Pn(t.type),null;case 22:case 23:return nr(t),Qv(),e!==null&&pt(gi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pn(Je),null;case 25:return null;default:return null}}function yE(e,t){switch(Kv(t),t.tag){case 3:Pn(Je),Do();break;case 26:case 27:case 5:Gu(t);break;case 4:Do();break;case 31:t.memoizedState!==null&&nr(t);break;case 13:nr(t);break;case 19:pt(Fe);break;case 10:Pn(t.type);break;case 22:case 23:nr(t),Qv(),e!==null&&pt(gi);break;case 24:Pn(Je)}}function rc(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(l){be(t,t.return,l)}}function Ia(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,a=t;var c=r,u=l;try{u()}catch(d){be(a,c,d)}}}n=n.next}while(n!==i)}}catch(d){be(t,t.return,d)}}function bE(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{AC(t,r)}catch(n){be(e,e.return,n)}}}function xE(e,t,r){r.props=Oi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){be(e,t,n)}}function il(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){be(e,t,a)}}function sn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){be(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){be(e,t,a)}else r.current=null}function wE(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){be(e,e.return,a)}}function _m(e,t,r){try{var n=e.stateNode;LM(n,e.type,r,t),n[Yt]=t}catch(a){be(e,e.return,a)}}function _E(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function jm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_E(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=An));else if(n!==4&&(n===27&&Ha(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Yp(e,t,r),e=e.sibling;e!==null;)Yp(e,t,r),e=e.sibling}function sd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&Ha(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(sd(e,t,r),e=e.sibling;e!==null;)sd(e,t,r),e=e.sibling}function jE(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ot(t,n,r),t[jt]=e,t[Yt]=r}catch(i){be(e,e.return,i)}}var Sn=!1,Ze=!1,Sm=!1,Px=typeof WeakSet=="function"?WeakSet:Set,ht=null;function bM(e,t){if(e=e.containerInfo,rg=yd,e=uC(e),Hv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ng={focusedElem:e,selectionRange:r},yd=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var v=Oi(r.type,a);e=n.getSnapshotBeforeUpdate(v,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(w){be(r,r.return,w)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)ig(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ig(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function SE(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:bn(e,r),n&4&&rc(5,r);break;case 1:if(bn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){be(r,r.return,o)}else{var a=Oi(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){be(r,r.return,o)}}n&64&&bE(r),n&512&&il(r,r.return);break;case 3:if(bn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{AC(e,t)}catch(o){be(r,r.return,o)}}break;case 27:t===null&&n&4&&jE(r);case 26:case 5:bn(e,r),t===null&&n&4&&wE(r),n&512&&il(r,r.return);break;case 12:bn(e,r);break;case 31:bn(e,r),n&4&&OE(e,r);break;case 13:bn(e,r),n&4&&AE(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=AM.bind(null,r),KM(e,r))));break;case 22:if(n=r.memoizedState!==null||Sn,!n){t=t!==null&&t.memoizedState!==null||Ze,a=Sn;var i=Ze;Sn=n,(Ze=t)&&!i?xn(e,r,(r.subtreeFlags&8772)!==0):bn(e,r),Sn=a,Ze=i}break;case 30:break;default:bn(e,r)}}function CE(e){var t=e.alternate;t!==null&&(e.alternate=null,CE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Bv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,Wt=!1;function yn(e,t,r){for(r=r.child;r!==null;)EE(e,t,r),r=r.sibling}function EE(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Yl,r)}catch{}switch(r.tag){case 26:Ze||sn(r,t),yn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||sn(r,t);var n=ze,a=Wt;Ha(r.type)&&(ze=r.stateNode,Wt=!1),yn(e,t,r),cl(r.stateNode),ze=n,Wt=a;break;case 5:Ze||sn(r,t);case 6:if(n=ze,a=Wt,ze=null,yn(e,t,r),ze=n,Wt=a,ze!==null)if(Wt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(r.stateNode)}catch(i){be(r,t,i)}else try{ze.removeChild(r.stateNode)}catch(i){be(r,t,i)}break;case 18:ze!==null&&(Wt?(e=ze,Vx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Fo(e)):Vx(ze,r.stateNode));break;case 4:n=ze,a=Wt,ze=r.stateNode.containerInfo,Wt=!0,yn(e,t,r),ze=n,Wt=a;break;case 0:case 11:case 14:case 15:Ia(2,r,t),Ze||Ia(4,r,t),yn(e,t,r);break;case 1:Ze||(sn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&xE(r,t,n)),yn(e,t,r);break;case 21:yn(e,t,r);break;case 22:Ze=(n=Ze)||r.memoizedState!==null,yn(e,t,r),Ze=n;break;default:yn(e,t,r)}}function OE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fo(e)}catch(r){be(t,t.return,r)}}}function AE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fo(e)}catch(r){be(t,t.return,r)}}function xM(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Px),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Px),t;default:throw Error($(435,e.tag))}}function Vc(e,t){var r=xM(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=kM.bind(null,e,n);n.then(a,a)}})}function qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(Ha(l.type)){ze=l.stateNode,Wt=!1;break e}break;case 5:ze=l.stateNode,Wt=!1;break e;case 3:case 4:ze=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(ze===null)throw Error($(160));EE(i,o,a),ze=null,Wt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)kE(t,e),t=t.sibling}var Hr=null;function kE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Ht(e),n&4&&(Ia(3,e,e.return),rc(3,e),Ia(5,e,e.return));break;case 1:qt(t,e),Ht(e),n&512&&(Ze||r===null||sn(r,r.return)),n&64&&Sn&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=Hr;if(qt(t,e),Ht(e),n&512&&(Ze||r===null||sn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Jl]||i[jt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ot(i,n,r),i[jt]=e,mt(i),n=i;break e;case"link":var o=Qx("link","href",a).get(n+(r.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(l,1);break t}}i=a.createElement(n),Ot(i,n,r),a.head.appendChild(i);break;case"meta":if(o=Qx("meta","content",a).get(n+(r.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(l,1);break t}}i=a.createElement(n),Ot(i,n,r),a.head.appendChild(i);break;default:throw Error($(468,n))}i[jt]=e,mt(i),n=i}e.stateNode=n}else e1(a,e.type,e.stateNode);else e.stateNode=Jx(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?e1(a,e.type,e.stateNode):Jx(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&_m(e,e.memoizedProps,r.memoizedProps)}break;case 27:qt(t,e),Ht(e),n&512&&(Ze||r===null||sn(r,r.return)),r!==null&&n&4&&_m(e,e.memoizedProps,r.memoizedProps);break;case 5:if(qt(t,e),Ht(e),n&512&&(Ze||r===null||sn(r,r.return)),e.flags&32){a=e.stateNode;try{Bo(a,"")}catch(v){be(e,e.return,v)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,_m(e,a,r!==null?r.memoizedProps:a)),n&1024&&(Sm=!0);break;case 6:if(qt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error($(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(v){be(e,e.return,v)}}break;case 3:if(Bu=null,a=Hr,Hr=pd(t.containerInfo),qt(t,e),Hr=a,Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fo(t.containerInfo)}catch(v){be(e,e.return,v)}Sm&&(Sm=!1,TE(e));break;case 4:n=Hr,Hr=pd(e.stateNode.containerInfo),qt(t,e),Ht(e),Hr=n;break;case 12:qt(t,e),Ht(e);break;case 31:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vc(e,n)));break;case 13:qt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Mf=ur()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vc(e,n)));break;case 22:a=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=Sn,d=Ze;if(Sn=u||a,Ze=d||c,qt(t,e),Ze=d,Sn=u,Ht(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||c||Sn||Ze||ri(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(i=c.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){be(c,c.return,v)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(v){be(c,c.return,v)}}}else if(t.tag===18){if(r===null){c=t;try{var m=c.stateNode;a?Gx(m,!0):Gx(c.stateNode,!1)}catch(v){be(c,c.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Vc(e,r))));break;case 19:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vc(e,n)));break;case 30:break;case 21:break;default:qt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(_E(n)){r=n;break}n=n.return}if(r==null)throw Error($(160));switch(r.tag){case 27:var a=r.stateNode,i=jm(e);sd(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(Bo(o,""),r.flags&=-33);var l=jm(e);sd(e,l,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=jm(e);Yp(e,u,c);break;default:throw Error($(161))}}catch(d){be(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;TE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)SE(e,t.alternate,t),t=t.sibling}function ri(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ia(4,t,t.return),ri(t);break;case 1:sn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&xE(t,t.return,r),ri(t);break;case 27:cl(t.stateNode);case 26:case 5:sn(t,t.return),ri(t);break;case 22:t.memoizedState===null&&ri(t);break;case 30:ri(t);break;default:ri(t)}e=e.sibling}}function xn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:xn(a,i,r),rc(4,i);break;case 1:if(xn(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){be(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var l=n.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)OC(c[a],l)}catch(u){be(n,n.return,u)}}r&&o&64&&bE(i),il(i,i.return);break;case 27:jE(i);case 26:case 5:xn(a,i,r),r&&n===null&&o&4&&wE(i),il(i,i.return);break;case 12:xn(a,i,r);break;case 31:xn(a,i,r),r&&o&4&&OE(a,i);break;case 13:xn(a,i,r),r&&o&4&&AE(a,i);break;case 22:i.memoizedState===null&&xn(a,i,r),il(i,i.return);break;case 30:break;default:xn(a,i,r)}t=t.sibling}}function py(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ec(r))}function gy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ec(e))}function $r(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)NE(e,t,r,n),t=t.sibling}function NE(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:$r(e,t,r,n),a&2048&&rc(9,t);break;case 1:$r(e,t,r,n);break;case 3:$r(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ec(e)));break;case 12:if(a&2048){$r(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){be(t,t.return,c)}}else $r(e,t,r,n);break;case 31:$r(e,t,r,n);break;case 13:$r(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?$r(e,t,r,n):ol(e,t):i._visibility&2?$r(e,t,r,n):(i._visibility|=2,io(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&py(o,t);break;case 24:$r(e,t,r,n),a&2048&&gy(t.alternate,t);break;default:$r(e,t,r,n)}}function io(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=r,c=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:io(i,o,l,c,a),rc(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?io(i,o,l,c,a):ol(i,o):(d._visibility|=2,io(i,o,l,c,a)),a&&u&2048&&py(o.alternate,o);break;case 24:io(i,o,l,c,a),a&&u&2048&&gy(o.alternate,o);break;default:io(i,o,l,c,a)}t=t.sibling}}function ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:ol(r,n),a&2048&&py(n.alternate,n);break;case 24:ol(r,n),a&2048&&gy(n.alternate,n);break;default:ol(r,n)}t=t.sibling}}var Vs=8192;function Yi(e,t,r){if(e.subtreeFlags&Vs)for(e=e.child;e!==null;)RE(e,t,r),e=e.sibling}function RE(e,t,r){switch(e.tag){case 26:Yi(e,t,r),e.flags&Vs&&e.memoizedState!==null&&oD(r,Hr,e.memoizedState,e.memoizedProps);break;case 5:Yi(e,t,r);break;case 3:case 4:var n=Hr;Hr=pd(e.stateNode.containerInfo),Yi(e,t,r),Hr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Vs,Vs=16777216,Yi(e,t,r),Vs=n):Yi(e,t,r));break;default:Yi(e,t,r)}}function PE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,DE(n,e)}PE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ME(e),e=e.sibling}function ME(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Du(e)):Rs(e);break;default:Rs(e)}}function Du(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,DE(n,e)}PE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ia(8,t,t.return),Du(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Du(t));break;default:Du(t)}e=e.sibling}}function DE(e,t){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:Ia(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ec(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ht=n;else e:for(r=e;ht!==null;){n=ht;var a=n.sibling,i=n.return;if(CE(n),n===r){ht=null;break e}if(a!==null){a.return=i,ht=a;break e}ht=i}}}var wM={getCacheForType:function(e){var t=Ct(Je),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Ct(Je).controller.signal}},_M=typeof WeakMap=="function"?WeakMap:Map,pe=0,Se=null,de=null,fe=0,ve=0,tr=null,wa=!1,cs=!1,vy=!1,Un=0,He=0,$a=0,yi=0,yy=0,lr=0,Uo=0,sl=null,Ft=null,Xp=!1,Mf=0,zE=0,ld=1/0,cd=null,Ta=null,at=0,Na=null,qo=null,Mn=0,Zp=0,Jp=null,BE=null,ll=0,Qp=null;function hr(){return pe&2&&fe!==0?fe&-fe:te.T!==null?xy():VS()}function IE(){if(lr===0)if(!(fe&536870912)||he){var e=Ic;Ic<<=1,!(Ic&3932160)&&(Ic=262144),lr=e}else lr=536870912;return e=gr.current,e!==null&&(e.flags|=32),lr}function Kt(e,t,r){(e===Se&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Ho(e,0),_a(e,fe,lr,!1)),Zl(e,r),(!(pe&2)||e!==Se)&&(e===Se&&(!(pe&2)&&(yi|=r),He===4&&_a(e,fe,lr,!1)),pn(e))}function $E(e,t,r){if(pe&6)throw Error($(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Xl(e,t),a=n?CM(e,t):Cm(e,t,!0),i=n;do{if(a===0){cs&&!n&&_a(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!jM(r)){a=Cm(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;a=sl;var c=l.current.memoizedState.isDehydrated;if(c&&(Ho(l,o).flags|=256),o=Cm(l,o,!1),o!==2){if(vy&&!c){l.errorRecoveryDisabledLanes|=i,yi|=i,a=4;break e}i=Ft,Ft=a,i!==null&&(Ft===null?Ft=i:Ft.push.apply(Ft,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){Ho(e,0),_a(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error($(345));case 4:if((t&4194048)!==t)break;case 6:_a(n,t,lr,!wa);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error($(329))}if((t&62914560)===t&&(a=Mf+300-ur(),10<a)){if(_a(n,t,lr,!wa),jf(n,0,!0)!==0)break e;Mn=t,n.timeoutHandle=iO(Mx.bind(null,n,r,Ft,cd,Xp,t,lr,yi,Uo,wa,i,"Throttled",-0,0),a);break e}Mx(n,r,Ft,cd,Xp,t,lr,yi,Uo,wa,i,null,-0,0)}}break}while(!0);pn(e)}function Mx(e,t,r,n,a,i,o,l,c,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},RE(t,i,f);var v=(i&62914560)===i?Mf-ur():(i&4194048)===i?zE-ur():0;if(v=sD(f,v),v!==null){Mn=i,e.cancelPendingCommit=v(zx.bind(null,e,t,i,r,n,a,o,l,c,d,f,null,h,m)),_a(e,i,o,!u);return}}zx(e,t,i,r,n,a,o,l,c)}function jM(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _a(e,t,r,n){t&=~yy,t&=~yi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&HS(e,r,t)}function Df(){return pe&6?!0:(nc(0),!1)}function by(){if(de!==null){if(ve===0)var e=de.return;else e=de,kn=Ui=null,ay(e),ko=null,xl=0,e=de;for(;e!==null;)yE(e.alternate,e),e=e.return;de=null}}function Ho(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,HM(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Mn=0,by(),Se=e,de=r=Rn(e.current,null),fe=t,ve=0,tr=null,wa=!1,cs=Xl(e,t),vy=!1,Uo=lr=yy=yi=$a=He=0,Ft=sl=null,Xp=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-fr(n),i=1<<a;t|=e[a],n&=~i}return Un=t,Of(),r}function LE(e,t){se=null,te.H=_l,t===ls||t===kf?(t=fx(),ve=3):t===Zv?(t=fx(),ve=4):ve=t===hy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tr=t,de===null&&(He=1,id(e,Or(t,e.current)))}function UE(){var e=gr.current;return e===null?!0:(fe&4194048)===fe?Tr===null:(fe&62914560)===fe||fe&536870912?e===Tr:!1}function qE(){var e=te.H;return te.H=_l,e===null?_l:e}function HE(){var e=te.A;return te.A=wM,e}function ud(){He=4,wa||(fe&4194048)!==fe&&gr.current!==null||(cs=!0),!($a&134217727)&&!(yi&134217727)||Se===null||_a(Se,fe,lr,!1)}function Cm(e,t,r){var n=pe;pe|=2;var a=qE(),i=HE();(Se!==e||fe!==t)&&(cd=null,Ho(e,t)),t=!1;var o=He;e:do try{if(ve!==0&&de!==null){var l=de,c=tr;switch(ve){case 8:by(),o=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(t=!0);var u=ve;if(ve=0,tr=null,_o(e,l,c,u),r&&cs){o=0;break e}break;default:u=ve,ve=0,tr=null,_o(e,l,c,u)}}SM(),o=He;break}catch(d){LE(e,d)}while(!0);return t&&e.shellSuspendCounter++,kn=Ui=null,pe=n,te.H=a,te.A=i,de===null&&(Se=null,fe=0,Of()),o}function SM(){for(;de!==null;)WE(de)}function CM(e,t){var r=pe;pe|=2;var n=qE(),a=HE();Se!==e||fe!==t?(cd=null,ld=ur()+500,Ho(e,t)):cs=Xl(e,t);e:do try{if(ve!==0&&de!==null){t=de;var i=tr;t:switch(ve){case 1:ve=0,tr=null,_o(e,t,i,1);break;case 2:case 9:if(dx(i)){ve=0,tr=null,Dx(t);break}t=function(){ve!==2&&ve!==9||Se!==e||(ve=7),pn(e)},i.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:dx(i)?(ve=0,tr=null,Dx(t)):(ve=0,tr=null,_o(e,t,i,7));break;case 5:var o=null;switch(de.tag){case 26:o=de.memoizedState;case 5:case 27:var l=de;if(o?uO(o):l.stateNode.complete){ve=0,tr=null;var c=l.sibling;if(c!==null)de=c;else{var u=l.return;u!==null?(de=u,zf(u)):de=null}break t}}ve=0,tr=null,_o(e,t,i,5);break;case 6:ve=0,tr=null,_o(e,t,i,6);break;case 8:by(),He=6;break e;default:throw Error($(462))}}EM();break}catch(d){LE(e,d)}while(!0);return kn=Ui=null,te.H=n,te.A=a,pe=r,de!==null?0:(Se=null,fe=0,Of(),He)}function EM(){for(;de!==null&&!YP();)WE(de)}function WE(e){var t=vE(e.alternate,e,Un);e.memoizedProps=e.pendingProps,t===null?zf(e):de=t}function Dx(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ax(r,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=Ax(r,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:ay(t);default:yE(r,t),t=de=yC(t,Un),t=vE(r,t,Un)}e.memoizedProps=e.pendingProps,t===null?zf(e):de=t}function _o(e,t,r,n){kn=Ui=null,ay(t),ko=null,xl=0;var a=t.return;try{if(mM(e,a,t,r,fe)){He=1,id(e,Or(r,e.current)),de=null;return}}catch(i){if(a!==null)throw de=a,i;He=1,id(e,Or(r,e.current)),de=null;return}t.flags&32768?(he||n===1?e=!0:cs||fe&536870912?e=!1:(wa=e=!0,(n===2||n===9||n===3||n===6)&&(n=gr.current,n!==null&&n.tag===13&&(n.flags|=16384))),FE(t,e)):zf(t)}function zf(e){var t=e;do{if(t.flags&32768){FE(t,wa);return}e=t.return;var r=vM(t.alternate,t,Un);if(r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);He===0&&(He=5)}function FE(e,t){do{var r=yM(e.alternate,e);if(r!==null){r.flags&=32767,de=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=r}while(e!==null);He=6,de=null}function zx(e,t,r,n,a,i,o,l,c){e.cancelPendingCommit=null;do Bf();while(at!==0);if(pe&6)throw Error($(327));if(t!==null){if(t===e.current)throw Error($(177));if(i=t.lanes|t.childLanes,i|=Wv,i5(e,r,i,o,l,c),e===Se&&(de=Se=null,fe=0),qo=t,Na=e,Mn=r,Zp=i,Jp=a,BE=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,TM(Ku,function(){return XE(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=te.T,te.T=null,a=ge.p,ge.p=2,o=pe,pe|=4;try{bM(e,t,r)}finally{pe=o,ge.p=a,te.T=n}}at=1,VE(),GE(),KE()}}function VE(){if(at===1){at=0;var e=Na,t=qo,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=te.T,te.T=null;var n=ge.p;ge.p=2;var a=pe;pe|=4;try{kE(t,e);var i=ng,o=uC(e.containerInfo),l=i.focusedElem,c=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&cC(l.ownerDocument.documentElement,l)){if(c!==null&&Hv(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=l.textContent.length,w=Math.min(c.start,v),y=c.end===void 0?w:Math.min(c.end,v);!m.extend&&w>y&&(o=y,y=w,w=o);var g=ax(l,w),p=ax(l,y);if(g&&p&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var b=f.createRange();b.setStart(g.node,g.offset),m.removeAllRanges(),w>y?(m.addRange(b),m.extend(p.node,p.offset)):(b.setEnd(p.node,p.offset),m.addRange(b))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var _=f[l];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}yd=!!rg,ng=rg=null}finally{pe=a,ge.p=n,te.T=r}}e.current=t,at=2}}function GE(){if(at===2){at=0;var e=Na,t=qo,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=te.T,te.T=null;var n=ge.p;ge.p=2;var a=pe;pe|=4;try{SE(e,t.alternate,t)}finally{pe=a,ge.p=n,te.T=r}}at=3}}function KE(){if(at===4||at===3){at=0,XP();var e=Na,t=qo,r=Mn,n=BE;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,qo=Na=null,YE(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ta=null),zv(r),t=t.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Yl,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=te.T,a=ge.p,ge.p=2,te.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var l=n[o];i(l.value,{componentStack:l.stack})}}finally{te.T=t,ge.p=a}}Mn&3&&Bf(),pn(e),a=e.pendingLanes,r&261930&&a&42?e===Qp?ll++:(ll=0,Qp=e):ll=0,nc(0)}}function YE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ec(t)))}function Bf(){return VE(),GE(),KE(),XE()}function XE(){if(at!==5)return!1;var e=Na,t=Zp;Zp=0;var r=zv(Mn),n=te.T,a=ge.p;try{ge.p=32>r?32:r,te.T=null,r=Jp,Jp=null;var i=Na,o=Mn;if(at=0,qo=Na=null,Mn=0,pe&6)throw Error($(331));var l=pe;if(pe|=4,ME(i.current),NE(i,i.current,o,r),pe=l,nc(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Yl,i)}catch{}return!0}finally{ge.p=a,te.T=n,YE(e,t)}}function Bx(e,t,r){t=Or(r,t),t=Vp(e.stateNode,t,2),e=ka(e,t,2),e!==null&&(Zl(e,2),pn(e))}function be(e,t,r){if(e.tag===3)Bx(e,e,r);else for(;t!==null;){if(t.tag===3){Bx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ta===null||!Ta.has(n))){e=Or(r,e),r=dE(2),n=ka(t,r,2),n!==null&&(fE(r,n,t,e),Zl(n,2),pn(n));break}}t=t.return}}function Em(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _M;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(vy=!0,a.add(r),e=OM.bind(null,e,t,r),t.then(e,e))}function OM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Se===e&&(fe&r)===r&&(He===4||He===3&&(fe&62914560)===fe&&300>ur()-Mf?!(pe&2)&&Ho(e,0):yy|=r,Uo===fe&&(Uo=0)),pn(e)}function ZE(e,t){t===0&&(t=qS()),e=Li(e,t),e!==null&&(Zl(e,t),pn(e))}function AM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ZE(e,r)}function kM(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error($(314))}n!==null&&n.delete(t),ZE(e,r)}function TM(e,t){return Mv(e,t)}var dd=null,oo=null,eg=!1,fd=!1,Om=!1,ja=0;function pn(e){e!==oo&&e.next===null&&(oo===null?dd=oo=e:oo=oo.next=e),fd=!0,eg||(eg=!0,RM())}function nc(e,t){if(!Om&&fd){Om=!0;do for(var r=!1,n=dd;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,l=n.pingedLanes;i=(1<<31-fr(42|e)+1)-1,i&=a&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Ix(n,i))}else i=fe,i=jf(n,n===Se?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Xl(n,i)||(r=!0,Ix(n,i));n=n.next}while(r);Om=!1}}function NM(){JE()}function JE(){fd=eg=!1;var e=0;ja!==0&&qM()&&(e=ja);for(var t=ur(),r=null,n=dd;n!==null;){var a=n.next,i=QE(n,t);i===0?(n.next=null,r===null?dd=a:r.next=a,a===null&&(oo=r)):(r=n,(e!==0||i&3)&&(fd=!0)),n=a}at!==0&&at!==5||nc(e),ja!==0&&(ja=0)}function QE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-fr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=a5(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}if(t=Se,r=fe,r=jf(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&tm(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Xl(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&tm(n),zv(r)){case 2:case 8:r=LS;break;case 32:r=Ku;break;case 268435456:r=US;break;default:r=Ku}return n=eO.bind(null,e),r=Mv(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&tm(n),e.callbackPriority=2,e.callbackNode=null,2}function eO(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Bf()&&e.callbackNode!==r)return null;var n=fe;return n=jf(e,e===Se?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:($E(e,n,t),QE(e,ur()),e.callbackNode!=null&&e.callbackNode===r?eO.bind(null,e):null)}function Ix(e,t){if(Bf())return null;$E(e,t,!0)}function RM(){WM(function(){pe&6?Mv($S,NM):JE()})}function xy(){if(ja===0){var e=Io;e===0&&(e=Bc,Bc<<=1,!(Bc&261888)&&(Bc=256)),ja=e}return ja}function $x(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Eu(""+e)}function Lx(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function PM(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=$x((a[Yt]||null).action),o=n.submitter;o&&(t=(t=o[Yt]||null)?$x(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new Sf("action","action",null,n,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ja!==0){var c=o?Lx(a,o):new FormData(a);Wp(r,{pending:!0,data:c,method:a.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=o?Lx(a,o):new FormData(a),Wp(r,{pending:!0,data:c,method:a.method,action:i},i,c))},currentTarget:a}]})}}for(var Am=0;Am<Rp.length;Am++){var km=Rp[Am],MM=km.toLowerCase(),DM=km[0].toUpperCase()+km.slice(1);Jr(MM,"on"+DM)}Jr(fC,"onAnimationEnd");Jr(hC,"onAnimationIteration");Jr(mC,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(Z5,"onTransitionRun");Jr(J5,"onTransitionStart");Jr(Q5,"onTransitionCancel");Jr(pC,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function tO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){Xu(d)}a.currentTarget=null,i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){Xu(d)}a.currentTarget=null,i=c}}}}function ue(e,t){var r=t[Sp];r===void 0&&(r=t[Sp]=new Set);var n=e+"__bubble";r.has(n)||(rO(t,e,2,!1),r.add(n))}function Tm(e,t,r){var n=0;t&&(n|=4),rO(r,e,n,t)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function wy(e){if(!e[Gc]){e[Gc]=!0,GS.forEach(function(r){r!=="selectionchange"&&(zM.has(r)||Tm(r,!1,e),Tm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gc]||(t[Gc]=!0,Tm("selectionchange",!1,t))}}function rO(e,t,r,n){switch(pO(t)){case 2:var a=uD;break;case 8:a=dD;break;default:a=Cy}r=a.bind(null,t,r,e),a=void 0,!kp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Nm(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;l!==null;){if(o=ho(l),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){n=i=o;continue e}l=l.parentNode}}n=n.return}tC(function(){var u=i,d=$v(r),f=[];e:{var h=gC.get(e);if(h!==void 0){var m=Sf,v=e;switch(e){case"keypress":if(Au(r)===0)break e;case"keydown":case"keyup":m=k5;break;case"focusin":v="focus",m=om;break;case"focusout":v="blur",m=om;break;case"beforeblur":case"afterblur":m=om;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=v5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=R5;break;case fC:case hC:case mC:m=x5;break;case pC:m=M5;break;case"scroll":case"scrollend":m=p5;break;case"wheel":m=z5;break;case"copy":case"cut":case"paste":m=_5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xb;break;case"toggle":case"beforetoggle":m=I5}var w=(t&4)!==0,y=!w&&(e==="scroll"||e==="scrollend"),g=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,b;p!==null;){var _=p;if(b=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||b===null||g===null||(_=pl(p,g),_!=null&&w.push(Sl(p,_,b))),y)break;p=p.return}0<w.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Ap&&(v=r.relatedTarget||r.fromElement)&&(ho(v)||v[is]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?ho(v):null,v!==null&&(y=Kl(v),w=v.tag,v!==y||w!==5&&w!==27&&w!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=Kb,_="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Xb,_="onPointerLeave",g="onPointerEnter",p="pointer"),y=m==null?h:Ws(m),b=v==null?h:Ws(v),h=new w(_,p+"leave",m,r,d),h.target=y,h.relatedTarget=b,_=null,ho(d)===u&&(w=new w(g,p+"enter",v,r,d),w.target=b,w.relatedTarget=y,_=w),y=_,m&&v)t:{for(w=BM,g=m,p=v,b=0,_=g;_;_=w(_))b++;_=0;for(var j=p;j;j=w(j))_++;for(;0<b-_;)g=w(g),b--;for(;0<_-b;)p=w(p),_--;for(;b--;){if(g===p||p!==null&&g===p.alternate){w=g;break t}g=w(g),p=w(p)}w=null}else w=null;m!==null&&Ux(f,h,m,w,!1),v!==null&&y!==null&&Ux(f,y,v,w,!0)}}e:{if(h=u?Ws(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=ex;else if(Qb(h))if(sC)S=K5;else{S=V5;var C=F5}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Iv(u.elementType)&&(S=ex):S=G5;if(S&&(S=S(e,u))){oC(f,S,r,d);break e}C&&C(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Op(h,"number",h.value)}switch(C=u?Ws(u):window,e){case"focusin":(Qb(C)||C.contentEditable==="true")&&(go=C,Tp=u,Qs=null);break;case"focusout":Qs=Tp=go=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,ix(f,r,d);break;case"selectionchange":if(X5)break;case"keydown":case"keyup":ix(f,r,d)}var E;if(qv)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else po?aC(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(nC&&r.locale!=="ko"&&(po||A!=="onCompositionStart"?A==="onCompositionEnd"&&po&&(E=rC()):(xa=d,Lv="value"in xa?xa.value:xa.textContent,po=!0)),C=hd(u,A),0<C.length&&(A=new Yb(A,e,null,r,d),f.push({event:A,listeners:C}),E?A.data=E:(E=iC(r),E!==null&&(A.data=E)))),(E=L5?U5(e,r):q5(e,r))&&(A=hd(u,"onBeforeInput"),0<A.length&&(C=new Yb("onBeforeInput","beforeinput",null,r,d),f.push({event:C,listeners:A}),C.data=E)),PM(f,e,u,r,d)}tO(f,t)})}function Sl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hd(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=pl(e,r),a!=null&&n.unshift(Sl(e,a,i)),a=pl(e,t),a!=null&&n.push(Sl(e,a,i))),e.tag===3)return n;e=e.return}return[]}function BM(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ux(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===n)break;l!==5&&l!==26&&l!==27||u===null||(c=u,a?(u=pl(r,i),u!=null&&o.unshift(Sl(r,u,c))):a||(u=pl(r,i),u!=null&&o.push(Sl(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var IM=/\r\n?/g,$M=/\u0000|\uFFFD/g;function qx(e){return(typeof e=="string"?e:""+e).replace(IM,`
`).replace($M,"")}function nO(e,t){return t=qx(t),qx(e)===t}function we(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Bo(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Bo(e,""+n);break;case"className":Lc(e,"class",n);break;case"tabIndex":Lc(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Lc(e,r,n);break;case"style":eC(e,n,i);break;case"data":if(t!=="object"){Lc(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Eu(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&we(e,t,"name",a.name,a,null),we(e,t,"formEncType",a.formEncType,a,null),we(e,t,"formMethod",a.formMethod,a,null),we(e,t,"formTarget",a.formTarget,a,null)):(we(e,t,"encType",a.encType,a,null),we(e,t,"method",a.method,a,null),we(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Eu(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=An);break;case"onScroll":n!=null&&ue("scroll",e);break;case"onScrollEnd":n!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error($(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error($(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=Eu(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Cu(e,"popover",n);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Cu(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=h5.get(r)||r,Cu(e,r,n))}}function tg(e,t,r,n,a,i){switch(r){case"style":eC(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error($(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error($(60));e.innerHTML=r}}break;case"children":typeof n=="string"?Bo(e,n):(typeof n=="number"||typeof n=="bigint")&&Bo(e,""+n);break;case"onScroll":n!=null&&ue("scroll",e);break;case"onScrollEnd":n!=null&&ue("scrollend",e);break;case"onClick":n!=null&&(e.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!KS.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[Yt]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):Cu(e,r,n)}}}function Ot(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:we(e,t,i,o,r,null)}}a&&we(e,t,"srcSet",r.srcSet,r,null),n&&we(e,t,"src",r.src,r,null);return;case"input":ue("invalid",e);var l=i=o=a=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error($(137,t));break;default:we(e,t,n,d,r,null)}}ZS(e,i,l,c,u,o,a,!1);return;case"select":ue("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(l=r[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":n=l;default:we(e,t,a,l,r,null)}t=i,r=o,e.multiple=!!n,t!=null?Eo(e,!!n,t,!1):r!=null&&Eo(e,!!n,r,!0);return;case"textarea":ue("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(l=r[o],l!=null))switch(o){case"value":n=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error($(91));break;default:we(e,t,o,l,r,null)}QS(e,n,a,i);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:we(e,t,c,n,r,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(n=0;n<jl.length;n++)ue(jl[n],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:we(e,t,u,n,r,null)}return;default:if(Iv(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&tg(e,t,d,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(n=r[l],n!=null&&we(e,t,l,n,r,null))}function LM(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,u=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(m)||we(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,t));break;default:m!==f&&we(e,t,h,m,n,f)}}Ep(e,o,l,c,u,d,i,a);return;case"select":m=o=l=h=null;for(i in r)if(c=r[i],r.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":m=c;default:n.hasOwnProperty(i)||we(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(i!=null||c!=null))switch(a){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&we(e,t,a,i,n,c)}t=l,r=o,n=m,h!=null?Eo(e,!!r,h,!1):!!n!=!!r&&(t!=null?Eo(e,!!r,t,!0):Eo(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(l in r)if(a=r[l],r.hasOwnProperty(l)&&a!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:we(e,t,l,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error($(91));break;default:a!==i&&we(e,t,o,a,n,i)}JS(e,h,m);return;case"option":for(var v in r)if(h=r[v],r.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:we(e,t,v,null,n,h)}for(c in n)if(h=n[c],m=r[c],n.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:we(e,t,c,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in r)h=r[w],r.hasOwnProperty(w)&&h!=null&&!n.hasOwnProperty(w)&&we(e,t,w,null,n,h);for(u in n)if(h=n[u],m=r[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error($(137,t));break;default:we(e,t,u,h,n,m)}return;default:if(Iv(t)){for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!==void 0&&!n.hasOwnProperty(y)&&tg(e,t,y,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||tg(e,t,d,h,n,m);return}}for(var g in r)h=r[g],r.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g)&&we(e,t,g,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||we(e,t,f,h,n,m)}function Hx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UM(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,l=a.duration;if(i&&l&&Hx(o)){for(o=0,l=a.responseEnd,n+=1;n<r.length;n++){var c=r[n],u=c.startTime;if(u>l)break;var d=c.transferSize,f=c.initiatorType;d&&Hx(f)&&(c=c.responseEnd,o+=d*(c<l?1:(l-u)/(c-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rg=null,ng=null;function md(e){return e.nodeType===9?e:e.ownerDocument}function Wx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aO(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ag(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rm=null;function qM(){var e=window.event;return e&&e.type==="popstate"?e===Rm?!1:(Rm=e,!0):(Rm=null,!1)}var iO=typeof setTimeout=="function"?setTimeout:void 0,HM=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,WM=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(e){return Fx.resolve(null).then(e).catch(FM)}:iO;function FM(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function Vx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),Fo(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")cl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,cl(r);for(var i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Jl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&cl(e.ownerDocument.body);r=a}while(r);Fo(t)}function Gx(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function ig(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ig(r),Bv(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function VM(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Jl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Nr(e.nextSibling),e===null)break}return null}function GM(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nr(e.nextSibling),e===null))return null;return e}function oO(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nr(e.nextSibling),e===null))return null;return e}function og(e){return e.data==="$?"||e.data==="$~"}function sg(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function KM(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var lg=null;function Kx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Nr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Yx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function sO(e,t,r){switch(t=md(r),e){case"html":if(e=t.documentElement,!e)throw Error($(452));return e;case"head":if(e=t.head,!e)throw Error($(453));return e;case"body":if(e=t.body,!e)throw Error($(454));return e;default:throw Error($(451))}}function cl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Bv(e)}var Rr=new Map,Xx=new Set;function pd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jn=ge.d;ge.d={f:YM,r:XM,D:ZM,C:JM,L:QM,m:eD,X:rD,S:tD,M:nD};function YM(){var e=Jn.f(),t=Df();return e||t}function XM(e){var t=os(e);t!==null&&t.tag===5&&t.type==="form"?eE(t):Jn.r(e)}var us=typeof document>"u"?null:document;function lO(e,t,r){var n=us;if(n&&typeof t=="string"&&t){var a=Er(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Xx.has(a)||(Xx.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Ot(t,"link",e),mt(t),n.head.appendChild(t)))}}function ZM(e){Jn.D(e),lO("dns-prefetch",e,null)}function JM(e,t){Jn.C(e,t),lO("preconnect",e,t)}function QM(e,t,r){Jn.L(e,t,r);var n=us;if(n&&e&&t){var a='link[rel="preload"][as="'+Er(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Er(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Er(r.imageSizes)+'"]')):a+='[href="'+Er(e)+'"]';var i=a;switch(t){case"style":i=Wo(e);break;case"script":i=ds(e)}Rr.has(i)||(e=Me({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Rr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(ac(i))||t==="script"&&n.querySelector(ic(i))||(t=n.createElement("link"),Ot(t,"link",e),mt(t),n.head.appendChild(t)))}}function eD(e,t){Jn.m(e,t);var r=us;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Er(n)+'"][href="'+Er(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ds(e)}if(!Rr.has(i)&&(e=Me({rel:"modulepreload",href:e},t),Rr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ic(i)))return}n=r.createElement("link"),Ot(n,"link",e),mt(n),r.head.appendChild(n)}}}function tD(e,t,r){Jn.S(e,t,r);var n=us;if(n&&e){var a=Co(n).hoistableStyles,i=Wo(e);t=t||"default";var o=a.get(i);if(!o){var l={loading:0,preload:null};if(o=n.querySelector(ac(i)))l.loading=5;else{e=Me({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Rr.get(i))&&_y(e,r);var c=o=n.createElement("link");mt(c),Ot(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,zu(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:l},a.set(i,o)}}}function rD(e,t){Jn.X(e,t);var r=us;if(r&&e){var n=Co(r).hoistableScripts,a=ds(e),i=n.get(a);i||(i=r.querySelector(ic(a)),i||(e=Me({src:e,async:!0},t),(t=Rr.get(a))&&jy(e,t),i=r.createElement("script"),mt(i),Ot(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function nD(e,t){Jn.M(e,t);var r=us;if(r&&e){var n=Co(r).hoistableScripts,a=ds(e),i=n.get(a);i||(i=r.querySelector(ic(a)),i||(e=Me({src:e,async:!0,type:"module"},t),(t=Rr.get(a))&&jy(e,t),i=r.createElement("script"),mt(i),Ot(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Zx(e,t,r,n){var a=(a=Ea.current)?pd(a):null;if(!a)throw Error($(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Wo(r.href),r=Co(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Wo(r.href);var i=Co(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(ac(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Rr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rr.set(e,r),i||aD(a,e,r,o.state))),t&&n===null)throw Error($(528,""));return o}if(t&&n!==null)throw Error($(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ds(r),r=Co(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,e))}}function Wo(e){return'href="'+Er(e)+'"'}function ac(e){return'link[rel="stylesheet"]['+e+"]"}function cO(e){return Me({},e,{"data-precedence":e.precedence,precedence:null})}function aD(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ot(t,"link",r),mt(t),e.head.appendChild(t))}function ds(e){return'[src="'+Er(e)+'"]'}function ic(e){return"script[async]"+e}function Jx(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Er(r.href)+'"]');if(n)return t.instance=n,mt(n),n;var a=Me({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),mt(n),Ot(n,"style",a),zu(n,r.precedence,e),t.instance=n;case"stylesheet":a=Wo(r.href);var i=e.querySelector(ac(a));if(i)return t.state.loading|=4,t.instance=i,mt(i),i;n=cO(r),(a=Rr.get(a))&&_y(n,a),i=(e.ownerDocument||e).createElement("link"),mt(i);var o=i;return o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),Ot(i,"link",n),t.state.loading|=4,zu(i,r.precedence,e),t.instance=i;case"script":return i=ds(r.src),(a=e.querySelector(ic(i)))?(t.instance=a,mt(a),a):(n=r,(a=Rr.get(i))&&(n=Me({},r),jy(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),mt(a),Ot(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error($(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,zu(n,r.precedence,e));return t.instance}function zu(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var l=n[o];if(l.dataset.precedence===t)i=l;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function _y(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bu=null;function Qx(e,t,r){if(Bu===null){var n=new Map,a=Bu=new Map;a.set(r,n)}else a=Bu,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Jl]||i[jt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=n.get(o);l?l.push(i):n.set(o,[i])}}return n}function e1(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function iD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function uO(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function oD(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=Wo(n.href),i=t.querySelector(ac(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=gd.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,mt(i);return}i=t.ownerDocument||t,n=cO(n),(a=Rr.get(a))&&_y(n,a),i=i.createElement("link"),mt(i);var o=i;o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),Ot(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=gd.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Pm=0;function sD(e,t){return e.stylesheets&&e.count===0&&Iu(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Pm===0&&(Pm=62500*UM());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Pm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function gd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vd=null;function Iu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vd=new Map,t.forEach(lD,e),vd=null,gd.call(e))}function lD(e,t){if(!(t.state.loading&4)){var r=vd.get(e);if(r)var n=r.get(null);else{r=new Map,vd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=gd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Cl={$$typeof:On,Provider:null,Consumer:null,_currentValue:mi,_currentValue2:mi,_threadCount:0};function cD(e,t,r,n,a,i,o,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rm(0),this.hiddenUpdates=rm(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function dO(e,t,r,n,a,i,o,l,c,u,d,f){return e=new cD(e,t,r,o,c,u,d,f,l),t=1,i===!0&&(t|=24),i=ar(3,null,null,t),e.current=i,i.stateNode=e,t=Yv(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},Jv(i),e}function fO(e){return e?(e=bo,e):bo}function hO(e,t,r,n,a,i){a=fO(a),n.context===null?n.context=a:n.pendingContext=a,n=Aa(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=ka(e,n,t),r!==null&&(Kt(r,e,t),tl(r,e,t))}function t1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Sy(e,t){t1(e,t),(e=e.alternate)&&t1(e,t)}function mO(e){if(e.tag===13||e.tag===31){var t=Li(e,67108864);t!==null&&Kt(t,e,67108864),Sy(e,67108864)}}function r1(e){if(e.tag===13||e.tag===31){var t=hr();t=Dv(t);var r=Li(e,t);r!==null&&Kt(r,e,t),Sy(e,t)}}var yd=!0;function uD(e,t,r,n){var a=te.T;te.T=null;var i=ge.p;try{ge.p=2,Cy(e,t,r,n)}finally{ge.p=i,te.T=a}}function dD(e,t,r,n){var a=te.T;te.T=null;var i=ge.p;try{ge.p=8,Cy(e,t,r,n)}finally{ge.p=i,te.T=a}}function Cy(e,t,r,n){if(yd){var a=cg(n);if(a===null)Nm(e,t,n,bd,r),n1(e,n);else if(hD(a,e,t,r,n))n.stopPropagation();else if(n1(e,n),t&4&&-1<fD.indexOf(e)){for(;a!==null;){var i=os(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=ei(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var c=1<<31-fr(o);l.entanglements[1]|=c,o&=~c}pn(i),!(pe&6)&&(ld=ur()+500,nc(0))}}break;case 31:case 13:l=Li(i,2),l!==null&&Kt(l,i,2),Df(),Sy(i,2)}if(i=cg(n),i===null&&Nm(e,t,n,bd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Nm(e,t,n,null,r)}}function cg(e){return e=$v(e),Ey(e)}var bd=null;function Ey(e){if(bd=null,e=ho(e),e!==null){var t=Kl(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=MS(t),e!==null)return e;e=null}else if(r===31){if(e=DS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bd=e,null}function pO(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ZP()){case $S:return 2;case LS:return 8;case Ku:case JP:return 32;case US:return 268435456;default:return 32}default:return 32}}var ug=!1,Ra=null,Pa=null,Ma=null,El=new Map,Ol=new Map,ga=[],fD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n1(e,t){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(t.pointerId)}}function Ps(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=os(t),t!==null&&mO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function hD(e,t,r,n,a){switch(t){case"focusin":return Ra=Ps(Ra,e,t,r,n,a),!0;case"dragenter":return Pa=Ps(Pa,e,t,r,n,a),!0;case"mouseover":return Ma=Ps(Ma,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return El.set(i,Ps(El.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ol.set(i,Ps(Ol.get(i)||null,e,t,r,n,a)),!0}return!1}function gO(e){var t=ho(e.target);if(t!==null){var r=Kl(t);if(r!==null){if(t=r.tag,t===13){if(t=MS(r),t!==null){e.blockedOn=t,Ub(e.priority,function(){r1(r)});return}}else if(t===31){if(t=DS(r),t!==null){e.blockedOn=t,Ub(e.priority,function(){r1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cg(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ap=n,r.target.dispatchEvent(n),Ap=null}else return t=os(r),t!==null&&mO(t),e.blockedOn=r,!1;t.shift()}return!0}function a1(e,t,r){$u(e)&&r.delete(t)}function mD(){ug=!1,Ra!==null&&$u(Ra)&&(Ra=null),Pa!==null&&$u(Pa)&&(Pa=null),Ma!==null&&$u(Ma)&&(Ma=null),El.forEach(a1),Ol.forEach(a1)}function Kc(e,t){e.blockedOn===t&&(e.blockedOn=null,ug||(ug=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,mD)))}var Yc=null;function i1(e){Yc!==e&&(Yc=e,it.unstable_scheduleCallback(it.unstable_NormalPriority,function(){Yc===e&&(Yc=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(Ey(n||r)===null)continue;break}var i=os(r);i!==null&&(e.splice(t,3),t-=3,Wp(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Fo(e){function t(c){return Kc(c,e)}Ra!==null&&Kc(Ra,e),Pa!==null&&Kc(Pa,e),Ma!==null&&Kc(Ma,e),El.forEach(t),Ol.forEach(t);for(var r=0;r<ga.length;r++){var n=ga[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ga.length&&(r=ga[0],r.blockedOn===null);)gO(r),r.blockedOn===null&&ga.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[Yt]||null;if(typeof i=="function")o||i1(r);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Yt]||null)l=o.formAction;else if(Ey(a)!==null)continue}else l=o.action;typeof l=="function"?r[n+1]=l:(r.splice(n,3),n-=3),i1(r)}}}function vO(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Oy(e){this._internalRoot=e}If.prototype.render=Oy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));var r=t.current,n=hr();hO(r,n,e,t,null,null)};If.prototype.unmount=Oy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hO(e.current,2,null,e,null,null),Df(),t[is]=null}};function If(e){this._internalRoot=e}If.prototype.unstable_scheduleHydration=function(e){if(e){var t=VS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ga.length&&t!==0&&t<ga[r].priority;r++);ga.splice(r,0,e),r===0&&gO(e)}};var o1=RS.version;if(o1!=="19.2.3")throw Error($(527,o1,"19.2.3"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=WP(t),e=e!==null?zS(e):null,e=e===null?null:e.stateNode,e};var pD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Yl=Xc.inject(pD),dr=Xc}catch{}}wf.createRoot=function(e,t){if(!PS(e))throw Error($(299));var r=!1,n="",a=lE,i=cE,o=uE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=dO(e,1,!1,null,null,r,n,null,a,i,o,vO),e[is]=t.current,wy(e),new Oy(t)};wf.hydrateRoot=function(e,t,r){if(!PS(e))throw Error($(299));var n=!1,a="",i=lE,o=cE,l=uE,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=dO(e,1,!0,t,r??null,n,a,c,i,o,l,vO),t.context=fO(null),r=t.current,n=hr(),n=Dv(n),a=Aa(n),a.callback=null,ka(r,a,n),r=n,t.current.lanes=r,Zl(t,r),pn(t),e[is]=t.current,wy(e),new If(t)};wf.version="19.2.3";function yO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yO)}catch(e){console.error(e)}}yO(),ES.exports=wf;var gD=ES.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}var Sa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sa||(Sa={}));const s1="popstate";function vD(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return dg("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:bO(a)}return bD(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ay(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yD(){return Math.random().toString(36).substr(2,8)}function l1(e,t){return{usr:e.state,key:e.key,idx:t}}function dg(e,t,r,n){return r===void 0&&(r=null),Al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fs(t):t,{state:r,key:t&&t.key||n||yD()})}function bO(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function bD(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Sa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Al({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Sa.Pop;let y=d(),g=y==null?null:y-u;u=y,c&&c({action:l,location:w.location,delta:g})}function h(y,g){l=Sa.Push;let p=dg(w.location,y,g);u=d()+1;let b=l1(p,u),_=w.createHref(p);try{o.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:l,location:w.location,delta:1})}function m(y,g){l=Sa.Replace;let p=dg(w.location,y,g);u=d();let b=l1(p,u),_=w.createHref(p);o.replaceState(b,"",_),i&&c&&c({action:l,location:w.location,delta:0})}function v(y){let g=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof y=="string"?y:bO(y);return p=p.replace(/ $/,"%20"),et(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(s1,f),c=y,()=>{a.removeEventListener(s1,f),c=null}},createHref(y){return t(a,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(y){return o.go(y)}};return w}var c1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(c1||(c1={}));function xD(e,t,r){return r===void 0&&(r="/"),wD(e,t,r)}function wD(e,t,r,n){let a=typeof t=="string"?fs(t):t,i=_O(a.pathname||"/",r);if(i==null)return null;let o=xO(e);_D(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=MD(i);l=ND(o[c],u)}return l}function xO(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=bi([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xO(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:kD(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of wO(i.path))a(i,o,c)}),t}function wO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=wO(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _D(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jD=/^:[\w-]+$/,SD=3,CD=2,ED=1,OD=10,AD=-2,u1=e=>e==="*";function kD(e,t){let r=e.split("/"),n=r.length;return r.some(u1)&&(n+=AD),t&&(n+=CD),r.filter(a=>!u1(a)).reduce((a,i)=>a+(jD.test(i)?SD:i===""?ED:OD),n)}function TD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ND(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=RD({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:bi([i,f.pathname]),pathnameBase:$D(bi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=bi([i,f.pathnameBase]))}return o}function RD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=PD(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function PD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ay(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function MD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ay(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _O(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const DD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zD=e=>DD.test(e);function BD(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?fs(e):e,i;if(r)if(zD(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ay(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=d1(r.substring(1),"/"):i=d1(r,t)}else i=t;return{pathname:i,search:LD(n),hash:UD(a)}}function d1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Mm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ID(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jO(e,t){let r=ID(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function SO(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=fs(e):(a=Al({},e),et(!a.pathname||!a.pathname.includes("?"),Mm("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Mm("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Mm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=BD(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bi=e=>e.join("/").replace(/\/\/+/g,"/"),$D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CO=["post","put","patch","delete"];new Set(CO);const HD=["get",...CO];new Set(HD);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}const ky=x.createContext(null),WD=x.createContext(null),oc=x.createContext(null),$f=x.createContext(null),Wa=x.createContext({outlet:null,matches:[],isDataRoute:!1}),EO=x.createContext(null);function sc(){return x.useContext($f)!=null}function Lf(){return sc()||et(!1),x.useContext($f).location}function OO(e){x.useContext(oc).static||x.useLayoutEffect(e)}function Fa(){let{isDataRoute:e}=x.useContext(Wa);return e?i4():FD()}function FD(){sc()||et(!1);let e=x.useContext(ky),{basename:t,future:r,navigator:n}=x.useContext(oc),{matches:a}=x.useContext(Wa),{pathname:i}=Lf(),o=JSON.stringify(jO(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return OO(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=SO(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const VD=x.createContext(null);function GD(e){let t=x.useContext(Wa).outlet;return t&&x.createElement(VD.Provider,{value:e},t)}function KD(e,t){return YD(e,t)}function YD(e,t,r,n){sc()||et(!1);let{navigator:a}=x.useContext(oc),{matches:i}=x.useContext(Wa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Lf(),d;if(t){var f;let y=typeof t=="string"?fs(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||et(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=xD(e,{pathname:m}),w=e4(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:bi([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:bi([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&w?x.createElement($f.Provider,{value:{location:kl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sa.Pop}},w):w}function XD(){let e=a4(),t=qD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const ZD=x.createElement(XD,null);class JD extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Wa.Provider,{value:this.props.routeContext},x.createElement(EO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QD(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(ky);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Wa.Provider,{value:t},n)}function e4(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,w=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||ZD,c&&(u<0&&h===0?(o4("route-fallback"),v=!0,y=null):u===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),p=()=>{let b;return m?b=w:v?b=y:f.route.Component?b=x.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,x.createElement(QD,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(JD,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var AO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(AO||{}),kO=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kO||{});function t4(e){let t=x.useContext(ky);return t||et(!1),t}function r4(e){let t=x.useContext(WD);return t||et(!1),t}function n4(e){let t=x.useContext(Wa);return t||et(!1),t}function TO(e){let t=n4(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function a4(){var e;let t=x.useContext(EO),r=r4(),n=TO();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function i4(){let{router:e}=t4(AO.UseNavigateStable),t=TO(kO.UseNavigateStable),r=x.useRef(!1);return OO(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,kl({fromRouteId:t},i)))},[e,t])}const f1={};function o4(e,t,r){f1[e]||(f1[e]=!0)}function s4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function NO(e){let{to:t,replace:r,state:n,relative:a}=e;sc()||et(!1);let{future:i,static:o}=x.useContext(oc),{matches:l}=x.useContext(Wa),{pathname:c}=Lf(),u=Fa(),d=SO(t,jO(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function l4(e){return GD(e.context)}function nn(e){et(!1)}function c4(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Sa.Pop,navigator:i,static:o=!1,future:l}=e;sc()&&et(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:kl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=fs(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,w=x.useMemo(()=>{let y=_O(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:v},navigationType:a}},[c,d,f,h,m,v,a]);return w==null?null:x.createElement(oc.Provider,{value:u},x.createElement($f.Provider,{children:r,value:w}))}function u4(e){let{children:t,location:r}=e;return KD(fg(t),r)}new Promise(()=>{});function fg(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,fg(n.props.children,i));return}n.type!==nn&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=fg(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function d4(e,t){let r=hg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const f4="6";try{window.__reactRouterVersion=f4}catch{}const h4="startTransition",h1=CS[h4];function m4(e){let{basename:t,children:r,future:n,window:a}=e,i=x.useRef();i.current==null&&(i.current=vD({window:a,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&h1?h1(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>s4(n),[n]),x.createElement(c4,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var m1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m1||(m1={}));var p1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(p1||(p1={}));function Ty(e){let t=x.useRef(hg(e)),r=x.useRef(!1),n=Lf(),a=x.useMemo(()=>d4(n.search,r.current?null:t.current),[n.search]),i=Fa(),o=x.useCallback((l,c)=>{const u=hg(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var mg=function(e,t){return mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},mg(e,t)};function RO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xd=function(){return xd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},xd.apply(this,arguments)};function hs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function PO(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function MO(e,t){return function(r,n){t(r,n,e)}}function DO(e,t,r,n,a,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var v={};for(var w in n)v[w]=w==="access"?{}:n[w];for(var w in n.access)v.access[w]=n.access[w];v.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var y=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],v);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&a.unshift(f)}else(f=o(y))&&(l==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function zO(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function BO(e){return typeof e=="symbol"?e:"".concat(e)}function IO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function $O(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function K(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function LO(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Uf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function UO(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uf(t,e,r)}function wd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ny(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function qO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ny(arguments[t]));return e}function HO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function WO(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Vo(e){return this instanceof Vo?(this.v=e,this):new Vo(e)}function FO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(v){return Promise.resolve(v).then(m,f)}}function l(m,v){n[m]&&(a[m]=function(w){return new Promise(function(y,g){i.push([m,w,y,g])>1||c(m,w)})},v&&(a[m]=v(a[m])))}function c(m,v){try{u(n[m](v))}catch(w){h(i[0][3],w)}}function u(m){m.value instanceof Vo?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,v){m(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function VO(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Vo(e[a](o)),done:!1}:i?i(o):o}:i}}function GO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof wd=="function"?wd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),a(l,c,o.done,o.value)})}}function a(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function KO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var p4=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},pg=function(e){return pg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},pg(e)};function YO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=pg(e),n=0;n<r.length;n++)r[n]!=="default"&&Uf(t,e,r[n]);return p4(t,e),t}function XO(e){return e&&e.__esModule?e:{default:e}}function ZO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function JO(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function QO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function eA(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var g4=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function tA(e){function t(i){e.error=e.hasError?new g4(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function rA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const v4={__extends:RO,__assign:xd,__rest:hs,__decorate:PO,__param:MO,__esDecorate:DO,__runInitializers:zO,__propKey:BO,__setFunctionName:IO,__metadata:$O,__awaiter:K,__generator:LO,__createBinding:Uf,__exportStar:UO,__values:wd,__read:Ny,__spread:qO,__spreadArrays:HO,__spreadArray:WO,__await:Vo,__asyncGenerator:FO,__asyncDelegator:VO,__asyncValues:GO,__makeTemplateObject:KO,__importStar:YO,__importDefault:XO,__classPrivateFieldGet:ZO,__classPrivateFieldSet:JO,__classPrivateFieldIn:QO,__addDisposableResource:eA,__disposeResources:tA,__rewriteRelativeImportExtension:rA},y4=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:eA,get __assign(){return xd},__asyncDelegator:VO,__asyncGenerator:FO,__asyncValues:GO,__await:Vo,__awaiter:K,__classPrivateFieldGet:ZO,__classPrivateFieldIn:QO,__classPrivateFieldSet:JO,__createBinding:Uf,__decorate:PO,__disposeResources:tA,__esDecorate:DO,__exportStar:UO,__extends:RO,__generator:LO,__importDefault:XO,__importStar:YO,__makeTemplateObject:KO,__metadata:$O,__param:MO,__propKey:BO,__read:Ny,__rest:hs,__rewriteRelativeImportExtension:rA,__runInitializers:zO,__setFunctionName:IO,__spread:qO,__spreadArray:WO,__spreadArrays:HO,__values:wd,default:v4},Symbol.toStringTag,{value:"Module"})),b4="modulepreload",x4=function(e){return"/"+e},g1={},ms=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=x4(c),c in g1)return;g1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":b4,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},w4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>qi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ry extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class v1 extends Ry{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class y1 extends Ry{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class b1 extends Ry{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gg||(gg={}));class _4{constructor(t,{headers:r={},customFetch:n,region:a=gg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=w4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return K(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(g=>{throw g.name==="AbortError"?g:new v1(g)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new y1(m);if(!m.ok)throw new b1(m);let w=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),y;return w==="application/json"?y=yield m.json():w==="application/octet-stream"||w==="application/pdf"?y=yield m.blob():w==="text/event-stream"?y=m:w==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new v1(i)}:{data:null,error:i,response:i instanceof b1||i instanceof y1?i.context:void 0}}})}}var Pt={};const ps=pS(y4);var Zc={},Jc={},Qc={},eu={},tu={},j4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Go=j4();const S4=Go.fetch,nA=Go.fetch.bind(Go),aA=Go.Headers,C4=Go.Request,E4=Go.Response,qi=Object.freeze(Object.defineProperty({__proto__:null,Headers:aA,Request:C4,Response:E4,default:nA,fetch:S4},Symbol.toStringTag,{value:"Module"})),O4=pS(qi);var ru={},x1;function iA(){if(x1)return ru;x1=1,Object.defineProperty(ru,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ru.default=e,ru}var w1;function oA(){if(w1)return tu;w1=1,Object.defineProperty(tu,"__esModule",{value:!0});const e=ps,t=e.__importDefault(O4),r=e.__importDefault(iA());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let v=null,w=null,y=null,g=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?w=S:w=JSON.parse(S))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,g=406,p="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const _=await u.text();try{v=JSON.parse(_),Array.isArray(v)&&u.status===404&&(w=[],v=null,g=200,p="OK")}catch{u.status===404&&_===""?(g=204,p="No Content"):v={message:_}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,g=200,p="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:w,count:y,status:g,statusText:p}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return tu.default=n,tu}var _1;function sA(){if(_1)return eu;_1=1,Object.defineProperty(eu,"__esModule",{value:!0});const t=ps.__importDefault(oA());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return eu.default=r,eu}var j1;function Py(){if(j1)return Qc;j1=1,Object.defineProperty(Qc,"__esModule",{value:!0});const t=ps.__importDefault(sA()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Qc.default=n,Qc}var S1;function lA(){if(S1)return Jc;S1=1,Object.defineProperty(Jc,"__esModule",{value:!0});const t=ps.__importDefault(Py());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Jc.default=r,Jc}var C1;function A4(){if(C1)return Zc;C1=1,Object.defineProperty(Zc,"__esModule",{value:!0});const e=ps,t=e.__importDefault(lA()),r=e.__importDefault(Py());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([w,y])=>y!==void 0).map(([w,y])=>[w,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([w,y])=>{h.searchParams.append(w,y)})):(f="POST",m=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:v,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Zc.default=n,Zc}Object.defineProperty(Pt,"__esModule",{value:!0});var cA=Pt.PostgrestError=bA=Pt.PostgrestBuilder=vA=Pt.PostgrestTransformBuilder=pA=Pt.PostgrestFilterBuilder=hA=Pt.PostgrestQueryBuilder=dA=Pt.PostgrestClient=void 0;const gs=ps,uA=gs.__importDefault(A4());var dA=Pt.PostgrestClient=uA.default;const fA=gs.__importDefault(lA());var hA=Pt.PostgrestQueryBuilder=fA.default;const mA=gs.__importDefault(Py());var pA=Pt.PostgrestFilterBuilder=mA.default;const gA=gs.__importDefault(sA());var vA=Pt.PostgrestTransformBuilder=gA.default;const yA=gs.__importDefault(oA());var bA=Pt.PostgrestBuilder=yA.default;const xA=gs.__importDefault(iA());cA=Pt.PostgrestError=xA.default;var wA=Pt.default={PostgrestClient:uA.default,PostgrestQueryBuilder:fA.default,PostgrestFilterBuilder:mA.default,PostgrestTransformBuilder:gA.default,PostgrestBuilder:yA.default,PostgrestError:xA.default};const k4=mS({__proto__:null,get PostgrestBuilder(){return bA},get PostgrestClient(){return dA},get PostgrestError(){return cA},get PostgrestFilterBuilder(){return pA},get PostgrestQueryBuilder(){return hA},get PostgrestTransformBuilder(){return vA},default:wA},[Pt]),{PostgrestClient:T4,PostgrestQueryBuilder:XZ,PostgrestFilterBuilder:ZZ,PostgrestTransformBuilder:JZ,PostgrestBuilder:QZ,PostgrestError:eJ}=wA||k4;class N4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const R4="2.78.0",P4=`realtime-js/${R4}`,M4="1.0.0",vg=1e4,D4=1e3,z4=100;var ul;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ul||(ul={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var Wr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wr||(Wr={}));var yg;(function(e){e.websocket="websocket"})(yg||(yg={}));var si;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(si||(si={}));class B4{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class _A{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const E1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=I4(o,e,t,a),i),{}):{}},I4=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?jA(i,o):bg(o)},jA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return q4(t,r)}switch(e){case Oe.bool:return $4(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return L4(t);case Oe.json:case Oe.jsonb:return U4(t);case Oe.timestamp:return H4(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return bg(t);default:return bg(t)}},bg=e=>e,$4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},L4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},U4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},q4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>jA(t,l))}return e},H4=e=>typeof e=="string"?e.replace(" ","T"):e,SA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Dm{constructor(t,r,n={},a=vg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var O1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(O1||(O1={}));class dl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=dl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=dl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),v=d.filter(y=>m.indexOf(y.presence_ref)<0),w=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var A1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(A1||(A1={}));var fl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fl||(fl={}));var wn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class My{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dm(this,Wr.join,this.params,this.timeout),this.rejoinTimer=new _A(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new dl(this),this.broadcastEndpointURL=SA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[fl.PRESENCE]&&this.bindings[fl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(wn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(wn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(wn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,y=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let p=0;p<y;p++){const b=w[p],{filter:{event:_,schema:j,table:S,filter:C}}=b,E=m&&m[p];if(E&&E.event===_&&E.schema===j&&E.table===S&&E.filter===C)g.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(wn.SUBSCRIBED);return}}).receive("error",m=>{this.state=rt.errored,t==null||t(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rt.joined&&t===fl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Dm(this,Wr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Dm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>z4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Wr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,w,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(w=m.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,w,y,g,p,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:w,table:y,commit_timestamp:g,type:p,errors:b}=v;h=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:g,eventType:p,new:{},old:{},errors:b}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&My.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wr.close,{},t)}_onError(t){this._on(Wr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=E1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=E1(t.columns,t.old_record)),r}}const zm=()=>{},nu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},W4=[1e3,2e3,5e3,1e4],F4=1e4,V4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vg,this.transport=null,this.heartbeatIntervalMs=nu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zm,this.ref=0,this.reconnectTimer=null,this.logger=zm,this.conn=null,this.sendBuffer=[],this.serializer=new B4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>ms(async()=>{const{default:l}=await Promise.resolve().then(()=>qi);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${yg.websocket}`,this.httpEndpoint=SA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=N4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:M4}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ul.connecting:return si.Connecting;case ul.open:return si.Open;case ul.closing:return si.Closing;default:return si.Closed}}isConnected(){return this.connectionState()===si.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new My(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(D4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},nu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([V4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:P4};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Wr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _A(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:vg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:nu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:zm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>W4[f-1]||F4,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Dy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class K4 extends Dy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xg extends Dy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const zy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>qi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Y4=()=>K(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ms(()=>Promise.resolve().then(()=>qi),void 0)).Response:Response}),wg=e=>{if(Array.isArray(e))return e.map(r=>wg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=wg(n)}),t},X4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Z4=(e,t,r)=>K(void 0,void 0,void 0,function*(){const n=yield Y4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new K4(Bm(a),i,o))}).catch(a=>{t(new xg(Bm(a),a))}):t(new xg(Bm(e),e))}),J4=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(X4(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function lc(e,t,r,n,a,i){return K(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,J4(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Z4(c,l,n))})})}function Tl(e,t,r,n){return K(this,void 0,void 0,function*(){return lc(e,"GET",t,r,n)})}function qr(e,t,r,n,a){return K(this,void 0,void 0,function*(){return lc(e,"POST",t,n,a,r)})}function _g(e,t,r,n,a){return K(this,void 0,void 0,function*(){return lc(e,"PUT",t,n,a,r)})}function Q4(e,t,r,n){return K(this,void 0,void 0,function*(){return lc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function By(e,t,r,n,a){return K(this,void 0,void 0,function*(){return lc(e,"DELETE",t,n,a,r)})}class ez{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return K(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}var CA;class tz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[CA]="BlobDownloadBuilder",this.promise=null}asStream(){return new ez(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return K(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}CA=Symbol.toStringTag;const rz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nz{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=zy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return K(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},k1),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?_g:qr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return K(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:k1.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield _g(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return K(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield qr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Dy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return K(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}copy(t,r,n){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield qr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return K(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield qr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return K(this,void 0,void 0,function*(){try{const a=yield qr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Tl(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new tz(c,this.shouldThrowOnError)}info(t){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Tl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}exists(t){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Q4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n)&&n instanceof xg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return K(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return K(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},rz),r),{prefix:t||""});return{data:yield qr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}listV2(t,r){return K(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield qr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const EA="2.78.0",OA={"X-Client-Info":`storage-js/${EA}`};class az{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},OA),r),this.fetch=zy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return K(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Tl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}getBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Tl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}createBucket(t){return K(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return K(this,void 0,void 0,function*(){try{return{data:yield _g(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class iz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},OA),r),this.fetch=zy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBuckets(t){return K(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Tl(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}const Iy={"X-Client-Info":`storage-js/${EA}`,"Content-Type":"application/json"};class AA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ir(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Im extends AA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oz extends AA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var T1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(T1||(T1={}));const $y=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>qi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},N1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lz=(e,t,r)=>K(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Im(N1(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Im(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Im(l,a,o))}}else t(new oz(N1(e),e))}),cz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(sz(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function uz(e,t,r,n,a,i){return K(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,cz(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>lz(c,l,n))})})}function or(e,t,r,n,a){return K(this,void 0,void 0,function*(){return uz(e,"POST",t,n,a,r)})}class dz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iy),r),this.fetch=$y(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return K(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getIndex(t,r){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listIndexes(t){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return K(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class fz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iy),r),this.fetch=$y(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return K(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getVectors(t){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listVectors(t){return K(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield or(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}queryVectors(t){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteVectors(t){return K(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class hz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iy),r),this.fetch=$y(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return K(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBuckets(){return K(this,arguments,void 0,function*(t={}){try{return{data:yield or(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class mz extends hz{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new pz(this.url,this.headers,t,this.fetch)}}class pz extends dz{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return K(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return K(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return K(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return K(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new gz(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class gz extends fz{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return K(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return K(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return K(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return K(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return K(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class vz extends az{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new nz(this.url,this.headers,t,this.fetch)}get vectors(){return new mz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new iz(this.url+"/iceberg",this.headers,this.fetch)}}const yz="2.78.0";let Gs="";typeof Deno<"u"?Gs="deno":typeof document<"u"?Gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gs="react-native":Gs="node";const bz={"X-Client-Info":`supabase-js-${Gs}/${yz}`},xz={headers:bz},wz={schema:"public"},_z={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jz={},Sz=e=>{let t;return e?t=e:typeof fetch>"u"?t=nA:t=fetch,(...r)=>t(...r)},Cz=()=>typeof Headers>"u"?aA:Headers,Ez=(e,t,r)=>{const n=Sz(r),a=Cz();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Oz(e){return e.endsWith("/")?e:e+"/"}function Az(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function kz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Oz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kA="2.78.0",so=30*1e3,jg=3,$m=jg*so,Tz="http://localhost:9999",Nz="supabase.auth.token",Rz={"X-Client-Info":`gotrue-js/${kA}`},Sg="X-Supabase-Api-Version",TA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mz=10*60*1e3;class Nl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dz extends Nl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function zz(e){return Z(e)&&e.name==="AuthApiError"}class li extends Nl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Va extends Nl{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Lr extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bz(e){return Z(e)&&e.name==="AuthSessionMissingError"}class Xi extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class au extends Va{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class iu extends Va{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Iz(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class R1 extends Va{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cg extends Va{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Lm(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class P1 extends Va{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Eg extends Va{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M1=` 	
\r=`.split(""),$z=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<M1.length;t+=1)e[M1[t].charCodeAt(0)]=-2;for(let t=0;t<_d.length;t+=1)e[_d[t].charCodeAt(0)]=t;return e})();function D1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_d[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_d[n]),t.queuedBits-=6}}function NA(e,t,r){const n=$z[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function z1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{qz(o,n,r)};for(let o=0;o<e.length;o+=1)NA(e.charCodeAt(o),a,i);return t.join("")}function Lz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Uz(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Lz(n,t)}}function qz(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ro(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)NA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Hz(e){const t=[];return Uz(e,r=>t.push(r)),new Uint8Array(t)}function ci(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>D1(a,r,n)),D1(null,r,n),t.join("")}function Wz(e){return Math.round(Date.now()/1e3)+e}function Fz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nt=()=>typeof window<"u"&&typeof document<"u",Za={tested:!1,writable:!1},RA=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Za.tested)return Za.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Za.tested=!0,Za.writable=!0}catch{Za.tested=!0,Za.writable=!1}return Za.writable};function Vz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const PA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>qi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Gz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ja=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},la=async(e,t)=>{await e.removeItem(t)};class qf{constructor(){this.promise=new qf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qf.promiseConstructor=Promise;function Um(e){const t=e.split(".");if(t.length!==3)throw new Eg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Pz.test(t[n]))throw new Eg("JWT not in base64url format");return{header:JSON.parse(z1(t[0])),payload:JSON.parse(z1(t[1])),signature:Ro(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Yz(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Xz(e){return("0"+e.toString(16)).substr(-2)}function Zz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Xz).join("")}async function Jz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Qz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Jz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zi(e,t,r=!1){const n=Zz();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await lo(e,`${t}-code-verifier`,a);const i=await Qz(n);return[i,n===i?"plain":"s256"]}const e3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t3(e){const t=e.headers.get(Sg);if(!t||!t.match(e3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function r3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function n3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ji(e){if(!a3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function i3(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function B1(e){return JSON.parse(JSON.stringify(e))}const ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o3=[502,503,504];async function I1(e){var t;if(!Gz(e))throw new Cg(ni(e),0);if(o3.includes(e.status))throw new Cg(ni(e),e.status);let r;try{r=await e.json()}catch(i){throw new li(ni(i),i)}let n;const a=t3(e);if(a&&a.getTime()>=TA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new P1(ni(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Lr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new P1(ni(r),e.status,r.weak_password.reasons);throw new Dz(ni(r),e.status||500,n)}const s3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ee(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Sg]||(i[Sg]=TA["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await l3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function l3(e,t,r,n,a,i){const o=s3(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Cg(ni(c),0)}if(l.ok||await I1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await I1(c)}}function Ur(e){var t;let r=null;d3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Wz(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $1(e){const t=Ur(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function va(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function c3(e){return{data:e,error:null}}function u3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=hs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function L1(e){return e}function d3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hm=["global","local","others"];class f3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=PA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Hm[0]){if(Hm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hm.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:va})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hs(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:u3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:va})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:L1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ji(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:va})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ji(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:va})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ji(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:va})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ji(t.userId);try{const{data:r,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ji(t.userId),Ji(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:L1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}}function U1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Qi={debug:!!(globalThis&&RA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class h3 extends MA{}async function m3(e,t,r){Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new h3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function p3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function g3(e){return parseInt(e,16)}function v3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function y3(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=DA(e.address),v=d?`${d}://${n}`:n,w=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);p+=`
- ${b}`}g+=p}return`${y}
${g}`}class Ke extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class jd extends Ke{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function b3({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(zA(o)){if(i.rp.id!==o)return new Ke({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function x3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(zA(n)){if(r.rpId!==n)return new Ke({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class w3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _3=new w3;function j3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=hs(e,["challenge","user","excludeCredentials"]),i=Ro(t).buffer,o=Object.assign(Object.assign({},r),{id:Ro(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ro(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function S3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=hs(e,["challenge","allowCredentials"]),a=Ro(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ro(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function C3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ci(new Uint8Array(e.response.attestationObject)),clientDataJSON:ci(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function E3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ci(new Uint8Array(a.authenticatorData)),clientDataJSON:ci(new Uint8Array(a.clientDataJSON)),signature:ci(new Uint8Array(a.signature)),userHandle:a.userHandle?ci(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function q1(){var e,t;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function O3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jd("Browser returned unexpected credential type",t)}:{data:null,error:new jd("Empty credential response",t)}}catch(t){return{data:null,error:b3({error:t,options:e})}}}async function A3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jd("Browser returned unexpected credential type",t)}:{data:null,error:new jd("Empty credential response",t)}}catch(t){return{data:null,error:x3({error:t,options:e})}}}const k3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},T3={userVerification:"preferred",hints:["security-key"]};function Sd(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Sd(l,o):n[i]=Sd(o)}else n[i]=o}return n}function N3(e,t){return Sd(k3,e,t||{})}function R3(e,t){return Sd(T3,e,t||{})}class P3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??_3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=N3(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await O3({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=R3(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await A3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Z(o)?{data:null,error:o}:{data:null,error:new li("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Nl("rpId is required for WebAuthn authentication")};try{if(!q1())return{data:null,error:new li("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Z(o)?{data:null,error:o}:{data:null,error:new li("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Nl("rpId is required for WebAuthn registration")};try{if(!q1())return{data:null,error:new li("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Z(o)?{data:null,error:o}:{data:null,error:new li("Unexpected error in register",o)}}}}p3();const M3={url:Tz,storageKey:Nz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function H1(e,t,r){return await r()}const eo={};class Rl{get jwks(){var t,r;return(r=(t=eo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=eo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rl.nextInstanceID,Rl.nextInstanceID+=1,this.instanceID>0&&Nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},M3),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new f3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=PA(a.fetch),this.lock=a.lock||H1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=m3:this.lock=H1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new P3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:RA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=U1(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Vz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Nt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Iz(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new li("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ur}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Zi(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Ur})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ur})}else throw new au("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$1})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$1})}else throw new au("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:w,wallet:y,statement:g,options:p}=t;let b;if(Nt())if(typeof y=="object")b=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")b=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=DA(j[0]);let C=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const A=await b.request({method:"eth_chainId"});C=g3(A)}const E={domain:_.host,address:S,statement:g,uri:_.href,version:"1",chainId:C,nonce:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=y3(E),v=await b.request({method:"personal_sign",params:[v3(m),S]})}try{const{data:w,error:y}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ur});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Xi}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(Z(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:y,wallet:g,statement:p,options:b}=t;let _;if(Nt())if(typeof g=="object")_=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:y,error:g}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ci(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ur});if(g)throw g;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Xi}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:g})}catch(y){if(Z(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Ja(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ur});if(await la(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ur}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Xi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Zi(this.storage,this.storageKey));const{error:f}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new au("You must provide either an email or phone number.")}catch(l){if(Z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ur});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zi(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:c3})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Lr;const{error:a}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new au("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<$m:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ja(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=qm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=i3(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:va}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lr}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:va})})}catch(r){if(Z(r))return Bz(r)&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Lr;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Zi(this.storage,this.storageKey));const{data:u,error:d}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:va});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Um(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Lr;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Nt())throw new iu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new iu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new R1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new iu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new R1("No code detected.");const{data:p,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new iu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=so&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:w,error:y}=await this._getUser(i);if(y)throw y;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(Z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ja(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(zz(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Fz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Zi(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Nt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ur}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Xi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Yz(async a=>(a>0&&await Kz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ur})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Lm(i)&&Date.now()+o-n<so})}catch(n){if(this._debug(r,"error",n),Z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ja(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await lo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:qm()}else if(a&&!a.user&&!a.user){const o=await Ja(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await la(this.storage,this.storageKey+"-user"),await lo(this.storage,this.storageKey,a)):a.user=qm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$m;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${$m}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Lm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new qf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Lr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Z(i)){const o={data:null,error:i};return Lm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await lo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=B1(a);await lo(this.storage,this.storageKey,i)}else{const a=B1(r);await lo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await la(this.storage,this.storageKey),await la(this.storage,this.storageKey+"-code-verifier"),await la(this.storage,this.storageKey+"-user"),this.userStorage&&await la(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),so);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/so);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${so}ms, refresh threshold is ${jg} ticks`),a<=jg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof MA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?C3(t.webauthn.credential_response):E3(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:j3(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:S3(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Um(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Lr}})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Lr};const o=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Nt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Lr};const o=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Nt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Mz>a)return n;const{data:i,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Um(n);r!=null&&r.allowExpired||r3(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=n3(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Hz(`${l}.${c}`)))throw new Eg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}Rl.nextInstanceID=0;const D3=Rl;class z3 extends D3{constructor(t){super(t)}}class B3{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=kz(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:wz,realtime:jz,auth:Object.assign(Object.assign({},_z),{storageKey:c}),global:xz},d=Az(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Ez(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new T4(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new vz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new _4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new z3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new G4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I3=(e,t,r)=>new B3(e,t,r);function $3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const L3="https://abbysvxnnhwvvzhftoms.supabase.co",U3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",B=I3(L3,U3);function q3(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,i]=x.useState(!1),o=Fa(),l=async c=>{c.preventDefault(),i(!0);const{error:u}=await B.auth.signInWithPassword({email:e,password:r});u?u.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(u.message):o("/dashboard"),i(!1)};return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:s.jsxs("form",{onSubmit:l,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:c=>{c.target.onerror=null,c.target.style.display="none",c.target.nextSibling.style.display="block"}}),s.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),s.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:c=>t(c.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),s.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:c}=await B.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/dashboard?reset=true"});i(!1),alert(c?"Erro ao enviar email: "+c.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),s.jsx("input",{id:"password",type:"password",value:r,onChange:c=>n(c.target.value),className:"input",placeholder:"",required:!0})]}),s.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),s.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[s.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),s.jsx("button",{type:"button",onClick:()=>o("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const Qr=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},Hf=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const l=await o.json(),c=l.estabelecimento||{},u=l.socios&&l.socios.length>0?l.socios[0]:null;return{nome:l.razao_social,fantasia:c.nome_fantasia,doc:t,email:c.email,telefone:c.ddd1&&c.telefone1?`(${c.ddd1}) ${c.telefone1}`:"",address:{logradouro:c.tipo_logradouro?`${c.tipo_logradouro} ${c.logradouro}`:c.logradouro,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cep:c.cep,uf:(n=c.estado)==null?void 0:n.sigla,municipio:(a=c.cidade)==null?void 0:a.nome,cidade:(i=c.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:l}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},BA=async e=>{try{const{data:t,error:r}=await B.functions.invoke("manage-asaas-customer",{body:e});if(r)throw r;return t}catch(t){throw console.error("Erro Asaas Customer:",t),t}},cc=async e=>{const{data:t,error:r}=await B.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},Wf=async(e,t="invoice")=>{const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await B.functions.invoke("create-asaas-charge",{body:r});if(a)throw a;return n},Og=async(e,t,r,n)=>{try{const{data:a,error:i}=await B.functions.invoke("send-whatsapp",{body:{phone:e?e.replace(/\D/g,""):"",text:t,mediaUrl:r,instanceName:n}});if(i)throw i;if(a!=null&&a.error)throw new Error(a.error);return a}catch(a){throw console.error("Erro ao enviar WhatsApp:",a),a}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),W1=e=>{const t=W3(e);return t.charAt(0).toUpperCase()+t.slice(1)},IA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),F3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...V3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:IA("lucide",a),...!i&&!F3(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(G3,{ref:i,iconNode:t,className:IA(`lucide-${H3(W1(e))}`,`lucide-${e}`,n),...a}));return r.displayName=W1(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Y3=le("arrow-right",K3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],F1=le("briefcase",X3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],J3=le("calculator",Z3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],e6=le("calendar",Q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],r6=le("chart-no-axes-column-increasing",t6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ly=le("chevron-down",n6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],i6=le("chevron-left",a6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],s6=le("chevron-right",o6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Uy=le("chevron-up",l6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$A=le("circle-alert",c6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LA=le("circle-check-big",u6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],f6=le("circle-question-mark",d6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m6=le("clock",h6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],g6=le("code",p6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],y6=le("copy",v6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],uc=le("credit-card",b6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ff=le("dollar-sign",x6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_6=le("eye-off",w6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],S6=le("eye",j6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],La=le("file-text",C6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],O6=le("funnel",E6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],k6=le("house",A6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],N6=le("info",T6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Wm=le("layout-dashboard",R6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],M6=le("log-out",P6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],z6=le("map-pin",D6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],I6=le("megaphone",B6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],L6=le("menu",$6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],q6=le("pen",U6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vs=le("plus",H6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qy=le("save",W6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hy=le("search",F6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],G6=le("server",V6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UA=le("settings",K6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],X6=le("square-pen",Y6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dc=le("trash-2",Z6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Q6=le("truck",J6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qA=le("user-check",e8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wy=le("users",t8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vf=le("x",r8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gf=le("zap",n8),HA=x.createContext(),zr=()=>{const e=x.useContext(HA);if(!e)throw new Error("useUI must be used within a UIProvider");return e},a8=({children:e})=>{const[t,r]=x.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=x.useRef(null),a=()=>{r(u=>({...u,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(u=>({...u,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(u,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:u,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},l=(u,d="Confirmao",f="Confirmar",h="Cancelar")=>new Promise(m=>{n.current=m,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:u,confirmText:f,cancelText:h,onConfirm:()=>{},onCancel:()=>{}})}),c=()=>{switch(t.variant){case"error":return s.jsx($A,{size:32,color:"#ef4444"});case"success":return s.jsx(LA,{size:32,color:"#22c55e"});case"warning":return s.jsx(f6,{size:32,color:"#f59e0b"});default:return s.jsx(N6,{size:32,color:"#3b82f6"})}};return s.jsxs(HA.Provider,{value:{showAlert:o,showConfirm:l},children:[e,t.isOpen&&s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[s.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[s.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:c()}),s.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),s.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:s.jsx(Vf,{size:20})})]}),s.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&s.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:u=>u.currentTarget.style.background="#f9fafb",onMouseOut:u=>u.currentTarget.style.background="white",children:t.cancelText}),s.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:u=>u.currentTarget.style.filter="brightness(0.9)",onMouseOut:u=>u.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),s.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})};function i8(){const[e]=Ty();Fa();const{showAlert:t}=zr(),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(null),c=e.get("id");e.get("originador");const[u,d]=x.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[f,h]=x.useState(null),m=async()=>{const j=u.cep.replace(/\D/g,"");if(j.length===8){n(!0);try{const S=await Qr(j);if(d(C=>({...C,street:S.rua,neighborhood:S.bairro,city:S.cidade,uf:S.uf})),S.ibge){const C=await cc(S.ibge);C?(h(C),d(E=>({...E,concessionaria:C.Concessionaria||""}))):(h(null),d(E=>({...E,concessionaria:""})))}}catch(S){console.error("Error fetching CEP:",S)}finally{n(!1)}}},v=()=>{if(!f)return 0;const j=Number(f["Tarifa Concessionaria"])||0;let C=Number(f["Desconto Assinante"])||0;return C>1&&(C=C/100),u.consumo*j*C},w=async j=>{j.preventDefault(),n(!0);try{const S=v(),E=c&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(c)?c:null,A={name:u.name,email:u.email,phone:u.phone,cep:u.cep,concessionaria:u.concessionaria,consumo_kwh:u.consumo,calculated_discount:S,rua:u.street,numero:u.number,bairro:u.neighborhood,cidade:u.city,uf:u.uf,tarifa_concessionaria:Number(f==null?void 0:f["Tarifa Concessionaria"])||0,desconto_assinante:Number(f==null?void 0:f["Desconto Assinante"])||0,status:"simulacao",originator_id:E},{data:k,error:R}=await B.from("leads").insert(A).select().single();if(R)throw R;k&&l(k),i(!0)}catch(S){console.error("Error saving lead:",S);const C=S.message||"Erro ao processar simulao. Tente novamente.";t(C,"error")}finally{n(!1)}},y=()=>{const S=v()*12;let C=Number(f==null?void 0:f["Desconto Assinante"])||0;C<1&&C>0&&(C=C*100);const E=new URLSearchParams;E.append("name",u.name),E.append("email",u.email),E.append("phone",u.phone),E.append("cep",u.cep),E.append("consumo",u.consumo),c&&E.append("originator_id",c),E.append("discount_percent",C.toFixed(0)),E.append("savings_annual",S.toFixed(2));const A=`https://www.b2wenergia.com.br/contrato?${E.toString()}`;window.open(A,"_blank"),i(!1)},g=j=>j.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),p={primary:"#003366",accent:"#FF6600"},b={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:p.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:p.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:p.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},_=v();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:b.wrapper,children:[s.jsx("h2",{style:b.header,children:"Saiba o valor do seu desconto"}),s.jsxs("form",{onSubmit:w,style:b.formSpace,children:[s.jsx("div",{style:b.grid,children:s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:b.label,children:"CEP"}),s.jsx("input",{type:"text",maxLength:"9",value:u.cep,onChange:j=>{let S=j.target.value.replace(/\D/g,"");S.length>5&&(S=S.replace(/^(\d{5})(\d)/,"$1-$2")),d({...u,cep:S})},onBlur:m,style:b.input,placeholder:"00000-000",required:!0})]})}),s.jsxs("div",{children:[s.jsx("label",{style:b.label,children:"Nome Completo"}),s.jsx("input",{type:"text",value:u.name,onChange:j=>d({...u,name:j.target.value}),style:b.input,placeholder:"Como devemos te chamar?",required:!0})]}),s.jsxs("div",{style:b.grid,children:[s.jsxs("div",{children:[s.jsx("label",{style:b.label,children:"E-mail"}),s.jsx("input",{type:"email",value:u.email,onChange:j=>d({...u,email:j.target.value}),style:b.input,placeholder:"exemplo@email.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:b.label,children:"WhatsApp"}),s.jsx("input",{type:"tel",maxLength:"15",value:u.phone,onChange:j=>{let S=j.target.value.replace(/\D/g,"");S=S.replace(/^(\d{2})(\d)/g,"($1) $2"),S=S.replace(/(\d)(\d{4})$/,"$1-$2"),d({...u,phone:S})},style:b.input,placeholder:"(00) 00000-0000",required:!0})]})]}),s.jsxs("div",{style:b.rangeContainer,children:[s.jsxs("div",{style:b.rangeLabelRow,children:[s.jsx("label",{style:b.label,children:"Mdia de Gasto Mensal (kWh)"}),s.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:p.accent},children:[u.consumo," kWh"]})]}),s.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:u.consumo,onChange:j=>d({...u,consumo:Number(j.target.value)}),style:b.rangeInput}),s.jsxs("div",{style:b.rangeTicks,children:[s.jsx("span",{children:"0 kWh"}),s.jsx("span",{children:"10.000+ kWh"})]})]}),s.jsx("button",{type:"submit",disabled:r,style:b.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:s.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[s.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:s.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),s.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),s.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[s.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),s.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),s.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.name})]}),s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),s.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.concessionaria})]}),s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),s.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[g((o==null?void 0:o.calculated_discount)||_),s.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),s.jsx("button",{onClick:y,style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:p.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})})]})}function o8(){return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:s.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:s.jsx(i8,{})})})}function s8(){const{showAlert:e}=zr(),[t,r]=x.useState(!1),[n,a]=x.useState(1),[i,o]=x.useState(null);xf.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[l,c]=x.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[u,d]=x.useState(!1),f=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),s.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),m=async()=>{const p=l.cep.replace(/\D/g,"");if(p.length===8){r(!0);try{const b=await Qr(p);c(_=>({..._,street:b.rua,neighborhood:b.bairro,city:b.cidade,uf:b.uf}))}catch(b){console.error("Error fetching CEP:",b)}finally{r(!1)}}},v=async p=>{p.preventDefault(),r(!0);try{const{data:b,error:_}=await B.auth.signUp({email:l.email,password:l.password,options:{data:{name:l.name,phone:l.phone}}});if(_)throw _;b!=null&&b.user&&(o(b.user.id),a(2))}catch(b){console.error("Error signing up:",b),e(b.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},w=async p=>{p.preventDefault(),r(!0);try{const b={id:i,name:l.name,email:l.email,phone:l.phone,cpf_cnpj:l.cpf,pix_key:l.pix_key,pix_key_type:l.pix_key_type,profession:l.profession,address:{cep:l.cep,street:l.street,number:l.number,neighborhood:l.neighborhood,city:l.city,uf:l.uf,complement:l.complement}},{error:_}=await B.from("originators_v2").insert(b);if(_)throw _;a(3)}catch(b){console.error("Error saving profile:",b),e(b.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},y={primary:"#003366",accent:"#FF6600"},g={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:y.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:y.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?s.jsxs("div",{style:g.wrapper,children:[s.jsx("h2",{style:g.header,children:"Seja um Parceiro B2W"}),s.jsxs("form",{onSubmit:v,style:g.formSpace,children:[s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"Nome Completo"}),s.jsx("input",{type:"text",value:l.name,onChange:p=>c({...l,name:p.target.value}),style:g.input,required:!0})]}),s.jsxs("div",{style:g.grid,children:[s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"E-mail"}),s.jsx("input",{type:"email",value:l.email,onChange:p=>c({...l,email:p.target.value}),style:g.input,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"WhatsApp"}),s.jsx("input",{type:"tel",maxLength:"15",value:l.phone,onChange:p=>{let b=p.target.value.replace(/\D/g,"");b=b.replace(/^(\d{2})(\d)/g,"($1) $2"),b=b.replace(/(\d)(\d{4})$/,"$1-$2"),c({...l,phone:b})},style:g.input,required:!0})]})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("label",{style:g.label,children:"Senha"}),s.jsx("input",{type:u?"text":"password",value:l.password,onChange:p=>c({...l,password:p.target.value}),style:{...g.input,paddingRight:"2.5rem"},required:!0,minLength:6}),s.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:u?s.jsx(h,{}):s.jsx(f,{})})]}),s.jsx("button",{type:"submit",disabled:t,style:g.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:s.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&s.jsxs("form",{onSubmit:w,style:g.formSpace,children:[s.jsx("h3",{style:{...g.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),s.jsx("div",{style:g.grid,children:s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:g.label,children:"CEP"}),s.jsx("input",{type:"text",maxLength:"9",value:l.cep,onChange:p=>{let b=p.target.value.replace(/\D/g,"");b.length>5&&(b=b.replace(/^(\d{5})(\d)/,"$1-$2")),c({...l,cep:b})},onBlur:m,style:g.input,required:!0})]})}),s.jsxs("div",{style:g.grid,children:[s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:g.label,children:"Rua"}),s.jsx("input",{value:l.street,style:g.input,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"Bairro"}),s.jsx("input",{value:l.neighborhood,style:g.input,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"Cidade / UF"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("input",{value:l.city,style:{...g.input,flex:2},readOnly:!0}),s.jsx("input",{value:l.uf,style:{...g.input,flex:1},readOnly:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"Nmero"}),s.jsx("input",{value:l.number,onChange:p=>c({...l,number:p.target.value}),style:g.input,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"Complemento"}),s.jsx("input",{value:l.complement,onChange:p=>c({...l,complement:p.target.value}),style:g.input,placeholder:"Ap 101, Bloco B"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"Profisso"}),s.jsx("input",{type:"text",value:l.profession,onChange:p=>c({...l,profession:p.target.value}),style:g.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),s.jsxs("div",{style:g.grid,children:[s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"CPF (Chave PIX)"}),s.jsx("input",{type:"text",value:l.cpf,onChange:p=>{let b=p.target.value.replace(/\D/g,"");b.length>11&&(b=b.substring(0,11)),b=b.replace(/(\d{3})(\d)/,"$1.$2"),b=b.replace(/(\d{3})(\d)/,"$1.$2"),b=b.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),c(_=>({..._,cpf:b,pix_key:_.pix_key_type==="cpf"?b:_.pix_key}))},style:g.input,required:!0,placeholder:"000.000.000-00"})]}),s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"Tipo Chave PIX"}),s.jsxs("select",{value:l.pix_key_type,onChange:p=>{const b=p.target.value;c(_=>({..._,pix_key_type:b,pix_key:b==="cpf"?_.cpf:""}))},style:g.input,children:[s.jsx("option",{value:"cpf",children:"CPF"}),s.jsx("option",{value:"email",children:"E-mail"}),s.jsx("option",{value:"phone",children:"Telefone"}),s.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),l.pix_key_type!=="cpf"&&s.jsxs("div",{children:[s.jsx("label",{style:g.label,children:"Chave PIX"}),s.jsx("input",{value:l.pix_key,onChange:p=>c({...l,pix_key:p.target.value}),style:g.input,required:!0})]}),s.jsx("button",{type:"submit",disabled:t,style:g.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{style:{...g.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),s.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),s.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:g.button,children:"Ir para Login"})]})]})})}class l8 extends xf.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?s.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[s.jsx("h2",{children:"Algo deu errado."}),s.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),s.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function c8(){return xf.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:s.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:s.jsx(l8,{children:s.jsx(s8,{})})})})}const ys=e=>e?e.replace(/\D/g,""):"",fc=e=>{const t=ys(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},Ai=e=>ys(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),u8=e=>{const t=ys(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,l,c;try{for(a=0,c=10,i=0;i<9;i++)l=parseInt(t.charAt(i)),a=a+l*c,c=c-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,c=11,i=0;i<10;i++)l=parseInt(t.charAt(i)),a=a+l*c,c=c-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},d8=e=>{const t=ys(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);let l=i%11<2?0:11-i%11;if(l!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);return l=i%11<2?0:11-i%11,l==a.charAt(1)},ki=e=>ys(e).length===11,hc=e=>{const t=ys(e);return t.length<=11?u8(t):d8(t)},ou=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=x.useState(r);return s.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[s.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[s.jsx("span",{children:e}),n?s.jsx(Uy,{size:18}):s.jsx(Ly,{size:18})]}),n&&s.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function Fy({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){var F;const{showAlert:a,showConfirm:i}=zr(),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(!1),[h,m]=x.useState(!1),v=O=>{if(!O&&O!==0)return"";const N=Number(O);return isNaN(N)?"":N.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},w=O=>{if(!O||typeof O!="string")return 0;const N=O.replace(/\D/g,"");return Number(N)/1e4},y=(O,N)=>{const P=N.replace(/\D/g,""),L=(Number(P)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});C(G=>({...G,[O]:L}))},g=O=>O.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),p=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],b=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],_=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],j=[1,5,10,15,20,25,30],[S,C]=x.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{var O,N,P,M,L,G,J;E(),A(),e&&C({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:v(e.tarifa_concessionaria),te:v(e.te),tusd:v(e.tusd),fio_b:v(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:g(((O=e.address)==null?void 0:O.cep)||""),rua:((N=e.address)==null?void 0:N.rua)||"",numero:((P=e.address)==null?void 0:P.numero)||"",complemento:((M=e.address)==null?void 0:M.complemento)||"",bairro:((L=e.address)==null?void 0:L.bairro)||"",cidade:((G=e.address)==null?void 0:G.cidade)||"",uf:((J=e.address)==null?void 0:J.uf)||""})},[e]),x.useEffect(()=>{const O=w(S.tarifa_concessionaria);let N=30;S.tipo_ligacao==="trifasico"?N=100:S.tipo_ligacao==="bifasico"&&(N=50);const M=(O*N).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});C(L=>({...L,tarifa_minima:M}))},[S.tarifa_concessionaria,S.tipo_ligacao]);const E=async()=>{const{data:O}=await B.from("subscribers").select("id, name, cpf_cnpj").order("name");l(O||[])},A=async()=>{const{data:O}=await B.from("usinas").select("id, name").order("name");u(O||[])},k=O=>{const N=g(O.target.value);C(P=>({...P,cep:N}))},R=async()=>{const O=S.cep.replace(/\D/g,"");if(O.length===8){m(!0);try{const N=await Qr(O);if(C(P=>({...P,rua:N.rua||"",bairro:N.bairro||"",cidade:N.cidade||"",uf:N.uf||"",concessionaria:P.concessionaria||""})),N.ibge){const P=await cc(N.ibge);if(P){let M=P["Desconto Assinante"]||0;M>1||(M=M*100),C(L=>({...L,rua:N.rua||"",bairro:N.bairro||"",cidade:N.cidade||"",uf:N.uf||"",concessionaria:P.Concessionaria||L.concessionaria,tarifa_concessionaria:P["Tarifa Concessionaria"]?v(P["Tarifa Concessionaria"]):L.tarifa_concessionaria,te:P.TE?v(P.TE):L.te,tusd:P.TUSD?v(P.TUSD):L.tusd,fio_b:P["Fio B"]?v(P["Fio B"]):L.fio_b,desconto_assinante:M.toFixed(2)}))}}}catch(N){console.error("Erro CEP",N),a("Erro ao buscar CEP/Ofertas: "+(N.message||"No encontrado"),"error")}finally{m(!1)}}},T=async O=>{O.preventDefault(),f(!0);try{const N={subscriber_id:S.subscriber_id||null,usina_id:S.usina_id||null,status:S.status,numero_uc:S.numero_uc,titular_conta:S.titular_conta,modalidade:S.modalidade,concessionaria:S.concessionaria,tipo_ligacao:S.tipo_ligacao,franquia:Number(S.franquia),tarifa_concessionaria:w(S.tarifa_concessionaria),te:w(S.te),tusd:w(S.tusd),fio_b:w(S.fio_b),desconto_assinante:Number(S.desconto_assinante),dia_vencimento:Number(S.dia_vencimento),address:{cep:S.cep.replace(/\D/g,""),rua:S.rua,numero:S.numero,complemento:S.complemento,bairro:S.bairro,cidade:S.cidade,uf:S.uf}};if(!N.subscriber_id)throw new Error("Assinante  obrigatrio.");let P;if(e!=null&&e.id?P=await B.from("consumer_units").update(N).eq("id",e.id).select().single():P=await B.from("consumer_units").insert(N).select().single(),P.error)throw P.error;r(P.data),t()}catch(N){a("Erro ao salvar UC: "+N.message,"error")}finally{f(!1)}},H=async()=>{if(await i("Excluir esta Unidade Consumidora?")){f(!0);try{const{error:N}=await B.from("consumer_units").delete().eq("id",e.id);if(N)throw N;n&&n(e.id),t()}catch(N){a("Erro ao excluir: "+N.message,"error")}finally{f(!1)}}},q=((F=o.find(O=>O.id===S.subscriber_id))==null?void 0:F.name)||"";return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:e?q?`Editar UC - ${q}`:"Editar UC":"Nova Unidade Consumidora"}),s.jsx("button",{onClick:t,className:"modal-close",children:""})]}),s.jsxs("form",{onSubmit:T,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[s.jsx("label",{className:"label",children:"Status da Unidade"}),s.jsx("select",{value:S.status,onChange:O=>C({...S,status:O.target.value}),className:"select",style:{maxWidth:"300px"},children:p.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))})]}),s.jsxs(ou,{title:"Vnculos",defaultOpen:!0,children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"label",children:["Assinante ",s.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),s.jsxs("select",{required:!0,value:S.subscriber_id,onChange:O=>C({...S,subscriber_id:O.target.value}),className:"select",children:[s.jsx("option",{value:"",children:"Selecione..."}),o.map(O=>s.jsxs("option",{value:O.id,children:[O.name," (",O.cpf_cnpj,")"]},O.id))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Usina (Opcional)"}),s.jsxs("select",{value:S.usina_id,onChange:O=>C({...S,usina_id:O.target.value}),className:"select",children:[s.jsx("option",{value:"",children:"Selecione..."}),c.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),s.jsxs(ou,{title:"Endereo de Instalao",defaultOpen:!0,children:[s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[s.jsxs("div",{style:{width:"150px"},children:[s.jsx("label",{className:"label",children:"CEP"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{value:S.cep,onChange:k,onBlur:R,placeholder:"00000-000",maxLength:9,className:"input"}),h&&s.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Concessionria (Auto)"}),s.jsx("input",{value:S.concessionaria,onChange:O=>C({...S,concessionaria:O.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Rua"}),s.jsx("input",{value:S.rua,onChange:O=>C({...S,rua:O.target.value}),className:"input"})]}),s.jsxs("div",{style:{width:"100px"},children:[s.jsx("label",{className:"label",children:"Nmero"}),s.jsx("input",{value:S.numero,onChange:O=>C({...S,numero:O.target.value}),className:"input"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Bairro"}),s.jsx("input",{value:S.bairro,onChange:O=>C({...S,bairro:O.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Complemento"}),s.jsx("input",{value:S.complemento,onChange:O=>C({...S,complemento:O.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Cidade"}),s.jsx("input",{value:S.cidade,onChange:O=>C({...S,cidade:O.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"UF"}),s.jsx("input",{value:S.uf,onChange:O=>C({...S,uf:O.target.value}),className:"input"})]})]}),s.jsxs(ou,{title:"Dados da Unidade",defaultOpen:!0,children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"label",children:["Nmero da UC ",s.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),s.jsx("input",{required:!0,value:S.numero_uc,onChange:O=>C({...S,numero_uc:O.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),s.jsx("input",{required:!0,value:S.titular_conta,onChange:O=>C({...S,titular_conta:O.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]})]}),s.jsxs(ou,{title:"Dados Tcnicos e Comerciais",defaultOpen:!0,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Tipo de Ligao"}),s.jsx("select",{value:S.tipo_ligacao,onChange:O=>C({...S,tipo_ligacao:O.target.value}),className:"select",children:_.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Modalidade"}),s.jsx("select",{value:S.modalidade,onChange:O=>C({...S,modalidade:O.target.value}),className:"select",children:b.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),s.jsx("input",{type:"text",value:S.tarifa_concessionaria,onChange:O=>y("tarifa_concessionaria",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),s.jsx("input",{type:"text",value:S.te,onChange:O=>y("te",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),s.jsx("input",{type:"text",value:S.tusd,onChange:O=>y("tusd",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),s.jsx("input",{type:"text",value:S.fio_b,onChange:O=>y("fio_b",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),s.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[s.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),s.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:S.tarifa_minima||"R$ 0,00"}),s.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",S.tipo_ligacao,") x Tarifa."]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),s.jsx("input",{type:"number",step:"0.01",value:S.desconto_assinante,onChange:O=>C({...S,desconto_assinante:O.target.value}),placeholder:"%",className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),s.jsx("input",{type:"number",value:S.franquia,onChange:O=>C({...S,franquia:O.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Dia de Vencimento"}),s.jsx("select",{value:S.dia_vencimento,onChange:O=>C({...S,dia_vencimento:O.target.value}),className:"select",children:j.map(O=>s.jsx("option",{value:O,children:O},O))})]})]}),s.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&s.jsx("button",{type:"button",onClick:H,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),s.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Salvando...":"Salvar UC"})]})]})]})})}const f8=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=x.useState(r);return s.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[s.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[s.jsx("span",{children:e}),n?s.jsx(Uy,{size:18}):s.jsx(Ly,{size:18})]}),n&&s.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function h8({consumerUnit:e,subscriberId:t,concessionariaDefault:r,onClose:n,onSave:a}){const{showAlert:i,showConfirm:o}=zr(),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState({subscriber_id:t||"",status:"em_ativacao",numero_uc:"",titular_conta:"",concessionaria:r||"",modalidade:"geracao_compartilhada",tipo_ligacao:"monofasico",usina_id:null,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{e&&h(g=>{var p,b,_,j,S,C,E;return{...g,...e,address:void 0,cep:m(((p=e.address)==null?void 0:p.cep)||""),rua:((b=e.address)==null?void 0:b.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((S=e.address)==null?void 0:S.bairro)||"",cidade:((C=e.address)==null?void 0:C.cidade)||"",uf:((E=e.address)==null?void 0:E.uf)||""}}),r&&h(g=>({...g,concessionaria:r}))},[e,r]);const m=g=>g.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),v=g=>{const p=m(g.target.value);h(b=>({...b,cep:p}))},w=async()=>{const g=f.cep.replace(/\D/g,"");if(g.length===8){d(!0);try{const p=await Qr(g);h(b=>({...b,rua:p.rua||"",bairro:p.bairro||"",cidade:p.cidade||"",uf:p.uf||""}))}catch(p){console.error("Erro CEP",p)}finally{d(!1)}}},y=async g=>{g.preventDefault(),c(!0);try{const p={subscriber_id:f.subscriber_id,status:f.status,numero_uc:f.numero_uc,titular_conta:f.titular_conta,concessionaria:f.concessionaria,modalidade:f.modalidade,tipo_ligacao:f.tipo_ligacao,address:{cep:f.cep.replace(/\D/g,""),rua:f.rua,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cidade:f.cidade,uf:f.uf}};if(!p.subscriber_id)throw new Error("Erro: Assinante no identificado.");if(!p.numero_uc)throw new Error("Nmero da UC  obrigatrio.");let b;if(e!=null&&e.id?b=await B.from("consumer_units").update(p).eq("id",e.id).select().single():b=await B.from("consumer_units").insert(p).select().single(),b.error)throw b.error;a(b.data),n()}catch(p){i("Erro ao salvar UC: "+p.message,"error")}finally{c(!1)}};return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:e?"Editar Unidade Consumidora":"Nova Unidade Consumidora"}),s.jsx("button",{onClick:n,className:"modal-close",children:""})]}),s.jsxs("form",{onSubmit:y,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f0f9ff",padding:"1rem",borderRadius:"var(--radius-sm)",border:"1px solid #bae6fd"},children:[s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsxs("label",{className:"label",children:["Nmero da UC ",s.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),s.jsx("input",{required:!0,value:f.numero_uc,onChange:g=>h({...f,numero_uc:g.target.value}),placeholder:"Ex: 7204400277",className:"input",style:{fontSize:"1.1rem",fontWeight:"bold"}})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{className:"label",children:"Titular da Conta (Conforme Fatura)"}),s.jsx("input",{required:!0,value:f.titular_conta,onChange:g=>h({...f,titular_conta:g.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Concessionria"}),s.jsx("input",{value:f.concessionaria,readOnly:!0,className:"input",style:{background:"#e0e0e0",color:"#555"}})]})]}),s.jsxs(f8,{title:"Endereo de Instalao",defaultOpen:!0,children:[s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[s.jsxs("div",{style:{width:"140px"},children:[s.jsx("label",{className:"label",children:"CEP"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{value:f.cep,onChange:v,onBlur:w,placeholder:"00000-000",maxLength:9,className:"input"}),u&&s.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem"},children:"..."})]})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Rua"}),s.jsx("input",{value:f.rua,onChange:g=>h({...f,rua:g.target.value}),className:"input"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[s.jsxs("div",{style:{width:"100px"},children:[s.jsx("label",{className:"label",children:"Nmero"}),s.jsx("input",{value:f.numero,onChange:g=>h({...f,numero:g.target.value}),className:"input"})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Bairro"}),s.jsx("input",{value:f.bairro,onChange:g=>h({...f,bairro:g.target.value}),className:"input"})]})]}),s.jsx("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Complemento"}),s.jsx("input",{value:f.complemento,onChange:g=>h({...f,complemento:g.target.value}),className:"input"})]})}),s.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{className:"label",children:"Cidade"}),s.jsx("input",{value:f.cidade,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]}),s.jsxs("div",{style:{width:"60px"},children:[s.jsx("label",{className:"label",children:"UF"}),s.jsx("input",{value:f.uf,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]})]})]}),s.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",marginTop:"1rem"},children:[s.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:l,className:"btn btn-primary",style:{minWidth:"150px"},children:l?"Adicionando...":"Adicionar UC"})]})]})]})})}function m8(){const[e]=Ty(),t=Fa(),{showAlert:r,showConfirm:n}=zr(),a=e.get("name")||"",i=e.get("email")||"",o=e.get("phone")||"",l=e.get("cep")||"",c=e.get("originator_id")||"",u=e.get("discount_percent")||"0",d=e.get("savings_annual")||"0",f=e.get("concessionaria")||"",[h,m]=x.useState(!1),[v,w]=x.useState(!1),[y,g]=x.useState(null),[p,b]=x.useState([]),[_,j]=x.useState({name:a,cpf_cnpj:"",status:"ativacao",phone:o,email:i,cep:l,rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:c}),[S,C]=x.useState(!1),[E,A]=x.useState(!1);x.useEffect(()=>{l&&k(l)},[l]);const k=async M=>{const L=(M||_.cep).replace(/\D/g,"");if(L.length===8){C(!0);try{const G=await Qr(L);j(J=>({...J,cep:q(L),rua:G.rua||"",bairro:G.bairro||"",cidade:G.cidade||"",uf:G.uf||""}))}catch(G){console.error("Erro CEP:",G)}finally{C(!1)}}},R=async()=>{const M=_.cpf_cnpj.replace(/\D/g,"");if(M.length>=11){A(!0);try{const L=await Hf(M);L.nome&&j(G=>({...G,name:L.nome}))}catch(L){console.error("Erro Doc:",L)}finally{A(!1)}}},T=p.reduce((M,L)=>M+(Number(L.franquia)||0),0),H=p.length>0?T:e.get("consumo")||0,q=M=>M.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substr(0,9),F=async()=>{if(!hc(_.cpf_cnpj))throw new Error("CPF/CNPJ invlido!");if(!_.name)throw new Error("Nome  obrigatrio");if(_.cpf_cnpj.replace(/\D/g,""),!y){const{data:J}=await B.from("subscribers").select("id").eq("cpf_cnpj",_.cpf_cnpj).single();if(J)throw new Error("J existe um assinante com este CPF/CNPJ.")}let M=y==null?void 0:y.asaas_customer_id;try{const J=await BA({id:M,name:_.name,cpfCnpj:_.cpf_cnpj,email:_.email,phone:_.phone,postalCode:_.cep,addressNumber:_.numero,address:_.rua,province:_.bairro});J!=null&&J.success&&(M=J.asaas_id)}catch(J){if(console.error("Asaas Sync Error:",J),!await n(`Aviso: No foi possvel sincronizar com o Asaas (${J.message}).
Deseja finalizar o cadastro apenas localmente?`,"Erro de Sincronizao","Sim, Finalizar Local","No, Vou Corrigir"))throw new Error("Operao cancelada para correo de dados.")}const L={..._,asaas_customer_id:M};L.originator_id||(L.originator_id=null);let G;if(y!=null&&y.id?G=await B.from("subscribers").update(L).eq("id",y.id).select().single():G=await B.from("subscribers").insert(L).select().single(),G.error)throw G.error;return g(G.data),G.data},O=async()=>{if(y)w(!0);else try{if(!_.cpf_cnpj||!_.name)return r("Preencha os dados do assinante (CPF e Nome) antes de adicionar UCs.","warning");m(!0),await F(),m(!1),w(!0)}catch(M){m(!1),r(M.message,"error")}},N=async()=>{var M,L;m(!0);try{const G=await F();if(p.length===0&&!await n("Nenhuma Unidade Consumidora (UC) foi cadastrada. Deseja finalizar mesmo assim?")){m(!1);return}if(c){const{data:J}=await B.from("originators_v2").select("phone").eq("id",c).single();if(J!=null&&J.phone){const ae=` Novo Cliente Cadastrado!

${G.name} acabou de completar o cadastro.
Verifique no CRM.`;let ie="default";try{const{data:oe}=await B.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(M=oe==null?void 0:oe.variables)!=null&&M.instance_name&&(ie=oe.variables.instance_name)}catch(oe){console.error("Error fetching integration config:",oe)}await Og(J.phone,ae,null,ie)}}if(G.phone){const J=`Ol, ${G.name}! 

Seu cadastro na B2W Energia foi recebido com sucesso e est em fase de ativao.

Para acompanhar o processo, acesse seu email e crie seu login.`;let ae="default";try{const{data:ie}=await B.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(L=ie==null?void 0:ie.variables)!=null&&L.instance_name&&(ae=ie.variables.instance_name)}catch(ie){console.error("Error fetching integration config:",ie)}await Og(G.phone,J,null,ae)}r("Cadastro realizado com sucesso!","success"),t("/login")}catch(G){console.error(G),r("Erro ao finalizar: "+G.message,"error")}finally{m(!1)}},P=async()=>{if(!(y!=null&&y.id))return;const{data:M}=await B.from("consumer_units").select("*").eq("subscriber_id",y.id);b(M||[])};return x.useEffect(()=>{y&&P()},[y]),s.jsxs("div",{className:"min-h-screen bg-slate-50 font-inter",children:[s.jsx("div",{className:"bg-white border-b border-slate-200",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#003366"},children:_.name||"Novo Assinante"}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Confira os detalhes da sua economia e finalize sua adeso abaixo."})]})}),s.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Concessionria"}),s.jsx("p",{className:"font-semibold text-slate-900",children:"Distribuidora Local"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Mdia de Consumo"}),s.jsxs("p",{className:"font-semibold text-slate-900",children:[Number(H).toLocaleString("pt-BR")," kWh"]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Endereo da Instalao"}),s.jsx("p",{className:"font-semibold text-slate-900 truncate",title:`${_.rua}, ${_.numero}`,children:_.rua?`${_.rua}, ${_.numero}`:"Endereo no informado"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-2",children:[s.jsx(Gf,{className:"text-orange-500 fill-orange-500",size:24}),s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Economia esperada com a B2W Energia"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[s.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#003366"},children:[s.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Desconto Garantido"}),s.jsxs("p",{className:"text-6xl font-bold mb-2",children:[u,"%"]}),s.jsx("p",{className:"text-xs opacity-75",children:"Sobre a tarifa de energia"})]}),s.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#FF6600"},children:[s.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Economia Anual Estimada"}),s.jsx("p",{className:"text-5xl font-bold mb-2",children:Number(d).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),s.jsx("p",{className:"text-xs opacity-75",children:"Mais dinheiro no seu bolso"})]})]}),s.jsx("div",{className:"bg-slate-50 p-3 text-center text-xs text-slate-500",children:"* Estimativa baseada no seu histrico de consumo mdio mensal informado."})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-6 md:p-10",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",style:{color:"#003366"},children:[s.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Dados do Assinante"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CPF ou CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:_.cpf_cnpj,onChange:M=>j({..._,cpf_cnpj:fc(M.target.value)}),onBlur:R,className:`w-full px-4 py-4 rounded-xl border ${E?"bg-blue-50 border-blue-200":"bg-white border-slate-200"} focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`,placeholder:"000.000.000-00"}),E&&s.jsx("span",{className:"absolute right-3 top-4 text-xs text-[#003366] font-bold",children:"Buscando..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nome Completo / Razo Social"}),s.jsx("input",{type:"text",value:_.name,onChange:M=>j({..._,name:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700",placeholder:"Seu nome"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"E-mail"}),s.jsx("input",{type:"email",value:_.email,onChange:M=>j({..._,email:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"WhatsApp"}),s.jsx("input",{type:"tel",value:_.phone,onChange:M=>j({..._,phone:Ai(M.target.value)}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsx("div",{className:"md:col-span-2 pt-6 border-t border-slate-100 mt-2",children:s.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",style:{color:"#003366"},children:[s.jsx("div",{className:"w-1 h-6 bg-[#FF6600] rounded-full"}),"Endereo"]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 md:col-span-2",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CEP"}),s.jsx("input",{type:"text",value:_.cep,onChange:M=>j({..._,cep:q(M.target.value)}),onBlur:M=>k(M.target.value),className:`w-full px-4 py-4 rounded-xl border ${S?"bg-blue-50":"bg-white"} border-slate-200 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Rua"}),s.jsx("input",{type:"text",value:_.rua,onChange:M=>j({..._,rua:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nmero"}),s.jsx("input",{type:"text",value:_.numero,onChange:M=>j({..._,numero:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Comp."}),s.jsx("input",{type:"text",value:_.complemento,onChange:M=>j({..._,complemento:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Bairro"}),s.jsx("input",{type:"text",value:_.bairro,onChange:M=>j({..._,bairro:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Cidade/UF"}),s.jsx("input",{type:"text",value:`${_.cidade}-${_.uf}`,readOnly:!0,className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-slate-50 text-slate-500 cursor-not-allowed font-medium"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-6 md:p-10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",style:{color:"#003366"},children:[s.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Unidades Consumidoras"]}),s.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg font-bold hover:bg-green-100 transition-colors border border-green-200",children:[s.jsx(vs,{size:20}),"Adicionar UC"]})]}),p.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:s.jsx("p",{children:"Nenhuma UC cadastrada. Adicione pelo menos uma para continuar."})}):s.jsx("div",{className:"space-y-3",children:p.map(M=>s.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-slate-800",children:["UC: ",M.numero_uc]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[M.concessionaria,"  ",Number(M.franquia)," kWh"]})]}),s.jsx("button",{className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",onClick:async()=>{await n("Remover esta UC?")&&(await B.from("consumer_units").delete().eq("id",M.id),P())},children:s.jsx(dc,{size:18})})]},M.id))})]}),s.jsx("button",{onClick:N,disabled:h,className:"w-full py-5 text-xl font-bold text-white uppercase tracking-wider rounded-xl shadow-xl transition-all transform active:scale-[0.99] flex justify-center items-center gap-3 hover:shadow-2xl",style:{backgroundColor:"#FF6600"},children:h?"Processando...":s.jsxs(s.Fragment,{children:["Finalizar Adeso ",s.jsx(Y3,{size:24})]})})]}),v&&s.jsx(h8,{consumerUnit:null,subscriberId:y==null?void 0:y.id,concessionariaDefault:f,onClose:()=>w(!1),onSave:()=>{P(),w(!1)}})]})}function p8(){const e=Fa(),[t,r]=x.useState(!1),[n,a]=x.useState(1),[i,o]=x.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),l=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await Hf(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},c=async()=>{if(i.cep.length>=8){r(!0);try{const f=await Qr(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await B.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const v=h.user.id,{error:w}=await B.from("profiles").upsert({id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});w&&console.error("Erro ao criar/atualizar perfil:",w);const{data:y,error:g}=await B.from("subscribers").insert({profile_id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(g)throw g;await B.from("consumer_units").insert({subscriber_id:y.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return s.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:s.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[s.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&s.jsx("form",{onSubmit:u,children:s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{children:"CPF/CNPJ"}),s.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:l,style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Nome Completo"}),s.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Email"}),s.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Senha"}),s.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Telefone"}),s.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&s.jsx("form",{onSubmit:d,children:s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{children:"CEP da Unidade Consumidora"}),s.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:c,style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Rua"}),s.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),s.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Nmero da Instalao (UC)"}),s.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),s.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}const WA=x.createContext({}),en=()=>x.useContext(WA),g8=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[i,o]=x.useState(!0);x.useEffect(()=>{B.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?l(d.user.id):o(!1)});const{data:{subscription:u}}=B.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?l(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const l=async u=>{try{const{data:d,error:f}=await B.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},c={signUp:u=>B.auth.signUp(u),signIn:u=>B.auth.signInWithPassword(u),signOut:()=>B.auth.signOut(),user:t,profile:n,loading:i};return s.jsx(WA.Provider,{value:c,children:!i&&e})};function FA({user:e,onClose:t,onSave:r}){const[n,a]=x.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=x.useState(!1),[l,c]=x.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};x.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await B.from("profiles").select("id, name, role").neq("id",e.id);if(m){const v=u[h]||99,w=m.filter(y=>(u[y.role]||99)<v);c(w)}},f=async h=>{if(h.preventDefault(),n.phone&&!ki(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:v}=await B.from("profiles").update(m).eq("id",e.id);if(v)throw v;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:"Editar Usurio"}),s.jsx("button",{onClick:t,className:"modal-close",children:""})]}),s.jsxs("form",{onSubmit:f,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Nome"}),s.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Telefone"}),s.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:Ai(h.target.value)}),className:"input"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Funo (Role)"}),s.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[s.jsx("option",{value:"lead",children:"Lead"}),s.jsx("option",{value:"subscriber",children:"Assinante"}),s.jsx("option",{value:"originator",children:"Originador"}),s.jsx("option",{value:"supplier",children:"Fornecedor"}),s.jsx("option",{value:"coordinator",children:"Coordenador"}),s.jsx("option",{value:"manager",children:"Gerente"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Superior Imediato"}),s.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[s.jsx("option",{value:"",children:"Sem superior"}),l.map(h=>s.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),s.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[s.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),s.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),s.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function v8(){const{user:e}=en(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState(""),[u,d]=x.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=y=>f[y]||99;x.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:y,error:g}=await B.from("profiles").select("*").order("name");if(g)throw g;r(y||[])}catch(y){console.error("Error fetching users:",y),alert("Erro ao buscar usurios")}finally{a(!1)}},v=y=>{r(t.map(g=>g.id===y.id?y:g)),alert("Perfil atualizado com sucesso!")},w=t.filter(y=>{var b,_;const g=(((b=y.name)==null?void 0:b.toLowerCase())||"").includes(l.toLowerCase())||(((_=y.email)==null?void 0:_.toLowerCase())||"").includes(l.toLowerCase()),p=u?y.role===u:!0;return g&&p}).sort((y,g)=>h(y.role)-h(g.role));return s.jsxs("div",{children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:s.jsx("h2",{children:"Painel Administrativo"})}),s.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[s.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[s.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[s.jsx("input",{placeholder:"Buscar por nome ou email...",value:l,onChange:y=>c(y.target.value),className:"input",style:{width:"250px"}}),s.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"select",style:{width:"auto"},children:[s.jsx("option",{value:"",children:"Todos os Perfis"}),s.jsx("option",{value:"super_admin",children:"Super Admin"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"manager",children:"Gerente"}),s.jsx("option",{value:"coordinator",children:"Coordenador"}),s.jsx("option",{value:"supplier",children:"Fornecedor"}),s.jsx("option",{value:"originator",children:"Originador"}),s.jsx("option",{value:"subscriber",children:"Assinante"}),s.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?s.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Hierarquia"}),s.jsx("th",{children:"Nome"}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:"Perfil (Role)"}),s.jsx("th",{children:"Comisso (Start/Rec.)"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:w.map(y=>{var g,p;return s.jsxs("tr",{children:[s.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(y.role)]}),s.jsx("td",{children:y.name||"-"}),s.jsx("td",{children:y.email}),s.jsx("td",{children:s.jsx("span",{className:"badge badge-neutral",children:y.role})}),s.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((g=y.commission_split)==null?void 0:g.start)||0,"% / ",((p=y.commission_split)==null?void 0:p.recorrente)||0,"%"]}),s.jsx("td",{children:s.jsx("button",{onClick:()=>o(y),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})]}),i&&s.jsx(FA,{user:i,onClose:()=>o(null),onSave:v})]})}function VA({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=en(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),[o,l]=x.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",iluminacao_publica:"",tarifa_minima:"",outros_lancamentos:"",status:"a_vencer",valor_a_pagar:"",economia_reais:"",consumo_reais:""}),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(!1),v=_=>!_&&_!==0?"R$ 0,00":Number(_).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),w=_=>_?typeof _=="number"?_:Number(_.replace(/\D/g,""))/100:0;x.useEffect(()=>{if(e){if(l({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,iluminacao_publica:e.iluminacao_publica?v(e.iluminacao_publica):"",tarifa_minima:e.tarifa_minima?v(e.tarifa_minima):"",outros_lancamentos:e.outros_lancamentos?v(e.outros_lancamentos):"",valor_a_pagar:v(e.valor_a_pagar),economia_reais:v(e.economia_reais),consumo_reais:e.consumo_reais?v(e.consumo_reais):"",status:e.status}),t){const _=t.find(j=>j.id===e.uc_id);u(_)}}else t&&t.length>0&&(l(_=>({..._,uc_id:t[0].id})),u(t[0]))},[e,t]),x.useEffect(()=>{if(o.uc_id&&t){const _=t.find(j=>j.id===o.uc_id);u(_)}},[o.uc_id,t]),x.useEffect(()=>{if(o.consumo_kwh&&c){const _=Number(o.consumo_kwh);w(String(c.tarifa_concessionaria||"0"));const j=Number(c.tarifa_concessionaria)||0,S=Number(c.desconto_assinante)||0,C=_*j;let E=0;const A=S>1?S/100:S;E=C*A;const k=C-E,R=w(o.iluminacao_publica),T=w(o.tarifa_minima),H=w(o.outros_lancamentos),q=k+R+T+H;l(F=>({...F,economia_reais:v(E),consumo_reais:v(k),valor_a_pagar:v(q)}))}},[o.consumo_kwh,o.iluminacao_publica,o.tarifa_minima,o.outros_lancamentos,c]);const y=(_,j)=>{const S=j.replace(/\D/g,""),E=(Number(S)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});l(A=>({...A,[_]:E}))},g=(_,j)=>{const S=o.mes_referencia.split("-");let C=S[0]||new Date().getFullYear(),E=S[1]||"01";_==="month"&&(E=j),_==="year"&&(C=j),l(A=>({...A,mes_referencia:`${C}-${E}`}))},p=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const _=await Wf(e.id);_.url&&(alert("Boleto gerado com sucesso!"),window.open(_.url,"_blank"),n(),r())}catch(_){console.error(_),alert("Erro ao gerar boleto: "+_.message)}finally{m(!1)}}},b=async _=>{_.preventDefault(),f(!0);try{const j={uc_id:o.uc_id,mes_referencia:`${o.mes_referencia}-01`,vencimento:o.vencimento,consumo_kwh:Number(o.consumo_kwh),consumo_reais:w(o.consumo_reais),iluminacao_publica:w(o.iluminacao_publica),tarifa_minima:w(o.tarifa_minima),outros_lancamentos:w(o.outros_lancamentos),valor_a_pagar:w(o.valor_a_pagar),economia_reais:w(o.economia_reais),status:o.status};if(!j.uc_id)throw new Error("Selecione uma Unidade Consumidora.");let S;if(e!=null&&e.id?S=await B.from("invoices").update(j).eq("id",e.id).select().single():S=await B.from("invoices").insert(j).select().single(),S.error)throw S.error;n(),r()}catch(j){alert("Erro ao salvar fatura: "+j.message)}finally{f(!1)}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:s.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"800px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[s.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"1.25rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Fatura":"Nova Fatura"}),s.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Preencha os dados de consumo e valores"})]}),s.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8"},children:""})]}),s.jsxs("form",{onSubmit:b,style:{padding:"1.5rem"},children:[s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Unidade Consumidora"}),s.jsxs("select",{required:!0,value:o.uc_id,onChange:_=>l({...o,uc_id:_.target.value}),disabled:!!e,style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"0.95rem",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(_=>s.jsxs("option",{value:_.id,children:[_.numero_uc," - ",_.titular_conta]},_.id))]}),c&&s.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#3b82f6",background:"#eff6ff",padding:"0.5rem",borderRadius:"4px",display:"inline-flex",gap:"1rem"},children:[s.jsxs("span",{children:[s.jsx("strong",{children:"Tarifa:"})," R$ ",Number(c.tarifa_concessionaria||0).toFixed(4)]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Desconto:"})," ",c.desconto_assinante||0,"%"]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Ms Referncia"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("select",{value:o.mes_referencia.split("-")[1],onChange:_=>g("month",_.target.value),style:{flex:1,padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((_,j)=>s.jsx("option",{value:_,children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][j]},_))}),s.jsx("select",{value:o.mes_referencia.split("-")[0],onChange:_=>g("year",_.target.value),style:{width:"80px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:Array.from({length:5},(_,j)=>new Date().getFullYear()-1+j).map(_=>s.jsx("option",{value:_,children:_},_))})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Vencimento"}),s.jsx("input",{type:"date",required:!0,value:o.vencimento,onChange:_=>l({...o,vencimento:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),i&&s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status"}),s.jsxs("select",{value:o.status,onChange:_=>l({...o,status:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:[s.jsx("option",{value:"a_vencer",children:"A Vencer"}),s.jsx("option",{value:"pago",children:"Pago"}),s.jsx("option",{value:"atrasado",children:"Atrasado"})]})]})]}),s.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"1rem 0"}}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[s.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Gf,{size:18})," Dados de Consumo"]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo (kWh)"}),s.jsx("input",{type:"number",step:"any",required:!0,value:o.consumo_kwh,onChange:_=>l({...o,consumo_kwh:_.target.value}),placeholder:"0",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Ff,{size:18})," Valores Adicionais"]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Iluminao Pblica (R$)"}),s.jsx("input",{type:"text",value:o.iluminacao_publica,onChange:_=>y("iluminacao_publica",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa Mnima (R$)"}),s.jsx("input",{type:"text",value:o.tarifa_minima,onChange:_=>y("tarifa_minima",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Outros Lanamentos (R$)"}),s.jsx("input",{type:"text",value:o.outros_lancamentos,onChange:_=>y("outros_lancamentos",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),s.jsxs("div",{style:{background:"#f1f5f9",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(J3,{size:18})," Resumo do Clculo"]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"Consumo Bruto:"}),s.jsxs("span",{style:{fontWeight:600},children:["R$ ",(Number(o.consumo_kwh)*(Number(c==null?void 0:c.tarifa_concessionaria)||0)).toFixed(2).replace(".",",")]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#166534",background:"#dcfce7",padding:"0.5rem",borderRadius:"4px"},children:[s.jsx("span",{children:"Economia Gerada:"}),s.jsxs("span",{style:{fontWeight:"bold"},children:["- ",o.economia_reais||"R$ 0,00"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"Consumo Lquido (R$):"}),s.jsx("span",{style:{fontWeight:600},children:o.consumo_reais||"R$ 0,00"})]}),s.jsx("div",{style:{height:"1px",background:"#cbd5e1",margin:"0.5rem 0"}}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"+ Ilum. Pblica:"}),s.jsx("span",{children:o.iluminacao_publica||"R$ 0,00"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"+ Tarifa Mnima:"}),s.jsx("span",{children:o.tarifa_minima||"R$ 0,00"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[s.jsx("span",{style:{color:"#64748b"},children:"+ Outros:"}),s.jsx("span",{children:o.outros_lancamentos||"R$ 0,00"})]}),s.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px dashed #cbd5e1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#64748b",marginBottom:"0.2rem"},children:"Total a Pagar"}),s.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:o.valor_a_pagar||"R$ 0,00"})]})]})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[s.jsxs("div",{children:[(e==null?void 0:e.id)&&!e.asaas_boleto_url&&s.jsx("button",{type:"button",onClick:p,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:h?"Gerando...":s.jsxs(s.Fragment,{children:[s.jsx(uc,{size:18})," Emitir Boleto Agora"]})}),(e==null?void 0:e.asaas_boleto_url)&&s.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534",fontWeight:"bold",textDecoration:"none"},children:[s.jsx(La,{size:18})," Ver Boleto Emitido"]})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function y8(){var j;const{user:e,profile:t}=en(),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[v,w]=x.useState(!1),y=["super_admin","admin","manager"].includes(t==null?void 0:t.role);x.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{l(!0);let S;const{data:C}=await B.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(C){S=C.id,u(C.id);const{data:E}=await B.from("consumer_units").select("*").eq("subscriber_id",S);if(n(E||[]),E&&E.length>0){const A=E.map(R=>R.id),{data:k}=await B.from("invoices").select("*").in("uc_id",A).order("vencimento",{ascending:!1});i(k||[])}}else if(y){const{data:E}=await B.from("consumer_units").select("*");if(n(E||[]),E&&E.length>0){const{data:A}=await B.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(A||[])}}}catch(S){console.error("Error fetching dashboard data:",S)}finally{l(!1)}},p=S=>{const C=a.find(E=>E.id===S.id);i(C?a.map(E=>E.id===S.id?S:E):[S,...a]),alert("Fatura salva com sucesso!")},b=a.reduce((S,C)=>S+(C.economia_reais||0),0),_=a[0];return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Viso Geral do Assinante"}),s.jsx("div",{style:{display:"flex",gap:"1rem"},children:y&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>w(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),s.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),s.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",b.toFixed(2)]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),s.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:_?`R$ ${(j=_.valor_a_pagar)==null?void 0:j.toFixed(2)}`:"-"}),s.jsx("small",{style:{color:"var(--color-text-light)"},children:_?new Date(_.vencimento).toLocaleDateString():""})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),s.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),s.jsx("h3",{children:"Minhas Faturas"}),s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),s.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),s.jsx("tbody",{children:a.map(S=>{var C,E;return s.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[s.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(S.vencimento).toLocaleDateString()}),s.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[S.consumo_kwh," kWh"]}),s.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(C=S.valor_a_pagar)==null?void 0:C.toFixed(2)]}),s.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=S.economia_reais)==null?void 0:E.toFixed(2)]}),s.jsx("td",{style:{padding:"1rem"},children:s.jsx("span",{className:`badge ${S.status==="pago"?"badge-success":"badge-error"}`,children:S.status==="pago"?"Pago":"A Vencer"})}),s.jsx("td",{style:{padding:"1rem"},children:y?s.jsx("button",{onClick:()=>{m(S),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):s.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},S.id)})})]})}),d&&s.jsx(VA,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:p}),v&&s.jsx(Fy,{consumerUnit:{subscriber_id:c},onClose:()=>w(!1),onSave:()=>{g(),w(!1)}})]})}function b8(){const{user:e,profile:t}=en(),[r,n]=x.useState([]),[a,i]=x.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;x.useEffect(()=>{async function u(){const{data:d}=await B.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await B.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await B.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&u()},[e]);const l=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},c=async u=>{var h;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await B.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:v}=await B.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(v)throw v;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await B.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return s.jsxs("div",{children:[s.jsx("h2",{children:"Painel do Originador"}),s.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[s.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[s.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),s.jsx("button",{onClick:l,className:"btn btn-accent",children:"Copiar"})]})]}),s.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Data"})]})}),s.jsxs("tbody",{children:[r.map(u=>s.jsxs("tr",{children:[s.jsx("td",{children:u.name}),s.jsx("td",{children:s.jsx("span",{className:"badge badge-neutral",children:u.status})}),s.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),s.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Ms Ref."}),s.jsx("th",{children:"Faturas Proc."}),s.jsx("th",{children:"Valor (R$)"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Data Pagt."}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:a.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>s.jsxs("tr",{children:[s.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),s.jsx("td",{children:u.total_invoices}),s.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),s.jsx("td",{children:s.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),s.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),s.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&s.jsx("button",{onClick:()=>c(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function x8(){const{user:e}=en(),[t,r]=x.useState([]);return x.useEffect(()=>{async function n(){const{data:a}=await B.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await B.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),s.jsxs("div",{children:[s.jsx("h2",{children:"Painel do Fornecedor"}),s.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[s.jsx("h3",{children:"Minhas Usinas"}),s.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),s.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>s.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[s.jsx("h4",{children:n.name}),s.jsxs("p",{children:["Status: ",s.jsx("strong",{children:n.status})]}),s.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function w8({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=en(),[o,l]=x.useState([]),c=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[u,d]=x.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=x.useState(!1),[m,v]=x.useState(!1);x.useEffect(()=>{w(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(b=>({...b,originator_id:i.id}))},[e,i]);const w=async()=>{const{data:b}=await B.from("originators_v2").select("id, name").order("name");l(b||[])},y=async()=>{const b=u.cep.replace(/\D/g,"");if(b.length===8){v(!0);try{const _=await Qr(b);let j={};if(_.ibge)try{const S=await cc(_.ibge);S&&(j=S)}catch(S){console.error("Erro na oferta",S)}d(S=>({...S,rua:_.rua||"",bairro:_.bairro||"",cidade:_.cidade||"",uf:_.uf||"",concessionaria:(j==null?void 0:j.Concessionaria)||S.concessionaria||"",tarifa_concessionaria:(j==null?void 0:j["Tarifa Concessionaria"])||S.tarifa_concessionaria||"",tarifa_concessionaria:(j==null?void 0:j["Tarifa Concessionaria"])||S.tarifa_concessionaria||"",desconto_assinante:(()=>{let C=(j==null?void 0:j["Desconto Assinante"])||S.desconto_assinante||"";return C&&!isNaN(C)&&Number(C)>0&&Number(C)<1?Number(C)*100:C})()}))}catch(_){console.error("Erro ao buscar CEP:",_),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{v(!1)}}},g=async b=>{if(b.preventDefault(),u.phone&&!ki(u.phone)){alert("Telefone invlido!");return}h(!0);try{const _={...u};_.tarifa_concessionaria=_.tarifa_concessionaria?Number(_.tarifa_concessionaria):null,_.consumo_kwh=_.consumo_kwh?Number(_.consumo_kwh):null,_.desconto_assinante=_.desconto_assinante?Number(_.desconto_assinante):null,_.originator_id===""&&(_.originator_id=null);let j;if(e!=null&&e.id?j=await B.from("leads").update(_).eq("id",e.id).select().single():j=await B.from("leads").insert(_).select().single(),j.error)throw j.error;if(_.status==="ativo"&&(!e||e.status!=="ativo")){const S=_.originator_id;if(S)try{const{data:C}=await B.from("originators_v2").select("phone, split_commission, name").eq("id",S).maybeSingle();if(C&&C.phone){const E=Number(_.consumo_kwh)||0,A=Number(_.tarifa_concessionaria)||.85;let k=Number(_.desconto_assinante)||15;k<1&&k>0&&(k=k*100);const R=E*A,T=R*(k/100),H=R-T,q=Number(C.split_commission)||0,O=(H*(q/100)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),P=`${_.name||"O Lead"}, aceitou o convite e est proximo de concluir o cadastro, em breve vc receber o seu cashback ${O}`;await Og(C.phone,P),console.log("Notificao de ativao enviada para:",C.name)}}catch(C){console.error("Erro ao enviar notificao de ativao:",C)}}r(j.data),t()}catch(_){alert("Erro ao salvar lead: "+_.message)}finally{h(!1)}},p=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:b}=await B.from("leads").delete().eq("id",e.id);if(b)throw b;n&&n(e.id),t()}catch(b){alert("Erro ao excluir lead: "+b.message)}finally{h(!1)}}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[s.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),s.jsxs("form",{onSubmit:g,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),s.jsx("select",{value:u.status,onChange:b=>d({...u,status:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:c.map(b=>s.jsx("option",{value:b.value,children:b.label},b.value))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),s.jsxs("select",{value:u.originator_id,onChange:b=>d({...u,originator_id:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[s.jsx("option",{value:"",children:"Selecione..."}),o.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),s.jsx("input",{required:!0,value:u.name,onChange:b=>d({...u,name:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),s.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:u.phone,onChange:b=>d({...u,phone:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),s.jsx("input",{type:"email",value:u.email,onChange:b=>d({...u,email:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),s.jsx("input",{placeholder:"00000-000",value:u.cep,onChange:b=>d({...u,cep:b.target.value}),onBlur:y,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),s.jsxs("div",{style:{flex:2},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),s.jsx("input",{value:`${u.cidade} - ${u.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),s.jsx("input",{value:u.rua,onChange:b=>d({...u,rua:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),s.jsx("input",{value:u.numero,onChange:b=>d({...u,numero:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),s.jsx("input",{value:u.complemento,onChange:b=>d({...u,complemento:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),s.jsx("input",{value:u.bairro,onChange:b=>d({...u,bairro:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),s.jsx("input",{type:"number",value:u.consumo_kwh,onChange:b=>d({...u,consumo_kwh:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),s.jsx("input",{value:u.concessionaria,onChange:b=>d({...u,concessionaria:b.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),s.jsx("input",{type:"number",step:"0.0001",value:u.tarifa_concessionaria,onChange:b=>d({...u,tarifa_concessionaria:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),s.jsx("input",{type:"number",step:"0.01",value:u.desconto_assinante,onChange:b=>d({...u,desconto_assinante:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),s.jsx("input",{value:(()=>{const b=Number(u.consumo_kwh)||0,_=Number(u.tarifa_concessionaria)||0,j=Number(u.desconto_assinante)||0;if(b&&_&&j){const C=b*_*(j/100);return isNaN(C)?"R$ 0,00":C.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[s.jsx("div",{children:e&&n&&s.jsx("button",{type:"button",onClick:p,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&s.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),s.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function GA({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=zr(),{profile:o}=en(),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!1),[m,v]=x.useState(!1),w=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[y,g]=x.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[p,b]=x.useState(!1),[_,j]=x.useState(!1),[S,C]=x.useState(!1);x.useEffect(()=>{E(),e&&(g({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),A(e.id))},[e]);const E=async()=>{const{data:O}=await B.from("originators_v2").select("id, name").order("name");c(O||[])},A=async O=>{const{data:N}=await B.from("consumer_units").select("*").eq("subscriber_id",O);d(N||[])},k=async()=>{const O=y.cep.replace(/\D/g,"");if(O.length===8){j(!0);try{const N=await Qr(O);g(P=>({...P,rua:N.rua||"",bairro:N.bairro||"",cidade:N.cidade||"",uf:N.uf||""}))}catch(N){console.error("Erro ao buscar CEP:",N),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{j(!1)}}},R=async()=>{const O=y.cpf_cnpj.replace(/\D/g,"");if(O.length>=11){C(!0);try{const N=await Hf(O);N.nome&&g(P=>({...P,name:N.nome}))}catch(N){console.error("Erro buscar doc",N)}finally{C(!1)}}},T=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${y.name}?`)){h(!0);try{const N=await Wf(e.id,"subscriber");N.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(N.url,"_blank"))}catch(N){console.error(N),a("Erro: "+(N.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{h(!1)}}},H=async O=>{if(O.preventDefault(),!hc(y.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(y.phone&&!ki(y.phone)){a("Telefone invlido!","warning");return}b(!0);try{const N=y.cpf_cnpj.replace(/\D/g,"");let P=B.from("subscribers").select("id").eq("cpf_cnpj",y.cpf_cnpj);e!=null&&e.id&&(P=P.neq("id",e.id));const{data:M,error:L}=await P;if(L)throw L;if(M&&M.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");let G=null,J=!1;try{const oe=await BA({id:e==null?void 0:e.asaas_customer_id,name:y.name,cpfCnpj:y.cpf_cnpj,email:y.email,phone:y.phone,postalCode:y.cep,addressNumber:y.numero,address:y.rua,province:y.bairro});if(!oe||!oe.success)throw new Error((oe==null?void 0:oe.error)||"Erro desconhecido");G=oe.asaas_id,J=!0}catch(oe){if(console.error("Asaas Sync Error:",oe),!await i(`Falha ao sincronizar com Asaas: ${oe.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao","Salvar Localmente","Corrigir Dados")){b(!1);return}}const ae={...y};G&&(ae.asaas_customer_id=G),ae.originator_id===""&&(ae.originator_id=null);let ie;if(e!=null&&e.id?ie=await B.from("subscribers").update(ae).eq("id",e.id).select().single():ie=await B.from("subscribers").insert(ae).select().single(),ie.error)throw ie.error;J?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let oe=null;if(ae.status==="ativacao"?oe="em_negociacao":ae.status==="ativo"&&(oe="ativo"),oe&&ae.email){const{data:I,error:W}=await B.from("leads").select("id, status").eq("email",ae.email).order("created_at",{ascending:!1}).limit(1);if(!W&&I&&I.length>0){const ce=I[0];if(ce.status!==oe){const{error:z}=await B.from("leads").update({status:oe}).eq("id",ce.id);z?console.error("Error auto-updating lead status:",z):console.log(`Lead ${ce.id} auto-updated to ${oe}`)}}}}catch(oe){console.error("Lead sync error:",oe)}r(ie.data),t()}catch(N){console.error(N),a("Erro ao salvar assinante: "+N.message,"error")}finally{b(!1)}},q=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){b(!0);try{const{error:N}=await B.from("subscribers").delete().eq("id",e.id);if(N)throw N;n&&n(e.id),t()}catch(N){a("Erro ao excluir: "+N.message,"error")}finally{b(!1)}}},F=async O=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:P}=await B.from("consumer_units").update({subscriber_id:null}).eq("id",O);if(P)throw P;A(e.id),a("UC desvinculada com sucesso!","success")}catch(P){console.error(P),a("Erro ao desvincular UC: "+P.message,"error")}};return s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[s.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[s.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),s.jsxs("form",{onSubmit:H,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),s.jsx("select",{value:y.status,onChange:O=>g({...y,status:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:w.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),s.jsxs("select",{value:y.originator_id,onChange:O=>g({...y,originator_id:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[s.jsx("option",{value:"",children:"Selecione..."}),l.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),s.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:s.jsx("input",{value:y.cpf_cnpj,onChange:O=>g({...y,cpf_cnpj:fc(O.target.value)}),onBlur:R,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:S?"#f0f9ff":"white"},required:!0})})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),s.jsx("input",{required:!0,value:y.name,onChange:O=>g({...y,name:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),s.jsx("input",{type:"email",value:y.email,onChange:O=>g({...y,email:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),s.jsx("input",{value:y.phone,onChange:O=>g({...y,phone:Ai(O.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),s.jsx("input",{value:y.cep,onChange:O=>g({...y,cep:O.target.value}),onBlur:k,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:_?"#f0f9ff":"white"}})]}),s.jsxs("div",{style:{flex:2},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),s.jsx("input",{value:`${y.cidade} - ${y.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),s.jsx("input",{value:y.rua,onChange:O=>g({...y,rua:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),s.jsx("input",{value:y.numero,onChange:O=>g({...y,numero:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),s.jsx("input",{value:y.complemento,onChange:O=>g({...y,complemento:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),s.jsx("input",{value:y.bairro,onChange:O=>g({...y,bairro:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{children:"Unidades Consumidoras (UCs)"}),(e==null?void 0:e.id)&&s.jsxs("button",{type:"button",onClick:()=>v(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:[s.jsx(vs,{size:16})," Cadastrar UCs"]})]}),s.jsx("div",{style:{gridColumn:"1 / -1"},children:u.length>0?s.jsx("ul",{style:{listStyle:"none",padding:0},children:u.map(O=>{var N;return s.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsxs("span",{children:["UC: ",O.numero_uc," - ",O.concessionaria]}),s.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"#666"},children:(N=O.status)==null?void 0:N.replace("_"," ").toUpperCase()})]}),s.jsx("button",{type:"button",onClick:()=>F(O.id),style:{padding:"0.3rem",background:"transparent",border:"none",color:"#a1a1aa",cursor:"pointer"},title:"Desvincular UC",children:s.jsx(dc,{size:16})})]},O.id)})}):s.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[s.jsx("div",{children:(e==null?void 0:e.id)&&s.jsx("button",{type:"button",onClick:T,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:f?"Processando...":s.jsxs(s.Fragment,{children:[s.jsx(uc,{size:18})," Emitir Fatura Consolidada"]})})}),s.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&s.jsx("button",{type:"button",onClick:q,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),s.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:p,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:p?"Salvando...":"Salvar Assinante"})]})]})]})]}),m&&e&&s.jsx(Fy,{consumerUnit:{subscriber_id:e.id},onClose:()=>v(!1),onSave:()=>{A(e.id),v(!1)}})]})}function _8(){const{profile:e}=en(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,v]=x.useState("list"),[w,y]=x.useState(""),g=t.filter(E=>{var k,R,T;if(!w)return!0;const A=w.toLowerCase();return((k=E.name)==null?void 0:k.toLowerCase().includes(A))||((R=E.email)==null?void 0:R.toLowerCase().includes(A))||((T=E.phone)==null?void 0:T.includes(A))});x.useEffect(()=>{p()},[]);const p=async()=>{a(!0);try{const{data:E,error:A}=await B.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(A)throw A;r(E||[])}catch(E){console.error("Error fetching leads:",E)}finally{a(!1)}},b=E=>{t.find(k=>k.id===E.id)?(r(t.map(k=>k.id===E.id?{...k,...E}:k)),p()):(r([E,...t]),p())},_=E=>{r(t.filter(A=>A.id!==E))},j=E=>{h(E),c(!0)},S=async E=>{try{await B.from("leads").update({status:"em_negociacao"}).eq("id",f.id),p(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(A){console.error("Erro ao atualizar status do lead",A)}},C={simulacao:"#64748b",indicado:"#0ea5e9",em_negociacao:"#eab308",ativo:"#22c55e",negocio_perdido:"#ef4444",pago:"#8b5cf6"};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Gesto de Leads"}),s.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[s.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:w,onChange:E=>y(E.target.value),className:"input",style:{maxWidth:"350px"}}),s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>v("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>v("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:m==="list"?s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:g.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome"}),s.jsx("th",{children:"Contato"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Originador"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:g.map(E=>{var A;return s.jsxs("tr",{children:[s.jsx("td",{style:{fontWeight:"bold"},children:E.name}),s.jsxs("td",{children:[s.jsx("div",{style:{fontSize:"0.9rem"},children:E.email}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:E.phone})]}),s.jsx("td",{children:s.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:E.status==="simulacao"?"#f1f5f9":E.status==="em_negociacao"?"#fef9c3":E.status==="ativo"?"#dcfce7":"#f1f5f9",color:E.status==="simulacao"?"#64748b":E.status==="em_negociacao"?"#a16207":E.status==="ativo"?"#166534":"#64748b"},children:E.status.toUpperCase().replace("_"," ")})}),s.jsx("td",{children:((A=E.originator)==null?void 0:A.name)||"-"}),s.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{onClick:()=>{d(E),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),E.status!=="convertido"&&s.jsx("button",{onClick:()=>j(E),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},E.id)})})]})})}):s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["simulacao","indicado","em_negociacao","ativo","negocio_perdido","pago"].map(E=>{const A=g.filter(R=>R.status===E),k=C[E]||"#64748b";return s.jsxs("div",{style:{minWidth:"280px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${k}`,boxShadow:"var(--shadow-sm)"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:k},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:E.replace("_"," ")}),s.jsx("span",{style:{fontSize:"0.8rem",background:k,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:A.length})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:A.map(R=>{var T,H;return s.jsxs("div",{onClick:()=>{d(R),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:q=>q.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:q=>q.currentTarget.style.borderColor="transparent",children:[s.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:R.name}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:R.email}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:R.phone}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[s.jsx("span",{children:(H=(T=R.originator)==null?void 0:T.name)==null?void 0:H.split(" ")[0]}),s.jsx("span",{children:new Date(R.created_at).toLocaleDateString()})]})]},R.id)})})]},E)})})}),i&&s.jsx(w8,{lead:u,onClose:()=>o(!1),onSave:b,onDelete:_,onConvert:j}),l&&s.jsx(GA,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>c(!1),onSave:S})]})}function j8(){const{profile:e}=en(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState("list"),[f,h]=x.useState(""),[m,v]=x.useState(null),w=t.filter(j=>{var C,E,A,k;if(!f)return!0;const S=f.toLowerCase();return((C=j.name)==null?void 0:C.toLowerCase().includes(S))||((E=j.email)==null?void 0:E.toLowerCase().includes(S))||((A=j.phone)==null?void 0:A.includes(S))||((k=j.cpf_cnpj)==null?void 0:k.includes(S))});x.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const{data:j,error:S}=await B.from("subscribers").select("*").order("created_at",{ascending:!1});if(S)throw S;r(j||[])}catch(j){console.error("Error fetching subscribers:",j)}finally{a(!1)}},g=j=>{const S=t.find(C=>C.id===j.id);r(S?t.map(C=>C.id===j.id?{...C,...j}:C):[j,...t])},p=async j=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${j.name}?`)){v(j.id);try{const S=await Wf(j.id,"subscriber");S.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(S.url,"_blank"))}catch(S){console.error(S),alert("Erro: "+(S.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{v(null)}}},b={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},_=j=>{r(t.filter(S=>S.id!==j))};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Gesto de Assinantes"}),s.jsx("button",{onClick:()=>{c(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[s.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:j=>h(j.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),s.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),s.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:u==="list"?s.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:w.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),s.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),s.jsx("tbody",{children:w.map(j=>{var S,C,E,A,k;return s.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[s.jsxs("td",{style:{padding:"1rem"},children:[s.jsx("div",{style:{fontWeight:"bold"},children:j.name}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.cpf_cnpj})]}),s.jsxs("td",{style:{padding:"1rem"},children:[s.jsx("div",{style:{fontSize:"0.9rem"},children:j.email}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.phone})]}),s.jsx("td",{style:{padding:"1rem"},children:s.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(S=j.status)!=null&&S.includes("ativo")?"#dcfce7":(C=j.status)!=null&&C.includes("cancelado")?"#fee2e2":"#dbeafe",color:(E=j.status)!=null&&E.includes("ativo")?"#166534":(A=j.status)!=null&&A.includes("cancelado")?"#dc2626":"#1e40af"},children:(k=j.status)==null?void 0:k.toUpperCase().replace("_"," ")})}),s.jsx("td",{style:{padding:"1rem"},children:j.cidade?`${j.cidade}/${j.uf}`:"-"}),s.jsx("td",{style:{padding:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{onClick:()=>p(j),disabled:m===j.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===j.id?"...":s.jsx(uc,{size:14})}),s.jsx("button",{onClick:()=>{c(j),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},j.id)})})]})}):s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(j=>{const S=w.filter(E=>E.status===j),C=b[j]||"#64748b";return s.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${C}`},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:C},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:j.replace("_"," ")}),s.jsx("span",{style:{fontSize:"0.8rem",background:C,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:S.length})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:S.map(E=>s.jsxs("div",{onClick:()=>{c(E),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:A=>A.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:A=>A.currentTarget.style.borderColor="transparent",children:[s.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:E.name}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.cpf_cnpj}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.email}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[s.jsx("span",{children:E.cidade}),s.jsx("span",{children:new Date(E.created_at).toLocaleDateString()})]})]},E.id))})]},j)})})}),i&&s.jsx(GA,{subscriber:l,onClose:()=>o(!1),onSave:g,onDelete:_})]})}function S8({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{var v,w,y,g,p,b,_,j,S;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((v=e.split_commission)==null?void 0:v.start)||0,split_recurrent:((w=e.split_commission)==null?void 0:w.recurrent)||0,cep:((y=e.address)==null?void 0:y.cep)||"",rua:((g=e.address)==null?void 0:g.rua)||"",numero:((p=e.address)==null?void 0:p.numero)||"",complemento:((b=e.address)==null?void 0:b.complemento)||"",bairro:((_=e.address)==null?void 0:_.bairro)||"",cidade:((j=e.address)==null?void 0:j.cidade)||"",uf:((S=e.address)==null?void 0:S.uf)||""})},[e]);const d=async()=>{const v=c.cep.replace(/\D/g,"");if(v.length===8){l(!0);try{const w=await Qr(v);u(y=>({...y,rua:w.rua||"",bairro:w.bairro||"",cidade:w.cidade||"",uf:w.uf||""}))}catch(w){console.error("Erro CEP",w),alert("Erro ao buscar CEP")}finally{l(!1)}}};x.useEffect(()=>{if(c.pix_key_type==="aleatoria")return;let v="";c.pix_key_type==="cpf"||c.pix_key_type==="cnpj"?v=c.cpf_cnpj:c.pix_key_type==="email"?v=c.email:c.pix_key_type==="telefone"&&(v=c.phone),v!==c.pix_key&&u(w=>({...w,pix_key:v}))},[c.pix_key_type,c.cpf_cnpj,c.email,c.phone]);const f=async v=>{if(v.preventDefault(),!hc(c.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!ki(c.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const w={name:c.name,cpf_cnpj:c.cpf_cnpj,email:c.email,phone:c.phone,pix_key:c.pix_key,pix_key_type:c.pix_key_type,split_commission:{start:Number(c.split_start)||0,recurrent:Number(c.split_recurrent)||0},address:{cep:c.cep,rua:c.rua,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cidade:c.cidade,uf:c.uf}};try{let y;if(e!=null&&e.id?y=await B.from("originators_v2").update(w).eq("id",e.id).select().single():y=await B.from("originators_v2").insert(w).select().single(),y.error)throw y.error;r(y.data),t()}catch(y){alert("Erro ao salvar originador: "+y.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:v}=await B.from("originators_v2").delete().eq("id",e.id);if(v)throw v;n&&n(e.id),t()}catch(v){alert("Erro ao excluir: "+v.message)}finally{i(!1)}}},m=e?`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`:"Salve para gerar URL";return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),s.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&s.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[s.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("input",{value:`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`,className:"input",style:{color:"#0284c7"}}),s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),s.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsx("div",{style:{gridColumn:"1 / -1"},children:s.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),s.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[s.jsx("label",{className:"label",children:"Nome Completo"}),s.jsx("input",{value:c.name,onChange:v=>u({...c,name:v.target.value}),className:"input",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"CPF/CNPJ"}),s.jsx("input",{value:c.cpf_cnpj,onChange:v=>u({...c,cpf_cnpj:fc(v.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Email"}),s.jsx("input",{type:"email",value:c.email,onChange:v=>u({...c,email:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Telefone"}),s.jsx("input",{value:c.phone,onChange:v=>u({...c,phone:Ai(v.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Tipo Chave PIX"}),s.jsxs("select",{value:c.pix_key_type,onChange:v=>u({...c,pix_key_type:v.target.value}),className:"select",children:[s.jsx("option",{value:"cpf",children:"CPF"}),s.jsx("option",{value:"cnpj",children:"CNPJ"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"telefone",children:"Telefone"}),s.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Chave PIX"}),s.jsx("input",{value:c.pix_key,onChange:v=>u({...c,pix_key:v.target.value}),className:"input"})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:s.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"CEP"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{value:c.cep,onChange:v=>u({...c,cep:v.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&s.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Rua"}),s.jsx("input",{value:c.rua,onChange:v=>u({...c,rua:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Nmero"}),s.jsx("input",{value:c.numero,onChange:v=>u({...c,numero:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Complemento"}),s.jsx("input",{value:c.complemento,onChange:v=>u({...c,complemento:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Bairro"}),s.jsx("input",{value:c.bairro,onChange:v=>u({...c,bairro:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Cidade"}),s.jsx("input",{value:c.cidade,onChange:v=>u({...c,cidade:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"UF"}),s.jsx("input",{value:c.uf,onChange:v=>u({...c,uf:v.target.value}),className:"input"})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:s.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),s.jsx("input",{type:"number",step:"0.01",value:c.split_start,onChange:v=>u({...c,split_start:v.target.value}),className:"input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),s.jsx("input",{type:"number",step:"0.01",value:c.split_recurrent,onChange:v=>u({...c,split_recurrent:v.target.value}),className:"input"})]}),e&&s.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[s.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),s.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&s.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),s.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function C8(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(null);x.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:b}=await B.from("originators_v2").select("*").order("name");b?console.error("Error fetching originators:",b):t(p||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const p=new Date().toISOString().split("T")[0],{data:b,error:_}=await B.rpc("generate_monthly_commissions",{target_date:p});if(_)throw _;alert(`Processamento concludo!
Faturas processadas: ${b.invoices_processed}
Valor total gerado: R$ ${b.total_commission_value}`)}catch(p){console.error("Error processing commissions:",p),alert("Erro ao processar comisses: "+(p.message||"Erro desconhecido"))}finally{n(!1)}}},h=p=>{u(p),l(!0)},m=()=>{u(null),l(!0)},v=p=>{d()},w=p=>{d()},y=p=>{const b=`${window.location.origin}/clientes?id=${p}`;navigator.clipboard.writeText(b),alert("Link copiado: "+b)},g=e.filter(p=>{var b,_;return((b=p.name)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))||((_=p.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("h2",{children:"Gesto de Originadores"}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),s.jsxs("button",{onClick:m,className:"btn btn-accent",children:[s.jsx(vs,{size:18})," Novo Originador"]})]})]}),s.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[s.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:p=>i(p.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),s.jsx(Hy,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?s.jsx("p",{children:"Carregando..."}):s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome"}),s.jsx("th",{children:"Contato"}),s.jsx("th",{children:"Comisso (Start/Rec.)"}),s.jsx("th",{children:"Chave PIX"}),s.jsx("th",{children:"Link"}),s.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),s.jsx("tbody",{children:g.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):g.map(p=>{var b,_;return s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:p.name}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:p.cpf_cnpj})]}),s.jsxs("td",{children:[s.jsx("div",{style:{fontSize:"0.9rem"},children:p.email}),s.jsx("div",{style:{fontSize:"0.9rem"},children:p.phone})]}),s.jsx("td",{children:s.jsxs("span",{className:"badge badge-success",children:[((b=p.split_commission)==null?void 0:b.start)||0,"% / ",((_=p.split_commission)==null?void 0:_.recurrent)||0,"%"]})}),s.jsx("td",{style:{fontSize:"0.9rem"},children:p.pix_key||"-"}),s.jsx("td",{children:s.jsx("button",{onClick:()=>y(p.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:s.jsx(y6,{size:16,color:"var(--color-blue)"})})}),s.jsx("td",{style:{textAlign:"right"},children:s.jsx("button",{onClick:()=>h(p),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:s.jsx(X6,{size:18})})})]},p.id)})})]})})}),o&&s.jsx(S8,{originator:c,onClose:()=>l(!1),onSave:v,onDelete:w})]})}function E8({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=zr(),[o,l]=x.useState(!1),[c,u]=x.useState([]),[d,f]=x.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{var g,p,b,_,j,S,C,E,A;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((g=e.address)==null?void 0:g.cep)||"",rua:((p=e.address)==null?void 0:p.logradouro)||((b=e.address)==null?void 0:b.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((S=e.address)==null?void 0:S.bairro)||"",cidade:((C=e.address)==null?void 0:C.municipio)||((E=e.address)==null?void 0:E.cidade)||"",uf:((A=e.address)==null?void 0:A.uf)||""}),h(e.id))},[e]);const h=async g=>{const{data:p}=await B.from("usinas").select("id, name, status").eq("supplier_id",g);u(p||[])},m=async()=>{const g=d.cnpj.replace(/\D/g,"");if(g.length===14){l(!0);try{const p=await Hf(g);p&&f(b=>{var _,j,S,C,E,A,k,R,T;return{...b,name:p.nome||b.name,email:p.email||b.email,phone:p.telefone||b.phone,legal_partner_name:((_=p.legal_partner)==null?void 0:_.nome)||b.legal_partner_name,legal_partner_cpf:((j=p.legal_partner)==null?void 0:j.cpf)||b.legal_partner_cpf,cep:((S=p.address)==null?void 0:S.cep)||b.cep,rua:((C=p.address)==null?void 0:C.logradouro)||b.rua,numero:((E=p.address)==null?void 0:E.numero)||b.numero,complemento:((A=p.address)==null?void 0:A.complemento)||b.complemento,bairro:((k=p.address)==null?void 0:k.bairro)||b.bairro,cidade:((R=p.address)==null?void 0:R.municipio)||b.cidade,uf:((T=p.address)==null?void 0:T.uf)||b.uf}})}catch(p){console.error("Erro CNPJ",p),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{l(!1)}}},v=g=>{const p=g.target.value;let b=d.pix_key;switch(p){case"telefone":b=d.phone;break;case"email":b=d.email;break;case"cnpj":b=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(b=d.legal_partner_cpf);break}f(_=>({..._,pix_key_type:p,pix_key:b}))},w=async g=>{if(g.preventDefault(),d.cnpj&&!hc(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!ki(d.phone)){a("Telefone invlido!","warning");return}l(!0);try{console.log("Submitting payload:",d);const p={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",p);let b;if(e!=null&&e.id?b=await B.from("suppliers").update(p).eq("id",e.id).select().single():b=await B.from("suppliers").insert(p).select().single(),console.log("Supabase result:",b),b.error)throw b.error;r(b.data),t()}catch(p){console.error("Save error details:",p);const b=p.message||JSON.stringify(p);b.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await B.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+b,"error")}finally{l(!1)}},y=async()=>{if(c.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){l(!0);try{const{error:p}=await B.from("suppliers").delete().eq("id",e.id);if(p)throw p;n&&n(e.id),t()}catch(p){a("Erro ao excluir: "+p.message,"error")}finally{l(!1)}}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[s.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),s.jsxs("form",{onSubmit:w,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),s.jsx("input",{value:d.cnpj,onChange:g=>f({...d,cnpj:g.target.value}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),s.jsx("input",{required:!0,value:d.name,onChange:g=>f({...d,name:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),s.jsx("input",{value:d.legal_partner_name,onChange:g=>f({...d,legal_partner_name:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),s.jsx("input",{value:d.legal_partner_cpf,onChange:g=>f({...d,legal_partner_cpf:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),s.jsx("input",{value:d.cnpj,onChange:g=>f({...d,cnpj:fc(g.target.value)}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),s.jsx("input",{value:d.phone,onChange:g=>f({...d,phone:Ai(g.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),s.jsx("input",{type:"email",value:d.email,onChange:g=>f({...d,email:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),s.jsxs("select",{value:d.pix_key_type,onChange:v,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[s.jsx("option",{value:"cpf",children:"CPF"}),s.jsx("option",{value:"cnpj",children:"CNPJ"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"telefone",children:"Telefone"}),s.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),s.jsx("input",{value:d.pix_key,onChange:g=>f({...d,pix_key:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),s.jsxs("select",{value:d.status,onChange:g=>f({...d,status:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[s.jsx("option",{value:"ativacao",children:"Em Ativao"}),s.jsx("option",{value:"ativo",children:"Ativo"}),s.jsx("option",{value:"inativo",children:"Inativo"})]})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),s.jsx("input",{value:d.cep,onChange:g=>f({...d,cep:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),s.jsx("input",{value:d.rua,onChange:g=>f({...d,rua:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),s.jsx("input",{value:d.numero,onChange:g=>f({...d,numero:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),s.jsx("input",{value:d.complemento,onChange:g=>f({...d,complemento:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),s.jsx("input",{value:d.bairro,onChange:g=>f({...d,bairro:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("input",{value:d.cidade,onChange:g=>f({...d,cidade:g.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),s.jsx("input",{value:d.uf,onChange:g=>f({...d,uf:g.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&c.length>0&&s.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[s.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),s.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:c.map(g=>s.jsxs("li",{children:[g.name," - ",s.jsx("span",{style:{opacity:.7},children:g.status})]},g.id))})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[s.jsx("div",{children:e&&n&&s.jsx("button",{type:"button",onClick:y,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function O8(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(null);x.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const{data:f,error:h}=await B.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{c(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Fornecedores (Geradores)"}),s.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?s.jsx("p",{children:"Carregando..."}):s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:e.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome/Razo Social"}),s.jsx("th",{children:"CNPJ"}),s.jsx("th",{children:"Contato"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:e.map(f=>{var h;return s.jsxs("tr",{children:[s.jsx("td",{style:{fontWeight:"bold"},children:f.name}),s.jsx("td",{children:f.cnpj}),s.jsxs("td",{children:[s.jsx("div",{children:f.email}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),s.jsx("td",{children:s.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),s.jsx("td",{children:s.jsx("button",{onClick:()=>{l(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&s.jsx(E8,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function KA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=KA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=KA(e))&&(n&&(n+=" "),n+=t);return n}var A8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Vy(e){if(typeof e!="string")return!1;var t=A8;return t.includes(e)}var k8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],T8=new Set(k8);function YA(e){return typeof e!="string"?!1:T8.has(e)}function XA(e){return typeof e=="string"&&e.startsWith("data-")}function qn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(YA(r)||XA(r))&&(t[r]=e[r]);return t}function Gy(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return qn(t)}return typeof e=="object"&&!Array.isArray(e)?qn(e):null}function Pr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(YA(r)||XA(r)||Vy(r))&&(t[r]=e[r]);return t}var N8=["children","width","height","viewBox","className","style","title","desc"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(null,arguments)}function R8(e,t){if(e==null)return{};var r,n,a=P8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZA=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=R8(e,N8),f=i||{width:n,height:a,x:0,y:0},h=De("recharts-surface",o);return x.createElement("svg",Ag({},Pr(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,u),r)}),M8=["children","className"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(null,arguments)}function D8(e,t){if(e==null)return{};var r,n,a=z8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hn=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=D8(e,M8),i=De("recharts-layer",n);return x.createElement("g",kg({className:i},Pr(a),{ref:t}),r)}),B8=x.createContext(null);function Ae(e){return function(){return e}}const JA=Math.cos,Cd=Math.sin,tn=Math.sqrt,Ed=Math.PI,Kf=2*Ed,Tg=Math.PI,Ng=2*Tg,ai=1e-6,I8=Ng-ai;function QA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class L8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QA:$8(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ai)if(!(Math.abs(f*c-u*d)>ai)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,w=c*c+u*u,y=m*m+v*v,g=Math.sqrt(w),p=Math.sqrt(h),b=i*Math.tan((Tg-Math.acos((w+h-y)/(2*g*p)))/2),_=b/p,j=b/g;Math.abs(_-1)>ai&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ai||Math.abs(this._y1-d)>ai)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ng+Ng),h>I8?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ai&&this._append`A${n},${n},0,${+(h>=Tg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ky(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new L8(t)}function Yy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function e2(e){this._context=e}e2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yf(e){return new e2(e)}function t2(e){return e[0]}function r2(e){return e[1]}function n2(e,t){var r=Ae(!0),n=null,a=Yf,i=null,o=Ky(l);e=typeof e=="function"?e:e===void 0?t2:Ae(e),t=typeof t=="function"?t:t===void 0?r2:Ae(t);function l(c){var u,d=(c=Yy(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ae(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ae(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ae(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function su(e,t,r){var n=null,a=Ae(!0),i=null,o=Yf,l=null,c=Ky(u);e=typeof e=="function"?e:e===void 0?t2:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?r2:Ae(+r);function u(f){var h,m,v,w=(f=Yy(f)).length,y,g=!1,p,b=new Array(w),_=new Array(w);for(i==null&&(l=o(p=c())),h=0;h<=w;++h){if(!(h<w&&a(y=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(b[v],_[v]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(y,h,f),_[h]=+t(y,h,f),l.point(n?+n(y,h,f):b[h],r?+r(y,h,f):_[h]))}if(p)return l=null,p+""||null}function d(){return n2().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ae(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class a2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function U8(e){return new a2(e,!0)}function q8(e){return new a2(e,!1)}const Xy={draw(e,t){const r=tn(t/Ed);e.moveTo(r,0),e.arc(0,0,r,0,Kf)}},H8={draw(e,t){const r=tn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},i2=tn(1/3),W8=i2*2,F8={draw(e,t){const r=tn(t/W8),n=r*i2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},V8={draw(e,t){const r=tn(t),n=-r/2;e.rect(n,n,r,r)}},G8=.8908130915292852,o2=Cd(Ed/10)/Cd(7*Ed/10),K8=Cd(Kf/10)*o2,Y8=-JA(Kf/10)*o2,X8={draw(e,t){const r=tn(t*G8),n=K8*r,a=Y8*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Kf*i/5,l=JA(o),c=Cd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Fm=tn(3),Z8={draw(e,t){const r=-tn(t/(Fm*3));e.moveTo(0,r*2),e.lineTo(-Fm*r,-r),e.lineTo(Fm*r,-r),e.closePath()}},br=-.5,xr=tn(3)/2,Rg=1/tn(12),J8=(Rg/2+1)*3,Q8={draw(e,t){const r=tn(t/J8),n=r/2,a=r*Rg,i=n,o=r*Rg+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(br*n-xr*a,xr*n+br*a),e.lineTo(br*i-xr*o,xr*i+br*o),e.lineTo(br*l-xr*c,xr*l+br*c),e.lineTo(br*n+xr*a,br*a-xr*n),e.lineTo(br*i+xr*o,br*o-xr*i),e.lineTo(br*l+xr*c,br*c-xr*l),e.closePath()}};function eB(e,t){let r=null,n=Ky(a);e=typeof e=="function"?e:Ae(e||Xy),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Od(){}function Ad(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function s2(e){this._context=e}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ad(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ad(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tB(e){return new s2(e)}function l2(e){this._context=e}l2.prototype={areaStart:Od,areaEnd:Od,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ad(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rB(e){return new l2(e)}function c2(e){this._context=e}c2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ad(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nB(e){return new c2(e)}function u2(e){this._context=e}u2.prototype={areaStart:Od,areaEnd:Od,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aB(e){return new u2(e)}function V1(e){return e<0?-1:1}function G1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(V1(i)+V1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function K1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Vm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function kd(e){this._context=e}kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vm(this,this._t0,K1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vm(this,K1(this,r=G1(this,e,t)),r);break;default:Vm(this,this._t0,r=G1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function d2(e){this._context=new f2(e)}(d2.prototype=Object.create(kd.prototype)).point=function(e,t){kd.prototype.point.call(this,t,e)};function f2(e){this._context=e}f2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function iB(e){return new kd(e)}function oB(e){return new d2(e)}function h2(e){this._context=e}h2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Y1(e),a=Y1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y1(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function sB(e){return new h2(e)}function Xf(e,t){this._context=e,this._t=t}Xf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function lB(e){return new Xf(e,.5)}function cB(e){return new Xf(e,0)}function uB(e){return new Xf(e,1)}function Ti(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Pg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function dB(e,t){return e[t]}function fB(e){const t=[];return t.key=e,t}function hB(){var e=Ae([]),t=Pg,r=Ti,n=dB;function a(i){var o=Array.from(e.apply(this,arguments),fB),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Yy(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Pg:typeof i=="function"?i:Ae(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ti,a):r},a}function mB(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Ti(e,t)}}function pB(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ti(e,t)}}function gB(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var w=e[t[v]],y=w[n][1]||0,g=w[n-1][1]||0;m+=y-g}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ti(e,t)}}var Zf={},m2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(m2);var Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Zy);var Jf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Jf);var Qf={},p2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(p2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p2,r=Jf;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,l++}return c&&i.push(c),i}e.toPath=n})(Qf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m2,r=Zy,n=Jf,a=Qf;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Zf);var vB=Zf.get;const Ko=Zn(vB);var yB=4;function Ca(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yB,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function qe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var l=r[o-1];return typeof l=="string"?a+l+i:l!==void 0?a+Ca(l)+i:a+i},"")}var Vt=e=>e===0?0:e>0?1:-1,Yr=e=>typeof e=="number"&&e!=+e,Wn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Y=e=>(typeof e=="number"||e instanceof Number)&&!Yr(e),dn=e=>Y(e)||typeof e=="string",bB=0,Pl=e=>{var t=++bB;return"".concat(e||"").concat(t)},Xr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(t)&&typeof t!="string")return n;var i;if(Wn(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Yr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},g2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function _t(e,t,r){return Y(e)&&Y(t)?Ca(e+r*(t-e)):t}function xB(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ko(n,t))===r)}var gt=e=>e===null||typeof e>"u",mc=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wB(e){return e!=null}function pc(){}var _B=["type","size","sizeType"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){jB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jB(e,t,r){return(t=SB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=CB(e,"string");return typeof t=="symbol"?t:t+""}function CB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EB(e,t){if(e==null)return{};var r,n,a=OB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v2={symbolCircle:Xy,symbolCross:H8,symbolDiamond:F8,symbolSquare:V8,symbolStar:X8,symbolTriangle:Z8,symbolWye:Q8},AB=Math.PI/180,kB=e=>{var t="symbol".concat(mc(e));return v2[t]||Xy},TB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*AB;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},NB=(e,t)=>{v2["symbol".concat(mc(e))]=t},y2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=EB(e,_B),i=Z1(Z1({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=kB(o),m=eB().type(h).size(TB(r,n,o)),v=m();if(v!==null)return v},{className:c,cx:u,cy:d}=i,f=Pr(i);return Y(u)&&Y(d)&&Y(r)?x.createElement("path",Mg({},f,{className:De("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};y2.registerSymbol=NB;var b2=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,RB=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Vy(a)&&(n[a]=i=>r[a](r,i))}),n},PB=(e,t,r)=>n=>(e(t,r,n),null),Jy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Vy(a)&&typeof i=="function"&&(n||(n={}),n[a]=PB(i,t,r))}),n};function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){DB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DB(e,t,r){return(t=zB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zB(e){var t=BB(e,"string");return typeof t=="symbol"?t:t+""}function BB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=MB({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var x2={},w2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o,i,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(w2);var _2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(_2);var Qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Qy);var j2={},eh={},S2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(S2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(eh);var C2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(C2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eh,r=C2;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(j2);var E2={},O2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(O2);var A2={},e0={},k2={},t0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(t0);var r0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(r0);var n0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(n0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t0,r=r0,n=n0;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(v,w,y,g,p,b){const _=h(v,w,y,g,p,b);return _!==void 0?!!_:i(v,w,m,b)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let w=0;w<v.length;w++){const y=v[w];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,w]of f.entries()){const y=d.get(v);if(h(y,w,v,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let w=0;w<f.length;w++){const y=f[w];let g=!1;for(let p=0;p<d.length;p++){if(v.has(p))continue;const b=d[p];let _=!1;if(h(b,y,w,d,f,m)&&(_=!0),_){v.add(p),g=!0;break}}if(!g)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(k2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k2;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(e0);var T2={},a0={},N2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(N2);var th={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(th);var i0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",w="[object DataView]",y="[object Uint8Array]",g="[object Uint8ClampedArray]",p="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",E="[object BigInt64Array]",A="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=w,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=A,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=C,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=p,e.uint32ArrayTag=b,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=g})(i0);var R2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(R2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N2,r=th,n=i0,a=r0,i=R2;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,v=void 0){const w=v==null?void 0:v(d,f,h,m);if(w!==void 0)return w;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let g=0;g<d.length;g++)y[g]=l(d[g],g,h,m,v);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[g,p]of d)y.set(g,l(p,g,h,m,v));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const g of d)y.add(l(g,void 0,h,m,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let g=0;g<d.length;g++)y[g]=l(d[g],g,h,m,v);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),c(y,d,h,m,v),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),c(y,d,h,m,v),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),c(y,d,h,m,v),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,h,m,v),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),c(y,d,h,m,v),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),c(y,d,h,m,v),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),c(y,d,h,m,v),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),c(y,d,h,m,v),y}return d}function c(d,f,h=d,m,v){const w=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<w.length;y++){const g=w[y],p=Object.getOwnPropertyDescriptor(d,g);(p==null||p.writable)&&(d[g]=l(f[g],g,h,m,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(a0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(T2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e0,r=T2;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(A2);var P2={},M2={},D2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a0,r=th,n=i0;function a(i,o){return t.cloneDeepWith(i,(l,c,u,d)=>{const f=o==null?void 0:o(l,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(D2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(M2);var z2={},o0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(o0);var B2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=th;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(B2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy,r=o0,n=B2,a=Qf;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e0,r=Jf,n=M2,a=Zf,i=z2;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(P2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qy,r=O2,n=A2,a=P2;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(E2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w2,r=_2,n=Qy,a=j2,i=E2;function o(l,c=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(x2);var IB=x2.uniqBy;const Q1=Zn(IB);function $B(e,t,r){return t===!0?Q1(e,r):typeof t=="function"?Q1(e,t):e}var I2={exports:{}},$2={},L2={exports:{}},U2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=x;function LB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UB=typeof Object.is=="function"?Object.is:LB,qB=Yo.useState,HB=Yo.useEffect,WB=Yo.useLayoutEffect,FB=Yo.useDebugValue;function VB(e,t){var r=t(),n=qB({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return WB(function(){a.value=r,a.getSnapshot=t,Gm(a)&&i({inst:a})},[e,r,t]),HB(function(){return Gm(a)&&i({inst:a}),e(function(){Gm(a)&&i({inst:a})})},[e]),FB(r),r}function Gm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!UB(e,r)}catch{return!0}}function GB(e,t){return t()}var KB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GB:VB;U2.useSyncExternalStore=Yo.useSyncExternalStore!==void 0?Yo.useSyncExternalStore:KB;L2.exports=U2;var YB=L2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=x,XB=YB;function ZB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JB=typeof Object.is=="function"?Object.is:ZB,QB=XB.useSyncExternalStore,eI=rh.useRef,tI=rh.useEffect,rI=rh.useMemo,nI=rh.useDebugValue;$2.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=eI(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=rI(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var v=o.value;if(a(v,m))return f=v}return f=m}if(v=f,JB(d,m))return v;var w=n(m);return a!==void 0&&a(v,w)?(d=m,v):(d=m,f=w)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=QB(e,i[0],i[1]);return tI(function(){o.hasValue=!0,o.value=l},[l]),nI(l),l};I2.exports=$2;var aI=I2.exports,s0=x.createContext(null),iI=e=>e,Ge=()=>{var e=x.useContext(s0);return e?e.store.dispatch:iI},Lu=()=>{},oI=()=>Lu,sI=(e,t)=>e===t;function Q(e){var t=x.useContext(s0);return aI.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:oI,t?t.store.getState:Lu,t?t.store.getState:Lu,t?e:Lu,sI)}function lI(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function cI(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function uI(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var ew=e=>Array.isArray(e)?e:[e];function dI(e){const t=Array.isArray(e[0])?e[0]:e;return uI(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fI(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var hI=class{constructor(e){this.value=e}deref(){return this.value}},mI=typeof WeakRef<"u"?WeakRef:hI,pI=0,tw=1;function lu(){return{s:pI,v:void 0,o:null,p:null}}function q2(e,t={}){let r=lu();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const y=w.get(v);y===void 0?(l=lu(),w.set(v,l)):l=y}else{let w=l.p;w===null&&(l.p=w=new Map);const y=w.get(v);y===void 0?(l=lu(),w.set(v,l)):l=y}}const u=l;let d;if(l.s===tw)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new mI(d):d}return u.s=tw,u.v=d,d}return o.clearCache=()=>{r=lu(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function gI(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),lI(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=q2,argsMemoizeOptions:v=[]}=d,w=ew(h),y=ew(v),g=dI(a),p=f(function(){return i++,u.apply(null,arguments)},...w),b=m(function(){o++;const j=fI(g,arguments);return l=p.apply(null,j),l},...y);return Object.assign(b,{resultFunc:u,memoizedResultFunc:p,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var D=gI(q2),vI=Object.assign((e,t=D)=>{cI(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>vI}),H2={},W2={},F2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(F2);var V2={},l0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(l0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(V2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F2,r=V2,n=Qf;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,v)=>{let w=m;for(let y=0;y<v.length&&w!=null;++y)w=w[v[y]];return w},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let w=0;w<f.length;w++){const y=t.compareValues(m.criteria[w],v.criteria[w],l[w]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=a})(W2);var G2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(G2);var c0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o0,r=eh,n=t0,a=n0;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.isEqualsSameValueZero(c[l],o):!1}e.isIterateeCall=i})(c0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W2,r=G2,n=c0;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(H2);var yI=H2.sortBy;const nh=Zn(yI);var K2=e=>e.legend.settings,bI=e=>e.legend.size,xI=e=>e.legend.payload;D([xI,K2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?nh(n,r):n});var cu=1;function wI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>cu||Math.abs(o.left-t.left)>cu||Math.abs(o.top-t.top)>cu||Math.abs(o.width-t.width)>cu)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _I=typeof Symbol=="function"&&Symbol.observable||"@@observable",rw=_I,Km=()=>Math.random().toString(36).substring(7).split("").join("."),jI={INIT:`@@redux/INIT${Km()}`,REPLACE:`@@redux/REPLACE${Km()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Km()}`},Td=jI;function u0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Y2(e,t,r){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(bt(1));return r(Y2)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((y,g)=>{o.set(g,y)}))}function d(){if(c)throw new Error(bt(3));return a}function f(y){if(typeof y!="function")throw new Error(bt(4));if(c)throw new Error(bt(5));let g=!0;u();const p=l++;return o.set(p,y),function(){if(g){if(c)throw new Error(bt(6));g=!1,u(),o.delete(p),i=null}}}function h(y){if(!u0(y))throw new Error(bt(7));if(typeof y.type>"u")throw new Error(bt(8));if(typeof y.type!="string")throw new Error(bt(17));if(c)throw new Error(bt(9));try{c=!0,a=n(a,y)}finally{c=!1}return(i=o).forEach(p=>{p()}),y}function m(y){if(typeof y!="function")throw new Error(bt(10));n=y,h({type:Td.REPLACE})}function v(){const y=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(bt(11));function p(){const _=g;_.next&&_.next(d())}return p(),{unsubscribe:y(p)}},[rw](){return this}}}return h({type:Td.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[rw]:v}}function SI(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Td.INIT})>"u")throw new Error(bt(12));if(typeof r(void 0,{type:Td.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function X2(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{SI(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],v=h(m,l);if(typeof v>"u")throw l&&l.type,new Error(bt(14));u[f]=v,c=c||v!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Nd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function CI(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(bt(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=Nd(...l)(a.dispatch),{...a,dispatch:i}}}function Z2(e){return u0(e)&&"type"in e&&typeof e.type=="string"}var J2=Symbol.for("immer-nothing"),nw=Symbol.for("immer-draftable"),It=Symbol.for("immer-state");function Fr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cr=Object,Xo=cr.getPrototypeOf,Rd="constructor",ah="prototype",Dg="configurable",Pd="enumerable",Uu="writable",Ml="value",Fn=e=>!!e&&!!e[It];function Zr(e){var t;return e?Q2(e)||oh(e)||!!e[nw]||!!((t=e[Rd])!=null&&t[nw])||sh(e)||lh(e):!1}var EI=cr[ah][Rd].toString(),aw=new WeakMap;function Q2(e){if(!e||!d0(e))return!1;const t=Xo(e);if(t===null||t===cr[ah])return!0;const r=cr.hasOwnProperty.call(t,Rd)&&t[Rd];if(r===Object)return!0;if(!co(r))return!1;let n=aw.get(r);return n===void 0&&(n=Function.toString.call(r),aw.set(r,n)),n===EI}function ih(e,t,r=!0){gc(e)===0?(r?Reflect.ownKeys(e):cr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function gc(e){const t=e[It];return t?t.type_:oh(e)?1:sh(e)?2:lh(e)?3:0}var iw=(e,t,r=gc(e))=>r===2?e.has(t):cr[ah].hasOwnProperty.call(e,t),zg=(e,t,r=gc(e))=>r===2?e.get(t):e[t],Md=(e,t,r,n=gc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function OI(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var oh=Array.isArray,sh=e=>e instanceof Map,lh=e=>e instanceof Set,d0=e=>typeof e=="object",co=e=>typeof e=="function",Ym=e=>typeof e=="boolean";function AI(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var jn=e=>e.copy_||e.base_,f0=e=>e.modified_?e.copy_:e.base_;function Bg(e,t){if(sh(e))return new Map(e);if(lh(e))return new Set(e);if(oh(e))return Array[ah].slice.call(e);const r=Q2(e);if(t===!0||t==="class_only"&&!r){const n=cr.getOwnPropertyDescriptors(e);delete n[It];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[Uu]===!1&&(l[Uu]=!0,l[Dg]=!0),(l.get||l.set)&&(n[o]={[Dg]:!0,[Uu]:!0,[Pd]:l[Pd],[Ml]:e[o]})}return cr.create(Xo(e),n)}else{const n=Xo(e);if(n!==null&&r)return{...e};const a=cr.create(n);return cr.assign(a,e)}}function h0(e,t=!1){return ch(e)||Fn(e)||!Zr(e)||(gc(e)>1&&cr.defineProperties(e,{set:uu,add:uu,clear:uu,delete:uu}),cr.freeze(e),t&&ih(e,(r,n)=>{h0(n,!0)},!1)),e}function kI(){Fr(2)}var uu={[Ml]:kI};function ch(e){return e===null||!d0(e)?!0:cr.isFrozen(e)}var Dd="MapSet",Ig="Patches",ow="ArrayMethods",ek={};function Ni(e){const t=ek[e];return t||Fr(0,e),t}var sw=e=>!!ek[e],Dl,tk=()=>Dl,TI=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sw(Dd)?Ni(Dd):void 0,arrayMethodsPlugin_:sw(ow)?Ni(ow):void 0});function lw(e,t){t&&(e.patchPlugin_=Ni(Ig),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $g(e){Lg(e),e.drafts_.forEach(NI),e.drafts_=null}function Lg(e){e===Dl&&(Dl=e.parent_)}var cw=e=>Dl=TI(Dl,e);function NI(e){const t=e[It];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[It].modified_&&($g(t),Fr(4)),Zr(e)&&(e=dw(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[It].base_,e,t)}else e=dw(t,r);return RI(t,e,!0),$g(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==J2?e:void 0}function dw(e,t){if(ch(t))return t;const r=t[It];if(!r)return zd(t,e.handledSet_,e);if(!uh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);ak(r,e)}return r.copy_}function RI(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&h0(t,r)}function rk(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var uh=(e,t)=>e.scope_===t,PI=[];function nk(e,t,r,n){const a=jn(e),i=e.type_;if(n!==void 0&&zg(a,n,i)===t){Md(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;ih(a,(c,u)=>{if(Fn(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??PI;for(const l of o)Md(a,l,r,i)}function MI(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!uh(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=f0(i);nk(e,i.draft_??i,o,r),ak(i,a)})}function ak(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}rk(e)}}function DI(e,t,r){const{scope_:n}=e;if(Fn(r)){const a=r[It];uh(a,n)&&a.callbacks_.push(function(){qu(e);const o=f0(a);nk(e,r,o,t)})}else Zr(r)&&e.callbacks_.push(function(){const i=jn(e);e.type_===3?i.has(r)&&zd(r,n.handledSet_,n):zg(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&zd(zg(e.copy_,t,e.type_),n.handledSet_,n)})}function zd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Fn(e)||t.has(e)||!Zr(e)||ch(e)||(t.add(e),ih(e,(n,a)=>{if(Fn(a)){const i=a[It];if(uh(i,r)){const o=f0(i);Md(e,n,o,e.type_),rk(i)}}else Zr(a)&&zd(a,t,r)})),e}function zI(e,t){const r=oh(e),n={type_:r?1:0,scope_:t?t.scope_:tk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Bd;r&&(a=[n],i=zl);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var Bd={get(e,t){if(t===It)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=jn(e);if(!iw(a,t,e.type_))return BI(e,a,t);const i=a[t];if(e.finalized_||!Zr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&AI(t))return i;if(i===Xm(e.base_,t)){qu(e);const o=e.type_===1?+t:t,l=qg(e.scope_,i,e,o);return e.copy_[o]=l}return i},has(e,t){return t in jn(e)},ownKeys(e){return Reflect.ownKeys(jn(e))},set(e,t,r){const n=ik(jn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Xm(jn(e),t),i=a==null?void 0:a[It];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(OI(r,a)&&(r!==void 0||iw(e.base_,t,e.type_)))return!0;qu(e),Ug(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),DI(e,t,r)),!0},deleteProperty(e,t){return qu(e),Xm(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ug(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=jn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Uu]:!0,[Dg]:e.type_!==1||t!=="length",[Pd]:n[Pd],[Ml]:r[t]}},defineProperty(){Fr(11)},getPrototypeOf(e){return Xo(e.base_)},setPrototypeOf(){Fr(12)}},zl={};for(let e in Bd){let t=Bd[e];zl[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}zl.deleteProperty=function(e,t){return zl.set.call(this,e,t,void 0)};zl.set=function(e,t,r){return Bd.set.call(this,e[0],t,r,e[0])};function Xm(e,t){const r=e[It];return(r?jn(r):e)[t]}function BI(e,t,r){var a;const n=ik(t,r);return n?Ml in n?n[Ml]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function ik(e,t){if(!(t in e))return;let r=Xo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Xo(r)}}function Ug(e){e.modified_||(e.modified_=!0,e.parent_&&Ug(e.parent_))}function qu(e){e.copy_||(e.assigned_=new Map,e.copy_=Bg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var II=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(co(r)&&!co(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}co(n)||Fr(6),a!==void 0&&!co(a)&&Fr(7);let i;if(Zr(r)){const o=cw(this),l=qg(o,r,void 0);let c=!0;try{i=n(l),c=!1}finally{c?$g(o):Lg(o)}return lw(o,a),uw(i,o)}else if(!r||!d0(r)){if(i=n(r),i===void 0&&(i=r),i===J2&&(i=void 0),this.autoFreeze_&&h0(i,!0),a){const o=[],l=[];Ni(Ig).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else Fr(1,r)},this.produceWithPatches=(r,n)=>{if(co(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,i;return[this.produce(r,n,(l,c)=>{a=l,i=c}),a,i]},Ym(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Ym(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Ym(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Zr(t)||Fr(8),Fn(t)&&(t=Kr(t));const r=cw(this),n=qg(r,t,void 0);return n[It].isManual_=!0,Lg(r),n}finishDraft(t,r){const n=t&&t[It];(!n||!n.isManual_)&&Fr(9);const{scope_:a}=n;return lw(a,r),uw(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Ni(Ig).applyPatches_;return Fn(t)?a(t,r):this.produce(t,i=>a(i,r))}};function qg(e,t,r,n){const[a,i]=sh(t)?Ni(Dd).proxyMap_(t,r):lh(t)?Ni(Dd).proxySet_(t,r):zI(t,r);return((r==null?void 0:r.scope_)??tk()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?MI(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function Kr(e){return Fn(e)||Fr(10,e),ok(e)}function ok(e){if(!Zr(e)||ch(e))return e;const t=e[It];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Bg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Bg(e,!0);return ih(r,(a,i)=>{Md(r,a,ok(i))},n),t&&(t.finalized_=!1),r}var $I=new II,sk=$I.produce;function lk(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var LI=lk(),UI=lk,qI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nd:Nd.apply(null,arguments)};function Mr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(mr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Z2(n)&&n.type===e,r}var ck=class Ks extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ks.prototype)}static get[Symbol.species](){return Ks}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ks(...t[0].concat(this)):new Ks(...t.concat(this))}};function fw(e){return Zr(e)?sk(e,()=>{}):e}function du(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function HI(e){return typeof e=="boolean"}var WI=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new ck;return r&&(HI(r)?o.push(LI):o.push(UI(r.extraArgument))),o},uk="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[uk]:!0}}),hw=e=>t=>{setTimeout(t,e)},dk=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hw(10):e.type==="callback"?e.queueNotification:hw(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[uk]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},FI=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new ck(e);return n&&a.push(dk(typeof n=="object"?n:void 0)),a};function VI(e){const t=WI(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(u0(r))l=X2(r);else throw new Error(mr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Nd;a&&(u=qI({trace:!1,...typeof a=="object"&&a}));const d=CI(...c),f=FI(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return Y2(l,i,m)}function fk(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(mr(28));if(l in t)throw new Error(mr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function GI(e){return typeof e=="function"}function KI(e,t){let[r,n,a]=fk(t),i;if(GI(e))i=()=>fw(e());else{const l=fw(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Fn(d)){const m=f(d,c);return m===void 0?d:m}else{if(Zr(d))return sk(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var YI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",XI=(e=21)=>{let t="",r=e;for(;r--;)t+=YI[Math.random()*64|0];return t},ZI=Symbol.for("rtk-slice-createasyncthunk");function JI(e,t){return`${e}/${t}`}function QI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[ZI];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(mr(11));const l=(typeof a.reducers=="function"?a.reducers(t$()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(mr(12));if(S in u.sliceCaseReducersByType)throw new Error(mr(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=l[_],S={reducerName:_,type:JI(i,_),createNotation:typeof a.reducers=="function"};n$(j)?i$(S,j,d,t):r$(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof a.extraReducers=="function"?fk(a.extraReducers):[a.extraReducers],C={..._,...u.sliceCaseReducersByType};return KI(a.initialState,E=>{for(let A in C)E.addCase(A,C[A]);for(let A of u.sliceMatchers)E.addMatcher(A.matcher,A.reducer);for(let A of j)E.addMatcher(A.matcher,A.reducer);S&&E.addDefaultCase(S)})}const h=_=>_,m=new Map,v=new WeakMap;let w;function y(_,j){return w||(w=f()),w(_,j)}function g(){return w||(w=f()),w.getInitialState()}function p(_,j=!1){function S(E){let A=E[_];return typeof A>"u"&&j&&(A=du(v,S,g)),A}function C(E=h){const A=du(m,j,()=>new WeakMap);return du(A,E,()=>{const k={};for(const[R,T]of Object.entries(a.selectors??{}))k[R]=e$(T,E,()=>du(v,E,g),j);return k})}return{reducerPath:_,getSelectors:C,get selectors(){return C(S)},selectSlice:S}}const b={name:i,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...p(o),injectInto(_,{reducerPath:j,...S}={}){const C=j??o;return _.inject({reducerPath:C,reducer:y},S),{...b,...p(C,!0)}}};return b}}function e$(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Zt=QI();function t$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function r$({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!a$(n))throw new Error(mr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Mr(e,o):Mr(e))}function n$(e){return e._reducerDefinitionType==="asyncThunk"}function a$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function i$({type:e,reducerName:t},r,n,a){if(!a)throw new Error(mr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||fu,pending:l||fu,rejected:c||fu,settled:u||fu})}function fu(){}var o$="task",hk="listener",mk="completed",m0="cancelled",s$=`task-${m0}`,l$=`task-${mk}`,Hg=`${hk}-${m0}`,c$=`${hk}-${mk}`,dh=class{constructor(e){Xh(this,"name","TaskAbortError");Xh(this,"message");this.code=e,this.message=`${o$} ${m0} (reason: ${e})`}},p0=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},Id=()=>{},pk=(e,t=Id)=>(e.catch(t),e),gk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xi=e=>{if(e.aborted)throw new dh(e.reason)};function vk(e,t){let r=Id;return new Promise((n,a)=>{const i=()=>a(new dh(e.reason));if(e.aborted){i();return}r=gk(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Id})}var u$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof dh?"cancelled":"rejected",error:r}}finally{t==null||t()}},$d=e=>t=>pk(vk(e,t).then(r=>(xi(e),r))),yk=e=>{const t=$d(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Po}=Object,mw={},fh="listenerMiddleware",d$=(e,t)=>{const r=n=>gk(e,()=>n.abort(e.reason));return(n,a)=>{p0(n);const i=new AbortController;r(i);const o=u$(async()=>{xi(e),xi(i.signal);const l=await n({pause:$d(i.signal),delay:yk(i.signal),signal:i.signal});return xi(i.signal),l},()=>i.abort(l$));return a!=null&&a.autoJoin&&t.push(o.catch(Id)),{result:$d(e)(o),cancel(){i.abort(s$)}}}},f$=(e,t)=>{const r=async(n,a)=>{xi(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await vk(t,Promise.race(l));return xi(t),c}finally{i()}};return(n,a)=>pk(r(n,a))},bk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Mr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(mr(21));return p0(i),{predicate:a,type:t,effect:i}},xk=Po(e=>{const{type:t,predicate:r,effect:n}=bk(e);return{id:XI(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>xk}),pw=(e,t)=>{const{type:r,effect:n,predicate:a}=bk(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Wg=e=>{e.pending.forEach(t=>{t.abort(Hg)})},h$=(e,t)=>()=>{for(const r of t.keys())Wg(r);e.clear()},gw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},wk=Po(Mr(`${fh}/add`),{withTypes:()=>wk}),m$=Mr(`${fh}/removeAll`),_k=Po(Mr(`${fh}/remove`),{withTypes:()=>_k}),p$=(...e)=>{console.error(`${fh}/error`,...e)},vc=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},a=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:i,onError:o=p$}=e;p0(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&Wg(m)}),c=m=>{const v=pw(t,m)??xk(m);return l(v)};Po(c,{withTypes:()=>c});const u=m=>{const v=pw(t,m);return v&&(v.unsubscribe(),m.cancelActive&&Wg(v)),!!v};Po(u,{withTypes:()=>u});const d=async(m,v,w,y)=>{const g=new AbortController,p=f$(c,g.signal),b=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(v,Po({},w,{getOriginalState:y,condition:(_,j)=>p(_,j).then(Boolean),take:p,delay:yk(g.signal),pause:$d(g.signal),extra:i,signal:g.signal,fork:d$(g.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,j,S)=>{_!==g&&(_.abort(Hg),S.delete(_))})},cancel:()=>{g.abort(Hg),m.pending.delete(g)},throwIfCancelled:()=>{xi(g.signal)}})))}catch(_){_ instanceof dh||gw(o,_,{raisedBy:"effect"})}finally{await Promise.all(b),g.abort(c$),a(m),m.pending.delete(g)}},f=h$(t,r);return{middleware:m=>v=>w=>{if(!Z2(w))return v(w);if(wk.match(w))return c(w.payload);if(m$.match(w)){f();return}if(_k.match(w))return u(w.payload);let y=m.getState();const g=()=>{if(y===mw)throw new Error(mr(23));return y};let p;try{if(p=v(w),t.size>0){const b=m.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(w,b,y)}catch(C){S=!1,gw(o,C,{raisedBy:"predicate"})}S&&d(j,w,m,g)}}}finally{y=mw}return p},startListening:c,stopListening:u,clearListeners:f}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var g$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},jk=Zt({name:"chartLayout",initialState:g$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:v$,setLayout:y$,setChartSize:b$,setScale:x$}=jk.actions,w$=jk.reducer;function Sk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Le(e){return Number.isFinite(e)}function fn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){_$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _$(e,t,r){return(t=j$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(e){var t=S$(e,"string");return typeof t=="symbol"?t:t+""}function S$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return gt(e)||gt(t)?r:dn(t)?Ko(e,t,r):typeof t=="function"?t(e):r}var C$=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Y(e[i]))return jo(jo({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Y(e[o]))return jo(jo({},e),{},{[o]:e[o]+(a||0)})}return e},Hi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Ck=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},Ek=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(w=m==="angleAxis"&&i&&i.length>=2?Vt(i[0]-i[1])*2*w:w,f||h){var y=(f||h||[]).map((g,p)=>{var b=n?n.indexOf(g):g;return{coordinate:o(b)+w,value:g,offset:w,index:p}});return y.filter(g=>!Yr(g.coordinate))}return c&&u?u.map((g,p)=>({coordinate:o(g)+w,value:g,index:p,offset:w})):o.ticks&&d!=null?o.ticks(d).map((g,p)=>({coordinate:o(g)+w,value:g,offset:w,index:p})):o.domain().map((g,p)=>({coordinate:o(g)+w,value:n?n[g]:g,index:p,offset:w}))},yw=1e-4,E$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-yw,i=Math.max(n[0],n[1])+yw,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},O$=(e,t)=>{if(!t||t.length!==2||!Y(t[0])||!Y(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Y(e[0])||e[0]<r)&&(a[0]=r),(!Y(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},A$=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var c=e[l],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=Yr(d)?f:d;h>=0?(u[0]=i,u[1]=i+h,i=d):(u[0]=o,u[1]=o+h,o=d)}}}},k$=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var l=e[o],c=l==null?void 0:l[a];if(c!=null){var u=Yr(c[1])?c[0]:c[1];u>=0?(c[0]=i,c[1]=i+u,i=c[1]):(c[0]=0,c[1]=0)}}}},T$={sign:A$,expand:mB,none:Ti,silhouette:pB,wiggle:gB,positive:k$},N$=(e,t,r)=>{var n,a=(n=T$[r])!==null&&n!==void 0?n:Ti,i=hB().keys(t).value((l,c)=>Number(At(l,c,0))).order(Pg).offset(a),o=i(e);return o.forEach((l,c)=>{l.forEach((u,d)=>{var f=At(e[d],t[c],0);Array.isArray(f)&&f.length===2&&Y(f[0])&&Y(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function R$(e){return e==null?void 0:String(e)}var bw=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=At(i,t.dataKey,t.scale.domain()[o]);return gt(l)?null:t.scale(l)-a/2+n},P$=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},M$=e=>{var t=e.flat(2).filter(Y);return[Math.min(...t),Math.max(...t)]},D$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],z$=(e,t,r)=>{if(e!=null)return D$(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,l=o.reduce((c,u)=>{var d=Sk(u,t,r),f=M$(d);return!Le(f[0])||!Le(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},xw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ww=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ld=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=nh(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function _w(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return jo(jo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Ok(e,t){if(e)return String(e);if(typeof t=="string")return t}var B$=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},I$=(e,t)=>t==="centric"?e.angle:e.radius,Qn=e=>e.layout.width,ea=e=>e.layout.height,$$=e=>e.layout.scale,Ak=e=>e.layout.margin,hh=D(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),mh=D(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),L$="data-recharts-item-index",U$="data-recharts-item-id",yc=60;function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){q$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q$(e,t,r){return(t=H$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H$(e){var t=W$(e,"string");return typeof t=="symbol"?t:t+""}function W$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F$=e=>e.brush.height;function V$(e){var t=mh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:yc;return r+a}return r},0)}function G$(e){var t=mh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:yc;return r+a}return r},0)}function K$(e){var t=hh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Y$(e){var t=hh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vt=D([Qn,ea,Ak,F$,V$,G$,K$,Y$,K2,bI],(e,t,r,n,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=hu(hu({},f),d),m=h.bottom;h.bottom+=n,h=C$(h,c,u);var v=e-h.left-h.right,w=t-h.top-h.bottom;return hu(hu({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(w,0)})}),X$=D(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),g0=D(Qn,ea,(e,t)=>({x:0,y:0,width:e,height:t})),Z$=x.createContext(null),Jt=()=>x.useContext(Z$)!=null,ph=e=>e.brush,gh=D([ph,vt,Ak],(e,t,r)=>({height:e.height,x:Y(e.x)?e.x:t.left,y:Y(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Y(e.width)?e.width:t.width})),kk={},Tk={},Nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),w()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},w=()=>{v(),o=void 0,l=null},y=()=>{d()},g=function(...p){if(a!=null&&a.aborted)return;o=this,l=p;const b=h==null;m(),c&&b&&d()};return g.schedule=m,g.cancel=w,g.flush=y,a==null||a.addEventListener("abort",w,{once:!0}),g}e.debounce=t})(Nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...w){d=n.apply(this,w),f=null},a,{edges:u}),m=function(...w){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,w),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,w),d)},v=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=v,m}e.debounce=r})(Tk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tk;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(kk);var J$=kk.throttle;const Q$=Zn(J$);var Ud=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},Rk=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=Wn(n)?e:Number(n),c=Wn(a)?t:Number(a);return i&&i>0&&(l?c=l/i:c&&(l=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},eL={width:0,height:0,overflow:"visible"},tL={width:0,overflowX:"visible"},rL={height:0,overflowY:"visible"},nL={},aL=e=>{var{width:t,height:r}=e,n=Wn(t),a=Wn(r);return n&&a?eL:n?tL:a?rL:nL};function iL(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(null,arguments)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){oL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oL(e,t,r){return(t=sL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sL(e){var t=lL(e,"string");return typeof t=="symbol"?t:t+""}function lL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pk=x.createContext({width:-1,height:-1});function cL(e){return fn(e.width)&&fn(e.height)}function Mk(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return cL(a)?x.createElement(Pk.Provider,{value:a},t):null}var v0=()=>x.useContext(Pk),uL=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:v={}}=e,w=x.useRef(null),y=x.useRef();y.current=m,x.useImperativeHandle(t,()=>w.current);var[g,p]=x.useState({containerWidth:n.width,containerHeight:n.height}),b=x.useCallback((E,A)=>{p(k=>{var R=Math.round(E),T=Math.round(A);return k.containerWidth===R&&k.containerHeight===T?k:{containerWidth:R,containerHeight:T}})},[]);x.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return pc;var E=T=>{var H,{width:q,height:F}=T[0].contentRect;b(q,F),(H=y.current)===null||H===void 0||H.call(y,q,F)};d>0&&(E=Q$(E,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(E),{width:k,height:R}=w.current.getBoundingClientRect();return b(k,R),A.observe(w.current),()=>{A.disconnect()}},[b,d]);var{containerWidth:_,containerHeight:j}=g;Ud(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:C}=Rk(_,j,{width:a,height:i,aspect:r,maxHeight:c});return Ud(S!=null&&S>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,C,a,i,o,l,r),x.createElement("div",{id:f?"".concat(f):void 0,className:De("recharts-responsive-container",h),style:Cw(Cw({},v),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:w},x.createElement("div",{style:aL({width:a,height:i})},x.createElement(Mk,{width:S,height:C},u)))}),dL=x.forwardRef((e,t)=>{var r=v0();if(fn(r.width)&&fn(r.height))return e.children;var{width:n,height:a}=iL({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=Rk(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Y(i)&&Y(o)?x.createElement(Mk,{width:i,height:o},e.children):x.createElement(uL,Fg({},e,{width:n,height:a,ref:t}))});function Dk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var vh=()=>{var e,t=Jt(),r=Q(X$),n=Q(gh),a=(e=Q(ph))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},fL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zk=()=>{var e;return(e=Q(vt))!==null&&e!==void 0?e:fL},Bk=()=>Q(Qn),Ik=()=>Q(ea),xe=e=>e.layout.layoutType,bc=()=>Q(xe),hL=()=>{var e=bc();return e!==void 0},yh=e=>{var t=Ge(),r=Jt(),{width:n,height:a}=e,i=v0(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),x.useEffect(()=>{!r&&fn(o)&&fn(l)&&t(b$({width:o,height:l}))},[t,r,o,l]),null},$k=Symbol.for("immer-nothing"),Ew=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bl=Object.getPrototypeOf;function Zo(e){return!!e&&!!e[vr]}function Ri(e){var t;return e?Lk(e)||Array.isArray(e)||!!e[Ew]||!!((t=e.constructor)!=null&&t[Ew])||xc(e)||xh(e):!1}var mL=Object.prototype.constructor.toString(),Ow=new WeakMap;function Lk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Ow.get(r);return n===void 0&&(n=Function.toString.call(r),Ow.set(r,n)),n===mL}function qd(e,t,r=!0){bh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function bh(e){const t=e[vr];return t?t.type_:Array.isArray(e)?1:xc(e)?2:xh(e)?3:0}function Vg(e,t){return bh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Uk(e,t,r){const n=bh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function pL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xc(e){return e instanceof Map}function xh(e){return e instanceof Set}function ii(e){return e.copy_||e.base_}function Gg(e,t){if(xc(e))return new Map(e);if(xh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Lk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[vr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Bl(e),n)}else{const n=Bl(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function y0(e,t=!1){return wh(e)||Zo(e)||!Ri(e)||(bh(e)>1&&Object.defineProperties(e,{set:mu,add:mu,clear:mu,delete:mu}),Object.freeze(e),t&&Object.values(e).forEach(r=>y0(r,!0))),e}function gL(){Vr(2)}var mu={value:gL};function wh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var vL={};function Pi(e){const t=vL[e];return t||Vr(0,e),t}var Il;function qk(){return Il}function yL(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Aw(e,t){t&&(Pi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Kg(e){Yg(e),e.drafts_.forEach(bL),e.drafts_=null}function Yg(e){e===Il&&(Il=e.parent_)}function kw(e){return Il=yL(Il,e)}function bL(e){const t=e[vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Tw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[vr].modified_&&(Kg(t),Vr(4)),Ri(e)&&(e=Hd(t,e),t.parent_||Wd(t,e)),t.patches_&&Pi("Patches").generateReplacementPatches_(r[vr].base_,e,t.patches_,t.inversePatches_)):e=Hd(t,r,[]),Kg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$k?e:void 0}function Hd(e,t,r){if(wh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[vr];if(!a)return qd(t,(i,o)=>Nw(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Wd(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),qd(o,(c,u)=>Nw(e,a,i,c,u,r,l),n),Wd(e,i,!1),r&&e.patches_&&Pi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function Nw(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=wh(a);if(!(l&&!o)){if(Zo(a)){const c=i&&t&&t.type_!==3&&!Vg(t.assigned_,n)?i.concat(n):void 0,u=Hd(e,a,c);if(Uk(r,n,u),Zo(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ri(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Hd(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(xc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Wd(e,a)}}}function Wd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&y0(t,r)}function xL(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:qk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=b0;r&&(a=[n],i=$l);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var b0={get(e,t){if(t===vr)return e;const r=ii(e);if(!Vg(r,t))return wL(e,r,t);const n=r[t];return e.finalized_||!Ri(n)?n:n===Zm(e.base_,t)?(Jm(e),e.copy_[t]=Zg(n,e)):n},has(e,t){return t in ii(e)},ownKeys(e){return Reflect.ownKeys(ii(e))},set(e,t,r){const n=Hk(ii(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Zm(ii(e),t),i=a==null?void 0:a[vr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(pL(r,a)&&(r!==void 0||Vg(e.base_,t)))return!0;Jm(e),Xg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Zm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Jm(e),Xg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ii(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Bl(e.base_)},setPrototypeOf(){Vr(12)}},$l={};qd(b0,(e,t)=>{$l[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});$l.deleteProperty=function(e,t){return $l.set.call(this,e,t,void 0)};$l.set=function(e,t,r){return b0.set.call(this,e[0],t,r,e[0])};function Zm(e,t){const r=e[vr];return(r?ii(r):e)[t]}function wL(e,t,r){var a;const n=Hk(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Hk(e,t){if(!(t in e))return;let r=Bl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Bl(r)}}function Xg(e){e.modified_||(e.modified_=!0,e.parent_&&Xg(e.parent_))}function Jm(e){e.copy_||(e.copy_=Gg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _L=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let a;if(Ri(t)){const i=kw(this),o=Zg(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Kg(i):Yg(i)}return Aw(i,n),Tw(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===$k&&(a=void 0),this.autoFreeze_&&y0(a,!0),n){const i=[],o=[];Pi("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ri(e)||Vr(8),Zo(e)&&(e=jL(e));const t=kw(this),r=Zg(e,void 0);return r[vr].isManual_=!0,Yg(t),r}finishDraft(e,t){const r=e&&e[vr];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return Aw(n,t),Tw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Pi("Patches").applyPatches_;return Zo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Zg(e,t){const r=xc(e)?Pi("MapSet").proxyMap_(e,t):xh(e)?Pi("MapSet").proxySet_(e,t):xL(e,t);return(t?t.scope_:qk()).drafts_.push(r),r}function jL(e){return Zo(e)||Vr(10,e),Wk(e)}function Wk(e){if(!Ri(e)||wh(e))return e;const t=e[vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Gg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Gg(e,!0);return qd(r,(a,i)=>{Uk(r,a,Wk(i))},n),t&&(t.finalized_=!1),r}var SL=new _L;SL.produce;var CL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Fk=Zt({name:"legend",initialState:CL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Kr(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=Kr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:rJ,setLegendSettings:nJ,addLegendPayload:EL,replaceLegendPayload:OL,removeLegendPayload:AL}=Fk.actions,kL=Fk.reducer;function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){TL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TL(e,t,r){return(t=NL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=RL(e,"string");return typeof t=="symbol"?t:t+""}function RL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PL(e){return Array.isArray(e)&&dn(e[0])&&dn(e[1])?e.join(" ~ "):e}var ML=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(l?nh(i,l):i).map((C,E)=>{if(C.type==="none")return null;var A=C.formatter||o||PL,{value:k,name:R}=C,T=k,H=R;if(A){var q=A(k,R,C,E,i);if(Array.isArray(q))[T,H]=q;else if(q!=null)T=q;else return null}var F=Qm({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:F},dn(H)?x.createElement("span",{className:"recharts-tooltip-item-name"},H):null,dn(H)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},T),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},v=Qm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Qm({margin:0},a),y=!gt(d),g=y?d:"",p=De("recharts-default-tooltip",c),b=De("recharts-tooltip-label",u);y&&f&&i!==void 0&&i!==null&&(g=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Jg({className:p,style:v},_),x.createElement("p",{className:b,style:w},x.isValidElement(g)?g:"".concat(g)),m())},Ms="recharts-tooltip-wrapper",DL={visibility:"hidden"};function zL(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(Ms,{["".concat(Ms,"-right")]:Y(r)&&t&&Y(t.x)&&r>=t.x,["".concat(Ms,"-left")]:Y(r)&&t&&Y(t.x)&&r<t.x,["".concat(Ms,"-bottom")]:Y(n)&&t&&Y(t.y)&&n>=t.y,["".concat(Ms,"-top")]:Y(n)&&t&&Y(t.y)&&n<t.y})}function Pw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&Y(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,v=h;return m<v?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var w=f+l,y=h+u;return w>y?Math.max(d,h):Math.max(f,h)}function BL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function IL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=Pw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Pw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=BL({translateX:d,translateY:f,useTranslate3d:l})):u=DL,{cssProperties:u,cssClasses:zL({translateX:d,translateY:f,coordinate:r})}}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){Qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qg(e,t,r){return(t=$L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=LL(e,"string");return typeof t=="symbol"?t:t+""}function LL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class UL extends x.PureComponent{constructor(){super(...arguments),Qg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Qg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:w,innerRef:y,hasPortalFromProps:g}=this.props,{cssClasses:p,cssProperties:b}=IL({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:w.height,width:w.width},useTranslate3d:h,viewBox:m}),_=g?{}:pu(pu({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=pu(pu({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:p,style:j,ref:y},i)}}var Vk=()=>{var e;return(e=Q(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){qL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qL(e,t,r){return(t=HL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HL(e){var t=WL(e,"string");return typeof t=="symbol"?t:t+""}function WL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bw={curveBasisClosed:rB,curveBasisOpen:nB,curveBasis:tB,curveBumpX:U8,curveBumpY:q8,curveLinearClosed:aB,curveLinear:Yf,curveMonotoneX:iB,curveMonotoneY:oB,curveNatural:sB,curveStep:lB,curveStepAfter:uB,curveStepBefore:cB},Fd=e=>Le(e.x)&&Le(e.y),Iw=e=>e.base!=null&&Fd(e.base)&&Fd(e),Ds=e=>e.x,zs=e=>e.y,FL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(mc(e));return(r==="curveMonotone"||r==="curveBump")&&t?Bw["".concat(r).concat(t==="vertical"?"Y":"X")]:Bw[r]||Yf},VL=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=FL(t,a),l=i?r.filter(Fd):r,c;if(Array.isArray(n)){var u=r.map((m,v)=>zw(zw({},m),{},{base:n[v]}));a==="vertical"?c=su().y(zs).x1(Ds).x0(m=>m.base.x):c=su().x(Ds).y1(zs).y0(m=>m.base.y);var d=c.defined(Iw).curve(o),f=i?u.filter(Iw):u;return d(f)}a==="vertical"&&Y(n)?c=su().y(zs).x1(Ds).x0(n):Y(n)?c=su().x(Ds).y1(zs).y0(n):c=n2().x(Ds).y(zs);var h=c.defined(Fd).curve(o);return h(l)},Gk=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=bc();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?VL(o):n;return x.createElement("path",ev({},qn(e),RB(e),{className:De("recharts-curve",t),d:l===null?void 0:l,ref:a}))},GL=["x","y","top","left","width","height","className"];function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){YL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YL(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=ZL(e,"string");return typeof t=="symbol"?t:t+""}function ZL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JL(e,t){if(e==null)return{};var r,n,a=QL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eU=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),tU=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=JL(e,GL),u=KL({x:t,y:r,top:n,left:a,width:i,height:o},c);return!Y(t)||!Y(r)||!Y(i)||!Y(o)||!Y(n)||!Y(a)?null:x.createElement("path",tv({},Pr(u),{className:De("recharts-cross",l),d:eU(t,r,i,o,n,a)}))};function rU(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){nU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nU(e,t,r){return(t=aU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=iU(e,"string");return typeof t=="symbol"?t:t+""}function iU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Kk=(e,t,r)=>e.map(n=>"".concat(oU(n)," ").concat(t,"ms ").concat(r)).join(","),sU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Ll=(e,t)=>Object.keys(t).reduce((r,n)=>Uw(Uw({},r),{},{[n]:e(n,t[n])}),{});function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){lU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lU(e,t,r){return(t=cU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vd=(e,t,r)=>e+(t-e)*r,rv=e=>{var{from:t,to:r}=e;return t!==r},Yk=(e,t,r)=>{var n=Ll((a,i)=>{if(rv(i)){var[o,l]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Ll((a,i)=>rv(i)&&n[a]!=null?nt(nt({},i),{},{velocity:Vd(i.velocity,n[a].velocity,r),from:Vd(i.from,n[a].from,r)}):i,t):Yk(e,n,r-1)};function dU(e,t,r,n,a,i){var o,l=n.reduce((h,m)=>nt(nt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Ll((h,m)=>m.from,l),u=()=>!Object.values(l).filter(rv).length,d=null,f=h=>{o||(o=h);var m=h-o,v=m/r.dt;l=Yk(r,l,v),a(nt(nt(nt({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function fU(e,t,r,n,a,i,o){var l=null,c=a.reduce((f,h)=>{var m=e[h],v=t[h];return m==null||v==null?f:nt(nt({},f),{},{[h]:[m,v]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Ll((w,y)=>Vd(...y,r(h)),c);if(i(nt(nt(nt({},e),t),m)),h<1)l=o.setTimeout(d);else{var v=Ll((w,y)=>Vd(...y,r(1)),c);i(nt(nt(nt({},e),t),v))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const hU=(e,t,r,n,a,i)=>{var o=sU(e,t);return r==null?()=>(a(nt(nt({},e),t)),()=>{}):r.isStepper===!0?dU(e,t,r,o,a,i):fU(e,t,r,n,o,a,i)};var Gd=1e-4,Xk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Zk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Hw=(e,t)=>r=>{var n=Xk(e,t);return Zk(n,r)},mU=(e,t)=>r=>{var n=Xk(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return Zk(a,r)},pU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},gU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=pU(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},vU=(e,t,r,n)=>{var a=Hw(e,r),i=Hw(t,n),o=mU(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,v=o(f);if(Math.abs(m-d)<Gd||v<Gd)return i(f);f=l(f-m/v)}return i(f)};return c.isStepper=!1,c},Ww=function(){return vU(...gU(...arguments))},yU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-l)<Gd&&Math.abs(f)<Gd?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},bU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ww(e);case"spring":return yU();default:if(e.split("(")[0]==="cubic-bezier")return Ww(e)}return typeof e=="function"?e:null};function xU(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class wU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function _U(){return xU(new wU)}var jU=x.createContext(_U);function SU(e,t){var r=x.useContext(jU);return x.useMemo(()=>t??r(e),[e,t,r])}var CU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_h={isSsr:CU()},EU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Fw={t:0},ep={t:1};function x0(e){var t=yr(e,EU),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!_h.isSsr:r,f=SU(t.animationId,t.animationManager),[h,m]=x.useState(d?Fw:ep),v=x.useRef(null);return x.useEffect(()=>{d||m(ep)},[d]),x.useEffect(()=>{if(!d||!n)return pc;var w=hU(Fw,ep,bU(i),a,m,f.getTimeoutController()),y=()=>{v.current=w()};return f.start([c,o,y,a,l]),()=>{f.stop(),v.current&&v.current(),l()}},[d,n,a,i,o,c,l,f]),u(h.t)}function w0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Pl(t)),n=x.useRef(e);return n.current!==e&&(r.current=Pl(t),n.current=e),r.current}var OU=["radius"],AU=["radius"],Vw,Gw,Kw,Yw,Xw,Zw,Jw,Qw,e_,t_;function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){kU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kU(e,t,r){return(t=TU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TU(e){var t=NU(e,"string");return typeof t=="symbol"?t:t+""}function NU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kd.apply(null,arguments)}function a_(e,t){if(e==null)return{};var r,n,a=RU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var i_=(e,t,r,n,a)=>{var i=Ca(r),o=Ca(n),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=a[m]>l?l:a[m];f=qe(Vw||(Vw=rn(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=qe(Gw||(Gw=rn(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=qe(Kw||(Kw=rn(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=qe(Yw||(Yw=rn(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+c*h[1])),f+=qe(Xw||(Xw=rn(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=qe(Zw||(Zw=rn(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=qe(Jw||(Jw=rn(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=qe(Qw||(Qw=rn(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-c*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var w=Math.min(l,a);f=qe(e_||(e_=rn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*w,w,w,d,e+u*w,t,e+r-u*w,t,w,w,d,e+r,t+c*w,e+r,t+n-c*w,w,w,d,e+r-u*w,t+n,e+u*w,t+n,w,w,d,e,t+n-c*w)}else f=qe(t_||(t_=rn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},o_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jk=e=>{var t=yr(e,o_),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:w}=t,y=x.useRef(l),g=x.useRef(c),p=x.useRef(i),b=x.useRef(o),_=x.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),j=w0(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var S=De("recharts-rectangle",d);if(!w){var C=Pr(t),{radius:E}=C,A=a_(C,OU);return x.createElement("path",Kd({},A,{x:Ca(i),y:Ca(o),width:Ca(l),height:Ca(c),radius:typeof u=="number"?u:void 0,className:S,d:i_(i,o,l,c,u)}))}var k=y.current,R=g.current,T=p.current,H=b.current,q="0px ".concat(n===-1?1:n,"px"),F="".concat(n,"px 0px"),O=Kk(["strokeDasharray"],h,typeof f=="string"?f:o_.animationEasing);return x.createElement(x0,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:w,begin:m},N=>{var P=_t(k,l,N),M=_t(R,c,N),L=_t(T,i,N),G=_t(H,o,N);r.current&&(y.current=P,g.current=M,p.current=L,b.current=G);var J;v?N>0?J={transition:O,strokeDasharray:F}:J={strokeDasharray:q}:J={strokeDasharray:F};var ae=Pr(t),{radius:ie}=ae,oe=a_(ae,AU);return x.createElement("path",Kd({},oe,{radius:typeof u=="number"?u:void 0,className:S,d:i_(L,G,P,M,u),ref:r,style:n_(n_({},J),t.style)}))})};function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){PU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PU(e,t,r){return(t=MU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=DU(e,"string");return typeof t=="symbol"?t:t+""}function DU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yd=Math.PI/180,zU=e=>e*180/Math.PI,Et=(e,t,r,n)=>({x:e+Math.cos(-Yd*n)*r,y:t+Math.sin(-Yd*n)*r}),BU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},IU=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},$U=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=IU({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:zU(c),angleInRadian:c}},LU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},UU=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},qU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=$U({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=LU(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?l_(l_({},t),{},{radius:a,angle:UU(d,t)}):null};function Qk(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Et(t,r,n,a),l=Et(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var c_,u_,d_,f_,h_,m_,p_;function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(null,arguments)}function ui(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var HU=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},gu=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Yd,f=c?a:a+i*d,h=Et(t,r,u,f),m=Et(t,r,n,f),v=c?a-i*d:a,w=Et(t,r,u*Math.cos(d*Yd),v);return{center:h,circleTangency:m,lineTangency:w,theta:d}},eT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=HU(i,o),c=i+l,u=Et(t,r,a,i),d=Et(t,r,a,c),f=qe(c_||(c_=ui(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(i>c),d.x,d.y);if(n>0){var h=Et(t,r,n,i),m=Et(t,r,n,c);f+=qe(u_||(u_=ui(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(i<=c),h.x,h.y)}else f+=qe(d_||(d_=ui(["L ",","," Z"])),t,r);return f},WU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Vt(u-c),{circleTangency:f,lineTangency:h,theta:m}=gu({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:v,lineTangency:w,theta:y}=gu({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-y;if(g<0)return o?qe(f_||(f_=ui(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):eT({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var p=qe(h_||(h_=ui(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),v.x,v.y,i,i,+(d<0),w.x,w.y);if(n>0){var{circleTangency:b,lineTangency:_,theta:j}=gu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:C,theta:E}=gu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-j-E;if(A<0&&i===0)return"".concat(p,"L").concat(t,",").concat(r,"Z");p+=qe(m_||(m_=ui(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,i,i,+(d<0),S.x,S.y,n,n,+(A>180),+(d>0),b.x,b.y,i,i,+(d<0),_.x,_.y)}else p+=qe(p_||(p_=ui(["L",",","Z"])),t,r);return p},FU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tT=e=>{var t=yr(e,FU),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=De("recharts-sector",f),m=i-a,v=Xr(o,m,0,!0),w;return v>0&&Math.abs(u-d)<360?w=WU({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):w=eT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),x.createElement("path",nv({},Pr(t),{className:h,d:w}))};function VU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(b2(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,c=Et(n,a,i,l),u=Et(n,a,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return Qk(t)}}var rT={},nT={},aT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(aT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aT;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(nT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c0,r=nT;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(rT);var GU=rT.range;const iT=Zn(GU);function Da(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _0(e){let t,r,n;e.length!==2?(t=Da,r=(l,c)=>Da(e(l),c),n=(l,c)=>e(l)-c):(t=e===Da||e===KU?e:YU,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function YU(){return 0}function oT(e){return e===null?NaN:+e}function*XU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ZU=_0(Da),wc=ZU.right;_0(oT).center;class g_ extends Map{constructor(t,r=e9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(v_(this,t))}has(t){return super.has(v_(this,t))}set(t,r){return super.set(JU(this,t),r)}delete(t){return super.delete(QU(this,t))}}function v_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function JU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function QU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function e9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function t9(e=Da){if(e===Da)return sT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function sT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const r9=Math.sqrt(50),n9=Math.sqrt(10),a9=Math.sqrt(2);function Xd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=r9?10:i>=n9?5:i>=a9?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Xd(e,t,r*2):[l,c,u]}function av(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Xd(t,e,r):Xd(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function iv(e,t,r){return t=+t,e=+e,r=+r,Xd(e,t,r)[2]}function ov(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?iv(t,e,r):iv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function y_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function lT(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?sT:t9(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));lT(e,t,m,v,a)}const i=e[t];let o=r,l=n;for(Bs(e,r,t),a(e[n],i)>0&&Bs(e,r,n);o<l;){for(Bs(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Bs(e,r,l):(++l,Bs(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Bs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function i9(e,t,r){if(e=Float64Array.from(XU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return b_(e);if(t>=1)return y_(e);var n,a=(n-1)*t,i=Math.floor(a),o=y_(lT(e,i).subarray(0,i+1)),l=b_(e.subarray(i+1));return o+(l-o)*(a-i)}}function o9(e,t,r=oT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function s9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Br(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ta(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sv=Symbol("implicit");function j0(){var e=new g_,t=[],r=[],n=sv;function a(i){let o=e.get(i);if(o===void 0){if(n!==sv)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new g_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return j0(t,r).unknown(n)},Br.apply(a,arguments),a}function S0(){var e=j0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,w=m?n:a;i=(w-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(w-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var y=s9(h).map(function(g){return v+i*g});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return S0(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Br.apply(f(),arguments)}function cT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cT(t())},e}function l9(){return cT(S0.apply(null,arguments).paddingInner(1))}function C0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function uT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function _c(){}var Ul=.7,Zd=1/Ul,Mo="\\s*([+-]?\\d+)\\s*",ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c9=/^#([0-9a-f]{3,8})$/,u9=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),d9=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),f9=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${ql}\\)$`),h9=new RegExp(`^rgba\\(${un},${un},${un},${ql}\\)$`),m9=new RegExp(`^hsl\\(${ql},${un},${un}\\)$`),p9=new RegExp(`^hsla\\(${ql},${un},${un},${ql}\\)$`),x_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};C0(_c,Hl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w_,formatHex:w_,formatHex8:g9,formatHsl:v9,formatRgb:__,toString:__});function w_(){return this.rgb().formatHex()}function g9(){return this.rgb().formatHex8()}function v9(){return dT(this).formatHsl()}function __(){return this.rgb().formatRgb()}function Hl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=c9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?j_(t):r===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=u9.exec(e))?new Gt(t[1],t[2],t[3],1):(t=d9.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=f9.exec(e))?vu(t[1],t[2],t[3],t[4]):(t=h9.exec(e))?vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=m9.exec(e))?E_(t[1],t[2]/100,t[3]/100,1):(t=p9.exec(e))?E_(t[1],t[2]/100,t[3]/100,t[4]):x_.hasOwnProperty(e)?j_(x_[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function j_(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function vu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gt(e,t,r,n)}function y9(e){return e instanceof _c||(e=Hl(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function lv(e,t,r,n){return arguments.length===1?y9(e):new Gt(e,t,r,n??1)}function Gt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}C0(Gt,lv,uT(_c,{brighter(e){return e=e==null?Zd:Math.pow(Zd,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ul:Math.pow(Ul,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(wi(this.r),wi(this.g),wi(this.b),Jd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S_,formatHex:S_,formatHex8:b9,formatRgb:C_,toString:C_}));function S_(){return`#${di(this.r)}${di(this.g)}${di(this.b)}`}function b9(){return`#${di(this.r)}${di(this.g)}${di(this.b)}${di((isNaN(this.opacity)?1:this.opacity)*255)}`}function C_(){const e=Jd(this.opacity);return`${e===1?"rgb(":"rgba("}${wi(this.r)}, ${wi(this.g)}, ${wi(this.b)}${e===1?")":`, ${e})`}`}function Jd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function di(e){return e=wi(e),(e<16?"0":"")+e.toString(16)}function E_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gr(e,t,r,n)}function dT(e){if(e instanceof Gr)return new Gr(e.h,e.s,e.l,e.opacity);if(e instanceof _c||(e=Hl(e)),!e)return new Gr;if(e instanceof Gr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Gr(o,l,c,e.opacity)}function x9(e,t,r,n){return arguments.length===1?dT(e):new Gr(e,t,r,n??1)}function Gr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}C0(Gr,x9,uT(_c,{brighter(e){return e=e==null?Zd:Math.pow(Zd,e),new Gr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ul:Math.pow(Ul,e),new Gr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Gt(tp(e>=240?e-240:e+120,a,n),tp(e,a,n),tp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Gr(O_(this.h),yu(this.s),yu(this.l),Jd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jd(this.opacity);return`${e===1?"hsl(":"hsla("}${O_(this.h)}, ${yu(this.s)*100}%, ${yu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function O_(e){return e=(e||0)%360,e<0?e+360:e}function yu(e){return Math.max(0,Math.min(1,e||0))}function tp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const E0=e=>()=>e;function w9(e,t){return function(r){return e+r*t}}function _9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function j9(e){return(e=+e)==1?fT:function(t,r){return r-t?_9(t,r,e):E0(isNaN(t)?r:t)}}function fT(e,t){var r=t-e;return r?w9(e,r):E0(isNaN(e)?t:e)}const A_=function e(t){var r=j9(t);function n(a,i){var o=r((a=lv(a)).r,(i=lv(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=fT(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function S9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function C9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function E9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=bs(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function O9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Qd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function A9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bs(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var cv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rp=new RegExp(cv.source,"g");function k9(e){return function(){return e}}function T9(e){return function(t){return e(t)+""}}function N9(e,t){var r=cv.lastIndex=rp.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=cv.exec(e))&&(a=rp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Qd(n,a)})),r=rp.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?T9(c[0].x):k9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function bs(e,t){var r=typeof t,n;return t==null||r==="boolean"?E0(t):(r==="number"?Qd:r==="string"?(n=Hl(t))?(t=n,A_):N9:t instanceof Hl?A_:t instanceof Date?O9:C9(t)?S9:Array.isArray(t)?E9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?A9:Qd)(e,t)}function O0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function R9(e,t){t===void 0&&(t=e,e=bs);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function P9(e){return function(){return e}}function ef(e){return+e}var k_=[0,1];function zt(e){return e}function uv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:P9(isNaN(t)?NaN:.5)}function M9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function D9(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=uv(a,n),i=r(o,i)):(n=uv(n,a),i=r(i,o)),function(l){return i(n(l))}}function z9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=uv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=wc(e,l,1,n)-1;return i[c](a[c](l))}}function jc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jh(){var e=k_,t=k_,r=bs,n,a,i,o=zt,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=M9(e[0],e[h-1])),l=h>2?z9:D9,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Qd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ef),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=O0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function A0(){return jh()(zt,zt)}function B9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tf(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Jo(e){return e=tf(Math.abs(e)),e?e[1]:NaN}function I9(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function $9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var L9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wl(e){if(!(t=L9.exec(e)))throw new Error("invalid format: "+e);var t;return new k0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wl.prototype=k0.prototype;function k0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}k0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function U9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var rf;function q9(e,t){var r=tf(e,t);if(!r)return rf=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(rf=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+tf(e,Math.max(0,t+i-1))[0]}function T_(e,t){var r=tf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const N_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:B9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>T_(e*100,t),r:T_,s:q9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function R_(e){return e}var P_=Array.prototype.map,M_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function H9(e){var t=e.grouping===void 0||e.thousands===void 0?R_:I9(P_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?R_:$9(P_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Wl(f);var m=f.fill,v=f.align,w=f.sign,y=f.symbol,g=f.zero,p=f.width,b=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(b=!0,S="g"):N_[S]||(_===void 0&&(_=12),j=!0,S="g"),(g||m==="0"&&v==="=")&&(g=!0,m="0",v="=");var C=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),E=(y==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=N_[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(T){var H=C,q=E,F,O,N;if(S==="c")q=A(T)+q,T="";else{T=+T;var P=T<0||1/T<0;if(T=isNaN(T)?c:A(Math.abs(T),_),j&&(T=U9(T)),P&&+T==0&&w!=="+"&&(P=!1),H=(P?w==="("?w:l:w==="-"||w==="("?"":w)+H,q=(S==="s"&&!isNaN(T)&&rf!==void 0?M_[8+rf/3]:"")+q+(P&&w==="("?")":""),k){for(F=-1,O=T.length;++F<O;)if(N=T.charCodeAt(F),48>N||N>57){q=(N===46?a+T.slice(F+1):T.slice(F))+q,T=T.slice(0,F);break}}}b&&!g&&(T=t(T,1/0));var M=H.length+T.length+q.length,L=M<p?new Array(p-M+1).join(m):"";switch(b&&g&&(T=t(L+T,L.length?p-q.length:1/0),L=""),v){case"<":T=H+T+q+L;break;case"=":T=H+L+T+q;break;case"^":T=L.slice(0,M=L.length>>1)+H+T+q+L.slice(M);break;default:T=L+H+T+q;break}return i(T)}return R.toString=function(){return f+""},R}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Jo(h)/3)))*3,v=Math.pow(10,-m),w=u((f=Wl(f),f.type="f",f),{suffix:M_[8+m/3]});return function(y){return w(v*y)}}return{format:u,formatPrefix:d}}var bu,T0,hT;W9({thousands:",",grouping:[3],currency:["$",""]});function W9(e){return bu=H9(e),T0=bu.format,hT=bu.formatPrefix,bu}function F9(e){return Math.max(0,-Jo(Math.abs(e)))}function V9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jo(t)/3)))*3-Jo(Math.abs(e)))}function G9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jo(t)-Jo(e))+1}function mT(e,t,r,n){var a=ov(e,t,r),i;switch(n=Wl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=V9(a,o))&&(n.precision=i),hT(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=G9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=F9(a))&&(n.precision=i-(n.type==="%")*2);break}}return T0(n)}function Ga(e){var t=e.domain;return e.ticks=function(r){var n=t();return av(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return mT(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=iv(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function pT(){var e=A0();return e.copy=function(){return jc(e,pT())},Br.apply(e,arguments),Ga(e)}function gT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ef),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return gT(e).unknown(t)},e=arguments.length?Array.from(e,ef):[0,1],Ga(r)}function vT(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function D_(e){return Math.log(e)}function z_(e){return Math.exp(e)}function K9(e){return-Math.log(-e)}function Y9(e){return-Math.exp(-e)}function X9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Z9(e){return e===10?X9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function J9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function B_(e){return(t,r)=>-e(-t,r)}function N0(e){const t=e(D_,z_),r=t.domain;let n=10,a,i;function o(){return a=J9(n),i=Z9(n),r()[0]<0?(a=B_(a),i=B_(i),e(K9,Y9)):e(D_,z_),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,w;const y=l==null?10:+l;let g=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(w=h<0?v/i(-h):v*i(h),!(w<u)){if(w>d)break;g.push(w)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(w=h>0?v/i(-h):v*i(h),!(w<u)){if(w>d)break;g.push(w)}g.length*2<y&&(g=av(u,d,y))}else g=av(h,m,Math.min(m-h,y)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Wl(c)).precision==null&&(c.trim=!0),c=T0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(vT(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function yT(){const e=N0(jh()).domain([1,10]);return e.copy=()=>jc(e,yT()).base(e.base()),Br.apply(e,arguments),e}function I_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function R0(e){var t=1,r=e(I_(t),$_(t));return r.constant=function(n){return arguments.length?e(I_(t=+n),$_(t)):t},Ga(r)}function bT(){var e=R0(jh());return e.copy=function(){return jc(e,bT()).constant(e.constant())},Br.apply(e,arguments)}function L_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Q9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function e7(e){return e<0?-e*e:e*e}function P0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(Q9,e7):e(L_(r),L_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ga(t)}function M0(){var e=P0(jh());return e.copy=function(){return jc(e,M0()).exponent(e.exponent())},Br.apply(e,arguments),e}function t7(){return M0.apply(null,arguments).exponent(.5)}function U_(e){return Math.sign(e)*e*e}function r7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xT(){var e=A0(),t=[0,1],r=!1,n;function a(i){var o=r7(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(U_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ef)).map(U_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Br.apply(a,arguments),Ga(a)}function wT(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=o9(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[wc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Da),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return wT().domain(e).range(t).unknown(n)},Br.apply(i,arguments)}function _T(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[wc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return _T().domain([e,t]).range(a).unknown(i)},Br.apply(Ga(o),arguments)}function jT(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[wc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return jT().domain(e).range(t).unknown(r)},Br.apply(a,arguments)}const np=new Date,ap=new Date;function ot(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(np.setTime(+i),ap.setTime(+o),e(np),e(ap),Math.floor(r(np,ap))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const nf=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):nf);nf.range;const Tn=1e3,kr=Tn*60,Nn=kr*60,Vn=Nn*24,D0=Vn*7,q_=Vn*30,ip=Vn*365,fi=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCSeconds());fi.range;const z0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tn)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getMinutes());z0.range;const B0=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getUTCMinutes());B0.range;const I0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tn-e.getMinutes()*kr)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getHours());I0.range;const $0=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getUTCHours());$0.range;const Sc=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kr)/Vn,e=>e.getDate()-1);Sc.range;const Sh=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>e.getUTCDate()-1);Sh.range;const ST=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>Math.floor(e/Vn));ST.range;function Wi(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*kr)/D0)}const Ch=Wi(0),af=Wi(1),n7=Wi(2),a7=Wi(3),Qo=Wi(4),i7=Wi(5),o7=Wi(6);Ch.range;af.range;n7.range;a7.range;Qo.range;i7.range;o7.range;function Fi(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/D0)}const Eh=Fi(0),of=Fi(1),s7=Fi(2),l7=Fi(3),es=Fi(4),c7=Fi(5),u7=Fi(6);Eh.range;of.range;s7.range;l7.range;es.range;c7.range;u7.range;const L0=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());L0.range;const U0=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());U0.range;const Gn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Gn.range;const Kn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kn.range;function CT(e,t,r,n,a,i){const o=[[fi,1,Tn],[fi,5,5*Tn],[fi,15,15*Tn],[fi,30,30*Tn],[i,1,kr],[i,5,5*kr],[i,15,15*kr],[i,30,30*kr],[a,1,Nn],[a,3,3*Nn],[a,6,6*Nn],[a,12,12*Nn],[n,1,Vn],[n,2,2*Vn],[r,1,D0],[t,1,q_],[t,3,3*q_],[e,1,ip]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=_0(([,,y])=>y).right(o,h);if(m===o.length)return e.every(ov(u/ip,d/ip,f));if(m===0)return nf.every(Math.max(ov(u,d,f),1));const[v,w]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(w)}return[l,c]}const[d7,f7]=CT(Kn,U0,Eh,ST,$0,B0),[h7,m7]=CT(Gn,L0,Ch,Sc,I0,z0);function op(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Is(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function p7(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=$s(a),d=Ls(a),f=$s(i),h=Ls(i),m=$s(o),v=Ls(o),w=$s(l),y=Ls(l),g=$s(c),p=Ls(c),b={a:N,A:P,b:M,B:L,c:null,d:K_,e:K_,f:I7,g:K7,G:X7,H:D7,I:z7,j:B7,L:ET,m:$7,M:L7,p:G,q:J,Q:Z_,s:J_,S:U7,u:q7,U:H7,V:W7,w:F7,W:V7,x:null,X:null,y:G7,Y:Y7,Z:Z7,"%":X_},_={a:ae,A:ie,b:oe,B:I,c:null,d:Y_,e:Y_,f:tq,g:dq,G:hq,H:J7,I:Q7,j:eq,L:AT,m:rq,M:nq,p:W,q:ce,Q:Z_,s:J_,S:aq,u:iq,U:oq,V:sq,w:lq,W:cq,x:null,X:null,y:uq,Y:fq,Z:mq,"%":X_},j={a:k,A:R,b:T,B:H,c:q,d:V_,e:V_,f:N7,g:F_,G:W_,H:G_,I:G_,j:O7,L:T7,m:E7,M:A7,p:A,q:C7,Q:P7,s:M7,S:k7,u:x7,U:w7,V:_7,w:b7,W:j7,x:F,X:O,y:F_,Y:W_,Z:S7,"%":R7};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(z,X){return function(re){var U=[],Ut=-1,Ee=0,Qt=z.length,er,Ya,Rb;for(re instanceof Date||(re=new Date(+re));++Ut<Qt;)z.charCodeAt(Ut)===37&&(U.push(z.slice(Ee,Ut)),(Ya=H_[er=z.charAt(++Ut)])!=null?er=z.charAt(++Ut):Ya=er==="e"?" ":"0",(Rb=X[er])&&(er=Rb(re,Ya)),U.push(er),Ee=Ut+1);return U.push(z.slice(Ee,Ut)),U.join("")}}function C(z,X){return function(re){var U=Is(1900,void 0,1),Ut=E(U,z,re+="",0),Ee,Qt;if(Ut!=re.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(X&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(Ee=sp(Is(U.y,0,1)),Qt=Ee.getUTCDay(),Ee=Qt>4||Qt===0?of.ceil(Ee):of(Ee),Ee=Sh.offset(Ee,(U.V-1)*7),U.y=Ee.getUTCFullYear(),U.m=Ee.getUTCMonth(),U.d=Ee.getUTCDate()+(U.w+6)%7):(Ee=op(Is(U.y,0,1)),Qt=Ee.getDay(),Ee=Qt>4||Qt===0?af.ceil(Ee):af(Ee),Ee=Sc.offset(Ee,(U.V-1)*7),U.y=Ee.getFullYear(),U.m=Ee.getMonth(),U.d=Ee.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Qt="Z"in U?sp(Is(U.y,0,1)).getUTCDay():op(Is(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(Qt+5)%7:U.w+U.U*7-(Qt+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,sp(U)):op(U)}}function E(z,X,re,U){for(var Ut=0,Ee=X.length,Qt=re.length,er,Ya;Ut<Ee;){if(U>=Qt)return-1;if(er=X.charCodeAt(Ut++),er===37){if(er=X.charAt(Ut++),Ya=j[er in H_?X.charAt(Ut++):er],!Ya||(U=Ya(z,re,U))<0)return-1}else if(er!=re.charCodeAt(U++))return-1}return U}function A(z,X,re){var U=u.exec(X.slice(re));return U?(z.p=d.get(U[0].toLowerCase()),re+U[0].length):-1}function k(z,X,re){var U=m.exec(X.slice(re));return U?(z.w=v.get(U[0].toLowerCase()),re+U[0].length):-1}function R(z,X,re){var U=f.exec(X.slice(re));return U?(z.w=h.get(U[0].toLowerCase()),re+U[0].length):-1}function T(z,X,re){var U=g.exec(X.slice(re));return U?(z.m=p.get(U[0].toLowerCase()),re+U[0].length):-1}function H(z,X,re){var U=w.exec(X.slice(re));return U?(z.m=y.get(U[0].toLowerCase()),re+U[0].length):-1}function q(z,X,re){return E(z,t,X,re)}function F(z,X,re){return E(z,r,X,re)}function O(z,X,re){return E(z,n,X,re)}function N(z){return o[z.getDay()]}function P(z){return i[z.getDay()]}function M(z){return c[z.getMonth()]}function L(z){return l[z.getMonth()]}function G(z){return a[+(z.getHours()>=12)]}function J(z){return 1+~~(z.getMonth()/3)}function ae(z){return o[z.getUTCDay()]}function ie(z){return i[z.getUTCDay()]}function oe(z){return c[z.getUTCMonth()]}function I(z){return l[z.getUTCMonth()]}function W(z){return a[+(z.getUTCHours()>=12)]}function ce(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var X=S(z+="",b);return X.toString=function(){return z},X},parse:function(z){var X=C(z+="",!1);return X.toString=function(){return z},X},utcFormat:function(z){var X=S(z+="",_);return X.toString=function(){return z},X},utcParse:function(z){var X=C(z+="",!0);return X.toString=function(){return z},X}}}var H_={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,g7=/^%/,v7=/[\\^$*+?|[\]().{}]/g;function me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function y7(e){return e.replace(v7,"\\$&")}function $s(e){return new RegExp("^(?:"+e.map(y7).join("|")+")","i")}function Ls(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function b7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function x7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function w7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function j7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function W_(e,t,r){var n=yt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function F_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function S7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function C7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function E7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function V_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function O7(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function G_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function A7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function k7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function T7(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function N7(e,t,r){var n=yt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function R7(e,t,r){var n=g7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function P7(e,t,r){var n=yt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function M7(e,t,r){var n=yt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function K_(e,t){return me(e.getDate(),t,2)}function D7(e,t){return me(e.getHours(),t,2)}function z7(e,t){return me(e.getHours()%12||12,t,2)}function B7(e,t){return me(1+Sc.count(Gn(e),e),t,3)}function ET(e,t){return me(e.getMilliseconds(),t,3)}function I7(e,t){return ET(e,t)+"000"}function $7(e,t){return me(e.getMonth()+1,t,2)}function L7(e,t){return me(e.getMinutes(),t,2)}function U7(e,t){return me(e.getSeconds(),t,2)}function q7(e){var t=e.getDay();return t===0?7:t}function H7(e,t){return me(Ch.count(Gn(e)-1,e),t,2)}function OT(e){var t=e.getDay();return t>=4||t===0?Qo(e):Qo.ceil(e)}function W7(e,t){return e=OT(e),me(Qo.count(Gn(e),e)+(Gn(e).getDay()===4),t,2)}function F7(e){return e.getDay()}function V7(e,t){return me(af.count(Gn(e)-1,e),t,2)}function G7(e,t){return me(e.getFullYear()%100,t,2)}function K7(e,t){return e=OT(e),me(e.getFullYear()%100,t,2)}function Y7(e,t){return me(e.getFullYear()%1e4,t,4)}function X7(e,t){var r=e.getDay();return e=r>=4||r===0?Qo(e):Qo.ceil(e),me(e.getFullYear()%1e4,t,4)}function Z7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+me(t/60|0,"0",2)+me(t%60,"0",2)}function Y_(e,t){return me(e.getUTCDate(),t,2)}function J7(e,t){return me(e.getUTCHours(),t,2)}function Q7(e,t){return me(e.getUTCHours()%12||12,t,2)}function eq(e,t){return me(1+Sh.count(Kn(e),e),t,3)}function AT(e,t){return me(e.getUTCMilliseconds(),t,3)}function tq(e,t){return AT(e,t)+"000"}function rq(e,t){return me(e.getUTCMonth()+1,t,2)}function nq(e,t){return me(e.getUTCMinutes(),t,2)}function aq(e,t){return me(e.getUTCSeconds(),t,2)}function iq(e){var t=e.getUTCDay();return t===0?7:t}function oq(e,t){return me(Eh.count(Kn(e)-1,e),t,2)}function kT(e){var t=e.getUTCDay();return t>=4||t===0?es(e):es.ceil(e)}function sq(e,t){return e=kT(e),me(es.count(Kn(e),e)+(Kn(e).getUTCDay()===4),t,2)}function lq(e){return e.getUTCDay()}function cq(e,t){return me(of.count(Kn(e)-1,e),t,2)}function uq(e,t){return me(e.getUTCFullYear()%100,t,2)}function dq(e,t){return e=kT(e),me(e.getUTCFullYear()%100,t,2)}function fq(e,t){return me(e.getUTCFullYear()%1e4,t,4)}function hq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?es(e):es.ceil(e),me(e.getUTCFullYear()%1e4,t,4)}function mq(){return"+0000"}function X_(){return"%"}function Z_(e){return+e}function J_(e){return Math.floor(+e/1e3)}var to,TT,NT;pq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pq(e){return to=p7(e),TT=to.format,to.parse,NT=to.utcFormat,to.utcParse,to}function gq(e){return new Date(e)}function vq(e){return e instanceof Date?+e:+new Date(+e)}function q0(e,t,r,n,a,i,o,l,c,u){var d=A0(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),w=u("%I:%M"),y=u("%I %p"),g=u("%a %d"),p=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?v:o(S)<S?w:i(S)<S?y:n(S)<S?a(S)<S?g:p:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,vq)):h().map(gq)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?j:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(vT(C,S)):d},d.copy=function(){return jc(d,q0(e,t,r,n,a,i,o,l,c,u))},d}function yq(){return Br.apply(q0(h7,m7,Gn,L0,Ch,Sc,I0,z0,fi,TT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bq(){return Br.apply(q0(d7,f7,Kn,U0,Eh,Sh,$0,B0,fi,NT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oh(){var e=0,t=1,r,n,a,i,o=zt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(bs),u.rangeRound=d(O0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ka(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RT(){var e=Ga(Oh()(zt));return e.copy=function(){return Ka(e,RT())},ta.apply(e,arguments)}function PT(){var e=N0(Oh()).domain([1,10]);return e.copy=function(){return Ka(e,PT()).base(e.base())},ta.apply(e,arguments)}function MT(){var e=R0(Oh());return e.copy=function(){return Ka(e,MT()).constant(e.constant())},ta.apply(e,arguments)}function H0(){var e=P0(Oh());return e.copy=function(){return Ka(e,H0()).exponent(e.exponent())},ta.apply(e,arguments)}function xq(){return H0.apply(null,arguments).exponent(.5)}function DT(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((wc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Da),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>i9(e,i/n))},r.copy=function(){return DT(t).domain(e)},ta.apply(r,arguments)}function Ah(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=zt,d,f=!1,h;function m(w){return isNaN(w=+w)?h:(w=.5+((w=+d(w))-i)*(n*w<n*i?l:c),u(f?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([e,t,r]=w,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(w){return arguments.length?(f=!!w,m):f},m.interpolator=function(w){return arguments.length?(u=w,m):u};function v(w){return function(y){var g,p,b;return arguments.length?([g,p,b]=y,u=R9(w,[g,p,b]),m):[u(0),u(.5),u(1)]}}return m.range=v(bs),m.rangeRound=v(O0),m.unknown=function(w){return arguments.length?(h=w,m):h},function(w){return d=w,a=w(e),i=w(t),o=w(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function zT(){var e=Ga(Ah()(zt));return e.copy=function(){return Ka(e,zT())},ta.apply(e,arguments)}function BT(){var e=N0(Ah()).domain([.1,1,10]);return e.copy=function(){return Ka(e,BT()).base(e.base())},ta.apply(e,arguments)}function IT(){var e=R0(Ah());return e.copy=function(){return Ka(e,IT()).constant(e.constant())},ta.apply(e,arguments)}function W0(){var e=P0(Ah());return e.copy=function(){return Ka(e,W0()).exponent(e.exponent())},ta.apply(e,arguments)}function wq(){return W0.apply(null,arguments).exponent(.5)}const Ys=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:S0,scaleDiverging:zT,scaleDivergingLog:BT,scaleDivergingPow:W0,scaleDivergingSqrt:wq,scaleDivergingSymlog:IT,scaleIdentity:gT,scaleImplicit:sv,scaleLinear:pT,scaleLog:yT,scaleOrdinal:j0,scalePoint:l9,scalePow:M0,scaleQuantile:wT,scaleQuantize:_T,scaleRadial:xT,scaleSequential:RT,scaleSequentialLog:PT,scaleSequentialPow:H0,scaleSequentialQuantile:DT,scaleSequentialSqrt:xq,scaleSequentialSymlog:MT,scaleSqrt:t7,scaleSymlog:bT,scaleThreshold:jT,scaleTime:yq,scaleUtc:bq,tickFormat:mT},Symbol.toStringTag,{value:"Module"}));var ra=e=>e.chartData,$T=D([ra],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),LT=(e,t,r,n)=>n?$T(e):ra(e),_q=(e,t,r)=>r?$T(e):ra(e);function Ua(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Le(t)&&Le(r))return!0}return!1}function Q_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function UT(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Le(r))a=r;else if(typeof r=="function")return;if(Le(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Ua(o))return o}}function jq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ua(n))return Q_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Y(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&xw.test(a)){var c=xw.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(Y(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&ww.test(i)){var d=ww.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(Ua(h))return t==null?h:Q_(h,t,r)}}}var xs=1e9,Sq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},V0,Ie=!0,Dr="[DecimalError] ",_i=Dr+"Invalid argument: ",F0=Dr+"Exponent out of range: ",ws=Math.floor,oi=Math.pow,Cq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,ft=1e7,Ne=7,qT=9007199254740991,sf=ws(qT/Ne),V={};V.absoluteValue=V.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};V.comparedTo=V.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};V.decimalPlaces=V.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ne;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};V.dividedBy=V.div=function(e){return Dn(this,new this.constructor(e))};V.dividedToIntegerBy=V.idiv=function(e){var t=this,r=t.constructor;return je(Dn(t,new r(e),0,1),r.precision)};V.equals=V.eq=function(e){return!this.cmp(e)};V.exponent=function(){return tt(this)};V.greaterThan=V.gt=function(e){return this.cmp(e)>0};V.greaterThanOrEqualTo=V.gte=function(e){return this.cmp(e)>=0};V.isInteger=V.isint=function(){return this.e>this.d.length-2};V.isNegative=V.isneg=function(){return this.s<0};V.isPositive=V.ispos=function(){return this.s>0};V.isZero=function(){return this.s===0};V.lessThan=V.lt=function(e){return this.cmp(e)<0};V.lessThanOrEqualTo=V.lte=function(e){return this.cmp(e)<1};V.logarithm=V.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(sr)?new n(0):(Ie=!1,t=Dn(Fl(r,i),Fl(e,i),i),Ie=!0,je(t,a))};V.minus=V.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FT(t,e):HT(t,(e.s=-e.s,e))};V.modulo=V.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Dr+"NaN");return r.s?(Ie=!1,t=Dn(r,e,0,1).times(e),Ie=!0,r.minus(t)):je(new n(r),a)};V.naturalExponential=V.exp=function(){return WT(this)};V.naturalLogarithm=V.ln=function(){return Fl(this)};V.negated=V.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};V.plus=V.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HT(t,e):FT(t,(e.s=-e.s,e))};V.precision=V.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_i+e);if(t=tt(a)+1,n=a.d.length-1,r=n*Ne+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};V.squareRoot=V.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Dr+"NaN")}for(e=tt(l),Ie=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ln(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ws((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Dn(l,i,o+2)).times(.5),ln(i.d).slice(0,o)===(t=ln(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(je(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ie=!0,je(n,r)};V.times=V.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%ft|0,t=l/ft|0;i[a]=(i[a]+t)%ft|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ie?je(e,f.precision):e};V.toDecimalPlaces=V.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(hn(e,0,xs),t===void 0?t=n.rounding:hn(t,0,8),je(r,e+tt(r)+1,t))};V.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Mi(n,!0):(hn(e,0,xs),t===void 0?t=a.rounding:hn(t,0,8),n=je(new a(n),e+1,t),r=Mi(n,!0,e+1)),r};V.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Mi(a):(hn(e,0,xs),t===void 0?t=i.rounding:hn(t,0,8),n=je(new i(a),e+tt(a)+1,t),r=Mi(n.abs(),!1,e+tt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};V.toInteger=V.toint=function(){var e=this,t=e.constructor;return je(new t(e),tt(e)+1,t.rounding)};V.toNumber=function(){return+this};V.toPower=V.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(sr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Dr+"Infinity");return l}if(l.eq(sr))return l;if(n=c.precision,e.eq(sr))return je(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=qT){for(a=new c(sr),t=Math.ceil(n/Ne+4),Ie=!1;r%2&&(a=a.times(l),tj(a.d,t)),r=ws(r/2),r!==0;)l=l.times(l),tj(l.d,t);return Ie=!0,e.s<0?new c(sr).div(a):je(a,n)}}else if(i<0)throw Error(Dr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ie=!1,a=e.times(Fl(l,n+u)),Ie=!0,a=WT(a),a.s=i,a};V.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=tt(a),n=Mi(a,r<=i.toExpNeg||r>=i.toExpPos)):(hn(e,1,xs),t===void 0?t=i.rounding:hn(t,0,8),a=je(new i(a),e,t),r=tt(a),n=Mi(a,e<=r||r<=i.toExpNeg,e)),n};V.toSignificantDigits=V.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(hn(e,1,xs),t===void 0?t=n.rounding:hn(t,0,8)),je(new n(r),e,t)};V.toString=V.valueOf=V.val=V.toJSON=V[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),r=e.constructor;return Mi(e,t<=r.toExpNeg||t>=r.toExpPos)};function HT(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ie?je(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Ne),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ft|0,c[i]%=ft;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ie?je(t,f):t}function hn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_i+e)}function ln(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ne-n.length,r&&(i+=da(r)),i+=n;o=e[t],n=o+"",r=Ne-n.length,r&&(i+=da(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Dn=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ft|0,o=i/ft|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ft+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,v,w,y,g,p,b,_,j,S,C,E,A=n.constructor,k=n.s==a.s?1:-1,R=n.d,T=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Dr+"Division by zero");for(c=n.e-a.e,C=T.length,j=R.length,m=new A(k),v=m.d=[],u=0;T[u]==(R[u]||0);)++u;if(T[u]>(R[u]||0)&&--c,i==null?p=i=A.precision:o?p=i+(tt(n)-tt(a))+1:p=i,p<0)return new A(0);if(p=p/Ne+2|0,u=0,C==1)for(d=0,T=T[0],p++;(u<j||d)&&p--;u++)b=d*ft+(R[u]||0),v[u]=b/T|0,d=b%T|0;else{for(d=ft/(T[0]+1)|0,d>1&&(T=e(T,d),R=e(R,d),C=T.length,j=R.length),_=C,w=R.slice(0,C),y=w.length;y<C;)w[y++]=0;E=T.slice(),E.unshift(0),S=T[0],T[1]>=ft/2&&++S;do d=0,l=t(T,w,C,y),l<0?(g=w[0],C!=y&&(g=g*ft+(w[1]||0)),d=g/S|0,d>1?(d>=ft&&(d=ft-1),f=e(T,d),h=f.length,y=w.length,l=t(f,w,h,y),l==1&&(d--,r(f,C<h?E:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<y&&f.unshift(0),r(w,f,y),l==-1&&(y=w.length,l=t(T,w,C,y),l<1&&(d++,r(w,C<y?E:T,y))),y=w.length):l===0&&(d++,w=[0]),v[u++]=d,l&&w[0]?w[y++]=R[_]||0:(w=[R[_]],y=1);while((_++<j||w[0]!==void 0)&&p--)}return v[0]||v.shift(),m.e=c,je(m,o?i+tt(m)+1:i)}}();function WT(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(tt(e)>16)throw Error(F0+tt(e));if(!e.s)return new d(sr);for(Ie=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(oi(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(sr),d.precision=l;;){if(a=je(a.times(e),l),r=r.times(++c),o=i.plus(Dn(a,r,l)),ln(o.d).slice(0,l)===ln(i.d).slice(0,l)){for(;u--;)i=je(i.times(i),l);return d.precision=f,t==null?(Ie=!0,je(i,f)):i}i=o}}function tt(e){for(var t=e.e*Ne,r=e.d[0];r>=10;r/=10)t++;return t}function lp(e,t,r){if(t>e.LN10.sd())throw Ie=!0,r&&(e.precision=r),Error(Dr+"LN10 precision limit exceeded");return je(new e(e.LN10),t)}function da(e){for(var t="";e--;)t+="0";return t}function Fl(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,v=m.d,w=m.constructor,y=w.precision;if(m.s<1)throw Error(Dr+(m.s?"NaN":"-Infinity"));if(m.eq(sr))return new w(0);if(t==null?(Ie=!1,u=y):u=t,m.eq(10))return t==null&&(Ie=!0),lp(w,u);if(u+=h,w.precision=u,r=ln(v),n=r.charAt(0),i=tt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ln(m.d),n=r.charAt(0),f++;i=tt(m),n>1?(m=new w("0."+r),i++):m=new w(n+"."+r.slice(1))}else return c=lp(w,u+2,y).times(i+""),m=Fl(new w(n+"."+r.slice(1)),u-h).plus(c),w.precision=y,t==null?(Ie=!0,je(m,y)):m;for(l=o=m=Dn(m.minus(sr),m.plus(sr),u),d=je(m.times(m),u),a=3;;){if(o=je(o.times(d),u),c=l.plus(Dn(o,new w(a),u)),ln(c.d).slice(0,u)===ln(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(lp(w,u+2,y).times(i+""))),l=Dn(l,new w(f),u),w.precision=y,t==null?(Ie=!0,je(l,y)):l;l=c,a+=2}}function ej(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ws(r/Ne),e.d=[],n=(r+1)%Ne,r<0&&(n+=Ne),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ne;n<a;)e.d.push(+t.slice(n,n+=Ne));t=t.slice(n),n=Ne-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ie&&(e.e>sf||e.e<-sf))throw Error(F0+r)}else e.s=0,e.e=0,e.d=[0];return e}function je(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ne,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ne),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ne,a=n-Ne+o}if(r!==void 0&&(i=oi(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/oi(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=tt(e),f.length=1,t=t-i-1,f[0]=oi(10,(Ne-t%Ne)%Ne),e.e=ws(-t/Ne)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=oi(10,Ne-n),f[d]=a>0?(u/oi(10,o-a)%oi(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ft&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ft)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ie&&(e.e>sf||e.e<-sf))throw Error(F0+tt(e));return e}function FT(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ie?je(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Ne),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ft-1;--c[i],c[a]+=ft}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ie?je(t,m):t):new h(0)}function Mi(e,t,r){var n,a=tt(e),i=ln(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+da(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+da(-a-1)+i,r&&(n=r-o)>0&&(i+=da(n))):a>=o?(i+=da(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+da(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=da(n))),e.s<0?"-"+i:i}function tj(e,t){if(e.length>t)return e.length=t,!0}function VT(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(_i+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ej(o,i.toString())}else if(typeof i!="string")throw Error(_i+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Cq.test(i))ej(o,i);else throw Error(_i+i)}if(a.prototype=V,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=VT,a.config=a.set=Eq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Eq(e){if(!e||typeof e!="object")throw Error(Dr+"Object expected");var t,r,n,a=["precision",1,xs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ws(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(_i+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_i+r+": "+n);return this}var V0=VT(Sq);sr=new V0(1);const ye=V0;var Oq=e=>e,GT={},KT=e=>e===GT,rj=e=>function t(){return arguments.length===0||arguments.length===1&&KT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},YT=(e,t)=>e===1?t:rj(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==GT).length;return i>=e?t(...n):YT(e-i,rj(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>KT(d)?l.shift():d);return t(...u,...l)}))}),Aq=e=>YT(e.length,e),dv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},kq=Aq((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Tq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Oq;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}};function XT(e){var t;return e===0?t=1:t=Math.floor(new ye(e).abs().log(10).toNumber())+1,t}function ZT(e,t,r){for(var n=new ye(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var JT=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},QT=(e,t,r)=>{if(e.lte(0))return new ye(0);var n=XT(e.toNumber()),a=new ye(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ye(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new ye(c.toNumber()):new ye(Math.ceil(c.toNumber()))},Nq=(e,t,r)=>{var n=new ye(1),a=new ye(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ye(10).pow(XT(e)-1),a=new ye(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ye(Math.floor(e)))}else e===0?a=new ye(Math.floor((t-1)/2)):r||(a=new ye(Math.floor(e)));var o=Math.floor((t-1)/2),l=Tq(kq(c=>a.add(new ye(c-o).mul(n)).toNumber()),dv);return l(0,t)},eN=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ye(0),tickMin:new ye(0),tickMax:new ye(0)};var o=QT(new ye(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new ye(0):(l=new ye(t).add(r).div(2),l=l.sub(new ye(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new ye(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?eN(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new ye(c).mul(o)),tickMax:l.add(new ye(u).mul(o))})},Rq=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=JT([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...dv(0,a-1).map(()=>1/0)]:[...dv(0,a-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(l===c)return Nq(l,a,i);var{step:d,tickMin:f,tickMax:h}=eN(l,c,o,i,0),m=ZT(f,h.add(new ye(.1).mul(d)),d);return r>n?m.reverse():m},Pq=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=JT([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(r,2),u=QT(new ye(l).sub(o).div(c-1),i,0),d=[...ZT(new ye(o),new ye(l),u),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},tN=e=>e.rootProps.maxBarSize,Mq=e=>e.rootProps.barGap,rN=e=>e.rootProps.barCategoryGap,Dq=e=>e.rootProps.barSize,kh=e=>e.rootProps.stackOffset,nN=e=>e.rootProps.reverseStackOrder,G0=e=>e.options.chartName,K0=e=>e.rootProps.syncId,aN=e=>e.rootProps.syncMethod,Y0=e=>e.options.eventEmitter,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Cn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Th=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},zq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Cn.angleAxisId,includeHidden:!1,name:void 0,reversed:Cn.reversed,scale:Cn.scale,tick:Cn.tick,tickCount:void 0,ticks:void 0,type:Cn.type,unit:void 0},Bq={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:rr.type,unit:void 0},Iq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cn.scale,tick:Cn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$q={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:"category",unit:void 0},X0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Iq:zq,Z0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$q:Bq,Nh=e=>e.polarOptions,J0=D([Qn,ea,vt],BU),iN=D([Nh,J0],(e,t)=>{if(e!=null)return Xr(e.innerRadius,t,0)}),oN=D([Nh,J0],(e,t)=>{if(e!=null)return Xr(e.outerRadius,t,t*.8)}),Lq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},sN=D([Nh],Lq);D([X0,sN],Th);var lN=D([J0,iN,oN],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});D([Z0,lN],Th);var cN=D([xe,Nh,iN,oN,Qn,ea],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Xr(o,a,a/2),cy:Xr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),st=(e,t)=>t,Rh=(e,t,r)=>r;function Q0(e){return e==null?void 0:e.id}function uN(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Q0(l);u.forEach((f,h)=>{var m=i==null||a?h:String(At(f,i,null)),v=At(f,l.dataKey,0),w;o.has(m)?w=o.get(m):w={},Object.assign(w,{[d]:v}),o.set(m,w)})}}),Array.from(o.values())}function Ph(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Mh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Dh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Uq(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var lt=e=>{var t=xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_s=e=>e.tooltip.settings.axisId;function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qq(e,t,r){return(t=Hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hq(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fv=[0,"auto"],ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dN=(e,t)=>e.cartesianAxis.xAxis[t],na=(e,t)=>{var r=dN(e,t);return r??ut},dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:fv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yc},fN=(e,t)=>e.cartesianAxis.yAxis[t],aa=(e,t)=>{var r=fN(e,t);return r??dt},Fq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},eb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Fq},Lt=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);case"zAxis":return eb(e,r);case"angleAxis":return X0(e,r);case"radiusAxis":return Z0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vq=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Cc=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);case"angleAxis":return X0(e,r);case"radiusAxis":return Z0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hN=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function mN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var tb=e=>e.graphicalItems.cartesianItems,Gq=D([st,Rh],mN),pN=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Ec=D([tb,Lt,Gq],pN,{memoizeOptions:{resultEqualityCheck:Dh}}),gN=D([Ec],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ph)),vN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Kq=D([Ec],vN),yN=e=>e.map(t=>t.data).filter(Boolean).flat(1),Yq=D([Ec],yN,{memoizeOptions:{resultEqualityCheck:Dh}}),bN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},rb=D([Yq,LT],bN),xN=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:At(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:At(a,n)}))):e.map(n=>({value:n})),zh=D([rb,Lt,Ec],xN);function wN(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Hu(e){if(dn(e)||e instanceof Date){var t=Number(e);if(Le(t))return t}}function aj(e){if(Array.isArray(e)){var t=[Hu(e[0]),Hu(e[1])];return Ua(t)?t:void 0}var r=Hu(e);if(r!=null)return[r,r]}function Yn(e){return e.map(Hu).filter(wB)}function Xq(e,t,r){return!r||typeof t!="number"||Yr(t)?[]:r.length?Yn(r.flatMap(n=>{var a=At(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Le(i)||!Le(o)))return[t-i,t+o]})):[]}var ct=e=>{var t=lt(e),r=_s(e);return Cc(e,t,r)},Oc=D([ct],e=>e==null?void 0:e.dataKey),Zq=D([gN,LT,ct],uN),_N=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,c]=o,u=n?[...c].reverse():c,d=u.map(Q0);return[l,{stackedData:N$(e,d,r),graphicalItems:u}]}))},hv=D([Zq,gN,kh,nN],_N),jN=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=z$(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Jq=D([Lt],e=>e.allowDataOverflow),nb=e=>{var t;if(e==null||!("domain"in e))return fv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Yn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:fv},SN=D([Lt],nb),CN=D([SN,Jq],UT),Qq=D([hv,ra,st,CN],jN,{memoizeOptions:{resultEqualityCheck:Mh}}),ab=e=>e.errorBars,eH=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>wN(r,n)),cf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},EN=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(g=>wN(a,g)),h=At(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=Xq(l,h,f);if(m.length>=2){var v=Math.min(...m),w=Math.max(...m);(i==null||v<i)&&(i=v),(o==null||w>o)&&(o=w)}var y=aj(h);y!=null&&(i=i==null?y[0]:Math.min(i,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=aj(At(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),Le(i)&&Le(o))return[i,o]},tH=D([rb,Lt,Kq,ab,st],EN,{memoizeOptions:{resultEqualityCheck:Mh}});function rH(e){var{value:t}=e;if(dn(t)||t instanceof Date)return t}var nH=(e,t,r)=>{var n=e.map(rH).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&g2(n))?iT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},ON=e=>e.referenceElements.dots,js=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),aH=D([ON,st,Rh],js),AN=e=>e.referenceElements.areas,iH=D([AN,st,Rh],js),kN=e=>e.referenceElements.lines,oH=D([kN,st,Rh],js),TN=(e,t)=>{if(e!=null){var r=Yn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},sH=D(aH,st,TN),NN=(e,t)=>{if(e!=null){var r=Yn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},lH=D([iH,st],NN);function cH(e){var t;if(e.x!=null)return Yn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Yn(r)}function uH(e){var t;if(e.y!=null)return Yn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Yn(r)}var RN=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?cH(n):uH(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},dH=D([oH,st],RN),fH=D(sH,dH,lH,(e,t,r)=>cf(e,r,t)),PN=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?cf(n,i,a):cf(i,a);return jq(t,u,e.allowDataOverflow)},hH=D([Lt,SN,CN,Qq,tH,fH,xe,st],PN,{memoizeOptions:{resultEqualityCheck:Mh}}),mH=[0,1],MN=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=Hi(t,i);if(u&&l==null){var d;return iT(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?nH(n,e,u):a==="expand"?mH:o}},ib=D([Lt,xe,rb,zh,kh,st,hH],MN),DN=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(mc(i));return l in Ys?l:"point"}}},Ac=D([Lt,xe,hN,G0,st],DN);function pH(e){if(e!=null){if(e in Ys)return Ys[e]();var t="scale".concat(mc(e));if(t in Ys)return Ys[t]()}}function ob(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=pH(t);if(a!=null){var i=a.domain(r).range(n);return E$(i),i}}}var zN=(e,t,r)=>{var n=nb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ua(e))return Rq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ua(e))return Pq(e,t.tickCount,t.allowDecimals)}},sb=D([ib,Cc,Ac],zN),BN=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ua(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},gH=D([Lt,ib,sb,st],BN),vH=D(zh,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Yn(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],u=n[l+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),IN=D(vH,xe,rN,vt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Le(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Xr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),yH=(e,t,r)=>{var n=na(e,t);return n==null||typeof n.padding!="string"?0:IN(e,"xAxis",t,r,n.padding)},bH=(e,t,r)=>{var n=aa(e,t);return n==null||typeof n.padding!="string"?0:IN(e,"yAxis",t,r,n.padding)},xH=D(na,yH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),wH=D(aa,bH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),_H=D([vt,xH,gh,ph,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),jH=D([vt,xe,wH,gh,ph,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),kc=(e,t,r,n)=>{var a;switch(t){case"xAxis":return _H(e,r,n);case"yAxis":return jH(e,r,n);case"zAxis":return(a=eb(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return sN(e);case"radiusAxis":return lN(e,r);default:return}},$N=D([Lt,kc],Th),Bh=D([Lt,Ac,gH,$N],ob);D([Ec,ab,st],eH);function LN(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ih=(e,t)=>t,$h=(e,t,r)=>r,SH=D(hh,Ih,$h,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(LN)),CH=D(mh,Ih,$h,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(LN)),UN=(e,t)=>({width:e.width,height:t.height}),EH=(e,t)=>{var r=typeof t.width=="number"?t.width:yc;return{width:r,height:e.height}},qN=D(vt,na,UN),OH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},AH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},kH=D(ea,vt,SH,Ih,$h,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=UN(t,l);o==null&&(o=OH(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),TH=D(Qn,vt,CH,Ih,$h,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=EH(t,l);o==null&&(o=AH(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),NH=(e,t)=>{var r=na(e,t);if(r!=null)return kH(e,r.orientation,r.mirror)},RH=D([vt,na,NH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),PH=(e,t)=>{var r=aa(e,t);if(r!=null)return TH(e,r.orientation,r.mirror)},MH=D([vt,aa,PH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),HN=D(vt,aa,(e,t)=>{var r=typeof t.width=="number"?t.width:yc;return{width:r,height:e.height}}),ij=(e,t,r)=>{switch(t){case"xAxis":return qN(e,r).width;case"yAxis":return HN(e,r).height;default:return}},WN=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Hi(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&g2(c))return c}},lb=D([xe,zh,Lt,st],WN),FN=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Hi(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},cb=D([xe,zh,Cc,st],FN),oj=D([xe,Vq,Ac,Bh,lb,cb,kc,sb,st],(e,t,r,n,a,i,o,l,c)=>{if(t!=null){var u=Hi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),DH=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var u=Hi(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=c==="angleAxis"&&i!=null&&i.length>=2?Vt(i[0]-i[1])*2*v:v;var w=f||a;if(w){var y=w.map((g,p)=>{var b=o?o.indexOf(g):g;return{index:p,coordinate:n(b)+v,value:g,offset:v}});return y.filter(g=>Le(g.coordinate))}return u&&l?l.map((g,p)=>({coordinate:n(g)+v,value:g,index:p,offset:v})).filter(g=>Le(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+v,value:g,offset:v})):n.domain().map((g,p)=>({coordinate:n(g)+v,value:o?o[g]:g,index:p,offset:v}))}},VN=D([xe,Cc,Ac,Bh,sb,kc,lb,cb,st],DH),zH=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Hi(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Vt(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},ts=D([xe,Cc,Bh,kc,lb,cb,st],zH),rs=D(Lt,Bh,(e,t)=>{if(!(e==null||t==null))return lf(lf({},e),{},{scale:t})}),BH=D([Lt,Ac,ib,$N],ob);D((e,t,r)=>eb(e,r),BH,(e,t)=>{if(!(e==null||t==null))return lf(lf({},e),{},{scale:t})});var IH=D([xe,hh,mh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GN=e=>e.options.defaultTooltipEventType,KN=e=>e.options.validateTooltipEventTypes;function YN(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ub(e,t){var r=GN(e),n=KN(e);return YN(t,r,n)}function $H(e){return Q(t=>ub(t,e))}var XN=(e,t)=>{var r,n=Number(t);if(!(Yr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},LH=e=>e.tooltip.settings,ya={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},UH={itemInteraction:{click:ya,hover:ya},axisInteraction:{click:ya,hover:ya},keyboardInteraction:ya,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ZN=Zt({name:"tooltip",initialState:UH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Kr(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=Kr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:qH,replaceTooltipEntrySettings:HH,removeTooltipEntrySettings:WH,setTooltipSettingsState:FH,setActiveMouseOverItemIndex:JN,mouseLeaveItem:VH,mouseLeaveChart:QN,setActiveClickItemIndex:GH,setMouseOverAxisIndex:eR,setMouseClickAxisIndex:KH,setSyncInteraction:mv,setKeyboardInteraction:pv}=ZN.actions,YH=ZN.reducer;function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){XH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XH(e,t,r){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=JH(e,"string");return typeof t=="symbol"?t:t+""}function JH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function eW(e){return e.index!=null}var tR=(e,t,r,n)=>{if(t==null)return ya;var a=QH(e,t,r);if(a==null)return ya;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(eW(a)){if(i)return xu(xu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return xu(xu({},ya),{},{coordinate:a.coordinate})};function tW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function rW(e,t){var r=tW(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function nW(e,t,r){if(r==null||t==null)return!0;var n=At(e,t);return n==null||!Ua(r)?!0:rW(n,r)}var db=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Le(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(i,l)),u=t[c];return u==null||nW(u,r,n)?String(c):null},rR=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},nR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},Tc=e=>e.options.tooltipPayloadSearcher,Ss=e=>e.tooltip;function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){aW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aW(e,t,r){return(t=iW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iW(e){var t=oW(e,"string");return typeof t=="symbol"?t:t+""}function oW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sW(e,t){return e??t}var aR=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:w,settings:y}=m,g=sW(w,l),p=Array.isArray(g)?Sk(g,u,d):g,b=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:n,_=y==null?void 0:y.nameKey,j;if(n&&Array.isArray(p)&&!Array.isArray(p[0])&&o==="axis"?j=xB(p,n,a):j=i(p,t,c,_),Array.isArray(j))j.forEach(C=>{var E=cj(cj({},y),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});h.push(_w({tooltipEntrySettings:E,dataKey:C.dataKey,payload:C.payload,value:At(C.payload,C.dataKey),name:C.name}))});else{var S;h.push(_w({tooltipEntrySettings:y,dataKey:b,payload:j,value:At(j,b),name:(S=At(j,_))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},fb=D([ct,xe,hN,G0,lt],DN),lW=D([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),cW=D([lt,_s],mN),Cs=D([lW,ct,cW],pN,{memoizeOptions:{resultEqualityCheck:Dh}}),uW=D([Cs],e=>e.filter(Ph)),dW=D([Cs],yN,{memoizeOptions:{resultEqualityCheck:Dh}}),Es=D([dW,ra],bN),fW=D([uW,ra,ct],uN),hb=D([Es,ct,Cs],xN),iR=D([ct],nb),hW=D([ct],e=>e.allowDataOverflow),oR=D([iR,hW],UT),mW=D([Cs],e=>e.filter(Ph)),pW=D([fW,mW,kh,nN],_N),gW=D([pW,ra,lt,oR],jN),vW=D([Cs],vN),yW=D([Es,ct,vW,ab,lt],EN,{memoizeOptions:{resultEqualityCheck:Mh}}),bW=D([ON,lt,_s],js),xW=D([bW,lt],TN),wW=D([AN,lt,_s],js),_W=D([wW,lt],NN),jW=D([kN,lt,_s],js),SW=D([jW,lt],RN),CW=D([xW,SW,_W],cf),EW=D([ct,iR,oR,gW,yW,CW,xe,lt],PN),Nc=D([ct,xe,Es,hb,kh,lt,EW],MN),OW=D([Nc,ct,fb],zN),AW=D([ct,Nc,OW,lt],BN),sR=e=>{var t=lt(e),r=_s(e),n=!1;return kc(e,t,r,n)},lR=D([ct,sR],Th),cR=D([ct,fb,AW,lR],ob),kW=D([xe,hb,ct,lt],WN),TW=D([xe,hb,ct,lt],FN),NW=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,u=Hi(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Vt(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},ia=D([xe,ct,fb,cR,sR,kW,TW,lt],NW),mb=D([GN,KN,LH],(e,t,r)=>YN(r.shared,e,t)),uR=e=>e.tooltip.settings.trigger,pb=e=>e.tooltip.settings.defaultIndex,Rc=D([Ss,mb,uR,pb],tR),ns=D([Rc,Es,Oc,Nc],db),dR=D([ia,ns],XN),fR=D([Rc],e=>{if(e)return e.dataKey});D([Rc],e=>{if(e)return e.graphicalItemId});var hR=D([Ss,mb,uR,pb],nR),RW=D([Qn,ea,xe,vt,ia,pb,hR,Tc],rR),PW=D([Rc,RW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),MW=D([Rc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),DW=D([hR,ns,ra,Oc,dR,Tc,mb],aR);D([DW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){zW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zW(e,t,r){return(t=BW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $W=()=>Q(ct),LW=()=>{var e=$W(),t=Q(ia),r=Q(cR);return Ld(!e||!r?void 0:dj(dj({},e),{},{scale:r}),t)};function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){UW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=HW(e,"string");return typeof t=="symbol"?t:t+""}function HW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WW=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},FW=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return ro(ro(ro({},n),Et(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return ro(ro(ro({},n),Et(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function VW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var mR=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,u,d,f,h,m=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,v=(d=r[l])===null||d===void 0?void 0:d.coordinate,w=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||v==null||w==null))if(Vt(v-m)!==Vt(w-v)){var g=[];if(Vt(w-v)===Vt(a[1]-a[0])){y=w;var p=v+a[1]-a[0];g[0]=Math.min(p,(p+m)/2),g[1]=Math.max(p,(p+m)/2)}else{y=m;var b=w+a[1]-a[0];g[0]=Math.min(v,(b+v)/2),g[1]=Math.max(v,(b+v)/2)}var _=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var S=Math.min(m,w),C=Math.max(m,w);if(e>(S+v)/2&&e<=(C+v)/2){var E;return(E=r[l])===null||E===void 0?void 0:E.index}}}else if(t)for(var A=0;A<o;A++){var k=t[A];if(k!=null){var R=t[A+1],T=t[A-1];if(A===0&&R!=null&&e<=(k.coordinate+R.coordinate)/2||A===o-1&&T!=null&&e>(k.coordinate+T.coordinate)/2||A>0&&A<o-1&&T!=null&&R!=null&&e>(k.coordinate+T.coordinate)/2&&e<=(k.coordinate+R.coordinate)/2)return k.index}}return-1},GW=()=>Q(G0),gb=(e,t)=>t,pR=(e,t,r)=>r,vb=(e,t,r,n)=>n,KW=D(ia,e=>nh(e,t=>t.coordinate)),yb=D([Ss,gb,pR,vb],tR),bb=D([yb,Es,Oc,Nc],db),YW=(e,t,r)=>{if(t!=null){var n=Ss(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},gR=D([Ss,gb,pR,vb],nR),uf=D([Qn,ea,xe,vt,ia,vb,gR,Tc],rR),XW=D([yb,uf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),vR=D([ia,bb],XN),ZW=D([gR,bb,ra,Oc,vR,Tc,gb],aR),JW=D([yb,bb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),QW=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&VW(e,o)){var l=B$(e,t),c=mR(l,i,a,r,n),u=WW(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},eF=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=qU(e,r);if(l){var c=I$(l,t),u=mR(c,o,i,n,a),d=FW(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},tF=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?QW(e,t,n,a,i,o,l):eF(e,t,r,n,a,i,o)},rF=D(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),nF=D(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Bt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Uq}});function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){aF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aF(e,t,r){return(t=iF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sF={},lF={zIndexMap:Object.values(Bt).reduce((e,t)=>mj(mj({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),sF)},cF=new Set(Object.values(Bt));function uF(e){return cF.has(e)}var yR=Zt({name:"zIndex",initialState:lF,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!uF(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Be()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Be()}}}),{registerZIndexPortal:dF,unregisterZIndexPortal:fF,registerZIndexPortalElement:hF,unregisterZIndexPortalElement:mF}=yR.actions,pF=yR.reducer;function oa(e){var{zIndex:t,children:r}=e,n=hL(),a=n&&t!==void 0&&t!==0,i=Jt(),o=Ge();x.useLayoutEffect(()=>a?(o(dF({zIndex:t})),()=>{o(fF({zIndex:t}))}):pc,[o,t,a]);var l=Q(c=>rF(c,t,i));return a?l?Nv.createPortal(r,l):null:r}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){gF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gF(e,t,r){return(t=vF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=yF(e,"string");return typeof t=="symbol"?t:t+""}function yF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bF(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function xF(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var v,w,y;if(d==="ScatterChart")v=f,w=tU,y=Bt.cursorLine;else if(d==="BarChart")v=rU(l,f,i,o),w=Jk,y=Bt.cursorRectangle;else if(l==="radial"&&b2(f)){var{cx:g,cy:p,radius:b,startAngle:_,endAngle:j}=Qk(f);v={cx:g,cy:p,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},w=tT,y=Bt.cursorLine}else v={points:VU(l,f,i)},w=Gk,y=Bt.cursorLine;var S=typeof c=="object"&&"className"in c?c.className:void 0,C=wu(wu(wu(wu({stroke:"#ccc",pointerEvents:"none"},i),v),Gy(c)),{},{payload:h,payloadIndex:m,className:De("recharts-tooltip-cursor",S)});return x.createElement(oa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},x.createElement(bF,{cursor:c,cursorComp:w,cursorProps:C}))}function wF(e){var t=LW(),r=zk(),n=bc(),a=GW();return t==null||r==null||n==null||a==null?null:x.createElement(xF,gv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var bR=x.createContext(null),_F=()=>x.useContext(bR),xR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var w=r?r+u:u;if(!this._events[w])return!1;var y=this._events[w],g=arguments.length,p,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,v),!0}for(b=1,p=new Array(g-1);b<g;b++)p[b-1]=arguments[b];y.fn.apply(y.context,p)}else{var _=y.length,j;for(b=0;b<_;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!p)for(j=1,p=new Array(g-1);j<g;j++)p[j-1]=arguments[j];y[b].fn.apply(y[b].context,p)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var w=0,y=[],g=v.length;w<g;w++)(v[w].fn!==d||h&&!v[w].once||f&&v[w].context!==f)&&y.push(v[w]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(xR);var jF=xR.exports;const SF=Zn(jF);var Vl=new SF,vv="recharts.syncEvent.tooltip",gj="recharts.syncEvent.brush";function CF(e,t){if(t){var r=Number.parseInt(t,10);if(!Yr(r))return e==null?void 0:e[r]}}var EF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},wR=Zt({name:"options",initialState:EF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),OF=wR.reducer,{createEventEmitter:AF}=wR.actions;function kF(e){return e.tooltip.syncInteraction}var TF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_R=Zt({name:"chartData",initialState:TF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:vj,setDataStartEndIndexes:NF,setComputedData:aJ}=_R.actions,RF=_R.reducer,PF=["x","y"];function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){MF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MF(e,t,r){return(t=DF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DF(e){var t=zF(e,"string");return typeof t=="symbol"?t:t+""}function zF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BF(e,t){if(e==null)return{};var r,n,a=IF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $F(){var e=Q(K0),t=Q(Y0),r=Ge(),n=Q(aN),a=Q(ia),i=bc(),o=vh(),l=Q(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return pc;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:v,y:w}=m,y=BF(m,PF),{x:g,y:p,width:b,height:_}=d.payload.sourceViewBox,j=no(no({},y),{},{x:o.x+(b?(v-g)/b:0)*o.width,y:o.y+(_?(w-p)/_:0)*o.height});r(no(no({},d),{},{payload:no(no({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(a,C);S=a[E]}else n==="value"&&(S=a.find(O=>String(O.value)===d.payload.label));var{coordinate:A}=d.payload;if(S==null||d.payload.active===!1||A==null||o==null){r(mv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:R}=A,T=Math.min(k,o.x+o.width),H=Math.min(R,o.y+o.height),q={x:i==="horizontal"?S.coordinate:T,y:i==="horizontal"?H:S.coordinate},F=mv({active:d.payload.active,coordinate:q,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(F)}}};return Vl.on(vv,c),()=>{Vl.off(vv,c)}},[l,r,t,e,n,a,i,o])}function LF(){var e=Q(K0),t=Q(Y0),r=Ge();x.useEffect(()=>{if(e==null)return pc;var n=(a,i,o)=>{t!==o&&e===a&&r(NF(i))};return Vl.on(gj,n),()=>{Vl.off(gj,n)}},[r,t,e])}function UF(){var e=Ge();x.useEffect(()=>{e(AF())},[e]),$F(),LF()}function qF(e,t,r,n,a,i){var o=Q(m=>YW(m,e,t)),l=Q(Y0),c=Q(K0),u=Q(aN),d=Q(kF),f=d==null?void 0:d.active,h=vh();x.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=mv({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Vl.emit(vv,c,m,l)}},[f,r,o,a,n,l,c,u,i,h])}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){HF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HF(e,t,r){return(t=WF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=FF(e,"string");return typeof t=="symbol"?t:t+""}function FF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VF(e){return e.dataKey}function GF(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(ML,t)}var wj=[],KF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function YF(e){var t,r,n=yr(e,KF),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:v,useTranslate3d:w,wrapperStyle:y,cursor:g,shared:p,trigger:b,defaultIndex:_,portal:j,axisId:S}=n,C=Ge(),E=typeof _=="number"?String(_):_;x.useEffect(()=>{C(FH({shared:p,trigger:b,axisId:S,active:a,defaultIndex:E}))},[C,p,b,S,a,E]);var A=vh(),k=Vk(),R=$H(p),{activeIndex:T,isActive:H}=(t=Q(W=>JW(W,R,b,E)))!==null&&t!==void 0?t:{},q=Q(W=>ZW(W,R,b,E)),F=Q(W=>vR(W,R,b,E)),O=Q(W=>XW(W,R,b,E)),N=q,P=_F(),M=(r=a??H)!==null&&r!==void 0?r:!1,[L,G]=wI([N,M]),J=R==="axis"?F:void 0;qF(R,b,O,J,T,M);var ae=j??P;if(ae==null||A==null||R==null)return null;var ie=N??wj;M||(ie=wj),u&&ie.length&&(ie=$B(ie.filter(W=>W.value!=null&&(W.hide!==!0||n.includeHidden)),h,VF));var oe=ie.length>0,I=x.createElement(UL,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:M,coordinate:O,hasPayload:oe,offset:f,position:m,reverseDirection:v,useTranslate3d:w,viewBox:A,wrapperStyle:y,lastBoundingBox:L,innerRef:G,hasPortalFromProps:!!j},GF(c,xj(xj({},n),{},{payload:ie,label:J,active:M,activeIndex:T,coordinate:O,accessibilityLayer:k})));return x.createElement(x.Fragment,null,Nv.createPortal(I,ae),M&&x.createElement(wF,{cursor:g,tooltipEventType:R,coordinate:O,payload:ie,index:T}))}var xb=e=>null;xb.displayName="Cell";function XF(e,t,r){return(t=ZF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZF(e){var t=JF(e,"string");return typeof t=="symbol"?t:t+""}function JF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QF{constructor(t){XF(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){tV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tV(e,t,r){return(t=rV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aV={cacheSize:2e3,enableCache:!0},jR=eV({},aV),jj=new QF(jR.cacheSize),iV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Sj="recharts_measurement_span";function oV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var Cj=(e,t)=>{try{var r=document.getElementById(Sj);r||(r=document.createElement("span"),r.setAttribute("id",Sj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,iV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},hl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||_h.isSsr)return{width:0,height:0};if(!jR.enableCache)return Cj(t,r);var n=oV(t,r),a=jj.get(n);if(a)return a;var i=Cj(t,r);return jj.set(n,i),i},SR;function sV(e,t,r){return(t=lV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=cV(e,"string");return typeof t=="symbol"?t:t+""}function cV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ej=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Oj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hV=["cm","mm","pt","pc","in","Q","px"];function mV(e){return hV.includes(e)}var So="NaN";function pV(e,t){return e*fV[t]}class wt{static parse(t){var r,[,n,a]=(r=dV.exec(t))!==null&&r!==void 0?r:[];return n==null?wt.NaN:new wt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Yr(t)&&(this.unit=""),r!==""&&!uV.test(r)&&(this.num=NaN,this.unit=""),mV(r)&&(this.num=pV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Yr(this.num)}}SR=wt;sV(wt,"NaN",new SR(NaN,""));function CR(e){if(e==null||e.includes(So))return So;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Ej.exec(t))!==null&&r!==void 0?r:[],o=wt.parse(n??""),l=wt.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return So;t=t.replace(Ej,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=Oj.exec(t))!==null&&u!==void 0?u:[],m=wt.parse(d??""),v=wt.parse(h??""),w=f==="+"?m.add(v):m.subtract(v);if(w.isNaN())return So;t=t.replace(Oj,w.toString())}return t}var Aj=/\(([^()]*)\)/;function gV(e){for(var t=e,r;(r=Aj.exec(t))!=null;){var[,n]=r;t=t.replace(Aj,CR(n))}return t}function vV(e){var t=e.replace(/\s+/g,"");return t=gV(t),t=CR(t),t}function yV(e){try{return vV(e)}catch{return So}}function cp(e){var t=yV(e.slice(5,-1));return t===So?"":t}var bV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xV=["dx","dy","angle","className","breakAll"];function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(null,arguments)}function kj(e,t){if(e==null)return{};var r,n,a=wV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ER=/[ \f\n\r\t\v\u2028\u2029]+/,OR=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gt(t)||(r?a=t.toString().split(""):a=t.toString().split(ER));var i=a.map(l=>({word:l,width:hl(l,n).width})),o=r?0:hl("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function _V(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var AR=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),kR=e=>e.reduce((t,r)=>t.width>r.width?t:r),jV="",Tj=(e,t,r,n,a,i,o,l)=>{var c=e.slice(0,t),u=OR({breakAll:r,style:n,children:c+jV});if(!u)return[!1,[]];var d=AR(u.wordsWithComputedWidth,i,o,l),f=d.length>a||kR(d).width>Number(i);return[f,d]},SV=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=Y(i),d=String(o),f=AR(t,n,r,a);if(!u||a)return f;var h=f.length>i||kR(f).width>Number(n);if(!h)return f;for(var m=0,v=d.length-1,w=0,y;m<=v&&w<=d.length-1;){var g=Math.floor((m+v)/2),p=g-1,[b,_]=Tj(d,p,c,l,i,n,r,a),[j]=Tj(d,g,c,l,i,n,r,a);if(!b&&!j&&(m=g+1),b&&j&&(v=g-1),!b&&j){y=_;break}w++}return y||f},Nj=e=>{var t=gt(e)?[]:e.toString().split(ER);return[{words:t,width:void 0}]},CV=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!_h.isSsr){var l,c,u=OR({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return Nj(n);return SV({breakAll:i,children:n,maxLines:o,style:a},l,c,t,!!r)}return Nj(n)},TR="#808080",EV={angle:0,breakAll:!1,capHeight:"0.71em",fill:TR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},wb=x.forwardRef((e,t)=>{var r=yr(e,EV),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=kj(r,bV),h=x.useMemo(()=>CV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:v,angle:w,className:y,breakAll:g}=f,p=kj(f,xV);if(!dn(n)||!dn(a)||h.length===0)return null;var b=Number(n)+(Y(m)?m:0),_=Number(a)+(Y(v)?v:0);if(!Le(b)||!Le(_))return null;var j;switch(d){case"start":j=cp("calc(".concat(o,")"));break;case"middle":j=cp("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=cp("calc(".concat(h.length-1," * -").concat(i,")"));break}var S=[];if(c){var C=h[0].width,{width:E}=f;S.push("scale(".concat(Y(E)&&Y(C)?E/C:1,")"))}return w&&S.push("rotate(".concat(w,", ").concat(b,", ").concat(_,")")),S.length&&(p.transform=S.join(" ")),x.createElement("text",yv({},Pr(p),{ref:t,x:b,y:_,className:De("recharts-text",y),textAnchor:u,fill:l.includes("url")?TR:l}),h.map((A,k)=>{var R=A.words.join(g?"":" ");return x.createElement("tspan",{x:b,dy:k===0?j:i,key:"".concat(R,"-").concat(k)},R)}))});wb.displayName="Text";var OV=["labelRef"],AV=["content"];function Rj(e,t){if(e==null)return{};var r,n,a=kV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){TV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TV(e,t,r){return(t=NV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=RV(e,"string");return typeof t=="symbol"?t:t+""}function RV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},En.apply(null,arguments)}var NR=x.createContext(null),PV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,c=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return x.createElement(NR.Provider,{value:c},l)},RR=()=>{var e=x.useContext(NR),t=vh();return e||Dk(t)},MV=x.createContext(null),DV=()=>{var e=x.useContext(MV),t=Q(cN);return e||t},zV=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},_b=e=>e!=null&&typeof e=="function",BV=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},IV=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,v=(u+d)/2,w=BV(f,h),y=w>=0?1:-1,g,p;switch(t){case"insideStart":g=f+y*i,p=m;break;case"insideEnd":g=h-y*i,p=!m;break;case"end":g=h+y*i,p=m;break;default:throw new Error("Unsupported position ".concat(t))}p=w<=0?p:!p;var b=Et(l,c,v,g),_=Et(l,c,v,g+(p?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(p?0:1,`,
    `).concat(_.x,",").concat(_.y),S=gt(e.id)?Pl("recharts-radial-line-"):e.id;return x.createElement("text",En({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:S,d:j})),x.createElement("textPath",{xlinkHref:"#".concat(S)},r))},$V=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Et(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:v}=Et(n,a,h,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},bv=e=>"cx"in e&&Y(e.cx),LV=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!bv(r)&&(i=r);var{x:o,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=o,h=o+(c-u)/2,m=(f+h)/2,v=(c+u)/2,w=f+c/2,y=d>=0?1:-1,g=y*n,p=y>0?"end":"start",b=y>0?"start":"end",_=c>=0?1:-1,j=_*n,S=_>0?"end":"start",C=_>0?"start":"end";if(a==="top"){var E={x:f+c/2,y:l-g,textAnchor:"middle",verticalAnchor:p};return We(We({},E),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var A={x:h+u/2,y:l+d+g,textAnchor:"middle",verticalAnchor:b};return We(We({},A),i?{height:Math.max(i.y+i.height-(l+d),0),width:u}:{})}if(a==="left"){var k={x:m-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return We(We({},k),i?{width:Math.max(k.x-i.x,0),height:d}:{})}if(a==="right"){var R={x:m+v+j,y:l+d/2,textAnchor:C,verticalAnchor:"middle"};return We(We({},R),i?{width:Math.max(i.x+i.width-R.x,0),height:d}:{})}var T=i?{width:v,height:d}:{};return a==="insideLeft"?We({x:m+j,y:l+d/2,textAnchor:C,verticalAnchor:"middle"},T):a==="insideRight"?We({x:m+v-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},T):a==="insideTop"?We({x:f+c/2,y:l+g,textAnchor:"middle",verticalAnchor:b},T):a==="insideBottom"?We({x:h+u/2,y:l+d-g,textAnchor:"middle",verticalAnchor:p},T):a==="insideTopLeft"?We({x:f+j,y:l+g,textAnchor:C,verticalAnchor:b},T):a==="insideTopRight"?We({x:f+c-j,y:l+g,textAnchor:S,verticalAnchor:b},T):a==="insideBottomLeft"?We({x:h+j,y:l+d-g,textAnchor:C,verticalAnchor:p},T):a==="insideBottomRight"?We({x:h+u-j,y:l+d-g,textAnchor:S,verticalAnchor:p},T):a&&typeof a=="object"&&(Y(a.x)||Wn(a.x))&&(Y(a.y)||Wn(a.y))?We({x:o+Xr(a.x,v),y:l+Xr(a.y,d),textAnchor:"end",verticalAnchor:"end"},T):We({x:w,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},UV={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function fa(e){var t=yr(e,UV),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=DV(),f=RR(),h=n==="center"?f:d??f,m,v,w;if(r==null?m=h:bv(r)?m=r:m=Dk(r),!m||gt(a)&&gt(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var y=We(We({},t),{},{viewBox:m});if(x.isValidElement(o)){var{labelRef:g}=y,p=Rj(y,OV);return x.cloneElement(o,p)}if(typeof o=="function"){var{content:b}=y,_=Rj(y,AV);if(v=x.createElement(o,_),x.isValidElement(v))return v}else v=zV(t);var j=Pr(t);if(bv(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return IV(t,n,v,j,m);w=$V(m,t.offset,t.position)}else w=LV(t,m);return x.createElement(oa,{zIndex:t.zIndex},x.createElement(wb,En({ref:u,className:De("recharts-label",l)},j,w,{textAnchor:_V(j.textAnchor)?j.textAnchor:w.textAnchor,breakAll:c}),v))}fa.displayName="Label";var qV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(fa,En({key:"label-implicit"},n)):dn(e)?x.createElement(fa,En({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===fa?x.cloneElement(e,We({key:"label-implicit"},n)):x.createElement(fa,En({key:"label-implicit",content:e},n)):_b(e)?x.createElement(fa,En({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(fa,En({},e,{key:"label-implicit"},n)):null};function HV(e){var{label:t,labelRef:r}=e,n=RR();return qV(t,n,r)||null}var PR={},MR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(MR);var DR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(DR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MR,r=DR,n=eh;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(PR);var WV=PR.last;const FV=Zn(WV);var VV=["valueAccessor"],GV=["dataKey","clockWise","id","textBreakAll","zIndex"];function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(null,arguments)}function Mj(e,t){if(e==null)return{};var r,n,a=KV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YV=e=>Array.isArray(e.value)?FV(e.value):e.value,zR=x.createContext(void 0),XV=zR.Provider,BR=x.createContext(void 0);BR.Provider;function ZV(){return x.useContext(zR)}function JV(){return x.useContext(BR)}function Wu(e){var{valueAccessor:t=YV}=e,r=Mj(e,VV),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,c=Mj(r,GV),u=ZV(),d=JV(),f=u||d;return!f||!f.length?null:x.createElement(oa,{zIndex:l??Bt.label},x.createElement(Hn,{className:"recharts-label-list"},f.map((h,m)=>{var v,w=gt(n)?t(h,m):At(h&&h.payload,n),y=gt(i)?{}:{id:"".concat(i,"-").concat(m)};return x.createElement(fa,df({key:"label-".concat(m)},Pr(h),c,y,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:w,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Wu.displayName="LabelList";function QV(e){var{label:t}=e;return t?t===!0?x.createElement(Wu,{key:"labelList-implicit"}):x.isValidElement(t)||_b(t)?x.createElement(Wu,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Wu,df({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var eG={radiusAxis:{},angleAxis:{}},IR=Zt({name:"polarAxis",initialState:eG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:iJ,removeRadiusAxis:oJ,addAngleAxis:sJ,removeAngleAxis:lJ}=IR.actions,tG=IR.reducer,$R={exports:{}},Ce={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb=Symbol.for("react.transitional.element"),Sb=Symbol.for("react.portal"),Lh=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),qh=Symbol.for("react.profiler"),Hh=Symbol.for("react.consumer"),Wh=Symbol.for("react.context"),Fh=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),Gh=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),rG=Symbol.for("react.view_transition"),nG=Symbol.for("react.client.reference");function Ir(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jb:switch(e=e.type,e){case Lh:case qh:case Uh:case Vh:case Gh:case rG:return e;default:switch(e=e&&e.$$typeof,e){case Wh:case Fh:case Yh:case Kh:return e;case Hh:return e;default:return t}}case Sb:return t}}}Ce.ContextConsumer=Hh;Ce.ContextProvider=Wh;Ce.Element=jb;Ce.ForwardRef=Fh;Ce.Fragment=Lh;Ce.Lazy=Yh;Ce.Memo=Kh;Ce.Portal=Sb;Ce.Profiler=qh;Ce.StrictMode=Uh;Ce.Suspense=Vh;Ce.SuspenseList=Gh;Ce.isContextConsumer=function(e){return Ir(e)===Hh};Ce.isContextProvider=function(e){return Ir(e)===Wh};Ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jb};Ce.isForwardRef=function(e){return Ir(e)===Fh};Ce.isFragment=function(e){return Ir(e)===Lh};Ce.isLazy=function(e){return Ir(e)===Yh};Ce.isMemo=function(e){return Ir(e)===Kh};Ce.isPortal=function(e){return Ir(e)===Sb};Ce.isProfiler=function(e){return Ir(e)===qh};Ce.isStrictMode=function(e){return Ir(e)===Uh};Ce.isSuspense=function(e){return Ir(e)===Vh};Ce.isSuspenseList=function(e){return Ir(e)===Gh};Ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lh||e===qh||e===Uh||e===Vh||e===Gh||typeof e=="object"&&e!==null&&(e.$$typeof===Yh||e.$$typeof===Kh||e.$$typeof===Wh||e.$$typeof===Hh||e.$$typeof===Fh||e.$$typeof===nG||e.getModuleId!==void 0)};Ce.typeOf=Ir;$R.exports=Ce;var aG=$R.exports,Dj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zj=null,up=null,LR=e=>{if(e===zj&&Array.isArray(up))return up;var t=[];return x.Children.forEach(e,r=>{gt(r)||(aG.isFragment(r)?t=t.concat(LR(r.props.children)):t.push(r))}),up=t,zj=e,t};function iG(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Dj(a)):n=[Dj(t)],LR(e).forEach(a=>{var i=Ko(a,"type.displayName")||Ko(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var UR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(UR);var oG=UR.isPlainObject;const sG=Zn(oG);var Bj,Ij,$j,Lj,Uj;function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){lG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lG(e,t,r){return(t=cG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cG(e){var t=uG(e,"string");return typeof t=="symbol"?t:t+""}function uG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(null,arguments)}function Us(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wj=(e,t,r,n,a)=>{var i=r-n,o;return o=qe(Bj||(Bj=Us(["M ",",",""])),e,t),o+=qe(Ij||(Ij=Us(["L ",",",""])),e+r,t),o+=qe($j||($j=Us(["L ",",",""])),e+r-i/2,t+a),o+=qe(Lj||(Lj=Us(["L ",",",""])),e+r-i/2-n,t+a),o+=qe(Uj||(Uj=Us(["L ",","," Z"])),e,t),o},dG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fG=e=>{var t=yr(e,dG),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=x.useRef(null),[m,v]=x.useState(-1),w=x.useRef(a),y=x.useRef(i),g=x.useRef(o),p=x.useRef(r),b=x.useRef(n),_=w0(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var q=h.current.getTotalLength();q&&v(q)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=De("recharts-trapezoid",l);if(!f)return x.createElement("g",null,x.createElement("path",ff({},Pr(t),{className:j,d:Wj(r,n,a,i,o)})));var S=w.current,C=y.current,E=g.current,A=p.current,k=b.current,R="0px ".concat(m===-1?1:m,"px"),T="".concat(m,"px 0px"),H=Kk(["strokeDasharray"],u,c);return x.createElement(x0,{animationId:_,key:_,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},q=>{var F=_t(S,a,q),O=_t(C,i,q),N=_t(E,o,q),P=_t(A,r,q),M=_t(k,n,q);h.current&&(w.current=F,y.current=O,g.current=N,p.current=P,b.current=M);var L=q>0?{transition:H,strokeDasharray:T}:{strokeDasharray:R};return x.createElement("path",ff({},Pr(t),{className:j,d:Wj(P,M,F,O,N),ref:h,style:Hj(Hj({},L),t.style)}))})},hG=["option","shapeType","activeClassName"];function mG(e,t){if(e==null)return{};var r,n,a=pG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){gG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bG(e,t){return hf(hf({},t),e)}function xG(e,t){return e==="symbols"}function Vj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(Jk,r);case"trapezoid":return x.createElement(fG,r);case"sector":return x.createElement(tT,r);case"symbols":if(xG(t))return x.createElement(y2,r);break;case"curve":return x.createElement(Gk,r);default:return null}}function wG(e){return x.isValidElement(e)?e.props:e}function _G(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=mG(e,hG),i;if(x.isValidElement(t))i=x.cloneElement(t,hf(hf({},a),wG(t)));else if(typeof t=="function")i=t(a,a.index);else if(sG(t)&&typeof t!="boolean"){var o=bG(t,a);i=x.createElement(Vj,{shapeType:r,elementProps:o})}else{var l=a;i=x.createElement(Vj,{shapeType:r,elementProps:l})}return a.isActive?x.createElement(Hn,{className:n},i):i}var qR=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(JN({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},HR=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(VH())}},WR=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(GH({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function jG(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=Jt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(qH(t)):a.current!==t&&r(HH({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(WH(a.current)),a.current=null)},[r]),null}function SG(e){var{legendPayload:t}=e,r=Ge(),n=Jt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(EL(t)):a.current!==t&&r(OL({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(AL(a.current)),a.current=null)},[r]),null}var dp,CG=()=>{var[e]=x.useState(()=>Pl("uid-"));return e},EG=(dp=CS.useId)!==null&&dp!==void 0?dp:CG;function OG(e,t){var r=EG();return t||(e?"".concat(e,"-").concat(r):r)}var AG=x.createContext(void 0),kG=e=>{var{id:t,type:r,children:n}=e,a=OG("recharts-".concat(r),t);return x.createElement(AG.Provider,{value:a},n(a))},TG={cartesianItems:[],polarItems:[]},FR=Zt({name:"graphicalItems",initialState:TG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Kr(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=Kr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=Kr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:NG,replaceCartesianGraphicalItem:RG,removeCartesianGraphicalItem:PG,addPolarGraphicalItem:cJ,removePolarGraphicalItem:uJ}=FR.actions,MG=FR.reducer,DG=e=>{var t=Ge(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(NG(e)):r.current!==e&&t(RG({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(PG(r.current)),r.current=null)},[t]),null},zG=x.memo(DG);function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return(t=IG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VR=0,LG={xAxis:{},yAxis:{},zAxis:{}},GR=Zt({name:"cartesianAxis",initialState:LG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=Kj(Kj({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:UG,replaceXAxis:qG,removeXAxis:HG,addYAxis:WG,replaceYAxis:FG,removeYAxis:VG,addZAxis:dJ,replaceZAxis:fJ,removeZAxis:hJ,updateYAxisWidth:GG}=GR.actions,KG=GR.reducer,YG=D([vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),XG=D([YG,Qn,ea],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),KR=()=>Q(XG),Yj=(e,t,r)=>{var n=r??e;if(!gt(n))return Xr(n,t,0)},ZG=(e,t,r)=>{var n={},a=e.filter(Ph),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(v=>v.dataKey),m=Yj(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=Yj(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){JG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JG(e,t,r){return(t=QG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=eK(e,"string");return typeof t=="symbol"?t:t+""}function eK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tK(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Xr(e,r,0,!0),l,c=[];if(Le(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((g,p)=>g+(p.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};l=n.reduce((g,p)=>{var b,_={stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(b=p.barSize)!==null&&b!==void 0?b:0}},j=[...g,_];return m=j[j.length-1].position,j},c)}else{var v=Xr(t,r,0,!0);r-2*v-(i-1)*o<=0&&(o=0);var w=(r-2*v-(i-1)*o)/i;w>1&&(w>>=0);var y=Le(a)?Math.min(w,a):w;l=n.reduce((g,p,b)=>[...g,{stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:v+(w+o)*b+(w-y)/2,size:y}}],c)}return l}}var rK=(e,t,r,n,a,i,o)=>{var l=gt(o)?t:o,c=tK(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>_u(_u({},u),{},{position:_u(_u({},u.position),{},{offset:u.position.offset-a/2})}))),c},nK=(e,t)=>{var r=Q0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function aK(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Le(e.zIndex)?e.zIndex:t}var iK=e=>{var{chartData:t}=e,r=Ge(),n=Jt();return x.useEffect(()=>n?()=>{}:(r(vj(t)),()=>{r(vj(void 0))}),[t,r,n]),null},Zj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YR=Zt({name:"brush",initialState:Zj,reducers:{setBrushSettings(e,t){return t.payload==null?Zj:t.payload}}}),{setBrushSettings:mJ}=YR.actions,oK=YR.reducer;function sK(e,t,r){return(t=lK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=cK(e,"string");return typeof t=="symbol"?t:t+""}function cK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cb{static create(t){return new Cb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}sK(Cb,"EPS",1e-4);function uK(e){return(e%180+180)%180}var dK=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=uK(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},fK={dots:[],areas:[],lines:[]},XR=Zt({name:"referenceElements",initialState:fK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Kr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Kr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Kr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:pJ,removeDot:gJ,addArea:vJ,removeArea:yJ,addLine:bJ,removeLine:xJ}=XR.actions,hK=XR.reducer,mK=x.createContext(void 0),pK=e=>{var{children:t}=e,[r]=x.useState("".concat(Pl("recharts"),"-clip")),n=KR();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return x.createElement(mK.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function ZR(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function gK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return dK(n,r)}function vK(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Gl(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function yK(e,t){return ZR(e,t+1)}function bK(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:ZR(n,u)};var w=c,y,g=()=>(y===void 0&&(y=r(v,w)),y),p=v.coordinate,b=c===0||Gl(e,p,g,d,l);b||(c=0,d=o,u+=1),b&&(d=p+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function xK(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:l,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,h=!0,m=function(){var p=n[v],b=v,_,j=()=>(_===void 0&&(_=r(p,b)),_),S=p.coordinate,C=v===d||Gl(e,S,j,f,c);if(!C)return h=!1,1;C&&(f=S+e*(j()/2+a))},v=d;v<o&&!m();v+=u);if(h){for(var w=[],y=d;y<o;y+=u)w.push(n[y]);return w}}return[]}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){wK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wK(e,t,r){return(t=_K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SK(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h],v,w=()=>(v===void 0&&(v=r(m,h)),v);if(h===o-1){var y=e*(m.coordinate+e*w()/2-c);i[h]=m=kt(kt({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=kt(kt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=Gl(e,m.tickCoord,w,l,c);g&&(c=m.tickCoord-e*(w()/2+a),i[h]=kt(kt({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function CK(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=kt(kt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Gl(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=kt(kt({},d),{},{isShow:!0}))}}for(var v=i?l-1:l,w=function(p){var b=o[p],_,j=()=>(_===void 0&&(_=r(b,p)),_);if(p===0){var S=e*(b.coordinate-e*j()/2-c);o[p]=b=kt(kt({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[p]=b=kt(kt({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var C=Gl(e,b.tickCoord,j,c,u);C&&(c=b.tickCoord+e*(j()/2+a),o[p]=kt(kt({},b),{},{isShow:!0}))}},y=0;y<v;y++)w(y);return o}function Eb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(Y(c)||_h.isSsr){var h;return(h=yK(a,Y(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],v=l==="top"||l==="bottom"?"width":"height",w=d&&v==="width"?hl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(b,_)=>{var j=typeof u=="function"?u(b.value,_):b.value;return v==="width"?gK(hl(j,{fontSize:t,letterSpacing:r}),w,f):hl(j,{fontSize:t,letterSpacing:r})[v]},g=a.length>=2?Vt(a[1].coordinate-a[0].coordinate):1,p=vK(i,g,v);return c==="equidistantPreserveStart"?bK(g,p,y,a,o):c==="equidistantPreserveEnd"?xK(g,p,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=CK(g,p,y,a,o,c==="preserveStartEnd"):m=SK(g,p,y,a,o),m.filter(b=>b.isShow))}var EK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},OK=["axisLine","width","height","className","hide","ticks","axisType"];function AK(e,t){if(e==null)return{};var r,n,a=kK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(null,arguments)}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){TK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TK(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=RK(e,"string");return typeof t=="symbol"?t:t+""}function RK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function PK(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Ye(Ye(Ye({},c),qn(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Ye(Ye({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Ye(Ye({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return x.createElement("line",Di({},u,{className:De("recharts-cartesian-axis-line",Ko(l,"className"))}))}function MK(e,t,r,n,a,i,o,l,c){var u,d,f,h,m,v,w=l?-1:1,y=e.tickSize||o,g=Y(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-w*y,v=f-w*c,m=g;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-w*y,m=u-w*c,v=g;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+w*y,m=u+w*c,v=g;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+w*y,v=f+w*c,m=g;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:v}}}function DK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function zK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function BK(e){var{option:t,tickProps:r,value:n}=e,a,i=De(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Ye(Ye({},r),{},{className:i}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t==null?void 0:t.className)),a=x.createElement(wb,Di({},r,{className:o}),n)}return a}var IK=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:v,height:w,tickSize:y,tickMargin:g,fontSize:p,letterSpacing:b,getTicksConfig:_,events:j,axisType:S}=e,C=Eb(Ye(Ye({},_),{},{ticks:r}),p,b),E=DK(d,f),A=zK(d,f),k=qn(_),R=Gy(n),T={};typeof a=="object"&&(T=a);var H=Ye(Ye({},k),{},{fill:"none"},T),q=C.map(N=>Ye({entry:N},MK(N,h,m,v,w,d,y,f,g))),F=q.map(N=>{var{entry:P,line:M}=N;return x.createElement(Hn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},a&&x.createElement("line",Di({},H,M,{className:De("recharts-cartesian-axis-tick-line",Ko(a,"className"))})))}),O=q.map((N,P)=>{var{entry:M,tick:L}=N,G=Ye(Ye(Ye(Ye({textAnchor:E,verticalAnchor:A},k),{},{stroke:"none",fill:i},R),L),{},{index:P,payload:M,visibleTicksCount:C.length,tickFormatter:o,padding:c},u);return x.createElement(Hn,Di({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Jy(j,M,P)),n&&x.createElement(BK,{option:n,tickProps:G,value:"".concat(typeof o=="function"?o(M.value,P):M.value).concat(l||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},O.length>0&&x.createElement(oa,{zIndex:Bt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},O)),F.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},F))}),$K=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:c}=e,u=AK(e,OK),[d,f]=x.useState(""),[h,m]=x.useState(""),v=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return EK({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(y=>{if(y){var g=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=g;var p=g[0];if(p){var b=window.getComputedStyle(p),_=b.fontSize,j=b.letterSpacing;(_!==d||j!==h)&&(f(_),m(j))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(oa,{zIndex:e.zIndex},x.createElement(Hn,{className:De("recharts-cartesian-axis",i)},x.createElement(PK,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:qn(e)}),x.createElement(IK,{ref:w,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(PV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(HV,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ob=x.forwardRef((e,t)=>{var r=yr(e,zn);return x.createElement($K,Di({},r,{ref:t}))});Ob.displayName="CartesianAxis";var LK=["x1","y1","x2","y2","key"],UK=["offset"],qK=["xAxisId","yAxisId"],HK=["xAxisId","yAxisId"];function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){WK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WK(e,t,r){return(t=FK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hi.apply(null,arguments)}function mf(e,t){if(e==null)return{};var r,n,a=GK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return x.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function JR(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:c,key:u}=r,d=mf(r,LK),f=(a=qn(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=mf(f,UK);n=x.createElement("line",hi({},m,{x1:i,y1:o,x2:l,y2:c,fill:"none",key:u}))}return n}function YK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=mf(e,qK),c=a.map((u,d)=>{var f=Tt(Tt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return x.createElement(JR,{key:"line-".concat(d),option:n,lineItemProps:f})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function XK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=mf(e,HK),c=a.map((u,d)=>{var f=Tt(Tt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return x.createElement(JR,{option:n,lineItemProps:f,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function ZK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?a+o-f:u[h+1]-f;if(v<=0)return null;var w=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:v,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function JK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?a+o-f:u[h+1]-f;if(v<=0)return null;var w=h%r.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:v,height:l,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var QK=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return Ck(Eb(Tt(Tt(Tt({},zn),r),{},{ticks:Ek(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},eY=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return Ck(Eb(Tt(Tt(Tt({},zn),r),{},{ticks:Ek(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},tY={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function QR(e){var t=Bk(),r=Ik(),n=zk(),a=Tt(Tt({},yr(e,tY)),{},{x:Y(e.x)?e.x:n.left,y:Y(e.y)?e.y:n.top,width:Y(e.width)?e.width:n.width,height:Y(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,v=Jt(),w=Q(A=>oj(A,"xAxis",i,v)),y=Q(A=>oj(A,"yAxis",o,v));if(!fn(u)||!fn(d)||!Y(l)||!Y(c))return null;var g=a.verticalCoordinatesGenerator||QK,p=a.horizontalCoordinatesGenerator||eY,{horizontalPoints:b,verticalPoints:_}=a;if((!b||!b.length)&&typeof p=="function"){var j=h&&h.length,S=p({yAxis:y?Tt(Tt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);Ud(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!_||!_.length)&&typeof g=="function"){var C=m&&m.length,E=g({xAxis:w?Tt(Tt({},w),{},{ticks:C?m:w.ticks}):void 0,width:t??u,height:r??d,offset:n},C?!0:f);Ud(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}return x.createElement(oa,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(KK,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(ZK,hi({},a,{horizontalPoints:b})),x.createElement(JK,hi({},a,{verticalPoints:_})),x.createElement(YK,hi({},a,{offset:n,horizontalPoints:b,xAxis:w,yAxis:y})),x.createElement(XK,hi({},a,{offset:n,verticalPoints:_,xAxis:w,yAxis:y}))))}QR.displayName="CartesianGrid";var rY={},eP=Zt({name:"errorBars",initialState:rY,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:wJ,replaceErrorBar:_J,removeErrorBar:jJ}=eP.actions,nY=eP.reducer,aY=["children"];function iY(e,t){if(e==null)return{};var r,n,a=oY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},lY=x.createContext(sY);function cY(e){var{children:t}=e,r=iY(e,aY);return x.createElement(lY.Provider,{value:r},t)}function tP(e,t){var r,n,a=Q(u=>na(u,e)),i=Q(u=>aa(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ut.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:dt.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function uY(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=KR(),{needClipX:i,needClipY:o,needClip:l}=tP(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var dY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=x;function fY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hY=typeof Object.is=="function"?Object.is:fY,mY=Pc.useSyncExternalStore,pY=Pc.useRef,gY=Pc.useEffect,vY=Pc.useMemo,yY=Pc.useDebugValue;dY.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=pY(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=vY(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var v=o.value;if(a(v,m))return f=v}return f=m}if(v=f,hY(d,m))return v;var w=n(m);return a!==void 0&&a(v,w)?(d=m,v):(d=m,f=w)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=mY(e,i[0],i[1]);return gY(function(){o.hasValue=!0,o.value=l},[l]),yY(l),l};function bY(e){e()}function xY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){bY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var tS={notify(){},get:()=>[]};function wY(e,t){let r,n=tS,a=0,i=!1;function o(w){d();const y=n.subscribe(w);let g=!1;return()=>{g||(g=!0,y(),f())}}function l(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=xY())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=tS)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}var _Y=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jY=_Y(),SY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",CY=SY(),EY=()=>jY||CY?x.useLayoutEffect:x.useEffect,OY=EY();function rS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function AY(e,t){if(rS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!rS(e[r[a]],t[r[a]]))return!1;return!0}var fp=Symbol.for("react-redux-context"),hp=typeof globalThis<"u"?globalThis:{};function kY(){if(!x.createContext)return{};const e=hp[fp]??(hp[fp]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var TY=kY();function NY(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const c=wY(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=x.useMemo(()=>a.getState(),[a]);OY(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||TY;return x.createElement(l.Provider,{value:i},t)}var RY=NY,PY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function MY(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Ab(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(PY.has(n)){if(e[n]==null&&t[n]==null)continue;if(!AY(e[n],t[n]))return!1}else if(!MY(e[n],t[n]))return!1;return!0}function Vi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:VR}function Gi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:VR}var DY="Invariant failed";function zY(e,t){throw new Error(DY)}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(null,arguments)}function pf(e){return x.createElement(_G,xv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var BY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Y(t))return t;var i=Y(n)||gt(n);return i?t(n,a):(i||zY(),r)}},IY=(e,t,r)=>r,$Y=(e,t)=>t,Mc=D([tb,$Y],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),LY=D([Mc],e=>e==null?void 0:e.maxBarSize),UY=(e,t,r,n)=>n,qY=D([xe,tb,Vi,Gi,IY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),HY=(e,t,r)=>{var n=xe(e),a=Vi(e,t),i=Gi(e,t);if(!(a==null||i==null))return n==="horizontal"?hv(e,"yAxis",i,r):hv(e,"xAxis",a,r)},WY=(e,t)=>{var r=xe(e),n=Vi(e,t),a=Gi(e,t);if(!(n==null||a==null))return r==="horizontal"?ij(e,"xAxis",n):ij(e,"yAxis",a)},FY=D([qY,Dq,WY],ZG),VY=(e,t,r)=>{var n,a,i=Mc(e,t);if(i!=null){var o=Vi(e,t),l=Gi(e,t);if(!(o==null||l==null)){var c=xe(e),u=tN(e),{maxBarSize:d}=i,f=gt(d)?u:d,h,m;return c==="horizontal"?(h=rs(e,"xAxis",o,r),m=ts(e,"xAxis",o,r)):(h=rs(e,"yAxis",l,r),m=ts(e,"yAxis",l,r)),(n=(a=Ld(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},rP=(e,t,r)=>{var n=xe(e),a=Vi(e,t),i=Gi(e,t);if(!(a==null||i==null)){var o,l;return n==="horizontal"?(o=rs(e,"xAxis",a,r),l=ts(e,"xAxis",a,r)):(o=rs(e,"yAxis",i,r),l=ts(e,"yAxis",i,r)),Ld(o,l)}},GY=D([FY,tN,Mq,rN,VY,rP,LY],rK),KY=(e,t,r)=>{var n=Vi(e,t);if(n!=null)return rs(e,"xAxis",n,r)},YY=(e,t,r)=>{var n=Gi(e,t);if(n!=null)return rs(e,"yAxis",n,r)},XY=(e,t,r)=>{var n=Vi(e,t);if(n!=null)return ts(e,"xAxis",n,r)},ZY=(e,t,r)=>{var n=Gi(e,t);if(n!=null)return ts(e,"yAxis",n,r)},JY=D([GY,Mc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),QY=D([HY,Mc],nK),eX=D([vt,g0,KY,YY,XY,ZY,JY,xe,_q,rP,QY,Mc,UY],(e,t,r,n,a,i,o,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:w}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:y}=f,g;if(y!=null&&y.length>0?g=y:g=m==null?void 0:m.slice(v,w+1),g!=null)return kX({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:v})}}),tX=["index"];function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(null,arguments)}function rX(e,t){if(e==null)return{};var r,n,a=nX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nP=x.createContext(void 0),aX=e=>{var t=x.useContext(nP);if(t!=null)return t.stackId;if(e!=null)return R$(e)},iX=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),oX=e=>{var t=x.useContext(nP);if(t!=null){var{stackId:r}=t;return"url(#".concat(iX(r,e),")")}},sX=e=>{var{index:t}=e,r=rX(e,tX),n=oX(t);return x.createElement(Hn,wv({className:"recharts-bar-stack-layer",clipPath:n},r))},lX=["onMouseEnter","onMouseLeave","onClick"],cX=["value","background","tooltipPosition"],uX=["id"],dX=["onMouseEnter","onClick","onMouseLeave"];function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xn.apply(null,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){fX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fX(e,t,r){return(t=hX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gf(e,t){if(e==null)return{};var r,n,a=pX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gX=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Ok(r,t),payload:e}]},vX=x.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Ok(i,t),hide:o,type:c,color:a,unit:l,graphicalItemId:u}};return x.createElement(jG,{tooltipEntrySettings:d})});function yX(e){var t=Q(ns),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=gf(i,lX),d=qR(o,n,i.id),f=HR(l),h=WR(c,n,i.id);if(!a||r==null)return null;var m=Gy(a);return x.createElement(oa,{zIndex:aK(a,Bt.barBackground)},r.map((v,w)=>{var{value:y,background:g,tooltipPosition:p}=v,b=gf(v,cX);if(!g)return null;var _=d(v,w),j=f(v,w),S=h(v,w),C=Mt(Mt(Mt(Mt(Mt({option:a,isActive:String(w)===t},b),{},{fill:"#eee"},g),m),Jy(u,v,w)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(pf,Xn({key:"background-bar-".concat(w)},C))}))}function bX(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mt(Mt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(XV,{value:t?a:void 0},r)}function xX(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=Q(ns),c=Q(fR),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return u?x.createElement(oa,{zIndex:Bt.activeBar},x.createElement(pf,Xn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):x.createElement(pf,Xn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function wX(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(pf,Xn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function _X(e){var t,{data:r,props:n}=e,a=(t=qn(n))!==null&&t!==void 0?t:{},{id:i}=a,o=gf(a,uX),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=gf(n,dX),v=qR(d,c,i),w=HR(h),y=WR(f,c,i);return r?x.createElement(x.Fragment,null,r.map((g,p)=>x.createElement(sX,Xn({index:p,key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(p),className:"recharts-bar-rectangle"},Jy(m,g,p),{onMouseEnter:v(g,p),onMouseLeave:w(g,p),onClick:y(g,p)}),u?x.createElement(xX,{shape:l,activeBar:u,baseProps:o,entry:g,index:p,dataKey:c}):x.createElement(wX,{shape:l,baseProps:o,entry:g,index:p,dataKey:c})))):null}function jX(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=w0(t,"recharts-bar-"),[m,v]=x.useState(!1),w=!m,y=x.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),g=x.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return x.createElement(bX,{showLabels:w,rects:n},x.createElement(x0,{animationId:h,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:y,onAnimationStart:g,key:h},p=>{var b=p===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Mt(Mt({},_),{},{x:_t(S.x,_.x,p),y:_t(S.y,_.y,p),width:_t(S.width,_.width,p),height:_t(S.height,_.height,p)});if(a==="horizontal"){var C=_t(0,_.height,p),E=_t(_.stackedBarStart,_.y,p);return Mt(Mt({},_),{},{y:E,height:C})}var A=_t(0,_.width,p),k=_t(_.stackedBarStart,_.x,p);return Mt(Mt({},_),{},{width:A,x:k})});return p>0&&(r.current=b??null),b==null?null:x.createElement(Hn,null,x.createElement(_X,{props:t,data:b}))}),x.createElement(QV,{label:t.label}),t.children)}function SX(e){var t=x.useRef(null);return x.createElement(jX,{previousRectanglesRef:t,props:e})}var aP=0,CX=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:At(e,t)}};class EX extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=De("recharts-bar",a),f=u;return x.createElement(Hn,{className:d,id:u},l&&x.createElement("defs",null,x.createElement(uY,{clipPathId:f,xAxisId:i,yAxisId:o})),x.createElement(Hn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},x.createElement(yX,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),x.createElement(SX,this.props)))}}var OX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:aP,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function AX(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=tP(t,r),h=bc(),m=Jt(),v=iG(e.children,xb),w=Q(p=>eX(p,e.id,m,v));if(h!=="vertical"&&h!=="horizontal")return null;var y,g=w==null?void 0:w[0];return g==null||g.height==null||g.width==null?y=0:y=h==="vertical"?g.height/2:g.width/2,x.createElement(cY,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:CX,errorBarOffset:y},x.createElement(EX,Xn({},e,{layout:h,needClip:f,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function kX(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:v,dataStartIndex:w}=e,y=t==="horizontal"?l:o,g=d?y.scale.domain():null,p=P$({numericAxis:y}),b=y.scale(p);return f.map((_,j)=>{var S,C,E,A,k,R;if(d){var T=d[j+w];if(T==null)return null;S=O$(T,g)}else S=At(_,r),Array.isArray(S)||(S=[p,S]);var H=BY(n,aP)(S[1],j);if(t==="horizontal"){var q,[F,O]=[l.scale(S[0]),l.scale(S[1])];C=bw({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:_,index:j}),E=(q=O??F)!==null&&q!==void 0?q:void 0,A=a.size;var N=F-O;if(k=Yr(N)?0:N,R={x:C,y:h.top,width:A,height:h.height},Math.abs(H)>0&&Math.abs(k)<Math.abs(H)){var P=Vt(k||H)*(Math.abs(H)-Math.abs(k));E-=P,k+=P}}else{var[M,L]=[o.scale(S[0]),o.scale(S[1])];if(C=M,E=bw({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:_,index:j}),A=L-M,k=a.size,R={x:h.left,y:E,width:h.width,height:k},Math.abs(H)>0&&Math.abs(A)<Math.abs(H)){var G=Vt(A||H)*(Math.abs(H)-Math.abs(A));A+=G}}if(C==null||E==null||A==null||k==null)return null;var J=Mt(Mt({},_),{},{stackedBarStart:b,x:C,y:E,width:A,height:k,value:d?S:S[1],payload:_,background:R,tooltipPosition:{x:C+A/2,y:E+k/2},parentViewBox:v},m&&m[j]&&m[j].props);return J}).filter(Boolean)}function TX(e){var t=yr(e,OX),r=aX(t.stackId),n=Jt();return x.createElement(kG,{id:t.id,type:"bar"},a=>x.createElement(x.Fragment,null,x.createElement(SG,{legendPayload:gX(t)}),x.createElement(vX,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),x.createElement(zG,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(oa,{zIndex:t.zIndex},x.createElement(AX,Xn({},t,{id:a})))))}var iP=x.memo(TX,Ab);iP.displayName="Bar";var NX=["domain","range"],RX=["domain","range"];function aS(e,t){if(e==null)return{};var r,n,a=PX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function oP(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=aS(e,NX),{domain:i,range:o}=t,l=aS(t,RX);return!iS(r,i)||!iS(n,o)?!1:Ab(a,l)}var MX=["dangerouslySetInnerHTML","ticks","scale"],DX=["id","scale"];function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_v.apply(null,arguments)}function oS(e,t){if(e==null)return{};var r,n,a=zX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BX(e){var t=Ge(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(UG(e)):r.current!==e&&t(qG({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(HG(r.current)),r.current=null)},[t]),null}var IX=e=>{var{xAxisId:t,className:r}=e,n=Q(g0),a=Jt(),i="xAxis",o=Q(g=>VN(g,i,t,a)),l=Q(g=>qN(g,t)),c=Q(g=>RH(g,t)),u=Q(g=>dN(g,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=oS(e,MX),{id:v,scale:w}=u,y=oS(u,DX);return x.createElement(Ob,_v({},m,y,{x:c.x,y:c.y,width:l.width,height:l.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},$X={allowDataOverflow:ut.allowDataOverflow,allowDecimals:ut.allowDecimals,allowDuplicatedCategory:ut.allowDuplicatedCategory,angle:ut.angle,axisLine:zn.axisLine,height:ut.height,hide:!1,includeHidden:ut.includeHidden,interval:ut.interval,minTickGap:ut.minTickGap,mirror:ut.mirror,orientation:ut.orientation,padding:ut.padding,reversed:ut.reversed,scale:ut.scale,tick:ut.tick,tickCount:ut.tickCount,tickLine:zn.tickLine,tickSize:zn.tickSize,type:ut.type,xAxisId:0},LX=e=>{var t=yr(e,$X);return x.createElement(x.Fragment,null,x.createElement(BX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(IX,t))},sP=x.memo(LX,oP);sP.displayName="XAxis";var UX=["dangerouslySetInnerHTML","ticks","scale"],qX=["id","scale"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(null,arguments)}function sS(e,t){if(e==null)return{};var r,n,a=HX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WX(e){var t=Ge(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(WG(e)):r.current!==e&&t(FG({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(VG(r.current)),r.current=null)},[t]),null}var FX=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),o=x.useRef(null),l=Q(g0),c=Jt(),u=Ge(),d="yAxis",f=Q(S=>HN(S,t)),h=Q(S=>MH(S,t)),m=Q(S=>VN(S,d,t,c)),v=Q(S=>fN(S,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!f||_b(a)||x.isValidElement(a)||v==null)){var S=i.current;if(S){var C=S.getCalculatedWidth();Math.round(f.width)!==Math.round(C)&&u(GG({id:t,width:C}))}}},[m,f,u,a,t,n,v]),f==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:y,scale:g}=e,p=sS(e,UX),{id:b,scale:_}=v,j=sS(v,qX);return x.createElement(Ob,jv({},p,j,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:De("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))},VX={allowDataOverflow:dt.allowDataOverflow,allowDecimals:dt.allowDecimals,allowDuplicatedCategory:dt.allowDuplicatedCategory,angle:dt.angle,axisLine:zn.axisLine,hide:!1,includeHidden:dt.includeHidden,interval:dt.interval,minTickGap:dt.minTickGap,mirror:dt.mirror,orientation:dt.orientation,padding:dt.padding,reversed:dt.reversed,scale:dt.scale,tick:dt.tick,tickCount:dt.tickCount,tickLine:zn.tickLine,tickSize:zn.tickSize,type:dt.type,width:dt.width,yAxisId:0},GX=e=>{var t=yr(e,VX);return x.createElement(x.Fragment,null,x.createElement(WX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(FX,t))},lP=x.memo(GX,oP);lP.displayName="YAxis";var KX=(e,t)=>t,kb=D([KX,xe,cN,lt,lR,ia,KW,vt],tF),Tb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},cP=Mr("mouseClick"),uP=vc();uP.startListening({actionCreator:cP,effect:(e,t)=>{var r=e.payload,n=kb(t.getState(),Tb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(KH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Sv=Mr("mouseMove"),dP=vc(),ju=null;dP.startListening({actionCreator:Sv,effect:(e,t)=>{var r=e.payload;ju!==null&&cancelAnimationFrame(ju);var n=Tb(r);ju=requestAnimationFrame(()=>{var a=t.getState(),i=ub(a,a.tooltip.settings.shared);if(i==="axis"){var o=kb(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(eR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(QN())}ju=null})}});function YX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var lS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},fP=Zt({name:"rootProps",initialState:lS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:lS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),XX=fP.reducer,{updateOptions:ZX}=fP.actions,hP=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:SJ}=hP.actions,JX=hP.reducer,mP=Mr("keyDown"),pP=Mr("focus"),Nb=vc();Nb.startListening({actionCreator:mP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=db(a,Es(r),Oc(r),Nc(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=ia(r);if(i==="Enter"){var u=uf(r,"axis","hover",String(a.index));t.dispatch(pv({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=IH(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var v=uf(r,"axis","hover",String(m));t.dispatch(pv({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});Nb.startListening({actionCreator:pP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=uf(r,"axis","hover",String(i));t.dispatch(pv({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var wr=Mr("externalEvent"),gP=vc(),mp=new Map;gP.startListening({actionCreator:wr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=mp.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:PW(l),activeDataKey:fR(l),activeIndex:ns(l),activeLabel:dR(l),activeTooltipIndex:ns(l),isTooltipActive:MW(l)};r(c,n)}finally{mp.delete(a)}});mp.set(a,o)}}});var QX=D([Ss],e=>e.tooltipItemPayloads),eZ=D([QX,Tc,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),vP=Mr("touchMove"),yP=vc();yP.startListening({actionCreator:vP,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=ub(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=kb(n,Tb({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(eR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(L$),f=(l=u.getAttribute(U$))!==null&&l!==void 0?l:void 0,h=Cs(n).find(w=>w.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,v=eZ(n,d,f);t.dispatch(JN({activeDataKey:m,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var tZ=X2({brush:oK,cartesianAxis:KG,chartData:RF,errorBars:nY,graphicalItems:MG,layout:w$,legend:kL,options:OF,polarAxis:tG,polarOptions:JX,referenceElements:hK,rootProps:XX,tooltip:YH,zIndex:pF}),rZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return VI({reducer:tZ,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([uP.middleware,dP.middleware,Nb.middleware,gP.middleware,yP.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(dk({type:"raf"}))},devTools:{serialize:{replacer:YX},name:"recharts-".concat(r)}})};function nZ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Jt(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=rZ(t,n));var o=s0;return x.createElement(RY,{context:o,store:i.current},r)}function aZ(e){var{layout:t,margin:r}=e,n=Ge(),a=Jt();return x.useEffect(()=>{a||(n(y$(t)),n(v$(r)))},[n,a,t,r]),null}var iZ=x.memo(aZ,Ab);function oZ(e){var t=Ge();return x.useEffect(()=>{t(ZX(e))},[t,e]),null}function cS(e){var{zIndex:t,isPanorama:r}=e,n=x.useRef(null),a=Ge();return x.useLayoutEffect(()=>(n.current&&a(hF({zIndex:t,element:n.current,isPanorama:r})),()=>{a(mF({zIndex:t,isPanorama:r}))}),[a,t,r]),x.createElement("g",{tabIndex:-1,ref:n})}function uS(e){var{children:t,isPanorama:r}=e,n=Q(nF);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return x.createElement(x.Fragment,null,a.map(o=>x.createElement(cS,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>x.createElement(cS,{key:o,zIndex:o,isPanorama:r})))}var sZ=["children"];function lZ(e,t){if(e==null)return{};var r,n,a=cZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(null,arguments)}var uZ={width:"100%",height:"100%",display:"block"},dZ=x.forwardRef((e,t)=>{var r=Bk(),n=Ik(),a=Vk();if(!fn(r)||!fn(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),x.createElement(ZA,vf({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:uZ,ref:t}),i)}),fZ=e=>{var{children:t}=e,r=Q(gh);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return x.createElement(ZA,{width:n,height:a,x:o,y:i},t)},dS=x.forwardRef((e,t)=>{var{children:r}=e,n=lZ(e,sZ),a=Jt();return a?x.createElement(fZ,null,x.createElement(uS,{isPanorama:!0},r)):x.createElement(dZ,vf({ref:t},n),x.createElement(uS,{isPanorama:!1},r))});function hZ(){var e=Ge(),[t,r]=x.useState(null),n=Q($$);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Le(i)&&i!==n&&e(x$(i))}},[t,e,n]),r}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){pZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pZ(e,t,r){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zi.apply(null,arguments)}var yZ=()=>(UF(),null);function yf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bZ=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,o]=x.useState({containerWidth:yf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:yf((n=e.style)===null||n===void 0?void 0:n.height)}),l=x.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=v=>{var{width:w,height:y}=v[0].contentRect;l(w,y)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return x.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),x.createElement(x.Fragment,null,x.createElement(yh,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",zi({ref:c},e)))}),xZ=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:yf(r),containerHeight:yf(n)}),o=x.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(yh,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",zi({ref:l},e)))}),wZ=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(yh,{width:r,height:n}),x.createElement("div",zi({ref:t},e)))}),_Z=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Wn(r)||Wn(n)?x.createElement(xZ,zi({},e,{ref:t})):x.createElement(wZ,zi({},e,{ref:t}))});function jZ(e){return e===!0?bZ:_Z}var SZ=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:w,style:y,width:g,responsive:p,dispatchTouchEvents:b=!0}=e,_=x.useRef(null),j=Ge(),[S,C]=x.useState(null),[E,A]=x.useState(null),k=hZ(),R=v0(),T=(R==null?void 0:R.width)>0?R.width:g,H=(R==null?void 0:R.height)>0?R.height:a,q=x.useCallback(z=>{k(z),typeof t=="function"&&t(z),C(z),A(z),z!=null&&(_.current=z)},[k,t,C,A]),F=x.useCallback(z=>{j(cP(z)),j(wr({handler:i,reactEvent:z}))},[j,i]),O=x.useCallback(z=>{j(Sv(z)),j(wr({handler:u,reactEvent:z}))},[j,u]),N=x.useCallback(z=>{j(QN()),j(wr({handler:d,reactEvent:z}))},[j,d]),P=x.useCallback(z=>{j(Sv(z)),j(wr({handler:f,reactEvent:z}))},[j,f]),M=x.useCallback(()=>{j(pP())},[j]),L=x.useCallback(z=>{j(mP(z.key))},[j]),G=x.useCallback(z=>{j(wr({handler:o,reactEvent:z}))},[j,o]),J=x.useCallback(z=>{j(wr({handler:l,reactEvent:z}))},[j,l]),ae=x.useCallback(z=>{j(wr({handler:c,reactEvent:z}))},[j,c]),ie=x.useCallback(z=>{j(wr({handler:h,reactEvent:z}))},[j,h]),oe=x.useCallback(z=>{j(wr({handler:w,reactEvent:z}))},[j,w]),I=x.useCallback(z=>{b&&j(vP(z)),j(wr({handler:v,reactEvent:z}))},[j,b,v]),W=x.useCallback(z=>{j(wr({handler:m,reactEvent:z}))},[j,m]),ce=jZ(p);return x.createElement(bR.Provider,{value:S},x.createElement(B8.Provider,{value:E},x.createElement(ce,{width:T??(y==null?void 0:y.width),height:H??(y==null?void 0:y.height),className:De("recharts-wrapper",n),style:mZ({position:"relative",cursor:"default",width:T,height:H},y),onClick:F,onContextMenu:G,onDoubleClick:J,onFocus:M,onKeyDown:L,onMouseDown:ae,onMouseEnter:O,onMouseLeave:N,onMouseMove:P,onMouseUp:ie,onTouchEnd:W,onTouchMove:I,onTouchStart:oe,ref:q},x.createElement(yZ,null),r)))}),CZ=["width","height","responsive","children","className","style","compact","title","desc"];function EZ(e,t){if(e==null)return{};var r,n,a=OZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AZ=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:c,title:u,desc:d}=e,f=EZ(e,CZ),h=qn(f);return c?x.createElement(x.Fragment,null,x.createElement(yh,{width:r,height:n}),x.createElement(dS,{otherAttributes:h,title:u,desc:d},i)):x.createElement(SZ,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(dS,{otherAttributes:h,title:u,desc:d,ref:t},x.createElement(pK,null,i)))});function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(null,arguments)}var kZ={top:5,right:5,bottom:5,left:5},TZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:kZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},NZ=x.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,TZ),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(nZ,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},x.createElement(iK,{chartData:u.data}),x.createElement(iZ,{layout:a.layout,margin:a.margin}),x.createElement(oZ,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(AZ,Cv({},a,{ref:r})))}),RZ=["axis","item"],PZ=x.forwardRef((e,t)=>x.createElement(NZ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RZ,tooltipPayloadSearcher:CF,categoricalChartProps:e,ref:t}));function MZ({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,c]=x.useState(null);x.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),c(null);try{const{data:h,error:m}=await B.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const w=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(y=>{const g=Number(h[y.key]),p=g?t*g:0;return{name:y.name,geracao:Math.round(p),factor:g}});a(w)}catch(h){console.error("Irradiance error:",h),c("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return x.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?s.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):s.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Estimativa de Gerao Mensal"}),s.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",s.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),s.jsx("div",{style:{width:"100%",height:300},children:s.jsx(dL,{children:s.jsxs(PZ,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[s.jsx(QR,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),s.jsx(sP,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),s.jsx(lP,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),s.jsx(YF,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),s.jsx(iP,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>s.jsx(xb,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),s.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}const Su=({title:e,icon:t,children:r,defaultOpen:n=!1,color:a="var(--color-blue)"})=>{const[i,o]=x.useState(n);return s.jsxs("div",{style:{marginBottom:"1rem",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",background:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[s.jsxs("div",{onClick:()=>o(!i),style:{padding:"1rem",background:i?`${a}10`:"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:i?"1px solid #e2e8f0":"none",transition:"background 0.2s"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontWeight:"bold",color:a},children:[t&&s.jsx(t,{size:20}),s.jsx("span",{style:{fontSize:"1rem"},children:e})]}),i?s.jsx(Uy,{size:20,color:"#64748b"}):s.jsx(Ly,{size:20,color:"#64748b"})]}),i&&s.jsx("div",{style:{padding:"1.5rem",animation:"fadeIn 0.3s ease-in-out"},children:r})]})};function DZ({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=zr(),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(!1),[h,m]=x.useState(!1),v=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],w=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],y=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],g=(I,W,ce)=>{let z=[];for(let X=I;X<=W;X+=ce)z.push(X);return z},p=g(460,800,5),b=[...g(1e3,7e3,1e3),7500,9e3,1e4,12500,...g(15e3,75e3,5e3),...g(1e5,3e5,25e3)],[_,j]=x.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[S,C]=x.useState([]),[E,A]=x.useState([]),[k,R]=x.useState(0),T=E.reduce((I,W)=>I+(Number(W.consumo_medio_kwh)||Number(W.franquia)||0),0);x.useEffect(()=>{const I=Number(_.qtd_modulos)||0,W=Number(_.potencia_modulos_w)||0,ce=I*W/1e3;R(Number(ce.toFixed(2)))},[_.qtd_modulos,_.potencia_modulos_w]),x.useEffect(()=>{var I,W,ce,z,X,re,U;F(),O(),e&&(j({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?N(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((I=e.address)==null?void 0:I.cep)||"",rua:((W=e.address)==null?void 0:W.rua)||"",numero:((ce=e.address)==null?void 0:ce.numero)||"",bairro:((z=e.address)==null?void 0:z.bairro)||"",cidade:((X=e.address)==null?void 0:X.cidade)||"",uf:((re=e.address)==null?void 0:re.uf)||"",ibge_code:e.ibge_code||((U=e.address)==null?void 0:U.ibge)||"",concessionaria:e.concessionaria||""}),H(e.id))},[e]),x.useEffect(()=>{q()},[e==null?void 0:e.id]);const H=async I=>{const{data:W}=await B.from("consumer_units").select("*").eq("usina_id",I);W&&A(W)},q=async()=>{let I=B.from("consumer_units").select("id, numero_uc, titular_conta, usina_id, concessionaria, status, consumo_medio_kwh");const{data:W,error:ce}=await I;if(W){const z=W.filter(X=>{const re=e&&X.usina_id===e.id,U=X.usina_id===null;return re||U});C(z)}},F=async()=>{const{data:I}=await B.from("suppliers").select("id, name").order("name");l(I||[])},O=async()=>{const{data:I}=await B.from("inverter_brands").select("name").order("name");u(I||[])},N=I=>I===""||I===void 0||I===null?"":typeof I=="number"?I.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(I.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),P=I=>{const W=I.target.value.replace(/\D/g,"");if(!W){j({..._,valor_investido:""});return}const z=(Number(W)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});j({..._,valor_investido:z})},M=I=>{if(!I)return 0;const W=I.replace(/[^\d,]/g,"").replace(",",".");return Number(W)||0},L=I=>{j(W=>{const ce=W.servicos_contratados||[];return ce.includes(I)?{...W,servicos_contratados:ce.filter(z=>z!==I)}:{...W,servicos_contratados:[...ce,I]}})},G=(I,W)=>{const ce=W.replace(/\D/g,""),z=Number(ce)/100;j(X=>({...X,service_values:{...X.service_values,[I]:z}}))},J=async()=>{const I=_.cep.replace(/\D/g,"");if(I.length===8){m(!0);try{const W=await Qr(I);if(j(ce=>({...ce,rua:W.rua||"",bairro:W.bairro||"",cidade:W.cidade||"",uf:W.uf||"",ibge_code:W.ibge||""})),W.ibge){const ce=await cc(W.ibge);ce&&ce.Concessionaria&&j(z=>({...z,concessionaria:ce.Concessionaria}))}}catch(W){console.error("Erro CEP",W)}finally{m(!1)}}},ae=x.useCallback(I=>{I&&j(W=>I!==Number(W.geracao_estimada_kwh)?{...W,geracao_estimada_kwh:I}:W)},[]),ie=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:W}=await B.from("usinas").delete().eq("id",e.id);if(W)throw W;n&&n(e.id),t()}catch(W){a("Erro ao excluir: "+W.message,"error")}finally{f(!1)}}},oe=async I=>{I.preventDefault(),f(!0);try{const W=M(_.valor_investido),ce={supplier_id:_.supplier_id||null,name:_.name,concessionaria:_.concessionaria,status:_.status,modalidade:_.modalidade,valor_investido:W,potencia_kwp:Number(k),qtd_modulos:Number(_.qtd_modulos),potencia_modulos_w:Number(_.potencia_modulos_w),fabricante_inversor:_.fabricante_inversor,potencia_inversor_w:Number(_.potencia_inversor_w),geracao_estimada_kwh:Number(_.geracao_estimada_kwh),servicos_contratados:_.servicos_contratados,service_values:_.service_values,gestao_percentual:Number(_.gestao_percentual),ibge_code:_.ibge_code,address:{cep:_.cep,rua:_.rua,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,ibge:_.ibge_code}};let z=e==null?void 0:e.id,X=null;if(e!=null&&e.id){const{data:re,error:U}=await B.from("usinas").update(ce).eq("id",e.id).select().single();U?X=U:re&&(z=re.id)}else{const{data:re,error:U}=await B.from("usinas").insert(ce).select().single();U?X=U:re&&(z=re.id)}if(X)throw X;if(z&&(await B.from("consumer_units").update({usina_id:null}).eq("usina_id",z),E.length>0)){const re=E.map(U=>U.id);await B.from("consumer_units").update({usina_id:z}).in("id",re)}r({id:z}),t(),a("Usina salva com sucesso!","success")}catch(W){console.error("Save error:",W),a("Erro ao salvar usina: "+(W.message||JSON.stringify(W)),"error")}finally{f(!1)}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:s.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"850px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[s.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"1.5rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Usina":"Nova Usina"}),s.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem",marginTop:"0.2rem"},children:"Configure os dados tcnicos e comerciais da usina"})]}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8",padding:"0.5rem"},children:s.jsx(Vf,{size:24})})]}),s.jsxs("form",{onSubmit:oe,style:{padding:"1.5rem"},children:[s.jsx(Su,{title:"Identificao e Localizao",icon:z6,defaultOpen:!0,color:"#2563eb",children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Nome da Usina"}),s.jsx("input",{required:!0,value:_.name,onChange:I=>j({..._,name:I.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"},placeholder:"Ex: Usina Solar Norte 01"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fornecedor / Proprietrio"}),s.jsxs("select",{required:!0,value:_.supplier_id,onChange:I=>j({..._,supplier_id:I.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione..."}),o.map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"CEP"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{value:_.cep,onChange:I=>j({..._,cep:I.target.value}),onBlur:J,placeholder:"00000-000",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:h?"#f0f9ff":"white"}}),h&&s.jsx("span",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"0.8rem",color:"#3b82f6"},children:"..."})]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Cidade / UF"}),s.jsx("input",{value:_.cidade&&_.uf?`${_.cidade} / ${_.uf}`:"",disabled:!0,placeholder:"Preenchimento automtico",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f1f5f9",color:"#64748b"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Concessionria"}),s.jsx("input",{value:_.concessionaria,onChange:I=>j({..._,concessionaria:I.target.value}),placeholder:"Ex: Cemig",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]})]})}),s.jsx(Su,{title:"Caractersticas Tcnicas",icon:UA,defaultOpen:!0,color:"#ea580c",children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status Operacional"}),s.jsx("select",{value:_.status,onChange:I=>j({..._,status:I.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:v.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Modalidade"}),s.jsx("select",{value:_.modalidade,onChange:I=>j({..._,modalidade:I.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:w.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))})]}),s.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.5rem 0",gridColumn:"1 / -1"}}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Qtd. Mdulos"}),s.jsx("input",{type:"number",value:_.qtd_modulos,onChange:I=>j({..._,qtd_modulos:I.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Mdulo (W)"}),s.jsxs("select",{value:_.potencia_modulos_w,onChange:I=>j({..._,potencia_modulos_w:I.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione..."}),p.map(I=>s.jsxs("option",{value:I,children:[I," W"]},I))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fabricante Inversor"}),s.jsxs("select",{value:_.fabricante_inversor,onChange:I=>j({..._,fabricante_inversor:I.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione..."}),c.map(I=>s.jsx("option",{value:I.name,children:I.name},I.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Inversor (W)"}),s.jsxs("select",{value:_.potencia_inversor_w,onChange:I=>j({..._,potencia_inversor_w:I.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[s.jsx("option",{value:"",children:"Selecione..."}),b.map(I=>s.jsxs("option",{value:I,children:[I," W"]},I))]})]}),s.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"0.5rem"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",background:"#fff7ed",padding:"1rem",borderRadius:"8px",border:"1px solid #ffedd5"},children:[s.jsx("div",{style:{background:"#ea580c",color:"white",padding:"0.5rem",borderRadius:"50%"},children:s.jsx(Gf,{size:20})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"#ea580c",fontWeight:600,textTransform:"uppercase"},children:"Potncia Total do Sistema (Calculada)"}),s.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#9a3412"},children:[k," kWp"]})]})]})})]})}),s.jsxs(Su,{title:"Gerao e Financeiro",icon:Ff,color:"#16a34a",children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Valor Investido"}),s.jsx("input",{value:_.valor_investido,onChange:P,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Gerao Estimada (Mdia Mensal)"}),s.jsx("input",{type:"number",value:_.geracao_estimada_kwh,onChange:I=>j({..._,geracao_estimada_kwh:I.target.value}),placeholder:"Use o grfico para calcular",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f0fdf4"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Servios Contratados"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:y.map(I=>{var ce;const W=_.servicos_contratados.includes(I);return s.jsxs("div",{style:{border:W?"1px solid #16a34a":"1px solid #e2e8f0",borderRadius:"6px",padding:"0.5rem",background:W?"#f0fdf4":"white",transition:"0.2s"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",marginBottom:W?"0.5rem":"0"},children:[s.jsx("input",{type:"checkbox",checked:W,onChange:()=>L(I)}),s.jsx("span",{style:{fontSize:"0.9rem",fontWeight:W?600:400,color:W?"#166534":"#64748b"},children:I})]}),W&&s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",animation:"fadeIn 0.2s"},children:s.jsx("input",{placeholder:"Valor (R$)",value:N((ce=_.service_values)==null?void 0:ce[I]),onChange:z=>G(I,z.target.value),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}})}),W&&I==="Gesto"&&s.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("input",{type:"number",step:"0.01",placeholder:"%",value:_.gestao_percentual,onChange:z=>j({..._,gestao_percentual:z.target.value}),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}}),s.jsx("span",{style:{fontSize:"0.8rem",color:"#166534"},children:"%"})]})]},I)})})]})]}),s.jsxs("div",{style:{marginTop:"1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#059669",fontWeight:600,marginBottom:"0.5rem"},children:[s.jsx(r6,{size:18}),s.jsx("span",{children:"Estimativa de Gerao (Irradincia)"})]}),s.jsx(MZ,{ibgeCode:_.ibge_code,potenciaKwp:k,onCalculate:ae})]})]}),s.jsx(Su,{title:"Vnculos com UCs",icon:Wy,color:"#7c3aed",children:s.jsxs("div",{style:{background:"#f5f3ff",padding:"1rem",borderRadius:"8px",border:"1px solid #ede9fe"},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.8rem"},children:s.jsxs("div",{style:{fontSize:"0.9rem",color:"#5b21b6"},children:["Capacidade Comprometida: ",s.jsxs("strong",{children:[T.toFixed(2)," kWh"]}),_.geracao_estimada_kwh>0&&s.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",color:T>_.geracao_estimada_kwh?"#ef4444":"#166534"},children:["(",Math.round(T/_.geracao_estimada_kwh*100),"% da Gerao)"]})]})}),S.length===0?s.jsx("p",{style:{fontSize:"0.8rem",color:"#666",textAlign:"center",padding:"1rem"},children:"Nenhuma UC disponvel encontrada."}):s.jsx("div",{style:{maxHeight:"250px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"0.8rem"},children:S.map(I=>{var ce;const W=E.some(z=>z.id===I.id);return s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.85rem",padding:"0.8rem",border:W?"1px solid #8b5cf6":"1px solid #ddd",borderRadius:"6px",background:W?"white":"rgba(255,255,255,0.6)",cursor:"pointer",transition:"0.2s",boxShadow:W?"0 2px 4px rgba(139, 92, 246, 0.1)":"none"},children:[s.jsx("input",{type:"checkbox",checked:W,onChange:z=>{z.target.checked?A([...E,I]):A(E.filter(X=>X.id!==I.id))},style:{transform:"scale(1.1)",accentColor:"#7c3aed"}}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:I.numero_uc}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:(ce=I.titular_conta)==null?void 0:ce.substring(0,20)})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("span",{style:{display:"block",fontSize:"0.65rem",color:"#94a3b8"},children:I.concessionaria}),I.consumo_medio_kwh&&s.jsxs("strong",{style:{fontSize:"0.8rem",color:"#059669"},children:[Math.round(I.consumo_medio_kwh)," kWh"]})]})]},I.id)})})]})}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[s.jsx("div",{children:e&&n&&s.jsxs("button",{type:"button",onClick:ie,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.7rem 1.2rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:[s.jsx(dc,{size:18})," Excluir Usina"]})}),s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:d,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":s.jsxs(s.Fragment,{children:[s.jsx(qy,{size:18})," Salvar Usina"]})})]})]})]})]})})}function zZ({usina:e,closingId:t,onClose:r,onSave:n}){const{showAlert:a}=zr(),[i,o]=x.useState(!1),l=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],c=new Date().getFullYear(),u=[c-1,c,c+1],[d,f]=x.useState({ref_month:l[new Date().getMonth()],ref_year:c,closing_date:new Date().toISOString().split("T")[0],status:"rascunho",energia_gerada:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas_base:"",custo_disponibilidade:"",manutencao:"",arrendamento:"",servicos_total:"",taxa_gestao_percentual:"",taxa_gestao_valor:"",total_despesas:"",saldo_liquido:""}),h=j=>!j&&j!==0?"":Number(j).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),m=j=>j?typeof j=="number"?j:Number(j.replace(/[^\d,]/g,"").replace(",","."))||0:0;x.useEffect(()=>{if(t)v();else if(e){const j=e.service_values||{},S=j.Internet||0,C=j.Segurana||0,E=j.gua||0,A=S+C+E;f(k=>({...k,custo_disponibilidade:j.Energia||0,manutencao:j.Manuteno||0,arrendamento:j.Arrendamento||0,servicos_total:A,taxa_gestao_percentual:e.gestao_percentual||0}))}},[e,t]),x.useEffect(()=>{!t&&e&&w()},[d.ref_month,d.ref_year]),x.useEffect(()=>{y()},[d.faturas_pagas_base,d.taxa_gestao_percentual,d.custo_disponibilidade,d.manutencao,d.arrendamento,d.servicos_total]);const v=async()=>{o(!0);const{data:j,error:S}=await B.from("plant_closings").select("*").eq("id",t).single();j&&f(j),o(!1)},w=async()=>{const{data:j}=await B.from("consumer_units").select("id").eq("usina_id",e.id),S=(j==null?void 0:j.map(E=>E.id))||[];if(S.length===0)return;`${d.ref_month}${d.ref_year}`;const{data:C}=await B.from("invoices").select("consumo_kwh, valor_total, status, economia_reais, consumo_reais").in("uc_id",S).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year);if(C){const E=C.reduce((T,H)=>T+(Number(H.consumo_kwh)||0),0),k=C.filter(T=>T.status==="paga").reduce((T,H)=>T+(Number(H.valor_total)||0),0),R=C.reduce((T,H)=>T+(Number(H.valor_total)||0),0);f(T=>({...T,energia_compensada:E,faturamento_mensal:R,faturas_pagas_base:k}))}},y=()=>{const j=m(d.faturas_pagas_base),S=Number(d.taxa_gestao_percentual)||0,C=j*(S/100),E=m(d.custo_disponibilidade),A=m(d.manutencao),k=m(d.arrendamento),R=m(d.servicos_total),T=E+A+k+R,H=j-(C+T);f(q=>({...q,taxa_gestao_valor:C,total_despesas:T,saldo_liquido:H}))},g=(j,S)=>{f(C=>({...C,[j]:S}))},p=(j,S)=>{const C=Number(S.replace(/\D/g,""))/100;f(E=>({...E,[j]:C}))},b=async()=>{if(!e.pix_key){a("Usina sem chave PIX cadastrada!","error");return}if(confirm("Confirma o repasse de "+h(d.saldo_liquido)+" para a usina? Essa ao  irreversvel.")){o(!0);try{const{data:j,error:S}=await B.functions.invoke("transfer-asaas-pix",{body:{amount:d.saldo_liquido,pixKey:e.pix_key,pixKeyType:e.pix_key_type||"CPF",description:`Repasse Mensal Usina ${e.name} - ${d.ref_month}/${d.ref_year}`,usinaId:e.id}});if(S)throw new Error(S.message||"Erro na comunicao com Asaas");if(j!=null&&j.error)throw new Error(j.error);await B.from("plant_closings").update({status:"liquidado"}).eq("id",t);const C=`${d.ref_month}/${d.ref_year}`,{data:E}=await B.from("consumer_units").select("id").eq("usina_id",e.id),A=(E==null?void 0:E.map(T=>T.id))||[];A.length>0&&await B.from("invoices").update({status:"liquidado"}).in("uc_id",A).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year).eq("status","paga");const R=[{cat:"manutencao",val:d.manutencao,desc:"Manuteno"},{cat:"arrendamento",val:d.arrendamento,desc:"Arrendamento"},{cat:"taxa_gestao",val:d.taxa_gestao_valor,desc:"Taxa de Gesto"},{cat:"servicos",val:d.servicos_total,desc:"Servios Gerais"}].filter(T=>Number(T.val)>0).map(T=>({usina_id:e.id,type:"saida",category:T.cat,amount:Number(T.val),description:`${T.desc} - Ref. ${d.ref_month}/${d.ref_year}`,origin_id:t,origin_type:"plant_closing",status:"liquidado",transaction_date:new Date().toISOString()}));R.length>0&&await B.from("cashbook").insert(R),A.length>0&&await B.from("cashbook").update({status:"liquidado"}).eq("usina_id",e.id).eq("type","entrada").eq("status","provisionado").textSearch("description",`${d.ref_month} ${d.ref_year}`),a("Pagamento realizado e despesas liquidadas!","success"),n(),r()}catch(j){console.error(j),a("Erro no processamento: "+j.message,"error")}finally{o(!1)}}},_=async j=>{j.preventDefault(),o(!0);const S={usina_id:e.id,...d,taxa_gestao_valor:Number(d.taxa_gestao_valor),total_despesas:Number(d.total_despesas),saldo_liquido:Number(d.saldo_liquido)};delete S.created_at;let C;t?C=await B.from("plant_closings").update(S).eq("id",t):C=await B.from("plant_closings").insert(S),o(!1),C.error?a("Erro ao salvar: "+C.error.message,"error"):(a("Fechamento salvo com sucesso!","success"),n(),r())};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:s.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"900px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[s.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Novo Fechamento"}),s.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Usina: ",e.name]})]}),s.jsx("button",{onClick:r,children:s.jsx(Vf,{size:24,color:"#94a3b8"})})]}),s.jsxs("form",{onSubmit:_,style:{padding:"2rem",display:"grid",gap:"2rem"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",background:"white",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ms Ref."}),s.jsx("select",{value:d.ref_month,onChange:j=>g("ref_month",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:l.map(j=>s.jsx("option",{value:j,children:j},j))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ano"}),s.jsx("select",{value:d.ref_year,onChange:j=>g("ref_year",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:u.map(j=>s.jsx("option",{value:j,children:j},j))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Data Fechamento"}),s.jsx("input",{type:"date",value:d.closing_date,onChange:j=>g("closing_date",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Status"}),s.jsxs("select",{value:d.status,onChange:j=>g("status",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontWeight:"bold",color:d.status==="fechado"?"#166534":"#ea580c"},children:[s.jsx("option",{value:"rascunho",children:"EM PRODUO"}),s.jsx("option",{value:"fechado",children:"FECHADO"})]})]}),s.jsx("div",{style:{display:"flex",alignItems:"end"},children:s.jsx("button",{type:"button",onClick:w,style:{width:"100%",padding:"0.6rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:"Buscar Faturas"})})]}),s.jsxs("div",{children:[s.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(e6,{size:18})," Produo e Receita"]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Gerao Mensal (kWh)"}),s.jsx("input",{type:"number",value:d.energia_gerada,onChange:j=>g("energia_gerada",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Energia Compensada (kWh) - Soma Faturas"}),s.jsx("input",{type:"number",value:d.energia_compensada,disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",background:"#f1f5f9"}})]})]}),s.jsxs("div",{style:{background:"#f0fdf4",padding:"1.5rem",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"bold",color:"#166534",marginBottom:"0.5rem"},children:"Faturas Pagas (Base de Clculo) - R$"}),s.jsx("input",{value:h(d.faturas_pagas_base),onChange:j=>p("faturas_pagas_base",j.target.value),style:{width:"100%",fontSize:"1.5rem",fontWeight:"bold",color:"#166534",padding:"0.5rem",background:"transparent",border:"none",outline:"none",borderBottom:"2px solid #16a34a"}}),s.jsx("p",{style:{fontSize:"0.8rem",color:"#15803d",marginTop:"0.5rem"},children:"Valor efetivamente recebido dos assinantes."})]})]}),s.jsxs("div",{style:{border:"1px solid #fb923c",borderRadius:"8px",padding:"1.5rem",background:"#fff7ed",position:"relative"},children:[s.jsxs("div",{style:{position:"absolute",top:"-12px",left:"20px",background:"#fff7ed",padding:"0 10px",color:"#c2410c",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(La,{size:18})," Despesas Operacionais"]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginTop:"0.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Custo Disp. (R$)"}),s.jsx("input",{value:h(d.custo_disponibilidade),onChange:j=>p("custo_disponibilidade",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Manuteno (R$)"}),s.jsx("input",{value:h(d.manutencao),onChange:j=>p("manutencao",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Arrendamento (R$)"}),s.jsx("input",{value:h(d.arrendamento),onChange:j=>p("arrendamento",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Servios (Net/Seg/gua) (R$)"}),s.jsx("input",{value:h(d.servicos_total),onChange:j=>p("servicos_total",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]})]})]}),s.jsx("div",{style:{background:"#fefce8",borderRadius:"8px",padding:"1.5rem",border:"1px solid #fde047"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[s.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"end"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Taxa de Gesto (%)"}),s.jsx("input",{type:"number",step:"0.1",value:d.taxa_gestao_percentual,onChange:j=>g("taxa_gestao_percentual",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"white"}})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Valor (R$)"}),s.jsx("input",{value:h(d.taxa_gestao_valor),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Total Despesas Operacionais"}),s.jsx("input",{value:h(d.total_despesas),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]})}),"/* ... existing render logic ... */",s.jsxs("div",{style:{background:"#eff6ff",borderRadius:"8px",padding:"2rem",textAlign:"center",border:"1px solid #bfdbfe"},children:[s.jsx("h3",{style:{color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),s.jsx("p",{style:{color:"#3b82f6",fontSize:"0.9rem",marginBottom:"1rem"},children:"Faturas Pagas - (Taxa Gesto + Total Despesas)"}),s.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"900",color:d.saldo_liquido<0?"#ef4444":"#1e40af"},children:h(d.saldo_liquido)}),d.saldo_liquido>0&&d.status!=="liquidado"&&s.jsxs("button",{type:"button",onClick:b,disabled:i||d.status==="liquidado",style:{marginTop:"1.5rem",background:"#16a34a",color:"white",padding:"0.8rem 2rem",borderRadius:"6px",border:"none",fontWeight:"bold",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 6px -1px rgba(22, 163, 74, 0.3)"},children:[s.jsx(Ff,{size:20})," Pagar e Liquidar via Pix"]}),d.status==="liquidado"&&s.jsxs("div",{style:{marginTop:"1rem",color:"#166534",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#166534"}}),"Repasse Realizado"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[s.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:i?"Salvando...":s.jsxs(s.Fragment,{children:[s.jsx(qy,{size:18})," Salvar Fechamento"]})})]})]})]})})}function BZ({usina:e,onClose:t}){const{showAlert:r}=zr(),[n,a]=x.useState([]),[i,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{o(!0);const{data:y,error:g}=await B.from("plant_closings").select("*").eq("usina_id",e.id).order("created_at",{ascending:!1});g?console.error("Error fetching closings",g):a(y||[]),o(!1)},h=y=>{c(y),d(!0)},m=()=>{c(null),d(!0)},v=()=>{f()},w=y=>Number(y||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},children:[u&&s.jsx(zZ,{usina:e,closingId:l,onClose:()=>d(!1),onSave:v}),s.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[s.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Fechamentos Mensais"}),s.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Histrico financeiro da usina ",e.name]})]}),s.jsx("button",{onClick:t,children:s.jsx(Vf,{size:24,color:"#94a3b8"})})]}),s.jsx("div",{style:{padding:"1rem 1.5rem",background:"#f8fafc",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end"},children:s.jsxs("button",{onClick:m,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-blue)",color:"white",padding:"0.6rem 1.2rem",borderRadius:"6px",border:"none",fontWeight:600,cursor:"pointer"},children:[s.jsx(vs,{size:18})," Novo Fechamento"]})}),s.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1,background:"#f1f5f9"},children:i?s.jsx("p",{children:"Carregando..."}):n.length===0?s.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8",background:"white",borderRadius:"8px",border:"1px dashed #cbd5e1"},children:[s.jsx(La,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),s.jsx("p",{children:"Nenhum fechamento registrado para esta usina."})]}):s.jsx("div",{style:{display:"grid",gap:"1rem"},children:n.map(y=>s.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[s.jsxs("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",textAlign:"center",minWidth:"80px"},children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b",textTransform:"uppercase"},children:"Ms/Ano"}),s.jsxs("div",{style:{fontWeight:"bold",color:"#1e40af"},children:[y.ref_month,"/",y.ref_year]})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.3rem"},children:[s.jsx("span",{style:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:"bold",padding:"0.2rem 0.5rem",borderRadius:"99px",background:y.status==="fechado"?"#dcfce7":"#ffedd5",color:y.status==="fechado"?"#166534":"#9a3412"},children:y.status}),s.jsxs("span",{style:{fontSize:"0.8rem",color:"#94a3b8"},children:["Criado em ",new Date(y.created_at).toLocaleDateString()]})]}),s.jsxs("div",{style:{fontSize:"0.9rem",color:"#475569"},children:["Faturas: ",s.jsx("strong",{children:w(y.faturas_pagas_base)})," | Despesas: ",s.jsx("strong",{children:w(y.total_despesas)})]})]})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:"Saldo Lquido"}),s.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:y.saldo_liquido<0?"#ef4444":"#166534"},children:w(y.saldo_liquido)}),s.jsx("button",{onClick:()=>h(y.id),style:{marginTop:"0.5rem",background:"none",border:"none",color:"#3b82f6",fontSize:"0.85rem",cursor:"pointer",textDecoration:"underline"},children:"Ver Detalhes"})]})]},y.id))})})]})]})}function IZ(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,m]=x.useState(""),[v,w]=x.useState("kanban"),y=e.filter(j=>{var C,E,A,k,R,T,H;if(!h)return!0;const S=h.toLowerCase();return((C=j.name)==null?void 0:C.toLowerCase().includes(S))||((E=j.concessionaria)==null?void 0:E.toLowerCase().includes(S))||((k=(A=j.supplier)==null?void 0:A.name)==null?void 0:k.toLowerCase().includes(S))||((R=j.status)==null?void 0:R.toLowerCase().includes(S))||((H=(T=j.address)==null?void 0:T.cidade)==null?void 0:H.toLowerCase().includes(S))});x.useEffect(()=>{g()},[]);const g=async()=>{n(!0);try{const{data:j,error:S}=await B.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(S)throw S;t(j||[])}catch(j){console.error("Erro usinas",j)}finally{n(!1)}},p=()=>{g(),i(!1)},b=j=>{t(e.filter(S=>S.id!==j)),i(!1)},_=j=>{switch(j){case"gerando":return{bg:"#dcfce7",color:"#166534"};case"em_conexao":return{bg:"#ffedd5",color:"#9a3412"};case"manutencao":return{bg:"#fee2e2",color:"#991b1b"};case"inativa":return{bg:"#f1f5f9",color:"#64748b"};case"cancelada":return{bg:"#f1f5f9",color:"#94a3b8"};default:return{bg:"#f1f5f9",color:"#64748b"}}};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Usinas Geradoras"}),s.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[s.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:h,onChange:j=>m(j.target.value),className:"input",style:{maxWidth:"400px"}}),s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>w("list"),className:`btn ${v==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>w("kanban"),className:`btn ${v==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:v==="list"?s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:y.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nome / Concessionria"}),s.jsx("th",{children:"Fornecedor"}),s.jsx("th",{children:"Cidade"}),s.jsx("th",{children:"Gerao / Potncia"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:y.map(j=>{var C,E,A,k;const S=_(j.status);return s.jsxs("tr",{children:[s.jsxs("td",{style:{fontWeight:"bold"},children:[s.jsx("div",{children:j.name}),s.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:j.concessionaria||"-"})]}),s.jsx("td",{children:((C=j.supplier)==null?void 0:C.name)||"-"}),s.jsxs("td",{children:[(E=j.address)==null?void 0:E.cidade,"/",(A=j.address)==null?void 0:A.uf]}),s.jsxs("td",{children:[s.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:j.geracao_estimada_kwh?`${j.geracao_estimada_kwh} kWh/ms`:"-"}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",j.potencia_kwp," kWp"]})]}),s.jsx("td",{children:s.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:S.bg,color:S.color,textTransform:"uppercase"},children:(k=j.status)==null?void 0:k.replace("_"," ")})}),s.jsxs("td",{children:[s.jsx("button",{onClick:()=>{l(j),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",marginRight:"0.5rem"},children:"Editar"}),s.jsx("button",{onClick:()=>{f(j),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",background:"#e0f2fe",color:"#0369a1",border:"1px solid #bae6fd"},title:"Fechamentos Financeiros",children:s.jsx(La,{size:14})})]})]},j.id)})})]})})}):s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["em_conexao","gerando","manutencao","inativa","cancelada"].map(j=>{const S=y.filter(E=>E.status===j),C=_(j);return s.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${C.color}`,boxShadow:"var(--shadow-sm)"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:C.color},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:j.replace("_"," ")}),s.jsx("span",{style:{fontSize:"0.8rem",background:C.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:S.length})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:S.map(E=>{var A,k,R;return s.jsxs("div",{onClick:()=>{l(E),i(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s",position:"relative",overflow:"hidden"},onMouseEnter:T=>T.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:T=>T.currentTarget.style.borderColor="transparent",children:[s.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:C.bg,color:C.color,marginBottom:"0.5rem"},children:j.replace("_"," ")}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:s.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:E.name})}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[s.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:E.concessionaria||"Sem conc."}),s.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((A=E.supplier)==null?void 0:A.name)||"Sem Fornecedor"})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[s.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[s.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),s.jsxs("div",{style:{fontWeight:"bold"},children:[E.potencia_kwp," kWp"]})]}),s.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[s.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),s.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[E.geracao_estimada_kwh," kWh"]})]})]}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[s.jsxs("span",{children:[(k=E.address)==null?void 0:k.cidade,"/",(R=E.address)==null?void 0:R.uf]}),s.jsxs("button",{onClick:T=>{T.stopPropagation(),f(E),u(!0)},style:{background:"none",border:"none",color:"#3b82f6",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.2rem"},children:[s.jsx(La,{size:14})," Fechamentos"]})]})]},E.id)})})]},j)})})}),a&&s.jsx(DZ,{usina:o,onClose:()=>i(!1),onSave:p,onDelete:b}),c&&s.jsx(BZ,{usina:d,onClose:()=>u(!1)})]})}function $Z(){const{showAlert:e,showConfirm:t}=zr(),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState("kanban"),[d,f]=x.useState(null),[h,m]=x.useState(!1),[v,w]=x.useState(new Date().toISOString().substring(0,7)),[y,g]=x.useState(""),[p,b]=x.useState(""),[_,j]=x.useState(null),S=r.filter(O=>{var N,P,M,L,G,J,ae;if(y&&O.status!==y)return!1;if(p){const ie=p.toLowerCase(),oe=((P=(N=O.consumer_units)==null?void 0:N.titular_conta)==null?void 0:P.toLowerCase())||"",I=((G=(L=(M=O.consumer_units)==null?void 0:M.subscribers)==null?void 0:L.name)==null?void 0:G.toLowerCase())||"",W=((ae=(J=O.consumer_units)==null?void 0:J.numero_uc)==null?void 0:ae.toLowerCase())||"";if(!oe.includes(ie)&&!I.includes(ie)&&!W.includes(ie))return!1}return!0});x.useEffect(()=>{C(),E()},[v]);const C=async()=>{l(!0);try{const[O,N]=v.split("-"),P=`${O}-${N}-01`,M=new Date(O,N,0).getDate(),L=`${O}-${N}-${M}`,{data:G,error:J}=await B.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",P).lte("mes_referencia",L).order("vencimento",{ascending:!0});if(J)throw J;n(G||[])}catch(O){console.error("Error fetching invoices:",O),e("Erro ao carregar faturas.","error")}finally{l(!1)}},E=async()=>{const{data:O,error:N}=await B.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta, tarifa_concessionaria, desconto_assinante, tipo_ligacao").eq("status","ativo").order("titular_conta");N||i(O||[])},A=()=>{f(null),m(!0)},k=O=>{f(O),m(!0)},R=()=>{C(),m(!1)},T=async O=>{var P;if(await t(`Gerar boleto Asaas para a fatura de ${(P=O.consumer_units)==null?void 0:P.titular_conta}?`)){j(O.id);try{const M=await Wf(O.id);M.url&&(e("Boleto gerado com sucesso!","success"),window.open(M.url,"_blank"),C())}catch(M){console.error(M),e("Erro ao gerar boleto: "+M.message,"error")}finally{j(null)}}},H=async O=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:P}=await B.from("invoices").delete().eq("id",O);if(P)throw P;C()}catch(P){console.error("Erro ao excluir fatura:",P),e("Erro ao excluir fatura: "+P.message,"error")}},q=O=>Number(O||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),F=O=>{const N={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:LA},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:m6},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:$A}},P=N[O]||N.a_vencer,M=P.icon;return s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:P.bg,color:P.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[s.jsx(M,{size:12})," ",P.label]})};return s.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),s.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),s.jsxs("button",{onClick:A,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(vs,{size:18})," Nova Fatura"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[s.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[s.jsx(O6,{size:18}),s.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),s.jsx("input",{type:"month",value:v,onChange:O=>w(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),s.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:s.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),s.jsxs("select",{value:y,onChange:O=>g(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"a_vencer",children:"A Vencer"}),s.jsx("option",{value:"atrasado",children:"Atrasado"}),s.jsx("option",{value:"pago",children:"Pago"})]}),s.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:s.jsx(Hy,{size:18})}),s.jsx("input",{placeholder:"Buscar por Nome...",value:p,onChange:O=>b(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>u("list"),className:`btn ${c==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>u("kanban"),className:`btn ${c==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:c==="list"?s.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{style:{background:"#f8fafc"},children:s.jsxs("tr",{children:[s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),s.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),s.jsx("tbody",{children:S.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):S.map(O=>{var N,P,M;return s.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[s.jsx("td",{style:{padding:"1rem"},children:F(O.status)}),s.jsx("td",{style:{padding:"1rem",color:"#334155"},children:O.vencimento?new Date(O.vencimento).toLocaleDateString("pt-BR"):"-"}),s.jsxs("td",{style:{padding:"1rem"},children:[s.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((N=O.consumer_units)==null?void 0:N.numero_uc)||"N/A"}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(P=O.consumer_units)==null?void 0:P.titular_conta," (",(M=O.consumer_units)==null?void 0:M.concessionaria,")"]})]}),s.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(O.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),s.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:q(O.valor_a_pagar)}),s.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[O.asaas_boleto_url?s.jsxs("a",{href:O.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[s.jsx(La,{size:14})," Boleto"]}):s.jsx("button",{onClick:()=>T(O),disabled:_===O.id,style:{background:_===O.id?"#f1f5f9":"#fff7ed",color:_===O.id?"#94a3b8":"#c2410c",border:_===O.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:_===O.id?"Gerando...":s.jsxs(s.Fragment,{children:[s.jsx(uc,{size:14})," Emitir"]})}),s.jsx("button",{onClick:()=>k(O),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),s.jsx("button",{onClick:()=>H(O.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:s.jsx(dc,{size:16})})]})})]},O.id)})})]})}):s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(O=>{const N=S.filter(L=>L.status===O),P={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},M=P[O]||P.a_vencer;return s.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${M.color}`,boxShadow:"var(--shadow-sm)"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:M.color},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:M.label}),s.jsx("span",{style:{fontSize:"0.8rem",background:M.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:q(N.reduce((L,G)=>L+(Number(G.valor_a_pagar)||0),0))})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:N.map(L=>{var G,J;return s.jsxs("div",{onClick:()=>k(L),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:ae=>ae.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:ae=>ae.currentTarget.style.borderColor="transparent",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(G=L.consumer_units)==null?void 0:G.numero_uc}),s.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",L.vencimento?new Date(L.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),s.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(J=L.consumer_units)==null?void 0:J.titular_conta}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),s.jsxs("div",{children:[Number(L.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),s.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:q(L.valor_a_pagar)})]})]}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:L.asaas_boleto_url?s.jsxs("a",{href:L.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:ae=>ae.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[s.jsx(La,{size:14})," Boleto"]}):s.jsx("button",{onClick:ae=>{ae.stopPropagation(),T(L)},className:"btn",disabled:_===L.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:_===L.id?"...":"Emitir"})})]},L.id)})})]},O)})})}),h&&s.jsx(VA,{invoice:d,ucs:a,onClose:()=>m(!1),onSave:R})]})}function LZ(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(""),[o,l]=x.useState("kanban"),[c,u]=x.useState(!1),[d,f]=x.useState(null),h=e.filter(y=>{var p,b,_,j,S,C,E;if(!a)return!0;const g=a.toLowerCase();return((p=y.numero_uc)==null?void 0:p.toLowerCase().includes(g))||((_=(b=y.subscriber)==null?void 0:b.name)==null?void 0:_.toLowerCase().includes(g))||((j=y.concessionaria)==null?void 0:j.toLowerCase().includes(g))||((C=(S=y.address)==null?void 0:S.cidade)==null?void 0:C.toLowerCase().includes(g))||((E=y.status)==null?void 0:E.toLowerCase().includes(g))});x.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:y,error:g}=await B.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(g)throw g;t(y||[])}catch(y){console.error("Error fetching UCs:",y)}finally{n(!1)}},v=y=>{m(),u(!1)},w=y=>{t(e.filter(g=>g.id!==y)),u(!1)};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),s.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:s.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[s.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:y=>i(y.target.value),className:"input",style:{maxWidth:"400px"}}),s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>l("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>l("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:o==="list"?s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:h.length===0?s.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"UC"}),s.jsx("th",{children:"Concessionria"}),s.jsx("th",{children:"Assinante"}),s.jsx("th",{children:"Franquia"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Cidade"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:h.map(y=>{var g,p,b,_,j;return s.jsxs("tr",{children:[s.jsx("td",{style:{fontWeight:"bold"},children:y.numero_uc}),s.jsx("td",{style:{color:"var(--color-text-medium)"},children:y.concessionaria||"-"}),s.jsxs("td",{children:[s.jsx("div",{style:{fontWeight:"bold"},children:((g=y.subscriber)==null?void 0:g.name)||"-"}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(p=y.subscriber)==null?void 0:p.cpf_cnpj})]}),s.jsx("td",{children:y.franquia?`${Number(y.franquia).toLocaleString("pt-BR")} kWh`:"-"}),s.jsx("td",{children:s.jsx("span",{className:"badge",style:{background:y.status==="ativo"?"var(--color-success-light)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:y.status==="ativo"?"var(--color-success)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(b=y.status)==null?void 0:b.replace("_"," ").toUpperCase()})}),s.jsxs("td",{children:[(_=y.address)==null?void 0:_.cidade," / ",(j=y.address)==null?void 0:j.uf]}),s.jsx("td",{children:s.jsx("button",{onClick:()=>{f(y),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})}):s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}].map(({status:y,label:g,color:p})=>{const b=h.filter(_=>(_.status||"em_ativacao")===y);return s.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${p}`,boxShadow:"var(--shadow-sm)"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:p},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:g}),s.jsx("span",{style:{fontSize:"0.8rem",background:p,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:b.length})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:b.map(_=>{var j,S,C;return s.jsxs("div",{onClick:()=>{f(_),u(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:E=>E.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:E=>E.currentTarget.style.borderColor="transparent",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:_.numero_uc}),s.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria})]}),s.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((j=_.subscriber)==null?void 0:j.name)||"Sem Assinante"}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[s.jsxs("span",{children:[(S=_.address)==null?void 0:S.cidade,"/",(C=_.address)==null?void 0:C.uf]}),s.jsx("span",{children:_.franquia?`${Number(_.franquia).toLocaleString("pt-BR")} kWh`:""})]})]},_.id)})})]},y)})})}),c&&s.jsx(Fy,{consumerUnit:d,onClose:()=>u(!1),onSave:v,onDelete:w})]})}function UZ({billing:e,onClose:t,onSave:r}){const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=x.useState(0),m=["em_producao","fechado","liquidado"],v=C=>{if(!C&&C!==0)return"";const E=Number(C);return isNaN(E)?"":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},w=C=>{if(!C||typeof C!="string")return 0;const E=C.replace(/\D/g,"");return Number(E)/100},y=(C,E)=>{const A=E.replace(/\D/g,""),R=(Number(A)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(T=>({...T,[C]:R}))};x.useEffect(()=>{g(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:v(e.faturamento_mensal),faturas_pagas:v(e.faturas_pagas),custo_disponibilidade:v(e.custo_disponibilidade),manutencao:v(e.manutencao),gestao_reais:v(e.gestao_reais),arrendamento:v(e.arrendamento),servicos:v(e.servicos),total_despesas:v(e.total_despesas),saldo_receber:v(e.saldo_receber)}),p(e.usina_id))},[e]),x.useEffect(()=>{_()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const g=async()=>{const{data:C}=await B.from("usinas").select("id, name");a(C||[])},p=async C=>{if(!C)return;const{data:E}=await B.from("usinas").select("gestao_percentual").eq("id",C).single();E&&h(Number(E.gestao_percentual)||0)},b=async C=>{const E=C.target.value;d(A=>({...A,usina_id:E})),await p(E)},_=()=>{const C=w(u.faturas_pagas),E=w(u.custo_disponibilidade),A=w(u.manutencao),k=w(u.arrendamento),R=w(u.servicos);let T=0;f>0&&(T=C*(f/100));const H=E+A+T+k+R,q=C-H,F=w(u.gestao_reais),O=w(u.total_despesas),N=w(u.saldo_receber);Math.abs(F-T)<.01&&Math.abs(O-H)<.01&&Math.abs(N-q)<.01||d(P=>({...P,gestao_reais:v(T),total_despesas:v(H),saldo_receber:v(q)}))},j=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}c(!0);try{const{data:C,error:E}=await B.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(E)throw E;if(!C||C.length===0){alert("Nenhuma UC vinculada a esta usina."),c(!1);return}const A=C.map(M=>M.id),[k,R]=u.mes_referencia.split("-"),T=`${k}-${R}-01`,H=new Date(k,R,0).getDate(),q=`${k}-${R}-${H}`,{data:F,error:O}=await B.from("invoices").select("valor_a_pagar, status").in("uc_id",A).gte("mes_referencia",T).lte("mes_referencia",q);if(O)throw O;let N=0,P=0;F.forEach(M=>{const L=Number(M.valor_a_pagar)||0;N+=L,M.status==="pago"&&(P+=L)}),d(M=>({...M,faturamento_mensal:v(N),faturas_pagas:v(P)}))}catch(C){console.error("Reconciliation error:",C),alert("Erro ao buscar faturas: "+C.message)}finally{c(!1)}},S=async C=>{C.preventDefault(),o(!0);try{const E={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:w(u.faturamento_mensal),faturas_pagas:w(u.faturas_pagas),custo_disponibilidade:w(u.custo_disponibilidade),manutencao:w(u.manutencao),gestao_reais:w(u.gestao_reais),arrendamento:w(u.arrendamento),servicos:w(u.servicos),total_despesas:w(u.total_despesas),saldo_receber:w(u.saldo_receber)};let A;if(e!=null&&e.id?A=await B.from("generation_production").update(E).eq("id",e.id):A=await B.from("generation_production").insert(E),A.error)throw A.error;r(),t()}catch(E){console.error("Save error:",E),alert("Erro ao salvar: "+(E.message||JSON.stringify(E)))}finally{o(!1)}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[s.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),s.jsxs("form",{onSubmit:S,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),s.jsxs("select",{required:!0,value:u.usina_id,onChange:b,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[s.jsx("option",{value:"",children:"Selecione..."}),n.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),s.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),s.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:C=>{const E=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${E}-${C.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((C,E)=>s.jsx("option",{value:C,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][E]},C))})]}),s.jsxs("div",{style:{width:"80px"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),s.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:C=>{const E=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${C.target.value}-${E}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(C,E)=>new Date().getFullYear()-2+E).map(C=>s.jsx("option",{value:C,children:C},C))})]})]}),s.jsxs("div",{style:{width:"150px"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),s.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:C=>d({...u,fechamento:C.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{style:{width:"120px"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),s.jsx("select",{value:u.status,onChange:C=>d({...u,status:C.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(C=>s.jsx("option",{value:C,children:C.replace("_"," ").toUpperCase()},C))})]}),s.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:s.jsx("button",{type:"button",onClick:j,disabled:l||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:l?.7:1},children:l?"Buscando...":"Buscar Faturas"})})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),s.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:C=>d({...u,geracao_mensal_kwh:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),s.jsx("input",{type:"number",value:u.energia_compensada,onChange:C=>d({...u,energia_compensada:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),s.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:C=>y("faturamento_mensal",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),s.jsx("input",{type:"text",value:u.faturas_pagas,onChange:C=>y("faturas_pagas",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),s.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),s.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),s.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:C=>y("custo_disponibilidade",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),s.jsx("input",{type:"text",value:u.manutencao,onChange:C=>y("manutencao",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),s.jsx("input",{type:"text",value:u.arrendamento,onChange:C=>y("arrendamento",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),s.jsx("input",{type:"text",value:u.servicos,onChange:C=>y("servicos",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),s.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),s.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[s.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),s.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),s.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[s.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function qZ(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState("kanban"),[o,l]=x.useState(!1),[c,u]=x.useState(null);x.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:b}=await B.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});b?console.error("Error fetching billing:",b):t(p||[]),n(!1)},f=p=>{u(p),l(!0)},h=()=>{u(null),l(!0)},m=async p=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:b}=await B.from("generation_production").delete().eq("id",p);b?alert("Erro ao excluir"):d()},v=async p=>{var b;if(!p.saldo_receber||p.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${p.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:_,error:j}=await B.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",p.usina_id).single();if(j||!_||!_.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const S=_.supplier;if(!S.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:C,error:E}=await B.functions.invoke("transfer-asaas-pix",{body:{value:p.saldo_receber,pix_key:S.pix_key,pix_key_type:S.pix_key_type,description:`Pagamento Energia - ${p.mes_referencia} - ${_.name}`,operationType:"PIX"}});if(E)throw E;if(!C.success)throw new Error(C.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((b=C.data)==null?void 0:b.id)),d(),await B.from("generation_production").update({status:"liquidado"}).eq("id",p.id),d()}catch(_){console.error("Payment Error:",_),alert("Erro no pagamento: "+_.message)}finally{n(!1)}}},w=()=>{d(),l(!1)},y=p=>{if(!p)return"-";const[b,_]=p.split("-"),j=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=parseInt(_,10)-1;return`${j[S]||"-"} ${b}`},g=p=>Number(p||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return s.jsxs("div",{style:{padding:"2rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),s.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:s.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),s.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?s.jsx("p",{children:"Carregando..."}):s.jsx(s.Fragment,{children:a==="list"?s.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Ms Ref."}),s.jsx("th",{children:"Usina"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Gerao (kWh)"}),s.jsx("th",{children:"Compensado (kWh)"}),s.jsx("th",{children:"Faturado (R$)"}),s.jsx("th",{children:"Saldo a Receber (R$)"}),s.jsx("th",{children:"Aes"})]})}),s.jsx("tbody",{children:e.map(p=>{var b;return s.jsxs("tr",{children:[s.jsx("td",{children:y(p.mes_referencia)}),s.jsx("td",{children:((b=p.usinas)==null?void 0:b.name)||"-"}),s.jsx("td",{children:s.jsx("span",{className:"badge",style:{background:p.status==="liquidado"?"#dcfce7":p.status==="fechado"?"#e0f2fe":"#fef9c3",color:p.status==="liquidado"?"#166534":p.status==="fechado"?"#0369a1":"#854d0e"},children:p.status})}),s.jsxs("td",{children:[Number(p.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),s.jsxs("td",{children:[Number(p.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),s.jsx("td",{children:g(p.faturamento_mensal)}),s.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:g(p.saldo_receber)}),s.jsx("td",{children:s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{onClick:()=>f(p),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),s.jsx("button",{onClick:()=>m(p.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),s.jsx("button",{onClick:()=>v(p),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},p.id)})})]})})}):s.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(p=>{const b=e.filter(S=>S.status===p),j={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[p]||"#64748b";return s.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${j}`,boxShadow:"var(--shadow-sm)"},children:[s.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:j},children:[s.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:p}),s.jsx("span",{style:{fontSize:"0.8rem",background:j,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:g(b.reduce((S,C)=>S+(Number(C.saldo_receber)||0),0))})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:b.map(S=>{var C;return s.jsxs("div",{onClick:()=>f(S),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:E=>E.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:E=>E.currentTarget.style.borderColor="transparent",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(C=S.usinas)==null?void 0:C.name}),s.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:y(S.mes_referencia)})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),s.jsxs("div",{children:[Number(S.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),s.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:g(S.saldo_receber)})]})]}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:S.status!=="liquidado"&&s.jsx("button",{onClick:E=>{E.stopPropagation(),v(S)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},S.id)})})]},p)})})}),o&&s.jsx(UZ,{billing:c,onClose:()=>l(!1),onSave:w})]})}function HZ(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState("all"),[o,l]=x.useState(""),[c,u]=x.useState(null),d=[{id:"all",label:"Todos",color:"#64748b"},{id:"super_admin",label:"Super Admin",color:"#0f172a"},{id:"admin",label:"Admin",color:"#1e293b"},{id:"manager",label:"Gerente",color:"#334155"},{id:"coordinator",label:"Coord.",color:"#475569"},{id:"supplier",label:"Fornecedor",color:"#ea580c"},{id:"originator",label:"Originador",color:"#059669"},{id:"subscriber",label:"Assinante",color:"#2563eb"},{id:"lead",label:"Lead",color:"#94a3b8"}],f=p=>{var b;return((b=d.find(_=>_.id===p))==null?void 0:b.label)||p},h=p=>{var b;return((b=d.find(_=>_.id===p))==null?void 0:b.color)||"#94a3b8"};x.useEffect(()=>{m()},[]);const m=async()=>{n(!0);const{data:p}=await B.from("profiles").select("*").order("name");p&&t(p),n(!1)},v=p=>{t(e.map(b=>b.id===p.id?p:b))},w=e.filter(p=>{var j,S;const b=(((j=p.name)==null?void 0:j.toLowerCase())||"").includes(o.toLowerCase())||(((S=p.email)==null?void 0:S.toLowerCase())||"").includes(o.toLowerCase()),_=a==="all"?!0:p.role===a;return b&&_}),y=e.length,g=e.filter(p=>p.role!=="lead").length;return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[s.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",color:"#2563eb"},children:s.jsx(Wy,{size:24})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:y}),s.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Total de Usurios"})]})]}),s.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{background:"#f0fdf4",padding:"0.8rem",borderRadius:"8px",color:"#16a34a"},children:s.jsx(qA,{size:24})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:g}),s.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Perfis Ativos"})]})]})]}),s.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[s.jsxs("div",{style:{borderBottom:"1px solid #e2e8f0"},children:[s.jsxs("div",{style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[s.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#334155"},children:"Lista de Usurios"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(Hy,{size:16,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),s.jsx("input",{placeholder:"Buscar usurio...",value:o,onChange:p=>l(p.target.value),style:{padding:"0.5rem 1rem 0.5rem 2.2rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem",width:"250px"}})]})]}),s.jsx("div",{style:{display:"flex",gap:"2rem",padding:"0 1rem",overflowX:"auto"},children:d.map(p=>s.jsxs("button",{onClick:()=>i(p.id),style:{background:"none",border:"none",padding:"1rem 0",color:a===p.id?"#0284c7":"#64748b",fontWeight:a===p.id?600:400,borderBottom:a===p.id?"2px solid #0284c7":"2px solid transparent",cursor:"pointer",whiteSpace:"nowrap",fontSize:"0.9rem"},children:[p.label,s.jsx("span",{style:{marginLeft:"6px",background:a===p.id?"#e0f2fe":"#f1f5f9",padding:"2px 6px",borderRadius:"99px",fontSize:"0.75rem"},children:p.id==="all"?e.length:e.filter(b=>b.role===p.id).length})]},p.id))})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[s.jsx("thead",{style:{background:"#f8fafc",borderBottom:"1px solid #e2e8f0",fontSize:"0.8rem",textTransform:"uppercase",color:"#64748b"},children:s.jsxs("tr",{children:[s.jsx("th",{style:{padding:"1rem"},children:"Usurio"}),s.jsx("th",{style:{padding:"1rem"},children:"Perfil (Role)"}),s.jsx("th",{style:{padding:"1rem"},children:"Contato"}),s.jsx("th",{style:{padding:"1rem"},children:"Comisses"}),s.jsx("th",{style:{padding:"1rem",textAlign:"right"},children:"Aes"})]})}),s.jsx("tbody",{children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center"},children:"Carregando..."})}):w.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhum usurio encontrado."})}):w.map(p=>{var b;return s.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[s.jsx("td",{style:{padding:"1rem"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem"},children:[s.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b",fontWeight:"bold"},children:((b=p.name)==null?void 0:b.charAt(0).toUpperCase())||"?"}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:p.name||"Sem Nome"}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:p.email})]})]})}),s.jsx("td",{style:{padding:"1rem"},children:s.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:600,background:h(p.role)+"20",color:h(p.role),border:`1px solid ${h(p.role)}40`},children:f(p.role)})}),s.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem",color:"#475569"},children:p.phone||"-"}),s.jsx("td",{style:{padding:"1rem",fontSize:"0.85rem"},children:p.commission_split?s.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("span",{style:{color:"#94a3b8"},children:"Start:"})," ",s.jsxs("strong",{children:[p.commission_split.start,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{style:{color:"#94a3b8"},children:"Rec.:"})," ",s.jsxs("strong",{children:[p.commission_split.recorrente,"%"]})]})]}):"-"}),s.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:s.jsxs("button",{onClick:()=>u(p),style:{background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",padding:"0.4rem 0.8rem",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.4rem",color:"#475569",fontSize:"0.8rem",fontWeight:500},children:[s.jsx(q6,{size:14})," Editar"]})})]},p.id)})})]})})]}),c&&s.jsx(FA,{user:c,onClose:()=>u(null),onSave:v})]})}function hS({serviceName:e,title:t,description:r}){var E,A;const{showAlert:n}=zr(),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState({endpoint_url:"",api_key:"",secret_key:"",variables:[]});x.useEffect(()=>{d()},[e]);const d=async()=>{i(!0);const{data:k,error:R}=await B.from("integrations_config").select("*").eq("service_name",e).single();if(k){const T=k.variables?Object.entries(k.variables).map(([H,q])=>({key:H,value:q})):[];u({endpoint_url:k.endpoint_url||"",api_key:k.api_key||"",secret_key:k.secret_key||"",variables:T})}else R&&R.code!=="PGRST116"&&console.error("Error fetching config:",R);i(!1)},f=async k=>{k.preventDefault(),i(!0);const R=c.variables.reduce((q,F)=>(F.key&&(q[F.key]=F.value),q),{}),T={service_name:e,endpoint_url:c.endpoint_url,api_key:c.api_key,secret_key:c.secret_key,variables:R,updated_at:new Date().toISOString()},{error:H}=await B.from("integrations_config").upsert(T,{onConflict:"service_name"});i(!1),H?n("Erro ao salvar configuraes: "+H.message,"error"):n("Configuraes salvas com sucesso!","success")},h=()=>{u(k=>({...k,variables:[...k.variables,{key:"",value:""}]}))},m=k=>{u(R=>({...R,variables:R.variables.filter((T,H)=>H!==k)}))},v=(k,R,T)=>{const H=[...c.variables];H[k][R]=T,u(q=>({...q,variables:H}))},[w,y]=x.useState(""),[g,p]=x.useState("Teste de conexo Evolution API"),[b,_]=x.useState(""),[j,S]=x.useState(!1),C=async()=>{if(!w){n("Informe um nmero de telefone para teste.","error");return}S(!0);try{const{data:k,error:R}=await B.functions.invoke("send-whatsapp",{body:{text:g,phone:w,mediaUrl:b}});if(R)throw new Error(R.message);if(k!=null&&k.error)throw new Error(k.error);n("Mensagem de teste enviada com sucesso!","success")}catch(k){console.error(k),n("Falha no teste: "+k.message,"error")}finally{S(!1)}};return s.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[s.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",background:"#f8fafc"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{padding:"0.5rem",background:"#fff",borderRadius:"6px",border:"1px solid #cbd5e1"},children:s.jsx(G6,{size:20,color:"#475569"})}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"#1e293b"},children:t}),s.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#64748b"},children:r})]})]})}),s.jsxs("form",{onSubmit:f,style:{padding:"2rem"},children:[s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Endpoint URL"}),s.jsx("input",{type:"url",placeholder:"https://api.exemplo.com/v1",value:c.endpoint_url,onChange:k=>u({...c,endpoint_url:k.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"API Key / Token"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:o?"text":"password",value:c.api_key,onChange:k=>u({...c,api_key:k.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),s.jsx("button",{type:"button",onClick:()=>l(!o),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o?s.jsx(_6,{size:18}):s.jsx(S6,{size:18})})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Secret Key (Opcional)"}),s.jsx("input",{type:"password",value:c.secret_key,onChange:k=>u({...c,secret_key:k.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]})]}),e==="evolution_api"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Nome da Instncia"}),s.jsx("input",{placeholder:"Nome da Instncia (ex: minha-instancia)",value:((E=c.variables.find(k=>k.key==="instance_name"))==null?void 0:E.value)||"",onChange:k=>{const R=k.target.value;u(T=>{const H=T.variables.some(F=>F.key==="instance_name");let q;return H?q=T.variables.map(F=>F.key==="instance_name"?{...F,value:R}:F):q=[...T.variables,{key:"instance_name",value:R}],{...T,variables:q}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),s.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Nome da instncia criada na Evolution API."})]}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"URL da Mdia (Convite)"}),s.jsx("input",{type:"url",placeholder:"https://exemplo.com/imagem.png",value:((A=c.variables.find(k=>k.key==="invite_media_url"))==null?void 0:A.value)||"",onChange:k=>{const R=k.target.value;u(T=>{const H=T.variables.some(F=>F.key==="invite_media_url");let q;return H?q=T.variables.map(F=>F.key==="invite_media_url"?{...F,value:R}:F):q=[...T.variables,{key:"invite_media_url",value:R}],{...T,variables:q}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),s.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Imagem enviada junto com o convite."})]})]}),s.jsxs("div",{style:{borderTop:"1px solid #e2e8f0",paddingTop:"1.5rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("label",{style:{fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Variveis de Ambiente / Parmetros Extras"}),s.jsxs("button",{type:"button",onClick:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.8rem",color:"#2563eb",background:"#eff6ff",padding:"0.4rem 0.8rem",borderRadius:"99px",border:"none",cursor:"pointer",fontWeight:600},children:[s.jsx(vs,{size:14})," Adicionar Varivel"]})]}),c.variables.length===0&&s.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"6px",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #cbd5e1"},children:"Nenhuma varivel configurada."}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:c.variables.map((k,R)=>e==="evolution_api"&&(k.key==="instance_name"||k.key==="invite_media_url")?null:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:"1rem",alignItems:"center"},children:[s.jsx("input",{placeholder:"Nome da Varivel (ex: instance_name)",value:k.key,onChange:T=>v(R,"key",T.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),s.jsx("input",{placeholder:"Valor",value:k.value,onChange:T=>v(R,"value",T.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),s.jsx("button",{type:"button",onClick:()=>m(R),style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer",padding:"0.4rem"},title:"Remover",children:s.jsx(dc,{size:18})})]},R))})]}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:s.jsx("button",{type:"submit",disabled:a,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"#0284c7",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(2, 132, 199, 0.2)"},children:a?"Salvando...":s.jsxs(s.Fragment,{children:[s.jsx(qy,{size:18})," Salvar Configuraes"]})})}),e==="evolution_api"&&s.jsxs("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:[s.jsx("h4",{style:{margin:"0 0 1rem 0",color:"#334155"},children:"Teste de Conexo"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"1rem",alignItems:"end"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Nmero (com DDI)"}),s.jsx("input",{placeholder:"5511999999999",value:w,onChange:k=>y(k.target.value.replace(/\D/g,"")),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"URL da Mdia (Opcional)"}),s.jsx("input",{placeholder:"https://...",value:b,onChange:k=>_(k.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Mensagem / Legenda"}),s.jsx("input",{value:g,onChange:k=>p(k.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),s.jsx("button",{type:"button",onClick:C,disabled:j||!w,style:{padding:"0.7rem 1.5rem",background:j?"#94a3b8":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:j?"default":"pointer",fontWeight:600},children:j?"Enviando...":"Enviar Teste"})]})]}),e==="financial_api"&&s.jsx("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#334155"},children:"Teste de Conexo (Asaas)"}),s.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Verifica se o endpoint e o token esto corretos."})]}),s.jsx("button",{type:"button",onClick:async()=>{var k;i(!0);try{const{data:R,error:T}=await B.functions.invoke("manage-asaas-customer",{body:{test:!0}});if(T){let H=T.message;try{const q=await((k=T.context)==null?void 0:k.json());q&&q.error&&(H=q.error)}catch{}throw new Error(H)}if(R!=null&&R.success)n(R.message||"Conexo OK!","success");else throw new Error((R==null?void 0:R.error)||"Erro desconhecido")}catch(R){console.error(R),n("Falha na conexo: "+R.message,"error")}finally{i(!1)}},disabled:a||!c.api_key||!c.endpoint_url,style:{padding:"0.7rem 1.5rem",background:a?"#94a3b8":"#6366f1",color:"white",border:"none",borderRadius:"6px",cursor:a?"default":"pointer",fontWeight:600},children:a?"Testando...":"Testar Conexo"})]})})]})]})}function WZ(){const[e,t]=x.useState("users"),r=[{id:"users",label:"Perfil de Usurios",icon:Wy,desc:"Gerenciar usurios e acesso"},{id:"evolution",label:"Evolution API",icon:g6,desc:"Configurao da API WhatsApp"},{id:"financial",label:"Integrao Financeira",icon:uc,desc:"Gateways de Pagamento"}],n=()=>{switch(e){case"users":return s.jsx(HZ,{});case"evolution":return s.jsx(hS,{serviceName:"evolution_api",title:"Evolution API",description:"Configurao da API de WhatsApp"});case"financial":return s.jsx(hS,{serviceName:"financial_api",title:"Integrao Financeira",description:"Gateways de Pagamento (Asaas, etc)"});default:return null}};return s.jsxs("div",{style:{padding:"2rem",height:"100%"},children:[s.jsx("h2",{style:{marginBottom:"0.5rem",color:"#1e293b"},children:"Configuraes"}),s.jsx("p",{style:{color:"#64748b",marginBottom:"2rem"},children:"Gerencie as configuraes gerais e integraes do sistema."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"260px 1fr",gap:"2rem",alignItems:"start"},children:[s.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[s.jsx("div",{style:{padding:"1rem",borderBottom:"1px solid #f1f5f9",background:"#f8fafc"},children:s.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Menu"})}),s.jsx("div",{children:r.map(a=>s.jsxs("button",{onClick:()=>t(a.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem 1.5rem",border:"none",textAlign:"left",cursor:"pointer",color:e===a.id?"#0284c7":"#475569",background:e===a.id?"#f0f9ff":"transparent",borderLeft:e===a.id?"3px solid #0284c7":"3px solid transparent",transition:"all 0.2s"},children:[s.jsx(a.icon,{size:18}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:a.label}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:a.desc})]})]},a.id))})]}),s.jsx("div",{style:{minHeight:"500px"},children:n()})]})]})}function FZ(){var m;const{profile:e,signOut:t}=en(),r=Fa(),[n,a]=x.useState("default"),[i,o]=x.useState(!1),[l,c]=x.useState(!1);x.useEffect(()=>{e&&n==="default"&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e,n]);const u=async()=>{await t(),r("/login")},f=(v=>{if(!v)return[];const w=[];v!=="subscriber"&&w.push({id:"leads",label:"Leads",icon:I6}),["originator","coordinator","manager","admin","super_admin"].includes(v)&&(v==="originator"?(w.push({id:"originator_dashboard",label:"Minhas Comisses",icon:Wm}),w.push({id:"originators_list",label:"Equipe",icon:F1})):w.push({id:"originators_list",label:"Originadores",icon:F1})),v!=="lead"&&(v==="subscriber"?w.push({id:"subscriber_dashboard",label:"Meu Painel",icon:Wm}):w.push({id:"subscribers_list",label:"Assinantes",icon:qA})),v!=="lead"&&v!=="subscriber"&&w.push({id:"consumer_units",label:"Unidades Consumidoras",icon:k6}),w.push({id:"invoices",label:"Faturas",icon:La});const g=["supplier","manager","admin","super_admin"];return g.includes(v)&&(v==="supplier"?w.push({id:"supplier_dashboard",label:"Meu Painel",icon:Wm}):w.push({id:"suppliers_list",label:"Fornecedores",icon:Q6})),g.includes(v)&&w.push({id:"power_plants",label:"Usinas",icon:Gf}),["supplier","manager","admin","super_admin"].includes(v)&&w.push({id:"billing",label:"Billing",icon:Ff}),["admin","super_admin"].includes(v)&&w.push({id:"settings",label:"Configuraes",icon:UA}),w})(e==null?void 0:e.role),h=()=>{if(!e)return s.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return s.jsx(v8,{});case"subscriber_dashboard":return s.jsx(y8,{});case"originator_dashboard":return s.jsx(b8,{});case"supplier_dashboard":return s.jsx(x8,{});case"leads":return s.jsx(_8,{});case"subscribers_list":return s.jsx(j8,{});case"originators_list":return s.jsx(C8,{});case"suppliers_list":return s.jsx(O8,{});case"power_plants":return s.jsx(IZ,{});case"consumer_units":return s.jsx(LZ,{});case"invoices":return s.jsx($Z,{});case"billing":return s.jsx(qZ,{});case"settings":return s.jsx(WZ,{});default:return s.jsxs("div",{style:{padding:"2rem"},children:[s.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),s.jsx("p",{children:"Selecione uma opo no menu."})]})}};return s.jsxs("div",{className:"dashboard-container",children:[s.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:s.jsx(L6,{size:24})}),i&&s.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),s.jsxs("aside",{className:`sidebar ${i?"open":""} ${l?"collapsed":""}`,children:[s.jsxs("div",{className:"sidebar-header",style:{justifyContent:l?"center":"space-between"},children:[!l&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),s.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),s.jsx("button",{onClick:()=>c(!l),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:l?s.jsx(s6,{size:20}):s.jsx(i6,{size:20})})]}),s.jsx("nav",{style:{flex:1,overflowY:"auto"},children:s.jsx("ul",{style:{listStyle:"none"},children:f.map(v=>{const w=v.icon;return s.jsx("li",{style:{marginBottom:"0.25rem"},children:s.jsxs("button",{onClick:()=>{a(v.id),o(!1)},title:l?v.label:"",className:`sidebar-link ${n===v.id?"active":""}`,style:{justifyContent:l?"center":"flex-start"},children:[s.jsx(w,{size:20,style:{marginRight:l?0:"0.75rem",flexShrink:0}}),!l&&s.jsx("span",{children:v.label})]})},v.id)})})}),s.jsxs("div",{className:"sidebar-footer",children:[!l&&s.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[s.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),s.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),s.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:l?"center":"flex-start"},children:[s.jsx(M6,{size:20,style:{marginRight:l?0:"0.5rem"}}),!l&&s.jsx("span",{children:"Sair"})]})]})]}),s.jsx("main",{className:"main-content",children:h()})]})}function VZ(){const[e]=Ty(),t=Fa(),r=e.get("id"),[n,a]=x.useState("simulation"),[i,o]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,v]=x.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),w=async()=>{if(m.cep.length>=8)try{o(!0);const p=await Qr(m.cep);if(v(b=>({...b,rua:p.rua||"",bairro:p.bairro||"",cidade:p.cidade||"",uf:p.uf||""})),p.ibge){const b=await cc(p.ibge);d(b)}}catch(p){console.error(p),alert("Erro ao buscar CEP")}finally{o(!1)}},y=async p=>{if(p.preventDefault(),!ki(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const b=u&&u["Tarifa Concessionaria"]||.85,_=u&&u["Desconto Assinante"]||.1,j=parseFloat(m.consumo)*b,S=j*_;c({contaAtual:j,economiaMensal:S,anual:S*12});const{data:C,error:E}=await B.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:b,desconto_assinante:_,originator_id:r,status:"indicado"}).select().single();if(E)throw E;h(C.id),a("signup")}catch(b){alert("Erro na simulao: "+b.message)}finally{o(!1)}},g=async p=>{if(p.preventDefault(),!hc(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!ki(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:b,error:_}=await B.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(_)throw _;const{error:j}=await B.from("consumer_units").insert({subscriber_id:b.id,numero_uc:m.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(j)throw j;f&&await B.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(b){alert("Erro ao finalizar cadastro: "+b.message)}finally{o(!1)}};return s.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:s.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),s.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?s.jsxs("form",{onSubmit:y,children:[s.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),s.jsx("input",{value:m.cep,onChange:p=>v({...m,cep:p.target.value}),onBlur:w,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&s.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,u&&s.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),s.jsx("input",{value:m.nome,onChange:p=>v({...m,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),s.jsx("input",{type:"email",value:m.email,onChange:p=>v({...m,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),s.jsx("input",{value:m.telefone,onChange:p=>v({...m,telefone:Ai(p.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),s.jsx("input",{type:"number",value:m.consumo,onChange:p=>v({...m,consumo:p.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):s.jsxs("form",{onSubmit:g,children:[l&&s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[s.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),s.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",l.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),s.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),s.jsx("input",{value:m.cpf_cnpj,onChange:p=>v({...m,cpf_cnpj:fc(p.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),s.jsx("input",{value:m.nome,onChange:p=>v({...m,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),s.jsx("input",{type:"email",value:m.email,onChange:p=>v({...m,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),s.jsx("input",{value:m.telefone,onChange:p=>v({...m,telefone:Ai(p.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),s.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),s.jsxs("div",{style:{width:"100px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),s.jsx("input",{value:m.numero,onChange:p=>v({...m,numero:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),s.jsx("input",{value:m.numero_uc,onChange:p=>v({...m,numero_uc:p.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),s.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const GZ=()=>{const{user:e}=en();return e?s.jsx(l4,{}):s.jsx(NO,{to:"/login",replace:!0})};function KZ(){return s.jsx(m4,{children:s.jsx(a8,{children:s.jsx(g8,{children:s.jsxs(u4,{children:[s.jsx(nn,{path:"/login",element:s.jsx(q3,{})}),s.jsx(nn,{path:"/simulacao",element:s.jsx(o8,{})}),s.jsx(nn,{path:"/cadastro-parceiro",element:s.jsx(c8,{})}),s.jsx(nn,{path:"/assine",element:s.jsx(p8,{})}),s.jsx(nn,{path:"/originador",element:s.jsx(VZ,{})}),s.jsx(nn,{path:"/contrato",element:s.jsx(m8,{})}),s.jsx(nn,{element:s.jsx(GZ,{}),children:s.jsx(nn,{path:"/dashboard",element:s.jsx(FZ,{})})}),s.jsx(nn,{path:"/",element:s.jsx(NO,{to:"/login",replace:!0})})]})})})})}gD.createRoot(document.getElementById("root")).render(s.jsx(x.StrictMode,{children:s.jsx(KZ,{})}));
