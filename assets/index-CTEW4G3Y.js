var ZN=Object.defineProperty;var JN=(e,t,r)=>t in e?ZN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var $h=(e,t,r)=>JN(e,typeof t!="symbol"?t+"":t,r);function XS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Fn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ZS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var JS={exports:{}},df={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN=Symbol.for("react.transitional.element"),eR=Symbol.for("react.fragment");function QS(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:QN,type:e,key:n,ref:t!==void 0?t:null,props:r}}df.Fragment=eR;df.jsx=QS;df.jsxs=QS;JS.exports=df;var c=JS.exports,ej={exports:{}},Q={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=Symbol.for("react.transitional.element"),tR=Symbol.for("react.portal"),rR=Symbol.for("react.fragment"),nR=Symbol.for("react.strict_mode"),aR=Symbol.for("react.profiler"),iR=Symbol.for("react.consumer"),oR=Symbol.for("react.context"),lR=Symbol.for("react.forward_ref"),sR=Symbol.for("react.suspense"),uR=Symbol.for("react.memo"),tj=Symbol.for("react.lazy"),cR=Symbol.for("react.activity"),vb=Symbol.iterator;function dR(e){return e===null||typeof e!="object"?null:(e=vb&&e[vb]||e["@@iterator"],typeof e=="function"?e:null)}var rj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nj=Object.assign,aj={};function tl(e,t,r){this.props=e,this.context=t,this.refs=aj,this.updater=r||rj}tl.prototype.isReactComponent={};tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ij(){}ij.prototype=tl.prototype;function mg(e,t,r){this.props=e,this.context=t,this.refs=aj,this.updater=r||rj}var pg=mg.prototype=new ij;pg.constructor=mg;nj(pg,tl.prototype);pg.isPureReactComponent=!0;var gb=Array.isArray;function np(){}var Te={H:null,A:null,T:null,S:null},oj=Object.prototype.hasOwnProperty;function vg(e,t,r){var n=r.ref;return{$$typeof:hg,type:e,key:t,ref:n!==void 0?n:null,props:r}}function fR(e,t){return vg(e.type,t,e.props)}function gg(e){return typeof e=="object"&&e!==null&&e.$$typeof===hg}function hR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yb=/\/+/g;function Ih(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hR(""+e.key):t.toString(36)}function mR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(np,np):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function eo(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hg:case tR:o=!0;break;case tj:return o=e._init,eo(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+Ih(e,0):n,gb(a)?(r="",o!=null&&(r=o.replace(yb,"$&/")+"/"),eo(a,t,r,"",function(u){return u})):a!=null&&(gg(a)&&(a=fR(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(yb,"$&/")+"/")+o)),t.push(a)),1;o=0;var l=n===""?".":n+":";if(gb(e))for(var s=0;s<e.length;s++)n=e[s],i=l+Ih(n,s),o+=eo(n,t,r,i,a);else if(s=dR(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=l+Ih(n,s++),o+=eo(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return eo(mR(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Au(e,t,r){if(e==null)return e;var n=[],a=0;return eo(e,n,"","",function(i){return t.call(r,i,a++)}),n}function pR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bb=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vR={map:Au,forEach:function(e,t,r){Au(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Au(e,function(){t++}),t},toArray:function(e){return Au(e,function(t){return t})||[]},only:function(e){if(!gg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Activity=cR;Q.Children=vR;Q.Component=tl;Q.Fragment=rR;Q.Profiler=aR;Q.PureComponent=mg;Q.StrictMode=nR;Q.Suspense=sR;Q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Te;Q.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Te.H.useMemoCache(e)}};Q.cache=function(e){return function(){return e.apply(null,arguments)}};Q.cacheSignal=function(){return null};Q.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=nj({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!oj.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];n.children=o}return vg(e.type,a,n)};Q.createContext=function(e){return e={$$typeof:oR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:iR,_context:e},e};Q.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)oj.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),s=0;s<o;s++)l[s]=arguments[s+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return vg(e,i,a)};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:lR,render:e}};Q.isValidElement=gg;Q.lazy=function(e){return{$$typeof:tj,_payload:{_status:-1,_result:e},_init:pR}};Q.memo=function(e,t){return{$$typeof:uR,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Te.T,r={};Te.T=r;try{var n=e(),a=Te.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(np,bb)}catch(i){bb(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Te.T=t}};Q.unstable_useCacheRefresh=function(){return Te.H.useCacheRefresh()};Q.use=function(e){return Te.H.use(e)};Q.useActionState=function(e,t,r){return Te.H.useActionState(e,t,r)};Q.useCallback=function(e,t){return Te.H.useCallback(e,t)};Q.useContext=function(e){return Te.H.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e,t){return Te.H.useDeferredValue(e,t)};Q.useEffect=function(e,t){return Te.H.useEffect(e,t)};Q.useEffectEvent=function(e){return Te.H.useEffectEvent(e)};Q.useId=function(){return Te.H.useId()};Q.useImperativeHandle=function(e,t,r){return Te.H.useImperativeHandle(e,t,r)};Q.useInsertionEffect=function(e,t){return Te.H.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Te.H.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Te.H.useMemo(e,t)};Q.useOptimistic=function(e,t){return Te.H.useOptimistic(e,t)};Q.useReducer=function(e,t,r){return Te.H.useReducer(e,t,r)};Q.useRef=function(e){return Te.H.useRef(e)};Q.useState=function(e){return Te.H.useState(e)};Q.useSyncExternalStore=function(e,t,r){return Te.H.useSyncExternalStore(e,t,r)};Q.useTransition=function(){return Te.H.useTransition()};Q.version="19.2.3";ej.exports=Q;var x=ej.exports;const gR=Fn(x),lj=XS({__proto__:null,default:gR},[x]);var sj={exports:{}},ff={},uj={exports:{}},cj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,L){var U=N.length;N.push(L);e:for(;0<U;){var H=U-1>>>1,X=N[H];if(0<a(X,L))N[H]=L,N[U]=X,U=H;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var L=N[0],U=N.pop();if(U!==L){N[0]=U;e:for(var H=0,X=N.length,et=X>>>1;H<et;){var Ke=2*(H+1)-1,M=N[Ke],q=Ke+1,te=N[q];if(0>a(M,U))q<X&&0>a(te,M)?(N[H]=te,N[q]=U,H=q):(N[H]=M,N[Ke]=U,H=Ke);else if(q<X&&0>a(te,U))N[H]=te,N[q]=U,H=q;else break e}}return L}function a(N,L){var U=N.sortIndex-L.sortIndex;return U!==0?U:N.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],u=[],d=1,f=null,h=3,m=!1,p=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function _(N){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=N)n(u),L.sortIndex=L.expirationTime,t(s,L);else break;L=r(u)}}function S(N){if(y=!1,_(N),!p)if(r(s)!==null)p=!0,j||(j=!0,C());else{var L=r(u);L!==null&&K(S,L.startTime-N)}}var j=!1,E=-1,O=5,A=-1;function k(){return g?!0:!(e.unstable_now()-A<O)}function T(){if(g=!1,j){var N=e.unstable_now();A=N;var L=!0;try{e:{p=!1,y&&(y=!1,v(E),E=-1),m=!0;var U=h;try{t:{for(_(N),f=r(s);f!==null&&!(f.expirationTime>N&&k());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var X=H(f.expirationTime<=N);if(N=e.unstable_now(),typeof X=="function"){f.callback=X,_(N),L=!0;break t}f===r(s)&&n(s),_(N)}else n(s);f=r(s)}if(f!==null)L=!0;else{var et=r(u);et!==null&&K(S,et.startTime-N),L=!1}}break e}finally{f=null,h=U,m=!1}L=void 0}}finally{L?C():j=!1}}}var C;if(typeof w=="function")C=function(){w(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,B=R.port2;R.port1.onmessage=T,C=function(){B.postMessage(null)}}else C=function(){b(T,0)};function K(N,L){E=b(function(){N(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var U=h;h=L;try{return N()}finally{h=U}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=h;h=N;try{return L()}finally{h=U}},e.unstable_scheduleCallback=function(N,L,U){var H=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,N){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=U+X,N={id:d++,callback:L,priorityLevel:N,startTime:U,expirationTime:X,sortIndex:-1},U>H?(N.sortIndex=U,t(u,N),r(s)===null&&N===r(u)&&(y?(v(E),E=-1):y=!0,K(S,U-H))):(N.sortIndex=X,t(s,N),p||m||(p=!0,j||(j=!0,C()))),N},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(N){var L=h;return function(){var U=h;h=L;try{return N.apply(this,arguments)}finally{h=U}}}})(cj);uj.exports=cj;var yR=uj.exports,dj={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR=x;function fj(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function aa(){}var Dt={d:{f:aa,r:function(){throw Error(fj(522))},D:aa,C:aa,L:aa,m:aa,X:aa,S:aa,M:aa},p:0,findDOMNode:null},xR=Symbol.for("react.portal");function wR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xR,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Vl=bR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function hf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;It.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(fj(299));return wR(e,t,null,r)};It.flushSync=function(e){var t=Vl.T,r=Dt.p;try{if(Vl.T=null,Dt.p=2,e)return e()}finally{Vl.T=t,Dt.p=r,Dt.d.f()}};It.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dt.d.C(e,t))};It.prefetchDNS=function(e){typeof e=="string"&&Dt.d.D(e)};It.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=hf(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Dt.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};It.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=hf(t.as,t.crossOrigin);Dt.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dt.d.M(e)};It.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=hf(r,t.crossOrigin);Dt.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};It.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=hf(t.as,t.crossOrigin);Dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dt.d.m(e)};It.requestFormReset=function(e){Dt.d.r(e)};It.unstable_batchedUpdates=function(e,t){return e(t)};It.useFormState=function(e,t,r){return Vl.H.useFormState(e,t,r)};It.useFormStatus=function(){return Vl.H.useHostTransitionStatus()};It.version="19.2.3";function hj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hj)}catch(e){console.error(e)}}hj(),dj.exports=It;var yg=dj.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=yR,mj=x,_R=yg;function D(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gj(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xb(e){if(Ks(e)!==e)throw Error(D(188))}function SR(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return xb(a),e;if(i===n)return xb(a),t;i=i.sibling}throw Error(D(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function yj(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=yj(e),t!==null)return t;e=e.sibling}return null}var ke=Object.assign,jR=Symbol.for("react.element"),Tu=Symbol.for("react.transitional.element"),$l=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),bj=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),xj=Symbol.for("react.consumer"),jn=Symbol.for("react.context"),bg=Symbol.for("react.forward_ref"),ip=Symbol.for("react.suspense"),op=Symbol.for("react.suspense_list"),xg=Symbol.for("react.memo"),la=Symbol.for("react.lazy"),lp=Symbol.for("react.activity"),ER=Symbol.for("react.memo_cache_sentinel"),wb=Symbol.iterator;function Sl(e){return e===null||typeof e!="object"?null:(e=wb&&e[wb]||e["@@iterator"],typeof e=="function"?e:null)}var OR=Symbol.for("react.client.reference");function sp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===OR?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oo:return"Fragment";case ap:return"Profiler";case bj:return"StrictMode";case ip:return"Suspense";case op:return"SuspenseList";case lp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $l:return"Portal";case jn:return e.displayName||"Context";case xj:return(e._context.displayName||"Context")+".Consumer";case bg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xg:return t=e.displayName||null,t!==null?t:sp(e.type)||"Memo";case la:t=e._payload,e=e._init;try{return sp(e(t))}catch{}}return null}var Il=Array.isArray,J=mj.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=_R.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,di={pending:!1,data:null,method:null,action:null},up=[],lo=-1;function dn(e){return{current:e}}function mt(e){0>lo||(e.current=up[lo],up[lo]=null,lo--)}function Ee(e,t){lo++,up[lo]=e.current,e.current=t}var on=dn(null),cs=dn(null),ja=dn(null),zc=dn(null);function Bc(e,t){switch(Ee(ja,t),Ee(cs,e),Ee(on,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cx(t),e=LO(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}mt(on),Ee(on,e)}function Po(){mt(on),mt(cs),mt(ja)}function cp(e){e.memoizedState!==null&&Ee(zc,e);var t=on.current,r=LO(t,e.type);t!==r&&(Ee(cs,e),Ee(on,r))}function $c(e){cs.current===e&&(mt(on),mt(cs)),zc.current===e&&(mt(zc),ws._currentValue=di)}var Lh,_b;function Xa(e){if(Lh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lh=t&&t[1]||"",_b=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lh+e+_b}var Uh=!1;function qh(e,t){if(!e||Uh)return"";Uh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var s=o.split(`
`),u=l.split(`
`);for(a=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===s.length||a===u.length)for(n=s.length-1,a=u.length-1;1<=n&&0<=a&&s[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(s[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||s[n]!==u[a]){var d=`
`+s[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{Uh=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Xa(r):""}function CR(e,t){switch(e.tag){case 26:case 27:case 5:return Xa(e.type);case 16:return Xa("Lazy");case 13:return e.child!==t&&t!==null?Xa("Suspense Fallback"):Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return qh(e.type,!1);case 11:return qh(e.type.render,!1);case 1:return qh(e.type,!0);case 31:return Xa("Activity");default:return""}}function Sb(e){try{var t="",r=null;do t+=CR(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var dp=Object.prototype.hasOwnProperty,wg=at.unstable_scheduleCallback,Hh=at.unstable_cancelCallback,AR=at.unstable_shouldYield,TR=at.unstable_requestPaint,cr=at.unstable_now,kR=at.unstable_getCurrentPriorityLevel,wj=at.unstable_ImmediatePriority,_j=at.unstable_UserBlockingPriority,Ic=at.unstable_NormalPriority,PR=at.unstable_LowPriority,Sj=at.unstable_IdlePriority,NR=at.log,RR=at.unstable_setDisableYieldValue,Vs=null,dr=null;function ga(e){if(typeof NR=="function"&&RR(e),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(Vs,e)}catch{}}var fr=Math.clz32?Math.clz32:zR,MR=Math.log,DR=Math.LN2;function zR(e){return e>>>=0,e===0?32:31-(MR(e)/DR|0)|0}var ku=256,Pu=262144,Nu=4194304;function Za(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mf(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~i,n!==0?a=Za(n):(o&=l,o!==0?a=Za(o):r||(r=l&~e,r!==0&&(a=Za(r))))):(l=n&~i,l!==0?a=Za(l):o!==0?a=Za(o):r||(r=n&~e,r!==0&&(a=Za(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Gs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function BR(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jj(){var e=Nu;return Nu<<=1,!(Nu&62914560)&&(Nu=4194304),e}function Wh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $R(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-fr(r),f=1<<d;l[d]=0,s[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&Ej(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function Ej(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function Oj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Cj(e,t){var r=t&-t;return r=r&42?1:_g(r),r&(e.suspendedLanes|t)?0:r}function _g(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sg(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Aj(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:ZO(e.type))}function jb(e,t){var r=fe.p;try{return fe.p=e,t()}finally{fe.p=r}}var Ia=Math.random().toString(36).slice(2),St="__reactFiber$"+Ia,Yt="__reactProps$"+Ia,rl="__reactContainer$"+Ia,fp="__reactEvents$"+Ia,IR="__reactListeners$"+Ia,LR="__reactHandles$"+Ia,Eb="__reactResources$"+Ia,Ys="__reactMarker$"+Ia;function jg(e){delete e[St],delete e[Yt],delete e[fp],delete e[IR],delete e[LR]}function so(e){var t=e[St];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rl]||r[St]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nx(e);e!==null;){if(r=e[St])return r;e=Nx(e)}return t}e=r,r=e.parentNode}return null}function nl(e){if(e=e[St]||e[rl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ll(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(D(33))}function wo(e){var t=e[Eb];return t||(t=e[Eb]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[Ys]=!0}var Tj=new Set,kj={};function Ni(e,t){No(e,t),No(e+"Capture",t)}function No(e,t){for(kj[e]=t,e=0;e<t.length;e++)Tj.add(t[e])}var UR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ob={},Cb={};function qR(e){return dp.call(Cb,e)?!0:dp.call(Ob,e)?!1:UR.test(e)?Cb[e]=!0:(Ob[e]=!0,!1)}function vc(e,t,r){if(qR(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Ru(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function hn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Sr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HR(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hp(e){if(!e._valueTracker){var t=Pj(e)?"checked":"value";e._valueTracker=HR(e,t,""+e[t])}}function Nj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Pj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Lc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var WR=/[\n"\\]/g;function Or(e){return e.replace(WR,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mp(e,t,r,n,a,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sr(t)):e.value!==""+Sr(t)&&(e.value=""+Sr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?pp(e,o,Sr(t)):r!=null?pp(e,o,Sr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Sr(l):e.removeAttribute("name")}function Rj(e,t,r,n,a,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){hp(e);return}r=r!=null?""+Sr(r):"",t=t!=null?""+Sr(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),hp(e)}function pp(e,t,r){t==="number"&&Lc(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function _o(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Mj(e,t,r){if(t!=null&&(t=""+Sr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Sr(r):""}function Dj(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(D(92));if(Il(n)){if(1<n.length)throw Error(D(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Sr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),hp(e)}function Ro(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var KR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ab(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||KR.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function zj(e,t,r){if(t!=null&&typeof t!="object")throw Error(D(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&Ab(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&Ab(e,i,t[i])}function Eg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),GR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gc(e){return GR.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var vp=null;function Og(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uo=null,So=null;function Tb(e){var t=nl(e);if(t&&(e=t.stateNode)){var r=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(mp(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Or(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Yt]||null;if(!a)throw Error(D(90));mp(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&Nj(n)}break e;case"textarea":Mj(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&_o(e,!!r.multiple,t,!1)}}}var Kh=!1;function Bj(e,t,r){if(Kh)return e(t,r);Kh=!0;try{var n=e(t);return n}finally{if(Kh=!1,(uo!==null||So!==null)&&(Of(),uo&&(t=uo,e=So,So=uo=null,Tb(t),e)))for(t=0;t<e.length;t++)Tb(e[t])}}function ds(e,t){var r=e.stateNode;if(r===null)return null;var n=r[Yt]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gp=!1;if(Mn)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){gp=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{gp=!1}var ya=null,Cg=null,yc=null;function $j(){if(yc)return yc;var e,t=Cg,r=t.length,n,a="value"in ya?ya.value:ya.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return yc=a.slice(e,1<n?1-n:void 0)}function bc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mu(){return!0}function kb(){return!1}function Xt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mu:kb,this.isPropagationStopped=kb,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),t}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=Xt(Ri),Xs=ke({},Ri,{view:0,detail:0}),FR=Xt(Xs),Vh,Gh,El,vf=ke({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ag,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==El&&(El&&e.type==="mousemove"?(Vh=e.screenX-El.screenX,Gh=e.screenY-El.screenY):Gh=Vh=0,El=e),Vh)},movementY:function(e){return"movementY"in e?e.movementY:Gh}}),Pb=Xt(vf),YR=ke({},vf,{dataTransfer:0}),XR=Xt(YR),ZR=ke({},Xs,{relatedTarget:0}),Fh=Xt(ZR),JR=ke({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),QR=Xt(JR),eM=ke({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tM=Xt(eM),rM=ke({},Ri,{data:0}),Nb=Xt(rM),nM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iM[e])?!!t[e]:!1}function Ag(){return oM}var lM=ke({},Xs,{key:function(e){if(e.key){var t=nM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ag,charCode:function(e){return e.type==="keypress"?bc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sM=Xt(lM),uM=ke({},vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rb=Xt(uM),cM=ke({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ag}),dM=Xt(cM),fM=ke({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),hM=Xt(fM),mM=ke({},vf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pM=Xt(mM),vM=ke({},Ri,{newState:0,oldState:0}),gM=Xt(vM),yM=[9,13,27,32],Tg=Mn&&"CompositionEvent"in window,Gl=null;Mn&&"documentMode"in document&&(Gl=document.documentMode);var bM=Mn&&"TextEvent"in window&&!Gl,Ij=Mn&&(!Tg||Gl&&8<Gl&&11>=Gl),Mb=" ",Db=!1;function Lj(e,t){switch(e){case"keyup":return yM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var co=!1;function xM(e,t){switch(e){case"compositionend":return Uj(t);case"keypress":return t.which!==32?null:(Db=!0,Mb);case"textInput":return e=t.data,e===Mb&&Db?null:e;default:return null}}function wM(e,t){if(co)return e==="compositionend"||!Tg&&Lj(e,t)?(e=$j(),yc=Cg=ya=null,co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ij&&t.locale!=="ko"?null:t.data;default:return null}}var _M={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_M[e.type]:t==="textarea"}function qj(e,t,r,n){uo?So?So.push(n):So=[n]:uo=n,t=ad(t,"onChange"),0<t.length&&(r=new pf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fl=null,fs=null;function SM(e){BO(e,0)}function gf(e){var t=Ll(e);if(Nj(t))return e}function Bb(e,t){if(e==="change")return t}var Hj=!1;if(Mn){var Yh;if(Mn){var Xh="oninput"in document;if(!Xh){var $b=document.createElement("div");$b.setAttribute("oninput","return;"),Xh=typeof $b.oninput=="function"}Yh=Xh}else Yh=!1;Hj=Yh&&(!document.documentMode||9<document.documentMode)}function Ib(){Fl&&(Fl.detachEvent("onpropertychange",Wj),fs=Fl=null)}function Wj(e){if(e.propertyName==="value"&&gf(fs)){var t=[];qj(t,fs,e,Og(e)),Bj(SM,t)}}function jM(e,t,r){e==="focusin"?(Ib(),Fl=t,fs=r,Fl.attachEvent("onpropertychange",Wj)):e==="focusout"&&Ib()}function EM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gf(fs)}function OM(e,t){if(e==="click")return gf(t)}function CM(e,t){if(e==="input"||e==="change")return gf(t)}function AM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:AM;function hs(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!dp.call(t,a)||!pr(e[a],t[a]))return!1}return!0}function Lb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ub(e,t){var r=Lb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lb(r)}}function Kj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vj(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Lc(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Lc(e.document)}return t}function kg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var TM=Mn&&"documentMode"in document&&11>=document.documentMode,fo=null,yp=null,Yl=null,bp=!1;function qb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bp||fo==null||fo!==Lc(n)||(n=fo,"selectionStart"in n&&kg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yl&&hs(Yl,n)||(Yl=n,n=ad(yp,"onSelect"),0<n.length&&(t=new pf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fo)))}function Ga(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ho={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},Zh={},Gj={};Mn&&(Gj=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Mi(e){if(Zh[e])return Zh[e];if(!ho[e])return e;var t=ho[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Gj)return Zh[e]=t[r];return e}var Fj=Mi("animationend"),Yj=Mi("animationiteration"),Xj=Mi("animationstart"),kM=Mi("transitionrun"),PM=Mi("transitionstart"),NM=Mi("transitioncancel"),Zj=Mi("transitionend"),Jj=new Map,xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xp.push("scrollEnd");function Zr(e,t){Jj.set(e,t),Ni(t,[e])}var Uc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_r=[],mo=0,Pg=0;function yf(){for(var e=mo,t=Pg=mo=0;t<e;){var r=_r[t];_r[t++]=null;var n=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&Qj(r,a,i)}}function bf(e,t,r,n){_r[mo++]=e,_r[mo++]=t,_r[mo++]=r,_r[mo++]=n,Pg|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Ng(e,t,r,n){return bf(e,t,r,n),qc(e)}function Di(e,t){return bf(e,null,null,t),qc(e)}function Qj(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-fr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function qc(e){if(50<as)throw as=0,Up=null,Error(D(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var po={};function RM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new RM(e,t,r,n)}function Rg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function eE(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xc(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")Rg(e)&&(o=1);else if(typeof e=="string")o=$D(e,r,on.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case lp:return e=ar(31,r,t,a),e.elementType=lp,e.lanes=i,e;case oo:return fi(r.children,a,i,t);case bj:o=8,a|=24;break;case ap:return e=ar(12,r,t,a|2),e.elementType=ap,e.lanes=i,e;case ip:return e=ar(13,r,t,a),e.elementType=ip,e.lanes=i,e;case op:return e=ar(19,r,t,a),e.elementType=op,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jn:o=10;break e;case xj:o=9;break e;case bg:o=11;break e;case xg:o=14;break e;case la:o=16,n=null;break e}o=29,r=Error(D(130,e===null?"null":typeof e,"")),n=null}return t=ar(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function fi(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function Jh(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function tE(e){var t=ar(18,null,null,0);return t.stateNode=e,t}function Qh(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hb=new WeakMap;function Cr(e,t){if(typeof e=="object"&&e!==null){var r=Hb.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Sb(t)},Hb.set(e,t),t)}return{value:e,source:t,stack:Sb(t)}}var vo=[],go=0,Hc=null,ms=0,jr=[],Er=0,Ma=null,tn=1,rn="";function bn(e,t){vo[go++]=ms,vo[go++]=Hc,Hc=e,ms=t}function rE(e,t,r){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Ma,Ma=e;var n=tn;e=rn;var a=32-fr(n)-1;n&=~(1<<a),r+=1;var i=32-fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,tn=1<<32-fr(t)+a|r<<a|n,rn=i+e}else tn=1<<i|r<<a|n,rn=e}function Mg(e){e.return!==null&&(bn(e,1),rE(e,1,0))}function Dg(e){for(;e===Hc;)Hc=vo[--go],vo[go]=null,ms=vo[--go],vo[go]=null;for(;e===Ma;)Ma=jr[--Er],jr[Er]=null,rn=jr[--Er],jr[Er]=null,tn=jr[--Er],jr[Er]=null}function nE(e,t){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Ma,tn=t.id,rn=t.overflow,Ma=e}var jt=null,Ae=null,le=!1,Ea=null,Ar=!1,wp=Error(D(519));function Da(e){var t=Error(D(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ps(Cr(t,e)),wp}function Wb(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[St]=e,t[Yt]=n,r){case"dialog":re("cancel",t),re("close",t);break;case"iframe":case"object":case"embed":re("load",t);break;case"video":case"audio":for(r=0;r<bs.length;r++)re(bs[r],t);break;case"source":re("error",t);break;case"img":case"image":case"link":re("error",t),re("load",t);break;case"details":re("toggle",t);break;case"input":re("invalid",t),Rj(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":re("invalid",t);break;case"textarea":re("invalid",t),Dj(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||IO(t.textContent,r)?(n.popover!=null&&(re("beforetoggle",t),re("toggle",t)),n.onScroll!=null&&re("scroll",t),n.onScrollEnd!=null&&re("scrollend",t),n.onClick!=null&&(t.onclick=En),t=!0):t=!1,t||Da(e,!0)}function Kb(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:jt=jt.return}}function Wi(e){if(e!==jt)return!1;if(!le)return Kb(e),le=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Vp(e.type,e.memoizedProps)),r=!r),r&&Ae&&Da(e),Kb(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Ae=Px(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Ae=Px(e)}else t===27?(t=Ae,La(e.type)?(e=Xp,Xp=null,Ae=e):Ae=t):Ae=jt?Pr(e.stateNode.nextSibling):null;return!0}function xi(){Ae=jt=null,le=!1}function em(){var e=Ea;return e!==null&&(Kt===null?Kt=e:Kt.push.apply(Kt,e),Ea=null),e}function ps(e){Ea===null?Ea=[e]:Ea.push(e)}var _p=dn(null),zi=null,On=null;function da(e,t,r){Ee(_p,t._currentValue),t._currentValue=r}function kn(e){e._currentValue=_p.current,mt(_p)}function Sp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jp(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=a;for(var s=0;s<t.length;s++)if(l.context===t[s]){i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Sp(i.return,r,e),n||(o=null);break e}i=l.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(D(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Sp(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function al(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(D(387));if(o=o.memoizedProps,o!==null){var l=a.type;pr(a.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(a===zc.current){if(o=a.alternate,o===null)throw Error(D(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(ws):e=[ws])}a=a.return}e!==null&&jp(t,e,r,n),t.flags|=262144}function Wc(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){zi=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return aE(zi,e)}function Du(e,t){return zi===null&&wi(e),aE(e,t)}function aE(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},On===null){if(e===null)throw Error(D(308));On=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else On=On.next=t;return r}var MM=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},DM=at.unstable_scheduleCallback,zM=at.unstable_NormalPriority,Xe={$$typeof:jn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zg(){return{controller:new MM,data:new Map,refCount:0}}function Zs(e){e.refCount--,e.refCount===0&&DM(zM,function(){e.controller.abort()})}var Xl=null,Ep=0,Mo=0,jo=null;function BM(e,t){if(Xl===null){var r=Xl=[];Ep=0,Mo=ly(),jo={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Ep++,t.then(Vb,Vb),t}function Vb(){if(--Ep===0&&Xl!==null){jo!==null&&(jo.status="fulfilled");var e=Xl;Xl=null,Mo=0,jo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $M(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var Gb=J.S;J.S=function(e,t){yO=cr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&BM(e,t),Gb!==null&&Gb(e,t)};var hi=dn(null);function Bg(){var e=hi.current;return e!==null?e:xe.pooledCache}function wc(e,t){t===null?Ee(hi,hi.current):Ee(hi,t.pool)}function iE(){var e=Bg();return e===null?null:{parent:Xe._currentValue,pool:e}}var il=Error(D(460)),$g=Error(D(474)),xf=Error(D(542)),Kc={then:function(){}};function Fb(e){return e=e.status,e==="fulfilled"||e==="rejected"}function oE(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(En,En),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xb(e),e;default:if(typeof t.status=="string")t.then(En,En);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(D(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xb(e),e}throw mi=t,il}}function Ja(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(mi=r,il):r}}var mi=null;function Yb(){if(mi===null)throw Error(D(459));var e=mi;return mi=null,e}function Xb(e){if(e===il||e===xf)throw Error(D(483))}var Eo=null,vs=0;function zu(e){var t=vs;return vs+=1,Eo===null&&(Eo=[]),oE(Eo,e,t)}function Ol(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bu(e,t){throw t.$$typeof===jR?Error(D(525)):(e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lE(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(b,v){return b=Tn(b,v),b.index=0,b.sibling=null,b}function i(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=67108866,v):w):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,v,w,_){return v===null||v.tag!==6?(v=Jh(w,b.mode,_),v.return=b,v):(v=a(v,w),v.return=b,v)}function s(b,v,w,_){var S=w.type;return S===oo?d(b,v,w.props.children,_,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===la&&Ja(S)===v.type)?(v=a(v,w.props),Ol(v,w),v.return=b,v):(v=xc(w.type,w.key,w.props,null,b.mode,_),Ol(v,w),v.return=b,v)}function u(b,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Qh(w,b.mode,_),v.return=b,v):(v=a(v,w.children||[]),v.return=b,v)}function d(b,v,w,_,S){return v===null||v.tag!==7?(v=fi(w,b.mode,_,S),v.return=b,v):(v=a(v,w),v.return=b,v)}function f(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Jh(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Tu:return w=xc(v.type,v.key,v.props,null,b.mode,w),Ol(w,v),w.return=b,w;case $l:return v=Qh(v,b.mode,w),v.return=b,v;case la:return v=Ja(v),f(b,v,w)}if(Il(v)||Sl(v))return v=fi(v,b.mode,w,null),v.return=b,v;if(typeof v.then=="function")return f(b,zu(v),w);if(v.$$typeof===jn)return f(b,Du(b,v),w);Bu(b,v)}return null}function h(b,v,w,_){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return S!==null?null:l(b,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tu:return w.key===S?s(b,v,w,_):null;case $l:return w.key===S?u(b,v,w,_):null;case la:return w=Ja(w),h(b,v,w,_)}if(Il(w)||Sl(w))return S!==null?null:d(b,v,w,_,null);if(typeof w.then=="function")return h(b,v,zu(w),_);if(w.$$typeof===jn)return h(b,v,Du(b,w),_);Bu(b,w)}return null}function m(b,v,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return b=b.get(w)||null,l(v,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tu:return b=b.get(_.key===null?w:_.key)||null,s(v,b,_,S);case $l:return b=b.get(_.key===null?w:_.key)||null,u(v,b,_,S);case la:return _=Ja(_),m(b,v,w,_,S)}if(Il(_)||Sl(_))return b=b.get(w)||null,d(v,b,_,S,null);if(typeof _.then=="function")return m(b,v,w,zu(_),S);if(_.$$typeof===jn)return m(b,v,w,Du(v,_),S);Bu(v,_)}return null}function p(b,v,w,_){for(var S=null,j=null,E=v,O=v=0,A=null;E!==null&&O<w.length;O++){E.index>O?(A=E,E=null):A=E.sibling;var k=h(b,E,w[O],_);if(k===null){E===null&&(E=A);break}e&&E&&k.alternate===null&&t(b,E),v=i(k,v,O),j===null?S=k:j.sibling=k,j=k,E=A}if(O===w.length)return r(b,E),le&&bn(b,O),S;if(E===null){for(;O<w.length;O++)E=f(b,w[O],_),E!==null&&(v=i(E,v,O),j===null?S=E:j.sibling=E,j=E);return le&&bn(b,O),S}for(E=n(E);O<w.length;O++)A=m(E,b,O,w[O],_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?O:A.key),v=i(A,v,O),j===null?S=A:j.sibling=A,j=A);return e&&E.forEach(function(T){return t(b,T)}),le&&bn(b,O),S}function y(b,v,w,_){if(w==null)throw Error(D(151));for(var S=null,j=null,E=v,O=v=0,A=null,k=w.next();E!==null&&!k.done;O++,k=w.next()){E.index>O?(A=E,E=null):A=E.sibling;var T=h(b,E,k.value,_);if(T===null){E===null&&(E=A);break}e&&E&&T.alternate===null&&t(b,E),v=i(T,v,O),j===null?S=T:j.sibling=T,j=T,E=A}if(k.done)return r(b,E),le&&bn(b,O),S;if(E===null){for(;!k.done;O++,k=w.next())k=f(b,k.value,_),k!==null&&(v=i(k,v,O),j===null?S=k:j.sibling=k,j=k);return le&&bn(b,O),S}for(E=n(E);!k.done;O++,k=w.next())k=m(E,b,O,k.value,_),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?O:k.key),v=i(k,v,O),j===null?S=k:j.sibling=k,j=k);return e&&E.forEach(function(C){return t(b,C)}),le&&bn(b,O),S}function g(b,v,w,_){if(typeof w=="object"&&w!==null&&w.type===oo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Tu:e:{for(var S=w.key;v!==null;){if(v.key===S){if(S=w.type,S===oo){if(v.tag===7){r(b,v.sibling),_=a(v,w.props.children),_.return=b,b=_;break e}}else if(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===la&&Ja(S)===v.type){r(b,v.sibling),_=a(v,w.props),Ol(_,w),_.return=b,b=_;break e}r(b,v);break}else t(b,v);v=v.sibling}w.type===oo?(_=fi(w.props.children,b.mode,_,w.key),_.return=b,b=_):(_=xc(w.type,w.key,w.props,null,b.mode,_),Ol(_,w),_.return=b,b=_)}return o(b);case $l:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(b,v.sibling),_=a(v,w.children||[]),_.return=b,b=_;break e}else{r(b,v);break}else t(b,v);v=v.sibling}_=Qh(w,b.mode,_),_.return=b,b=_}return o(b);case la:return w=Ja(w),g(b,v,w,_)}if(Il(w))return p(b,v,w,_);if(Sl(w)){if(S=Sl(w),typeof S!="function")throw Error(D(150));return w=S.call(w),y(b,v,w,_)}if(typeof w.then=="function")return g(b,v,zu(w),_);if(w.$$typeof===jn)return g(b,v,Du(b,w),_);Bu(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(r(b,v.sibling),_=a(v,w),_.return=b,b=_):(r(b,v),_=Jh(w,b.mode,_),_.return=b,b=_),o(b)):r(b,v)}return function(b,v,w,_){try{vs=0;var S=g(b,v,w,_);return Eo=null,S}catch(E){if(E===il||E===xf)throw E;var j=ar(29,E,null,b.mode);return j.lanes=_,j.return=b,j}finally{}}}var _i=lE(!0),sE=lE(!1),sa=!1;function Ig(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Op(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,de&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=qc(e),Qj(e,null,r),t}return bf(e,n,t,r),qc(e)}function Zl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oj(e,r)}}function tm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Cp=!1;function Jl(){if(Cp){var e=jo;if(e!==null)throw e}}function Ql(e,t,r,n){Cp=!1;var a=e.updateQueue;sa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,u=s.next;s.next=null,o===null?i=u:o.next=u,o=s;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=s))}if(i!==null){var f=a.baseState;o=0,d=u=s=null,l=i;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(oe&h)===h:(n&h)===h){h!==0&&h===Mo&&(Cp=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,y=l;h=t;var g=r;switch(y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(g,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(g,f,h):p,h==null)break e;f=ke({},f,h);break e;case 2:sa=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,s=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(s=f),a.baseState=s,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),Ba|=o,e.lanes=o,e.memoizedState=f}}function uE(e,t){if(typeof e!="function")throw Error(D(191,e));e.call(t)}function cE(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)uE(r[e],t)}var Do=dn(null),Vc=dn(0);function Zb(e,t){e=$n,Ee(Vc,e),Ee(Do,t),$n=e|t.baseLanes}function Ap(){Ee(Vc,$n),Ee(Do,Do.current)}function Lg(){$n=Vc.current,mt(Do),mt(Vc)}var vr=dn(null),kr=null;function fa(e){var t=e.alternate;Ee(qe,qe.current&1),Ee(vr,e),kr===null&&(t===null||Do.current!==null||t.memoizedState!==null)&&(kr=e)}function Tp(e){Ee(qe,qe.current),Ee(vr,e),kr===null&&(kr=e)}function dE(e){e.tag===22?(Ee(qe,qe.current),Ee(vr,e),kr===null&&(kr=e)):ha()}function ha(){Ee(qe,qe.current),Ee(vr,vr.current)}function nr(e){mt(vr),kr===e&&(kr=null),mt(qe)}var qe=dn(0);function Gc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Fp(r)||Yp(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dn=0,ee=null,ye=null,Fe=null,Fc=!1,Oo=!1,Si=!1,Yc=0,gs=0,Co=null,IM=0;function $e(){throw Error(D(321))}function Ug(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pr(e[r],t[r]))return!1;return!0}function qg(e,t,r,n,a,i){return Dn=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?qE:Qg,Si=!1,i=r(n,a),Si=!1,Oo&&(i=hE(t,r,n,a)),fE(e),i}function fE(e){J.H=ys;var t=ye!==null&&ye.next!==null;if(Dn=0,Fe=ye=ee=null,Fc=!1,gs=0,Co=null,t)throw Error(D(300));e===null||Ze||(e=e.dependencies,e!==null&&Wc(e)&&(Ze=!0))}function hE(e,t,r,n){ee=e;var a=0;do{if(Oo&&(Co=null),gs=0,Oo=!1,25<=a)throw Error(D(301));if(a+=1,Fe=ye=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}J.H=HE,i=t(r,n)}while(Oo);return i}function LM(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?Js(t):t,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(ee.flags|=1024),t}function Hg(){var e=Yc!==0;return Yc=0,e}function Wg(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Kg(e){if(Fc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fc=!1}Dn=0,Fe=ye=ee=null,Oo=!1,gs=Yc=0,Co=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ee.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function He(){if(ye===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=Fe===null?ee.memoizedState:Fe.next;if(t!==null)Fe=t,ye=e;else{if(e===null)throw ee.alternate===null?Error(D(467)):Error(D(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Fe===null?ee.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Js(e){var t=gs;return gs+=1,Co===null&&(Co=[]),e=oE(Co,e,t),t=ee,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?qE:Qg),e}function _f(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Js(e);if(e.$$typeof===jn)return Et(e)}throw Error(D(438,String(e)))}function Vg(e){var t=null,r=ee.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=ee.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=wf(),ee.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=ER;return t.index++,r}function zn(e,t){return typeof t=="function"?t(e):t}function _c(e){var t=He();return Gg(t,ye,e)}function Gg(e,t,r){var n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var l=o=null,s=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(oe&f)===f:(Dn&f)===f){var h=u.revertLane;if(h===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Mo&&(d=!0);else if((Dn&h)===h){u=u.next,h===Mo&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(l=s=f,o=i):s=s.next=f,ee.lanes|=h,Ba|=h;f=u.action,Si&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(l=s=h,o=i):s=s.next=h,ee.lanes|=f,Ba|=f;u=u.next}while(u!==null&&u!==t);if(s===null?o=i:s.next=l,!pr(i,e.memoizedState)&&(Ze=!0,d&&(r=jo,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=s,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function rm(e){var t=He(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pr(i,t.memoizedState)||(Ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function mE(e,t,r){var n=ee,a=He(),i=le;if(i){if(r===void 0)throw Error(D(407));r=r()}else r=t();var o=!pr((ye||a).memoizedState,r);if(o&&(a.memoizedState=r,Ze=!0),a=a.queue,Fg(gE.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,zo(9,{destroy:void 0},vE.bind(null,n,a,r,t),null),xe===null)throw Error(D(349));i||Dn&127||pE(n,t,r)}return r}function pE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t=wf(),ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vE(e,t,r,n){t.value=r,t.getSnapshot=n,yE(t)&&bE(e)}function gE(e,t,r){return r(function(){yE(t)&&bE(e)})}function yE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pr(e,r)}catch{return!0}}function bE(e){var t=Di(e,2);t!==null&&Ft(t,e,2)}function kp(e){var t=Nt();if(typeof e=="function"){var r=e;if(e=r(),Si){ga(!0);try{r()}finally{ga(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},t}function xE(e,t,r,n){return e.baseState=r,Gg(e,ye,typeof n=="function"?n:zn)}function UM(e,t,r,n,a){if(jf(e))throw Error(D(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};J.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,wE(t,i)):(i.next=r.next,t.pending=r.next=i)}}function wE(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=J.T,o={};J.T=o;try{var l=r(a,n),s=J.S;s!==null&&s(o,l),Jb(e,t,l)}catch(u){Pp(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),J.T=i}}else try{i=r(a,n),Jb(e,t,i)}catch(u){Pp(e,t,u)}}function Jb(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){Qb(e,t,n)},function(n){return Pp(e,t,n)}):Qb(e,t,r)}function Qb(e,t,r){t.status="fulfilled",t.value=r,_E(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,wE(e,r)))}function Pp(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,_E(t),t=t.next;while(t!==n)}e.action=null}function _E(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function SE(e,t){return t}function ex(e,t){if(le){var r=xe.formState;if(r!==null){e:{var n=ee;if(le){if(Ae){t:{for(var a=Ae,i=Ar;a.nodeType!==8;){if(!i){a=null;break t}if(a=Pr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ae=Pr(a.nextSibling),n=a.data==="F!";break e}}Da(n)}n=!1}n&&(t=r[0])}}return r=Nt(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SE,lastRenderedState:t},r.queue=n,r=IE.bind(null,ee,n),n.dispatch=r,n=kp(!1),i=Jg.bind(null,ee,!1,n.queue),n=Nt(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=UM.bind(null,ee,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function tx(e){var t=He();return jE(t,ye,e)}function jE(e,t,r){if(t=Gg(e,t,SE)[0],e=_c(zn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Js(t)}catch(o){throw o===il?xf:o}else n=t;t=He();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(ee.flags|=2048,zo(9,{destroy:void 0},qM.bind(null,a,r),null)),[n,i,e]}function qM(e,t){e.action=t}function rx(e){var t=He(),r=ye;if(r!==null)return jE(t,r,e);He(),t=t.memoizedState,r=He();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function zo(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=ee.updateQueue,t===null&&(t=wf(),ee.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function EE(){return He().memoizedState}function Sc(e,t,r,n){var a=Nt();ee.flags|=e,a.memoizedState=zo(1|t,{destroy:void 0},r,n===void 0?null:n)}function Sf(e,t,r,n){var a=He();n=n===void 0?null:n;var i=a.memoizedState.inst;ye!==null&&n!==null&&Ug(n,ye.memoizedState.deps)?a.memoizedState=zo(t,i,r,n):(ee.flags|=e,a.memoizedState=zo(1|t,i,r,n))}function nx(e,t){Sc(8390656,8,e,t)}function Fg(e,t){Sf(2048,8,e,t)}function HM(e){ee.flags|=4;var t=ee.updateQueue;if(t===null)t=wf(),ee.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function OE(e){var t=He().memoizedState;return HM({ref:t,nextImpl:e}),function(){if(de&2)throw Error(D(440));return t.impl.apply(void 0,arguments)}}function CE(e,t){return Sf(4,2,e,t)}function AE(e,t){return Sf(4,4,e,t)}function TE(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kE(e,t,r){r=r!=null?r.concat([e]):null,Sf(4,4,TE.bind(null,t,e),r)}function Yg(){}function PE(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&Ug(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function NE(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&Ug(t,n[1]))return n[0];if(n=e(),Si){ga(!0);try{e()}finally{ga(!1)}}return r.memoizedState=[n,t],n}function Xg(e,t,r){return r===void 0||Dn&1073741824&&!(oe&261930)?e.memoizedState=t:(e.memoizedState=r,e=xO(),ee.lanes|=e,Ba|=e,r)}function RE(e,t,r,n){return pr(r,t)?r:Do.current!==null?(e=Xg(e,r,n),pr(e,t)||(Ze=!0),e):!(Dn&42)||Dn&1073741824&&!(oe&261930)?(Ze=!0,e.memoizedState=r):(e=xO(),ee.lanes|=e,Ba|=e,t)}function ME(e,t,r,n,a){var i=fe.p;fe.p=i!==0&&8>i?i:8;var o=J.T,l={};J.T=l,Jg(e,!1,t,r);try{var s=a(),u=J.S;if(u!==null&&u(l,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var d=$M(s,n);es(e,t,d,hr(e))}else es(e,t,n,hr(e))}catch(f){es(e,t,{then:function(){},status:"rejected",reason:f},hr())}finally{fe.p=i,o!==null&&l.types!==null&&(o.types=l.types),J.T=o}}function WM(){}function Np(e,t,r,n){if(e.tag!==5)throw Error(D(476));var a=DE(e).queue;ME(e,a,t,di,r===null?WM:function(){return zE(e),r(n)})}function DE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:di,baseState:di,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:di},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zE(e){var t=DE(e);t.next===null&&(t=e.alternate.memoizedState),es(e,t.next.queue,{},hr())}function Zg(){return Et(ws)}function BE(){return He().memoizedState}function $E(){return He().memoizedState}function KM(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hr();e=Oa(r);var n=Ca(t,e,r);n!==null&&(Ft(n,t,r),Zl(n,t,r)),t={cache:zg()},e.payload=t;return}t=t.return}}function VM(e,t,r){var n=hr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},jf(e)?LE(t,r):(r=Ng(e,t,r,n),r!==null&&(Ft(r,e,n),UE(r,t,n)))}function IE(e,t,r){var n=hr();es(e,t,r,n)}function es(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(jf(e))LE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,pr(l,o))return bf(e,t,a,0),xe===null&&yf(),!1}catch{}finally{}if(r=Ng(e,t,a,n),r!==null)return Ft(r,e,n),UE(r,t,n),!0}return!1}function Jg(e,t,r,n){if(n={lane:2,revertLane:ly(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},jf(e)){if(t)throw Error(D(479))}else t=Ng(e,r,n,2),t!==null&&Ft(t,e,2)}function jf(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function LE(e,t){Oo=Fc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function UE(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oj(e,r)}}var ys={readContext:Et,use:_f,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};ys.useEffectEvent=$e;var qE={readContext:Et,use:_f,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:nx,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Sc(4194308,4,TE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sc(4194308,4,e,t)},useInsertionEffect:function(e,t){Sc(4,2,e,t)},useMemo:function(e,t){var r=Nt();t=t===void 0?null:t;var n=e();if(Si){ga(!0);try{e()}finally{ga(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Nt();if(r!==void 0){var a=r(t);if(Si){ga(!0);try{r(t)}finally{ga(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=VM.bind(null,ee,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=kp(e);var t=e.queue,r=IE.bind(null,ee,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Yg,useDeferredValue:function(e,t){var r=Nt();return Xg(r,e,t)},useTransition:function(){var e=kp(!1);return e=ME.bind(null,ee,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=ee,a=Nt();if(le){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),xe===null)throw Error(D(349));oe&127||pE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,nx(gE.bind(null,n,i,e),[e]),n.flags|=2048,zo(9,{destroy:void 0},vE.bind(null,n,i,r,t),null),r},useId:function(){var e=Nt(),t=xe.identifierPrefix;if(le){var r=rn,n=tn;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Yc++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=IM++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Zg,useFormState:ex,useActionState:ex,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Jg.bind(null,ee,!0,r),r.dispatch=t,[e,t]},useMemoCache:Vg,useCacheRefresh:function(){return Nt().memoizedState=KM.bind(null,ee)},useEffectEvent:function(e){var t=Nt(),r={impl:e};return t.memoizedState=r,function(){if(de&2)throw Error(D(440));return r.impl.apply(void 0,arguments)}}},Qg={readContext:Et,use:_f,useCallback:PE,useContext:Et,useEffect:Fg,useImperativeHandle:kE,useInsertionEffect:CE,useLayoutEffect:AE,useMemo:NE,useReducer:_c,useRef:EE,useState:function(){return _c(zn)},useDebugValue:Yg,useDeferredValue:function(e,t){var r=He();return RE(r,ye.memoizedState,e,t)},useTransition:function(){var e=_c(zn)[0],t=He().memoizedState;return[typeof e=="boolean"?e:Js(e),t]},useSyncExternalStore:mE,useId:BE,useHostTransitionStatus:Zg,useFormState:tx,useActionState:tx,useOptimistic:function(e,t){var r=He();return xE(r,ye,e,t)},useMemoCache:Vg,useCacheRefresh:$E};Qg.useEffectEvent=OE;var HE={readContext:Et,use:_f,useCallback:PE,useContext:Et,useEffect:Fg,useImperativeHandle:kE,useInsertionEffect:CE,useLayoutEffect:AE,useMemo:NE,useReducer:rm,useRef:EE,useState:function(){return rm(zn)},useDebugValue:Yg,useDeferredValue:function(e,t){var r=He();return ye===null?Xg(r,e,t):RE(r,ye.memoizedState,e,t)},useTransition:function(){var e=rm(zn)[0],t=He().memoizedState;return[typeof e=="boolean"?e:Js(e),t]},useSyncExternalStore:mE,useId:BE,useHostTransitionStatus:Zg,useFormState:rx,useActionState:rx,useOptimistic:function(e,t){var r=He();return ye!==null?xE(r,ye,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Vg,useCacheRefresh:$E};HE.useEffectEvent=OE;function nm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rp={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Oa(n);a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,n),t!==null&&(Ft(t,e,n),Zl(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Oa(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,n),t!==null&&(Ft(t,e,n),Zl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Oa(r);n.tag=2,t!=null&&(n.callback=t),t=Ca(e,n,r),t!==null&&(Ft(t,e,r),Zl(t,e,r))}};function ax(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!hs(r,n)||!hs(a,i):!0}function ix(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rp.enqueueReplaceState(t,t.state,null)}function ji(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=ke({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function WE(e){Uc(e)}function KE(e){console.error(e)}function VE(e){Uc(e)}function Xc(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ox(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Mp(e,t,r){return r=Oa(r),r.tag=3,r.payload={element:null},r.callback=function(){Xc(e,t)},r}function GE(e){return e=Oa(e),e.tag=3,e}function FE(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){ox(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){ox(t,r,n),typeof a!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function GM(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&al(t,r,a,!0),r=vr.current,r!==null){switch(r.tag){case 31:case 13:return kr===null?td():r.alternate===null&&Le===0&&(Le=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Kc?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),mm(e,n,a)),!1;case 22:return r.flags|=65536,n===Kc?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),mm(e,n,a)),!1}throw Error(D(435,r.tag))}return mm(e,n,a),td(),!1}if(le)return t=vr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==wp&&(e=Error(D(422),{cause:n}),ps(Cr(e,r)))):(n!==wp&&(t=Error(D(423),{cause:n}),ps(Cr(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Cr(n,r),a=Mp(e.stateNode,n,a),tm(e,a),Le!==4&&(Le=2)),!1;var i=Error(D(520),{cause:n});if(i=Cr(i,r),ns===null?ns=[i]:ns.push(i),Le!==4&&(Le=2),t===null)return!0;n=Cr(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=Mp(r.stateNode,n,e),tm(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Aa===null||!Aa.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=GE(a),FE(a,e,r,n),tm(r,a),!1}r=r.return}while(r!==null);return!1}var ey=Error(D(461)),Ze=!1;function xt(e,t,r,n){t.child=e===null?sE(t,null,r,n):_i(t,e.child,r,n)}function lx(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}else o=n;return wi(t),n=qg(e,t,r,o,i,a),l=Hg(),e!==null&&!Ze?(Wg(e,t,a),Bn(e,t,a)):(le&&l&&Mg(t),t.flags|=1,xt(e,t,n,a),t.child)}function sx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Rg(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,YE(e,t,i,n,a)):(e=xc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!ty(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:hs,r(o,n)&&e.ref===t.ref)return Bn(e,t,a)}return t.flags|=1,e=Tn(i,n),e.ref=t.ref,e.return=t,t.child=e}function YE(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(hs(i,n)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=n=i,ty(e,a))e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Bn(e,t,a)}return Dp(e,t,r,n,a)}function XE(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return ux(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wc(t,i!==null?i.cachePool:null),i!==null?Zb(t,i):Ap(),dE(t);else return n=t.lanes=536870912,ux(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(wc(t,i.cachePool),Zb(t,i),ha(),t.memoizedState=null):(e!==null&&wc(t,null),Ap(),ha());return xt(e,t,a,r),t.child}function Ul(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ux(e,t,r,n,a){var i=Bg();return i=i===null?null:{parent:Xe._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&wc(t,null),Ap(),dE(t),e!==null&&al(e,t,n,!0),t.childLanes=a,null}function jc(e,t){return t=Zc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function cx(e,t,r){return _i(t,e.child,null,r),e=jc(t,t.pendingProps),e.flags|=2,nr(t),t.memoizedState=null,e}function FM(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(le){if(n.mode==="hidden")return e=jc(t,n),t.lanes=536870912,Ul(null,e);if(Tp(t),(e=Ae)?(e=qO(e,Ar),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=tE(e),r.return=t,t.child=r,jt=t,Ae=null)):e=null,e===null)throw Da(t);return t.lanes=536870912,null}return jc(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Tp(t),a)if(t.flags&256)t.flags&=-257,t=cx(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(D(558));else if(Ze||al(e,t,r,!1),a=(r&e.childLanes)!==0,Ze||a){if(n=xe,n!==null&&(o=Cj(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,Di(e,o),Ft(n,e,o),ey;td(),t=cx(e,t,r)}else e=i.treeContext,Ae=Pr(o.nextSibling),jt=t,le=!0,Ea=null,Ar=!1,e!==null&&nE(t,e),t=jc(t,n),t.flags|=4096;return t}return e=Tn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ec(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(D(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Dp(e,t,r,n,a){return wi(t),r=qg(e,t,r,n,void 0,a),n=Hg(),e!==null&&!Ze?(Wg(e,t,a),Bn(e,t,a)):(le&&n&&Mg(t),t.flags|=1,xt(e,t,r,a),t.child)}function dx(e,t,r,n,a,i){return wi(t),t.updateQueue=null,r=hE(t,n,r,a),fE(e),n=Hg(),e!==null&&!Ze?(Wg(e,t,i),Bn(e,t,i)):(le&&n&&Mg(t),t.flags|=1,xt(e,t,r,i),t.child)}function fx(e,t,r,n,a){if(wi(t),t.stateNode===null){var i=po,o=r.contextType;typeof o=="object"&&o!==null&&(i=Et(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Rp,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Ig(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Et(o):po,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(nm(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Rp.enqueueReplaceState(i,i.state,null),Ql(t,n,i,a),Jl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,s=ji(r,l);i.props=s;var u=i.context,d=r.contextType;o=po,typeof d=="object"&&d!==null&&(o=Et(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&ix(t,i,n,o),sa=!1;var h=t.memoizedState;i.state=h,Ql(t,n,i,a),Jl(),u=t.memoizedState,l||h!==u||sa?(typeof f=="function"&&(nm(t,r,f,n),u=t.memoizedState),(s=sa||ax(t,r,s,n,h,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Op(e,t),o=t.memoizedProps,d=ji(r,o),i.props=d,f=t.pendingProps,h=i.context,u=r.contextType,s=po,typeof u=="object"&&u!==null&&(s=Et(u)),l=r.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==s)&&ix(t,i,n,s),sa=!1,h=t.memoizedState,i.state=h,Ql(t,n,i,a),Jl();var m=t.memoizedState;o!==f||h!==m||sa||e!==null&&e.dependencies!==null&&Wc(e.dependencies)?(typeof l=="function"&&(nm(t,r,l,n),m=t.memoizedState),(d=sa||ax(t,r,d,n,h,m,s)||e!==null&&e.dependencies!==null&&Wc(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=s,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Ec(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=_i(t,e.child,null,a),t.child=_i(t,null,r,a)):xt(e,t,r,a),t.memoizedState=i.state,e=t.child):e=Bn(e,t,a),e}function hx(e,t,r,n){return xi(),t.flags|=256,xt(e,t,r,n),t.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function im(e){return{baseLanes:e,cachePool:iE()}}function om(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=sr),e}function ZE(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(le){if(a?fa(t):ha(),(e=Ae)?(e=qO(e,Ar),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=tE(e),r.return=t,t.child=r,jt=t,Ae=null)):e=null,e===null)throw Da(t);return Yp(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,a?(ha(),a=t.mode,l=Zc({mode:"hidden",children:l},a),n=fi(n,a,r,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=im(r),n.childLanes=om(e,o,r),t.memoizedState=am,Ul(null,n)):(fa(t),zp(t,l))}var s=e.memoizedState;if(s!==null&&(l=s.dehydrated,l!==null)){if(i)t.flags&256?(fa(t),t.flags&=-257,t=lm(e,t,r)):t.memoizedState!==null?(ha(),t.child=e.child,t.flags|=128,t=null):(ha(),l=n.fallback,a=t.mode,n=Zc({mode:"visible",children:n.children},a),l=fi(l,a,r,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,_i(t,e.child,null,r),n=t.child,n.memoizedState=im(r),n.childLanes=om(e,o,r),t.memoizedState=am,t=Ul(null,n));else if(fa(t),Yp(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(D(419)),n.stack="",n.digest=o,ps({value:n,source:null,stack:null}),t=lm(e,t,r)}else if(Ze||al(e,t,r,!1),o=(r&e.childLanes)!==0,Ze||o){if(o=xe,o!==null&&(n=Cj(o,r),n!==0&&n!==s.retryLane))throw s.retryLane=n,Di(e,n),Ft(o,e,n),ey;Fp(l)||td(),t=lm(e,t,r)}else Fp(l)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,Ae=Pr(l.nextSibling),jt=t,le=!0,Ea=null,Ar=!1,e!==null&&nE(t,e),t=zp(t,n.children),t.flags|=4096);return t}return a?(ha(),l=n.fallback,a=t.mode,s=e.child,u=s.sibling,n=Tn(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,u!==null?l=Tn(u,l):(l=fi(l,a,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,Ul(null,n),n=t.child,l=e.child.memoizedState,l===null?l=im(r):(a=l.cachePool,a!==null?(s=Xe._currentValue,a=a.parent!==s?{parent:s,pool:s}:a):a=iE(),l={baseLanes:l.baseLanes|r,cachePool:a}),n.memoizedState=l,n.childLanes=om(e,o,r),t.memoizedState=am,Ul(e.child,n)):(fa(t),r=e.child,e=r.sibling,r=Tn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function zp(e,t){return t=Zc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zc(e,t){return e=ar(22,e,null,t),e.lanes=0,e}function lm(e,t,r){return _i(t,e.child,null,r),e=zp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sp(e.return,t,r)}function sm(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function JE(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=qe.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,Ee(qe,o),xt(e,t,n,r),n=le?ms:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mx(e,r,t);else if(e.tag===19)mx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Gc(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),sm(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Gc(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}sm(t,!0,r,null,i,n);break;case"together":sm(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,!(r&t.childLanes))if(e!==null){if(al(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=Tn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ty(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Wc(e)))}function YM(e,t,r){switch(t.tag){case 3:Bc(t,t.stateNode.containerInfo),da(t,Xe,e.memoizedState.cache),xi();break;case 27:case 5:cp(t);break;case 4:Bc(t,t.stateNode.containerInfo);break;case 10:da(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tp(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(fa(t),t.flags|=128,null):r&t.child.childLanes?ZE(e,t,r):(fa(t),e=Bn(e,t,r),e!==null?e.sibling:null);fa(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(al(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return JE(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ee(qe,qe.current),n)break;return null;case 22:return t.lanes=0,XE(e,t,r,t.pendingProps);case 24:da(t,Xe,e.memoizedState.cache)}return Bn(e,t,r)}function QE(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!ty(e,r)&&!(t.flags&128))return Ze=!1,YM(e,t,r);Ze=!!(e.flags&131072)}else Ze=!1,le&&t.flags&1048576&&rE(t,ms,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Ja(t.elementType),t.type=e,typeof e=="function")Rg(e)?(n=ji(e,n),t.tag=1,t=fx(null,t,e,n,r)):(t.tag=0,t=Dp(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===bg){t.tag=11,t=lx(null,t,e,n,r);break e}else if(a===xg){t.tag=14,t=sx(null,t,e,n,r);break e}}throw t=sp(e)||e,Error(D(306,t,""))}}return t;case 0:return Dp(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=ji(n,t.pendingProps),fx(e,t,n,a,r);case 3:e:{if(Bc(t,t.stateNode.containerInfo),e===null)throw Error(D(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,Op(e,t),Ql(t,n,null,r);var o=t.memoizedState;if(n=o.cache,da(t,Xe,n),n!==i.cache&&jp(t,[Xe],r,!0),Jl(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=hx(e,t,n,r);break e}else if(n!==a){a=Cr(Error(D(424)),t),ps(a),t=hx(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ae=Pr(e.firstChild),jt=t,le=!0,Ea=null,Ar=!0,r=sE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(xi(),n===a){t=Bn(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 26:return Ec(e,t),e===null?(r=Mx(t.type,null,t.pendingProps,null))?t.memoizedState=r:le||(r=t.type,e=t.pendingProps,n=id(ja.current).createElement(r),n[St]=t,n[Yt]=e,Ct(n,r,e),ht(n),t.stateNode=n):t.memoizedState=Mx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return cp(t),e===null&&le&&(n=t.stateNode=HO(t.type,t.pendingProps,ja.current),jt=t,Ar=!0,a=Ae,La(t.type)?(Xp=a,Ae=Pr(n.firstChild)):Ae=a),xt(e,t,t.pendingProps.children,r),Ec(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&le&&((a=n=Ae)&&(n=ED(n,t.type,t.pendingProps,Ar),n!==null?(t.stateNode=n,jt=t,Ae=Pr(n.firstChild),Ar=!1,a=!0):a=!1),a||Da(t)),cp(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,Vp(a,i)?n=null:o!==null&&Vp(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=qg(e,t,LM,null,null,r),ws._currentValue=a),Ec(e,t),xt(e,t,n,r),t.child;case 6:return e===null&&le&&((e=r=Ae)&&(r=OD(r,t.pendingProps,Ar),r!==null?(t.stateNode=r,jt=t,Ae=null,e=!0):e=!1),e||Da(t)),null;case 13:return ZE(e,t,r);case 4:return Bc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_i(t,null,n,r):xt(e,t,n,r),t.child;case 11:return lx(e,t,t.type,t.pendingProps,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,da(t,t.type,n.value),xt(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,wi(t),a=Et(a),n=n(a),t.flags|=1,xt(e,t,n,r),t.child;case 14:return sx(e,t,t.type,t.pendingProps,r);case 15:return YE(e,t,t.type,t.pendingProps,r);case 19:return JE(e,t,r);case 31:return FM(e,t,r);case 22:return XE(e,t,r,t.pendingProps);case 24:return wi(t),n=Et(Xe),e===null?(a=Bg(),a===null&&(a=xe,i=zg(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},Ig(t),da(t,Xe,a)):(e.lanes&r&&(Op(e,t),Ql(t,null,null,r),Jl()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),da(t,Xe,n)):(n=i.cache,da(t,Xe,n),n!==a.cache&&jp(t,[Xe],r,!0))),xt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(D(156,t.tag))}function mn(e){e.flags|=4}function um(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(SO())e.flags|=8192;else throw mi=Kc,$g}else e.flags&=-16777217}function px(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!VO(t))if(SO())e.flags|=8192;else throw mi=Kc,$g}function $u(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?jj():536870912,e.lanes|=t,Bo|=t)}function Cl(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XM(e,t,r){var n=t.pendingProps;switch(Dg(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),kn(Xe),Po(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Wi(t)?mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,em())),Oe(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(mn(t),i!==null?(Oe(t),px(t,i)):(Oe(t),um(t,a,null,n,r))):i?i!==e.memoizedState?(mn(t),Oe(t),px(t,i)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&mn(t),Oe(t),um(t,a,e,n,r)),null;case 27:if($c(t),r=ja.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(D(166));return Oe(t),null}e=on.current,Wi(t)?Wb(t):(e=HO(a,n,r),t.stateNode=e,mn(t))}return Oe(t),null;case 5:if($c(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(D(166));return Oe(t),null}if(i=on.current,Wi(t))Wb(t);else{var o=id(ja.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[St]=t,i[Yt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ct(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&mn(t)}}return Oe(t),um(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(e=ja.current,Wi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=jt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[St]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||IO(e.nodeValue,r)),e||Da(t,!0)}else e=id(e).createTextNode(n),e[St]=t,t.stateNode=e}return Oe(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Wi(t),r!==null){if(e===null){if(!n)throw Error(D(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(557));e[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else r=em(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(nr(t),t):(nr(t),null);if(t.flags&128)throw Error(D(558))}return Oe(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Wi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(D(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),a=!1}else a=em(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(nr(t),t):(nr(t),null)}return nr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),$u(t,t.updateQueue),Oe(t),null);case 4:return Po(),e===null&&sy(t.stateNode.containerInfo),Oe(t),null;case 10:return kn(t.type),Oe(t),null;case 19:if(mt(qe),n=t.memoizedState,n===null)return Oe(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Cl(n,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gc(e),i!==null){for(t.flags|=128,Cl(n,!1),e=i.updateQueue,t.updateQueue=e,$u(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)eE(r,e),r=r.sibling;return Ee(qe,qe.current&1|2),le&&bn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&cr()>Qc&&(t.flags|=128,a=!0,Cl(n,!1),t.lanes=4194304)}else{if(!a)if(e=Gc(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,$u(t,e),Cl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!le)return Oe(t),null}else 2*cr()-n.renderingStartTime>Qc&&r!==536870912&&(t.flags|=128,a=!0,Cl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=cr(),e.sibling=null,r=qe.current,Ee(qe,a?r&1|2:r&1),le&&bn(t,n.treeForkCount),e):(Oe(t),null);case 22:case 23:return nr(t),Lg(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),r=t.updateQueue,r!==null&&$u(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&mt(hi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),kn(Xe),Oe(t),null;case 25:return null;case 30:return null}throw Error(D(156,t.tag))}function ZM(e,t){switch(Dg(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(Xe),Po(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $c(t),null;case 31:if(t.memoizedState!==null){if(nr(t),t.alternate===null)throw Error(D(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mt(qe),null;case 4:return Po(),null;case 10:return kn(t.type),null;case 22:case 23:return nr(t),Lg(),e!==null&&mt(hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kn(Xe),null;case 25:return null;default:return null}}function eO(e,t){switch(Dg(t),t.tag){case 3:kn(Xe),Po();break;case 26:case 27:case 5:$c(t);break;case 4:Po();break;case 31:t.memoizedState!==null&&nr(t);break;case 13:nr(t);break;case 19:mt(qe);break;case 10:kn(t.type);break;case 22:case 23:nr(t),Lg(),e!==null&&mt(hi);break;case 24:kn(Xe)}}function Qs(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(l){pe(t,t.return,l)}}function za(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,a=t;var s=r,u=l;try{u()}catch(d){pe(a,s,d)}}}n=n.next}while(n!==i)}}catch(d){pe(t,t.return,d)}}function tO(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{cE(t,r)}catch(n){pe(e,e.return,n)}}}function rO(e,t,r){r.props=ji(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){pe(e,t,n)}}function ts(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){pe(e,t,a)}}function nn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){pe(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){pe(e,t,a)}else r.current=null}function nO(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){pe(e,e.return,a)}}function cm(e,t,r){try{var n=e.stateNode;bD(n,e.type,r,t),n[Yt]=t}catch(a){pe(e,e.return,a)}}function aO(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&La(e.type)||e.tag===4}function dm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&La(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=En));else if(n!==4&&(n===27&&La(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Bp(e,t,r),e=e.sibling;e!==null;)Bp(e,t,r),e=e.sibling}function Jc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&La(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Jc(e,t,r),e=e.sibling;e!==null;)Jc(e,t,r),e=e.sibling}function iO(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ct(t,n,r),t[St]=e,t[Yt]=r}catch(i){pe(e,e.return,i)}}var wn=!1,Ye=!1,fm=!1,vx=typeof WeakSet=="function"?WeakSet:Set,ft=null;function JM(e,t){if(e=e.containerInfo,Wp=ud,e=Vj(e),kg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,s=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(s=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(s=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||s===-1?null:{start:l,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kp={focusedElem:e,selectionRange:r},ud=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var p=ji(r.type,a);e=n.getSnapshotBeforeUpdate(p,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){pe(r,r.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Gp(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(D(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function oO(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:vn(e,r),n&4&&Qs(5,r);break;case 1:if(vn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){pe(r,r.return,o)}else{var a=ji(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){pe(r,r.return,o)}}n&64&&tO(r),n&512&&ts(r,r.return);break;case 3:if(vn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{cE(e,t)}catch(o){pe(r,r.return,o)}}break;case 27:t===null&&n&4&&iO(r);case 26:case 5:vn(e,r),t===null&&n&4&&nO(r),n&512&&ts(r,r.return);break;case 12:vn(e,r);break;case 31:vn(e,r),n&4&&uO(e,r);break;case 13:vn(e,r),n&4&&cO(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=lD.bind(null,r),CD(e,r))));break;case 22:if(n=r.memoizedState!==null||wn,!n){t=t!==null&&t.memoizedState!==null||Ye,a=wn;var i=Ye;wn=n,(Ye=t)&&!i?gn(e,r,(r.subtreeFlags&8772)!==0):vn(e,r),wn=a,Ye=i}break;case 30:break;default:vn(e,r)}}function lO(e){var t=e.alternate;t!==null&&(e.alternate=null,lO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ne=null,Wt=!1;function pn(e,t,r){for(r=r.child;r!==null;)sO(e,t,r),r=r.sibling}function sO(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Vs,r)}catch{}switch(r.tag){case 26:Ye||nn(r,t),pn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ye||nn(r,t);var n=Ne,a=Wt;La(r.type)&&(Ne=r.stateNode,Wt=!1),pn(e,t,r),is(r.stateNode),Ne=n,Wt=a;break;case 5:Ye||nn(r,t);case 6:if(n=Ne,a=Wt,Ne=null,pn(e,t,r),Ne=n,Wt=a,Ne!==null)if(Wt)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(r.stateNode)}catch(i){pe(r,t,i)}else try{Ne.removeChild(r.stateNode)}catch(i){pe(r,t,i)}break;case 18:Ne!==null&&(Wt?(e=Ne,Tx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Uo(e)):Tx(Ne,r.stateNode));break;case 4:n=Ne,a=Wt,Ne=r.stateNode.containerInfo,Wt=!0,pn(e,t,r),Ne=n,Wt=a;break;case 0:case 11:case 14:case 15:za(2,r,t),Ye||za(4,r,t),pn(e,t,r);break;case 1:Ye||(nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&rO(r,t,n)),pn(e,t,r);break;case 21:pn(e,t,r);break;case 22:Ye=(n=Ye)||r.memoizedState!==null,pn(e,t,r),Ye=n;break;default:pn(e,t,r)}}function uO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Uo(e)}catch(r){pe(t,t.return,r)}}}function cO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Uo(e)}catch(r){pe(t,t.return,r)}}function QM(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new vx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new vx),t;default:throw Error(D(435,e.tag))}}function Iu(e,t){var r=QM(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=sD.bind(null,e,n);n.then(a,a)}})}function qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(La(l.type)){Ne=l.stateNode,Wt=!1;break e}break;case 5:Ne=l.stateNode,Wt=!1;break e;case 3:case 4:Ne=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(Ne===null)throw Error(D(160));sO(i,o,a),Ne=null,Wt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dO(t,e),t=t.sibling}var qr=null;function dO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Ht(e),n&4&&(za(3,e,e.return),Qs(3,e),za(5,e,e.return));break;case 1:qt(t,e),Ht(e),n&512&&(Ye||r===null||nn(r,r.return)),n&64&&wn&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=qr;if(qt(t,e),Ht(e),n&512&&(Ye||r===null||nn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Ys]||i[St]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ct(i,n,r),i[St]=e,ht(i),n=i;break e;case"link":var o=zx("link","href",a).get(n+(r.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;case"meta":if(o=zx("meta","content",a).get(n+(r.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;default:throw Error(D(468,n))}i[St]=e,ht(i),n=i}e.stateNode=n}else Bx(a,e.type,e.stateNode);else e.stateNode=Dx(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Bx(a,e.type,e.stateNode):Dx(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&cm(e,e.memoizedProps,r.memoizedProps)}break;case 27:qt(t,e),Ht(e),n&512&&(Ye||r===null||nn(r,r.return)),r!==null&&n&4&&cm(e,e.memoizedProps,r.memoizedProps);break;case 5:if(qt(t,e),Ht(e),n&512&&(Ye||r===null||nn(r,r.return)),e.flags&32){a=e.stateNode;try{Ro(a,"")}catch(p){pe(e,e.return,p)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,cm(e,a,r!==null?r.memoizedProps:a)),n&1024&&(fm=!0);break;case 6:if(qt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(D(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){pe(e,e.return,p)}}break;case 3:if(Ac=null,a=qr,qr=od(t.containerInfo),qt(t,e),qr=a,Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uo(t.containerInfo)}catch(p){pe(e,e.return,p)}fm&&(fm=!1,fO(e));break;case 4:n=qr,qr=od(e.stateNode.containerInfo),qt(t,e),Ht(e),qr=n;break;case 12:qt(t,e),Ht(e);break;case 31:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Iu(e,n)));break;case 13:qt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ef=cr()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Iu(e,n)));break;case 22:a=e.memoizedState!==null;var s=r!==null&&r.memoizedState!==null,u=wn,d=Ye;if(wn=u||a,Ye=d||s,qt(t,e),Ye=d,wn=u,Ht(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||s||wn||Ye||Qa(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){s=r=t;try{if(i=s.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=s.stateNode;var f=s.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){pe(s,s.return,p)}}}else if(t.tag===6){if(r===null){s=t;try{s.stateNode.nodeValue=a?"":s.memoizedProps}catch(p){pe(s,s.return,p)}}}else if(t.tag===18){if(r===null){s=t;try{var m=s.stateNode;a?kx(m,!0):kx(s.stateNode,!1)}catch(p){pe(s,s.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Iu(e,r))));break;case 19:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Iu(e,n)));break;case 30:break;case 21:break;default:qt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(aO(n)){r=n;break}n=n.return}if(r==null)throw Error(D(160));switch(r.tag){case 27:var a=r.stateNode,i=dm(e);Jc(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(Ro(o,""),r.flags&=-33);var l=dm(e);Jc(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=dm(e);Bp(e,u,s);break;default:throw Error(D(161))}}catch(d){pe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fO(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fO(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)oO(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:za(4,t,t.return),Qa(t);break;case 1:nn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&rO(t,t.return,r),Qa(t);break;case 27:is(t.stateNode);case 26:case 5:nn(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function gn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:gn(a,i,r),Qs(4,i);break;case 1:if(gn(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){pe(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var l=n.stateNode;try{var s=a.shared.hiddenCallbacks;if(s!==null)for(a.shared.hiddenCallbacks=null,a=0;a<s.length;a++)uE(s[a],l)}catch(u){pe(n,n.return,u)}}r&&o&64&&tO(i),ts(i,i.return);break;case 27:iO(i);case 26:case 5:gn(a,i,r),r&&n===null&&o&4&&nO(i),ts(i,i.return);break;case 12:gn(a,i,r);break;case 31:gn(a,i,r),r&&o&4&&uO(a,i);break;case 13:gn(a,i,r),r&&o&4&&cO(a,i);break;case 22:i.memoizedState===null&&gn(a,i,r),ts(i,i.return);break;case 30:break;default:gn(a,i,r)}t=t.sibling}}function ry(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Zs(r))}function ny(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zs(e))}function $r(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hO(e,t,r,n),t=t.sibling}function hO(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:$r(e,t,r,n),a&2048&&Qs(9,t);break;case 1:$r(e,t,r,n);break;case 3:$r(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zs(e)));break;case 12:if(a&2048){$r(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){pe(t,t.return,s)}}else $r(e,t,r,n);break;case 31:$r(e,t,r,n);break;case 13:$r(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?$r(e,t,r,n):rs(e,t):i._visibility&2?$r(e,t,r,n):(i._visibility|=2,to(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&ry(o,t);break;case 24:$r(e,t,r,n),a&2048&&ny(t.alternate,t);break;default:$r(e,t,r,n)}}function to(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=r,s=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:to(i,o,l,s,a),Qs(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?to(i,o,l,s,a):rs(i,o):(d._visibility|=2,to(i,o,l,s,a)),a&&u&2048&&ry(o.alternate,o);break;case 24:to(i,o,l,s,a),a&&u&2048&&ny(o.alternate,o);break;default:to(i,o,l,s,a)}t=t.sibling}}function rs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:rs(r,n),a&2048&&ry(n.alternate,n);break;case 24:rs(r,n),a&2048&&ny(n.alternate,n);break;default:rs(r,n)}t=t.sibling}}var ql=8192;function Ki(e,t,r){if(e.subtreeFlags&ql)for(e=e.child;e!==null;)mO(e,t,r),e=e.sibling}function mO(e,t,r){switch(e.tag){case 26:Ki(e,t,r),e.flags&ql&&e.memoizedState!==null&&ID(r,qr,e.memoizedState,e.memoizedProps);break;case 5:Ki(e,t,r);break;case 3:case 4:var n=qr;qr=od(e.stateNode.containerInfo),Ki(e,t,r),qr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ql,ql=16777216,Ki(e,t,r),ql=n):Ki(e,t,r));break;default:Ki(e,t,r)}}function pO(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Al(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ft=n,gO(n,e)}pO(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vO(e),e=e.sibling}function vO(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&za(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Oc(e)):Al(e);break;default:Al(e)}}function Oc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ft=n,gO(n,e)}pO(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:za(8,t,t.return),Oc(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Oc(t));break;default:Oc(t)}e=e.sibling}}function gO(e,t){for(;ft!==null;){var r=ft;switch(r.tag){case 0:case 11:case 15:za(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Zs(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ft=n;else e:for(r=e;ft!==null;){n=ft;var a=n.sibling,i=n.return;if(lO(n),n===r){ft=null;break e}if(a!==null){a.return=i,ft=a;break e}ft=i}}}var eD={getCacheForType:function(e){var t=Et(Xe),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Et(Xe).controller.signal}},tD=typeof WeakMap=="function"?WeakMap:Map,de=0,xe=null,ne=null,oe=0,he=0,tr=null,ba=!1,ol=!1,ay=!1,$n=0,Le=0,Ba=0,pi=0,iy=0,sr=0,Bo=0,ns=null,Kt=null,$p=!1,Ef=0,yO=0,Qc=1/0,ed=null,Aa=null,nt=0,Ta=null,$o=null,Pn=0,Ip=0,Lp=null,bO=null,as=0,Up=null;function hr(){return de&2&&oe!==0?oe&-oe:J.T!==null?ly():Aj()}function xO(){if(sr===0)if(!(oe&536870912)||le){var e=Pu;Pu<<=1,!(Pu&3932160)&&(Pu=262144),sr=e}else sr=536870912;return e=vr.current,e!==null&&(e.flags|=32),sr}function Ft(e,t,r){(e===xe&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(Io(e,0),xa(e,oe,sr,!1)),Fs(e,r),(!(de&2)||e!==xe)&&(e===xe&&(!(de&2)&&(pi|=r),Le===4&&xa(e,oe,sr,!1)),fn(e))}function wO(e,t,r){if(de&6)throw Error(D(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Gs(e,t),a=n?aD(e,t):hm(e,t,!0),i=n;do{if(a===0){ol&&!n&&xa(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!rD(r)){a=hm(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;a=ns;var s=l.current.memoizedState.isDehydrated;if(s&&(Io(l,o).flags|=256),o=hm(l,o,!1),o!==2){if(ay&&!s){l.errorRecoveryDisabledLanes|=i,pi|=i,a=4;break e}i=Kt,Kt=a,i!==null&&(Kt===null?Kt=i:Kt.push.apply(Kt,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){Io(e,0),xa(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(D(345));case 4:if((t&4194048)!==t)break;case 6:xa(n,t,sr,!ba);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(D(329))}if((t&62914560)===t&&(a=Ef+300-cr(),10<a)){if(xa(n,t,sr,!ba),mf(n,0,!0)!==0)break e;Pn=t,n.timeoutHandle=UO(gx.bind(null,n,r,Kt,ed,$p,t,sr,pi,Bo,ba,i,"Throttled",-0,0),a);break e}gx(n,r,Kt,ed,$p,t,sr,pi,Bo,ba,i,null,-0,0)}}break}while(!0);fn(e)}function gx(e,t,r,n,a,i,o,l,s,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},mO(t,i,f);var p=(i&62914560)===i?Ef-cr():(i&4194048)===i?yO-cr():0;if(p=LD(f,p),p!==null){Pn=i,e.cancelPendingCommit=p(bx.bind(null,e,t,i,r,n,a,o,l,s,d,f,null,h,m)),xa(e,i,o,!u);return}}bx(e,t,i,r,n,a,o,l,s)}function rD(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xa(e,t,r,n){t&=~iy,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&Ej(e,r,t)}function Of(){return de&6?!0:(eu(0),!1)}function oy(){if(ne!==null){if(he===0)var e=ne.return;else e=ne,On=zi=null,Kg(e),Eo=null,vs=0,e=ne;for(;e!==null;)eO(e.alternate,e),e=e.return;ne=null}}function Io(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,_D(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Pn=0,oy(),xe=e,ne=r=Tn(e.current,null),oe=t,he=0,tr=null,ba=!1,ol=Gs(e,t),ay=!1,Bo=sr=iy=pi=Ba=Le=0,Kt=ns=null,$p=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-fr(n),i=1<<a;t|=e[a],n&=~i}return $n=t,yf(),r}function _O(e,t){ee=null,J.H=ys,t===il||t===xf?(t=Yb(),he=3):t===$g?(t=Yb(),he=4):he=t===ey?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tr=t,ne===null&&(Le=1,Xc(e,Cr(t,e.current)))}function SO(){var e=vr.current;return e===null?!0:(oe&4194048)===oe?kr===null:(oe&62914560)===oe||oe&536870912?e===kr:!1}function jO(){var e=J.H;return J.H=ys,e===null?ys:e}function EO(){var e=J.A;return J.A=eD,e}function td(){Le=4,ba||(oe&4194048)!==oe&&vr.current!==null||(ol=!0),!(Ba&134217727)&&!(pi&134217727)||xe===null||xa(xe,oe,sr,!1)}function hm(e,t,r){var n=de;de|=2;var a=jO(),i=EO();(xe!==e||oe!==t)&&(ed=null,Io(e,t)),t=!1;var o=Le;e:do try{if(he!==0&&ne!==null){var l=ne,s=tr;switch(he){case 8:oy(),o=6;break e;case 3:case 2:case 9:case 6:vr.current===null&&(t=!0);var u=he;if(he=0,tr=null,yo(e,l,s,u),r&&ol){o=0;break e}break;default:u=he,he=0,tr=null,yo(e,l,s,u)}}nD(),o=Le;break}catch(d){_O(e,d)}while(!0);return t&&e.shellSuspendCounter++,On=zi=null,de=n,J.H=a,J.A=i,ne===null&&(xe=null,oe=0,yf()),o}function nD(){for(;ne!==null;)OO(ne)}function aD(e,t){var r=de;de|=2;var n=jO(),a=EO();xe!==e||oe!==t?(ed=null,Qc=cr()+500,Io(e,t)):ol=Gs(e,t);e:do try{if(he!==0&&ne!==null){t=ne;var i=tr;t:switch(he){case 1:he=0,tr=null,yo(e,t,i,1);break;case 2:case 9:if(Fb(i)){he=0,tr=null,yx(t);break}t=function(){he!==2&&he!==9||xe!==e||(he=7),fn(e)},i.then(t,t);break e;case 3:he=7;break e;case 4:he=5;break e;case 7:Fb(i)?(he=0,tr=null,yx(t)):(he=0,tr=null,yo(e,t,i,7));break;case 5:var o=null;switch(ne.tag){case 26:o=ne.memoizedState;case 5:case 27:var l=ne;if(o?VO(o):l.stateNode.complete){he=0,tr=null;var s=l.sibling;if(s!==null)ne=s;else{var u=l.return;u!==null?(ne=u,Cf(u)):ne=null}break t}}he=0,tr=null,yo(e,t,i,5);break;case 6:he=0,tr=null,yo(e,t,i,6);break;case 8:oy(),Le=6;break e;default:throw Error(D(462))}}iD();break}catch(d){_O(e,d)}while(!0);return On=zi=null,J.H=n,J.A=a,de=r,ne!==null?0:(xe=null,oe=0,yf(),Le)}function iD(){for(;ne!==null&&!AR();)OO(ne)}function OO(e){var t=QE(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?Cf(e):ne=t}function yx(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=dx(r,t,t.pendingProps,t.type,void 0,oe);break;case 11:t=dx(r,t,t.pendingProps,t.type.render,t.ref,oe);break;case 5:Kg(t);default:eO(r,t),t=ne=eE(t,$n),t=QE(r,t,$n)}e.memoizedProps=e.pendingProps,t===null?Cf(e):ne=t}function yo(e,t,r,n){On=zi=null,Kg(t),Eo=null,vs=0;var a=t.return;try{if(GM(e,a,t,r,oe)){Le=1,Xc(e,Cr(r,e.current)),ne=null;return}}catch(i){if(a!==null)throw ne=a,i;Le=1,Xc(e,Cr(r,e.current)),ne=null;return}t.flags&32768?(le||n===1?e=!0:ol||oe&536870912?e=!1:(ba=e=!0,(n===2||n===9||n===3||n===6)&&(n=vr.current,n!==null&&n.tag===13&&(n.flags|=16384))),CO(t,e)):Cf(t)}function Cf(e){var t=e;do{if(t.flags&32768){CO(t,ba);return}e=t.return;var r=XM(t.alternate,t,$n);if(r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);Le===0&&(Le=5)}function CO(e,t){do{var r=ZM(e.alternate,e);if(r!==null){r.flags&=32767,ne=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ne=e;return}ne=e=r}while(e!==null);Le=6,ne=null}function bx(e,t,r,n,a,i,o,l,s){e.cancelPendingCommit=null;do Af();while(nt!==0);if(de&6)throw Error(D(327));if(t!==null){if(t===e.current)throw Error(D(177));if(i=t.lanes|t.childLanes,i|=Pg,$R(e,r,i,o,l,s),e===xe&&(ne=xe=null,oe=0),$o=t,Ta=e,Pn=r,Ip=i,Lp=a,bO=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,uD(Ic,function(){return NO(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=J.T,J.T=null,a=fe.p,fe.p=2,o=de,de|=4;try{JM(e,t,r)}finally{de=o,fe.p=a,J.T=n}}nt=1,AO(),TO(),kO()}}function AO(){if(nt===1){nt=0;var e=Ta,t=$o,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=J.T,J.T=null;var n=fe.p;fe.p=2;var a=de;de|=4;try{dO(t,e);var i=Kp,o=Vj(e.containerInfo),l=i.focusedElem,s=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Kj(l.ownerDocument.documentElement,l)){if(s!==null&&kg(l)){var u=s.start,d=s.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=l.textContent.length,y=Math.min(s.start,p),g=s.end===void 0?y:Math.min(s.end,p);!m.extend&&y>g&&(o=g,g=y,y=o);var b=Ub(l,y),v=Ub(l,g);if(b&&v&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var w=f.createRange();w.setStart(b.node,b.offset),m.removeAllRanges(),y>g?(m.addRange(w),m.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),m.addRange(w))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var _=f[l];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}ud=!!Wp,Kp=Wp=null}finally{de=a,fe.p=n,J.T=r}}e.current=t,nt=2}}function TO(){if(nt===2){nt=0;var e=Ta,t=$o,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=J.T,J.T=null;var n=fe.p;fe.p=2;var a=de;de|=4;try{oO(e,t.alternate,t)}finally{de=a,fe.p=n,J.T=r}}nt=3}}function kO(){if(nt===4||nt===3){nt=0,TR();var e=Ta,t=$o,r=Pn,n=bO;t.subtreeFlags&10256||t.flags&10256?nt=5:(nt=0,$o=Ta=null,PO(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Aa=null),Sg(r),t=t.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Vs,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=J.T,a=fe.p,fe.p=2,J.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var l=n[o];i(l.value,{componentStack:l.stack})}}finally{J.T=t,fe.p=a}}Pn&3&&Af(),fn(e),a=e.pendingLanes,r&261930&&a&42?e===Up?as++:(as=0,Up=e):as=0,eu(0)}}function PO(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zs(t)))}function Af(){return AO(),TO(),kO(),NO()}function NO(){if(nt!==5)return!1;var e=Ta,t=Ip;Ip=0;var r=Sg(Pn),n=J.T,a=fe.p;try{fe.p=32>r?32:r,J.T=null,r=Lp,Lp=null;var i=Ta,o=Pn;if(nt=0,$o=Ta=null,Pn=0,de&6)throw Error(D(331));var l=de;if(de|=4,vO(i.current),hO(i,i.current,o,r),de=l,eu(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Vs,i)}catch{}return!0}finally{fe.p=a,J.T=n,PO(e,t)}}function xx(e,t,r){t=Cr(r,t),t=Mp(e.stateNode,t,2),e=Ca(e,t,2),e!==null&&(Fs(e,2),fn(e))}function pe(e,t,r){if(e.tag===3)xx(e,e,r);else for(;t!==null;){if(t.tag===3){xx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Aa===null||!Aa.has(n))){e=Cr(r,e),r=GE(2),n=Ca(t,r,2),n!==null&&(FE(r,n,t,e),Fs(n,2),fn(n));break}}t=t.return}}function mm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new tD;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(ay=!0,a.add(r),e=oD.bind(null,e,t,r),t.then(e,e))}function oD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,xe===e&&(oe&r)===r&&(Le===4||Le===3&&(oe&62914560)===oe&&300>cr()-Ef?!(de&2)&&Io(e,0):iy|=r,Bo===oe&&(Bo=0)),fn(e)}function RO(e,t){t===0&&(t=jj()),e=Di(e,t),e!==null&&(Fs(e,t),fn(e))}function lD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),RO(e,r)}function sD(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(D(314))}n!==null&&n.delete(t),RO(e,r)}function uD(e,t){return wg(e,t)}var rd=null,ro=null,qp=!1,nd=!1,pm=!1,wa=0;function fn(e){e!==ro&&e.next===null&&(ro===null?rd=ro=e:ro=ro.next=e),nd=!0,qp||(qp=!0,dD())}function eu(e,t){if(!pm&&nd){pm=!0;do for(var r=!1,n=rd;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,l=n.pingedLanes;i=(1<<31-fr(42|e)+1)-1,i&=a&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,wx(n,i))}else i=oe,i=mf(n,n===xe?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Gs(n,i)||(r=!0,wx(n,i));n=n.next}while(r);pm=!1}}function cD(){MO()}function MO(){nd=qp=!1;var e=0;wa!==0&&wD()&&(e=wa);for(var t=cr(),r=null,n=rd;n!==null;){var a=n.next,i=DO(n,t);i===0?(n.next=null,r===null?rd=a:r.next=a,a===null&&(ro=r)):(r=n,(e!==0||i&3)&&(nd=!0)),n=a}nt!==0&&nt!==5||eu(e),wa!==0&&(wa=0)}function DO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-fr(i),l=1<<o,s=a[o];s===-1?(!(l&r)||l&n)&&(a[o]=BR(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}if(t=xe,r=oe,r=mf(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(he===2||he===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Hh(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Gs(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&Hh(n),Sg(r)){case 2:case 8:r=_j;break;case 32:r=Ic;break;case 268435456:r=Sj;break;default:r=Ic}return n=zO.bind(null,e),r=wg(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&Hh(n),e.callbackPriority=2,e.callbackNode=null,2}function zO(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Af()&&e.callbackNode!==r)return null;var n=oe;return n=mf(e,e===xe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(wO(e,n,t),DO(e,cr()),e.callbackNode!=null&&e.callbackNode===r?zO.bind(null,e):null)}function wx(e,t){if(Af())return null;wO(e,t,!0)}function dD(){SD(function(){de&6?wg(wj,cD):MO()})}function ly(){if(wa===0){var e=Mo;e===0&&(e=ku,ku<<=1,!(ku&261888)&&(ku=256)),wa=e}return wa}function _x(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gc(""+e)}function Sx(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function fD(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=_x((a[Yt]||null).action),o=n.submitter;o&&(t=(t=o[Yt]||null)?_x(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new pf("action","action",null,n,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(wa!==0){var s=o?Sx(a,o):new FormData(a);Np(r,{pending:!0,data:s,method:a.method,action:i},null,s)}}else typeof i=="function"&&(l.preventDefault(),s=o?Sx(a,o):new FormData(a),Np(r,{pending:!0,data:s,method:a.method,action:i},i,s))},currentTarget:a}]})}}for(var vm=0;vm<xp.length;vm++){var gm=xp[vm],hD=gm.toLowerCase(),mD=gm[0].toUpperCase()+gm.slice(1);Zr(hD,"on"+mD)}Zr(Fj,"onAnimationEnd");Zr(Yj,"onAnimationIteration");Zr(Xj,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(kM,"onTransitionRun");Zr(PM,"onTransitionStart");Zr(NM,"onTransitionCancel");Zr(Zj,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function BO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){Uc(d)}a.currentTarget=null,i=s}else for(o=0;o<n.length;o++){if(l=n[o],s=l.instance,u=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){Uc(d)}a.currentTarget=null,i=s}}}}function re(e,t){var r=t[fp];r===void 0&&(r=t[fp]=new Set);var n=e+"__bubble";r.has(n)||($O(t,e,2,!1),r.add(n))}function ym(e,t,r){var n=0;t&&(n|=4),$O(r,e,n,t)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function sy(e){if(!e[Lu]){e[Lu]=!0,Tj.forEach(function(r){r!=="selectionchange"&&(pD.has(r)||ym(r,!1,e),ym(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lu]||(t[Lu]=!0,ym("selectionchange",!1,t))}}function $O(e,t,r,n){switch(ZO(t)){case 2:var a=HD;break;case 8:a=WD;break;default:a=fy}r=a.bind(null,t,r,e),a=void 0,!gp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function bm(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;l!==null;){if(o=so(l),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){n=i=o;continue e}l=l.parentNode}}n=n.return}Bj(function(){var u=i,d=Og(r),f=[];e:{var h=Jj.get(e);if(h!==void 0){var m=pf,p=e;switch(e){case"keypress":if(bc(r)===0)break e;case"keydown":case"keyup":m=sM;break;case"focusin":p="focus",m=Fh;break;case"focusout":p="blur",m=Fh;break;case"beforeblur":case"afterblur":m=Fh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=XR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=dM;break;case Fj:case Yj:case Xj:m=QR;break;case Zj:m=hM;break;case"scroll":case"scrollend":m=FR;break;case"wheel":m=pM;break;case"copy":case"cut":case"paste":m=tM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Rb;break;case"toggle":case"beforetoggle":m=gM}var y=(t&4)!==0,g=!y&&(e==="scroll"||e==="scrollend"),b=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,w;v!==null;){var _=v;if(w=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||w===null||b===null||(_=ds(v,b),_!=null&&y.push(xs(v,_,w))),g)break;v=v.return}0<y.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==vp&&(p=r.relatedTarget||r.fromElement)&&(so(p)||p[rl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?so(p):null,p!==null&&(g=Ks(p),y=p.tag,p!==g||y!==5&&y!==27&&y!==6)&&(p=null)):(m=null,p=u),m!==p)){if(y=Pb,_="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=Rb,_="onPointerLeave",b="onPointerEnter",v="pointer"),g=m==null?h:Ll(m),w=p==null?h:Ll(p),h=new y(_,v+"leave",m,r,d),h.target=g,h.relatedTarget=w,_=null,so(d)===u&&(y=new y(b,v+"enter",p,r,d),y.target=w,y.relatedTarget=g,_=y),g=_,m&&p)t:{for(y=vD,b=m,v=p,w=0,_=b;_;_=y(_))w++;_=0;for(var S=v;S;S=y(S))_++;for(;0<w-_;)b=y(b),w--;for(;0<_-w;)v=y(v),_--;for(;w--;){if(b===v||v!==null&&b===v.alternate){y=b;break t}b=y(b),v=y(v)}y=null}else y=null;m!==null&&jx(f,h,m,y,!1),p!==null&&g!==null&&jx(f,g,p,y,!0)}}e:{if(h=u?Ll(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=Bb;else if(zb(h))if(Hj)j=CM;else{j=EM;var E=jM}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Eg(u.elementType)&&(j=Bb):j=OM;if(j&&(j=j(e,u))){qj(f,j,r,d);break e}E&&E(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&pp(h,"number",h.value)}switch(E=u?Ll(u):window,e){case"focusin":(zb(E)||E.contentEditable==="true")&&(fo=E,yp=u,Yl=null);break;case"focusout":Yl=yp=fo=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,qb(f,r,d);break;case"selectionchange":if(TM)break;case"keydown":case"keyup":qb(f,r,d)}var O;if(Tg)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else co?Lj(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Ij&&r.locale!=="ko"&&(co||A!=="onCompositionStart"?A==="onCompositionEnd"&&co&&(O=$j()):(ya=d,Cg="value"in ya?ya.value:ya.textContent,co=!0)),E=ad(u,A),0<E.length&&(A=new Nb(A,e,null,r,d),f.push({event:A,listeners:E}),O?A.data=O:(O=Uj(r),O!==null&&(A.data=O)))),(O=bM?xM(e,r):wM(e,r))&&(A=ad(u,"onBeforeInput"),0<A.length&&(E=new Nb("onBeforeInput","beforeinput",null,r,d),f.push({event:E,listeners:A}),E.data=O)),fD(f,e,u,r,d)}BO(f,t)})}function xs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ad(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=ds(e,r),a!=null&&n.unshift(xs(e,a,i)),a=ds(e,t),a!=null&&n.push(xs(e,a,i))),e.tag===3)return n;e=e.return}return[]}function vD(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,s=l.alternate,u=l.stateNode;if(l=l.tag,s!==null&&s===n)break;l!==5&&l!==26&&l!==27||u===null||(s=u,a?(u=ds(r,i),u!=null&&o.unshift(xs(r,u,s))):a||(u=ds(r,i),u!=null&&o.push(xs(r,u,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var gD=/\r\n?/g,yD=/\u0000|\uFFFD/g;function Ex(e){return(typeof e=="string"?e:""+e).replace(gD,`
`).replace(yD,"")}function IO(e,t){return t=Ex(t),Ex(e)===t}function ge(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Ro(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Ro(e,""+n);break;case"className":Ru(e,"class",n);break;case"tabIndex":Ru(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ru(e,r,n);break;case"style":zj(e,n,i);break;case"data":if(t!=="object"){Ru(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=gc(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&ge(e,t,"name",a.name,a,null),ge(e,t,"formEncType",a.formEncType,a,null),ge(e,t,"formMethod",a.formMethod,a,null),ge(e,t,"formTarget",a.formTarget,a,null)):(ge(e,t,"encType",a.encType,a,null),ge(e,t,"method",a.method,a,null),ge(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=gc(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=En);break;case"onScroll":n!=null&&re("scroll",e);break;case"onScrollEnd":n!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(D(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(D(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=gc(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":re("beforetoggle",e),re("toggle",e),vc(e,"popover",n);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":vc(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=VR.get(r)||r,vc(e,r,n))}}function Hp(e,t,r,n,a,i){switch(r){case"style":zj(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(D(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(D(60));e.innerHTML=r}}break;case"children":typeof n=="string"?Ro(e,n):(typeof n=="number"||typeof n=="bigint")&&Ro(e,""+n);break;case"onScroll":n!=null&&re("scroll",e);break;case"onScrollEnd":n!=null&&re("scrollend",e);break;case"onClick":n!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kj.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[Yt]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):vc(e,r,n)}}}function Ct(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ge(e,t,i,o,r,null)}}a&&ge(e,t,"srcSet",r.srcSet,r,null),n&&ge(e,t,"src",r.src,r,null);return;case"input":re("invalid",e);var l=i=o=a=null,s=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":s=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(D(137,t));break;default:ge(e,t,n,d,r,null)}}Rj(e,i,l,s,u,o,a,!1);return;case"select":re("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(l=r[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":n=l;default:ge(e,t,a,l,r,null)}t=i,r=o,e.multiple=!!n,t!=null?_o(e,!!n,t,!1):r!=null&&_o(e,!!n,r,!0);return;case"textarea":re("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(l=r[o],l!=null))switch(o){case"value":n=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(D(91));break;default:ge(e,t,o,l,r,null)}Dj(e,n,a,i);return;case"option":for(s in r)if(r.hasOwnProperty(s)&&(n=r[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ge(e,t,s,n,r,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(n=0;n<bs.length;n++)re(bs[n],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ge(e,t,u,n,r,null)}return;default:if(Eg(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&Hp(e,t,d,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(n=r[l],n!=null&&ge(e,t,l,n,r,null))}function bD(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,s=null,u=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":s=f;default:n.hasOwnProperty(m)||ge(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(D(137,t));break;default:m!==f&&ge(e,t,h,m,n,f)}}mp(e,o,l,s,u,d,i,a);return;case"select":m=o=l=h=null;for(i in r)if(s=r[i],r.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":m=s;default:n.hasOwnProperty(i)||ge(e,t,i,null,n,s)}for(a in n)if(i=n[a],s=r[a],n.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==s&&ge(e,t,a,i,n,s)}t=l,r=o,n=m,h!=null?_o(e,!!r,h,!1):!!n!=!!r&&(t!=null?_o(e,!!r,t,!0):_o(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(l in r)if(a=r[l],r.hasOwnProperty(l)&&a!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ge(e,t,l,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(D(91));break;default:a!==i&&ge(e,t,o,a,n,i)}Mj(e,h,m);return;case"option":for(var p in r)if(h=r[p],r.hasOwnProperty(p)&&h!=null&&!n.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:ge(e,t,p,null,n,h)}for(s in n)if(h=n[s],m=r[s],n.hasOwnProperty(s)&&h!==m&&(h!=null||m!=null))switch(s){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ge(e,t,s,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!=null&&!n.hasOwnProperty(y)&&ge(e,t,y,null,n,h);for(u in n)if(h=n[u],m=r[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(D(137,t));break;default:ge(e,t,u,h,n,m)}return;default:if(Eg(t)){for(var g in r)h=r[g],r.hasOwnProperty(g)&&h!==void 0&&!n.hasOwnProperty(g)&&Hp(e,t,g,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Hp(e,t,d,h,n,m);return}}for(var b in r)h=r[b],r.hasOwnProperty(b)&&h!=null&&!n.hasOwnProperty(b)&&ge(e,t,b,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||ge(e,t,f,h,n,m)}function Ox(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xD(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,l=a.duration;if(i&&l&&Ox(o)){for(o=0,l=a.responseEnd,n+=1;n<r.length;n++){var s=r[n],u=s.startTime;if(u>l)break;var d=s.transferSize,f=s.initiatorType;d&&Ox(f)&&(s=s.responseEnd,o+=d*(s<l?1:(l-u)/(s-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wp=null,Kp=null;function id(e){return e.nodeType===9?e:e.ownerDocument}function Cx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LO(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xm=null;function wD(){var e=window.event;return e&&e.type==="popstate"?e===xm?!1:(xm=e,!0):(xm=null,!1)}var UO=typeof setTimeout=="function"?setTimeout:void 0,_D=typeof clearTimeout=="function"?clearTimeout:void 0,Ax=typeof Promise=="function"?Promise:void 0,SD=typeof queueMicrotask=="function"?queueMicrotask:typeof Ax<"u"?function(e){return Ax.resolve(null).then(e).catch(jD)}:UO;function jD(e){setTimeout(function(){throw e})}function La(e){return e==="head"}function Tx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),Uo(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")is(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,is(r);for(var i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Ys]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&is(e.ownerDocument.body);r=a}while(r);Uo(t)}function kx(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function Gp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Gp(r),jg(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ED(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ys])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Pr(e.nextSibling),e===null)break}return null}function OD(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Pr(e.nextSibling),e===null))return null;return e}function qO(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pr(e.nextSibling),e===null))return null;return e}function Fp(e){return e.data==="$?"||e.data==="$~"}function Yp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function CD(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xp=null;function Px(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Pr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Nx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function HO(e,t,r){switch(t=id(r),e){case"html":if(e=t.documentElement,!e)throw Error(D(452));return e;case"head":if(e=t.head,!e)throw Error(D(453));return e;case"body":if(e=t.body,!e)throw Error(D(454));return e;default:throw Error(D(451))}}function is(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jg(e)}var Nr=new Map,Rx=new Set;function od(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=fe.d;fe.d={f:AD,r:TD,D:kD,C:PD,L:ND,m:RD,X:DD,S:MD,M:zD};function AD(){var e=Yn.f(),t=Of();return e||t}function TD(e){var t=nl(e);t!==null&&t.tag===5&&t.type==="form"?zE(t):Yn.r(e)}var ll=typeof document>"u"?null:document;function WO(e,t,r){var n=ll;if(n&&typeof t=="string"&&t){var a=Or(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Rx.has(a)||(Rx.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Ct(t,"link",e),ht(t),n.head.appendChild(t)))}}function kD(e){Yn.D(e),WO("dns-prefetch",e,null)}function PD(e,t){Yn.C(e,t),WO("preconnect",e,t)}function ND(e,t,r){Yn.L(e,t,r);var n=ll;if(n&&e&&t){var a='link[rel="preload"][as="'+Or(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Or(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Or(r.imageSizes)+'"]')):a+='[href="'+Or(e)+'"]';var i=a;switch(t){case"style":i=Lo(e);break;case"script":i=sl(e)}Nr.has(i)||(e=ke({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Nr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(tu(i))||t==="script"&&n.querySelector(ru(i))||(t=n.createElement("link"),Ct(t,"link",e),ht(t),n.head.appendChild(t)))}}function RD(e,t){Yn.m(e,t);var r=ll;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Or(n)+'"][href="'+Or(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=sl(e)}if(!Nr.has(i)&&(e=ke({rel:"modulepreload",href:e},t),Nr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ru(i)))return}n=r.createElement("link"),Ct(n,"link",e),ht(n),r.head.appendChild(n)}}}function MD(e,t,r){Yn.S(e,t,r);var n=ll;if(n&&e){var a=wo(n).hoistableStyles,i=Lo(e);t=t||"default";var o=a.get(i);if(!o){var l={loading:0,preload:null};if(o=n.querySelector(tu(i)))l.loading=5;else{e=ke({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Nr.get(i))&&uy(e,r);var s=o=n.createElement("link");ht(s),Ct(s,"link",e),s._p=new Promise(function(u,d){s.onload=u,s.onerror=d}),s.addEventListener("load",function(){l.loading|=1}),s.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Cc(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:l},a.set(i,o)}}}function DD(e,t){Yn.X(e,t);var r=ll;if(r&&e){var n=wo(r).hoistableScripts,a=sl(e),i=n.get(a);i||(i=r.querySelector(ru(a)),i||(e=ke({src:e,async:!0},t),(t=Nr.get(a))&&cy(e,t),i=r.createElement("script"),ht(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function zD(e,t){Yn.M(e,t);var r=ll;if(r&&e){var n=wo(r).hoistableScripts,a=sl(e),i=n.get(a);i||(i=r.querySelector(ru(a)),i||(e=ke({src:e,async:!0,type:"module"},t),(t=Nr.get(a))&&cy(e,t),i=r.createElement("script"),ht(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Mx(e,t,r,n){var a=(a=ja.current)?od(a):null;if(!a)throw Error(D(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Lo(r.href),r=wo(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Lo(r.href);var i=wo(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(tu(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Nr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nr.set(e,r),i||BD(a,e,r,o.state))),t&&n===null)throw Error(D(528,""));return o}if(t&&n!==null)throw Error(D(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=sl(r),r=wo(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,e))}}function Lo(e){return'href="'+Or(e)+'"'}function tu(e){return'link[rel="stylesheet"]['+e+"]"}function KO(e){return ke({},e,{"data-precedence":e.precedence,precedence:null})}function BD(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ct(t,"link",r),ht(t),e.head.appendChild(t))}function sl(e){return'[src="'+Or(e)+'"]'}function ru(e){return"script[async]"+e}function Dx(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Or(r.href)+'"]');if(n)return t.instance=n,ht(n),n;var a=ke({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),ht(n),Ct(n,"style",a),Cc(n,r.precedence,e),t.instance=n;case"stylesheet":a=Lo(r.href);var i=e.querySelector(tu(a));if(i)return t.state.loading|=4,t.instance=i,ht(i),i;n=KO(r),(a=Nr.get(a))&&uy(n,a),i=(e.ownerDocument||e).createElement("link"),ht(i);var o=i;return o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),t.state.loading|=4,Cc(i,r.precedence,e),t.instance=i;case"script":return i=sl(r.src),(a=e.querySelector(ru(i)))?(t.instance=a,ht(a),a):(n=r,(a=Nr.get(i))&&(n=ke({},r),cy(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),ht(a),Ct(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(D(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Cc(n,r.precedence,e));return t.instance}function Cc(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var l=n[o];if(l.dataset.precedence===t)i=l;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function uy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ac=null;function zx(e,t,r){if(Ac===null){var n=new Map,a=Ac=new Map;a.set(r,n)}else a=Ac,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Ys]||i[St]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=n.get(o);l?l.push(i):n.set(o,[i])}}return n}function Bx(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function $D(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function VO(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function ID(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=Lo(n.href),i=t.querySelector(tu(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ld.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,ht(i);return}i=t.ownerDocument||t,n=KO(n),(a=Nr.get(a))&&uy(n,a),i=i.createElement("link"),ht(i);var o=i;o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=ld.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var wm=0;function LD(e,t){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&wm===0&&(wm=62500*xD());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>wm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sd=null;function Tc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sd=new Map,t.forEach(UD,e),sd=null,ld.call(e))}function UD(e,t){if(!(t.state.loading&4)){var r=sd.get(e);if(r)var n=r.get(null);else{r=new Map,sd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=ld.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var ws={$$typeof:jn,Provider:null,Consumer:null,_currentValue:di,_currentValue2:di,_threadCount:0};function qD(e,t,r,n,a,i,o,l,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.hiddenUpdates=Wh(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function GO(e,t,r,n,a,i,o,l,s,u,d,f){return e=new qD(e,t,r,o,s,u,d,f,l),t=1,i===!0&&(t|=24),i=ar(3,null,null,t),e.current=i,i.stateNode=e,t=zg(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},Ig(i),e}function FO(e){return e?(e=po,e):po}function YO(e,t,r,n,a,i){a=FO(a),n.context===null?n.context=a:n.pendingContext=a,n=Oa(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=Ca(e,n,t),r!==null&&(Ft(r,e,t),Zl(r,e,t))}function $x(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function dy(e,t){$x(e,t),(e=e.alternate)&&$x(e,t)}function XO(e){if(e.tag===13||e.tag===31){var t=Di(e,67108864);t!==null&&Ft(t,e,67108864),dy(e,67108864)}}function Ix(e){if(e.tag===13||e.tag===31){var t=hr();t=_g(t);var r=Di(e,t);r!==null&&Ft(r,e,t),dy(e,t)}}var ud=!0;function HD(e,t,r,n){var a=J.T;J.T=null;var i=fe.p;try{fe.p=2,fy(e,t,r,n)}finally{fe.p=i,J.T=a}}function WD(e,t,r,n){var a=J.T;J.T=null;var i=fe.p;try{fe.p=8,fy(e,t,r,n)}finally{fe.p=i,J.T=a}}function fy(e,t,r,n){if(ud){var a=Zp(n);if(a===null)bm(e,t,n,cd,r),Lx(e,n);else if(VD(a,e,t,r,n))n.stopPropagation();else if(Lx(e,n),t&4&&-1<KD.indexOf(e)){for(;a!==null;){var i=nl(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Za(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var s=1<<31-fr(o);l.entanglements[1]|=s,o&=~s}fn(i),!(de&6)&&(Qc=cr()+500,eu(0))}}break;case 31:case 13:l=Di(i,2),l!==null&&Ft(l,i,2),Of(),dy(i,2)}if(i=Zp(n),i===null&&bm(e,t,n,cd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else bm(e,t,n,null,r)}}function Zp(e){return e=Og(e),hy(e)}var cd=null;function hy(e){if(cd=null,e=so(e),e!==null){var t=Ks(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=vj(t),e!==null)return e;e=null}else if(r===31){if(e=gj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cd=e,null}function ZO(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kR()){case wj:return 2;case _j:return 8;case Ic:case PR:return 32;case Sj:return 268435456;default:return 32}default:return 32}}var Jp=!1,ka=null,Pa=null,Na=null,_s=new Map,Ss=new Map,ma=[],KD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lx(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(t.pointerId)}}function Tl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=nl(t),t!==null&&XO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function VD(e,t,r,n,a){switch(t){case"focusin":return ka=Tl(ka,e,t,r,n,a),!0;case"dragenter":return Pa=Tl(Pa,e,t,r,n,a),!0;case"mouseover":return Na=Tl(Na,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return _s.set(i,Tl(_s.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ss.set(i,Tl(Ss.get(i)||null,e,t,r,n,a)),!0}return!1}function JO(e){var t=so(e.target);if(t!==null){var r=Ks(t);if(r!==null){if(t=r.tag,t===13){if(t=vj(r),t!==null){e.blockedOn=t,jb(e.priority,function(){Ix(r)});return}}else if(t===31){if(t=gj(r),t!==null){e.blockedOn=t,jb(e.priority,function(){Ix(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zp(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vp=n,r.target.dispatchEvent(n),vp=null}else return t=nl(r),t!==null&&XO(t),e.blockedOn=r,!1;t.shift()}return!0}function Ux(e,t,r){kc(e)&&r.delete(t)}function GD(){Jp=!1,ka!==null&&kc(ka)&&(ka=null),Pa!==null&&kc(Pa)&&(Pa=null),Na!==null&&kc(Na)&&(Na=null),_s.forEach(Ux),Ss.forEach(Ux)}function Uu(e,t){e.blockedOn===t&&(e.blockedOn=null,Jp||(Jp=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,GD)))}var qu=null;function qx(e){qu!==e&&(qu=e,at.unstable_scheduleCallback(at.unstable_NormalPriority,function(){qu===e&&(qu=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(hy(n||r)===null)continue;break}var i=nl(r);i!==null&&(e.splice(t,3),t-=3,Np(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Uo(e){function t(s){return Uu(s,e)}ka!==null&&Uu(ka,e),Pa!==null&&Uu(Pa,e),Na!==null&&Uu(Na,e),_s.forEach(t),Ss.forEach(t);for(var r=0;r<ma.length;r++){var n=ma[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ma.length&&(r=ma[0],r.blockedOn===null);)JO(r),r.blockedOn===null&&ma.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[Yt]||null;if(typeof i=="function")o||qx(r);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Yt]||null)l=o.formAction;else if(hy(a)!==null)continue}else l=o.action;typeof l=="function"?r[n+1]=l:(r.splice(n,3),n-=3),qx(r)}}}function QO(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function my(e){this._internalRoot=e}Tf.prototype.render=my.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));var r=t.current,n=hr();YO(r,n,e,t,null,null)};Tf.prototype.unmount=my.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;YO(e.current,2,null,e,null,null),Of(),t[rl]=null}};function Tf(e){this._internalRoot=e}Tf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Aj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ma.length&&t!==0&&t<ma[r].priority;r++);ma.splice(r,0,e),r===0&&JO(e)}};var Hx=mj.version;if(Hx!=="19.2.3")throw Error(D(527,Hx,"19.2.3"));fe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=SR(t),e=e!==null?yj(e):null,e=e===null?null:e.stateNode,e};var FD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Vs=Hu.inject(FD),dr=Hu}catch{}}ff.createRoot=function(e,t){if(!pj(e))throw Error(D(299));var r=!1,n="",a=WE,i=KE,o=VE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=GO(e,1,!1,null,null,r,n,null,a,i,o,QO),e[rl]=t.current,sy(e),new my(t)};ff.hydrateRoot=function(e,t,r){if(!pj(e))throw Error(D(299));var n=!1,a="",i=WE,o=KE,l=VE,s=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(s=r.formState)),t=GO(e,1,!0,t,r??null,n,a,s,i,o,l,QO),t.context=FO(null),r=t.current,n=hr(),n=_g(n),a=Oa(n),a.callback=null,Ca(r,a,n),r=n,t.current.lanes=r,Fs(t,r),fn(t),e[rl]=t.current,sy(e),new Tf(t)};ff.version="19.2.3";function eC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eC)}catch(e){console.error(e)}}eC(),sj.exports=ff;var YD=sj.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}var _a;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_a||(_a={}));const Wx="popstate";function XD(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Qp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:tC(a)}return JD(t,r,null,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function py(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZD(){return Math.random().toString(36).substr(2,8)}function Kx(e,t){return{usr:e.state,key:e.key,idx:t}}function Qp(e,t,r,n){return r===void 0&&(r=null),js({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ul(t):t,{state:r,key:t&&t.key||n||ZD()})}function tC(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ul(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function JD(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=_a.Pop,s=null,u=d();u==null&&(u=0,o.replaceState(js({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=_a.Pop;let g=d(),b=g==null?null:g-u;u=g,s&&s({action:l,location:y.location,delta:b})}function h(g,b){l=_a.Push;let v=Qp(y.location,g,b);u=d()+1;let w=Kx(v,u),_=y.createHref(v);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&s&&s({action:l,location:y.location,delta:1})}function m(g,b){l=_a.Replace;let v=Qp(y.location,g,b);u=d();let w=Kx(v,u),_=y.createHref(v);o.replaceState(w,"",_),i&&s&&s({action:l,location:y.location,delta:0})}function p(g){let b=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof g=="string"?g:tC(g);return v=v.replace(/ $/,"%20"),Je(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let y={get action(){return l},get location(){return e(a,o)},listen(g){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(Wx,f),s=g,()=>{a.removeEventListener(Wx,f),s=null}},createHref(g){return t(a,g)},createURL:p,encodeLocation(g){let b=p(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(g){return o.go(g)}};return y}var Vx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vx||(Vx={}));function QD(e,t,r){return r===void 0&&(r="/"),ez(e,t,r)}function ez(e,t,r,n){let a=typeof t=="string"?ul(t):t,i=aC(a.pathname||"/",r);if(i==null)return null;let o=rC(e);tz(o);let l=null;for(let s=0;l==null&&s<o.length;++s){let u=hz(i);l=cz(o[s],u)}return l}function rC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let s={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(Je(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(n.length));let u=vi([n,s.relativePath]),d=r.concat(s);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rC(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:sz(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let s of nC(i.path))a(i,o,s)}),t}function nC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=nC(n.join("/")),l=[];return l.push(...o.map(s=>s===""?i:[i,s].join("/"))),a&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function tz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rz=/^:[\w-]+$/,nz=3,az=2,iz=1,oz=10,lz=-2,Gx=e=>e==="*";function sz(e,t){let r=e.split("/"),n=r.length;return r.some(Gx)&&(n+=lz),t&&(n+=az),r.filter(a=>!Gx(a)).reduce((a,i)=>a+(rz.test(i)?nz:i===""?iz:oz),n)}function uz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function cz(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let s=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=dz({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},d),h=s.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:vi([i,f.pathname]),pathnameBase:yz(vi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=vi([i,f.pathnameBase]))}return o}function dz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=fz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=l[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function fz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),py(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,s)=>(n.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function hz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return py(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function aC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const mz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pz=e=>mz.test(e);function vz(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ul(e):e,i;if(r)if(pz(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),py(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Fx(r.substring(1),"/"):i=Fx(r,t)}else i=t;return{pathname:i,search:bz(n),hash:xz(a)}}function Fx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function _m(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iC(e,t){let r=gz(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oC(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ul(e):(a=js({},e),Je(!a.pathname||!a.pathname.includes("?"),_m("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),_m("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),_m("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let s=vz(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(u||d)&&(s.pathname+="/"),s}const vi=e=>e.join("/").replace(/\/\/+/g,"/"),yz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lC=["post","put","patch","delete"];new Set(lC);const _z=["get",...lC];new Set(_z);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Es.apply(this,arguments)}const vy=x.createContext(null),Sz=x.createContext(null),nu=x.createContext(null),kf=x.createContext(null),Ua=x.createContext({outlet:null,matches:[],isDataRoute:!1}),sC=x.createContext(null);function au(){return x.useContext(kf)!=null}function Pf(){return au()||Je(!1),x.useContext(kf).location}function uC(e){x.useContext(nu).static||x.useLayoutEffect(e)}function Bi(){let{isDataRoute:e}=x.useContext(Ua);return e?$z():jz()}function jz(){au()||Je(!1);let e=x.useContext(vy),{basename:t,future:r,navigator:n}=x.useContext(nu),{matches:a}=x.useContext(Ua),{pathname:i}=Pf(),o=JSON.stringify(iC(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return uC(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=oC(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Ez=x.createContext(null);function Oz(e){let t=x.useContext(Ua).outlet;return t&&x.createElement(Ez.Provider,{value:e},t)}function Cz(e,t){return Az(e,t)}function Az(e,t,r,n){au()||Je(!1);let{navigator:a}=x.useContext(nu),{matches:i}=x.useContext(Ua),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let u=Pf(),d;if(t){var f;let g=typeof t=="string"?ul(t):t;s==="/"||(f=g.pathname)!=null&&f.startsWith(s)||Je(!1),d=g}else d=u;let h=d.pathname||"/",m=h;if(s!=="/"){let g=s.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=QD(e,{pathname:m}),y=Rz(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:vi([s,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?s:vi([s,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&y?x.createElement(kf.Provider,{value:{location:Es({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_a.Pop}},y):y}function Tz(){let e=Bz(),t=wz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const kz=x.createElement(Tz,null);class Pz extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Ua.Provider,{value:this.props.routeContext},x.createElement(sC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nz(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(vy);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Ua.Provider,{value:t},n)}function Rz(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Je(!1),o=o.slice(0,Math.min(o.length,d+1))}let s=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){s=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,p=!1,y=null,g=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||kz,s&&(u<0&&h===0?(Iz("route-fallback"),p=!0,g=null):u===h&&(p=!0,g=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),v=()=>{let w;return m?w=y:p?w=g:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(Nz,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Pz,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var cC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cC||{}),dC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dC||{});function Mz(e){let t=x.useContext(vy);return t||Je(!1),t}function Dz(e){let t=x.useContext(Sz);return t||Je(!1),t}function zz(e){let t=x.useContext(Ua);return t||Je(!1),t}function fC(e){let t=zz(),r=t.matches[t.matches.length-1];return r.route.id||Je(!1),r.route.id}function Bz(){var e;let t=x.useContext(sC),r=Dz(),n=fC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function $z(){let{router:e}=Mz(cC.UseNavigateStable),t=fC(dC.UseNavigateStable),r=x.useRef(!1);return uC(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Es({fromRouteId:t},i)))},[e,t])}const Yx={};function Iz(e,t,r){Yx[e]||(Yx[e]=!0)}function Lz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hC(e){let{to:t,replace:r,state:n,relative:a}=e;au()||Je(!1);let{future:i,static:o}=x.useContext(nu),{matches:l}=x.useContext(Ua),{pathname:s}=Pf(),u=Bi(),d=oC(t,iC(l,i.v7_relativeSplatPath),s,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Uz(e){return Oz(e.context)}function oa(e){Je(!1)}function qz(e){let{basename:t="/",children:r=null,location:n,navigationType:a=_a.Pop,navigator:i,static:o=!1,future:l}=e;au()&&Je(!1);let s=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:s,navigator:i,static:o,future:Es({v7_relativeSplatPath:!1},l)}),[s,l,i,o]);typeof n=="string"&&(n=ul(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,y=x.useMemo(()=>{let g=aC(d,s);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:p},navigationType:a}},[s,d,f,h,m,p,a]);return y==null?null:x.createElement(nu.Provider,{value:u},x.createElement(kf.Provider,{children:r,value:y}))}function Hz(e){let{children:t,location:r}=e;return Cz(ev(t),r)}new Promise(()=>{});function ev(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,ev(n.props.children,i));return}n.type!==oa&&Je(!1),!n.props.index||!n.props.children||Je(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ev(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Wz(e,t){let r=tv(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Kz="6";try{window.__reactRouterVersion=Kz}catch{}const Vz="startTransition",Xx=lj[Vz];function Gz(e){let{basename:t,children:r,future:n,window:a}=e,i=x.useRef();i.current==null&&(i.current=XD({window:a,v5Compat:!0}));let o=i.current,[l,s]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&Xx?Xx(()=>s(f)):s(f)},[s,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Lz(n),[n]),x.createElement(qz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var Zx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zx||(Zx={}));var Jx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jx||(Jx={}));function mC(e){let t=x.useRef(tv(e)),r=x.useRef(!1),n=Pf(),a=x.useMemo(()=>Wz(n.search,r.current?null:t.current),[n.search]),i=Bi(),o=x.useCallback((l,s)=>{const u=tv(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,s)},[i,a]);return[a,o]}var rv=function(e,t){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},rv(e,t)};function pC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var dd=function(){return dd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},dd.apply(this,arguments)};function cl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function vC(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function gC(e,t){return function(r,n){t(r,n,e)}}function yC(e,t,r,n,a,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=n.kind,s=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var p={};for(var y in n)p[y]=y==="access"?{}:n[y];for(var y in n.access)p.access[y]=n.access[y];p.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var g=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[s],p);if(l==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(f=o(g.get))&&(d.get=f),(f=o(g.set))&&(d.set=f),(f=o(g.init))&&a.unshift(f)}else(f=o(g))&&(l==="field"?a.unshift(f):d[s]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function bC(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function xC(e){return typeof e=="symbol"?e:"".concat(e)}function wC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function _C(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function V(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function s(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,s)}u((n=n.apply(e,t||[])).next())})}function SC(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return s([u,d])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Nf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function jC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Nf(t,e,r)}function fd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function EC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gy(arguments[t]));return e}function OC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function CC(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function qo(e){return this instanceof qo?(this.v=e,this):new qo(e)}function AC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(p){return Promise.resolve(p).then(m,f)}}function l(m,p){n[m]&&(a[m]=function(y){return new Promise(function(g,b){i.push([m,y,g,b])>1||s(m,y)})},p&&(a[m]=p(a[m])))}function s(m,p){try{u(n[m](p))}catch(y){h(i[0][3],y)}}function u(m){m.value instanceof qo?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){s("next",m)}function f(m){s("throw",m)}function h(m,p){m(p),i.shift(),i.length&&s(i[0][0],i[0][1])}}function TC(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:qo(e[a](o)),done:!1}:i?i(o):o}:i}}function kC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fd=="function"?fd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,s){o=e[i](o),a(l,s,o.done,o.value)})}}function a(i,o,l,s){Promise.resolve(s).then(function(u){i({value:u,done:l})},o)}}function PC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Fz=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},nv=function(e){return nv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},nv(e)};function NC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=nv(e),n=0;n<r.length;n++)r[n]!=="default"&&Nf(t,e,r[n]);return Fz(t,e),t}function RC(e){return e&&e.__esModule?e:{default:e}}function MC(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function DC(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function zC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function BC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Yz=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function $C(e){function t(i){e.error=e.hasError?new Yz(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function IC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const Xz={__extends:pC,__assign:dd,__rest:cl,__decorate:vC,__param:gC,__esDecorate:yC,__runInitializers:bC,__propKey:xC,__setFunctionName:wC,__metadata:_C,__awaiter:V,__generator:SC,__createBinding:Nf,__exportStar:jC,__values:fd,__read:gy,__spread:EC,__spreadArrays:OC,__spreadArray:CC,__await:qo,__asyncGenerator:AC,__asyncDelegator:TC,__asyncValues:kC,__makeTemplateObject:PC,__importStar:NC,__importDefault:RC,__classPrivateFieldGet:MC,__classPrivateFieldSet:DC,__classPrivateFieldIn:zC,__addDisposableResource:BC,__disposeResources:$C,__rewriteRelativeImportExtension:IC},Zz=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:BC,get __assign(){return dd},__asyncDelegator:TC,__asyncGenerator:AC,__asyncValues:kC,__await:qo,__awaiter:V,__classPrivateFieldGet:MC,__classPrivateFieldIn:zC,__classPrivateFieldSet:DC,__createBinding:Nf,__decorate:vC,__disposeResources:$C,__esDecorate:yC,__exportStar:jC,__extends:pC,__generator:SC,__importDefault:RC,__importStar:NC,__makeTemplateObject:PC,__metadata:_C,__param:gC,__propKey:xC,__read:gy,__rest:cl,__rewriteRelativeImportExtension:IC,__runInitializers:bC,__setFunctionName:wC,__spread:EC,__spreadArray:CC,__spreadArrays:OC,__values:fd,default:Xz},Symbol.toStringTag,{value:"Module"})),Jz="modulepreload",Qz=function(e){return"/"+e},Qx={},dl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(s=>{if(s=Qz(s),s in Qx)return;Qx[s]=!0;const u=s.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Jz,u||(f.as="script"),f.crossOrigin="",f.href=s,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},e3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dl(async()=>{const{default:n}=await Promise.resolve().then(()=>$i);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class yy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class e1 extends yy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class t1 extends yy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class r1 extends yy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var av;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(av||(av={}));class t3{constructor(t,{headers:r={},customFetch:n,region:a=av.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=e3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return V(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:s}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:s}).catch(b=>{throw b.name==="AbortError"?b:new e1(b)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new t1(m);if(!m.ok)throw new r1(m);let y=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield m.json():y==="application/octet-stream"||y==="application/pdf"?g=yield m.blob():y==="text/event-stream"?g=m:y==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new e1(i)}:{data:null,error:i,response:i instanceof r1||i instanceof t1?i.context:void 0}}})}}var Rt={};const fl=ZS(Zz);var Wu={},Ku={},Vu={},Gu={},Fu={},r3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ho=r3();const n3=Ho.fetch,LC=Ho.fetch.bind(Ho),UC=Ho.Headers,a3=Ho.Request,i3=Ho.Response,$i=Object.freeze(Object.defineProperty({__proto__:null,Headers:UC,Request:a3,Response:i3,default:LC,fetch:n3},Symbol.toStringTag,{value:"Module"})),o3=ZS($i);var Yu={},n1;function qC(){if(n1)return Yu;n1=1,Object.defineProperty(Yu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Yu.default=e,Yu}var a1;function HC(){if(a1)return Fu;a1=1,Object.defineProperty(Fu,"__esModule",{value:!0});const e=fl,t=e.__importDefault(o3),r=e.__importDefault(qC());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let s=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let p=null,y=null,g=null,b=u.status,v=u.statusText;if(u.ok){if(this.method!=="HEAD"){const j=await u.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=j:y=JSON.parse(j))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&S&&S.length>1&&(g=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,b=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await u.text();try{p=JSON.parse(_),Array.isArray(p)&&u.status===404&&(y=[],p=null,b=200,v="OK")}catch{u.status===404&&_===""?(b=204,v="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,b=200,v="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:y,count:g,status:b,statusText:v}});return this.shouldThrowOnError||(s=s.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return Fu.default=n,Fu}var i1;function WC(){if(i1)return Gu;i1=1,Object.defineProperty(Gu,"__esModule",{value:!0});const t=fl.__importDefault(HC());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:s=l}={}){const u=s?`${s}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const s=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(s,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:s=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Gu.default=r,Gu}var o1;function by(){if(o1)return Vu;o1=1,Object.defineProperty(Vu,"__esModule",{value:!0});const t=fl.__importDefault(WC()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(s=>typeof s=="string"&&r.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const s=l?`${l}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Vu.default=n,Vu}var l1;function KC(){if(l1)return Ku;l1=1,Object.defineProperty(Ku,"__esModule",{value:!0});const t=fl.__importDefault(by());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},s=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const s="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:s=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ku.default=r,Ku}var s1;function l3(){if(s1)return Wu;s1=1,Object.defineProperty(Wu,"__esModule",{value:!0});const e=fl,t=e.__importDefault(KC()),r=e.__importDefault(by());class n{constructor(i,{headers:o={},schema:l,fetch:s}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=s}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:s=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;l||s?(f=l?"HEAD":"GET",Object.entries(o).filter(([y,g])=>g!==void 0).map(([y,g])=>[y,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([y,g])=>{h.searchParams.append(y,g)})):(f="POST",m=o);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Wu.default=n,Wu}Object.defineProperty(Rt,"__esModule",{value:!0});var VC=Rt.PostgrestError=rA=Rt.PostgrestBuilder=eA=Rt.PostgrestTransformBuilder=JC=Rt.PostgrestFilterBuilder=XC=Rt.PostgrestQueryBuilder=FC=Rt.PostgrestClient=void 0;const hl=fl,GC=hl.__importDefault(l3());var FC=Rt.PostgrestClient=GC.default;const YC=hl.__importDefault(KC());var XC=Rt.PostgrestQueryBuilder=YC.default;const ZC=hl.__importDefault(by());var JC=Rt.PostgrestFilterBuilder=ZC.default;const QC=hl.__importDefault(WC());var eA=Rt.PostgrestTransformBuilder=QC.default;const tA=hl.__importDefault(HC());var rA=Rt.PostgrestBuilder=tA.default;const nA=hl.__importDefault(qC());VC=Rt.PostgrestError=nA.default;var aA=Rt.default={PostgrestClient:GC.default,PostgrestQueryBuilder:YC.default,PostgrestFilterBuilder:ZC.default,PostgrestTransformBuilder:QC.default,PostgrestBuilder:tA.default,PostgrestError:nA.default};const s3=XS({__proto__:null,get PostgrestBuilder(){return rA},get PostgrestClient(){return FC},get PostgrestError(){return VC},get PostgrestFilterBuilder(){return JC},get PostgrestQueryBuilder(){return XC},get PostgrestTransformBuilder(){return eA},default:aA},[Rt]),{PostgrestClient:u3,PostgrestQueryBuilder:JX,PostgrestFilterBuilder:QX,PostgrestTransformBuilder:eZ,PostgrestBuilder:tZ,PostgrestError:rZ}=aA||s3;class c3{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const d3="2.78.0",f3=`realtime-js/${d3}`,h3="1.0.0",iv=1e4,m3=1e3,p3=100;var os;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(os||(os={}));var tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tt||(tt={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var ov;(function(e){e.websocket="websocket"})(ov||(ov={}));var ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ai||(ai={}));class v3{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const s=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:s,payload:u}}}class iA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const u1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=g3(o,e,t,a),i),{}):{}},g3=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?oA(i,o):lv(o)},oA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return w3(t,r)}switch(e){case Se.bool:return y3(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return b3(t);case Se.json:case Se.jsonb:return x3(t);case Se.timestamp:return _3(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return lv(t);default:return lv(t)}},lv=e=>e,y3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},b3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},x3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},w3=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>oA(t,l))}return e},_3=e=>typeof e=="string"?e.replace(" ","T"):e,lA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Sm{constructor(t,r,n={},a=iv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var c1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(c1||(c1={}));class ls{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ls.syncState(this.state,a,i,o),this.pendingDiffs.forEach(s=>{this.state=ls.syncDiff(this.state,s,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ls.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},s={};return this.map(i,(u,d)=>{o[u]||(s[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(g=>g.presence_ref),m=f.map(g=>g.presence_ref),p=d.filter(g=>m.indexOf(g.presence_ref)<0),y=f.filter(g=>h.indexOf(g.presence_ref)<0);p.length>0&&(l[u]=p),y.length>0&&(s[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:s},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,s)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(s),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,s)}),this.map(o,(l,s)=>{let u=t[l];if(!u)return;const d=s.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,s),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(d1||(d1={}));var ss;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ss||(ss={}));var yn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class xy{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sm(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new iA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ls(this),this.broadcastEndpointURL=lA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:o,presence:l,private:s}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[ss.PRESENCE]&&this.bindings[ss.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:s};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(yn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(yn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,g=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,b=[];for(let v=0;v<g;v++){const w=y[v],{filter:{event:_,schema:S,table:j,filter:E}}=w,O=m&&m[v];if(O&&O.event===_&&O.schema===S&&O.table===j&&O.filter===E)b.push(Object.assign(Object.assign({},w),{id:O.id}));else{this.unsubscribe(),this.state=tt.errored,t==null||t(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(yn.SUBSCRIBED);return}}).receive("error",m=>{this.state=tt.errored,t==null||t(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===tt.joined&&t===ss.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let s=l.statusText;try{const u=await l.json();s=u.error||u.message||s}catch{}return Promise.reject(new Error(s))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,s;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((s=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||s===void 0)&&s.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Sm(this,Hr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Sm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>p3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:s,leave:u,join:d}=Hr;if(n&&[l,s,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,y,g;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(y=m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,y,g,b,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,S=(p=m.filter)===null||p===void 0?void 0:p.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(v=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:y,table:g,commit_timestamp:b,type:v,errors:w}=p;h=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&xy.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=u1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=u1(t.columns,t.old_record)),r}}const jm=()=>{},Xu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S3=[1e3,2e3,5e3,1e4],j3=1e4,E3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class O3{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=iv,this.transport=null,this.heartbeatIntervalMs=Xu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jm,this.ref=0,this.reconnectTimer=null,this.logger=jm,this.conn=null,this.sendBuffer=[],this.serializer=new v3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>dl(async()=>{const{default:l}=await Promise.resolve().then(()=>$i);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ov.websocket}`,this.httpEndpoint=lA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=c3.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h3}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return ai.Connecting;case os.open:return ai.Open;case os.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new xy(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var s;(s=this.conn)===null||s===void 0||s.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",s=i.status||"";this.log("receive",`${s} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([E3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:f3};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Hr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new iA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,s,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:iv,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Xu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:jm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(s=t==null?void 0:t.reconnectAfterMs)!==null&&s!==void 0?s:f=>S3[f-1]||j3,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class C3 extends wy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sv extends wy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const _y=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dl(async()=>{const{default:n}=await Promise.resolve().then(()=>$i);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},A3=()=>V(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dl(()=>Promise.resolve().then(()=>$i),void 0)).Response:Response}),uv=e=>{if(Array.isArray(e))return e.map(r=>uv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=uv(n)}),t},T3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Em=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},k3=(e,t,r)=>V(void 0,void 0,void 0,function*(){const n=yield A3();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new C3(Em(a),i,o))}).catch(a=>{t(new sv(Em(a),a))}):t(new sv(Em(e),e))}),P3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(T3(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function iu(e,t,r,n,a,i){return V(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,P3(t,n,a,i)).then(s=>{if(!s.ok)throw s;return n!=null&&n.noResolveJson?s:s.json()}).then(s=>o(s)).catch(s=>k3(s,l,n))})})}function Os(e,t,r,n){return V(this,void 0,void 0,function*(){return iu(e,"GET",t,r,n)})}function Ur(e,t,r,n,a){return V(this,void 0,void 0,function*(){return iu(e,"POST",t,n,a,r)})}function cv(e,t,r,n,a){return V(this,void 0,void 0,function*(){return iu(e,"PUT",t,n,a,r)})}function N3(e,t,r,n){return V(this,void 0,void 0,function*(){return iu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Sy(e,t,r,n,a){return V(this,void 0,void 0,function*(){return iu(e,"DELETE",t,n,a,r)})}class R3{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return V(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}}var sA;class M3{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[sA]="BlobDownloadBuilder",this.promise=null}asStream(){return new R3(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return V(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}}sA=Symbol.toStringTag;const D3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class z3{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=_y(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return V(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},f1),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const s=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,s&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?cv:Ur)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}upload(t,r,n){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return V(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let s;const u=Object.assign({upsert:f1.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",u.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",u.cacheControl)):(s=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield cv(this.fetch,l.toString(),s,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(t,r){return V(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new wy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}update(t,r,n){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return V(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}copy(t,r,n){return V(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return V(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ur(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return V(this,void 0,void 0,function*(){try{const a=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),s=()=>Os(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new M3(s,this.shouldThrowOnError)}info(t){return V(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Os(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:uv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}exists(t){return V(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield N3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n)&&n instanceof sv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});s!==""&&a.push(s);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return V(this,void 0,void 0,function*(){try{return{data:yield Sy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}list(t,r,n){return V(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},D3),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}listV2(t,r){return V(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const uA="2.78.0",cA={"X-Client-Info":`storage-js/${uA}`};class B3{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cA),r),this.fetch=_y(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return V(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Os(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}createBucket(t){return V(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return V(this,void 0,void 0,function*(){try{return{data:yield cv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}emptyBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Sy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class $3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cA),r),this.fetch=_y(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}listBuckets(t){return V(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Os(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Sy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}}const jy={"X-Client-Info":`storage-js/${uA}`,"Content-Type":"application/json"};class dA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ir(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Om extends dA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class I3 extends dA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var h1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(h1||(h1={}));const Ey=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dl(async()=>{const{default:n}=await Promise.resolve().then(()=>$i);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},L3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},m1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U3=(e,t,r)=>V(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Om(m1(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Om(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Om(l,a,o))}}else t(new I3(m1(e),e))}),q3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(L3(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function H3(e,t,r,n,a,i){return V(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,q3(t,n,a,i)).then(s=>{if(!s.ok)throw s;if(n!=null&&n.noResolveJson)return s;const u=s.headers.get("content-type");return!u||!u.includes("application/json")?{}:s.json()}).then(s=>o(s)).catch(s=>U3(s,l,n))})})}function or(e,t,r,n,a){return V(this,void 0,void 0,function*(){return H3(e,"POST",t,n,a,r)})}class W3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),r),this.fetch=Ey(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getIndex(t,r){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listIndexes(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class K3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),r),this.fetch=Ey(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return V(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listVectors(t){return V(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield or(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}queryVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteVectors(t){return V(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class V3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),r),this.fetch=Ey(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBuckets(){return V(this,arguments,void 0,function*(t={}){try{return{data:yield or(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class G3 extends V3{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new F3(this.url,this.headers,t,this.fetch)}}class F3 extends W3{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return V(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return V(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return V(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return V(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Y3(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Y3 extends K3{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return V(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return V(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return V(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return V(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return V(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class X3 extends B3{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new z3(this.url,this.headers,t,this.fetch)}get vectors(){return new G3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $3(this.url+"/iceberg",this.headers,this.fetch)}}const Z3="2.78.0";let Hl="";typeof Deno<"u"?Hl="deno":typeof document<"u"?Hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hl="react-native":Hl="node";const J3={"X-Client-Info":`supabase-js-${Hl}/${Z3}`},Q3={headers:J3},eB={schema:"public"},tB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rB={},nB=e=>{let t;return e?t=e:typeof fetch>"u"?t=LC:t=fetch,(...r)=>t(...r)},aB=()=>typeof Headers>"u"?UC:Headers,iB=(e,t,r)=>{const n=nB(r),a=aB();return async(i,o)=>{var l;const s=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${s}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function oB(e){return e.endsWith("/")?e:e+"/"}function lB(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:s,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},s),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function sB(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oB(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const fA="2.78.0",no=30*1e3,dv=3,Cm=dv*no,uB="http://localhost:9999",cB="supabase.auth.token",dB={"X-Client-Info":`gotrue-js/${fA}`},fv="X-Supabase-Api-Version",hA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hB=10*60*1e3;class Cs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function F(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mB extends Cs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function pB(e){return F(e)&&e.name==="AuthApiError"}class ii extends Cs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qa extends Cs{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ir extends qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vB(e){return F(e)&&e.name==="AuthSessionMissingError"}class Vi extends qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zu extends qa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ju extends qa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gB(e){return F(e)&&e.name==="AuthImplicitGrantRedirectError"}class p1 extends qa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hv extends qa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Am(e){return F(e)&&e.name==="AuthRetryableFetchError"}class v1 extends qa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class mv extends qa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g1=` 	
\r=`.split(""),yB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<g1.length;t+=1)e[g1[t].charCodeAt(0)]=-2;for(let t=0;t<hd.length;t+=1)e[hd[t].charCodeAt(0)]=t;return e})();function y1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hd[n]),t.queuedBits-=6}}function mA(e,t,r){const n=yB[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function b1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{wB(o,n,r)};for(let o=0;o<e.length;o+=1)mA(e.charCodeAt(o),a,i);return t.join("")}function bB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xB(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}bB(n,t)}}function wB(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ao(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)mA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function _B(e){const t=[];return xB(e,r=>t.push(r)),new Uint8Array(t)}function oi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>y1(a,r,n)),y1(null,r,n),t.join("")}function SB(e){return Math.round(Date.now()/1e3)+e}function jB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pt=()=>typeof window<"u"&&typeof document<"u",Fa={tested:!1,writable:!1},pA=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fa.tested)return Fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fa.tested=!0,Fa.writable=!0}catch{Fa.tested=!0,Fa.writable=!1}return Fa.writable};function EB(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const vA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dl(async()=>{const{default:n}=await Promise.resolve().then(()=>$i);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},OB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ao=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ya=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ia=async(e,t)=>{await e.removeItem(t)};class Rf{constructor(){this.promise=new Rf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Rf.promiseConstructor=Promise;function Tm(e){const t=e.split(".");if(t.length!==3)throw new mv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fB.test(t[n]))throw new mv("JWT not in base64url format");return{header:JSON.parse(b1(t[0])),payload:JSON.parse(b1(t[1])),signature:Ao(t[2]),raw:{header:t[0],payload:t[1]}}}async function CB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function AB(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function TB(e){return("0"+e.toString(16)).substr(-2)}function kB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,TB).join("")}async function PB(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function NB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await PB(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gi(e,t,r=!1){const n=kB();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ao(e,`${t}-code-verifier`,a);const i=await NB(n);return[i,n===i?"plain":"s256"]}const RB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MB(e){const t=e.headers.get(fv);if(!t||!t.match(RB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fi(e){if(!BB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function km(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $B(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function x1(e){return JSON.parse(JSON.stringify(e))}const ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IB=[502,503,504];async function w1(e){var t;if(!OB(e))throw new hv(ei(e),0);if(IB.includes(e.status))throw new hv(ei(e),e.status);let r;try{r=await e.json()}catch(i){throw new ii(ei(i),i)}let n;const a=MB(e);if(a&&a.getTime()>=hA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new v1(ei(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ir}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new v1(ei(r),e.status,r.weak_password.reasons);throw new mB(ei(r),e.status||500,n)}const LB=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Z(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[fv]||(i[fv]=hA["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",s=await UB(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(s):{data:Object.assign({},s),error:null}}async function UB(e,t,r,n,a,i){const o=LB(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(s){throw console.error(s),new hv(ei(s),0)}if(l.ok||await w1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(s){await w1(s)}}function Lr(e){var t;let r=null;WB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=SB(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _1(e){const t=Lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qB(e){return{data:e,error:null}}function HB(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=cl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},s=Object.assign({},o);return{data:{properties:l,user:s},error:null}}function S1(e){return e}function WB(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pm=["global","local","others"];class KB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Pm[0]){if(Pm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pm.join(", ")}`);try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pa})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=cl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:HB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pa})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,s;try{const u={nextPage:null,lastPage:0,total:0},d=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:S1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(F(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fi(t);try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pa})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fi(t);try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pa})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fi(t);try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pa})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fi(t.userId);try{const{data:r,error:n}=await Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fi(t.userId),Fi(t.id);try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,s;try{const u={nextPage:null,lastPage:0,total:0},d=await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:S1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(F(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}}function j1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Yi={debug:!!(globalThis&&pA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class VB extends gA{}async function GB(e,t,r){Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new VB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function FB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function YB(e){return parseInt(e,16)}function XB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ZB(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:s,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=yA(e.address),p=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${m}

${y}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),s&&(b+=`
Request ID: ${s}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}b+=v}return`${g}
${b}`}class Ve extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class md extends Ve{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function JB({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(bA(o)){if(i.rp.id!==o)return new Ve({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function QB({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(bA(n)){if(r.rpId!==n)return new Ve({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class e5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const t5=new e5;function r5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=cl(e,["challenge","user","excludeCredentials"]),i=Ao(t).buffer,o=Object.assign(Object.assign({},r),{id:Ao(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const u=n[s];l.excludeCredentials[s]=Object.assign(Object.assign({},u),{id:Ao(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function n5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=cl(e,["challenge","allowCredentials"]),a=Ao(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ao(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function a5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:oi(new Uint8Array(e.response.attestationObject)),clientDataJSON:oi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function i5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oi(new Uint8Array(a.authenticatorData)),clientDataJSON:oi(new Uint8Array(a.clientDataJSON)),signature:oi(new Uint8Array(a.signature)),userHandle:a.userHandle?oi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function E1(){var e,t;return!!(Pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function o5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new md("Browser returned unexpected credential type",t)}:{data:null,error:new md("Empty credential response",t)}}catch(t){return{data:null,error:JB({error:t,options:e})}}}async function l5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new md("Browser returned unexpected credential type",t)}:{data:null,error:new md("Empty credential response",t)}}catch(t){return{data:null,error:QB({error:t,options:e})}}}const s5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},u5={userVerification:"preferred",hints:["security-key"]};function pd(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=pd(l,o):n[i]=pd(o)}else n[i]=o}return n}function c5(e,t){return pd(s5,e,t||{})}function d5(e,t){return pd(u5,e,t||{})}class f5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const s=a??t5.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=c5(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await o5({publicKey:u,signal:s});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=d5(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await l5(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:s}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Cs("rpId is required for WebAuthn authentication")};try{if(!E1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:s}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:s.type,rpId:r,rpOrigins:n,credential_response:s.credential_response}})}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Cs("rpId is required for WebAuthn registration")};try{if(!E1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:s,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return s?this._verify({factorId:o.id,challengeId:s.challengeId,webauthn:{rpId:r,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:u}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in register",o)}}}}FB();const h5={url:uB,storageKey:cB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function O1(e,t,r){return await r()}const Xi={};class As{get jwks(){var t,r;return(r=(t=Xi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xi[this.storageKey]=Object.assign(Object.assign({},Xi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xi[this.storageKey]=Object.assign(Object.assign({},Xi[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=As.nextInstanceID,As.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},h5),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new KB({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=vA(a.fetch),this.lock=a.lock||O1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=GB:this.lock=O1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new f5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:pA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=j1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=j1(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=EB(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),gB(i)){const s=(t=i.details)===null||t===void 0?void 0:t.code;if(s==="identity_already_exists"||s==="identity_not_found"||s==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?{error:r}:{error:new ii("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Lr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:u,session:s},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Gi(this.storage,this.storageKey)),i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Lr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lr})}else throw new Zu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:u,session:s},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_1})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_1})}else throw new Zu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Vi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,s,u,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:y,wallet:g,statement:b,options:v}=t;let w;if(Pt())if(typeof g=="object")w=g;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=yA(S[0]);let E=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await w.request({method:"eth_chainId"});E=YB(A)}const O={domain:_.host,address:j,statement:b,uri:_.href,version:"1",chainId:E,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=ZB(O),p=await w.request({method:"personal_sign",params:[XB(m),j]})}try{const{data:y,error:g}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Lr});if(g)throw g;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Vi}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:g})}catch(y){if(F(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var r,n,a,i,o,l,s,u,d,f,h,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:g,wallet:b,statement:v,options:w}=t;let _;if(Pt())if(typeof b=="object")_=b;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:g,error:b}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:oi(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Lr});if(b)throw b;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Vi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:b})}catch(g){if(F(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Lr});if(await ia(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Lr}),{data:s,error:u}=l;return u?{data:{user:null,session:null},error:u}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Vi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:u})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:s}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gi(this.storage,this.storageKey));const{error:f}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=s==null?void 0:s.data)!==null&&r!==void 0?r:{},create_user:(n=s==null?void 0:s.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:s}=t,{data:u,error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=s==null?void 0:s.data)!==null&&a!==void 0?a:{},create_user:(i=s==null?void 0:s.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},channel:(o=s==null?void 0:s.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Zu("You must provide either an email or phone number.")}catch(l){if(F(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Lr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const s=o.session,u=o.user;return s!=null&&s.access_token&&(await this._saveSession(s),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:u,session:s},error:null}}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gi(this.storage,this.storageKey)),await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qB})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ir;const{error:a}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Zu("You must provide either an email or phone number and a type")}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ya(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=km()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=$B(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pa}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ir}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:pa})})}catch(r){if(F(r))return vB(r)&&(await this._removeSession(),await ia(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ir;const o=a.session;let l=null,s=null;this.flowType==="pkce"&&t.email!=null&&([l,s]=await Gi(this.storage,this.storageKey));const{data:u,error:d}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:s}),jwt:o.access_token,xform:pa});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ir;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Tm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:s}=await this._callRefreshToken(t.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:s}=await this._getUser(t.access_token);if(s)throw s;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(F(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ir;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Pt())throw new Ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new p1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ju("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new p1("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:s,token_type:u}=t;if(!i||!l||!o||!u)throw new Ju("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;s&&(h=parseInt(s));const m=h-d;m*1e3<=no&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:y,error:g}=await this._getUser(i);if(g)throw g;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(F(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(pB(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ia(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=jB(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Gi(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,s,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Pt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(F(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:s,access_token:u,nonce:d}=t,f=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:s,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Vi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await AB(async a=>(a>0&&await CB(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Am(i)&&Date.now()+o-n<no})}catch(n){if(this._debug(r,"error",n),F(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ya(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ya(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ao(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:km()}else if(a&&!a.user&&!a.user){const o=await Ya(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await ia(this.storage,this.storageKey+"-user"),await ao(this.storage,this.storageKey,a)):a.user=km()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Cm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Am(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ir;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Rf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ir;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),F(i)){const o={data:null,error:i};return Am(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(s){i.push(s)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ao(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=x1(a);await ao(this.storage,this.storageKey,i)}else{const a=x1(r);await ao(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ia(this.storage,this.storageKey),await ia(this.storage,this.storageKey+"-code-verifier"),await ia(this.storage,this.storageKey+"-user"),this.userStorage&&await ia(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),no);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/no);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${no}ms, refresh threshold is ${dv} ticks`),a<=dv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:s,error:u}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&s.type==="totp"&&(!((a=s==null?void 0:s.totp)===null||a===void 0)&&a.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?a5(t.webauthn.credential_response):i5(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:s}=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:s})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:r5(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:n5(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Tm(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await Z(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Ir}})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Ir};const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Ir};const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(F(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+hB>a)return n;const{data:i,error:o}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:s}}=Tm(n);r!=null&&r.allowExpired||DB(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=zB(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,_B(`${l}.${s}`)))throw new mv("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}As.nextInstanceID=0;const m5=As;class p5 extends m5{constructor(t){super(t)}}class v5{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=sB(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const s=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:eB,realtime:rB,auth:Object.assign(Object.assign({},tB),{storageKey:s}),global:Q3},d=lB(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=iB(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new u3(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new X3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new t3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:s,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p5({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:s,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new O3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const g5=(e,t,r)=>new v5(e,t,r);function y5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}y5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const b5="https://abbysvxnnhwvvzhftoms.supabase.co",x5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",$=g5(b5,x5);function w5(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,i]=x.useState(!1),o=Bi(),l=async s=>{s.preventDefault(),i(!0);const{error:u}=await $.auth.signInWithPassword({email:e,password:r});u?u.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(u.message):o("/dashboard"),i(!1)};return c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:c.jsxs("form",{onSubmit:l,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[c.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:s=>{s.target.onerror=null,s.target.style.display="none",s.target.nextSibling.style.display="block"}}),c.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),c.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),c.jsx("input",{id:"email",type:"email",value:e,onChange:s=>t(s.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),c.jsx("input",{id:"password",type:"password",value:r,onChange:s=>n(s.target.value),className:"input",placeholder:"",required:!0})]}),c.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"})]})})}const Ha=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},Oy=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const l=await o.json(),s=l.estabelecimento||{},u=l.socios&&l.socios.length>0?l.socios[0]:null;return{nome:l.razao_social,fantasia:s.nome_fantasia,doc:t,email:s.email,telefone:s.ddd1&&s.telefone1?`(${s.ddd1}) ${s.telefone1}`:"",address:{logradouro:s.tipo_logradouro?`${s.tipo_logradouro} ${s.logradouro}`:s.logradouro,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cep:s.cep,uf:(n=s.estado)==null?void 0:n.sigla,municipio:(a=s.cidade)==null?void 0:a.nome,cidade:(i=s.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:l}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},_5=async e=>{try{const{data:t,error:r}=await $.functions.invoke("manage-asaas-customer",{body:e});if(r)throw r;return t}catch(t){throw console.error("Erro Asaas Customer:",t),t}},ou=async e=>{const{data:t,error:r}=await $.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},Mf=async(e,t="invoice")=>{const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await $.functions.invoke("create-asaas-charge",{body:r});if(a)throw a;return n};function S5(){const[e]=mC(),t=Bi(),r=e.get("id"),[n,a]=x.useState({cep:"",nome:"",email:"",telefone:"",consumo:""}),[i,o]=x.useState(null),[l,s]=x.useState(null),[u,d]=x.useState(!1),[f,h]=x.useState(!1),m=async()=>{if(n.cep.length>=8)try{d(!0);const b=await Ha(n.cep);if(o(b),b.ibge){const v=await ou(b.ibge);s(v)}}catch(b){console.error(b),alert("Erro ao buscar CEP")}finally{d(!1)}},p=()=>{if(!l||!n.consumo)return null;const b=l["Tarifa Concessionaria"]||.85,v=l["Desconto Assinante"]||.1,w=parseFloat(n.consumo)*b,_=w*v;return{contaAtual:w,economiaMensal:_,anual:_*12}},y=async b=>{b.preventDefault(),d(!0),p();const{data:v,error:w}=await $.from("leads").insert({name:n.nome,email:n.email,phone:n.telefone,address:i,consumo_kwh:parseFloat(n.consumo),concessionaria:l==null?void 0:l.Concessionaria,tarifa_concessionaria:l==null?void 0:l["Tarifa Concessionaria"],desconto_assinante:l==null?void 0:l["Desconto Assinante"],originator_id:r,status:"simulacao"}).select().single();w?alert("Erro ao salvar simulao: "+w.message):h(!0),d(!1)},g=p();return c.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:c.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[c.jsx("h1",{style:{textAlign:"center"},children:"Simule sua Economia"}),f?c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("h2",{style:{color:"var(--color-orange)"},children:"Resultado da Simulao"}),c.jsxs("div",{style:{margin:"2rem 0",padding:"1rem",background:"#f0fdf4",borderRadius:"8px"},children:[c.jsxs("p",{children:["Sua conta atual: ",c.jsxs("strong",{children:["R$ ",g==null?void 0:g.contaAtual.toFixed(2)]})]}),c.jsxs("h3",{style:{color:"green",fontSize:"1.5rem",margin:"1rem 0"},children:["Economia Anual Estimada: ",c.jsx("br",{}),"R$ ",g==null?void 0:g.anual.toFixed(2)]})]}),c.jsx("button",{onClick:()=>t("/assine"),style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white",fontWeight:"bold"},children:"Quero Assinar!"})]}):c.jsxs("form",{onSubmit:y,children:[c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{children:"CEP"}),c.jsx("input",{value:n.cep,onChange:b=>a({...n,cep:b.target.value}),onBlur:m,placeholder:"00000-000",style:{width:"100%",padding:"0.5rem"},required:!0})]}),i&&c.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#f0f9ff",borderRadius:"4px"},children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Cidade:"})," ",i.cidade," - ",i.uf]}),l?c.jsxs("p",{style:{color:"green"},children:[" Concessionria: ",l.Concessionaria]}):c.jsx("p",{style:{color:"orange"},children:" Sem oferta automtica para esta regio"})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{children:"Nome Completo"}),c.jsx("input",{value:n.nome,onChange:b=>a({...n,nome:b.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:n.email,onChange:b=>a({...n,email:b.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{children:"Telefone"}),c.jsx("input",{value:n.telefone,onChange:b=>a({...n,telefone:b.target.value}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{children:"Consumo Mdio (kWh)"}),c.jsx("input",{type:"number",value:n.consumo,onChange:b=>a({...n,consumo:b.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsx("button",{type:"submit",disabled:u,style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold",fontSize:"1.1rem"},children:u?"Calculando...":"Simular Economia"})]})]})})}function j5(){const e=Bi(),[t,r]=x.useState(!1),[n,a]=x.useState(1),[i,o]=x.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),l=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await Oy(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},s=async()=>{if(i.cep.length>=8){r(!0);try{const f=await Ha(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await $.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const p=h.user.id,{error:y}=await $.from("profiles").upsert({id:p,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});y&&console.error("Erro ao criar/atualizar perfil:",y);const{data:g,error:b}=await $.from("subscribers").insert({profile_id:p,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(b)throw b;await $.from("consumer_units").insert({subscriber_id:g.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return c.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:c.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[c.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&c.jsx("form",{onSubmit:u,children:c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{children:"CPF/CNPJ"}),c.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:l,style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Nome Completo"}),c.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Senha"}),c.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Telefone"}),c.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&c.jsx("form",{onSubmit:d,children:c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{children:"CEP da Unidade Consumidora"}),c.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Rua"}),c.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),c.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Nmero da Instalao (UC)"}),c.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),C1=e=>{const t=O5(e);return t.charAt(0).toUpperCase()+t.slice(1)},xA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),C5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},s)=>x.createElement("svg",{ref:s,...A5,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:xA("lucide",a),...!i&&!C5(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(T5,{ref:i,iconNode:t,className:xA(`lucide-${E5(C1(e))}`,`lucide-${e}`,n),...a}));return r.displayName=C1(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],A1=De("briefcase",k5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],N5=De("chevron-left",P5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M5=De("chevron-right",R5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z5=De("circle-alert",D5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$5=De("circle-check-big",B5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],L5=De("clock",I5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],q5=De("copy",U5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Df=De("credit-card",H5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],K5=De("dollar-sign",W5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vd=De("file-text",V5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],F5=De("funnel",G5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],X5=De("house",Y5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Nm=De("layout-dashboard",Z5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Q5=De("log-out",J5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],t4=De("megaphone",e4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],n4=De("menu",r4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wA=De("plus",a4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],o4=De("search",i4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],s4=De("settings",l4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],c4=De("square-pen",u4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],f4=De("trash-2",d4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],m4=De("truck",h4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],v4=De("user-check",p4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],y4=De("zap",g4),_A=x.createContext({}),Jr=()=>x.useContext(_A),b4=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[i,o]=x.useState(!0);x.useEffect(()=>{$.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?l(d.user.id):o(!1)});const{data:{subscription:u}}=$.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?l(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const l=async u=>{try{const{data:d,error:f}=await $.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},s={signUp:u=>$.auth.signUp(u),signIn:u=>$.auth.signInWithPassword(u),signOut:()=>$.auth.signOut(),user:t,profile:n,loading:i};return c.jsx(_A.Provider,{value:s,children:!i&&e})},ml=e=>e?e.replace(/\D/g,""):"",Cy=e=>{const t=ml(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},Ts=e=>ml(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),x4=e=>{const t=ml(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,l,s;try{for(a=0,s=10,i=0;i<9;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,s=11,i=0;i<10;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},w4=e=>{const t=ml(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);let l=i%11<2?0:11-i%11;if(l!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);return l=i%11<2?0:11-i%11,l==a.charAt(1)},Wo=e=>ml(e).length===11,Ay=e=>{const t=ml(e);return t.length<=11?x4(t):w4(t)};function _4({user:e,onClose:t,onSave:r}){const[n,a]=x.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=x.useState(!1),[l,s]=x.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};x.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await $.from("profiles").select("id, name, role").neq("id",e.id);if(m){const p=u[h]||99,y=m.filter(g=>(u[g.role]||99)<p);s(y)}},f=async h=>{if(h.preventDefault(),n.phone&&!Wo(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:p}=await $.from("profiles").update(m).eq("id",e.id);if(p)throw p;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:"Editar Usurio"}),c.jsx("button",{onClick:t,className:"modal-close",children:""})]}),c.jsxs("form",{onSubmit:f,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Nome"}),c.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Telefone"}),c.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:Ts(h.target.value)}),className:"input"})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Funo (Role)"}),c.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[c.jsx("option",{value:"lead",children:"Lead"}),c.jsx("option",{value:"subscriber",children:"Assinante"}),c.jsx("option",{value:"originator",children:"Originador"}),c.jsx("option",{value:"supplier",children:"Fornecedor"}),c.jsx("option",{value:"coordinator",children:"Coordenador"}),c.jsx("option",{value:"manager",children:"Gerente"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Superior Imediato"}),c.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[c.jsx("option",{value:"",children:"Sem superior"}),l.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),c.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[c.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),c.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),c.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function S4(){const{user:e}=Jr(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(null),[l,s]=x.useState(""),[u,d]=x.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=g=>f[g]||99;x.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:g,error:b}=await $.from("profiles").select("*").order("name");if(b)throw b;r(g||[])}catch(g){console.error("Error fetching users:",g),alert("Erro ao buscar usurios")}finally{a(!1)}},p=g=>{r(t.map(b=>b.id===g.id?g:b)),alert("Perfil atualizado com sucesso!")},y=t.filter(g=>{var w,_;const b=(((w=g.name)==null?void 0:w.toLowerCase())||"").includes(l.toLowerCase())||(((_=g.email)==null?void 0:_.toLowerCase())||"").includes(l.toLowerCase()),v=u?g.role===u:!0;return b&&v}).sort((g,b)=>h(g.role)-h(b.role));return c.jsxs("div",{children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:c.jsx("h2",{children:"Painel Administrativo"})}),c.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[c.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[c.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[c.jsx("input",{placeholder:"Buscar por nome ou email...",value:l,onChange:g=>s(g.target.value),className:"input",style:{width:"250px"}}),c.jsxs("select",{value:u,onChange:g=>d(g.target.value),className:"select",style:{width:"auto"},children:[c.jsx("option",{value:"",children:"Todos os Perfis"}),c.jsx("option",{value:"super_admin",children:"Super Admin"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"manager",children:"Gerente"}),c.jsx("option",{value:"coordinator",children:"Coordenador"}),c.jsx("option",{value:"supplier",children:"Fornecedor"}),c.jsx("option",{value:"originator",children:"Originador"}),c.jsx("option",{value:"subscriber",children:"Assinante"}),c.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?c.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Hierarquia"}),c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Perfil (Role)"}),c.jsx("th",{children:"Comisso (Start/Rec.)"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:y.map(g=>{var b,v;return c.jsxs("tr",{children:[c.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(g.role)]}),c.jsx("td",{children:g.name||"-"}),c.jsx("td",{children:g.email}),c.jsx("td",{children:c.jsx("span",{className:"badge badge-neutral",children:g.role})}),c.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((b=g.commission_split)==null?void 0:b.start)||0,"% / ",((v=g.commission_split)==null?void 0:v.recorrente)||0,"%"]}),c.jsx("td",{children:c.jsx("button",{onClick:()=>o(g),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},g.id)})})]})})]}),i&&c.jsx(_4,{user:i,onClose:()=>o(null),onSave:p})]})}function SA({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=Jr(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),o=v=>{if(!v&&v!==0)return"";const w=Number(v);return isNaN(w)?"":w.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},l=v=>{if(!v||typeof v!="string")return 0;const w=v.replace(/\D/g,"");return Number(w)/100},[s,u]=x.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",valor_a_pagar:"",economia_reais:"",status:"a_vencer"}),[d,f]=x.useState(!1),[h,m]=x.useState(!1);x.useEffect(()=>{e?u({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,valor_a_pagar:o(e.valor_a_pagar),economia_reais:o(e.economia_reais),status:e.status}):t&&t.length>0&&u(v=>({...v,uc_id:t[0].id}))},[e,t]);const p=(v,w)=>{const _=w.replace(/\D/g,""),j=(Number(_)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});u(E=>({...E,[v]:j}))},y=(v,w)=>{const _=s.mes_referencia.split("-");let S=_[0]||new Date().getFullYear(),j=_[1]||"01";v==="month"&&(j=w),v==="year"&&(S=w),u(E=>({...E,mes_referencia:`${S}-${j}`}))},g=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const v=await Mf(e.id);v.url&&(alert("Boleto gerado com sucesso!"),window.open(v.url,"_blank"),n(),r())}catch(v){console.error(v),alert("Erro ao gerar boleto: "+v.message)}finally{m(!1)}}},b=async v=>{v.preventDefault(),f(!0);try{const w={uc_id:s.uc_id,mes_referencia:`${s.mes_referencia}-01`,vencimento:s.vencimento,consumo_kwh:Number(s.consumo_kwh),valor_a_pagar:l(s.valor_a_pagar),economia_reais:l(s.economia_reais),status:s.status};if(!w.uc_id)throw new Error("Selecione uma Unidade Consumidora (UC).");let _;if(e!=null&&e.id?_=await $.from("invoices").update(w).eq("id",e.id).select().single():_=await $.from("invoices").insert(w).select().single(),_.error)throw _.error;n(),r()}catch(w){alert("Erro ao salvar fatura: "+w.message)}finally{f(!1)}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fatura":"Nova Fatura"}),c.jsxs("form",{onSubmit:b,style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Unidade Consumidora"}),c.jsxs("select",{required:!0,value:s.uc_id,onChange:v=>u({...s,uc_id:v.target.value}),disabled:!!e,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(v=>c.jsxs("option",{value:v.id,children:[v.numero_uc," - ",v.titular_conta," (",v.concessionaria,")"]},v.id))]}),(!t||t.length===0)&&c.jsx("p",{style:{color:"red",fontSize:"0.8rem"},children:"Nenhuma UC ativa encontrada. Cadastre uma UC primeiro."})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Ms Referncia (Ms/Ano)"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("select",{value:s.mes_referencia.split("-")[1],onChange:v=>y("month",v.target.value),style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((v,w)=>c.jsx("option",{value:v,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][w]},v))}),c.jsx("select",{value:s.mes_referencia.split("-")[0],onChange:v=>y("year",v.target.value),style:{width:"80px",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(v,w)=>new Date().getFullYear()-2+w).map(v=>c.jsx("option",{value:v,children:v},v))})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Vencimento"}),c.jsx("input",{type:"date",required:!0,value:s.vencimento,onChange:v=>u({...s,vencimento:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo (kWh)"}),c.jsx("input",{type:"number",step:"any",required:!0,value:s.consumo_kwh,onChange:v=>u({...s,consumo_kwh:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Valor a Pagar (R$)"}),c.jsx("input",{type:"text",required:!0,value:s.valor_a_pagar,onChange:v=>p("valor_a_pagar",v.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),c.jsxs("div",{children:[c.jsxs("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:["Economia Gerada (R$) ",c.jsx("span",{style:{color:"#888",fontWeight:"normal"},children:"(Opcional)"})]}),c.jsx("input",{type:"text",value:s.economia_reais,onChange:v=>p("economia_reais",v.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),i&&c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsxs("select",{value:s.status,onChange:v=>u({...s,status:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"a_vencer",children:"A Vencer"}),c.jsx("option",{value:"pago",children:"Pago"}),c.jsx("option",{value:"atrasado",children:"Atrasado"})]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1.5rem"},children:[c.jsx("div",{children:(e==null?void 0:e.id)&&c.jsx(c.Fragment,{children:e.asaas_boleto_url?c.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none",color:"#166534",fontWeight:"bold"},children:[c.jsx(vd,{size:18})," Ver Boleto"]}):c.jsx("button",{type:"button",onClick:g,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:h?"Gerando...":c.jsxs(c.Fragment,{children:[c.jsx(Df,{size:18})," Emitir Boleto"]})})})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function jA({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=x.useState([]),[o,l]=x.useState([]),[s,u]=x.useState(!1),[d,f]=x.useState(!1),h=C=>{if(!C&&C!==0)return"";const R=Number(C);return isNaN(R)?"":R.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},m=C=>{if(!C||typeof C!="string")return 0;const R=C.replace(/\D/g,"");return Number(R)/1e4},p=(C,R)=>{const B=R.replace(/\D/g,""),N=(Number(B)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});S(L=>({...L,[C]:N}))},y=C=>C.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),g=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"}],b=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],v=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],w=[1,5,10,15,20,25,30],[_,S]=x.useState({subscriber_id:"",usina_id:"",status:"ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{var C,R,B,K,N,L,U;j(),E(),e&&S({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:h(e.tarifa_concessionaria),te:h(e.te),tusd:h(e.tusd),fio_b:h(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:y(((C=e.address)==null?void 0:C.cep)||""),rua:((R=e.address)==null?void 0:R.rua)||"",numero:((B=e.address)==null?void 0:B.numero)||"",complemento:((K=e.address)==null?void 0:K.complemento)||"",bairro:((N=e.address)==null?void 0:N.bairro)||"",cidade:((L=e.address)==null?void 0:L.cidade)||"",uf:((U=e.address)==null?void 0:U.uf)||""})},[e]),x.useEffect(()=>{const C=m(_.tarifa_concessionaria);let R=30;_.tipo_ligacao==="trifasico"?R=100:_.tipo_ligacao==="bifasico"&&(R=50);const K=(C*R).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});S(N=>({...N,tarifa_minima:K}))},[_.tarifa_concessionaria,_.tipo_ligacao]);const j=async()=>{const{data:C}=await $.from("subscribers").select("id, name, cpf_cnpj").order("name");i(C||[])},E=async()=>{const{data:C}=await $.from("usinas").select("id, name").order("name");l(C||[])},O=C=>{const R=y(C.target.value);S(B=>({...B,cep:R}))},A=async()=>{const C=_.cep.replace(/\D/g,"");if(C.length===8){f(!0);try{const R=await Ha(C);if(S(B=>({...B,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||"",concessionaria:B.concessionaria||""})),R.ibge){const B=await ou(R.ibge);if(B){let K=B["Desconto Assinante"]||0;K>1||(K=K*100),S(N=>({...N,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||"",concessionaria:B.Concessionaria||N.concessionaria,tarifa_concessionaria:B["Tarifa Concessionaria"]?h(B["Tarifa Concessionaria"]):N.tarifa_concessionaria,te:B.TE?h(B.TE):N.te,tusd:B.TUSD?h(B.TUSD):N.tusd,fio_b:B["Fio B"]?h(B["Fio B"]):N.fio_b,desconto_assinante:K.toFixed(2)}))}}}catch(R){console.error("Erro CEP",R),alert("Erro ao buscar CEP/Ofertas: "+(R.message||"No encontrado"))}finally{f(!1)}}},k=async C=>{C.preventDefault(),u(!0);try{const R={subscriber_id:_.subscriber_id||null,usina_id:_.usina_id||null,status:_.status,numero_uc:_.numero_uc,titular_conta:_.titular_conta,modalidade:_.modalidade,concessionaria:_.concessionaria,tipo_ligacao:_.tipo_ligacao,franquia:Number(_.franquia),tarifa_concessionaria:m(_.tarifa_concessionaria),te:m(_.te),tusd:m(_.tusd),fio_b:m(_.fio_b),desconto_assinante:Number(_.desconto_assinante),dia_vencimento:Number(_.dia_vencimento),address:{cep:_.cep.replace(/\D/g,""),rua:_.rua,numero:_.numero,complemento:_.complemento,bairro:_.bairro,cidade:_.cidade,uf:_.uf}};if(!R.subscriber_id)throw new Error("Assinante  obrigatrio.");let B;if(e!=null&&e.id?B=await $.from("consumer_units").update(R).eq("id",e.id).select().single():B=await $.from("consumer_units").insert(R).select().single(),B.error)throw B.error;r(B.data),t()}catch(R){alert("Erro ao salvar UC: "+R.message)}finally{u(!1)}},T=async()=>{if(confirm("Excluir esta Unidade Consumidora?")){u(!0);try{const{error:C}=await $.from("consumer_units").delete().eq("id",e.id);if(C)throw C;n&&n(e.id),t()}catch(C){alert("Erro ao excluir: "+C.message)}finally{u(!1)}}};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:e?"Editar UC":"Nova Unidade Consumidora"}),c.jsx("button",{onClick:t,className:"modal-close",children:""})]}),c.jsxs("form",{onSubmit:k,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[c.jsx("label",{className:"label",children:"Status da Unidade"}),c.jsx("select",{value:_.status,onChange:C=>S({..._,status:C.target.value}),className:"select",style:{maxWidth:"300px"},children:g.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Vnculos"})}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"label",children:["Assinante ",c.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),c.jsxs("select",{required:!0,value:_.subscriber_id,onChange:C=>S({..._,subscriber_id:C.target.value}),className:"select",children:[c.jsx("option",{value:"",children:"Selecione..."}),a.map(C=>c.jsxs("option",{value:C.id,children:[C.name," (",C.cpf_cnpj,")"]},C.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Usina (Opcional)"}),c.jsxs("select",{value:_.usina_id,onChange:C=>S({..._,usina_id:C.target.value}),className:"select",children:[c.jsx("option",{value:"",children:"Selecione..."}),o.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{width:"150px"},children:[c.jsx("label",{className:"label",children:"CEP"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{value:_.cep,onChange:O,onBlur:A,placeholder:"00000-000",maxLength:9,className:"input"}),d&&c.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{className:"label",children:"Concessionria (Auto)"}),c.jsx("input",{value:_.concessionaria,onChange:C=>S({..._,concessionaria:C.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados da Unidade"})}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"label",children:["Nmero da UC ",c.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),c.jsx("input",{required:!0,value:_.numero_uc,onChange:C=>S({..._,numero_uc:C.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),c.jsx("input",{required:!0,value:_.titular_conta,onChange:C=>S({..._,titular_conta:C.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo de Instalao"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{className:"label",children:"Rua"}),c.jsx("input",{value:_.rua,onChange:C=>S({..._,rua:C.target.value}),className:"input"})]}),c.jsxs("div",{style:{width:"100px"},children:[c.jsx("label",{className:"label",children:"Nmero"}),c.jsx("input",{value:_.numero,onChange:C=>S({..._,numero:C.target.value}),className:"input"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Bairro"}),c.jsx("input",{value:_.bairro,onChange:C=>S({..._,bairro:C.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Complemento"}),c.jsx("input",{value:_.complemento,onChange:C=>S({..._,complemento:C.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Cidade"}),c.jsx("input",{value:_.cidade,onChange:C=>S({..._,cidade:C.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"UF"}),c.jsx("input",{value:_.uf,onChange:C=>S({..._,uf:C.target.value}),className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Tcnicos e Comerciais"})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Tipo de Ligao"}),c.jsx("select",{value:_.tipo_ligacao,onChange:C=>S({..._,tipo_ligacao:C.target.value}),className:"select",children:v.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Modalidade"}),c.jsx("select",{value:_.modalidade,onChange:C=>S({..._,modalidade:C.target.value}),className:"select",children:b.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),c.jsx("input",{type:"text",value:_.tarifa_concessionaria,onChange:C=>p("tarifa_concessionaria",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),c.jsx("input",{type:"text",value:_.te,onChange:C=>p("te",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),c.jsx("input",{type:"text",value:_.tusd,onChange:C=>p("tusd",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),c.jsx("input",{type:"text",value:_.fio_b,onChange:C=>p("fio_b",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),c.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[c.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),c.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:_.tarifa_minima||"R$ 0,00"}),c.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",_.tipo_ligacao,") x Tarifa."]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),c.jsx("input",{type:"number",step:"0.01",value:_.desconto_assinante,onChange:C=>S({..._,desconto_assinante:C.target.value}),placeholder:"%",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),c.jsx("input",{type:"number",value:_.franquia,onChange:C=>S({..._,franquia:C.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Dia de Vencimento"}),c.jsx("select",{value:_.dia_vencimento,onChange:C=>S({..._,dia_vencimento:C.target.value}),className:"select",children:w.map(C=>c.jsx("option",{value:C,children:C},C))})]}),c.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&c.jsx("button",{type:"button",onClick:T,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:s,className:"btn btn-primary",children:s?"Salvando...":"Salvar UC"})]})]})]})})}function j4(){var S;const{user:e,profile:t}=Jr(),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(!0),[s,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[p,y]=x.useState(!1),g=["super_admin","admin","manager"].includes(t==null?void 0:t.role);x.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{l(!0);let j;const{data:E}=await $.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(E){j=E.id,u(E.id);const{data:O}=await $.from("consumer_units").select("*").eq("subscriber_id",j);if(n(O||[]),O&&O.length>0){const A=O.map(T=>T.id),{data:k}=await $.from("invoices").select("*").in("uc_id",A).order("vencimento",{ascending:!1});i(k||[])}}else if(g){const{data:O}=await $.from("consumer_units").select("*");if(n(O||[]),O&&O.length>0){const{data:A}=await $.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(A||[])}}}catch(j){console.error("Error fetching dashboard data:",j)}finally{l(!1)}},v=j=>{const E=a.find(O=>O.id===j.id);i(E?a.map(O=>O.id===j.id?j:O):[j,...a]),alert("Fatura salva com sucesso!")},w=a.reduce((j,E)=>j+(E.economia_reais||0),0),_=a[0];return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Viso Geral do Assinante"}),c.jsx("div",{style:{display:"flex",gap:"1rem"},children:g&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>y(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),c.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),c.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",w.toFixed(2)]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),c.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:_?`R$ ${(S=_.valor_a_pagar)==null?void 0:S.toFixed(2)}`:"-"}),c.jsx("small",{style:{color:"var(--color-text-light)"},children:_?new Date(_.vencimento).toLocaleDateString():""})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),c.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),c.jsx("h3",{children:"Minhas Faturas"}),c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),c.jsx("tbody",{children:a.map(j=>{var E,O;return c.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[c.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(j.vencimento).toLocaleDateString()}),c.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[j.consumo_kwh," kWh"]}),c.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=j.valor_a_pagar)==null?void 0:E.toFixed(2)]}),c.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(O=j.economia_reais)==null?void 0:O.toFixed(2)]}),c.jsx("td",{style:{padding:"1rem"},children:c.jsx("span",{className:`badge ${j.status==="pago"?"badge-success":"badge-error"}`,children:j.status==="pago"?"Pago":"A Vencer"})}),c.jsx("td",{style:{padding:"1rem"},children:g?c.jsx("button",{onClick:()=>{m(j),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):c.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},j.id)})})]})}),d&&c.jsx(SA,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:v}),p&&c.jsx(jA,{consumerUnit:{subscriber_id:s},onClose:()=>y(!1),onSave:()=>{b(),y(!1)}})]})}function E4(){const{user:e,profile:t}=Jr(),[r,n]=x.useState([]),[a,i]=x.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;x.useEffect(()=>{async function u(){const{data:d}=await $.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await $.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await $.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&u()},[e]);const l=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},s=async u=>{var h;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await $.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:p}=await $.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(p)throw p;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await $.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return c.jsxs("div",{children:[c.jsx("h2",{children:"Painel do Originador"}),c.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[c.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[c.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),c.jsx("button",{onClick:l,className:"btn btn-accent",children:"Copiar"})]})]}),c.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Data"})]})}),c.jsxs("tbody",{children:[r.map(u=>c.jsxs("tr",{children:[c.jsx("td",{children:u.name}),c.jsx("td",{children:c.jsx("span",{className:"badge badge-neutral",children:u.status})}),c.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),c.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Ms Ref."}),c.jsx("th",{children:"Faturas Proc."}),c.jsx("th",{children:"Valor (R$)"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Data Pagt."}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:a.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>c.jsxs("tr",{children:[c.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),c.jsx("td",{children:u.total_invoices}),c.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),c.jsx("td",{children:c.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),c.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),c.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&c.jsx("button",{onClick:()=>s(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function O4(){const{user:e}=Jr(),[t,r]=x.useState([]);return x.useEffect(()=>{async function n(){const{data:a}=await $.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await $.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),c.jsxs("div",{children:[c.jsx("h2",{children:"Painel do Fornecedor"}),c.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[c.jsx("h3",{children:"Minhas Usinas"}),c.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),c.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>c.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[c.jsx("h4",{children:n.name}),c.jsxs("p",{children:["Status: ",c.jsx("strong",{children:n.status})]}),c.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function C4({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=Jr(),[o,l]=x.useState([]),s=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[u,d]=x.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=x.useState(!1),[m,p]=x.useState(!1);x.useEffect(()=>{y(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(w=>({...w,originator_id:i.id}))},[e,i]);const y=async()=>{const{data:w}=await $.from("originators_v2").select("id, name").order("name");l(w||[])},g=async()=>{const w=u.cep.replace(/\D/g,"");if(w.length===8){p(!0);try{const _=await Ha(w);let S={};if(_.ibge)try{const j=await ou(_.ibge);j&&(S=j)}catch(j){console.error("Erro na oferta",j)}d(j=>({...j,rua:_.rua||"",bairro:_.bairro||"",cidade:_.cidade||"",uf:_.uf||"",concessionaria:(S==null?void 0:S.Concessionaria)||j.concessionaria||"",tarifa_concessionaria:(S==null?void 0:S["Tarifa Concessionaria"])||j.tarifa_concessionaria||"",desconto_assinante:(S==null?void 0:S["Desconto Assinante"])||j.desconto_assinante||""}))}catch(_){console.error("Erro ao buscar CEP:",_),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{p(!1)}}},b=async w=>{if(w.preventDefault(),u.phone&&!Wo(u.phone)){alert("Telefone invlido!");return}h(!0);try{const _={...u};_.tarifa_concessionaria=_.tarifa_concessionaria?Number(_.tarifa_concessionaria):null,_.consumo_kwh=_.consumo_kwh?Number(_.consumo_kwh):null,_.desconto_assinante=_.desconto_assinante?Number(_.desconto_assinante):null,_.originator_id===""&&(_.originator_id=null);let S;if(e!=null&&e.id?S=await $.from("leads").update(_).eq("id",e.id).select().single():S=await $.from("leads").insert(_).select().single(),S.error)throw S.error;r(S.data),t()}catch(_){alert("Erro ao salvar lead: "+_.message)}finally{h(!1)}},v=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:w}=await $.from("leads").delete().eq("id",e.id);if(w)throw w;n&&n(e.id),t()}catch(w){alert("Erro ao excluir lead: "+w.message)}finally{h(!1)}}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),c.jsxs("form",{onSubmit:b,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsx("select",{value:u.status,onChange:w=>d({...u,status:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:s.map(w=>c.jsx("option",{value:w.value,children:w.label},w.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),c.jsxs("select",{value:u.originator_id,onChange:w=>d({...u,originator_id:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),o.map(w=>c.jsx("option",{value:w.id,children:w.name},w.id))]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),c.jsx("input",{required:!0,value:u.name,onChange:w=>d({...u,name:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),c.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:u.phone,onChange:w=>d({...u,phone:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),c.jsx("input",{type:"email",value:u.email,onChange:w=>d({...u,email:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),c.jsx("input",{placeholder:"00000-000",value:u.cep,onChange:w=>d({...u,cep:w.target.value}),onBlur:g,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),c.jsx("input",{value:`${u.cidade} - ${u.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),c.jsx("input",{value:u.rua,onChange:w=>d({...u,rua:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),c.jsx("input",{value:u.numero,onChange:w=>d({...u,numero:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),c.jsx("input",{value:u.complemento,onChange:w=>d({...u,complemento:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),c.jsx("input",{value:u.bairro,onChange:w=>d({...u,bairro:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),c.jsx("input",{type:"number",value:u.consumo_kwh,onChange:w=>d({...u,consumo_kwh:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),c.jsx("input",{value:u.concessionaria,onChange:w=>d({...u,concessionaria:w.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),c.jsx("input",{type:"number",step:"0.0001",value:u.tarifa_concessionaria,onChange:w=>d({...u,tarifa_concessionaria:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),c.jsx("input",{type:"number",step:"0.01",value:u.desconto_assinante,onChange:w=>d({...u,desconto_assinante:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),c.jsx("input",{value:(()=>{const w=Number(u.consumo_kwh)||0,_=Number(u.tarifa_concessionaria)||0,S=Number(u.desconto_assinante)||0;if(w&&_&&S){const E=w*_*(S/100);return isNaN(E)?"R$ 0,00":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[c.jsx("div",{children:e&&n&&c.jsx("button",{type:"button",onClick:v,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&c.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function EA({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{profile:a}=Jr(),[i,o]=x.useState([]),[l,s]=x.useState([]),[u,d]=x.useState(!1),f=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[h,m]=x.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[p,y]=x.useState(!1),[g,b]=x.useState(!1),[v,w]=x.useState(!1);x.useEffect(()=>{_(),e&&(m({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),S(e.id))},[e]);const _=async()=>{const{data:T}=await $.from("profiles").select("id, name").in("role",["originator","coordinator","admin","super_admin"]).order("name");o(T||[])},S=async T=>{const{data:C}=await $.from("consumer_units").select("*").eq("subscriber_id",T);s(C||[])},j=async()=>{const T=h.cep.replace(/\D/g,"");if(T.length===8){b(!0);try{const C=await Ha(T);m(R=>({...R,rua:C.rua||"",bairro:C.bairro||"",cidade:C.cidade||"",uf:C.uf||""}))}catch(C){console.error("Erro ao buscar CEP:",C),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{b(!1)}}},E=async()=>{const T=h.cpf_cnpj.replace(/\D/g,"");if(T.length>=11){w(!0);try{const C=await Oy(T);C.nome&&m(R=>({...R,name:C.nome}))}catch(C){console.error("Erro buscar doc",C)}finally{w(!1)}}},O=async()=>{if(!(e!=null&&e.id)){alert("Salve o assinante antes de gerar boletos.");return}if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${h.name}?`)){d(!0);try{const T=await Mf(e.id,"subscriber");T.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(T.url,"_blank"))}catch(T){console.error(T),alert("Erro: "+(T.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{d(!1)}}},A=async T=>{if(T.preventDefault(),!Ay(h.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(h.phone&&!Wo(h.phone)){alert("Telefone invlido!");return}y(!0);try{const C=h.cpf_cnpj.replace(/\D/g,"");let R=$.from("subscribers").select("id").eq("cpf_cnpj",h.cpf_cnpj);e!=null&&e.id&&(R=R.neq("id",e.id));const{data:B,error:K}=await R;if(K)throw K;if(B&&B.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");const N=await _5({name:h.name,cpfCnpj:h.cpf_cnpj,email:h.email,phone:h.phone,postalCode:h.cep,addressNumber:h.numero,address:h.rua,province:h.bairro});if(!N||!N.success)throw new Error("Falha ao sincronizar cliente com Asaas: "+((N==null?void 0:N.error)||"Erro desconhecido"));const L=N.asaas_id,U={...h,asaas_customer_id:L};U.originator_id===""&&(U.originator_id=null);let H;if(e!=null&&e.id?H=await $.from("subscribers").update(U).eq("id",e.id).select().single():H=await $.from("subscribers").insert(U).select().single(),H.error)throw H.error;N.is_new?alert("Cliente cadastrado com sucesso no CRM e criado no Asaas!"):alert("Cliente salvo no CRM e sincronizado com Asaas!"),r(H.data),t()}catch(C){console.error(C),alert("Erro ao salvar assinante: "+C.message)}finally{y(!1)}},k=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este assinante?")){y(!0);try{const{error:T}=await $.from("subscribers").delete().eq("id",e.id);if(T)throw T;n&&n(e.id),t()}catch(T){alert("Erro ao excluir: "+T.message)}finally{y(!1)}}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),c.jsxs("form",{onSubmit:A,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsx("select",{value:h.status,onChange:T=>m({...h,status:T.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:f.map(T=>c.jsx("option",{value:T.value,children:T.label},T.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),c.jsxs("select",{value:h.originator_id,onChange:T=>m({...h,originator_id:T.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),i.map(T=>c.jsx("option",{value:T.id,children:T.name},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),c.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:c.jsx("input",{value:h.cpf_cnpj,onChange:T=>m({...h,cpf_cnpj:Cy(T.target.value)}),onBlur:E,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:v?"#f0f9ff":"white"},required:!0})})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),c.jsx("input",{required:!0,value:h.name,onChange:T=>m({...h,name:T.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),c.jsx("input",{type:"email",value:h.email,onChange:T=>m({...h,email:T.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),c.jsx("input",{value:h.phone,onChange:T=>m({...h,phone:Ts(T.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),c.jsx("input",{value:h.cep,onChange:T=>m({...h,cep:T.target.value}),onBlur:j,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:g?"#f0f9ff":"white"}})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),c.jsx("input",{value:`${h.cidade} - ${h.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),c.jsx("input",{value:h.rua,onChange:T=>m({...h,rua:T.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),c.jsx("input",{value:h.numero,onChange:T=>m({...h,numero:T.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),c.jsx("input",{value:h.complemento,onChange:T=>m({...h,complemento:T.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),c.jsx("input",{value:h.bairro,onChange:T=>m({...h,bairro:T.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Unidades Consumidoras (UCs)"}),c.jsx("div",{style:{gridColumn:"1 / -1"},children:l.length>0?c.jsx("ul",{style:{listStyle:"none",padding:0},children:l.map(T=>c.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between"},children:[c.jsxs("span",{children:["UC: ",T.numero_uc," - ",T.concessionaria]}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#666"},children:T.status})]},T.id))}):c.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[c.jsx("div",{children:(e==null?void 0:e.id)&&c.jsx("button",{type:"button",onClick:O,disabled:u,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:u?"Processando...":c.jsxs(c.Fragment,{children:[c.jsx(Df,{size:18})," Emitir Fatura Consolidada"]})})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&c.jsx("button",{type:"button",onClick:k,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:p,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:p?"Salvando...":"Salvar Assinante"})]})]})]})]})})}function A4(){const{profile:e}=Jr(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(!1),[l,s]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState("list"),[y,g]=x.useState(""),b=t.filter(O=>{var k,T,C;if(!y)return!0;const A=y.toLowerCase();return((k=O.name)==null?void 0:k.toLowerCase().includes(A))||((T=O.email)==null?void 0:T.toLowerCase().includes(A))||((C=O.phone)==null?void 0:C.includes(A))});x.useEffect(()=>{v()},[]);const v=async()=>{a(!0);try{const{data:O,error:A}=await $.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(A)throw A;r(O||[])}catch(O){console.error("Error fetching leads:",O)}finally{a(!1)}},w=O=>{t.find(k=>k.id===O.id)?(r(t.map(k=>k.id===O.id?{...k,...O}:k)),v()):(r([O,...t]),v())},_=O=>{r(t.filter(A=>A.id!==O))},S=O=>{h(O),s(!0)},j=async O=>{try{await $.from("leads").update({status:"em_negociacao"}).eq("id",f.id),v(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(A){console.error("Erro ao atualizar status do lead",A)}},E={simulacao:"#64748b",indicado:"#0ea5e9",em_negociacao:"#eab308",ativo:"#22c55e",negocio_perdido:"#ef4444",pago:"#8b5cf6"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Gesto de Leads"}),c.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[c.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:y,onChange:O=>g(O.target.value),className:"input",style:{maxWidth:"350px"}}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>p("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>p("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:m==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:b.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Contato"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Originador"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:b.map(O=>{var A;return c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold"},children:O.name}),c.jsxs("td",{children:[c.jsx("div",{style:{fontSize:"0.9rem"},children:O.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:O.phone})]}),c.jsx("td",{children:c.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:O.status==="simulacao"?"#f1f5f9":O.status==="em_negociacao"?"#fef9c3":O.status==="ativo"?"#dcfce7":"#f1f5f9",color:O.status==="simulacao"?"#64748b":O.status==="em_negociacao"?"#a16207":O.status==="ativo"?"#166534":"#64748b"},children:O.status.toUpperCase().replace("_"," ")})}),c.jsx("td",{children:((A=O.originator)==null?void 0:A.name)||"-"}),c.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{d(O),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),O.status!=="convertido"&&c.jsx("button",{onClick:()=>S(O),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},O.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["simulacao","indicado","em_negociacao","ativo","negocio_perdido","pago"].map(O=>{const A=b.filter(T=>T.status===O),k=E[O]||"#64748b";return c.jsxs("div",{style:{minWidth:"280px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${k}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:k},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:O.replace("_"," ")}),c.jsx("span",{style:{fontSize:"0.8rem",background:k,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:A.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:A.map(T=>{var C,R;return c.jsxs("div",{onClick:()=>{d(T),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:B=>B.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:B=>B.currentTarget.style.borderColor="transparent",children:[c.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:T.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:T.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:T.phone}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[c.jsx("span",{children:(R=(C=T.originator)==null?void 0:C.name)==null?void 0:R.split(" ")[0]}),c.jsx("span",{children:new Date(T.created_at).toLocaleDateString()})]})]},T.id)})})]},O)})})}),i&&c.jsx(C4,{lead:u,onClose:()=>o(!1),onSave:w,onDelete:_,onConvert:S}),l&&c.jsx(EA,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>s(!1),onSave:j})]})}function T4(){const{profile:e}=Jr(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(!1),[l,s]=x.useState(null),[u,d]=x.useState("list"),[f,h]=x.useState(""),[m,p]=x.useState(null),y=t.filter(S=>{var E,O,A,k;if(!f)return!0;const j=f.toLowerCase();return((E=S.name)==null?void 0:E.toLowerCase().includes(j))||((O=S.email)==null?void 0:O.toLowerCase().includes(j))||((A=S.phone)==null?void 0:A.includes(j))||((k=S.cpf_cnpj)==null?void 0:k.includes(j))});x.useEffect(()=>{g()},[]);const g=async()=>{a(!0);try{const{data:S,error:j}=await $.from("subscribers").select("*").order("created_at",{ascending:!1});if(j)throw j;r(S||[])}catch(S){console.error("Error fetching subscribers:",S)}finally{a(!1)}},b=S=>{const j=t.find(E=>E.id===S.id);r(j?t.map(E=>E.id===S.id?{...E,...S}:E):[S,...t])},v=async S=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${S.name}?`)){p(S.id);try{const j=await Mf(S.id,"subscriber");j.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(j.url,"_blank"))}catch(j){console.error(j),alert("Erro: "+(j.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{p(null)}}},w={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},_=S=>{r(t.filter(j=>j.id!==S))};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Gesto de Assinantes"}),c.jsx("button",{onClick:()=>{s(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[c.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:S=>h(S.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),c.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),c.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:u==="list"?c.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:y.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),c.jsx("tbody",{children:y.map(S=>{var j,E,O,A,k;return c.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[c.jsxs("td",{style:{padding:"1rem"},children:[c.jsx("div",{style:{fontWeight:"bold"},children:S.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:S.cpf_cnpj})]}),c.jsxs("td",{style:{padding:"1rem"},children:[c.jsx("div",{style:{fontSize:"0.9rem"},children:S.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:S.phone})]}),c.jsx("td",{style:{padding:"1rem"},children:c.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(j=S.status)!=null&&j.includes("ativo")?"#dcfce7":(E=S.status)!=null&&E.includes("cancelado")?"#fee2e2":"#dbeafe",color:(O=S.status)!=null&&O.includes("ativo")?"#166534":(A=S.status)!=null&&A.includes("cancelado")?"#dc2626":"#1e40af"},children:(k=S.status)==null?void 0:k.toUpperCase().replace("_"," ")})}),c.jsx("td",{style:{padding:"1rem"},children:S.cidade?`${S.cidade}/${S.uf}`:"-"}),c.jsx("td",{style:{padding:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>v(S),disabled:m===S.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===S.id?"...":c.jsx(Df,{size:14})}),c.jsx("button",{onClick:()=>{s(S),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},S.id)})})]})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(S=>{const j=y.filter(O=>O.status===S),E=w[S]||"#64748b";return c.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${E}`},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:E},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:S.replace("_"," ")}),c.jsx("span",{style:{fontSize:"0.8rem",background:E,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:j.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:j.map(O=>c.jsxs("div",{onClick:()=>{s(O),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:A=>A.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:A=>A.currentTarget.style.borderColor="transparent",children:[c.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:O.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.cpf_cnpj}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.email}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[c.jsx("span",{children:O.cidade}),c.jsx("span",{children:new Date(O.created_at).toLocaleDateString()})]})]},O.id))})]},S)})})}),i&&c.jsx(EA,{subscriber:l,onClose:()=>o(!1),onSave:b,onDelete:_})]})}function k4({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=x.useState(!1),[o,l]=x.useState(!1),[s,u]=x.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{var p,y,g,b,v,w,_,S,j;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((p=e.split_commission)==null?void 0:p.start)||0,split_recurrent:((y=e.split_commission)==null?void 0:y.recurrent)||0,cep:((g=e.address)==null?void 0:g.cep)||"",rua:((b=e.address)==null?void 0:b.rua)||"",numero:((v=e.address)==null?void 0:v.numero)||"",complemento:((w=e.address)==null?void 0:w.complemento)||"",bairro:((_=e.address)==null?void 0:_.bairro)||"",cidade:((S=e.address)==null?void 0:S.cidade)||"",uf:((j=e.address)==null?void 0:j.uf)||""})},[e]);const d=async()=>{const p=s.cep.replace(/\D/g,"");if(p.length===8){l(!0);try{const y=await Ha(p);u(g=>({...g,rua:y.rua||"",bairro:y.bairro||"",cidade:y.cidade||"",uf:y.uf||""}))}catch(y){console.error("Erro CEP",y),alert("Erro ao buscar CEP")}finally{l(!1)}}};x.useEffect(()=>{if(s.pix_key_type==="aleatoria")return;let p="";s.pix_key_type==="cpf"||s.pix_key_type==="cnpj"?p=s.cpf_cnpj:s.pix_key_type==="email"?p=s.email:s.pix_key_type==="telefone"&&(p=s.phone),p!==s.pix_key&&u(y=>({...y,pix_key:p}))},[s.pix_key_type,s.cpf_cnpj,s.email,s.phone]);const f=async p=>{if(p.preventDefault(),!Ay(s.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!Wo(s.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const y={name:s.name,cpf_cnpj:s.cpf_cnpj,email:s.email,phone:s.phone,pix_key:s.pix_key,pix_key_type:s.pix_key_type,split_commission:{start:Number(s.split_start)||0,recurrent:Number(s.split_recurrent)||0},address:{cep:s.cep,rua:s.rua,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cidade:s.cidade,uf:s.uf}};try{let g;if(e!=null&&e.id?g=await $.from("originators_v2").update(y).eq("id",e.id).select().single():g=await $.from("originators_v2").insert(y).select().single(),g.error)throw g.error;r(g.data),t()}catch(g){alert("Erro ao salvar originador: "+g.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:p}=await $.from("originators_v2").delete().eq("id",e.id);if(p)throw p;n&&n(e.id),t()}catch(p){alert("Erro ao excluir: "+p.message)}finally{i(!1)}}},m=e?`${window.location.origin}/originador?id=${e.id}`:"Salver para gerar URL";return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),c.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&c.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[c.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{value:`${window.location.origin}/originador?id=${e.id}`,readOnly:!0,className:"input",style:{color:"#0284c7"}}),c.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/originador?id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),c.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1"},children:c.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),c.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[c.jsx("label",{className:"label",children:"Nome Completo"}),c.jsx("input",{value:s.name,onChange:p=>u({...s,name:p.target.value}),className:"input",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"CPF/CNPJ"}),c.jsx("input",{value:s.cpf_cnpj,onChange:p=>u({...s,cpf_cnpj:Cy(p.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Email"}),c.jsx("input",{type:"email",value:s.email,onChange:p=>u({...s,email:p.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Telefone"}),c.jsx("input",{value:s.phone,onChange:p=>u({...s,phone:Ts(p.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Tipo Chave PIX"}),c.jsxs("select",{value:s.pix_key_type,onChange:p=>u({...s,pix_key_type:p.target.value}),className:"select",children:[c.jsx("option",{value:"cpf",children:"CPF"}),c.jsx("option",{value:"cnpj",children:"CNPJ"}),c.jsx("option",{value:"email",children:"Email"}),c.jsx("option",{value:"telefone",children:"Telefone"}),c.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Chave PIX"}),c.jsx("input",{value:s.pix_key,onChange:p=>u({...s,pix_key:p.target.value}),className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"CEP"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{value:s.cep,onChange:p=>u({...s,cep:p.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&c.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Rua"}),c.jsx("input",{value:s.rua,onChange:p=>u({...s,rua:p.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Nmero"}),c.jsx("input",{value:s.numero,onChange:p=>u({...s,numero:p.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Complemento"}),c.jsx("input",{value:s.complemento,onChange:p=>u({...s,complemento:p.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Bairro"}),c.jsx("input",{value:s.bairro,onChange:p=>u({...s,bairro:p.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Cidade"}),c.jsx("input",{value:s.cidade,onChange:p=>u({...s,cidade:p.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"UF"}),c.jsx("input",{value:s.uf,onChange:p=>u({...s,uf:p.target.value}),className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),c.jsx("input",{type:"number",step:"0.01",value:s.split_start,onChange:p=>u({...s,split_start:p.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),c.jsx("input",{type:"number",step:"0.01",value:s.split_recurrent,onChange:p=>u({...s,split_recurrent:p.target.value}),className:"input"})]}),e&&c.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[c.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),c.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),c.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&c.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function P4(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(""),[o,l]=x.useState(!1),[s,u]=x.useState(null);x.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:v,error:w}=await $.from("originators_v2").select("*").order("name");w?console.error("Error fetching originators:",w):t(v||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const v=new Date().toISOString().split("T")[0],{data:w,error:_}=await $.rpc("generate_monthly_commissions",{target_date:v});if(_)throw _;alert(`Processamento concludo!
Faturas processadas: ${w.invoices_processed}
Valor total gerado: R$ ${w.total_commission_value}`)}catch(v){console.error("Error processing commissions:",v),alert("Erro ao processar comisses: "+(v.message||"Erro desconhecido"))}finally{n(!1)}}},h=v=>{u(v),l(!0)},m=()=>{u(null),l(!0)},p=v=>{d()},y=v=>{d()},g=v=>{const w=`${window.location.origin}/clientes?id=${v}`;navigator.clipboard.writeText(w),alert("Link copiado: "+w)},b=e.filter(v=>{var w,_;return((w=v.name)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))||((_=v.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))});return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[c.jsx("h2",{children:"Gesto de Originadores"}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),c.jsxs("button",{onClick:m,className:"btn btn-accent",children:[c.jsx(wA,{size:18})," Novo Originador"]})]})]}),c.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[c.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:v=>i(v.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),c.jsx(o4,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?c.jsx("p",{children:"Carregando..."}):c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Contato"}),c.jsx("th",{children:"Comisso (Start/Rec.)"}),c.jsx("th",{children:"Chave PIX"}),c.jsx("th",{children:"Link"}),c.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),c.jsx("tbody",{children:b.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):b.map(v=>{var w,_;return c.jsxs("tr",{children:[c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:v.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:v.cpf_cnpj})]}),c.jsxs("td",{children:[c.jsx("div",{style:{fontSize:"0.9rem"},children:v.email}),c.jsx("div",{style:{fontSize:"0.9rem"},children:v.phone})]}),c.jsx("td",{children:c.jsxs("span",{className:"badge badge-success",children:[((w=v.split_commission)==null?void 0:w.start)||0,"% / ",((_=v.split_commission)==null?void 0:_.recurrent)||0,"%"]})}),c.jsx("td",{style:{fontSize:"0.9rem"},children:v.pix_key||"-"}),c.jsx("td",{children:c.jsx("button",{onClick:()=>g(v.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:c.jsx(q5,{size:16,color:"var(--color-blue)"})})}),c.jsx("td",{style:{textAlign:"right"},children:c.jsx("button",{onClick:()=>h(v),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:c.jsx(c4,{size:18})})})]},v.id)})})]})})}),o&&c.jsx(k4,{originator:s,onClose:()=>l(!1),onSave:p,onDelete:y})]})}function N4({supplier:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=x.useState(!1),[o,l]=x.useState([]),[s,u]=x.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{var p,y,g,b,v,w,_,S,j;e&&(u({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((p=e.address)==null?void 0:p.cep)||"",rua:((y=e.address)==null?void 0:y.logradouro)||((g=e.address)==null?void 0:g.rua)||"",numero:((b=e.address)==null?void 0:b.numero)||"",complemento:((v=e.address)==null?void 0:v.complemento)||"",bairro:((w=e.address)==null?void 0:w.bairro)||"",cidade:((_=e.address)==null?void 0:_.municipio)||((S=e.address)==null?void 0:S.cidade)||"",uf:((j=e.address)==null?void 0:j.uf)||""}),d(e.id))},[e]);const d=async p=>{const{data:y}=await $.from("usinas").select("id, name, status").eq("supplier_id",p);l(y||[])},f=async()=>{const p=s.cnpj.replace(/\D/g,"");if(p.length===14){i(!0);try{const y=await Oy(p);y&&u(g=>{var b,v,w,_,S,j,E,O,A;return{...g,name:y.nome||g.name,email:y.email||g.email,phone:y.telefone||g.phone,legal_partner_name:((b=y.legal_partner)==null?void 0:b.nome)||g.legal_partner_name,legal_partner_cpf:((v=y.legal_partner)==null?void 0:v.cpf)||g.legal_partner_cpf,cep:((w=y.address)==null?void 0:w.cep)||g.cep,rua:((_=y.address)==null?void 0:_.logradouro)||g.rua,numero:((S=y.address)==null?void 0:S.numero)||g.numero,complemento:((j=y.address)==null?void 0:j.complemento)||g.complemento,bairro:((E=y.address)==null?void 0:E.bairro)||g.bairro,cidade:((O=y.address)==null?void 0:O.municipio)||g.cidade,uf:((A=y.address)==null?void 0:A.uf)||g.uf}})}catch(y){console.error("Erro CNPJ",y),alert("Erro ao buscar CNPJ. Verifique se o nmero est correto.")}finally{i(!1)}}},h=async p=>{if(p.preventDefault(),s.cpf_cnpj&&!validateDocument(s.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(s.phone&&!validatePhone(s.phone)){alert("Telefone invlido!");return}i(!0);try{console.log("Submitting payload:",s);const y={name:s.name,cnpj:s.cnpj,email:s.email,phone:s.phone,status:s.status,legal_partner_name:s.legal_partner_name,legal_partner_cpf:s.legal_partner_cpf,pix_key:s.pix_key,pix_key_type:s.pix_key_type,address:{cep:s.cep,logradouro:s.rua,rua:s.rua,numero:s.numero,complemento:s.complemento,bairro:s.bairro,municipio:s.cidade,cidade:s.cidade,uf:s.uf}};console.log("Payload ready:",y);let g;if(e!=null&&e.id?g=await $.from("suppliers").update(y).eq("id",e.id).select().single():g=await $.from("suppliers").insert(y).select().single(),console.log("Supabase result:",g),g.error)throw g.error;r(g.data),t()}catch(y){console.error("Save error details:",y);const g=y.message||JSON.stringify(y);g.includes("JWT expired")?(alert("Sua sesso expirou. Por favor, faa login novamente."),await $.auth.signOut(),window.location.href="/login"):alert("Erro ao salvar fornecedor: "+g)}finally{i(!1)}},m=async()=>{if(o.length>0){alert("No  possvel excluir fornecedor com usinas vinculadas.");return}if(confirm("Excluir este fornecedor?")){i(!0);try{const{error:p}=await $.from("suppliers").delete().eq("id",e.id);if(p)throw p;n&&n(e.id),t()}catch(p){alert("Erro ao excluir: "+p.message)}finally{i(!1)}}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),c.jsxs("form",{onSubmit:h,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),c.jsx("input",{value:s.cnpj,onChange:p=>u({...s,cnpj:p.target.value}),onBlur:f,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),c.jsx("input",{required:!0,value:s.name,onChange:p=>u({...s,name:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),c.jsx("input",{value:s.legal_partner_name,onChange:p=>u({...s,legal_partner_name:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),c.jsx("input",{value:s.legal_partner_cpf,onChange:p=>u({...s,legal_partner_cpf:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),c.jsx("input",{value:s.cnpj,onChange:p=>u({...s,cnpj:maskCpfCnpj(p.target.value)}),onBlur:f,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),c.jsx("input",{value:s.phone,onChange:p=>u({...s,phone:maskPhone(p.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),c.jsx("input",{type:"email",value:s.email,onChange:p=>u({...s,email:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),c.jsxs("select",{value:s.pix_key_type,onChange:p=>u({...s,pix_key_type:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"cpf",children:"CPF"}),c.jsx("option",{value:"cnpj",children:"CNPJ"}),c.jsx("option",{value:"email",children:"Email"}),c.jsx("option",{value:"telefone",children:"Telefone"}),c.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),c.jsx("input",{value:s.pix_key,onChange:p=>u({...s,pix_key:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsxs("select",{value:s.status,onChange:p=>u({...s,status:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"ativacao",children:"Em Ativao"}),c.jsx("option",{value:"ativo",children:"Ativo"}),c.jsx("option",{value:"inativo",children:"Inativo"})]})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),c.jsx("input",{value:s.cep,onChange:p=>u({...s,cep:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),c.jsx("input",{value:s.rua,onChange:p=>u({...s,rua:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),c.jsx("input",{value:s.numero,onChange:p=>u({...s,numero:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),c.jsx("input",{value:s.complemento,onChange:p=>u({...s,complemento:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),c.jsx("input",{value:s.bairro,onChange:p=>u({...s,bairro:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{value:s.cidade,onChange:p=>u({...s,cidade:p.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),c.jsx("input",{value:s.uf,onChange:p=>u({...s,uf:p.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&o.length>0&&c.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[c.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),c.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:o.map(p=>c.jsxs("li",{children:[p.name," - ",c.jsx("span",{style:{opacity:.7},children:p.status})]},p.id))})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[c.jsx("div",{children:e&&n&&c.jsx("button",{type:"button",onClick:m,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:a,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:a?"Salvando...":"Salvar"})]})]})]})]})})}function R4(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(null);x.useEffect(()=>{s()},[]);const s=async()=>{n(!0);try{const{data:f,error:h}=await $.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{s(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Fornecedores (Geradores)"}),c.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?c.jsx("p",{children:"Carregando..."}):c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:e.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome/Razo Social"}),c.jsx("th",{children:"CNPJ"}),c.jsx("th",{children:"Contato"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:e.map(f=>{var h;return c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold"},children:f.name}),c.jsx("td",{children:f.cnpj}),c.jsxs("td",{children:[c.jsx("div",{children:f.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),c.jsx("td",{children:c.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),c.jsx("td",{children:c.jsx("button",{onClick:()=>{l(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&c.jsx(N4,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function OA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=OA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=OA(e))&&(n&&(n+=" "),n+=t);return n}var M4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ty(e){if(typeof e!="string")return!1;var t=M4;return t.includes(e)}var D4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],z4=new Set(D4);function CA(e){return typeof e!="string"?!1:z4.has(e)}function AA(e){return typeof e=="string"&&e.startsWith("data-")}function In(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(CA(r)||AA(r))&&(t[r]=e[r]);return t}function ky(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return In(t)}return typeof e=="object"&&!Array.isArray(e)?In(e):null}function Rr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(CA(r)||AA(r)||Ty(r))&&(t[r]=e[r]);return t}var B4=["children","width","height","viewBox","className","style","title","desc"];function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function $4(e,t){if(e==null)return{};var r,n,a=I4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function I4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TA=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:s,desc:u}=e,d=$4(e,B4),f=i||{width:n,height:a,x:0,y:0},h=Pe("recharts-surface",o);return x.createElement("svg",pv({},Rr(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,s),x.createElement("desc",null,u),r)}),L4=["children","className"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}function U4(e,t){if(e==null)return{};var r,n,a=q4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function q4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ln=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=U4(e,L4),i=Pe("recharts-layer",n);return x.createElement("g",vv({className:i},Rr(a),{ref:t}),r)}),H4=x.createContext(null);function je(e){return function(){return e}}const kA=Math.cos,gd=Math.sin,Qr=Math.sqrt,yd=Math.PI,zf=2*yd,gv=Math.PI,yv=2*gv,ti=1e-6,W4=yv-ti;function PA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function K4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class V4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PA:K4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,s=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ti)if(!(Math.abs(f*s-u*d)>ti)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-l,y=s*s+u*u,g=m*m+p*p,b=Math.sqrt(y),v=Math.sqrt(h),w=i*Math.tan((gv-Math.acos((y+h-g)/(2*b*v)))/2),_=w/v,S=w/b;Math.abs(_-1)>ti&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+S*s},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),s=n*Math.sin(a),u=t+l,d=r+s,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ti||Math.abs(this._y1-d)>ti)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%yv+yv),h>W4?this._append`A${n},${n},0,1,${f},${t-l},${r-s}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ti&&this._append`A${n},${n},0,${+(h>=gv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Py(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new V4(t)}function Ny(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NA(e){this._context=e}NA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bf(e){return new NA(e)}function RA(e){return e[0]}function MA(e){return e[1]}function DA(e,t){var r=je(!0),n=null,a=Bf,i=null,o=Py(l);e=typeof e=="function"?e:e===void 0?RA:je(e),t=typeof t=="function"?t:t===void 0?MA:je(t);function l(s){var u,d=(s=Ny(s)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=s[u],u,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,s),+t(f,u,s));if(m)return i=null,m+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:je(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:je(+s),l):t},l.defined=function(s){return arguments.length?(r=typeof s=="function"?s:je(!!s),l):r},l.curve=function(s){return arguments.length?(a=s,n!=null&&(i=a(n)),l):a},l.context=function(s){return arguments.length?(s==null?n=i=null:i=a(n=s),l):n},l}function Qu(e,t,r){var n=null,a=je(!0),i=null,o=Bf,l=null,s=Py(u);e=typeof e=="function"?e:e===void 0?RA:je(+e),t=typeof t=="function"?t:je(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MA:je(+r);function u(f){var h,m,p,y=(f=Ny(f)).length,g,b=!1,v,w=new Array(y),_=new Array(y);for(i==null&&(l=o(v=s())),h=0;h<=y;++h){if(!(h<y&&a(g=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],_[p]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(g,h,f),_[h]=+t(g,h,f),l.point(n?+n(g,h,f):w[h],r?+r(g,h,f):_[h]))}if(v)return l=null,v+""||null}function d(){return DA().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:je(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:je(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:je(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:je(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:je(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:je(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:je(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class zA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function G4(e){return new zA(e,!0)}function F4(e){return new zA(e,!1)}const Ry={draw(e,t){const r=Qr(t/yd);e.moveTo(r,0),e.arc(0,0,r,0,zf)}},Y4={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},BA=Qr(1/3),X4=BA*2,Z4={draw(e,t){const r=Qr(t/X4),n=r*BA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},J4={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},Q4=.8908130915292852,$A=gd(yd/10)/gd(7*yd/10),e$=gd(zf/10)*$A,t$=-kA(zf/10)*$A,r$={draw(e,t){const r=Qr(t*Q4),n=e$*r,a=t$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=zf*i/5,l=kA(o),s=gd(o);e.lineTo(s*r,-l*r),e.lineTo(l*n-s*a,s*n+l*a)}e.closePath()}},Rm=Qr(3),n$={draw(e,t){const r=-Qr(t/(Rm*3));e.moveTo(0,r*2),e.lineTo(-Rm*r,-r),e.lineTo(Rm*r,-r),e.closePath()}},br=-.5,xr=Qr(3)/2,bv=1/Qr(12),a$=(bv/2+1)*3,i$={draw(e,t){const r=Qr(t/a$),n=r/2,a=r*bv,i=n,o=r*bv+r,l=-i,s=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,s),e.lineTo(br*n-xr*a,xr*n+br*a),e.lineTo(br*i-xr*o,xr*i+br*o),e.lineTo(br*l-xr*s,xr*l+br*s),e.lineTo(br*n+xr*a,br*a-xr*n),e.lineTo(br*i+xr*o,br*o-xr*i),e.lineTo(br*l+xr*s,br*s-xr*l),e.closePath()}};function o$(e,t){let r=null,n=Py(a);e=typeof e=="function"?e:je(e||Ry),t=typeof t=="function"?t:je(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:je(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:je(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function bd(){}function xd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IA(e){this._context=e}IA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l$(e){return new IA(e)}function LA(e){this._context=e}LA.prototype={areaStart:bd,areaEnd:bd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s$(e){return new LA(e)}function UA(e){this._context=e}UA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u$(e){return new UA(e)}function qA(e){this._context=e}qA.prototype={areaStart:bd,areaEnd:bd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function c$(e){return new qA(e)}function T1(e){return e<0?-1:1}function k1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(T1(i)+T1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function P1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Mm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function wd(e){this._context=e}wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mm(this,this._t0,P1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mm(this,P1(this,r=k1(this,e,t)),r);break;default:Mm(this,this._t0,r=k1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HA(e){this._context=new WA(e)}(HA.prototype=Object.create(wd.prototype)).point=function(e,t){wd.prototype.point.call(this,t,e)};function WA(e){this._context=e}WA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function d$(e){return new wd(e)}function f$(e){return new HA(e)}function KA(e){this._context=e}KA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=N1(e),a=N1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function N1(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function h$(e){return new KA(e)}function $f(e,t){this._context=e,this._t=t}$f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function m$(e){return new $f(e,.5)}function p$(e){return new $f(e,0)}function v$(e){return new $f(e,1)}function Ei(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function xv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function g$(e,t){return e[t]}function y$(e){const t=[];return t.key=e,t}function b$(){var e=je([]),t=xv,r=Ei,n=g$;function a(i){var o=Array.from(e.apply(this,arguments),y$),l,s=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<s;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Ny(t(o));l<s;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:je(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:je(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?xv:typeof i=="function"?i:je(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ei,a):r},a}function x$(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Ei(e,t)}}function w$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ei(e,t)}}function _$(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,s=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var y=e[t[p]],g=y[n][1]||0,b=y[n-1][1]||0;m+=g-b}s+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,s&&(r-=u/s)}a[n-1][1]+=a[n-1][0]=r,Ei(e,t)}}var If={},VA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(VA);var My={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(My);var Lf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Lf);var Uf={},GA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(GA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GA,r=Lf;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,s="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,s+=a[l]):f===u?u="":s+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(s),s=""):s+=f:f==="["?(d=!0,s&&(i.push(s),s="")):f==="."?s&&(i.push(s),s=""):s+=f,l++}return s&&i.push(s),i}e.toPath=n})(Uf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VA,r=My,n=Lf,a=Uf;function i(l,s,u){if(l==null)return u;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return u;const d=l[s];return d===void 0?r.isDeepKey(s)?i(l,a.toPath(s),u):u:d}case"number":case"symbol":{typeof s=="number"&&(s=n.toKey(s));const d=l[s];return d===void 0?u:d}default:{if(Array.isArray(s))return o(l,s,u);if(Object.is(s==null?void 0:s.valueOf(),-0)?s="-0":s=String(s),t.isUnsafeProperty(s))return u;const d=l[s];return d===void 0?u:d}}}function o(l,s,u){if(s.length===0)return u;let d=l;for(let f=0;f<s.length;f++){if(d==null||t.isUnsafeProperty(s[f]))return u;d=d[s[f]]}return d===void 0?u:d}e.get=i})(If);var S$=If.get;const Ko=Fn(S$);var j$=4;function Sa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j$,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ie(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var l=r[o-1];return typeof l=="string"?a+l+i:l!==void 0?a+Sa(l)+i:a+i},"")}var Vt=e=>e===0?0:e>0?1:-1,Fr=e=>typeof e=="number"&&e!=+e,Un=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,G=e=>(typeof e=="number"||e instanceof Number)&&!Fr(e),sn=e=>G(e)||typeof e=="string",E$=0,ks=e=>{var t=++E$;return"".concat(e||"").concat(t)},Yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!G(t)&&typeof t!="string")return n;var i;if(Un(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Fr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},FA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function _t(e,t,r){return G(e)&&G(t)?Sa(e+r*(t-e)):t}function O$(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ko(n,t))===r)}var pt=e=>e===null||typeof e>"u",lu=e=>pt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function C$(e){return e!=null}function su(){}var A$=["type","size","sizeType"];function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(null,arguments)}function R1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(r),!0).forEach(function(n){T$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T$(e,t,r){return(t=k$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k$(e){var t=P$(e,"string");return typeof t=="symbol"?t:t+""}function P$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N$(e,t){if(e==null)return{};var r,n,a=R$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function R$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YA={symbolCircle:Ry,symbolCross:Y4,symbolDiamond:Z4,symbolSquare:J4,symbolStar:r$,symbolTriangle:n$,symbolWye:i$},M$=Math.PI/180,D$=e=>{var t="symbol".concat(lu(e));return YA[t]||Ry},z$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*M$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},B$=(e,t)=>{YA["symbol".concat(lu(e))]=t},XA=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=N$(e,A$),i=M1(M1({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=D$(o),m=o$().type(h).size(z$(r,n,o)),p=m();if(p!==null)return p},{className:s,cx:u,cy:d}=i,f=Rr(i);return G(u)&&G(d)&&G(r)?x.createElement("path",wv({},f,{className:Pe("recharts-symbols",s),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};XA.registerSymbol=B$;var ZA=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$$=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Ty(a)&&(n[a]=i=>r[a](r,i))}),n},I$=(e,t,r)=>n=>(e(t,r,n),null),Dy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Ty(a)&&typeof i=="function"&&(n||(n={}),n[a]=I$(i,t,r))}),n};function D1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(r),!0).forEach(function(n){U$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U$(e,t,r){return(t=q$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$(e){var t=H$(e,"string");return typeof t=="symbol"?t:t+""}function H$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=L$({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var JA={},QA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o,i,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(QA);var eT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(eT);var zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(zy);var tT={},qf={},rT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(rT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(qf);var nT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(nT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qf,r=nT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(tT);var aT={},iT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=If;function r(n){return function(a){return t.get(a,n)}}e.property=r})(iT);var oT={},By={},lT={},$y={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})($y);var Iy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Iy);var Ly={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Ly);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y,r=Iy,n=Ly;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(p,y,g,b,v,w){const _=h(p,y,g,b,v,w);return _!==void 0?!!_:i(p,y,m,w)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return s(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null||r.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<p.length;y++){const g=p[y];if(!r.isPrimitive(d)&&!(g in d)||f[g]===void 0&&d[g]!==void 0||f[g]===null&&d[g]!==null||!h(d[g],f[g],g,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,y]of f.entries()){const g=d.get(p);if(h(g,y,p,d,f,m)===!1)return!1}return!0}function s(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let y=0;y<f.length;y++){const g=f[y];let b=!1;for(let v=0;v<d.length;v++){if(p.has(v))continue;const w=d[v];let _=!1;if(h(w,g,y,d,f,m)&&(_=!0),_){p.add(v),b=!0;break}}if(!b)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?s([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(lT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lT;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(By);var sT={},Uy={},uT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(uT);var Hf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Hf);var qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",s="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",y="[object DataView]",g="[object Uint8Array]",b="[object Uint8ClampedArray]",v="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",j="[object Int16Array]",E="[object Int32Array]",O="[object BigInt64Array]",A="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=y,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=E,e.int8ArrayTag=S,e.mapTag=s,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=v,e.uint32ArrayTag=w,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=b})(qy);var cT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(cT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT,r=Hf,n=qy,a=Iy,i=cT;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const y=p==null?void 0:p(d,f,h,m);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const g=new Array(d.length);m.set(d,g);for(let b=0;b<d.length;b++)g[b]=l(d[b],b,h,m,p);return Object.hasOwn(d,"index")&&(g.index=d.index),Object.hasOwn(d,"input")&&(g.input=d.input),g}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const g=new RegExp(d.source,d.flags);return g.lastIndex=d.lastIndex,g}if(d instanceof Map){const g=new Map;m.set(d,g);for(const[b,v]of d)g.set(b,l(v,b,h,m,p));return g}if(d instanceof Set){const g=new Set;m.set(d,g);for(const b of d)g.add(l(b,void 0,h,m,p));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const g=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,g);for(let b=0;b<d.length;b++)g[b]=l(d[b],b,h,m,p);return g}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const g=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,g),s(g,d,h,m,p),g}if(typeof File<"u"&&d instanceof File){const g=new File([d],d.name,{type:d.type});return m.set(d,g),s(g,d,h,m,p),g}if(typeof Blob<"u"&&d instanceof Blob){const g=new Blob([d],{type:d.type});return m.set(d,g),s(g,d,h,m,p),g}if(d instanceof Error){const g=new d.constructor;return m.set(d,g),g.message=d.message,g.name=d.name,g.stack=d.stack,g.cause=d.cause,s(g,d,h,m,p),g}if(d instanceof Boolean){const g=new Boolean(d.valueOf());return m.set(d,g),s(g,d,h,m,p),g}if(d instanceof Number){const g=new Number(d.valueOf());return m.set(d,g),s(g,d,h,m,p),g}if(d instanceof String){const g=new String(d.valueOf());return m.set(d,g),s(g,d,h,m,p),g}if(typeof d=="object"&&u(d)){const g=Object.create(Object.getPrototypeOf(d));return m.set(d,g),s(g,d,h,m,p),g}return d}function s(d,f,h=d,m,p){const y=[...Object.keys(f),...t.getSymbols(f)];for(let g=0;g<y.length;g++){const b=y[g],v=Object.getOwnPropertyDescriptor(d,b);(v==null||v.writable)&&(d[b]=l(f[b],b,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=s})(Uy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(sT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By,r=sT;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(oT);var dT={},fT={},hT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy,r=Hf,n=qy;function a(i,o){return t.cloneDeepWith(i,(l,s,u,d)=>{const f=o==null?void 0:o(l,s,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(hT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(fT);var mT={},Hy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Hy);var pT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(pT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My,r=Hy,n=pT,a=Uf;function i(o,l){let s;if(Array.isArray(l)?s=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?s=a.toPath(l):s=[l],s.length===0)return!1;let u=o;for(let d=0;d<s.length;d++){const f=s[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(mT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By,r=Lf,n=fT,a=If,i=mT;function o(l,s){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return s=n.cloneDeep(s),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):s===void 0?d===void 0:t.isMatch(d,s)}}e.matchesProperty=o})(dT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zy,r=iT,n=oT,a=dT;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(aT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QA,r=eT,n=zy,a=tT,i=aT;function o(l,s=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(i.iteratee(s),1)):[]}e.uniqBy=o})(JA);var W$=JA.uniqBy;const z1=Fn(W$);function K$(e,t,r){return t===!0?z1(e,r):typeof t=="function"?z1(e,t):e}var vT={exports:{}},gT={},yT={exports:{}},bT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=x;function V$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var G$=typeof Object.is=="function"?Object.is:V$,F$=Vo.useState,Y$=Vo.useEffect,X$=Vo.useLayoutEffect,Z$=Vo.useDebugValue;function J$(e,t){var r=t(),n=F$({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return X$(function(){a.value=r,a.getSnapshot=t,Dm(a)&&i({inst:a})},[e,r,t]),Y$(function(){return Dm(a)&&i({inst:a}),e(function(){Dm(a)&&i({inst:a})})},[e]),Z$(r),r}function Dm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!G$(e,r)}catch{return!0}}function Q$(e,t){return t()}var eI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q$:J$;bT.useSyncExternalStore=Vo.useSyncExternalStore!==void 0?Vo.useSyncExternalStore:eI;yT.exports=bT;var tI=yT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=x,rI=tI;function nI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aI=typeof Object.is=="function"?Object.is:nI,iI=rI.useSyncExternalStore,oI=Wf.useRef,lI=Wf.useEffect,sI=Wf.useMemo,uI=Wf.useDebugValue;gT.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=oI(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=sI(function(){function s(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return f=p}return f=m}if(p=f,aI(d,m))return p;var y=n(m);return a!==void 0&&a(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=iI(e,i[0],i[1]);return lI(function(){o.hasValue=!0,o.value=l},[l]),uI(l),l};vT.exports=gT;var cI=vT.exports,Wy=x.createContext(null),dI=e=>e,We=()=>{var e=x.useContext(Wy);return e?e.store.dispatch:dI},Pc=()=>{},fI=()=>Pc,hI=(e,t)=>e===t;function Y(e){var t=x.useContext(Wy);return cI.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fI,t?t.store.getState:Pc,t?t.store.getState:Pc,t?e:Pc,hI)}function mI(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pI(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function vI(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var B1=e=>Array.isArray(e)?e:[e];function gI(e){const t=Array.isArray(e[0])?e[0]:e;return vI(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function yI(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var bI=class{constructor(e){this.value=e}deref(){return this.value}},xI=typeof WeakRef<"u"?WeakRef:bI,wI=0,$1=1;function ec(){return{s:wI,v:void 0,o:null,p:null}}function xT(e,t={}){let r=ec();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:s}=arguments;for(let h=0,m=s;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const g=y.get(p);g===void 0?(l=ec(),y.set(p,l)):l=g}else{let y=l.p;y===null&&(l.p=y=new Map);const g=y.get(p);g===void 0?(l=ec(),y.set(p,l)):l=g}}const u=l;let d;if(l.s===$1)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new xI(d):d}return u.s=$1,u.v=d,d}return o.clearCache=()=>{r=ec(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function _I(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,s={},u=a.pop();typeof u=="object"&&(s=u,u=a.pop()),mI(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...s},{memoize:f,memoizeOptions:h=[],argsMemoize:m=xT,argsMemoizeOptions:p=[]}=d,y=B1(h),g=B1(p),b=gI(a),v=f(function(){return i++,u.apply(null,arguments)},...y),w=m(function(){o++;const S=yI(b,arguments);return l=v.apply(null,S),l},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:v,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var P=_I(xT),SI=Object.assign((e,t=P)=>{pI(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,s)=>(o[r[s]]=l,o),{}))},{withTypes:()=>SI}),wT={},_T={},ST={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(ST);var jT={},Ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ky);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(jT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ST,r=jT,n=Uf;function a(i,o,l,s){if(i==null)return[];l=s?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let y=m;for(let g=0;g<p.length&&y!=null;++g)y=y[p[g]];return y},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let y=0;y<f.length;y++){const g=t.compareValues(m.criteria[y],p.criteria[y],l[y]);if(g!==0)return g}return 0}).map(m=>m.original)}e.orderBy=a})(_T);var ET={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,s)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&s<i?o(d,s+1):a.push(d)}};return o(r,0),a}e.flatten=t})(ET);var Vy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=qf,n=$y,a=Ly;function i(o,l,s){return n.isObject(s)&&(typeof l=="number"&&r.isArrayLike(s)&&t.isIndex(l)&&l<s.length||typeof l=="string"&&l in s)?a.isEqualsSameValueZero(s[l],o):!1}e.isIterateeCall=i})(Vy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T,r=ET,n=Vy;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(wT);var jI=wT.sortBy;const Kf=Fn(jI);var OT=e=>e.legend.settings,EI=e=>e.legend.size,OI=e=>e.legend.payload;P([OI,OT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Kf(n,r):n});var tc=1;function CI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>tc||Math.abs(o.left-t.left)>tc||Math.abs(o.top-t.top)>tc||Math.abs(o.width-t.width)>tc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var AI=typeof Symbol=="function"&&Symbol.observable||"@@observable",I1=AI,zm=()=>Math.random().toString(36).substring(7).split("").join("."),TI={INIT:`@@redux/INIT${zm()}`,REPLACE:`@@redux/REPLACE${zm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zm()}`},_d=TI;function Gy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CT(e,t,r){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(bt(1));return r(CT)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,s=!1;function u(){o===i&&(o=new Map,i.forEach((g,b)=>{o.set(b,g)}))}function d(){if(s)throw new Error(bt(3));return a}function f(g){if(typeof g!="function")throw new Error(bt(4));if(s)throw new Error(bt(5));let b=!0;u();const v=l++;return o.set(v,g),function(){if(b){if(s)throw new Error(bt(6));b=!1,u(),o.delete(v),i=null}}}function h(g){if(!Gy(g))throw new Error(bt(7));if(typeof g.type>"u")throw new Error(bt(8));if(typeof g.type!="string")throw new Error(bt(17));if(s)throw new Error(bt(9));try{s=!0,a=n(a,g)}finally{s=!1}return(i=o).forEach(v=>{v()}),g}function m(g){if(typeof g!="function")throw new Error(bt(10));n=g,h({type:_d.REPLACE})}function p(){const g=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(bt(11));function v(){const _=b;_.next&&_.next(d())}return v(),{unsubscribe:g(v)}},[I1](){return this}}}return h({type:_d.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[I1]:p}}function kI(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:_d.INIT})>"u")throw new Error(bt(12));if(typeof r(void 0,{type:_d.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function AT(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{kI(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let s=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(bt(14));u[f]=p,s=s||p!==m}return s=s||n.length!==Object.keys(o).length,s?u:o}}function Sd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function PI(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(bt(15))};const o={getState:a.getState,dispatch:(s,...u)=>i(s,...u)},l=e.map(s=>s(o));return i=Sd(...l)(a.dispatch),{...a,dispatch:i}}}function TT(e){return Gy(e)&&"type"in e&&typeof e.type=="string"}var kT=Symbol.for("immer-nothing"),L1=Symbol.for("immer-draftable"),$t=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object,Go=ur.getPrototypeOf,jd="constructor",Vf="prototype",_v="configurable",Ed="enumerable",Nc="writable",Ps="value",qn=e=>!!e&&!!e[$t];function Xr(e){var t;return e?PT(e)||Ff(e)||!!e[L1]||!!((t=e[jd])!=null&&t[L1])||Yf(e)||Xf(e):!1}var NI=ur[Vf][jd].toString(),U1=new WeakMap;function PT(e){if(!e||!Fy(e))return!1;const t=Go(e);if(t===null||t===ur[Vf])return!0;const r=ur.hasOwnProperty.call(t,jd)&&t[jd];if(r===Object)return!0;if(!io(r))return!1;let n=U1.get(r);return n===void 0&&(n=Function.toString.call(r),U1.set(r,n)),n===NI}function Gf(e,t,r=!0){uu(e)===0?(r?Reflect.ownKeys(e):ur.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function uu(e){const t=e[$t];return t?t.type_:Ff(e)?1:Yf(e)?2:Xf(e)?3:0}var q1=(e,t,r=uu(e))=>r===2?e.has(t):ur[Vf].hasOwnProperty.call(e,t),Sv=(e,t,r=uu(e))=>r===2?e.get(t):e[t],Od=(e,t,r,n=uu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function RI(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ff=Array.isArray,Yf=e=>e instanceof Map,Xf=e=>e instanceof Set,Fy=e=>typeof e=="object",io=e=>typeof e=="function",Bm=e=>typeof e=="boolean";function MI(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var xn=e=>e.copy_||e.base_,Yy=e=>e.modified_?e.copy_:e.base_;function jv(e,t){if(Yf(e))return new Map(e);if(Xf(e))return new Set(e);if(Ff(e))return Array[Vf].slice.call(e);const r=PT(e);if(t===!0||t==="class_only"&&!r){const n=ur.getOwnPropertyDescriptors(e);delete n[$t];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[Nc]===!1&&(l[Nc]=!0,l[_v]=!0),(l.get||l.set)&&(n[o]={[_v]:!0,[Nc]:!0,[Ed]:l[Ed],[Ps]:e[o]})}return ur.create(Go(e),n)}else{const n=Go(e);if(n!==null&&r)return{...e};const a=ur.create(n);return ur.assign(a,e)}}function Xy(e,t=!1){return Zf(e)||qn(e)||!Xr(e)||(uu(e)>1&&ur.defineProperties(e,{set:rc,add:rc,clear:rc,delete:rc}),ur.freeze(e),t&&Gf(e,(r,n)=>{Xy(n,!0)},!1)),e}function DI(){Wr(2)}var rc={[Ps]:DI};function Zf(e){return e===null||!Fy(e)?!0:ur.isFrozen(e)}var Cd="MapSet",Ev="Patches",H1="ArrayMethods",NT={};function Oi(e){const t=NT[e];return t||Wr(0,e),t}var W1=e=>!!NT[e],Ns,RT=()=>Ns,zI=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:W1(Cd)?Oi(Cd):void 0,arrayMethodsPlugin_:W1(H1)?Oi(H1):void 0});function K1(e,t){t&&(e.patchPlugin_=Oi(Ev),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ov(e){Cv(e),e.drafts_.forEach(BI),e.drafts_=null}function Cv(e){e===Ns&&(Ns=e.parent_)}var V1=e=>Ns=zI(Ns,e);function BI(e){const t=e[$t];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function G1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[$t].modified_&&(Ov(t),Wr(4)),Xr(e)&&(e=F1(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[$t].base_,e,t)}else e=F1(t,r);return $I(t,e,!0),Ov(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kT?e:void 0}function F1(e,t){if(Zf(t))return t;const r=t[$t];if(!r)return Ad(t,e.handledSet_,e);if(!Jf(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);zT(r,e)}return r.copy_}function $I(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xy(t,r)}function MT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Jf=(e,t)=>e.scope_===t,II=[];function DT(e,t,r,n){const a=xn(e),i=e.type_;if(n!==void 0&&Sv(a,n,i)===t){Od(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Gf(a,(s,u)=>{if(qn(u)){const d=l.get(u)||[];d.push(s),l.set(u,d)}})}const o=e.draftLocations_.get(t)??II;for(const l of o)Od(a,l,r,i)}function LI(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!Jf(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=Yy(i);DT(e,i.draft_??i,o,r),zT(i,a)})}function zT(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}MT(e)}}function UI(e,t,r){const{scope_:n}=e;if(qn(r)){const a=r[$t];Jf(a,n)&&a.callbacks_.push(function(){Rc(e);const o=Yy(a);DT(e,r,o,t)})}else Xr(r)&&e.callbacks_.push(function(){const i=xn(e);e.type_===3?i.has(r)&&Ad(r,n.handledSet_,n):Sv(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ad(Sv(e.copy_,t,e.type_),n.handledSet_,n)})}function Ad(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||qn(e)||t.has(e)||!Xr(e)||Zf(e)||(t.add(e),Gf(e,(n,a)=>{if(qn(a)){const i=a[$t];if(Jf(i,r)){const o=Yy(i);Od(e,n,o,e.type_),MT(i)}}else Xr(a)&&Ad(a,t,r)})),e}function qI(e,t){const r=Ff(e),n={type_:r?1:0,scope_:t?t.scope_:RT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Td;r&&(a=[n],i=Rs);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var Td={get(e,t){if(t===$t)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=xn(e);if(!q1(a,t,e.type_))return HI(e,a,t);const i=a[t];if(e.finalized_||!Xr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&MI(t))return i;if(i===$m(e.base_,t)){Rc(e);const o=e.type_===1?+t:t,l=Tv(e.scope_,i,e,o);return e.copy_[o]=l}return i},has(e,t){return t in xn(e)},ownKeys(e){return Reflect.ownKeys(xn(e))},set(e,t,r){const n=BT(xn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=$m(xn(e),t),i=a==null?void 0:a[$t];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(RI(r,a)&&(r!==void 0||q1(e.base_,t,e.type_)))return!0;Rc(e),Av(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),UI(e,t,r)),!0},deleteProperty(e,t){return Rc(e),$m(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Av(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=xn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Nc]:!0,[_v]:e.type_!==1||t!=="length",[Ed]:n[Ed],[Ps]:r[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return Go(e.base_)},setPrototypeOf(){Wr(12)}},Rs={};for(let e in Td){let t=Td[e];Rs[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Rs.deleteProperty=function(e,t){return Rs.set.call(this,e,t,void 0)};Rs.set=function(e,t,r){return Td.set.call(this,e[0],t,r,e[0])};function $m(e,t){const r=e[$t];return(r?xn(r):e)[t]}function HI(e,t,r){var a;const n=BT(t,r);return n?Ps in n?n[Ps]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function BT(e,t){if(!(t in e))return;let r=Go(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Go(r)}}function Av(e){e.modified_||(e.modified_=!0,e.parent_&&Av(e.parent_))}function Rc(e){e.copy_||(e.assigned_=new Map,e.copy_=jv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(io(r)&&!io(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}io(n)||Wr(6),a!==void 0&&!io(a)&&Wr(7);let i;if(Xr(r)){const o=V1(this),l=Tv(o,r,void 0);let s=!0;try{i=n(l),s=!1}finally{s?Ov(o):Cv(o)}return K1(o,a),G1(i,o)}else if(!r||!Fy(r)){if(i=n(r),i===void 0&&(i=r),i===kT&&(i=void 0),this.autoFreeze_&&Xy(i,!0),a){const o=[],l=[];Oi(Ev).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else Wr(1,r)},this.produceWithPatches=(r,n)=>{if(io(r))return(l,...s)=>this.produceWithPatches(l,u=>r(u,...s));let a,i;return[this.produce(r,n,(l,s)=>{a=l,i=s}),a,i]},Bm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Bm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Bm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xr(t)||Wr(8),qn(t)&&(t=Gr(t));const r=V1(this),n=Tv(r,t,void 0);return n[$t].isManual_=!0,Cv(r),n}finishDraft(t,r){const n=t&&t[$t];(!n||!n.isManual_)&&Wr(9);const{scope_:a}=n;return K1(a,r),G1(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Oi(Ev).applyPatches_;return qn(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Tv(e,t,r,n){const[a,i]=Yf(t)?Oi(Cd).proxyMap_(t,r):Xf(t)?Oi(Cd).proxySet_(t,r):qI(t,r);return((r==null?void 0:r.scope_)??RT()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?LI(r,i,n):i.callbacks_.push(function(s){var d;(d=s.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=s;i.modified_&&u&&u.generatePatches_(i,[],s)}),a}function Gr(e){return qn(e)||Wr(10,e),$T(e)}function $T(e){if(!Xr(e)||Zf(e))return e;const t=e[$t];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=jv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=jv(e,!0);return Gf(r,(a,i)=>{Od(r,a,$T(i))},n),t&&(t.finalized_=!1),r}var KI=new WI,IT=KI.produce;function LT(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var VI=LT(),GI=LT,FI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sd:Sd.apply(null,arguments)};function Mr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(mr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>TT(n)&&n.type===e,r}var UT=class Wl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wl.prototype)}static get[Symbol.species](){return Wl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wl(...t[0].concat(this)):new Wl(...t.concat(this))}};function Y1(e){return Xr(e)?IT(e,()=>{}):e}function nc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function YI(e){return typeof e=="boolean"}var XI=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new UT;return r&&(YI(r)?o.push(VI):o.push(GI(r.extraArgument))),o},qT="RTK_autoBatch",Re=()=>e=>({payload:e,meta:{[qT]:!0}}),X1=e=>t=>{setTimeout(t,e)},HT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,s=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:X1(10):e.type==="callback"?e.queueNotification:X1(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[qT]),i=!a,i&&(o||(o=!0,s(u))),n.dispatch(d)}finally{a=!0}}})},ZI=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new UT(e);return n&&a.push(HT(typeof n=="object"?n:void 0)),a};function JI(e){const t=XI(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Gy(r))l=AT(r);else throw new Error(mr(1));let s;typeof n=="function"?s=n(t):s=t();let u=Sd;a&&(u=FI({trace:!1,...typeof a=="object"&&a}));const d=PI(...s),f=ZI(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return CT(l,i,m)}function WT(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(mr(28));if(l in t)throw new Error(mr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function QI(e){return typeof e=="function"}function eL(e,t){let[r,n,a]=WT(t),i;if(QI(e))i=()=>Y1(e());else{const l=Y1(e);i=()=>l}function o(l=i(),s){let u=[r[s.type],...n.filter(({matcher:d})=>d(s)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(qn(d)){const m=f(d,s);return m===void 0?d:m}else{if(Xr(d))return IT(d,h=>f(h,s));{const h=f(d,s);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var tL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rL=(e=21)=>{let t="",r=e;for(;r--;)t+=tL[Math.random()*64|0];return t},nL=Symbol.for("rtk-slice-createasyncthunk");function aL(e,t){return`${e}/${t}`}function iL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[nL];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(mr(11));const l=(typeof a.reducers=="function"?a.reducers(lL()):a.reducers)||{},s=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,S){const j=typeof _=="string"?_:_.type;if(!j)throw new Error(mr(12));if(j in u.sliceCaseReducersByType)throw new Error(mr(13));return u.sliceCaseReducersByType[j]=S,d},addMatcher(_,S){return u.sliceMatchers.push({matcher:_,reducer:S}),d},exposeAction(_,S){return u.actionCreators[_]=S,d},exposeCaseReducer(_,S){return u.sliceCaseReducersByName[_]=S,d}};s.forEach(_=>{const S=l[_],j={reducerName:_,type:aL(i,_),createNotation:typeof a.reducers=="function"};uL(S)?dL(j,S,d,t):sL(j,S,d)});function f(){const[_={},S=[],j=void 0]=typeof a.extraReducers=="function"?WT(a.extraReducers):[a.extraReducers],E={..._,...u.sliceCaseReducersByType};return eL(a.initialState,O=>{for(let A in E)O.addCase(A,E[A]);for(let A of u.sliceMatchers)O.addMatcher(A.matcher,A.reducer);for(let A of S)O.addMatcher(A.matcher,A.reducer);j&&O.addDefaultCase(j)})}const h=_=>_,m=new Map,p=new WeakMap;let y;function g(_,S){return y||(y=f()),y(_,S)}function b(){return y||(y=f()),y.getInitialState()}function v(_,S=!1){function j(O){let A=O[_];return typeof A>"u"&&S&&(A=nc(p,j,b)),A}function E(O=h){const A=nc(m,S,()=>new WeakMap);return nc(A,O,()=>{const k={};for(const[T,C]of Object.entries(a.selectors??{}))k[T]=oL(C,O,()=>nc(p,O,b),S);return k})}return{reducerPath:_,getSelectors:E,get selectors(){return E(j)},selectSlice:j}}const w={name:i,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...v(o),injectInto(_,{reducerPath:S,...j}={}){const E=S??o;return _.inject({reducerPath:E,reducer:g},j),{...w,...v(E,!0)}}};return w}}function oL(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Zt=iL();function lL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function sL({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!cL(n))throw new Error(mr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Mr(e,o):Mr(e))}function uL(e){return e._reducerDefinitionType==="asyncThunk"}function cL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dL({type:e,reducerName:t},r,n,a){if(!a)throw new Error(mr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:s,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),s&&n.addCase(f.rejected,s),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||ac,pending:l||ac,rejected:s||ac,settled:u||ac})}function ac(){}var fL="task",KT="listener",VT="completed",Zy="cancelled",hL=`task-${Zy}`,mL=`task-${VT}`,kv=`${KT}-${Zy}`,pL=`${KT}-${VT}`,Qf=class{constructor(e){$h(this,"name","TaskAbortError");$h(this,"message");this.code=e,this.message=`${fL} ${Zy} (reason: ${e})`}},Jy=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},kd=()=>{},GT=(e,t=kd)=>(e.catch(t),e),FT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),gi=e=>{if(e.aborted)throw new Qf(e.reason)};function YT(e,t){let r=kd;return new Promise((n,a)=>{const i=()=>a(new Qf(e.reason));if(e.aborted){i();return}r=FT(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=kd})}var vL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Qf?"cancelled":"rejected",error:r}}finally{t==null||t()}},Pd=e=>t=>GT(YT(e,t).then(r=>(gi(e),r))),XT=e=>{const t=Pd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:To}=Object,Z1={},eh="listenerMiddleware",gL=(e,t)=>{const r=n=>FT(e,()=>n.abort(e.reason));return(n,a)=>{Jy(n);const i=new AbortController;r(i);const o=vL(async()=>{gi(e),gi(i.signal);const l=await n({pause:Pd(i.signal),delay:XT(i.signal),signal:i.signal});return gi(i.signal),l},()=>i.abort(mL));return a!=null&&a.autoJoin&&t.push(o.catch(kd)),{result:Pd(e)(o),cancel(){i.abort(hL)}}}},yL=(e,t)=>{const r=async(n,a)=>{gi(t);let i=()=>{};const l=[new Promise((s,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),s([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await YT(t,Promise.race(l));return gi(t),s}finally{i()}};return(n,a)=>GT(r(n,a))},ZT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Mr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(mr(21));return Jy(i),{predicate:a,type:t,effect:i}},JT=To(e=>{const{type:t,predicate:r,effect:n}=ZT(e);return{id:rL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>JT}),J1=(e,t)=>{const{type:r,effect:n,predicate:a}=ZT(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Pv=e=>{e.pending.forEach(t=>{t.abort(kv)})},bL=(e,t)=>()=>{for(const r of t.keys())Pv(r);e.clear()},Q1=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},QT=To(Mr(`${eh}/add`),{withTypes:()=>QT}),xL=Mr(`${eh}/removeAll`),ek=To(Mr(`${eh}/remove`),{withTypes:()=>ek}),wL=(...e)=>{console.error(`${eh}/error`,...e)},cu=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:i,onError:o=wL}=e;Jy(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&Pv(m)}),s=m=>{const p=J1(t,m)??JT(m);return l(p)};To(s,{withTypes:()=>s});const u=m=>{const p=J1(t,m);return p&&(p.unsubscribe(),m.cancelActive&&Pv(p)),!!p};To(u,{withTypes:()=>u});const d=async(m,p,y,g)=>{const b=new AbortController,v=yL(s,b.signal),w=[];try{m.pending.add(b),n(m),await Promise.resolve(m.effect(p,To({},y,{getOriginalState:g,condition:(_,S)=>v(_,S).then(Boolean),take:v,delay:XT(b.signal),pause:Pd(b.signal),extra:i,signal:b.signal,fork:gL(b.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,S,j)=>{_!==b&&(_.abort(kv),j.delete(_))})},cancel:()=>{b.abort(kv),m.pending.delete(b)},throwIfCancelled:()=>{gi(b.signal)}})))}catch(_){_ instanceof Qf||Q1(o,_,{raisedBy:"effect"})}finally{await Promise.all(w),b.abort(pL),a(m),m.pending.delete(b)}},f=bL(t,r);return{middleware:m=>p=>y=>{if(!TT(y))return p(y);if(QT.match(y))return s(y.payload);if(xL.match(y)){f();return}if(ek.match(y))return u(y.payload);let g=m.getState();const b=()=>{if(g===Z1)throw new Error(mr(23));return g};let v;try{if(v=p(y),t.size>0){const w=m.getState(),_=Array.from(t.values());for(const S of _){let j=!1;try{j=S.predicate(y,w,g)}catch(E){j=!1,Q1(o,E,{raisedBy:"predicate"})}j&&d(S,y,m,b)}}}finally{g=Z1}return v},startListening:s,stopListening:u,clearListeners:f}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _L={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tk=Zt({name:"chartLayout",initialState:_L,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:SL,setLayout:jL,setChartSize:EL,setScale:OL}=tk.actions,CL=tk.reducer;function rk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Be(e){return Number.isFinite(e)}function un(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){AL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AL(e,t,r){return(t=TL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TL(e){var t=kL(e,"string");return typeof t=="symbol"?t:t+""}function kL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return pt(e)||pt(t)?r:sn(t)?Ko(e,t,r):typeof t=="function"?t(e):r}var PL=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&G(e[i]))return bo(bo({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&G(e[o]))return bo(bo({},e),{},{[o]:e[o]+(a||0)})}return e},Ii=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",nk=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},ak=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:s,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=a==="category"&&o.bandwidth?o.bandwidth()/p:0;if(y=m==="angleAxis"&&i&&i.length>=2?Vt(i[0]-i[1])*2*y:y,f||h){var g=(f||h||[]).map((b,v)=>{var w=n?n.indexOf(b):b;return{coordinate:o(w)+y,value:b,offset:y,index:v}});return g.filter(b=>!Fr(b.coordinate))}return s&&u?u.map((b,v)=>({coordinate:o(b)+y,value:b,index:v,offset:y})):o.ticks&&d!=null?o.ticks(d).map((b,v)=>({coordinate:o(b)+y,value:b,offset:y,index:v})):o.domain().map((b,v)=>({coordinate:o(b)+y,value:n?n[b]:b,index:v,offset:y}))},tw=1e-4,NL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-tw,i=Math.max(n[0],n[1])+tw,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},RL=(e,t)=>{if(!t||t.length!==2||!G(t[0])||!G(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!G(e[0])||e[0]<r)&&(a[0]=r),(!G(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},ML=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var s=e[l],u=s==null?void 0:s[a];if(u!=null){var d=u[1],f=u[0],h=Fr(d)?f:d;h>=0?(u[0]=i,u[1]=i+h,i=d):(u[0]=o,u[1]=o+h,o=d)}}}},DL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var l=e[o],s=l==null?void 0:l[a];if(s!=null){var u=Fr(s[1])?s[0]:s[1];u>=0?(s[0]=i,s[1]=i+u,i=s[1]):(s[0]=0,s[1]=0)}}}},zL={sign:ML,expand:x$,none:Ei,silhouette:w$,wiggle:_$,positive:DL},BL=(e,t,r)=>{var n,a=(n=zL[r])!==null&&n!==void 0?n:Ei,i=b$().keys(t).value((l,s)=>Number(At(l,s,0))).order(xv).offset(a),o=i(e);return o.forEach((l,s)=>{l.forEach((u,d)=>{var f=At(e[d],t[s],0);Array.isArray(f)&&f.length===2&&G(f[0])&&G(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function $L(e){return e==null?void 0:String(e)}var rw=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=At(i,t.dataKey,t.scale.domain()[o]);return pt(l)?null:t.scale(l)-a/2+n},IL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},LL=e=>{var t=e.flat(2).filter(G);return[Math.min(...t),Math.max(...t)]},UL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],qL=(e,t,r)=>{if(e!=null)return UL(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,l=o.reduce((s,u)=>{var d=rk(u,t,r),f=LL(d);return!Be(f[0])||!Be(f[1])?s:[Math.min(s[0],f[0]),Math.max(s[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},nw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Kf(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var s=a[o],u=a[o-1];i=Math.min(((s==null?void 0:s.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function iw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return bo(bo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function ik(e,t){if(e)return String(e);if(typeof t=="string")return t}var HL=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},WL=(e,t)=>t==="centric"?e.angle:e.radius,Xn=e=>e.layout.width,Zn=e=>e.layout.height,KL=e=>e.layout.scale,ok=e=>e.layout.margin,th=P(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),rh=P(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),VL="data-recharts-item-index",GL="data-recharts-item-id",du=60;function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){FL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FL(e,t,r){return(t=YL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YL(e){var t=XL(e,"string");return typeof t=="symbol"?t:t+""}function XL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZL=e=>e.brush.height;function JL(e){var t=rh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:du;return r+a}return r},0)}function QL(e){var t=rh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:du;return r+a}return r},0)}function eU(e){var t=th(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function tU(e){var t=th(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vt=P([Xn,Zn,ok,ZL,JL,QL,eU,tU,OT,EI],(e,t,r,n,a,i,o,l,s,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=ic(ic({},f),d),m=h.bottom;h.bottom+=n,h=PL(h,s,u);var p=e-h.left-h.right,y=t-h.top-h.bottom;return ic(ic({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(y,0)})}),rU=P(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Qy=P(Xn,Zn,(e,t)=>({x:0,y:0,width:e,height:t})),nU=x.createContext(null),Jt=()=>x.useContext(nU)!=null,nh=e=>e.brush,ah=P([nh,vt,ok],(e,t,r)=>({height:e.height,x:G(e.x)?e.x:t.left,y:G(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:G(e.width)?e.width:t.width})),lk={},sk={},uk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const s=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{p(),o=void 0,l=null},g=()=>{d()},b=function(...v){if(a!=null&&a.aborted)return;o=this,l=v;const w=h==null;m(),s&&w&&d()};return b.schedule=m,b.cancel=y,b.flush=g,a==null||a.addEventListener("abort",y,{once:!0}),b}e.debounce=t})(uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uk;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:s}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},a,{edges:u}),m=function(...y){return s!=null&&(f===null&&(f=Date.now()),Date.now()-f>=s)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(sk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sk;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(lk);var aU=lk.throttle;const iU=Fn(aU);var Rd=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},ck=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=Un(n)?e:Number(n),s=Un(a)?t:Number(a);return i&&i>0&&(l?s=l/i:s&&(l=s*i),o&&s!=null&&s>o&&(s=o)),{calculatedWidth:l,calculatedHeight:s}},oU={width:0,height:0,overflow:"visible"},lU={width:0,overflowX:"visible"},sU={height:0,overflowY:"visible"},uU={},cU=e=>{var{width:t,height:r}=e,n=Un(t),a=Un(r);return n&&a?oU:n?lU:a?sU:uU};function dU(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(null,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dk=x.createContext({width:-1,height:-1});function pU(e){return un(e.width)&&un(e.height)}function fk(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return pU(a)?x.createElement(dk.Provider,{value:a},t):null}var e0=()=>x.useContext(dk),vU=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:s,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,y=x.useRef(null),g=x.useRef();g.current=m,x.useImperativeHandle(t,()=>y.current);var[b,v]=x.useState({containerWidth:n.width,containerHeight:n.height}),w=x.useCallback((O,A)=>{v(k=>{var T=Math.round(O),C=Math.round(A);return k.containerWidth===T&&k.containerHeight===C?k:{containerWidth:T,containerHeight:C}})},[]);x.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return su;var O=C=>{var R,{width:B,height:K}=C[0].contentRect;w(B,K),(R=g.current)===null||R===void 0||R.call(g,B,K)};d>0&&(O=iU(O,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(O),{width:k,height:T}=y.current.getBoundingClientRect();return w(k,T),A.observe(y.current),()=>{A.disconnect()}},[w,d]);var{containerWidth:_,containerHeight:S}=b;Rd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:E}=ck(_,S,{width:a,height:i,aspect:r,maxHeight:s});return Rd(j!=null&&j>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,E,a,i,o,l,r),x.createElement("div",{id:f?"".concat(f):void 0,className:Pe("recharts-responsive-container",h),style:sw(sw({},p),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:s}),ref:y},x.createElement("div",{style:cU({width:a,height:i})},x.createElement(fk,{width:j,height:E},u)))}),gU=x.forwardRef((e,t)=>{var r=e0();if(un(r.width)&&un(r.height))return e.children;var{width:n,height:a}=dU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=ck(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return G(i)&&G(o)?x.createElement(fk,{width:i,height:o},e.children):x.createElement(vU,Nv({},e,{width:n,height:a,ref:t}))});function hk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ih=()=>{var e,t=Jt(),r=Y(rU),n=Y(ah),a=(e=Y(nh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},yU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mk=()=>{var e;return(e=Y(vt))!==null&&e!==void 0?e:yU},pk=()=>Y(Xn),vk=()=>Y(Zn),ve=e=>e.layout.layoutType,fu=()=>Y(ve),bU=()=>{var e=fu();return e!==void 0},oh=e=>{var t=We(),r=Jt(),{width:n,height:a}=e,i=e0(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),x.useEffect(()=>{!r&&un(o)&&un(l)&&t(EL({width:o,height:l}))},[t,r,o,l]),null},gk=Symbol.for("immer-nothing"),uw=Symbol.for("immer-draftable"),gr=Symbol.for("immer-state");function Kr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ms=Object.getPrototypeOf;function Fo(e){return!!e&&!!e[gr]}function Ci(e){var t;return e?yk(e)||Array.isArray(e)||!!e[uw]||!!((t=e.constructor)!=null&&t[uw])||hu(e)||sh(e):!1}var xU=Object.prototype.constructor.toString(),cw=new WeakMap;function yk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=cw.get(r);return n===void 0&&(n=Function.toString.call(r),cw.set(r,n)),n===xU}function Md(e,t,r=!0){lh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function lh(e){const t=e[gr];return t?t.type_:Array.isArray(e)?1:hu(e)?2:sh(e)?3:0}function Rv(e,t){return lh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bk(e,t,r){const n=lh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function wU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hu(e){return e instanceof Map}function sh(e){return e instanceof Set}function ri(e){return e.copy_||e.base_}function Mv(e,t){if(hu(e))return new Map(e);if(sh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=yk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[gr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Ms(e),n)}else{const n=Ms(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function t0(e,t=!1){return uh(e)||Fo(e)||!Ci(e)||(lh(e)>1&&Object.defineProperties(e,{set:oc,add:oc,clear:oc,delete:oc}),Object.freeze(e),t&&Object.values(e).forEach(r=>t0(r,!0))),e}function _U(){Kr(2)}var oc={value:_U};function uh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var SU={};function Ai(e){const t=SU[e];return t||Kr(0,e),t}var Ds;function xk(){return Ds}function jU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dw(e,t){t&&(Ai("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dv(e){zv(e),e.drafts_.forEach(EU),e.drafts_=null}function zv(e){e===Ds&&(Ds=e.parent_)}function fw(e){return Ds=jU(Ds,e)}function EU(e){const t=e[gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function hw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[gr].modified_&&(Dv(t),Kr(4)),Ci(e)&&(e=Dd(t,e),t.parent_||zd(t,e)),t.patches_&&Ai("Patches").generateReplacementPatches_(r[gr].base_,e,t.patches_,t.inversePatches_)):e=Dd(t,r,[]),Dv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gk?e:void 0}function Dd(e,t,r){if(uh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[gr];if(!a)return Md(t,(i,o)=>mw(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return zd(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),Md(o,(s,u)=>mw(e,a,i,s,u,r,l),n),zd(e,i,!1),r&&e.patches_&&Ai("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function mw(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=uh(a);if(!(l&&!o)){if(Fo(a)){const s=i&&t&&t.type_!==3&&!Rv(t.assigned_,n)?i.concat(n):void 0,u=Dd(e,a,s);if(bk(r,n,u),Fo(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ci(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Dd(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(hu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&zd(e,a)}}}function zd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&t0(t,r)}function OU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:xk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=r0;r&&(a=[n],i=zs);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var r0={get(e,t){if(t===gr)return e;const r=ri(e);if(!Rv(r,t))return CU(e,r,t);const n=r[t];return e.finalized_||!Ci(n)?n:n===Im(e.base_,t)?(Lm(e),e.copy_[t]=$v(n,e)):n},has(e,t){return t in ri(e)},ownKeys(e){return Reflect.ownKeys(ri(e))},set(e,t,r){const n=wk(ri(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Im(ri(e),t),i=a==null?void 0:a[gr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(wU(r,a)&&(r!==void 0||Rv(e.base_,t)))return!0;Lm(e),Bv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Im(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Lm(e),Bv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ri(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Kr(11)},getPrototypeOf(e){return Ms(e.base_)},setPrototypeOf(){Kr(12)}},zs={};Md(r0,(e,t)=>{zs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});zs.deleteProperty=function(e,t){return zs.set.call(this,e,t,void 0)};zs.set=function(e,t,r){return r0.set.call(this,e[0],t,r,e[0])};function Im(e,t){const r=e[gr];return(r?ri(r):e)[t]}function CU(e,t,r){var a;const n=wk(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function wk(e,t){if(!(t in e))return;let r=Ms(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ms(r)}}function Bv(e){e.modified_||(e.modified_=!0,e.parent_&&Bv(e.parent_))}function Lm(e){e.copy_||(e.copy_=Mv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var AU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(s=i,...u){return o.produce(s,d=>r.call(this,d,...u))}}typeof r!="function"&&Kr(6),n!==void 0&&typeof n!="function"&&Kr(7);let a;if(Ci(t)){const i=fw(this),o=$v(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Dv(i):zv(i)}return dw(i,n),hw(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===gk&&(a=void 0),this.autoFreeze_&&t0(a,!0),n){const i=[],o=[];Ai("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Kr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,s=>t(s,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ci(e)||Kr(8),Fo(e)&&(e=TU(e));const t=fw(this),r=$v(e,void 0);return r[gr].isManual_=!0,zv(t),r}finishDraft(e,t){const r=e&&e[gr];(!r||!r.isManual_)&&Kr(9);const{scope_:n}=r;return dw(n,t),hw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ai("Patches").applyPatches_;return Fo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function $v(e,t){const r=hu(e)?Ai("MapSet").proxyMap_(e,t):sh(e)?Ai("MapSet").proxySet_(e,t):OU(e,t);return(t?t.scope_:xk()).drafts_.push(r),r}function TU(e){return Fo(e)||Kr(10,e),_k(e)}function _k(e){if(!Ci(e)||uh(e))return e;const t=e[gr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Mv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Mv(e,!0);return Md(r,(a,i)=>{bk(r,a,_k(i))},n),t&&(t.finalized_=!1),r}var kU=new AU;kU.produce;var PU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Sk=Zt({name:"legend",initialState:PU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Re()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Re()},removeLegendPayload:{reducer(e,t){var r=Gr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Re()}}}),{setLegendSize:aZ,setLegendSettings:iZ,addLegendPayload:NU,replaceLegendPayload:RU,removeLegendPayload:MU}=Sk.actions,DU=Sk.reducer;function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(null,arguments)}function pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(r),!0).forEach(function(n){zU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zU(e,t,r){return(t=BU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IU(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var LU=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:s,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var S={padding:0,margin:0},j=(l?Kf(i,l):i).map((E,O)=>{if(E.type==="none")return null;var A=E.formatter||o||IU,{value:k,name:T}=E,C=k,R=T;if(A){var B=A(k,T,E,O,i);if(Array.isArray(B))[C,R]=B;else if(B!=null)C=B;else return null}var K=Um({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:K},sn(R)?x.createElement("span",{className:"recharts-tooltip-item-name"},R):null,sn(R)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},C),x.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:S},j)}return null},p=Um({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Um({margin:0},a),g=!pt(d),b=g?d:"",v=Pe("recharts-default-tooltip",s),w=Pe("recharts-tooltip-label",u);g&&f&&i!==void 0&&i!==null&&(b=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Iv({className:v,style:p},_),x.createElement("p",{className:w,style:y},x.isValidElement(b)?b:"".concat(b)),m())},kl="recharts-tooltip-wrapper",UU={visibility:"hidden"};function qU(e){var{coordinate:t,translateX:r,translateY:n}=e;return Pe(kl,{["".concat(kl,"-right")]:G(r)&&t&&G(t.x)&&r>=t.x,["".concat(kl,"-left")]:G(r)&&t&&G(t.x)&&r<t.x,["".concat(kl,"-bottom")]:G(n)&&t&&G(t.y)&&n>=t.y,["".concat(kl,"-top")]:G(n)&&t&&G(t.y)&&n<t.y})}function vw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:s,viewBoxDimension:u}=e;if(i&&G(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=s[n];if(h==null)return 0;if(o[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+l,g=h+u;return y>g?Math.max(d,h):Math.max(f,h)}function HU(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WU(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:s}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=vw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:s,viewBoxDimension:s.width}),f=vw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:s,viewBoxDimension:s.height}),u=HU({translateX:d,translateY:f,useTranslate3d:l})):u=UU,{cssProperties:u,cssClasses:qU({translateX:d,translateY:f,coordinate:r})}}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){Lv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lv(e,t,r){return(t=KU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e){var t=VU(e,"string");return typeof t=="symbol"?t:t+""}function VU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GU extends x.PureComponent{constructor(){super(...arguments),Lv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Lv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:s,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:y,innerRef:g,hasPortalFromProps:b}=this.props,{cssClasses:v,cssProperties:w}=WU({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),_=b?{}:lc(lc({transition:s&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=lc(lc({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:S,ref:g},i)}}var jk=()=>{var e;return(e=Y(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return(t=YU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xw={curveBasisClosed:s$,curveBasisOpen:u$,curveBasis:l$,curveBumpX:G4,curveBumpY:F4,curveLinearClosed:c$,curveLinear:Bf,curveMonotoneX:d$,curveMonotoneY:f$,curveNatural:h$,curveStep:m$,curveStepAfter:v$,curveStepBefore:p$},Bd=e=>Be(e.x)&&Be(e.y),ww=e=>e.base!=null&&Bd(e.base)&&Bd(e),Pl=e=>e.x,Nl=e=>e.y,ZU=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(lu(e));return(r==="curveMonotone"||r==="curveBump")&&t?xw["".concat(r).concat(t==="vertical"?"Y":"X")]:xw[r]||Bf},JU=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=ZU(t,a),l=i?r.filter(Bd):r,s;if(Array.isArray(n)){var u=r.map((m,p)=>bw(bw({},m),{},{base:n[p]}));a==="vertical"?s=Qu().y(Nl).x1(Pl).x0(m=>m.base.x):s=Qu().x(Pl).y1(Nl).y0(m=>m.base.y);var d=s.defined(ww).curve(o),f=i?u.filter(ww):u;return d(f)}a==="vertical"&&G(n)?s=Qu().y(Nl).x1(Pl).x0(n):G(n)?s=Qu().x(Pl).y1(Nl).y0(n):s=DA().x(Pl).y(Nl);var h=s.defined(Bd).curve(o);return h(l)},Ek=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=fu();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?JU(o):n;return x.createElement("path",Uv({},In(e),$$(e),{className:Pe("recharts-curve",t),d:l===null?void 0:l,ref:a}))},QU=["x","y","top","left","width","height","className"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(null,arguments)}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){t8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t8(e,t,r){return(t=r8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8(e){var t=n8(e,"string");return typeof t=="symbol"?t:t+""}function n8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a8(e,t){if(e==null)return{};var r,n,a=i8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o8=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),l8=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,s=a8(e,QU),u=e8({x:t,y:r,top:n,left:a,width:i,height:o},s);return!G(t)||!G(r)||!G(i)||!G(o)||!G(n)||!G(a)?null:x.createElement("path",qv({},Rr(u),{className:Pe("recharts-cross",l),d:o8(t,r,i,o,n,a)}))};function s8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){u8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u8(e,t,r){return(t=c8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=d8(e,"string");return typeof t=="symbol"?t:t+""}function d8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ok=(e,t,r)=>e.map(n=>"".concat(f8(n)," ").concat(t,"ms ").concat(r)).join(","),h8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Bs=(e,t)=>Object.keys(t).reduce((r,n)=>jw(jw({},r),{},{[n]:e(n,t[n])}),{});function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){m8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m8(e,t,r){return(t=p8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p8(e){var t=v8(e,"string");return typeof t=="symbol"?t:t+""}function v8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $d=(e,t,r)=>e+(t-e)*r,Hv=e=>{var{from:t,to:r}=e;return t!==r},Ck=(e,t,r)=>{var n=Bs((a,i)=>{if(Hv(i)){var[o,l]=e(i.from,i.to,i.velocity);return rt(rt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Bs((a,i)=>Hv(i)&&n[a]!=null?rt(rt({},i),{},{velocity:$d(i.velocity,n[a].velocity,r),from:$d(i.from,n[a].from,r)}):i,t):Ck(e,n,r-1)};function g8(e,t,r,n,a,i){var o,l=n.reduce((h,m)=>rt(rt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),s=()=>Bs((h,m)=>m.from,l),u=()=>!Object.values(l).filter(Hv).length,d=null,f=h=>{o||(o=h);var m=h-o,p=m/r.dt;l=Ck(r,l,p),a(rt(rt(rt({},e),t),s())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function y8(e,t,r,n,a,i,o){var l=null,s=a.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:rt(rt({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Bs((y,g)=>$d(...g,r(h)),s);if(i(rt(rt(rt({},e),t),m)),h<1)l=o.setTimeout(d);else{var p=Bs((y,g)=>$d(...g,r(1)),s);i(rt(rt(rt({},e),t),p))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const b8=(e,t,r,n,a,i)=>{var o=h8(e,t);return r==null?()=>(a(rt(rt({},e),t)),()=>{}):r.isStepper===!0?g8(e,t,r,o,a,i):y8(e,t,r,n,o,a,i)};var Id=1e-4,Ak=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Tk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Ow=(e,t)=>r=>{var n=Ak(e,t);return Tk(n,r)},x8=(e,t)=>r=>{var n=Ak(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return Tk(a,r)},w8=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},_8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=w8(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},S8=(e,t,r,n)=>{var a=Ow(e,r),i=Ow(t,n),o=x8(e,r),l=u=>u>1?1:u<0?0:u,s=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=o(f);if(Math.abs(m-d)<Id||p<Id)return i(f);f=l(f-m/p)}return i(f)};return s.isStepper=!1,s},Cw=function(){return S8(..._8(...arguments))},j8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,s)=>{var u=-(o-l)*r,d=s*n,f=s+(u-d)*a/1e3,h=s*a/1e3+o;return Math.abs(h-l)<Id&&Math.abs(f)<Id?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},E8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Cw(e);case"spring":return j8();default:if(e.split("(")[0]==="cubic-bezier")return Cw(e)}return typeof e=="function"?e:null};function O8(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[s,...u]=l;if(typeof s=="number"){a=e.setTimeout(i.bind(null,u),s);return}i(s),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class C8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function A8(){return O8(new C8)}var T8=x.createContext(A8);function k8(e,t){var r=x.useContext(T8);return x.useMemo(()=>t??r(e),[e,t,r])}var P8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ch={isSsr:P8()},N8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Aw={t:0},qm={t:1};function n0(e){var t=yr(e,N8),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:s,children:u}=t,d=r==="auto"?!ch.isSsr:r,f=k8(t.animationId,t.animationManager),[h,m]=x.useState(d?Aw:qm),p=x.useRef(null);return x.useEffect(()=>{d||m(qm)},[d]),x.useEffect(()=>{if(!d||!n)return su;var y=b8(Aw,qm,E8(i),a,m,f.getTimeoutController()),g=()=>{p.current=y()};return f.start([s,o,g,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[d,n,a,i,o,s,l,f]),u(h.t)}function a0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(ks(t)),n=x.useRef(e);return n.current!==e&&(r.current=ks(t),n.current=e),r.current}var R8=["radius"],M8=["radius"],Tw,kw,Pw,Nw,Rw,Mw,Dw,zw,Bw,$w;function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){D8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D8(e,t,r){return(t=z8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8(e){var t=B8(e,"string");return typeof t=="symbol"?t:t+""}function B8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(null,arguments)}function Uw(e,t){if(e==null)return{};var r,n,a=$8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function en(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qw=(e,t,r,n,a)=>{var i=Sa(r),o=Sa(n),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),s=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=a[m]>l?l:a[m];f=Ie(Tw||(Tw=en(["M",",",""])),e,t+s*h[0]),h[0]>0&&(f+=Ie(kw||(kw=en(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=Ie(Pw||(Pw=en(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=Ie(Nw||(Nw=en(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+s*h[1])),f+=Ie(Rw||(Rw=en(["L ",",",""])),e+r,t+n-s*h[2]),h[2]>0&&(f+=Ie(Mw||(Mw=en(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=Ie(Dw||(Dw=en(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=Ie(zw||(zw=en(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-s*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var y=Math.min(l,a);f=Ie(Bw||(Bw=en(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+s*y,y,y,d,e+u*y,t,e+r-u*y,t,y,y,d,e+r,t+s*y,e+r,t+n-s*y,y,y,d,e+r-u*y,t+n,e+u*y,t+n,y,y,d,e,t+n-s*y)}else f=Ie($w||($w=en(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},Hw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kk=e=>{var t=yr(e,Hw),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var L=r.current.getTotalLength();L&&a(L)}catch{}},[]);var{x:i,y:o,width:l,height:s,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:y}=t,g=x.useRef(l),b=x.useRef(s),v=x.useRef(i),w=x.useRef(o),_=x.useMemo(()=>({x:i,y:o,width:l,height:s,radius:u}),[i,o,l,s,u]),S=a0(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||s!==+s||l===0||s===0)return null;var j=Pe("recharts-rectangle",d);if(!y){var E=Rr(t),{radius:O}=E,A=Uw(E,R8);return x.createElement("path",Ld({},A,{x:Sa(i),y:Sa(o),width:Sa(l),height:Sa(s),radius:typeof u=="number"?u:void 0,className:j,d:qw(i,o,l,s,u)}))}var k=g.current,T=b.current,C=v.current,R=w.current,B="0px ".concat(n===-1?1:n,"px"),K="".concat(n,"px 0px"),N=Ok(["strokeDasharray"],h,typeof f=="string"?f:Hw.animationEasing);return x.createElement(n0,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:y,begin:m},L=>{var U=_t(k,l,L),H=_t(T,s,L),X=_t(C,i,L),et=_t(R,o,L);r.current&&(g.current=U,b.current=H,v.current=X,w.current=et);var Ke;p?L>0?Ke={transition:N,strokeDasharray:K}:Ke={strokeDasharray:B}:Ke={strokeDasharray:K};var M=Rr(t),{radius:q}=M,te=Uw(M,M8);return x.createElement("path",Ld({},te,{radius:typeof u=="number"?u:void 0,className:j,d:qw(X,et,U,H,u),ref:r,style:Lw(Lw({},Ke),t.style)}))})};function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){I8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8(e,t,r){return(t=L8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=U8(e,"string");return typeof t=="symbol"?t:t+""}function U8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ud=Math.PI/180,q8=e=>e*180/Math.PI,Ot=(e,t,r,n)=>({x:e+Math.cos(-Ud*n)*r,y:t+Math.sin(-Ud*n)*r}),H8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},W8=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},K8=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=W8({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,s=Math.acos(l);return n>i&&(s=2*Math.PI-s),{radius:o,angle:q8(s),angleInRadian:s}},V8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},G8=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},F8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=K8({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:s,endAngle:u}=V8(t),d=i,f;if(s<=u){for(;d>u;)d-=360;for(;d<s;)d+=360;f=d>=s&&d<=u}else{for(;d>s;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=s}return f?Kw(Kw({},t),{},{radius:a,angle:G8(d,t)}):null};function Pk(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Ot(t,r,n,a),l=Ot(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var Vw,Gw,Fw,Yw,Xw,Zw,Jw;function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}function li(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y8=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},sc=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:s}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Ud,f=s?a:a+i*d,h=Ot(t,r,u,f),m=Ot(t,r,n,f),p=s?a-i*d:a,y=Ot(t,r,u*Math.cos(d*Ud),p);return{center:h,circleTangency:m,lineTangency:y,theta:d}},Nk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=Y8(i,o),s=i+l,u=Ot(t,r,a,i),d=Ot(t,r,a,s),f=Ie(Vw||(Vw=li(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(i>s),d.x,d.y);if(n>0){var h=Ot(t,r,n,i),m=Ot(t,r,n,s);f+=Ie(Gw||(Gw=li(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(i<=s),h.x,h.y)}else f+=Ie(Fw||(Fw=li(["L ",","," Z"])),t,r);return f},X8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:s,endAngle:u}=e,d=Vt(u-s),{circleTangency:f,lineTangency:h,theta:m}=sc({cx:t,cy:r,radius:a,angle:s,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:y,theta:g}=sc({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),b=l?Math.abs(s-u):Math.abs(s-u)-m-g;if(b<0)return o?Ie(Yw||(Yw=li(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):Nk({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:u});var v=Ie(Xw||(Xw=li(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(b>180),+(d<0),p.x,p.y,i,i,+(d<0),y.x,y.y);if(n>0){var{circleTangency:w,lineTangency:_,theta:S}=sc({cx:t,cy:r,radius:n,angle:s,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:j,lineTangency:E,theta:O}=sc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(s-u):Math.abs(s-u)-S-O;if(A<0&&i===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+=Ie(Zw||(Zw=li(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,i,i,+(d<0),j.x,j.y,n,n,+(A>180),+(d>0),w.x,w.y,i,i,+(d<0),_.x,_.y)}else v+=Ie(Jw||(Jw=li(["L",",","Z"])),t,r);return v},Z8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Rk=e=>{var t=yr(e,Z8),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:s,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Pe("recharts-sector",f),m=i-a,p=Yr(o,m,0,!0),y;return p>0&&Math.abs(u-d)<360?y=X8({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:s,startAngle:u,endAngle:d}):y=Nk({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),x.createElement("path",Wv({},Rr(t),{className:h,d:y}))};function J8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ZA(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,s=Ot(n,a,i,l),u=Ot(n,a,o,l);return[{x:s.x,y:s.y},{x:u.x,y:u.y}]}return Pk(t)}}var Mk={},Dk={},zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(zk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Dk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vy,r=Dk;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),s=new Array(l);for(let u=0;u<l;u++)s[u]=a,a+=o;return s}e.range=n})(Mk);var Q8=Mk.range;const Bk=Fn(Q8);function Ra(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function e6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i0(e){let t,r,n;e.length!==2?(t=Ra,r=(l,s)=>Ra(e(l),s),n=(l,s)=>e(l)-s):(t=e===Ra||e===e6?e:t6,r=e,n=e);function a(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const f=u+d>>>1;r(l[f],s)<0?u=f+1:d=f}while(u<d)}return u}function i(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const f=u+d>>>1;r(l[f],s)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,s,u=0,d=l.length){const f=a(l,s,u,d-1);return f>u&&n(l[f-1],s)>-n(l[f],s)?f-1:f}return{left:a,center:o,right:i}}function t6(){return 0}function $k(e){return e===null?NaN:+e}function*r6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const n6=i0(Ra),mu=n6.right;i0($k).center;class Qw extends Map{constructor(t,r=o6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(e_(this,t))}has(t){return super.has(e_(this,t))}set(t,r){return super.set(a6(this,t),r)}delete(t){return super.delete(i6(this,t))}}function e_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function a6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function i6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function o6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function l6(e=Ra){if(e===Ra)return Ik;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Ik(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const s6=Math.sqrt(50),u6=Math.sqrt(10),c6=Math.sqrt(2);function qd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=s6?10:i>=u6?5:i>=c6?2:1;let l,s,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=r&&r<2?qd(e,t,r*2):[l,s,u]}function Kv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?qd(t,e,r):qd(e,t,r);if(!(i>=a))return[];const l=i-a+1,s=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)s[u]=(i-u)/-o;else for(let u=0;u<l;++u)s[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)s[u]=(a+u)/-o;else for(let u=0;u<l;++u)s[u]=(a+u)*o;return s}function Vv(e,t,r){return t=+t,e=+e,r=+r,qd(e,t,r)[2]}function Gv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Vv(t,e,r):Vv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function t_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function r_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Lk(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Ik:l6(a);n>r;){if(n-r>600){const s=n-r+1,u=t-r+1,d=Math.log(s),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(s-f)/s)*(u-s/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/s+h)),p=Math.min(n,Math.floor(t+(s-u)*f/s+h));Lk(e,t,m,p,a)}const i=e[t];let o=r,l=n;for(Rl(e,r,t),a(e[n],i)>0&&Rl(e,r,n);o<l;){for(Rl(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Rl(e,r,l):(++l,Rl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Rl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function d6(e,t,r){if(e=Float64Array.from(r6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return r_(e);if(t>=1)return t_(e);var n,a=(n-1)*t,i=Math.floor(a),o=t_(Lk(e,i).subarray(0,i+1)),l=r_(e.subarray(i+1));return o+(l-o)*(a-i)}}function f6(e,t,r=$k){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function h6(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fv=Symbol("implicit");function o0(){var e=new Qw,t=[],r=[],n=Fv;function a(i){let o=e.get(i);if(o===void 0){if(n!==Fv)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Qw;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return o0(t,r).unknown(n)},zr.apply(a,arguments),a}function l0(){var e=o0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,s=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,y=m?n:a;i=(y-p)/Math.max(1,h-s+u*2),l&&(i=Math.floor(i)),p+=(y-p-i*(h-s))*d,o=i*(1-s),l&&(p=Math.round(p),o=Math.round(o));var g=h6(h).map(function(b){return p+i*b});return r(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(s=Math.min(1,u=+h),f()):s},e.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),f()):s},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return l0(t(),[n,a]).round(l).paddingInner(s).paddingOuter(u).align(d)},zr.apply(f(),arguments)}function Uk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Uk(t())},e}function m6(){return Uk(l0.apply(null,arguments).paddingInner(1))}function s0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function qk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function pu(){}var $s=.7,Hd=1/$s,ko="\\s*([+-]?\\d+)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p6=/^#([0-9a-f]{3,8})$/,v6=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),g6=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),y6=new RegExp(`^rgba\\(${ko},${ko},${ko},${Is}\\)$`),b6=new RegExp(`^rgba\\(${ln},${ln},${ln},${Is}\\)$`),x6=new RegExp(`^hsl\\(${Is},${ln},${ln}\\)$`),w6=new RegExp(`^hsla\\(${Is},${ln},${ln},${Is}\\)$`),n_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s0(pu,Ls,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:a_,formatHex:a_,formatHex8:_6,formatHsl:S6,formatRgb:i_,toString:i_});function a_(){return this.rgb().formatHex()}function _6(){return this.rgb().formatHex8()}function S6(){return Hk(this).formatHsl()}function i_(){return this.rgb().formatRgb()}function Ls(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=p6.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?o_(t):r===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?uc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?uc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=v6.exec(e))?new Gt(t[1],t[2],t[3],1):(t=g6.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=y6.exec(e))?uc(t[1],t[2],t[3],t[4]):(t=b6.exec(e))?uc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=x6.exec(e))?u_(t[1],t[2]/100,t[3]/100,1):(t=w6.exec(e))?u_(t[1],t[2]/100,t[3]/100,t[4]):n_.hasOwnProperty(e)?o_(n_[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function o_(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function uc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gt(e,t,r,n)}function j6(e){return e instanceof pu||(e=Ls(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function Yv(e,t,r,n){return arguments.length===1?j6(e):new Gt(e,t,r,n??1)}function Gt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}s0(Gt,Yv,qk(pu,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(yi(this.r),yi(this.g),yi(this.b),Wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l_,formatHex:l_,formatHex8:E6,formatRgb:s_,toString:s_}));function l_(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function E6(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si((isNaN(this.opacity)?1:this.opacity)*255)}`}function s_(){const e=Wd(this.opacity);return`${e===1?"rgb(":"rgba("}${yi(this.r)}, ${yi(this.g)}, ${yi(this.b)}${e===1?")":`, ${e})`}`}function Wd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function si(e){return e=yi(e),(e<16?"0":"")+e.toString(16)}function u_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,r,n)}function Hk(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof pu||(e=Ls(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,s=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new Vr(o,l,s,e.opacity)}function O6(e,t,r,n){return arguments.length===1?Hk(e):new Vr(e,t,r,n??1)}function Vr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}s0(Vr,O6,qk(pu,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Gt(Hm(e>=240?e-240:e+120,a,n),Hm(e,a,n),Hm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Vr(c_(this.h),cc(this.s),cc(this.l),Wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wd(this.opacity);return`${e===1?"hsl(":"hsla("}${c_(this.h)}, ${cc(this.s)*100}%, ${cc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function c_(e){return e=(e||0)%360,e<0?e+360:e}function cc(e){return Math.max(0,Math.min(1,e||0))}function Hm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const u0=e=>()=>e;function C6(e,t){return function(r){return e+r*t}}function A6(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function T6(e){return(e=+e)==1?Wk:function(t,r){return r-t?A6(t,r,e):u0(isNaN(t)?r:t)}}function Wk(e,t){var r=t-e;return r?C6(e,r):u0(isNaN(e)?t:e)}const d_=function e(t){var r=T6(t);function n(a,i){var o=r((a=Yv(a)).r,(i=Yv(i)).r),l=r(a.g,i.g),s=r(a.b,i.b),u=Wk(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=s(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function k6(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function P6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function N6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=pl(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function R6(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function M6(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=pl(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Xv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wm=new RegExp(Xv.source,"g");function D6(e){return function(){return e}}function z6(e){return function(t){return e(t)+""}}function B6(e,t){var r=Xv.lastIndex=Wm.lastIndex=0,n,a,i,o=-1,l=[],s=[];for(e=e+"",t=t+"";(n=Xv.exec(e))&&(a=Wm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:Kd(n,a)})),r=Wm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?z6(s[0].x):D6(t):(t=s.length,function(u){for(var d=0,f;d<t;++d)l[(f=s[d]).i]=f.x(u);return l.join("")})}function pl(e,t){var r=typeof t,n;return t==null||r==="boolean"?u0(t):(r==="number"?Kd:r==="string"?(n=Ls(t))?(t=n,d_):B6:t instanceof Ls?d_:t instanceof Date?R6:P6(t)?k6:Array.isArray(t)?N6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?M6:Kd)(e,t)}function c0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function $6(e,t){t===void 0&&(t=e,e=pl);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function I6(e){return function(){return e}}function Vd(e){return+e}var f_=[0,1];function zt(e){return e}function Zv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:I6(isNaN(t)?NaN:.5)}function L6(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function U6(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Zv(a,n),i=r(o,i)):(n=Zv(n,a),i=r(i,o)),function(l){return i(n(l))}}function q6(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Zv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var s=mu(e,l,1,n)-1;return i[s](a[s](l))}}function vu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dh(){var e=f_,t=f_,r=pl,n,a,i,o=zt,l,s,u;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=L6(e[0],e[h-1])),l=h>2?q6:U6,s=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(s||(s=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Kd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Vd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=c0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function d0(){return dh()(zt,zt)}function H6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yo(e){return e=Gd(Math.abs(e)),e?e[1]:NaN}function W6(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>n&&(l=Math.max(1,n-s)),i.push(r.substring(a-=l,a+l)),!((s+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function K6(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var V6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Us(e){if(!(t=V6.exec(e)))throw new Error("invalid format: "+e);var t;return new f0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Us.prototype=f0.prototype;function f0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}f0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G6(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Fd;function F6(e,t){var r=Gd(e,t);if(!r)return Fd=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Fd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Gd(e,Math.max(0,t+i-1))[0]}function h_(e,t){var r=Gd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const m_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:H6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>h_(e*100,t),r:h_,s:F6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function p_(e){return e}var v_=Array.prototype.map,g_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Y6(e){var t=e.grouping===void 0||e.thousands===void 0?p_:W6(v_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?p_:K6(v_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Us(f);var m=f.fill,p=f.align,y=f.sign,g=f.symbol,b=f.zero,v=f.width,w=f.comma,_=f.precision,S=f.trim,j=f.type;j==="n"?(w=!0,j="g"):m_[j]||(_===void 0&&(_=12),S=!0,j="g"),(b||m==="0"&&p==="=")&&(b=!0,m="0",p="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),O=(g==="$"?n:/[%p]/.test(j)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=m_[j],k=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function T(C){var R=E,B=O,K,N,L;if(j==="c")B=A(C)+B,C="";else{C=+C;var U=C<0||1/C<0;if(C=isNaN(C)?s:A(Math.abs(C),_),S&&(C=G6(C)),U&&+C==0&&y!=="+"&&(U=!1),R=(U?y==="("?y:l:y==="-"||y==="("?"":y)+R,B=(j==="s"&&!isNaN(C)&&Fd!==void 0?g_[8+Fd/3]:"")+B+(U&&y==="("?")":""),k){for(K=-1,N=C.length;++K<N;)if(L=C.charCodeAt(K),48>L||L>57){B=(L===46?a+C.slice(K+1):C.slice(K))+B,C=C.slice(0,K);break}}}w&&!b&&(C=t(C,1/0));var H=R.length+C.length+B.length,X=H<v?new Array(v-H+1).join(m):"";switch(w&&b&&(C=t(X+C,X.length?v-B.length:1/0),X=""),p){case"<":C=R+C+B+X;break;case"=":C=R+X+C+B;break;case"^":C=X.slice(0,H=X.length>>1)+R+C+B+X.slice(H);break;default:C=X+R+C+B;break}return i(C)}return T.toString=function(){return f+""},T}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Yo(h)/3)))*3,p=Math.pow(10,-m),y=u((f=Us(f),f.type="f",f),{suffix:g_[8+m/3]});return function(g){return y(p*g)}}return{format:u,formatPrefix:d}}var dc,h0,Kk;X6({thousands:",",grouping:[3],currency:["$",""]});function X6(e){return dc=Y6(e),h0=dc.format,Kk=dc.formatPrefix,dc}function Z6(e){return Math.max(0,-Yo(Math.abs(e)))}function J6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yo(t)/3)))*3-Yo(Math.abs(e)))}function Q6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yo(t)-Yo(e))+1}function Vk(e,t,r,n){var a=Gv(e,t,r),i;switch(n=Us(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=J6(a,o))&&(n.precision=i),Kk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Q6(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Z6(a))&&(n.precision=i-(n.type==="%")*2);break}}return h0(n)}function Wa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Kv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Vk(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],s,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Vv(o,l,r),u===s)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function Gk(){var e=d0();return e.copy=function(){return vu(e,Gk())},zr.apply(e,arguments),Wa(e)}function Fk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Vd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Fk(e).unknown(t)},e=arguments.length?Array.from(e,Vd):[0,1],Wa(r)}function Yk(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function y_(e){return Math.log(e)}function b_(e){return Math.exp(e)}function e9(e){return-Math.log(-e)}function t9(e){return-Math.exp(-e)}function r9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function n9(e){return e===10?r9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function a9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function x_(e){return(t,r)=>-e(-t,r)}function m0(e){const t=e(y_,b_),r=t.domain;let n=10,a,i;function o(){return a=a9(n),i=n9(n),r()[0]<0?(a=x_(a),i=x_(i),e(e9,t9)):e(y_,b_),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const s=r();let u=s[0],d=s[s.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,y;const g=l==null?10:+l;let b=[];if(!(n%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(y=h<0?p/i(-h):p*i(h),!(y<u)){if(y>d)break;b.push(y)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(y=h>0?p/i(-h):p*i(h),!(y<u)){if(y>d)break;b.push(y)}b.length*2<g&&(b=Kv(u,d,g))}else b=Kv(h,m,Math.min(m-h,g)).map(i);return f?b.reverse():b},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=n===10?"s":","),typeof s!="function"&&(!(n%1)&&(s=Us(s)).precision==null&&(s.trim=!0),s=h0(s)),l===1/0)return s;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?s(d):""}},t.nice=()=>r(Yk(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Xk(){const e=m0(dh()).domain([1,10]);return e.copy=()=>vu(e,Xk()).base(e.base()),zr.apply(e,arguments),e}function w_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function __(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function p0(e){var t=1,r=e(w_(t),__(t));return r.constant=function(n){return arguments.length?e(w_(t=+n),__(t)):t},Wa(r)}function Zk(){var e=p0(dh());return e.copy=function(){return vu(e,Zk()).constant(e.constant())},zr.apply(e,arguments)}function S_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function i9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function o9(e){return e<0?-e*e:e*e}function v0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(i9,o9):e(S_(r),S_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wa(t)}function g0(){var e=v0(dh());return e.copy=function(){return vu(e,g0()).exponent(e.exponent())},zr.apply(e,arguments),e}function l9(){return g0.apply(null,arguments).exponent(.5)}function j_(e){return Math.sign(e)*e*e}function s9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Jk(){var e=d0(),t=[0,1],r=!1,n;function a(i){var o=s9(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(j_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Vd)).map(j_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Jk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zr.apply(a,arguments),Wa(a)}function Qk(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=f6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[mu(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ra),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Qk().domain(e).range(t).unknown(n)},zr.apply(i,arguments)}function e2(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(s){return s!=null&&s<=s?a[mu(n,s,0,r)]:i}function l(){var s=-1;for(n=new Array(r);++s<r;)n[s]=((s+1)*t-(s-r)*e)/(r+1);return o}return o.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,l()):[e,t]},o.range=function(s){return arguments.length?(r=(a=Array.from(s)).length-1,l()):a.slice()},o.invertExtent=function(s){var u=a.indexOf(s);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(s){return arguments.length&&(i=s),o},o.thresholds=function(){return n.slice()},o.copy=function(){return e2().domain([e,t]).range(a).unknown(i)},zr.apply(Wa(o),arguments)}function t2(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[mu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return t2().domain(e).range(t).unknown(r)},zr.apply(a,arguments)}const Km=new Date,Vm=new Date;function it(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const s=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return s;let u;do s.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return s},a.filter=i=>it(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Km.setTime(+i),Vm.setTime(+o),e(Km),e(Vm),Math.floor(r(Km,Vm))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Yd=it(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?it(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yd);Yd.range;const Cn=1e3,Tr=Cn*60,An=Tr*60,Hn=An*24,y0=Hn*7,E_=Hn*30,Gm=Hn*365,ui=it(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getUTCSeconds());ui.range;const b0=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cn)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());b0.range;const x0=it(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());x0.range;const w0=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cn-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getHours());w0.range;const _0=it(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCHours());_0.range;const gu=it(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Hn,e=>e.getDate()-1);gu.range;const fh=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>e.getUTCDate()-1);fh.range;const r2=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>Math.floor(e/Hn));r2.range;function Li(e){return it(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/y0)}const hh=Li(0),Xd=Li(1),u9=Li(2),c9=Li(3),Xo=Li(4),d9=Li(5),f9=Li(6);hh.range;Xd.range;u9.range;c9.range;Xo.range;d9.range;f9.range;function Ui(e){return it(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/y0)}const mh=Ui(0),Zd=Ui(1),h9=Ui(2),m9=Ui(3),Zo=Ui(4),p9=Ui(5),v9=Ui(6);mh.range;Zd.range;h9.range;m9.range;Zo.range;p9.range;v9.range;const S0=it(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());S0.range;const j0=it(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());j0.range;const Wn=it(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wn.range;const Kn=it(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kn.range;function n2(e,t,r,n,a,i){const o=[[ui,1,Cn],[ui,5,5*Cn],[ui,15,15*Cn],[ui,30,30*Cn],[i,1,Tr],[i,5,5*Tr],[i,15,15*Tr],[i,30,30*Tr],[a,1,An],[a,3,3*An],[a,6,6*An],[a,12,12*An],[n,1,Hn],[n,2,2*Hn],[r,1,y0],[t,1,E_],[t,3,3*E_],[e,1,Gm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:s(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function s(u,d,f){const h=Math.abs(d-u)/f,m=i0(([,,g])=>g).right(o,h);if(m===o.length)return e.every(Gv(u/Gm,d/Gm,f));if(m===0)return Yd.every(Math.max(Gv(u,d,f),1));const[p,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(y)}return[l,s]}const[g9,y9]=n2(Kn,j0,mh,r2,_0,x0),[b9,x9]=n2(Wn,S0,hh,gu,w0,b0);function Fm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ym(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ml(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function w9(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,u=Dl(a),d=zl(a),f=Dl(i),h=zl(i),m=Dl(o),p=zl(o),y=Dl(l),g=zl(l),b=Dl(s),v=zl(s),w={a:L,A:U,b:H,B:X,c:null,d:P_,e:P_,f:W9,g:eq,G:rq,H:U9,I:q9,j:H9,L:a2,m:K9,M:V9,p:et,q:Ke,Q:M_,s:D_,S:G9,u:F9,U:Y9,V:X9,w:Z9,W:J9,x:null,X:null,y:Q9,Y:tq,Z:nq,"%":R_},_={a:M,A:q,b:te,B:se,c:null,d:N_,e:N_,f:lq,g:gq,G:bq,H:aq,I:iq,j:oq,L:o2,m:sq,M:uq,p:ae,q:yt,Q:M_,s:D_,S:cq,u:dq,U:fq,V:hq,w:mq,W:pq,x:null,X:null,y:vq,Y:yq,Z:xq,"%":R_},S={a:k,A:T,b:C,B:R,c:B,d:T_,e:T_,f:B9,g:A_,G:C_,H:k_,I:k_,j:R9,L:z9,m:N9,M:M9,p:A,q:P9,Q:I9,s:L9,S:D9,u:O9,U:C9,V:A9,w:E9,W:T9,x:K,X:N,y:A_,Y:C_,Z:k9,"%":$9};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(z,ie){return function(ue){var I=[],Ut=-1,_e=0,Qt=z.length,er,Va,pb;for(ue instanceof Date||(ue=new Date(+ue));++Ut<Qt;)z.charCodeAt(Ut)===37&&(I.push(z.slice(_e,Ut)),(Va=O_[er=z.charAt(++Ut)])!=null?er=z.charAt(++Ut):Va=er==="e"?" ":"0",(pb=ie[er])&&(er=pb(ue,Va)),I.push(er),_e=Ut+1);return I.push(z.slice(_e,Ut)),I.join("")}}function E(z,ie){return function(ue){var I=Ml(1900,void 0,1),Ut=O(I,z,ue+="",0),_e,Qt;if(Ut!=ue.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(ie&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(_e=Ym(Ml(I.y,0,1)),Qt=_e.getUTCDay(),_e=Qt>4||Qt===0?Zd.ceil(_e):Zd(_e),_e=fh.offset(_e,(I.V-1)*7),I.y=_e.getUTCFullYear(),I.m=_e.getUTCMonth(),I.d=_e.getUTCDate()+(I.w+6)%7):(_e=Fm(Ml(I.y,0,1)),Qt=_e.getDay(),_e=Qt>4||Qt===0?Xd.ceil(_e):Xd(_e),_e=gu.offset(_e,(I.V-1)*7),I.y=_e.getFullYear(),I.m=_e.getMonth(),I.d=_e.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Qt="Z"in I?Ym(Ml(I.y,0,1)).getUTCDay():Fm(Ml(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Qt+5)%7:I.w+I.U*7-(Qt+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,Ym(I)):Fm(I)}}function O(z,ie,ue,I){for(var Ut=0,_e=ie.length,Qt=ue.length,er,Va;Ut<_e;){if(I>=Qt)return-1;if(er=ie.charCodeAt(Ut++),er===37){if(er=ie.charAt(Ut++),Va=S[er in O_?ie.charAt(Ut++):er],!Va||(I=Va(z,ue,I))<0)return-1}else if(er!=ue.charCodeAt(I++))return-1}return I}function A(z,ie,ue){var I=u.exec(ie.slice(ue));return I?(z.p=d.get(I[0].toLowerCase()),ue+I[0].length):-1}function k(z,ie,ue){var I=m.exec(ie.slice(ue));return I?(z.w=p.get(I[0].toLowerCase()),ue+I[0].length):-1}function T(z,ie,ue){var I=f.exec(ie.slice(ue));return I?(z.w=h.get(I[0].toLowerCase()),ue+I[0].length):-1}function C(z,ie,ue){var I=b.exec(ie.slice(ue));return I?(z.m=v.get(I[0].toLowerCase()),ue+I[0].length):-1}function R(z,ie,ue){var I=y.exec(ie.slice(ue));return I?(z.m=g.get(I[0].toLowerCase()),ue+I[0].length):-1}function B(z,ie,ue){return O(z,t,ie,ue)}function K(z,ie,ue){return O(z,r,ie,ue)}function N(z,ie,ue){return O(z,n,ie,ue)}function L(z){return o[z.getDay()]}function U(z){return i[z.getDay()]}function H(z){return s[z.getMonth()]}function X(z){return l[z.getMonth()]}function et(z){return a[+(z.getHours()>=12)]}function Ke(z){return 1+~~(z.getMonth()/3)}function M(z){return o[z.getUTCDay()]}function q(z){return i[z.getUTCDay()]}function te(z){return s[z.getUTCMonth()]}function se(z){return l[z.getUTCMonth()]}function ae(z){return a[+(z.getUTCHours()>=12)]}function yt(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var ie=j(z+="",w);return ie.toString=function(){return z},ie},parse:function(z){var ie=E(z+="",!1);return ie.toString=function(){return z},ie},utcFormat:function(z){var ie=j(z+="",_);return ie.toString=function(){return z},ie},utcParse:function(z){var ie=E(z+="",!0);return ie.toString=function(){return z},ie}}}var O_={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,_9=/^%/,S9=/[\\^$*+?|[\]().{}]/g;function ce(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function j9(e){return e.replace(S9,"\\$&")}function Dl(e){return new RegExp("^(?:"+e.map(j9).join("|")+")","i")}function zl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function E9(e,t,r){var n=gt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function O9(e,t,r){var n=gt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function C9(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function A9(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function T9(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function C_(e,t,r){var n=gt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function A_(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function k9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function P9(e,t,r){var n=gt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function N9(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function T_(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function R9(e,t,r){var n=gt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function k_(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function M9(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function D9(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function z9(e,t,r){var n=gt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function B9(e,t,r){var n=gt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $9(e,t,r){var n=_9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function I9(e,t,r){var n=gt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function L9(e,t,r){var n=gt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function P_(e,t){return ce(e.getDate(),t,2)}function U9(e,t){return ce(e.getHours(),t,2)}function q9(e,t){return ce(e.getHours()%12||12,t,2)}function H9(e,t){return ce(1+gu.count(Wn(e),e),t,3)}function a2(e,t){return ce(e.getMilliseconds(),t,3)}function W9(e,t){return a2(e,t)+"000"}function K9(e,t){return ce(e.getMonth()+1,t,2)}function V9(e,t){return ce(e.getMinutes(),t,2)}function G9(e,t){return ce(e.getSeconds(),t,2)}function F9(e){var t=e.getDay();return t===0?7:t}function Y9(e,t){return ce(hh.count(Wn(e)-1,e),t,2)}function i2(e){var t=e.getDay();return t>=4||t===0?Xo(e):Xo.ceil(e)}function X9(e,t){return e=i2(e),ce(Xo.count(Wn(e),e)+(Wn(e).getDay()===4),t,2)}function Z9(e){return e.getDay()}function J9(e,t){return ce(Xd.count(Wn(e)-1,e),t,2)}function Q9(e,t){return ce(e.getFullYear()%100,t,2)}function eq(e,t){return e=i2(e),ce(e.getFullYear()%100,t,2)}function tq(e,t){return ce(e.getFullYear()%1e4,t,4)}function rq(e,t){var r=e.getDay();return e=r>=4||r===0?Xo(e):Xo.ceil(e),ce(e.getFullYear()%1e4,t,4)}function nq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ce(t/60|0,"0",2)+ce(t%60,"0",2)}function N_(e,t){return ce(e.getUTCDate(),t,2)}function aq(e,t){return ce(e.getUTCHours(),t,2)}function iq(e,t){return ce(e.getUTCHours()%12||12,t,2)}function oq(e,t){return ce(1+fh.count(Kn(e),e),t,3)}function o2(e,t){return ce(e.getUTCMilliseconds(),t,3)}function lq(e,t){return o2(e,t)+"000"}function sq(e,t){return ce(e.getUTCMonth()+1,t,2)}function uq(e,t){return ce(e.getUTCMinutes(),t,2)}function cq(e,t){return ce(e.getUTCSeconds(),t,2)}function dq(e){var t=e.getUTCDay();return t===0?7:t}function fq(e,t){return ce(mh.count(Kn(e)-1,e),t,2)}function l2(e){var t=e.getUTCDay();return t>=4||t===0?Zo(e):Zo.ceil(e)}function hq(e,t){return e=l2(e),ce(Zo.count(Kn(e),e)+(Kn(e).getUTCDay()===4),t,2)}function mq(e){return e.getUTCDay()}function pq(e,t){return ce(Zd.count(Kn(e)-1,e),t,2)}function vq(e,t){return ce(e.getUTCFullYear()%100,t,2)}function gq(e,t){return e=l2(e),ce(e.getUTCFullYear()%100,t,2)}function yq(e,t){return ce(e.getUTCFullYear()%1e4,t,4)}function bq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Zo(e):Zo.ceil(e),ce(e.getUTCFullYear()%1e4,t,4)}function xq(){return"+0000"}function R_(){return"%"}function M_(e){return+e}function D_(e){return Math.floor(+e/1e3)}var Zi,s2,u2;wq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wq(e){return Zi=w9(e),s2=Zi.format,Zi.parse,u2=Zi.utcFormat,Zi.utcParse,Zi}function _q(e){return new Date(e)}function Sq(e){return e instanceof Date?+e:+new Date(+e)}function E0(e,t,r,n,a,i,o,l,s,u){var d=d0(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),y=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),v=u("%b %d"),w=u("%B"),_=u("%Y");function S(j){return(s(j)<j?m:l(j)<j?p:o(j)<j?y:i(j)<j?g:n(j)<j?a(j)<j?b:v:r(j)<j?w:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,Sq)):h().map(_q)},d.ticks=function(j){var E=h();return e(E[0],E[E.length-1],j??10)},d.tickFormat=function(j,E){return E==null?S:u(E)},d.nice=function(j){var E=h();return(!j||typeof j.range!="function")&&(j=t(E[0],E[E.length-1],j??10)),j?h(Yk(E,j)):d},d.copy=function(){return vu(d,E0(e,t,r,n,a,i,o,l,s,u))},d}function jq(){return zr.apply(E0(b9,x9,Wn,S0,hh,gu,w0,b0,ui,s2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Eq(){return zr.apply(E0(g9,y9,Kn,j0,mh,fh,_0,x0,ui,u2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ph(){var e=0,t=1,r,n,a,i,o=zt,l=!1,s;function u(f){return f==null||isNaN(f=+f)?s:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),u):[o(0),o(1)]}}return u.range=d(pl),u.rangeRound=d(c0),u.unknown=function(f){return arguments.length?(s=f,u):s},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ka(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function c2(){var e=Wa(ph()(zt));return e.copy=function(){return Ka(e,c2())},Jn.apply(e,arguments)}function d2(){var e=m0(ph()).domain([1,10]);return e.copy=function(){return Ka(e,d2()).base(e.base())},Jn.apply(e,arguments)}function f2(){var e=p0(ph());return e.copy=function(){return Ka(e,f2()).constant(e.constant())},Jn.apply(e,arguments)}function O0(){var e=v0(ph());return e.copy=function(){return Ka(e,O0()).exponent(e.exponent())},Jn.apply(e,arguments)}function Oq(){return O0.apply(null,arguments).exponent(.5)}function h2(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((mu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ra),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>d6(e,i/n))},r.copy=function(){return h2(t).domain(e)},Jn.apply(r,arguments)}function vh(){var e=0,t=.5,r=1,n=1,a,i,o,l,s,u=zt,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:s),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function p(y){return function(g){var b,v,w;return arguments.length?([b,v,w]=g,u=$6(y,[b,v,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(pl),m.rangeRound=p(c0),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,a=y(e),i=y(t),o=y(r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function m2(){var e=Wa(vh()(zt));return e.copy=function(){return Ka(e,m2())},Jn.apply(e,arguments)}function p2(){var e=m0(vh()).domain([.1,1,10]);return e.copy=function(){return Ka(e,p2()).base(e.base())},Jn.apply(e,arguments)}function v2(){var e=p0(vh());return e.copy=function(){return Ka(e,v2()).constant(e.constant())},Jn.apply(e,arguments)}function C0(){var e=v0(vh());return e.copy=function(){return Ka(e,C0()).exponent(e.exponent())},Jn.apply(e,arguments)}function Cq(){return C0.apply(null,arguments).exponent(.5)}const Kl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:l0,scaleDiverging:m2,scaleDivergingLog:p2,scaleDivergingPow:C0,scaleDivergingSqrt:Cq,scaleDivergingSymlog:v2,scaleIdentity:Fk,scaleImplicit:Fv,scaleLinear:Gk,scaleLog:Xk,scaleOrdinal:o0,scalePoint:m6,scalePow:g0,scaleQuantile:Qk,scaleQuantize:e2,scaleRadial:Jk,scaleSequential:c2,scaleSequentialLog:d2,scaleSequentialPow:O0,scaleSequentialQuantile:h2,scaleSequentialSqrt:Oq,scaleSequentialSymlog:f2,scaleSqrt:l9,scaleSymlog:Zk,scaleThreshold:t2,scaleTime:jq,scaleUtc:Eq,tickFormat:Vk},Symbol.toStringTag,{value:"Module"}));var Qn=e=>e.chartData,g2=P([Qn],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),y2=(e,t,r,n)=>n?g2(e):Qn(e),Aq=(e,t,r)=>r?g2(e):Qn(e);function $a(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Be(t)&&Be(r))return!0}return!1}function z_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function b2(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Be(r))a=r;else if(typeof r=="function")return;if(Be(n))i=n;else if(typeof n=="function")return;var o=[a,i];if($a(o))return o}}function Tq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($a(n))return z_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(G(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&nw.test(a)){var s=nw.exec(a);if(s==null||s[1]==null||t==null)o=void 0;else{var u=+s[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(G(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&aw.test(i)){var d=aw.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if($a(h))return t==null?h:z_(h,t,r)}}}var vl=1e9,kq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},T0,Me=!0,Dr="[DecimalError] ",bi=Dr+"Invalid argument: ",A0=Dr+"Exponent out of range: ",gl=Math.floor,ni=Math.pow,Pq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,dt=1e7,Ce=7,x2=9007199254740991,Jd=gl(x2/Ce),W={};W.absoluteValue=W.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};W.comparedTo=W.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};W.decimalPlaces=W.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ce;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};W.dividedBy=W.div=function(e){return Nn(this,new this.constructor(e))};W.dividedToIntegerBy=W.idiv=function(e){var t=this,r=t.constructor;return be(Nn(t,new r(e),0,1),r.precision)};W.equals=W.eq=function(e){return!this.cmp(e)};W.exponent=function(){return Qe(this)};W.greaterThan=W.gt=function(e){return this.cmp(e)>0};W.greaterThanOrEqualTo=W.gte=function(e){return this.cmp(e)>=0};W.isInteger=W.isint=function(){return this.e>this.d.length-2};W.isNegative=W.isneg=function(){return this.s<0};W.isPositive=W.ispos=function(){return this.s>0};W.isZero=function(){return this.s===0};W.lessThan=W.lt=function(e){return this.cmp(e)<0};W.lessThanOrEqualTo=W.lte=function(e){return this.cmp(e)<1};W.logarithm=W.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(lr)?new n(0):(Me=!1,t=Nn(qs(r,i),qs(e,i),i),Me=!0,be(t,a))};W.minus=W.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S2(t,e):w2(t,(e.s=-e.s,e))};W.modulo=W.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Dr+"NaN");return r.s?(Me=!1,t=Nn(r,e,0,1).times(e),Me=!0,r.minus(t)):be(new n(r),a)};W.naturalExponential=W.exp=function(){return _2(this)};W.naturalLogarithm=W.ln=function(){return qs(this)};W.negated=W.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};W.plus=W.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w2(t,e):S2(t,(e.s=-e.s,e))};W.precision=W.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bi+e);if(t=Qe(a)+1,n=a.d.length-1,r=n*Ce+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};W.squareRoot=W.sqrt=function(){var e,t,r,n,a,i,o,l=this,s=l.constructor;if(l.s<1){if(!l.s)return new s(0);throw Error(Dr+"NaN")}for(e=Qe(l),Me=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=an(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=gl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new s(t)):n=new s(a.toString()),r=s.precision,a=o=r+3;;)if(i=n,n=i.plus(Nn(l,i,o+2)).times(.5),an(i.d).slice(0,o)===(t=an(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(be(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Me=!0,be(n,r)};W.times=W.mul=function(e){var t,r,n,a,i,o,l,s,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,s=h.length,u=m.length,s<u&&(i=h,h=m,m=i,o=s,s=u,u=o),i=[],o=s+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=s+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%dt|0,t=l/dt|0;i[a]=(i[a]+t)%dt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Me?be(e,f.precision):e};W.toDecimalPlaces=W.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(cn(e,0,vl),t===void 0?t=n.rounding:cn(t,0,8),be(r,e+Qe(r)+1,t))};W.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ti(n,!0):(cn(e,0,vl),t===void 0?t=a.rounding:cn(t,0,8),n=be(new a(n),e+1,t),r=Ti(n,!0,e+1)),r};W.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ti(a):(cn(e,0,vl),t===void 0?t=i.rounding:cn(t,0,8),n=be(new i(a),e+Qe(a)+1,t),r=Ti(n.abs(),!1,e+Qe(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};W.toInteger=W.toint=function(){var e=this,t=e.constructor;return be(new t(e),Qe(e)+1,t.rounding)};W.toNumber=function(){return+this};W.toPower=W.pow=function(e){var t,r,n,a,i,o,l=this,s=l.constructor,u=12,d=+(e=new s(e));if(!e.s)return new s(lr);if(l=new s(l),!l.s){if(e.s<1)throw Error(Dr+"Infinity");return l}if(l.eq(lr))return l;if(n=s.precision,e.eq(lr))return be(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=x2){for(a=new s(lr),t=Math.ceil(n/Ce+4),Me=!1;r%2&&(a=a.times(l),$_(a.d,t)),r=gl(r/2),r!==0;)l=l.times(l),$_(l.d,t);return Me=!0,e.s<0?new s(lr).div(a):be(a,n)}}else if(i<0)throw Error(Dr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Me=!1,a=e.times(qs(l,n+u)),Me=!0,a=_2(a),a.s=i,a};W.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Qe(a),n=Ti(a,r<=i.toExpNeg||r>=i.toExpPos)):(cn(e,1,vl),t===void 0?t=i.rounding:cn(t,0,8),a=be(new i(a),e,t),r=Qe(a),n=Ti(a,e<=r||r<=i.toExpNeg,e)),n};W.toSignificantDigits=W.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(cn(e,1,vl),t===void 0?t=n.rounding:cn(t,0,8)),be(new n(r),e,t)};W.toString=W.valueOf=W.val=W.toJSON=W[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qe(e),r=e.constructor;return Ti(e,t<=r.toExpNeg||t>=r.toExpPos)};function w2(e,t){var r,n,a,i,o,l,s,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Me?be(t,f):t;if(s=e.d,u=t.d,o=e.e,a=t.e,s=s.slice(),i=o-a,i){for(i<0?(n=s,i=-i,l=u.length):(n=u,a=o,l=s.length),o=Math.ceil(f/Ce),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=s.length,i=u.length,l-i<0&&(i=l,n=u,u=s,s=n),r=0;i;)r=(s[--i]=s[i]+u[i]+r)/dt|0,s[i]%=dt;for(r&&(s.unshift(r),++a),l=s.length;s[--l]==0;)s.pop();return t.d=s,t.e=a,Me?be(t,f):t}function cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bi+e)}function an(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ce-n.length,r&&(i+=ua(r)),i+=n;o=e[t],n=o+"",r=Ce-n.length,r&&(i+=ua(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Nn=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%dt|0,o=i/dt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,s;if(i!=o)s=i>o?1:-1;else for(l=s=0;l<i;l++)if(n[l]!=a[l]){s=n[l]>a[l]?1:-1;break}return s}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*dt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,s,u,d,f,h,m,p,y,g,b,v,w,_,S,j,E,O,A=n.constructor,k=n.s==a.s?1:-1,T=n.d,C=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Dr+"Division by zero");for(s=n.e-a.e,E=C.length,S=T.length,m=new A(k),p=m.d=[],u=0;C[u]==(T[u]||0);)++u;if(C[u]>(T[u]||0)&&--s,i==null?v=i=A.precision:o?v=i+(Qe(n)-Qe(a))+1:v=i,v<0)return new A(0);if(v=v/Ce+2|0,u=0,E==1)for(d=0,C=C[0],v++;(u<S||d)&&v--;u++)w=d*dt+(T[u]||0),p[u]=w/C|0,d=w%C|0;else{for(d=dt/(C[0]+1)|0,d>1&&(C=e(C,d),T=e(T,d),E=C.length,S=T.length),_=E,y=T.slice(0,E),g=y.length;g<E;)y[g++]=0;O=C.slice(),O.unshift(0),j=C[0],C[1]>=dt/2&&++j;do d=0,l=t(C,y,E,g),l<0?(b=y[0],E!=g&&(b=b*dt+(y[1]||0)),d=b/j|0,d>1?(d>=dt&&(d=dt-1),f=e(C,d),h=f.length,g=y.length,l=t(f,y,h,g),l==1&&(d--,r(f,E<h?O:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<g&&f.unshift(0),r(y,f,g),l==-1&&(g=y.length,l=t(C,y,E,g),l<1&&(d++,r(y,E<g?O:C,g))),g=y.length):l===0&&(d++,y=[0]),p[u++]=d,l&&y[0]?y[g++]=T[_]||0:(y=[T[_]],g=1);while((_++<S||y[0]!==void 0)&&v--)}return p[0]||p.shift(),m.e=s,be(m,o?i+Qe(m)+1:i)}}();function _2(e,t){var r,n,a,i,o,l,s=0,u=0,d=e.constructor,f=d.precision;if(Qe(e)>16)throw Error(A0+Qe(e));if(!e.s)return new d(lr);for(Me=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ni(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(lr),d.precision=l;;){if(a=be(a.times(e),l),r=r.times(++s),o=i.plus(Nn(a,r,l)),an(o.d).slice(0,l)===an(i.d).slice(0,l)){for(;u--;)i=be(i.times(i),l);return d.precision=f,t==null?(Me=!0,be(i,f)):i}i=o}}function Qe(e){for(var t=e.e*Ce,r=e.d[0];r>=10;r/=10)t++;return t}function Xm(e,t,r){if(t>e.LN10.sd())throw Me=!0,r&&(e.precision=r),Error(Dr+"LN10 precision limit exceeded");return be(new e(e.LN10),t)}function ua(e){for(var t="";e--;)t+="0";return t}function qs(e,t){var r,n,a,i,o,l,s,u,d,f=1,h=10,m=e,p=m.d,y=m.constructor,g=y.precision;if(m.s<1)throw Error(Dr+(m.s?"NaN":"-Infinity"));if(m.eq(lr))return new y(0);if(t==null?(Me=!1,u=g):u=t,m.eq(10))return t==null&&(Me=!0),Xm(y,u);if(u+=h,y.precision=u,r=an(p),n=r.charAt(0),i=Qe(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=an(m.d),n=r.charAt(0),f++;i=Qe(m),n>1?(m=new y("0."+r),i++):m=new y(n+"."+r.slice(1))}else return s=Xm(y,u+2,g).times(i+""),m=qs(new y(n+"."+r.slice(1)),u-h).plus(s),y.precision=g,t==null?(Me=!0,be(m,g)):m;for(l=o=m=Nn(m.minus(lr),m.plus(lr),u),d=be(m.times(m),u),a=3;;){if(o=be(o.times(d),u),s=l.plus(Nn(o,new y(a),u)),an(s.d).slice(0,u)===an(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Xm(y,u+2,g).times(i+""))),l=Nn(l,new y(f),u),y.precision=g,t==null?(Me=!0,be(l,g)):l;l=s,a+=2}}function B_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=gl(r/Ce),e.d=[],n=(r+1)%Ce,r<0&&(n+=Ce),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ce;n<a;)e.d.push(+t.slice(n,n+=Ce));t=t.slice(n),n=Ce-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Me&&(e.e>Jd||e.e<-Jd))throw Error(A0+r)}else e.s=0,e.e=0,e.d=[0];return e}function be(e,t,r){var n,a,i,o,l,s,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ce,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ce),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ce,a=n-Ce+o}if(r!==void 0&&(i=ni(10,o-a-1),l=u/i%10|0,s=t<0||f[d+1]!==void 0||u%i,s=r<4?(l||s)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||s||r==6&&(n>0?a>0?u/ni(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return s?(i=Qe(e),f.length=1,t=t-i-1,f[0]=ni(10,(Ce-t%Ce)%Ce),e.e=gl(-t/Ce)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ni(10,Ce-n),f[d]=a>0?(u/ni(10,o-a)%ni(10,a)|0)*i:0),s)for(;;)if(d==0){(f[0]+=i)==dt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=dt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Me&&(e.e>Jd||e.e<-Jd))throw Error(A0+Qe(e));return e}function S2(e,t){var r,n,a,i,o,l,s,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Me?be(t,m):t;if(s=e.d,f=t.d,n=t.e,u=e.e,s=s.slice(),o=u-n,o){for(d=o<0,d?(r=s,o=-o,l=f.length):(r=f,n=u,l=s.length),a=Math.max(Math.ceil(m/Ce),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=s.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(s[a]!=f[a]){d=s[a]<f[a];break}o=0}for(d&&(r=s,s=f,f=r,t.s=-t.s),l=s.length,a=f.length-l;a>0;--a)s[l++]=0;for(a=f.length;a>o;){if(s[--a]<f[a]){for(i=a;i&&s[--i]===0;)s[i]=dt-1;--s[i],s[a]+=dt}s[a]-=f[a]}for(;s[--l]===0;)s.pop();for(;s[0]===0;s.shift())--n;return s[0]?(t.d=s,t.e=n,Me?be(t,m):t):new h(0)}function Ti(e,t,r){var n,a=Qe(e),i=an(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ua(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ua(-a-1)+i,r&&(n=r-o)>0&&(i+=ua(n))):a>=o?(i+=ua(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ua(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ua(n))),e.s<0?"-"+i:i}function $_(e,t){if(e.length>t)return e.length=t,!0}function j2(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(bi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return B_(o,i.toString())}else if(typeof i!="string")throw Error(bi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Pq.test(i))B_(o,i);else throw Error(bi+i)}if(a.prototype=W,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=j2,a.config=a.set=Nq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Nq(e){if(!e||typeof e!="object")throw Error(Dr+"Object expected");var t,r,n,a=["precision",1,vl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(gl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(bi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bi+r+": "+n);return this}var T0=j2(kq);lr=new T0(1);const me=T0;var Rq=e=>e,E2={},O2=e=>e===E2,I_=e=>function t(){return arguments.length===0||arguments.length===1&&O2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},C2=(e,t)=>e===1?t:I_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==E2).length;return i>=e?t(...n):C2(e-i,I_(function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];var u=n.map(d=>O2(d)?l.shift():d);return t(...u,...l)}))}),Mq=e=>C2(e.length,e),Jv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Dq=Mq((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),zq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Rq;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,s)=>s(l),i(...arguments))}};function A2(e){var t;return e===0?t=1:t=Math.floor(new me(e).abs().log(10).toNumber())+1,t}function T2(e,t,r){for(var n=new me(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var k2=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},P2=(e,t,r)=>{if(e.lte(0))return new me(0);var n=A2(e.toNumber()),a=new me(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new me(Math.ceil(i.div(o).toNumber())).add(r).mul(o),s=l.mul(a);return t?new me(s.toNumber()):new me(Math.ceil(s.toNumber()))},Bq=(e,t,r)=>{var n=new me(1),a=new me(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new me(10).pow(A2(e)-1),a=new me(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new me(Math.floor(e)))}else e===0?a=new me(Math.floor((t-1)/2)):r||(a=new me(Math.floor(e)));var o=Math.floor((t-1)/2),l=zq(Dq(s=>a.add(new me(s-o).mul(n)).toNumber()),Jv);return l(0,t)},N2=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new me(0),tickMin:new me(0),tickMax:new me(0)};var o=P2(new me(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new me(0):(l=new me(t).add(r).div(2),l=l.sub(new me(l).mod(o)));var s=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new me(r).sub(l).div(o).toNumber()),d=s+u+1;return d>n?N2(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,s=r>0?s:s+(n-d)),{step:o,tickMin:l.sub(new me(s).mul(o)),tickMax:l.add(new me(u).mul(o))})},$q=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,s]=k2([r,n]);if(l===-1/0||s===1/0){var u=s===1/0?[l,...Jv(0,a-1).map(()=>1/0)]:[...Jv(0,a-1).map(()=>-1/0),s];return r>n?u.reverse():u}if(l===s)return Bq(l,a,i);var{step:d,tickMin:f,tickMax:h}=N2(l,s,o,i,0),m=T2(f,h.add(new me(.1).mul(d)),d);return r>n?m.reverse():m},Iq=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=k2([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var s=Math.max(r,2),u=P2(new me(l).sub(o).div(s-1),i,0),d=[...T2(new me(o),new me(l),u),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},R2=e=>e.rootProps.maxBarSize,Lq=e=>e.rootProps.barGap,M2=e=>e.rootProps.barCategoryGap,Uq=e=>e.rootProps.barSize,gh=e=>e.rootProps.stackOffset,D2=e=>e.rootProps.reverseStackOrder,k0=e=>e.options.chartName,P0=e=>e.rootProps.syncId,z2=e=>e.rootProps.syncMethod,N0=e=>e.options.eventEmitter,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_n={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},yh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},qq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_n.angleAxisId,includeHidden:!1,name:void 0,reversed:_n.reversed,scale:_n.scale,tick:_n.tick,tickCount:void 0,ticks:void 0,type:_n.type,unit:void 0},Hq={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:rr.type,unit:void 0},Wq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_n.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_n.scale,tick:_n.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Kq={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:"category",unit:void 0},R0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Wq:qq,M0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Kq:Hq,bh=e=>e.polarOptions,D0=P([Xn,Zn,vt],H8),B2=P([bh,D0],(e,t)=>{if(e!=null)return Yr(e.innerRadius,t,0)}),$2=P([bh,D0],(e,t)=>{if(e!=null)return Yr(e.outerRadius,t,t*.8)}),Vq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},I2=P([bh],Vq);P([R0,I2],yh);var L2=P([D0,B2,$2],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});P([M0,L2],yh);var U2=P([ve,bh,B2,$2,Xn,Zn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:s,endAngle:u}=t;return{cx:Yr(o,a,a/2),cy:Yr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:s,endAngle:u,clockWise:!1}}}),ot=(e,t)=>t,xh=(e,t,r)=>r;function z0(e){return e==null?void 0:e.id}function q2(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var s,u=(s=l.data)!==null&&s!==void 0?s:n;if(!(u==null||u.length===0)){var d=z0(l);u.forEach((f,h)=>{var m=i==null||a?h:String(At(f,i,null)),p=At(f,l.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[d]:p}),o.set(m,y)})}}),Array.from(o.values())}function wh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var _h=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Sh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Gq(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var lt=e=>{var t=ve(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},yl=e=>e.tooltip.settings.axisId;function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){Fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fq(e,t,r){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=Xq(e,"string");return typeof t=="symbol"?t:t+""}function Xq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qv=[0,"auto"],ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},H2=(e,t)=>e.cartesianAxis.xAxis[t],ea=(e,t)=>{var r=H2(e,t);return r??ut},ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Qv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:du},W2=(e,t)=>e.cartesianAxis.yAxis[t],ta=(e,t)=>{var r=W2(e,t);return r??ct},Zq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},B0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Zq},Lt=(e,t,r)=>{switch(t){case"xAxis":return ea(e,r);case"yAxis":return ta(e,r);case"zAxis":return B0(e,r);case"angleAxis":return R0(e,r);case"radiusAxis":return M0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Jq=(e,t,r)=>{switch(t){case"xAxis":return ea(e,r);case"yAxis":return ta(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yu=(e,t,r)=>{switch(t){case"xAxis":return ea(e,r);case"yAxis":return ta(e,r);case"angleAxis":return R0(e,r);case"radiusAxis":return M0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},K2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function V2(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var $0=e=>e.graphicalItems.cartesianItems,Qq=P([ot,xh],V2),G2=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),bu=P([$0,Lt,Qq],G2,{memoizeOptions:{resultEqualityCheck:Sh}}),F2=P([bu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(wh)),Y2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),e7=P([bu],Y2),X2=e=>e.map(t=>t.data).filter(Boolean).flat(1),t7=P([bu],X2,{memoizeOptions:{resultEqualityCheck:Sh}}),Z2=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},I0=P([t7,y2],Z2),J2=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:At(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:At(a,n)}))):e.map(n=>({value:n})),jh=P([I0,Lt,bu],J2);function Q2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Mc(e){if(sn(e)||e instanceof Date){var t=Number(e);if(Be(t))return t}}function U_(e){if(Array.isArray(e)){var t=[Mc(e[0]),Mc(e[1])];return $a(t)?t:void 0}var r=Mc(e);if(r!=null)return[r,r]}function Vn(e){return e.map(Mc).filter(C$)}function r7(e,t,r){return!r||typeof t!="number"||Fr(t)?[]:r.length?Vn(r.flatMap(n=>{var a=At(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Be(i)||!Be(o)))return[t-i,t+o]})):[]}var st=e=>{var t=lt(e),r=yl(e);return yu(e,t,r)},xu=P([st],e=>e==null?void 0:e.dataKey),n7=P([F2,y2,st],q2),eP=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>{if(l.stackId==null)return o;var s=o[l.stackId];return s==null&&(s=[]),s.push(l),o[l.stackId]=s,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,s]=o,u=n?[...s].reverse():s,d=u.map(z0);return[l,{stackedData:BL(e,d,r),graphicalItems:u}]}))},eg=P([n7,F2,gh,D2],eP),tP=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=qL(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},a7=P([Lt],e=>e.allowDataOverflow),L0=e=>{var t;if(e==null||!("domain"in e))return Qv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Vn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Qv},rP=P([Lt],L0),nP=P([rP,a7],b2),i7=P([eg,Qn,ot,nP],tP,{memoizeOptions:{resultEqualityCheck:_h}}),U0=e=>e.errorBars,o7=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Q2(r,n)),ef=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},aP=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(s=>{var u,d,f=(u=n[s.id])===null||u===void 0?void 0:u.filter(b=>Q2(a,b)),h=At(l,(d=t.dataKey)!==null&&d!==void 0?d:s.dataKey),m=r7(l,h,f);if(m.length>=2){var p=Math.min(...m),y=Math.max(...m);(i==null||p<i)&&(i=p),(o==null||y>o)&&(o=y)}var g=U_(h);g!=null&&(i=i==null?g[0]:Math.min(i,g[0]),o=o==null?g[1]:Math.max(o,g[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var s=U_(At(l,t.dataKey));s!=null&&(i=i==null?s[0]:Math.min(i,s[0]),o=o==null?s[1]:Math.max(o,s[1]))}),Be(i)&&Be(o))return[i,o]},l7=P([I0,Lt,e7,U0,ot],aP,{memoizeOptions:{resultEqualityCheck:_h}});function s7(e){var{value:t}=e;if(sn(t)||t instanceof Date)return t}var u7=(e,t,r)=>{var n=e.map(s7).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&FA(n))?Bk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},iP=e=>e.referenceElements.dots,bl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),c7=P([iP,ot,xh],bl),oP=e=>e.referenceElements.areas,d7=P([oP,ot,xh],bl),lP=e=>e.referenceElements.lines,f7=P([lP,ot,xh],bl),sP=(e,t)=>{if(e!=null){var r=Vn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},h7=P(c7,ot,sP),uP=(e,t)=>{if(e!=null){var r=Vn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},m7=P([d7,ot],uP);function p7(e){var t;if(e.x!=null)return Vn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Vn(r)}function v7(e){var t;if(e.y!=null)return Vn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Vn(r)}var cP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?p7(n):v7(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},g7=P([f7,ot],cP),y7=P(h7,g7,m7,(e,t,r)=>ef(e,r,t)),dP=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var s=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=s?ef(n,i,a):ef(i,a);return Tq(t,u,e.allowDataOverflow)},b7=P([Lt,rP,nP,i7,l7,y7,ve,ot],dP,{memoizeOptions:{resultEqualityCheck:_h}}),x7=[0,1],fP=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:s}=e,u=Ii(t,i);if(u&&l==null){var d;return Bk(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return s==="category"?u7(n,e,u):a==="expand"?x7:o}},q0=P([Lt,ve,I0,jh,gh,ot,b7],fP),hP=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(lu(i));return l in Kl?l:"point"}}},wu=P([Lt,ve,K2,k0,ot],hP);function w7(e){if(e!=null){if(e in Kl)return Kl[e]();var t="scale".concat(lu(e));if(t in Kl)return Kl[t]()}}function H0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=w7(t);if(a!=null){var i=a.domain(r).range(n);return NL(i),i}}}var mP=(e,t,r)=>{var n=L0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$a(e))return $q(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$a(e))return Iq(e,t.tickCount,t.allowDecimals)}},W0=P([q0,yu,wu],mP),pP=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$a(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},_7=P([Lt,q0,W0,ot],pP),S7=P(jh,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Vn(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var s=n[l],u=n[l+1];if(!(s==null||u==null)){var d=u-s;r=Math.min(r,d)}}return r/o}}),vP=P(S7,ve,M2,vt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Be(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Yr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),j7=(e,t,r)=>{var n=ea(e,t);return n==null||typeof n.padding!="string"?0:vP(e,"xAxis",t,r,n.padding)},E7=(e,t,r)=>{var n=ta(e,t);return n==null||typeof n.padding!="string"?0:vP(e,"yAxis",t,r,n.padding)},O7=P(ea,j7,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),C7=P(ta,E7,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),A7=P([vt,O7,ah,nh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),T7=P([vt,ve,C7,ah,nh,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),_u=(e,t,r,n)=>{var a;switch(t){case"xAxis":return A7(e,r,n);case"yAxis":return T7(e,r,n);case"zAxis":return(a=B0(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return I2(e);case"radiusAxis":return L2(e,r);default:return}},gP=P([Lt,_u],yh),Eh=P([Lt,wu,_7,gP],H0);P([bu,U0,ot],o7);function yP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Oh=(e,t)=>t,Ch=(e,t,r)=>r,k7=P(th,Oh,Ch,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(yP)),P7=P(rh,Oh,Ch,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(yP)),bP=(e,t)=>({width:e.width,height:t.height}),N7=(e,t)=>{var r=typeof t.width=="number"?t.width:du;return{width:r,height:e.height}},xP=P(vt,ea,bP),R7=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},M7=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},D7=P(Zn,vt,k7,Oh,Ch,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=bP(t,l);o==null&&(o=R7(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*s.height,o+=(u?-1:1)*s.height}),i}),z7=P(Xn,vt,P7,Oh,Ch,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=N7(t,l);o==null&&(o=M7(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*s.width,o+=(u?-1:1)*s.width}),i}),B7=(e,t)=>{var r=ea(e,t);if(r!=null)return D7(e,r.orientation,r.mirror)},$7=P([vt,ea,B7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),I7=(e,t)=>{var r=ta(e,t);if(r!=null)return z7(e,r.orientation,r.mirror)},L7=P([vt,ta,I7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),wP=P(vt,ta,(e,t)=>{var r=typeof t.width=="number"?t.width:du;return{width:r,height:e.height}}),q_=(e,t,r)=>{switch(t){case"xAxis":return xP(e,r).width;case"yAxis":return wP(e,r).height;default:return}},_P=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Ii(e,n),s=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&FA(s))return s}},K0=P([ve,jh,Lt,ot],_P),SP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Ii(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},V0=P([ve,jh,yu,ot],SP),H_=P([ve,Jq,wu,Eh,K0,V0,_u,W0,ot],(e,t,r,n,a,i,o,l,s)=>{if(t!=null){var u=Ii(e,s);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:s,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),U7=(e,t,r,n,a,i,o,l,s)=>{if(!(t==null||n==null)){var u=Ii(e,s),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=s==="angleAxis"&&i!=null&&i.length>=2?Vt(i[0]-i[1])*2*p:p;var y=f||a;if(y){var g=y.map((b,v)=>{var w=o?o.indexOf(b):b;return{index:v,coordinate:n(w)+p,value:b,offset:p}});return g.filter(b=>Be(b.coordinate))}return u&&l?l.map((b,v)=>({coordinate:n(b)+p,value:b,index:v,offset:p})).filter(b=>Be(b.coordinate)):n.ticks?n.ticks(h).map(b=>({coordinate:n(b)+p,value:b,offset:p})):n.domain().map((b,v)=>({coordinate:n(b)+p,value:o?o[b]:b,index:v,offset:p}))}},jP=P([ve,yu,wu,Eh,W0,_u,K0,V0,ot],U7),q7=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ii(e,o),{tickCount:s}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Vt(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(s).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Jo=P([ve,yu,Eh,_u,K0,V0,ot],q7),Qo=P(Lt,Eh,(e,t)=>{if(!(e==null||t==null))return Qd(Qd({},e),{},{scale:t})}),H7=P([Lt,wu,q0,gP],H0);P((e,t,r)=>B0(e,r),H7,(e,t)=>{if(!(e==null||t==null))return Qd(Qd({},e),{},{scale:t})});var W7=P([ve,th,rh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),EP=e=>e.options.defaultTooltipEventType,OP=e=>e.options.validateTooltipEventTypes;function CP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function G0(e,t){var r=EP(e),n=OP(e);return CP(t,r,n)}function K7(e){return Y(t=>G0(t,e))}var AP=(e,t)=>{var r,n=Number(t);if(!(Fr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},V7=e=>e.tooltip.settings,va={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},G7={itemInteraction:{click:va,hover:va},axisInteraction:{click:va,hover:va},keyboardInteraction:va,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},TP=Zt({name:"tooltip",initialState:G7,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Re()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Re()},removeTooltipEntrySettings:{reducer(e,t){var r=Gr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Re()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:F7,replaceTooltipEntrySettings:Y7,removeTooltipEntrySettings:X7,setTooltipSettingsState:Z7,setActiveMouseOverItemIndex:kP,mouseLeaveItem:J7,mouseLeaveChart:PP,setActiveClickItemIndex:Q7,setMouseOverAxisIndex:NP,setMouseClickAxisIndex:eH,setSyncInteraction:tg,setKeyboardInteraction:rg}=TP.actions,tH=TP.reducer;function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){rH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rH(e,t,r){return(t=nH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nH(e){var t=aH(e,"string");return typeof t=="symbol"?t:t+""}function aH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function oH(e){return e.index!=null}var RP=(e,t,r,n)=>{if(t==null)return va;var a=iH(e,t,r);if(a==null)return va;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(oH(a)){if(i)return fc(fc({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return fc(fc({},va),{},{coordinate:a.coordinate})};function lH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function sH(e,t){var r=lH(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function uH(e,t,r){if(r==null||t==null)return!0;var n=At(e,t);return n==null||!$a(r)?!0:sH(n,r)}var F0=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Be(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var s=Math.max(o,Math.min(i,l)),u=t[s];return u==null||uH(u,r,n)?String(s):null},MP=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var s=o[0],u=s==null?void 0:l(s.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},DP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},Su=e=>e.options.tooltipPayloadSearcher,xl=e=>e.tooltip;function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){cH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hH(e,t){return e??t}var zP=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:s,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:y,settings:g}=m,b=hH(y,l),v=Array.isArray(b)?rk(b,u,d):b,w=(p=g==null?void 0:g.dataKey)!==null&&p!==void 0?p:n,_=g==null?void 0:g.nameKey,S;if(n&&Array.isArray(v)&&!Array.isArray(v[0])&&o==="axis"?S=O$(v,n,a):S=i(v,t,s,_),Array.isArray(S))S.forEach(E=>{var O=V_(V_({},g),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(iw({tooltipEntrySettings:O,dataKey:E.dataKey,payload:E.payload,value:At(E.payload,E.dataKey),name:E.name}))});else{var j;h.push(iw({tooltipEntrySettings:g,dataKey:w,payload:S,value:At(S,w),name:(j=At(S,_))!==null&&j!==void 0?j:g==null?void 0:g.name}))}return h},f)}},Y0=P([st,ve,K2,k0,lt],hP),mH=P([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pH=P([lt,yl],V2),wl=P([mH,st,pH],G2,{memoizeOptions:{resultEqualityCheck:Sh}}),vH=P([wl],e=>e.filter(wh)),gH=P([wl],X2,{memoizeOptions:{resultEqualityCheck:Sh}}),_l=P([gH,Qn],Z2),yH=P([vH,Qn,st],q2),X0=P([_l,st,wl],J2),BP=P([st],L0),bH=P([st],e=>e.allowDataOverflow),$P=P([BP,bH],b2),xH=P([wl],e=>e.filter(wh)),wH=P([yH,xH,gh,D2],eP),_H=P([wH,Qn,lt,$P],tP),SH=P([wl],Y2),jH=P([_l,st,SH,U0,lt],aP,{memoizeOptions:{resultEqualityCheck:_h}}),EH=P([iP,lt,yl],bl),OH=P([EH,lt],sP),CH=P([oP,lt,yl],bl),AH=P([CH,lt],uP),TH=P([lP,lt,yl],bl),kH=P([TH,lt],cP),PH=P([OH,kH,AH],ef),NH=P([st,BP,$P,_H,jH,PH,ve,lt],dP),ju=P([st,ve,_l,X0,gh,lt,NH],fP),RH=P([ju,st,Y0],mP),MH=P([st,ju,RH,lt],pP),IP=e=>{var t=lt(e),r=yl(e),n=!1;return _u(e,t,r,n)},LP=P([st,IP],yh),UP=P([st,Y0,MH,LP],H0),DH=P([ve,X0,st,lt],_P),zH=P([ve,X0,st,lt],SP),BH=(e,t,r,n,a,i,o,l)=>{if(t){var{type:s}=t,u=Ii(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=s==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Vt(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},ra=P([ve,st,Y0,UP,IP,DH,zH,lt],BH),Z0=P([EP,OP,V7],(e,t,r)=>CP(r.shared,e,t)),qP=e=>e.tooltip.settings.trigger,J0=e=>e.tooltip.settings.defaultIndex,Eu=P([xl,Z0,qP,J0],RP),el=P([Eu,_l,xu,ju],F0),HP=P([ra,el],AP),WP=P([Eu],e=>{if(e)return e.dataKey});P([Eu],e=>{if(e)return e.graphicalItemId});var KP=P([xl,Z0,qP,J0],DP),$H=P([Xn,Zn,ve,vt,ra,J0,KP,Su],MP),IH=P([Eu,$H],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),LH=P([Eu],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),UH=P([KP,el,Qn,xu,HP,Su,Z0],zP);P([UH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){qH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qH(e,t,r){return(t=HH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KH=()=>Y(st),VH=()=>{var e=KH(),t=Y(ra),r=Y(UP);return Nd(!e||!r?void 0:F_(F_({},e),{},{scale:r}),t)};function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){GH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GH(e,t,r){return(t=FH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XH=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},ZH=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Ji(Ji(Ji({},n),Ot(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:s}=n;return Ji(Ji(Ji({},n),Ot(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function JH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var VP=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var s,u,d,f,h,m=l>0?(s=r[l-1])===null||s===void 0?void 0:s.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,p=(d=r[l])===null||d===void 0?void 0:d.coordinate,y=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,g=void 0;if(!(m==null||p==null||y==null))if(Vt(p-m)!==Vt(y-p)){var b=[];if(Vt(y-p)===Vt(a[1]-a[0])){g=y;var v=p+a[1]-a[0];b[0]=Math.min(v,(v+m)/2),b[1]=Math.max(v,(v+m)/2)}else{g=m;var w=y+a[1]-a[0];b[0]=Math.min(p,(w+p)/2),b[1]=Math.max(p,(w+p)/2)}var _=[Math.min(p,(g+p)/2),Math.max(p,(g+p)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){var S;return(S=r[l])===null||S===void 0?void 0:S.index}}else{var j=Math.min(m,y),E=Math.max(m,y);if(e>(j+p)/2&&e<=(E+p)/2){var O;return(O=r[l])===null||O===void 0?void 0:O.index}}}else if(t)for(var A=0;A<o;A++){var k=t[A];if(k!=null){var T=t[A+1],C=t[A-1];if(A===0&&T!=null&&e<=(k.coordinate+T.coordinate)/2||A===o-1&&C!=null&&e>(k.coordinate+C.coordinate)/2||A>0&&A<o-1&&C!=null&&T!=null&&e>(k.coordinate+C.coordinate)/2&&e<=(k.coordinate+T.coordinate)/2)return k.index}}return-1},QH=()=>Y(k0),Q0=(e,t)=>t,GP=(e,t,r)=>r,eb=(e,t,r,n)=>n,eW=P(ra,e=>Kf(e,t=>t.coordinate)),tb=P([xl,Q0,GP,eb],RP),rb=P([tb,_l,xu,ju],F0),tW=(e,t,r)=>{if(t!=null){var n=xl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},FP=P([xl,Q0,GP,eb],DP),tf=P([Xn,Zn,ve,vt,ra,eb,FP,Su],MP),rW=P([tb,tf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),YP=P([ra,rb],AP),nW=P([FP,rb,Qn,xu,YP,Su,Q0],zP),aW=P([tb,rb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),iW=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&JH(e,o)){var l=HL(e,t),s=VP(l,i,a,r,n),u=XH(t,a,s,e);return{activeIndex:String(s),activeCoordinate:u}}},oW=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=F8(e,r);if(l){var s=WL(l,t),u=VP(s,o,i,n,a),d=ZH(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},lW=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?iW(e,t,n,a,i,o,l):oW(e,t,r,n,a,i,o)},sW=P(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),uW=P(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Bt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Gq}});function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){cW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cW(e,t,r){return(t=dW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hW={},mW={zIndexMap:Object.values(Bt).reduce((e,t)=>Z_(Z_({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),hW)},pW=new Set(Object.values(Bt));function vW(e){return pW.has(e)}var XP=Zt({name:"zIndex",initialState:mW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Re()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!vW(r)&&delete e.zIndexMap[r])},prepare:Re()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Re()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Re()}}}),{registerZIndexPortal:gW,unregisterZIndexPortal:yW,registerZIndexPortalElement:bW,unregisterZIndexPortalElement:xW}=XP.actions,wW=XP.reducer;function na(e){var{zIndex:t,children:r}=e,n=bU(),a=n&&t!==void 0&&t!==0,i=Jt(),o=We();x.useLayoutEffect(()=>a?(o(gW({zIndex:t})),()=>{o(yW({zIndex:t}))}):su,[o,t,a]);var l=Y(s=>sW(s,t,i));return a?l?yg.createPortal(r,l):null:r}function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ng.apply(null,arguments)}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){_W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _W(e,t,r){return(t=SW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EW(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function OW(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:s,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!s||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,y,g;if(d==="ScatterChart")p=f,y=l8,g=Bt.cursorLine;else if(d==="BarChart")p=s8(l,f,i,o),y=kk,g=Bt.cursorRectangle;else if(l==="radial"&&ZA(f)){var{cx:b,cy:v,radius:w,startAngle:_,endAngle:S}=Pk(f);p={cx:b,cy:v,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},y=Rk,g=Bt.cursorLine}else p={points:J8(l,f,i)},y=Ek,g=Bt.cursorLine;var j=typeof s=="object"&&"className"in s?s.className:void 0,E=hc(hc(hc(hc({stroke:"#ccc",pointerEvents:"none"},i),p),ky(s)),{},{payload:h,payloadIndex:m,className:Pe("recharts-tooltip-cursor",j)});return x.createElement(na,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:g},x.createElement(EW,{cursor:s,cursorComp:y,cursorProps:E}))}function CW(e){var t=VH(),r=mk(),n=fu(),a=QH();return t==null||r==null||n==null||a==null?null:x.createElement(OW,ng({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var ZP=x.createContext(null),AW=()=>x.useContext(ZP),JP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(s,u,d){this.fn=s,this.context=u,this.once=d||!1}function i(s,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||s,h),p=r?r+u:u;return s._events[p]?s._events[p].fn?s._events[p]=[s._events[p],m]:s._events[p].push(m):(s._events[p]=m,s._eventsCount++),s}function o(s,u){--s._eventsCount===0?s._events=new n:delete s._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var y=r?r+u:u;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,v,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,m),!0;case 6:return g.fn.call(g.context,d,f,h,m,p),!0}for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];g.fn.apply(g.context,v)}else{var _=g.length,S;for(w=0;w<_;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),b){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,h);break;default:if(!v)for(S=1,v=new Array(b-1);S<b;S++)v[S-1]=arguments[S];g[w].fn.apply(g[w].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var y=0,g=[],b=p.length;y<b;y++)(p[y].fn!==d||h&&!p[y].once||f&&p[y].context!==f)&&g.push(p[y]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(JP);var TW=JP.exports;const kW=Fn(TW);var Hs=new kW,ag="recharts.syncEvent.tooltip",Q_="recharts.syncEvent.brush";function PW(e,t){if(t){var r=Number.parseInt(t,10);if(!Fr(r))return e==null?void 0:e[r]}}var NW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},QP=Zt({name:"options",initialState:NW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),RW=QP.reducer,{createEventEmitter:MW}=QP.actions;function DW(e){return e.tooltip.syncInteraction}var zW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},eN=Zt({name:"chartData",initialState:zW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:eS,setDataStartEndIndexes:BW,setComputedData:oZ}=eN.actions,$W=eN.reducer,IW=["x","y"];function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){LW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t,r){return(t=UW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HW(e,t){if(e==null)return{};var r,n,a=WW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KW(){var e=Y(P0),t=Y(N0),r=We(),n=Y(z2),a=Y(ra),i=fu(),o=ih(),l=Y(s=>s.rootProps.className);x.useEffect(()=>{if(e==null)return su;var s=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y}=m,g=HW(m,IW),{x:b,y:v,width:w,height:_}=d.payload.sourceViewBox,S=Qi(Qi({},g),{},{x:o.x+(w?(p-b)/w:0)*o.width,y:o.y+(_?(y-v)/_:0)*o.height});r(Qi(Qi({},d),{},{payload:Qi(Qi({},d.payload),{},{coordinate:S})}))}else r(d);return}if(a!=null){var j;if(typeof n=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=n(a,E);j=a[O]}else n==="value"&&(j=a.find(N=>String(N.value)===d.payload.label));var{coordinate:A}=d.payload;if(j==null||d.payload.active===!1||A==null||o==null){r(tg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:T}=A,C=Math.min(k,o.x+o.width),R=Math.min(T,o.y+o.height),B={x:i==="horizontal"?j.coordinate:C,y:i==="horizontal"?R:j.coordinate},K=tg({active:d.payload.active,coordinate:B,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(K)}}};return Hs.on(ag,s),()=>{Hs.off(ag,s)}},[l,r,t,e,n,a,i,o])}function VW(){var e=Y(P0),t=Y(N0),r=We();x.useEffect(()=>{if(e==null)return su;var n=(a,i,o)=>{t!==o&&e===a&&r(BW(i))};return Hs.on(Q_,n),()=>{Hs.off(Q_,n)}},[r,t,e])}function GW(){var e=We();x.useEffect(()=>{e(MW())},[e]),KW(),VW()}function FW(e,t,r,n,a,i){var o=Y(m=>tW(m,e,t)),l=Y(N0),s=Y(P0),u=Y(z2),d=Y(DW),f=d==null?void 0:d.active,h=ih();x.useEffect(()=>{if(!f&&s!=null&&l!=null){var m=tg({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Hs.emit(ag,s,m,l)}},[f,r,o,a,n,l,s,u,i,h])}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){YW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YW(e,t,r){return(t=XW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JW(e){return e.dataKey}function QW(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(LU,t)}var aS=[],eK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function tK(e){var t,r,n=yr(e,eK),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:s,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:y,wrapperStyle:g,cursor:b,shared:v,trigger:w,defaultIndex:_,portal:S,axisId:j}=n,E=We(),O=typeof _=="number"?String(_):_;x.useEffect(()=>{E(Z7({shared:v,trigger:w,axisId:j,active:a,defaultIndex:O}))},[E,v,w,j,a,O]);var A=ih(),k=jk(),T=K7(v),{activeIndex:C,isActive:R}=(t=Y(ae=>aW(ae,T,w,O)))!==null&&t!==void 0?t:{},B=Y(ae=>nW(ae,T,w,O)),K=Y(ae=>YP(ae,T,w,O)),N=Y(ae=>rW(ae,T,w,O)),L=B,U=AW(),H=(r=a??R)!==null&&r!==void 0?r:!1,[X,et]=CI([L,H]),Ke=T==="axis"?K:void 0;FW(T,w,N,Ke,C,H);var M=S??U;if(M==null||A==null||T==null)return null;var q=L??aS;H||(q=aS),u&&q.length&&(q=K$(q.filter(ae=>ae.value!=null&&(ae.hide!==!0||n.includeHidden)),h,JW));var te=q.length>0,se=x.createElement(GU,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:H,coordinate:N,hasPayload:te,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:A,wrapperStyle:g,lastBoundingBox:X,innerRef:et,hasPortalFromProps:!!S},QW(s,nS(nS({},n),{},{payload:q,label:Ke,active:H,activeIndex:C,coordinate:N,accessibilityLayer:k})));return x.createElement(x.Fragment,null,yg.createPortal(se,M),H&&x.createElement(CW,{cursor:b,tooltipEventType:T,coordinate:N,payload:q,index:C}))}var nb=e=>null;nb.displayName="Cell";function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=aK(e,"string");return typeof t=="symbol"?t:t+""}function aK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iK{constructor(t){rK(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){lK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=uK(e,"string");return typeof t=="symbol"?t:t+""}function uK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cK={cacheSize:2e3,enableCache:!0},tN=oK({},cK),oS=new iK(tN.cacheSize),dK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lS="recharts_measurement_span";function fK(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var sS=(e,t)=>{try{var r=document.getElementById(lS);r||(r=document.createElement("span"),r.setAttribute("id",lS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,dK,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},us=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ch.isSsr)return{width:0,height:0};if(!tN.enableCache)return sS(t,r);var n=fK(t,r),a=oS.get(n);if(a)return a;var i=sS(t,r);return oS.set(n,i),i},rN;function hK(e,t,r){return(t=mK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bK=["cm","mm","pt","pc","in","Q","px"];function xK(e){return bK.includes(e)}var xo="NaN";function wK(e,t){return e*yK[t]}class wt{static parse(t){var r,[,n,a]=(r=gK.exec(t))!==null&&r!==void 0?r:[];return n==null?wt.NaN:new wt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Fr(t)&&(this.unit=""),r!==""&&!vK.test(r)&&(this.num=NaN,this.unit=""),xK(r)&&(this.num=wK(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fr(this.num)}}rN=wt;hK(wt,"NaN",new rN(NaN,""));function nN(e){if(e==null||e.includes(xo))return xo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=uS.exec(t))!==null&&r!==void 0?r:[],o=wt.parse(n??""),l=wt.parse(i??""),s=a==="*"?o.multiply(l):o.divide(l);if(s.isNaN())return xo;t=t.replace(uS,s.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=cS.exec(t))!==null&&u!==void 0?u:[],m=wt.parse(d??""),p=wt.parse(h??""),y=f==="+"?m.add(p):m.subtract(p);if(y.isNaN())return xo;t=t.replace(cS,y.toString())}return t}var dS=/\(([^()]*)\)/;function _K(e){for(var t=e,r;(r=dS.exec(t))!=null;){var[,n]=r;t=t.replace(dS,nN(n))}return t}function SK(e){var t=e.replace(/\s+/g,"");return t=_K(t),t=nN(t),t}function jK(e){try{return SK(e)}catch{return xo}}function Zm(e){var t=jK(e.slice(5,-1));return t===xo?"":t}var EK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],OK=["dx","dy","angle","className","breakAll"];function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(null,arguments)}function fS(e,t){if(e==null)return{};var r,n,a=CK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aN=/[ \f\n\r\t\v\u2028\u2029]+/,iN=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];pt(t)||(r?a=t.toString().split(""):a=t.toString().split(aN));var i=a.map(l=>({word:l,width:us(l,n).width})),o=r?0:us("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function AK(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var oN=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,s=a[a.length-1];if(s&&l!=null&&(t==null||n||s.width+l+r<Number(t)))s.words.push(o),s.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),lN=e=>e.reduce((t,r)=>t.width>r.width?t:r),TK="",hS=(e,t,r,n,a,i,o,l)=>{var s=e.slice(0,t),u=iN({breakAll:r,style:n,children:s+TK});if(!u)return[!1,[]];var d=oN(u.wordsWithComputedWidth,i,o,l),f=d.length>a||lN(d).width>Number(i);return[f,d]},kK=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:s}=e,u=G(i),d=String(o),f=oN(t,n,r,a);if(!u||a)return f;var h=f.length>i||lN(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,y=0,g;m<=p&&y<=d.length-1;){var b=Math.floor((m+p)/2),v=b-1,[w,_]=hS(d,v,s,l,i,n,r,a),[S]=hS(d,b,s,l,i,n,r,a);if(!w&&!S&&(m=b+1),w&&S&&(p=b-1),!w&&S){g=_;break}y++}return g||f},mS=e=>{var t=pt(e)?[]:e.toString().split(aN);return[{words:t,width:void 0}]},PK=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!ch.isSsr){var l,s,u=iN({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,s=f}else return mS(n);return kK({breakAll:i,children:n,maxLines:o,style:a},l,s,t,!!r)}return mS(n)},sN="#808080",NK={angle:0,breakAll:!1,capHeight:"0.71em",fill:sN,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ab=x.forwardRef((e,t)=>{var r=yr(e,NK),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:s,textAnchor:u,verticalAnchor:d}=r,f=fS(r,EK),h=x.useMemo(()=>PK({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:m,dy:p,angle:y,className:g,breakAll:b}=f,v=fS(f,OK);if(!sn(n)||!sn(a)||h.length===0)return null;var w=Number(n)+(G(m)?m:0),_=Number(a)+(G(p)?p:0);if(!Be(w)||!Be(_))return null;var S;switch(d){case"start":S=Zm("calc(".concat(o,")"));break;case"middle":S=Zm("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:S=Zm("calc(".concat(h.length-1," * -").concat(i,")"));break}var j=[];if(s){var E=h[0].width,{width:O}=f;j.push("scale(".concat(G(O)&&G(E)?O/E:1,")"))}return y&&j.push("rotate(".concat(y,", ").concat(w,", ").concat(_,")")),j.length&&(v.transform=j.join(" ")),x.createElement("text",ig({},Rr(v),{ref:t,x:w,y:_,className:Pe("recharts-text",g),textAnchor:u,fill:l.includes("url")?sN:l}),h.map((A,k)=>{var T=A.words.join(b?"":" ");return x.createElement("tspan",{x:w,dy:k===0?S:i,key:"".concat(T,"-").concat(k)},T)}))});ab.displayName="Text";var RK=["labelRef"],MK=["content"];function pS(e,t){if(e==null)return{};var r,n,a=DK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){zK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t,r){return(t=BK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sn.apply(null,arguments)}var uN=x.createContext(null),IK=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,s=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return x.createElement(uN.Provider,{value:s},l)},cN=()=>{var e=x.useContext(uN),t=ih();return e||hk(t)},LK=x.createContext(null),UK=()=>{var e=x.useContext(LK),t=Y(U2);return e||t},qK=e=>{var{value:t,formatter:r}=e,n=pt(e.children)?t:e.children;return typeof r=="function"?r(n):n},ib=e=>e!=null&&typeof e=="function",HK=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},WK=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:s,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,y=HK(f,h),g=y>=0?1:-1,b,v;switch(t){case"insideStart":b=f+g*i,v=m;break;case"insideEnd":b=h-g*i,v=!m;break;case"end":b=h+g*i,v=m;break;default:throw new Error("Unsupported position ".concat(t))}v=y<=0?v:!v;var w=Ot(l,s,p,b),_=Ot(l,s,p,b+(v?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(v?0:1,`,
    `).concat(_.x,",").concat(_.y),j=pt(e.id)?ks("recharts-radial-line-"):e.id;return x.createElement("text",Sn({},n,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:j,d:S})),x.createElement("textPath",{xlinkHref:"#".concat(j)},r))},KK=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:s}=e,u=(l+s)/2;if(r==="outside"){var{x:d,y:f}=Ot(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:p}=Ot(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},og=e=>"cx"in e&&G(e.cx),VK=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!og(r)&&(i=r);var{x:o,y:l,upperWidth:s,lowerWidth:u,height:d}=t,f=o,h=o+(s-u)/2,m=(f+h)/2,p=(s+u)/2,y=f+s/2,g=d>=0?1:-1,b=g*n,v=g>0?"end":"start",w=g>0?"start":"end",_=s>=0?1:-1,S=_*n,j=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var O={x:f+s/2,y:l-b,textAnchor:"middle",verticalAnchor:v};return Ue(Ue({},O),i?{height:Math.max(l-i.y,0),width:s}:{})}if(a==="bottom"){var A={x:h+u/2,y:l+d+b,textAnchor:"middle",verticalAnchor:w};return Ue(Ue({},A),i?{height:Math.max(i.y+i.height-(l+d),0),width:u}:{})}if(a==="left"){var k={x:m-S,y:l+d/2,textAnchor:j,verticalAnchor:"middle"};return Ue(Ue({},k),i?{width:Math.max(k.x-i.x,0),height:d}:{})}if(a==="right"){var T={x:m+p+S,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return Ue(Ue({},T),i?{width:Math.max(i.x+i.width-T.x,0),height:d}:{})}var C=i?{width:p,height:d}:{};return a==="insideLeft"?Ue({x:m+S,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},C):a==="insideRight"?Ue({x:m+p-S,y:l+d/2,textAnchor:j,verticalAnchor:"middle"},C):a==="insideTop"?Ue({x:f+s/2,y:l+b,textAnchor:"middle",verticalAnchor:w},C):a==="insideBottom"?Ue({x:h+u/2,y:l+d-b,textAnchor:"middle",verticalAnchor:v},C):a==="insideTopLeft"?Ue({x:f+S,y:l+b,textAnchor:E,verticalAnchor:w},C):a==="insideTopRight"?Ue({x:f+s-S,y:l+b,textAnchor:j,verticalAnchor:w},C):a==="insideBottomLeft"?Ue({x:h+S,y:l+d-b,textAnchor:E,verticalAnchor:v},C):a==="insideBottomRight"?Ue({x:h+u-S,y:l+d-b,textAnchor:j,verticalAnchor:v},C):a&&typeof a=="object"&&(G(a.x)||Un(a.x))&&(G(a.y)||Un(a.y))?Ue({x:o+Yr(a.x,p),y:l+Yr(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):Ue({x:y,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},GK={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function ca(e){var t=yr(e,GK),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:s,labelRef:u}=t,d=UK(),f=cN(),h=n==="center"?f:d??f,m,p,y;if(r==null?m=h:og(r)?m=r:m=hk(r),!m||pt(a)&&pt(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var g=Ue(Ue({},t),{},{viewBox:m});if(x.isValidElement(o)){var{labelRef:b}=g,v=pS(g,RK);return x.cloneElement(o,v)}if(typeof o=="function"){var{content:w}=g,_=pS(g,MK);if(p=x.createElement(o,_),x.isValidElement(p))return p}else p=qK(t);var S=Rr(t);if(og(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return WK(t,n,p,S,m);y=KK(m,t.offset,t.position)}else y=VK(t,m);return x.createElement(na,{zIndex:t.zIndex},x.createElement(ab,Sn({ref:u,className:Pe("recharts-label",l)},S,y,{textAnchor:AK(S.textAnchor)?S.textAnchor:y.textAnchor,breakAll:s}),p))}ca.displayName="Label";var FK=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(ca,Sn({key:"label-implicit"},n)):sn(e)?x.createElement(ca,Sn({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===ca?x.cloneElement(e,Ue({key:"label-implicit"},n)):x.createElement(ca,Sn({key:"label-implicit",content:e},n)):ib(e)?x.createElement(ca,Sn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(ca,Sn({},e,{key:"label-implicit"},n)):null};function YK(e){var{label:t,labelRef:r}=e,n=cN();return FK(t,n,r)||null}var dN={},fN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(fN);var hN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(hN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN,r=hN,n=qf;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(dN);var XK=dN.last;const ZK=Fn(XK);var JK=["valueAccessor"],QK=["dataKey","clockWise","id","textBreakAll","zIndex"];function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(null,arguments)}function gS(e,t){if(e==null)return{};var r,n,a=eV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tV=e=>Array.isArray(e.value)?ZK(e.value):e.value,mN=x.createContext(void 0),rV=mN.Provider,pN=x.createContext(void 0);pN.Provider;function nV(){return x.useContext(mN)}function aV(){return x.useContext(pN)}function Dc(e){var{valueAccessor:t=tV}=e,r=gS(e,JK),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,s=gS(r,QK),u=nV(),d=aV(),f=u||d;return!f||!f.length?null:x.createElement(na,{zIndex:l??Bt.label},x.createElement(Ln,{className:"recharts-label-list"},f.map((h,m)=>{var p,y=pt(n)?t(h,m):At(h&&h.payload,n),g=pt(i)?{}:{id:"".concat(i,"-").concat(m)};return x.createElement(ca,rf({key:"label-".concat(m)},Rr(h),s,g,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Dc.displayName="LabelList";function iV(e){var{label:t}=e;return t?t===!0?x.createElement(Dc,{key:"labelList-implicit"}):x.isValidElement(t)||ib(t)?x.createElement(Dc,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Dc,rf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var oV={radiusAxis:{},angleAxis:{}},vN=Zt({name:"polarAxis",initialState:oV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:lZ,removeRadiusAxis:sZ,addAngleAxis:uZ,removeAngleAxis:cZ}=vN.actions,lV=vN.reducer,gN={exports:{}},we={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob=Symbol.for("react.transitional.element"),lb=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),Ph=Symbol.for("react.consumer"),Nh=Symbol.for("react.context"),Rh=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),zh=Symbol.for("react.memo"),Bh=Symbol.for("react.lazy"),sV=Symbol.for("react.view_transition"),uV=Symbol.for("react.client.reference");function Br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ob:switch(e=e.type,e){case Ah:case kh:case Th:case Mh:case Dh:case sV:return e;default:switch(e=e&&e.$$typeof,e){case Nh:case Rh:case Bh:case zh:return e;case Ph:return e;default:return t}}case lb:return t}}}we.ContextConsumer=Ph;we.ContextProvider=Nh;we.Element=ob;we.ForwardRef=Rh;we.Fragment=Ah;we.Lazy=Bh;we.Memo=zh;we.Portal=lb;we.Profiler=kh;we.StrictMode=Th;we.Suspense=Mh;we.SuspenseList=Dh;we.isContextConsumer=function(e){return Br(e)===Ph};we.isContextProvider=function(e){return Br(e)===Nh};we.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ob};we.isForwardRef=function(e){return Br(e)===Rh};we.isFragment=function(e){return Br(e)===Ah};we.isLazy=function(e){return Br(e)===Bh};we.isMemo=function(e){return Br(e)===zh};we.isPortal=function(e){return Br(e)===lb};we.isProfiler=function(e){return Br(e)===kh};we.isStrictMode=function(e){return Br(e)===Th};we.isSuspense=function(e){return Br(e)===Mh};we.isSuspenseList=function(e){return Br(e)===Dh};we.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ah||e===kh||e===Th||e===Mh||e===Dh||typeof e=="object"&&e!==null&&(e.$$typeof===Bh||e.$$typeof===zh||e.$$typeof===Nh||e.$$typeof===Ph||e.$$typeof===Rh||e.$$typeof===uV||e.getModuleId!==void 0)};we.typeOf=Br;gN.exports=we;var cV=gN.exports,yS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",bS=null,Jm=null,yN=e=>{if(e===bS&&Array.isArray(Jm))return Jm;var t=[];return x.Children.forEach(e,r=>{pt(r)||(cV.isFragment(r)?t=t.concat(yN(r.props.children)):t.push(r))}),Jm=t,bS=e,t};function dV(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>yS(a)):n=[yS(t)],yN(e).forEach(a=>{var i=Ko(a,"type.displayName")||Ko(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var bN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(bN);var fV=bN.isPlainObject;const hV=Fn(fV);var xS,wS,_S,SS,jS;function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){mV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mV(e,t,r){return(t=pV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function Bl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var CS=(e,t,r,n,a)=>{var i=r-n,o;return o=Ie(xS||(xS=Bl(["M ",",",""])),e,t),o+=Ie(wS||(wS=Bl(["L ",",",""])),e+r,t),o+=Ie(_S||(_S=Bl(["L ",",",""])),e+r-i/2,t+a),o+=Ie(SS||(SS=Bl(["L ",",",""])),e+r-i/2-n,t+a),o+=Ie(jS||(jS=Bl(["L ",","," Z"])),e,t),o},gV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yV=e=>{var t=yr(e,gV),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:s,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=x.useRef(null),[m,p]=x.useState(-1),y=x.useRef(a),g=x.useRef(i),b=x.useRef(o),v=x.useRef(r),w=x.useRef(n),_=a0(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var B=h.current.getTotalLength();B&&p(B)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var S=Pe("recharts-trapezoid",l);if(!f)return x.createElement("g",null,x.createElement("path",nf({},Rr(t),{className:S,d:CS(r,n,a,i,o)})));var j=y.current,E=g.current,O=b.current,A=v.current,k=w.current,T="0px ".concat(m===-1?1:m,"px"),C="".concat(m,"px 0px"),R=Ok(["strokeDasharray"],u,s);return x.createElement(n0,{animationId:_,key:_,canBegin:m>0,duration:u,easing:s,isActive:f,begin:d},B=>{var K=_t(j,a,B),N=_t(E,i,B),L=_t(O,o,B),U=_t(A,r,B),H=_t(k,n,B);h.current&&(y.current=K,g.current=N,b.current=L,v.current=U,w.current=H);var X=B>0?{transition:R,strokeDasharray:C}:{strokeDasharray:T};return x.createElement("path",nf({},Rr(t),{className:S,d:CS(U,H,K,N,L),ref:h,style:OS(OS({},X),t.style)}))})},bV=["option","shapeType","activeClassName"];function xV(e,t){if(e==null)return{};var r,n,a=wV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){_V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _V(e,t,r){return(t=SV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EV(e,t){return af(af({},t),e)}function OV(e,t){return e==="symbols"}function TS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(kk,r);case"trapezoid":return x.createElement(yV,r);case"sector":return x.createElement(Rk,r);case"symbols":if(OV(t))return x.createElement(XA,r);break;case"curve":return x.createElement(Ek,r);default:return null}}function CV(e){return x.isValidElement(e)?e.props:e}function AV(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=xV(e,bV),i;if(x.isValidElement(t))i=x.cloneElement(t,af(af({},a),CV(t)));else if(typeof t=="function")i=t(a,a.index);else if(hV(t)&&typeof t!="boolean"){var o=EV(t,a);i=x.createElement(TS,{shapeType:r,elementProps:o})}else{var l=a;i=x.createElement(TS,{shapeType:r,elementProps:l})}return a.isActive?x.createElement(Ln,{className:n},i):i}var xN=(e,t,r)=>{var n=We();return(a,i)=>o=>{e==null||e(a,i,o),n(kP({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},wN=e=>{var t=We();return(r,n)=>a=>{e==null||e(r,n,a),t(J7())}},_N=(e,t,r)=>{var n=We();return(a,i)=>o=>{e==null||e(a,i,o),n(Q7({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function TV(e){var{tooltipEntrySettings:t}=e,r=We(),n=Jt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(F7(t)):a.current!==t&&r(Y7({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(X7(a.current)),a.current=null)},[r]),null}function kV(e){var{legendPayload:t}=e,r=We(),n=Jt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(NU(t)):a.current!==t&&r(RU({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(MU(a.current)),a.current=null)},[r]),null}var Qm,PV=()=>{var[e]=x.useState(()=>ks("uid-"));return e},NV=(Qm=lj.useId)!==null&&Qm!==void 0?Qm:PV;function RV(e,t){var r=NV();return t||(e?"".concat(e,"-").concat(r):r)}var MV=x.createContext(void 0),DV=e=>{var{id:t,type:r,children:n}=e,a=RV("recharts-".concat(r),t);return x.createElement(MV.Provider,{value:a},n(a))},zV={cartesianItems:[],polarItems:[]},SN=Zt({name:"graphicalItems",initialState:zV,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Re()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Re()},removeCartesianGraphicalItem:{reducer(e,t){var r=Gr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Re()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Re()},removePolarGraphicalItem:{reducer(e,t){var r=Gr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Re()}}}),{addCartesianGraphicalItem:BV,replaceCartesianGraphicalItem:$V,removeCartesianGraphicalItem:IV,addPolarGraphicalItem:dZ,removePolarGraphicalItem:fZ}=SN.actions,LV=SN.reducer,UV=e=>{var t=We(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(BV(e)):r.current!==e&&t($V({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(IV(r.current)),r.current=null)},[t]),null},qV=x.memo(UV);function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){HV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HV(e,t,r){return(t=WV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=KV(e,"string");return typeof t=="symbol"?t:t+""}function KV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jN=0,VV={xAxis:{},yAxis:{},zAxis:{}},EN=Zt({name:"cartesianAxis",initialState:VV,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Re()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Re()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Re()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Re()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Re()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Re()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Re()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Re()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Re()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=PS(PS({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:GV,replaceXAxis:FV,removeXAxis:YV,addYAxis:XV,replaceYAxis:ZV,removeYAxis:JV,addZAxis:hZ,replaceZAxis:mZ,removeZAxis:pZ,updateYAxisWidth:QV}=EN.actions,eG=EN.reducer,tG=P([vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),rG=P([tG,Xn,Zn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),ON=()=>Y(rG),NS=(e,t,r)=>{var n=r??e;if(!pt(n))return Yr(n,t,0)},nG=(e,t,r)=>{var n={},a=e.filter(wh),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=NS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),s=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=NS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...s]};function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return(t=iG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Yr(e,r,0,!0),l,s=[];if(Be(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((b,v)=>b+(v.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};l=n.reduce((b,v)=>{var w,_={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(w=v.barSize)!==null&&w!==void 0?w:0}},S=[...b,_];return m=S[S.length-1].position,S},s)}else{var p=Yr(t,r,0,!0);r-2*p-(i-1)*o<=0&&(o=0);var y=(r-2*p-(i-1)*o)/i;y>1&&(y>>=0);var g=Be(a)?Math.min(y,a):y;l=n.reduce((b,v,w)=>[...b,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:p+(y+o)*w+(y-g)/2,size:g}}],s)}return l}}var sG=(e,t,r,n,a,i,o)=>{var l=pt(o)?t:o,s=lG(r,n,a!==i?a:i,e,l);return a!==i&&s!=null&&(s=s.map(u=>mc(mc({},u),{},{position:mc(mc({},u.position),{},{offset:u.position.offset-a/2})}))),s},uG=(e,t)=>{var r=z0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function cG(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Be(e.zIndex)?e.zIndex:t}var dG=e=>{var{chartData:t}=e,r=We(),n=Jt();return x.useEffect(()=>n?()=>{}:(r(eS(t)),()=>{r(eS(void 0))}),[t,r,n]),null},MS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CN=Zt({name:"brush",initialState:MS,reducers:{setBrushSettings(e,t){return t.payload==null?MS:t.payload}}}),{setBrushSettings:vZ}=CN.actions,fG=CN.reducer;function hG(e,t,r){return(t=mG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=pG(e,"string");return typeof t=="symbol"?t:t+""}function pG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sb{static create(t){return new sb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}hG(sb,"EPS",1e-4);function vG(e){return(e%180+180)%180}var gG=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=vG(a),o=i*Math.PI/180,l=Math.atan(n/r),s=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(s)},yG={dots:[],areas:[],lines:[]},AN=Zt({name:"referenceElements",initialState:yG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Gr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Gr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Gr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:gZ,removeDot:yZ,addArea:bZ,removeArea:xZ,addLine:wZ,removeLine:_Z}=AN.actions,bG=AN.reducer,xG=x.createContext(void 0),wG=e=>{var{children:t}=e,[r]=x.useState("".concat(ks("recharts"),"-clip")),n=ON();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return x.createElement(xG.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function TN(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function _G(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return gG(n,r)}function SG(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Ws(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function jG(e,t){return TN(e,t+1)}function EG(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,s=0,u=1,d=o,f=function(){var p=n==null?void 0:n[s];if(p===void 0)return{v:TN(n,u)};var y=s,g,b=()=>(g===void 0&&(g=r(p,y)),g),v=p.coordinate,w=s===0||Ws(e,v,b,d,l);w||(s=0,d=o,u+=1),w&&(d=v+e*(b()/2+a),s+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function OG(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:l,end:s}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,h=!0,m=function(){var v=n[p],w=p,_,S=()=>(_===void 0&&(_=r(v,w)),_),j=v.coordinate,E=p===d||Ws(e,j,S,f,s);if(!E)return h=!1,1;E&&(f=j+e*(S()/2+a))},p=d;p<o&&!m();p+=u);if(h){for(var y=[],g=d;g<o;g+=u)y.push(n[g]);return y}}return[]}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){CG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CG(e,t,r){return(t=AG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kG(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:s}=t,u=function(h){var m=i[h],p,y=()=>(p===void 0&&(p=r(m,h)),p);if(h===o-1){var g=e*(m.coordinate+e*y()/2-s);i[h]=m=Tt(Tt({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else i[h]=m=Tt(Tt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var b=Ws(e,m.tickCoord,y,l,s);b&&(s=m.tickCoord-e*(y()/2+a),i[h]=Tt(Tt({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function PG(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:s,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Ws(e,d.tickCoord,()=>f,s,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Tt(Tt({},d),{},{isShow:!0}))}}for(var p=i?l-1:l,y=function(v){var w=o[v],_,S=()=>(_===void 0&&(_=r(w,v)),_);if(v===0){var j=e*(w.coordinate-e*S()/2-s);o[v]=w=Tt(Tt({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else o[v]=w=Tt(Tt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var E=Ws(e,w.tickCoord,S,s,u);E&&(s=w.tickCoord+e*(S()/2+a),o[v]=Tt(Tt({},w),{},{isShow:!0}))}},g=0;g<p;g++)y(g);return o}function ub(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:s,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(G(s)||ch.isSsr){var h;return(h=jG(a,G(s)?s:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?us(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(w,_)=>{var S=typeof u=="function"?u(w.value,_):w.value;return p==="width"?_G(us(S,{fontSize:t,letterSpacing:r}),y,f):us(S,{fontSize:t,letterSpacing:r})[p]},b=a.length>=2?Vt(a[1].coordinate-a[0].coordinate):1,v=SG(i,b,p);return s==="equidistantPreserveStart"?EG(b,v,g,a,o):s==="equidistantPreserveEnd"?OG(b,v,g,a,o):(s==="preserveStart"||s==="preserveStartEnd"?m=PG(b,v,g,a,o,s==="preserveStartEnd"):m=kG(b,v,g,a,o),m.filter(w=>w.isShow))}var NG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,s=a+i,u=o+s+l+(r?n:0);return Math.round(u)}return 0},RG=["axisLine","width","height","className","hide","ticks","axisType"];function MG(e,t){if(e==null)return{};var r,n,a=DG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(null,arguments)}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=BG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function IG(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:s}=e;if(!l)return null;var u=Ge(Ge(Ge({},s),In(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Ge(Ge({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Ge(Ge({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return x.createElement("line",ki({},u,{className:Pe("recharts-cartesian-axis-line",Ko(l,"className"))}))}function LG(e,t,r,n,a,i,o,l,s){var u,d,f,h,m,p,y=l?-1:1,g=e.tickSize||o,b=G(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-y*g,p=f-y*s,m=b;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-y*g,m=u-y*s,p=b;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+y*g,m=u+y*s,p=b;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+y*g,p=f+y*s,m=b;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function UG(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function qG(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function HG(e){var{option:t,tickProps:r,value:n}=e,a,i=Pe(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Ge(Ge({},r),{},{className:i}));else if(typeof t=="function")a=t(Ge(Ge({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Pe(o,t==null?void 0:t.className)),a=x.createElement(ab,ki({},r,{className:o}),n)}return a}var WG=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:s,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:y,tickSize:g,tickMargin:b,fontSize:v,letterSpacing:w,getTicksConfig:_,events:S,axisType:j}=e,E=ub(Ge(Ge({},_),{},{ticks:r}),v,w),O=UG(d,f),A=qG(d,f),k=In(_),T=ky(n),C={};typeof a=="object"&&(C=a);var R=Ge(Ge({},k),{},{fill:"none"},C),B=E.map(L=>Ge({entry:L},LG(L,h,m,p,y,d,g,f,b))),K=B.map(L=>{var{entry:U,line:H}=L;return x.createElement(Ln,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},a&&x.createElement("line",ki({},R,H,{className:Pe("recharts-cartesian-axis-tick-line",Ko(a,"className"))})))}),N=B.map((L,U)=>{var{entry:H,tick:X}=L,et=Ge(Ge(Ge(Ge({textAnchor:O,verticalAnchor:A},k),{},{stroke:"none",fill:i},T),X),{},{index:U,payload:H,visibleTicksCount:E.length,tickFormatter:o,padding:s},u);return x.createElement(Ln,ki({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},Dy(S,H,U)),n&&x.createElement(HG,{option:n,tickProps:et,value:"".concat(typeof o=="function"?o(H.value,U):H.value).concat(l||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},N.length>0&&x.createElement(na,{zIndex:Bt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},N)),K.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},K))}),KG=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:s}=e,u=MG(e,RG),[d,f]=x.useState(""),[h,m]=x.useState(""),p=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return NG({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=x.useCallback(g=>{if(g){var b=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=b;var v=b[0];if(v){var w=window.getComputedStyle(v),_=w.fontSize,S=w.letterSpacing;(_!==d||S!==h)&&(f(_),m(S))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(na,{zIndex:e.zIndex},x.createElement(Ln,{className:Pe("recharts-cartesian-axis",i)},x.createElement(IG,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:In(e)}),x.createElement(WG,{ref:y,axisType:s,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(IK,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(YK,{label:e.label,labelRef:e.labelRef}),e.children)))}),cb=x.forwardRef((e,t)=>{var r=yr(e,Rn);return x.createElement(KG,ki({},r,{ref:t}))});cb.displayName="CartesianAxis";var VG=["x1","y1","x2","y2","key"],GG=["offset"],FG=["xAxisId","yAxisId"],YG=["xAxisId","yAxisId"];function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(null,arguments)}function of(e,t){if(e==null)return{};var r,n,a=QG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eF=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return x.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kN(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:s,key:u}=r,d=of(r,VG),f=(a=In(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=of(f,GG);n=x.createElement("line",ci({},m,{x1:i,y1:o,x2:l,y2:s,fill:"none",key:u}))}return n}function tF(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=of(e,FG),s=a.map((u,d)=>{var f=kt(kt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return x.createElement(kN,{key:"line-".concat(d),option:n,lineItemProps:f})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function rF(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=of(e,YG),s=a.map((u,d)=>{var f=kt(kt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return x.createElement(kN,{option:n,lineItemProps:f,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function nF(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:s=!0}=e;if(!s||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+o-f:u[h+1]-f;if(p<=0)return null;var y=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function aF(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:s}=e;if(!t||!r||!r.length)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+o-f:u[h+1]-f;if(p<=0)return null;var y=h%r.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var iF=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return nk(ub(kt(kt(kt({},Rn),r),{},{ticks:ak(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},oF=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return nk(ub(kt(kt(kt({},Rn),r),{},{ticks:ak(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},lF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function PN(e){var t=pk(),r=vk(),n=mk(),a=kt(kt({},yr(e,lF)),{},{x:G(e.x)?e.x:n.left,y:G(e.y)?e.y:n.top,width:G(e.width)?e.width:n.width,height:G(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:s,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=Jt(),y=Y(A=>H_(A,"xAxis",i,p)),g=Y(A=>H_(A,"yAxis",o,p));if(!un(u)||!un(d)||!G(l)||!G(s))return null;var b=a.verticalCoordinatesGenerator||iF,v=a.horizontalCoordinatesGenerator||oF,{horizontalPoints:w,verticalPoints:_}=a;if((!w||!w.length)&&typeof v=="function"){var S=h&&h.length,j=v({yAxis:g?kt(kt({},g),{},{ticks:S?h:g.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);Rd(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(w=j)}if((!_||!_.length)&&typeof b=="function"){var E=m&&m.length,O=b({xAxis:y?kt(kt({},y),{},{ticks:E?m:y.ticks}):void 0,width:t??u,height:r??d,offset:n},E?!0:f);Rd(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(_=O)}return x.createElement(na,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(eF,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(nF,ci({},a,{horizontalPoints:w})),x.createElement(aF,ci({},a,{verticalPoints:_})),x.createElement(tF,ci({},a,{offset:n,horizontalPoints:w,xAxis:y,yAxis:g})),x.createElement(rF,ci({},a,{offset:n,verticalPoints:_,xAxis:y,yAxis:g}))))}PN.displayName="CartesianGrid";var sF={},NN=Zt({name:"errorBars",initialState:sF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:SZ,replaceErrorBar:jZ,removeErrorBar:EZ}=NN.actions,uF=NN.reducer,cF=["children"];function dF(e,t){if(e==null)return{};var r,n,a=fF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mF=x.createContext(hF);function pF(e){var{children:t}=e,r=dF(e,cF);return x.createElement(mF.Provider,{value:r},t)}function RN(e,t){var r,n,a=Y(u=>ea(u,e)),i=Y(u=>ta(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ut.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ct.allowDataOverflow,s=o||l;return{needClip:s,needClipX:o,needClipY:l}}function vF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=ON(),{needClipX:i,needClipY:o,needClip:l}=RN(t,r);if(!l||!a)return null;var{x:s,y:u,width:d,height:f}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?s:s-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var gF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=x;function yF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bF=typeof Object.is=="function"?Object.is:yF,xF=Ou.useSyncExternalStore,wF=Ou.useRef,_F=Ou.useEffect,SF=Ou.useMemo,jF=Ou.useDebugValue;gF.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=wF(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=SF(function(){function s(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return f=p}return f=m}if(p=f,bF(d,m))return p;var y=n(m);return a!==void 0&&a(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=xF(e,i[0],i[1]);return _F(function(){o.hasValue=!0,o.value=l},[l]),jF(l),l};function EF(e){e()}function OF(){let e=null,t=null;return{clear(){e=null,t=null},notify(){EF(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var $S={notify(){},get:()=>[]};function CF(e,t){let r,n=$S,a=0,i=!1;function o(y){d();const g=n.subscribe(y);let b=!1;return()=>{b||(b=!0,g(),f())}}function l(){n.notify()}function s(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(s),n=OF())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=$S)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:s,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var AF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TF=AF(),kF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",PF=kF(),NF=()=>TF||PF?x.useLayoutEffect:x.useEffect,RF=NF();function IS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function MF(e,t){if(IS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!IS(e[r[a]],t[r[a]]))return!1;return!0}var ep=Symbol.for("react-redux-context"),tp=typeof globalThis<"u"?globalThis:{};function DF(){if(!x.createContext)return{};const e=tp[ep]??(tp[ep]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var zF=DF();function BF(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const s=CF(a);return{store:a,subscription:s,getServerState:n?()=>n:void 0}},[a,n]),o=x.useMemo(()=>a.getState(),[a]);RF(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==a.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]);const l=r||zF;return x.createElement(l.Provider,{value:i},t)}var $F=BF,IF=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function LF(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function db(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(IF.has(n)){if(e[n]==null&&t[n]==null)continue;if(!MF(e[n],t[n]))return!1}else if(!LF(e[n],t[n]))return!1;return!0}function qi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:jN}function Hi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:jN}var UF="Invariant failed";function qF(e,t){throw new Error(UF)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(null,arguments)}function lf(e){return x.createElement(AV,lg({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var HF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(G(t))return t;var i=G(n)||pt(n);return i?t(n,a):(i||qF(),r)}},WF=(e,t,r)=>r,KF=(e,t)=>t,Cu=P([$0,KF],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),VF=P([Cu],e=>e==null?void 0:e.maxBarSize),GF=(e,t,r,n)=>n,FF=P([ve,$0,qi,Hi,WF],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),YF=(e,t,r)=>{var n=ve(e),a=qi(e,t),i=Hi(e,t);if(!(a==null||i==null))return n==="horizontal"?eg(e,"yAxis",i,r):eg(e,"xAxis",a,r)},XF=(e,t)=>{var r=ve(e),n=qi(e,t),a=Hi(e,t);if(!(n==null||a==null))return r==="horizontal"?q_(e,"xAxis",n):q_(e,"yAxis",a)},ZF=P([FF,Uq,XF],nG),JF=(e,t,r)=>{var n,a,i=Cu(e,t);if(i!=null){var o=qi(e,t),l=Hi(e,t);if(!(o==null||l==null)){var s=ve(e),u=R2(e),{maxBarSize:d}=i,f=pt(d)?u:d,h,m;return s==="horizontal"?(h=Qo(e,"xAxis",o,r),m=Jo(e,"xAxis",o,r)):(h=Qo(e,"yAxis",l,r),m=Jo(e,"yAxis",l,r)),(n=(a=Nd(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},MN=(e,t,r)=>{var n=ve(e),a=qi(e,t),i=Hi(e,t);if(!(a==null||i==null)){var o,l;return n==="horizontal"?(o=Qo(e,"xAxis",a,r),l=Jo(e,"xAxis",a,r)):(o=Qo(e,"yAxis",i,r),l=Jo(e,"yAxis",i,r)),Nd(o,l)}},QF=P([ZF,R2,Lq,M2,JF,MN,VF],sG),eY=(e,t,r)=>{var n=qi(e,t);if(n!=null)return Qo(e,"xAxis",n,r)},tY=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return Qo(e,"yAxis",n,r)},rY=(e,t,r)=>{var n=qi(e,t);if(n!=null)return Jo(e,"xAxis",n,r)},nY=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return Jo(e,"yAxis",n,r)},aY=P([QF,Cu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),iY=P([YF,Cu],uG),oY=P([vt,Qy,eY,tY,rY,nY,aY,ve,Aq,MN,iY,Cu,GF],(e,t,r,n,a,i,o,l,s,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=s;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:g}=f,b;if(g!=null&&g.length>0?b=g:b=m==null?void 0:m.slice(p,y+1),b!=null)return DY({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:b,offset:e,cells:h,dataStartIndex:p})}}),lY=["index"];function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(null,arguments)}function sY(e,t){if(e==null)return{};var r,n,a=uY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DN=x.createContext(void 0),cY=e=>{var t=x.useContext(DN);if(t!=null)return t.stackId;if(e!=null)return $L(e)},dY=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),fY=e=>{var t=x.useContext(DN);if(t!=null){var{stackId:r}=t;return"url(#".concat(dY(r,e),")")}},hY=e=>{var{index:t}=e,r=sY(e,lY),n=fY(t);return x.createElement(Ln,sg({className:"recharts-bar-stack-layer",clipPath:n},r))},mY=["onMouseEnter","onMouseLeave","onClick"],pY=["value","background","tooltipPosition"],vY=["id"],gY=["onMouseEnter","onClick","onMouseLeave"];function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gn.apply(null,arguments)}function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){yY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yY(e,t,r){return(t=bY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sf(e,t){if(e==null)return{};var r,n,a=wY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _Y=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ik(r,t),payload:e}]},SY=x.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:s,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:ik(i,t),hide:o,type:s,color:a,unit:l,graphicalItemId:u}};return x.createElement(TV,{tooltipEntrySettings:d})});function jY(e){var t=Y(el),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:s}=i,u=sf(i,mY),d=xN(o,n,i.id),f=wN(l),h=_N(s,n,i.id);if(!a||r==null)return null;var m=ky(a);return x.createElement(na,{zIndex:cG(a,Bt.barBackground)},r.map((p,y)=>{var{value:g,background:b,tooltipPosition:v}=p,w=sf(p,pY);if(!b)return null;var _=d(p,y),S=f(p,y),j=h(p,y),E=Mt(Mt(Mt(Mt(Mt({option:a,isActive:String(y)===t},w),{},{fill:"#eee"},b),m),Dy(u,p,y)),{},{onMouseEnter:_,onMouseLeave:S,onClick:j,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return x.createElement(lf,Gn({key:"background-bar-".concat(y)},E))}))}function EY(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mt(Mt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(rV,{value:t?a:void 0},r)}function OY(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=Y(el),s=Y(WP),u=r&&String(i)===l&&(s==null||o===s),d=u?r:t;return u?x.createElement(na,{zIndex:Bt.activeBar},x.createElement(lf,Gn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):x.createElement(lf,Gn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function CY(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(lf,Gn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function AY(e){var t,{data:r,props:n}=e,a=(t=In(n))!==null&&t!==void 0?t:{},{id:i}=a,o=sf(a,vY),{shape:l,dataKey:s,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=sf(n,gY),p=xN(d,s,i),y=wN(h),g=_N(f,s,i);return r?x.createElement(x.Fragment,null,r.map((b,v)=>x.createElement(hY,Gn({index:v,key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(v),className:"recharts-bar-rectangle"},Dy(m,b,v),{onMouseEnter:p(b,v),onMouseLeave:y(b,v),onClick:g(b,v)}),u?x.createElement(OY,{shape:l,activeBar:u,baseProps:o,entry:b,index:v,dataKey:s}):x.createElement(CY,{shape:l,baseProps:o,entry:b,index:v,dataKey:s})))):null}function TY(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:s,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=a0(t,"recharts-bar-"),[m,p]=x.useState(!1),y=!m,g=x.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),b=x.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return x.createElement(EY,{showLabels:y,rects:n},x.createElement(n0,{animationId:h,begin:o,duration:l,isActive:i,easing:s,onAnimationEnd:g,onAnimationStart:b,key:h},v=>{var w=v===1?n:n==null?void 0:n.map((_,S)=>{var j=f&&f[S];if(j)return Mt(Mt({},_),{},{x:_t(j.x,_.x,v),y:_t(j.y,_.y,v),width:_t(j.width,_.width,v),height:_t(j.height,_.height,v)});if(a==="horizontal"){var E=_t(0,_.height,v),O=_t(_.stackedBarStart,_.y,v);return Mt(Mt({},_),{},{y:O,height:E})}var A=_t(0,_.width,v),k=_t(_.stackedBarStart,_.x,v);return Mt(Mt({},_),{},{width:A,x:k})});return v>0&&(r.current=w??null),w==null?null:x.createElement(Ln,null,x.createElement(AY,{props:t,data:w}))}),x.createElement(iV,{label:t.label}),t.children)}function kY(e){var t=x.useRef(null);return x.createElement(TY,{previousRectanglesRef:t,props:e})}var zN=0,PY=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:At(e,t)}};class NY extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:s,id:u}=this.props;if(t||r==null)return null;var d=Pe("recharts-bar",a),f=u;return x.createElement(Ln,{className:d,id:u},l&&x.createElement("defs",null,x.createElement(vF,{clipPathId:f,xAxisId:i,yAxisId:o})),x.createElement(Ln,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},x.createElement(jY,{data:r,dataKey:n,background:s,allOtherBarProps:this.props}),x.createElement(kY,this.props)))}}var RY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:zN,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function MY(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=RN(t,r),h=fu(),m=Jt(),p=dV(e.children,nb),y=Y(v=>oY(v,e.id,m,p));if(h!=="vertical"&&h!=="horizontal")return null;var g,b=y==null?void 0:y[0];return b==null||b.height==null||b.width==null?g=0:g=h==="vertical"?b.height/2:b.width/2,x.createElement(pF,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:PY,errorBarOffset:g},x.createElement(NY,Gn({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:u,isAnimationActive:d})))}function DY(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:s,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:y}=e,g=t==="horizontal"?l:o,b=d?g.scale.domain():null,v=IL({numericAxis:g}),w=g.scale(v);return f.map((_,S)=>{var j,E,O,A,k,T;if(d){var C=d[S+y];if(C==null)return null;j=RL(C,b)}else j=At(_,r),Array.isArray(j)||(j=[v,j]);var R=HF(n,zN)(j[1],S);if(t==="horizontal"){var B,[K,N]=[l.scale(j[0]),l.scale(j[1])];E=rw({axis:o,ticks:s,bandSize:i,offset:a.offset,entry:_,index:S}),O=(B=N??K)!==null&&B!==void 0?B:void 0,A=a.size;var L=K-N;if(k=Fr(L)?0:L,T={x:E,y:h.top,width:A,height:h.height},Math.abs(R)>0&&Math.abs(k)<Math.abs(R)){var U=Vt(k||R)*(Math.abs(R)-Math.abs(k));O-=U,k+=U}}else{var[H,X]=[o.scale(j[0]),o.scale(j[1])];if(E=H,O=rw({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:_,index:S}),A=X-H,k=a.size,T={x:h.left,y:O,width:h.width,height:k},Math.abs(R)>0&&Math.abs(A)<Math.abs(R)){var et=Vt(A||R)*(Math.abs(R)-Math.abs(A));A+=et}}if(E==null||O==null||A==null||k==null)return null;var Ke=Mt(Mt({},_),{},{stackedBarStart:w,x:E,y:O,width:A,height:k,value:d?j:j[1],payload:_,background:T,tooltipPosition:{x:E+A/2,y:O+k/2},parentViewBox:p},m&&m[S]&&m[S].props);return Ke}).filter(Boolean)}function zY(e){var t=yr(e,RY),r=cY(t.stackId),n=Jt();return x.createElement(DV,{id:t.id,type:"bar"},a=>x.createElement(x.Fragment,null,x.createElement(kV,{legendPayload:_Y(t)}),x.createElement(SY,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),x.createElement(qV,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(na,{zIndex:t.zIndex},x.createElement(MY,Gn({},t,{id:a})))))}var BN=x.memo(zY,db);BN.displayName="Bar";var BY=["domain","range"],$Y=["domain","range"];function US(e,t){if(e==null)return{};var r,n,a=IY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function $N(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=US(e,BY),{domain:i,range:o}=t,l=US(t,$Y);return!qS(r,i)||!qS(n,o)?!1:db(a,l)}var LY=["dangerouslySetInnerHTML","ticks","scale"],UY=["id","scale"];function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(null,arguments)}function HS(e,t){if(e==null)return{};var r,n,a=qY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HY(e){var t=We(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(GV(e)):r.current!==e&&t(FV({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(YV(r.current)),r.current=null)},[t]),null}var WY=e=>{var{xAxisId:t,className:r}=e,n=Y(Qy),a=Jt(),i="xAxis",o=Y(b=>jP(b,i,t,a)),l=Y(b=>xP(b,t)),s=Y(b=>$7(b,t)),u=Y(b=>H2(b,t));if(l==null||s==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=HS(e,LY),{id:p,scale:y}=u,g=HS(u,UY);return x.createElement(cb,ug({},m,g,{x:s.x,y:s.y,width:l.width,height:l.height,className:Pe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},KY={allowDataOverflow:ut.allowDataOverflow,allowDecimals:ut.allowDecimals,allowDuplicatedCategory:ut.allowDuplicatedCategory,angle:ut.angle,axisLine:Rn.axisLine,height:ut.height,hide:!1,includeHidden:ut.includeHidden,interval:ut.interval,minTickGap:ut.minTickGap,mirror:ut.mirror,orientation:ut.orientation,padding:ut.padding,reversed:ut.reversed,scale:ut.scale,tick:ut.tick,tickCount:ut.tickCount,tickLine:Rn.tickLine,tickSize:Rn.tickSize,type:ut.type,xAxisId:0},VY=e=>{var t=yr(e,KY);return x.createElement(x.Fragment,null,x.createElement(HY,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(WY,t))},IN=x.memo(VY,$N);IN.displayName="XAxis";var GY=["dangerouslySetInnerHTML","ticks","scale"],FY=["id","scale"];function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(null,arguments)}function WS(e,t){if(e==null)return{};var r,n,a=YY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XY(e){var t=We(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(XV(e)):r.current!==e&&t(ZV({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(JV(r.current)),r.current=null)},[t]),null}var ZY=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),o=x.useRef(null),l=Y(Qy),s=Jt(),u=We(),d="yAxis",f=Y(j=>wP(j,t)),h=Y(j=>L7(j,t)),m=Y(j=>jP(j,d,t,s)),p=Y(j=>W2(j,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!f||ib(a)||x.isValidElement(a)||p==null)){var j=i.current;if(j){var E=j.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&u(QV({id:t,width:E}))}}},[m,f,u,a,t,n,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:y,ticks:g,scale:b}=e,v=WS(e,GY),{id:w,scale:_}=p,S=WS(p,FY);return x.createElement(cb,cg({},v,S,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Pe("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))},JY={allowDataOverflow:ct.allowDataOverflow,allowDecimals:ct.allowDecimals,allowDuplicatedCategory:ct.allowDuplicatedCategory,angle:ct.angle,axisLine:Rn.axisLine,hide:!1,includeHidden:ct.includeHidden,interval:ct.interval,minTickGap:ct.minTickGap,mirror:ct.mirror,orientation:ct.orientation,padding:ct.padding,reversed:ct.reversed,scale:ct.scale,tick:ct.tick,tickCount:ct.tickCount,tickLine:Rn.tickLine,tickSize:Rn.tickSize,type:ct.type,width:ct.width,yAxisId:0},QY=e=>{var t=yr(e,JY);return x.createElement(x.Fragment,null,x.createElement(XY,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(ZY,t))},LN=x.memo(QY,$N);LN.displayName="YAxis";var eX=(e,t)=>t,fb=P([eX,ve,U2,lt,LP,ra,eW,vt],lW),hb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},UN=Mr("mouseClick"),qN=cu();qN.startListening({actionCreator:UN,effect:(e,t)=>{var r=e.payload,n=fb(t.getState(),hb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(eH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var dg=Mr("mouseMove"),HN=cu(),pc=null;HN.startListening({actionCreator:dg,effect:(e,t)=>{var r=e.payload;pc!==null&&cancelAnimationFrame(pc);var n=hb(r);pc=requestAnimationFrame(()=>{var a=t.getState(),i=G0(a,a.tooltip.settings.shared);if(i==="axis"){var o=fb(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(NP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(PP())}pc=null})}});function tX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var KS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},WN=Zt({name:"rootProps",initialState:KS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:KS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rX=WN.reducer,{updateOptions:nX}=WN.actions,KN=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:OZ}=KN.actions,aX=KN.reducer,VN=Mr("keyDown"),GN=Mr("focus"),mb=cu();mb.startListening({actionCreator:VN,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=F0(a,_l(r),xu(r),ju(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var s=ra(r);if(i==="Enter"){var u=tf(r,"axis","hover",String(a.index));t.dispatch(rg({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=W7(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=l+h*f;if(!(s==null||m>=s.length||m<0)){var p=tf(r,"axis","hover",String(m));t.dispatch(rg({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});mb.startListening({actionCreator:GN,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=tf(r,"axis","hover",String(i));t.dispatch(rg({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var wr=Mr("externalEvent"),FN=cu(),rp=new Map;FN.startListening({actionCreator:wr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=rp.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),s={activeCoordinate:IH(l),activeDataKey:WP(l),activeIndex:el(l),activeLabel:HP(l),activeTooltipIndex:el(l),isTooltipActive:LH(l)};r(s,n)}finally{rp.delete(a)}});rp.set(a,o)}}});var iX=P([xl],e=>e.tooltipItemPayloads),oX=P([iX,Su,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),YN=Mr("touchMove"),XN=cu();XN.startListening({actionCreator:YN,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=G0(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=fb(n,hb({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(NP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,s=r.touches[0];if(document.elementFromPoint==null||s==null)return;var u=document.elementFromPoint(s.clientX,s.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(VL),f=(l=u.getAttribute(GL))!==null&&l!==void 0?l:void 0,h=wl(n).find(y=>y.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=oX(n,d,f);t.dispatch(kP({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var lX=AT({brush:fG,cartesianAxis:eG,chartData:$W,errorBars:uF,graphicalItems:LV,layout:CL,legend:DU,options:RW,polarAxis:lV,polarOptions:aX,referenceElements:bG,rootProps:rX,tooltip:tH,zIndex:wW}),sX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return JI({reducer:lX,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([qN.middleware,HN.middleware,mb.middleware,FN.middleware,XN.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(HT({type:"raf"}))},devTools:{serialize:{replacer:tX},name:"recharts-".concat(r)}})};function uX(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Jt(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=sX(t,n));var o=Wy;return x.createElement($F,{context:o,store:i.current},r)}function cX(e){var{layout:t,margin:r}=e,n=We(),a=Jt();return x.useEffect(()=>{a||(n(jL(t)),n(SL(r)))},[n,a,t,r]),null}var dX=x.memo(cX,db);function fX(e){var t=We();return x.useEffect(()=>{t(nX(e))},[t,e]),null}function VS(e){var{zIndex:t,isPanorama:r}=e,n=x.useRef(null),a=We();return x.useLayoutEffect(()=>(n.current&&a(bW({zIndex:t,element:n.current,isPanorama:r})),()=>{a(xW({zIndex:t,isPanorama:r}))}),[a,t,r]),x.createElement("g",{tabIndex:-1,ref:n})}function GS(e){var{children:t,isPanorama:r}=e,n=Y(uW);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return x.createElement(x.Fragment,null,a.map(o=>x.createElement(VS,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>x.createElement(VS,{key:o,zIndex:o,isPanorama:r})))}var hX=["children"];function mX(e,t){if(e==null)return{};var r,n,a=pX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(null,arguments)}var vX={width:"100%",height:"100%",display:"block"},gX=x.forwardRef((e,t)=>{var r=pk(),n=vk(),a=jk();if(!un(r)||!un(n))return null;var{children:i,otherAttributes:o,title:l,desc:s}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),x.createElement(TA,uf({},o,{title:l,desc:s,role:d,tabIndex:u,width:r,height:n,style:vX,ref:t}),i)}),yX=e=>{var{children:t}=e,r=Y(ah);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return x.createElement(TA,{width:n,height:a,x:o,y:i},t)},FS=x.forwardRef((e,t)=>{var{children:r}=e,n=mX(e,hX),a=Jt();return a?x.createElement(yX,null,x.createElement(GS,{isPanorama:!0},r)):x.createElement(gX,uf({ref:t},n),x.createElement(GS,{isPanorama:!1},r))});function bX(){var e=We(),[t,r]=x.useState(null),n=Y(KL);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Be(i)&&i!==n&&e(OL(i))}},[t,e,n]),r}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){wX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wX(e,t,r){return(t=_X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(null,arguments)}var jX=()=>(GW(),null);function cf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var EX=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,o]=x.useState({containerWidth:cf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:cf((n=e.style)===null||n===void 0?void 0:n.height)}),l=x.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),s=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=p=>{var{width:y,height:g}=p[0].contentRect;l(y,g)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return x.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),x.createElement(x.Fragment,null,x.createElement(oh,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Pi({ref:s},e)))}),OX=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:cf(r),containerHeight:cf(n)}),o=x.useCallback((s,u)=>{i(d=>{var f=Math.round(s),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=x.useCallback(s=>{if(typeof t=="function"&&t(s),s!=null){var{width:u,height:d}=s.getBoundingClientRect();o(u,d)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(oh,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Pi({ref:l},e)))}),CX=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(oh,{width:r,height:n}),x.createElement("div",Pi({ref:t},e)))}),AX=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Un(r)||Un(n)?x.createElement(OX,Pi({},e,{ref:t})):x.createElement(CX,Pi({},e,{ref:t}))});function TX(e){return e===!0?EX:AX}var kX=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:s,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:y,style:g,width:b,responsive:v,dispatchTouchEvents:w=!0}=e,_=x.useRef(null),S=We(),[j,E]=x.useState(null),[O,A]=x.useState(null),k=bX(),T=e0(),C=(T==null?void 0:T.width)>0?T.width:b,R=(T==null?void 0:T.height)>0?T.height:a,B=x.useCallback(z=>{k(z),typeof t=="function"&&t(z),E(z),A(z),z!=null&&(_.current=z)},[k,t,E,A]),K=x.useCallback(z=>{S(UN(z)),S(wr({handler:i,reactEvent:z}))},[S,i]),N=x.useCallback(z=>{S(dg(z)),S(wr({handler:u,reactEvent:z}))},[S,u]),L=x.useCallback(z=>{S(PP()),S(wr({handler:d,reactEvent:z}))},[S,d]),U=x.useCallback(z=>{S(dg(z)),S(wr({handler:f,reactEvent:z}))},[S,f]),H=x.useCallback(()=>{S(GN())},[S]),X=x.useCallback(z=>{S(VN(z.key))},[S]),et=x.useCallback(z=>{S(wr({handler:o,reactEvent:z}))},[S,o]),Ke=x.useCallback(z=>{S(wr({handler:l,reactEvent:z}))},[S,l]),M=x.useCallback(z=>{S(wr({handler:s,reactEvent:z}))},[S,s]),q=x.useCallback(z=>{S(wr({handler:h,reactEvent:z}))},[S,h]),te=x.useCallback(z=>{S(wr({handler:y,reactEvent:z}))},[S,y]),se=x.useCallback(z=>{w&&S(YN(z)),S(wr({handler:p,reactEvent:z}))},[S,w,p]),ae=x.useCallback(z=>{S(wr({handler:m,reactEvent:z}))},[S,m]),yt=TX(v);return x.createElement(ZP.Provider,{value:j},x.createElement(H4.Provider,{value:O},x.createElement(yt,{width:C??(g==null?void 0:g.width),height:R??(g==null?void 0:g.height),className:Pe("recharts-wrapper",n),style:xX({position:"relative",cursor:"default",width:C,height:R},g),onClick:K,onContextMenu:et,onDoubleClick:Ke,onFocus:H,onKeyDown:X,onMouseDown:M,onMouseEnter:N,onMouseLeave:L,onMouseMove:U,onMouseUp:q,onTouchEnd:ae,onTouchMove:se,onTouchStart:te,ref:B},x.createElement(jX,null),r)))}),PX=["width","height","responsive","children","className","style","compact","title","desc"];function NX(e,t){if(e==null)return{};var r,n,a=RX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MX=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:s,title:u,desc:d}=e,f=NX(e,PX),h=In(f);return s?x.createElement(x.Fragment,null,x.createElement(oh,{width:r,height:n}),x.createElement(FS,{otherAttributes:h,title:u,desc:d},i)):x.createElement(kX,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(FS,{otherAttributes:h,title:u,desc:d,ref:t},x.createElement(wG,null,i)))});function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(null,arguments)}var DX={top:5,right:5,bottom:5,left:5},zX={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:DX,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},BX=x.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,zX),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,eventEmitter:void 0};return x.createElement(uX,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},x.createElement(dG,{chartData:u.data}),x.createElement(dX,{layout:a.layout,margin:a.margin}),x.createElement(fX,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(MX,fg({},a,{ref:r})))}),$X=["axis","item"],IX=x.forwardRef((e,t)=>x.createElement(BX,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$X,tooltipPayloadSearcher:PW,categoricalChartProps:e,ref:t}));function LX({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,s]=x.useState(null);x.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),s(null);try{const{data:h,error:m}=await $.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const y=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(g=>{const b=Number(h[g.key]),v=b?t*b:0;return{name:g.name,geracao:Math.round(v),factor:b}});a(y)}catch(h){console.error("Irradiance error:",h),s("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return x.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):c.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[c.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:"Estimativa de Gerao Mensal"}),c.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",c.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),c.jsx("div",{style:{width:"100%",height:300},children:c.jsx(gU,{children:c.jsxs(IX,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[c.jsx(PN,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),c.jsx(IN,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),c.jsx(LN,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),c.jsx(tK,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),c.jsx(BN,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>c.jsx(nb,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),c.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}function UX({usina:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=x.useState([]),[o,l]=x.useState([]),[s,u]=x.useState(!1),[d,f]=x.useState(!1),h=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],m=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],p=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],y=(M,q,te)=>{let se=[];for(let ae=M;ae<=q;ae+=te)se.push(ae);return se},g=y(460,800,5),b=[...y(1e3,7e3,1e3),7500,9e3,1e4,12500,...y(15e3,75e3,5e3),...y(1e5,3e5,25e3)],[v,w]=x.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[_,S]=x.useState([]),[j,E]=x.useState([]),[O,A]=x.useState(0),k=j.reduce((M,q)=>M+(Number(q.consumo_medio_kwh)||Number(q.franquia)||0),0);x.useEffect(()=>{const M=Number(v.qtd_modulos)||0,q=Number(v.potencia_modulos_w)||0,te=M*q/1e3;A(Number(te.toFixed(2)))},[v.qtd_modulos,v.potencia_modulos_w]),x.useEffect(()=>{var M,q,te,se,ae,yt,z;R(),B(),e&&(w({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?K(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((M=e.address)==null?void 0:M.cep)||"",rua:((q=e.address)==null?void 0:q.rua)||"",numero:((te=e.address)==null?void 0:te.numero)||"",bairro:((se=e.address)==null?void 0:se.bairro)||"",cidade:((ae=e.address)==null?void 0:ae.cidade)||"",uf:((yt=e.address)==null?void 0:yt.uf)||"",ibge_code:e.ibge_code||((z=e.address)==null?void 0:z.ibge)||"",concessionaria:e.concessionaria||""}),T(e.id))},[e]),x.useEffect(()=>{v.concessionaria?C():S([])},[v.concessionaria,e==null?void 0:e.id]);const T=async M=>{const{data:q}=await $.from("consumer_units").select("*").eq("usina_id",M);q&&E(q)},C=async()=>{let M=$.from("consumer_units").select("id, numero_uc, titular_conta, usina_id, concessionaria, status, consumo_medio_kwh").eq("concessionaria",v.concessionaria);const{data:q,error:te}=await M;if(q){const se=q.filter(ae=>(ae.usina_id===null||e&&ae.usina_id===e.id)&&(ae.status==="em_ativacao"||ae.status==="Em Ativao"||ae.usina_id===(e==null?void 0:e.id)));S(se)}},R=async()=>{const{data:M}=await $.from("suppliers").select("id, name").order("name");i(M||[])},B=async()=>{const{data:M}=await $.from("inverter_brands").select("name").order("name");l(M||[])},K=M=>M?(Number(M.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"",N=M=>{const q=M.target.value.replace(/\D/g,"");if(!q){w({...v,valor_investido:""});return}const se=(Number(q)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});w({...v,valor_investido:se})},L=M=>{if(!M)return 0;const q=M.replace(/[^\d,]/g,"");return Number(q.replace(",","."))||0},U=M=>{w(q=>{const te=q.servicos_contratados||[];return te.includes(M)?{...q,servicos_contratados:te.filter(se=>se!==M)}:{...q,servicos_contratados:[...te,M]}})},H=async()=>{const M=v.cep.replace(/\D/g,"");if(M.length===8){f(!0);try{const q=await Ha(M);if(w(te=>({...te,rua:q.rua||"",bairro:q.bairro||"",cidade:q.cidade||"",uf:q.uf||"",ibge_code:q.ibge||""})),q.ibge){const te=await ou(q.ibge);te&&te.Concessionaria&&w(se=>({...se,concessionaria:te.Concessionaria}))}}catch(q){console.error("Erro CEP",q)}finally{f(!1)}}},X=x.useCallback(M=>{M&&w(q=>M!==Number(q.geracao_estimada_kwh)?{...q,geracao_estimada_kwh:M}:q)},[]),et=async()=>{if(confirm("Excluir esta usina?")){u(!0);try{const{error:M}=await $.from("usinas").delete().eq("id",e.id);if(M)throw M;n&&n(e.id),t()}catch(M){alert("Erro ao excluir: "+M.message)}finally{u(!1)}}},Ke=async M=>{M.preventDefault(),u(!0);try{const q=L(v.valor_investido),te={supplier_id:v.supplier_id||null,name:v.name,concessionaria:v.concessionaria,status:v.status,modalidade:v.modalidade,valor_investido:q,potencia_kwp:Number(O),qtd_modulos:Number(v.qtd_modulos),potencia_modulos_w:Number(v.potencia_modulos_w),fabricante_inversor:v.fabricante_inversor,potencia_inversor_w:Number(v.potencia_inversor_w),geracao_estimada_kwh:Number(v.geracao_estimada_kwh),servicos_contratados:v.servicos_contratados,service_values:v.service_values,gestao_percentual:Number(v.gestao_percentual),ibge_code:v.ibge_code,address:{cep:v.cep,rua:v.rua,numero:v.numero,bairro:v.bairro,cidade:v.cidade,uf:v.uf,ibge:v.ibge_code}};let se=e==null?void 0:e.id,ae=null;if(e!=null&&e.id){const{data:yt,error:z}=await $.from("usinas").update(te).eq("id",e.id).select().single();z?ae=z:yt&&(se=yt.id)}else{const{data:yt,error:z}=await $.from("usinas").insert(te).select().single();z?ae=z:yt&&(se=yt.id)}if(ae)throw ae;if(se&&(await $.from("consumer_units").update({usina_id:null}).eq("usina_id",se),j.length>0)){const yt=j.map(z=>z.id);await $.from("consumer_units").update({usina_id:se}).in("id",yt)}r({id:se}),t()}catch(q){console.error("Save error:",q),alert("Erro ao salvar usina: "+(q.message||JSON.stringify(q)))}finally{u(!1)}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Usina":"Nova Usina"}),c.jsxs("form",{onSubmit:Ke,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome da Usina"}),c.jsx("input",{required:!0,value:v.name,onChange:M=>w({...v,name:M.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Localizao"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),c.jsx("input",{value:v.cep,onChange:M=>w({...v,cep:M.target.value}),onBlur:H,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:d?"#f0f9ff":"white"}})]}),c.jsxs("div",{style:{flex:3},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),c.jsx("input",{value:`${v.cidade} / ${v.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria (Auto)"}),c.jsx("input",{value:v.concessionaria,readOnly:!0,placeholder:"Preenchido via CEP",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f1f5f9"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Detalhes Tcnicos"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsx("select",{value:v.status,onChange:M=>w({...v,status:M.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:h.map(M=>c.jsx("option",{value:M.value,children:M.label},M.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Modalidade"}),c.jsx("select",{value:v.modalidade,onChange:M=>w({...v,modalidade:M.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:m.map(M=>c.jsx("option",{value:M.value,children:M.label},M.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Fornecedor"}),c.jsxs("select",{required:!0,value:v.supplier_id,onChange:M=>w({...v,supplier_id:M.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),a.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Valor Investido"}),c.jsx("input",{value:v.valor_investido,onChange:N,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Mdulos e Inversores"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Qtd. de Mdulos"}),c.jsx("input",{type:"number",value:v.qtd_modulos,onChange:M=>w({...v,qtd_modulos:M.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Potncia Mdulo (W)"}),c.jsxs("select",{value:v.potencia_modulos_w,onChange:M=>w({...v,potencia_modulos_w:M.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),g.map(M=>c.jsxs("option",{value:M,children:[M," W"]},M))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Fabricante Inversor"}),c.jsxs("select",{value:v.fabricante_inversor,onChange:M=>w({...v,fabricante_inversor:M.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),o.map(M=>c.jsx("option",{value:M.name,children:M.name},M.name))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Potncia Inversor (W)"}),c.jsxs("select",{value:v.potencia_inversor_w,onChange:M=>w({...v,potencia_inversor_w:M.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),b.map(M=>c.jsxs("option",{value:M,children:[M," W"]},M))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"var(--color-orange)"},children:"Potncia Total (kWp) - Calc"}),c.jsx("input",{value:O,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#fff7ed",fontWeight:"bold"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Gerao Estimada (kWh)"}),c.jsx("input",{type:"number",value:v.geracao_estimada_kwh,onChange:M=>w({...v,geracao_estimada_kwh:M.target.value}),placeholder:"Calculado automaticamente",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#eef2ff"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f9fafb",padding:"1rem",borderRadius:"8px",border:"1px solid #eee"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:"bold",color:"var(--color-blue)"},children:"Vincular Unidades Consumidoras"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"#555",marginBottom:"0.5rem",background:"#e0f2fe",padding:"0.5rem",borderRadius:"4px"},children:["Total ",c.jsx("strong",{children:j.length})," UCs conectadas | Total ",c.jsx("strong",{children:k.toFixed(2)})," kWh/ms"]}),!v.concessionaria&&c.jsx("p",{style:{fontSize:"0.8rem",color:"#666"},children:"Defina o CEP/Concessionria para ver UCs disponveis."}),v.concessionaria&&_.length===0&&c.jsx("p",{style:{fontSize:"0.8rem",color:"#666"},children:"Nenhuma UC disponvel (Em Ativao) para esta concessionria."}),_.length>0&&c.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem"},children:_.map(M=>{var te;const q=j.some(se=>se.id===M.id);return c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",padding:"0.4rem",border:q?"1px solid var(--color-blue)":"1px solid #ddd",borderRadius:"4px",background:q?"#eff6ff":"white"},children:[c.jsx("input",{type:"checkbox",checked:q,onChange:se=>{se.target.checked?E([...j,M]):E(j.filter(ae=>ae.id!==M.id))}}),c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold"},children:M.numero_uc}),c.jsxs("div",{style:{fontSize:"0.75rem",color:"#555"},children:[(te=M.titular_conta)==null?void 0:te.substring(0,15),"..."]}),M.consumo_medio_kwh&&c.jsxs("div",{style:{fontSize:"0.7rem",color:"green"},children:["Cap: ",M.consumo_medio_kwh," kWh"]})]})]},M.id)})})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Gesto e Servios"}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Servios Contratados"}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:p.map(M=>{var te;const q=v.servicos_contratados.includes(M);return c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.9rem",width:"150px",cursor:"pointer"},children:[c.jsx("input",{type:"checkbox",checked:q,onChange:()=>U(M)}),M]}),q&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("input",{placeholder:"Valor (R$)",value:K(((te=v.service_values)==null?void 0:te[M])||""),onChange:se=>{const ae=L(se.target.value);w(yt=>({...yt,service_values:{...yt.service_values,[M]:ae}}))},style:{padding:"0.3rem",border:"1px solid #ddd",borderRadius:"4px",width:"100px"}}),M==="Gesto"&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem",marginLeft:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.8rem"},children:"Taxa (%):"}),c.jsx("input",{type:"number",step:"0.01",value:v.gestao_percentual,onChange:se=>w({...v,gestao_percentual:se.target.value}),style:{padding:"0.3rem",border:"1px solid #ddd",borderRadius:"4px",width:"60px"}})]})]})]},M)})})]}),c.jsx("div",{style:{gridColumn:"1 / -1"},children:c.jsx(LX,{ibgeCode:v.ibge_code,potenciaKwp:O,onCalculate:X})}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[c.jsx("div",{children:e&&n&&c.jsx("button",{type:"button",onClick:et,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:s,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:s?"Salvando...":"Salvar Usina"})]})]})]})]})})}function qX(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(null),[s,u]=x.useState(""),[d,f]=x.useState("kanban"),h=e.filter(b=>{var w,_,S,j,E,O,A;if(!s)return!0;const v=s.toLowerCase();return((w=b.name)==null?void 0:w.toLowerCase().includes(v))||((_=b.concessionaria)==null?void 0:_.toLowerCase().includes(v))||((j=(S=b.supplier)==null?void 0:S.name)==null?void 0:j.toLowerCase().includes(v))||((E=b.status)==null?void 0:E.toLowerCase().includes(v))||((A=(O=b.address)==null?void 0:O.cidade)==null?void 0:A.toLowerCase().includes(v))});x.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:b,error:v}=await $.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(v)throw v;t(b||[])}catch(b){console.error("Erro usinas",b)}finally{n(!1)}},p=()=>{m(),i(!1)},y=b=>{t(e.filter(v=>v.id!==b)),i(!1)},g=b=>{switch(b){case"gerando":return{bg:"#dcfce7",color:"#166534"};case"em_conexao":return{bg:"#ffedd5",color:"#9a3412"};case"manutencao":return{bg:"#fee2e2",color:"#991b1b"};case"inativa":return{bg:"#f1f5f9",color:"#64748b"};case"cancelada":return{bg:"#f1f5f9",color:"#94a3b8"};default:return{bg:"#f1f5f9",color:"#64748b"}}};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Usinas Geradoras"}),c.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[c.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:s,onChange:b=>u(b.target.value),className:"input",style:{maxWidth:"400px"}}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>f("list"),className:`btn ${d==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>f("kanban"),className:`btn ${d==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:d==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:h.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome / Concessionria"}),c.jsx("th",{children:"Fornecedor"}),c.jsx("th",{children:"Cidade"}),c.jsx("th",{children:"Gerao / Potncia"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:h.map(b=>{var w,_,S,j;const v=g(b.status);return c.jsxs("tr",{children:[c.jsxs("td",{style:{fontWeight:"bold"},children:[c.jsx("div",{children:b.name}),c.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:b.concessionaria||"-"})]}),c.jsx("td",{children:((w=b.supplier)==null?void 0:w.name)||"-"}),c.jsxs("td",{children:[(_=b.address)==null?void 0:_.cidade,"/",(S=b.address)==null?void 0:S.uf]}),c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:b.geracao_estimada_kwh?`${b.geracao_estimada_kwh} kWh/ms`:"-"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",b.potencia_kwp," kWp"]})]}),c.jsx("td",{children:c.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:v.bg,color:v.color,textTransform:"uppercase"},children:(j=b.status)==null?void 0:j.replace("_"," ")})}),c.jsx("td",{children:c.jsx("button",{onClick:()=>{l(b),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},b.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["em_planejamento","em_construcao","em_conexao","gerando","manutencao","inativa"].map(b=>{const v=h.filter(_=>_.status===b),w=g(b);return c.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${w.color}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:w.color},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:b.replace("_"," ")}),c.jsx("span",{style:{fontSize:"0.8rem",background:w.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:v.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:v.map(_=>{var S,j,E;return c.jsxs("div",{onClick:()=>{l(_),i(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:_.name}),c.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria})]}),c.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((S=_.supplier)==null?void 0:S.name)||"Sem Fornecedor"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"},children:[c.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.2rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[c.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),c.jsxs("div",{style:{fontWeight:"bold"},children:[_.potencia_kwp," kWp"]})]}),c.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.2rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[c.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),c.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[_.geracao_estimada_kwh," kWh"]})]})]}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:c.jsxs("span",{children:[(j=_.address)==null?void 0:j.cidade,"/",(E=_.address)==null?void 0:E.uf]})})]},_.id)})})]},b)})})}),a&&c.jsx(UX,{usina:o,onClose:()=>i(!1),onSave:p,onDelete:y})]})}function HX(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState("kanban"),[s,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(new Date().toISOString().substring(0,7)),[p,y]=x.useState(null);x.useEffect(()=>{g(),b()},[h]);const g=async()=>{i(!0);try{const[A,k]=h.split("-"),T=`${A}-${k}-01`,C=new Date(A,k,0).getDate(),R=`${A}-${k}-${C}`,{data:B,error:K}=await $.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",T).lte("mes_referencia",R).order("vencimento",{ascending:!0});if(K)throw K;t(B||[])}catch(A){console.error("Error fetching invoices:",A),alert("Erro ao carregar faturas.")}finally{i(!1)}},b=async()=>{const{data:A,error:k}=await $.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta").eq("status","ativo").order("titular_conta");k||n(A||[])},v=()=>{u(null),f(!0)},w=A=>{u(A),f(!0)},_=()=>{g(),f(!1)},S=async A=>{var k;if(confirm(`Gerar boleto Asaas para a fatura de ${(k=A.consumer_units)==null?void 0:k.titular_conta}?`)){y(A.id);try{const T=await Mf(A.id);T.url&&(alert("Boleto gerado com sucesso!"),window.open(T.url,"_blank"),g())}catch(T){console.error(T),alert("Erro ao gerar boleto: "+T.message)}finally{y(null)}}},j=async A=>{if(confirm("Tem certeza que deseja excluir esta fatura?"))try{const{error:k}=await $.from("invoices").delete().eq("id",A);if(k)throw k;g()}catch(k){console.error("Erro ao excluir fatura:",k),alert("Erro ao excluir fatura: "+k.message)}},E=A=>Number(A||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),O=A=>{const k={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:$5},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:L5},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:z5}},T=k[A]||k.a_vencer,C=T.icon;return c.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:T.bg,color:T.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[c.jsx(C,{size:12})," ",T.label]})};return c.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),c.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),c.jsxs("button",{onClick:v,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(wA,{size:18})," Nova Fatura"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[c.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[c.jsx(F5,{size:18}),c.jsx("span",{style:{fontWeight:"bold"},children:"Filtrar por Ms:"})]}),c.jsx("input",{type:"month",value:h,onChange:A=>m(A.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}})]}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>l("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>l("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),a?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:o==="list"?c.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{style:{background:"#f8fafc"},children:c.jsxs("tr",{children:[c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),c.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),c.jsx("tbody",{children:e.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):e.map(A=>{var k,T,C;return c.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[c.jsx("td",{style:{padding:"1rem"},children:O(A.status)}),c.jsx("td",{style:{padding:"1rem",color:"#334155"},children:A.vencimento?new Date(A.vencimento).toLocaleDateString("pt-BR"):"-"}),c.jsxs("td",{style:{padding:"1rem"},children:[c.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((k=A.consumer_units)==null?void 0:k.numero_uc)||"N/A"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(T=A.consumer_units)==null?void 0:T.titular_conta," (",(C=A.consumer_units)==null?void 0:C.concessionaria,")"]})]}),c.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(A.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),c.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:E(A.valor_a_pagar)}),c.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[A.asaas_boleto_url?c.jsxs("a",{href:A.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[c.jsx(vd,{size:14})," Boleto"]}):c.jsx("button",{onClick:()=>S(A),disabled:p===A.id,style:{background:p===A.id?"#f1f5f9":"#fff7ed",color:p===A.id?"#94a3b8":"#c2410c",border:p===A.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:p===A.id?"Gerando...":c.jsxs(c.Fragment,{children:[c.jsx(Df,{size:14})," Emitir"]})}),c.jsx("button",{onClick:()=>w(A),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),c.jsx("button",{onClick:()=>j(A.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:c.jsx(f4,{size:16})})]})})]},A.id)})})]})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(A=>{const k=e.filter(R=>R.status===A),T={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},C=T[A]||T.a_vencer;return c.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${C.color}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:C.color},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:C.label}),c.jsx("span",{style:{fontSize:"0.8rem",background:C.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:E(k.reduce((R,B)=>R+(Number(B.valor_a_pagar)||0),0))})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:k.map(R=>{var B,K;return c.jsxs("div",{onClick:()=>w(R),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:N=>N.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:N=>N.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(B=R.consumer_units)==null?void 0:B.numero_uc}),c.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",R.vencimento?new Date(R.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),c.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(K=R.consumer_units)==null?void 0:K.titular_conta}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),c.jsxs("div",{children:[Number(R.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:E(R.valor_a_pagar)})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:R.asaas_boleto_url?c.jsxs("a",{href:R.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:N=>N.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[c.jsx(vd,{size:14})," Boleto"]}):c.jsx("button",{onClick:N=>{N.stopPropagation(),S(R)},className:"btn",disabled:p===R.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:p===R.id?"...":"Emitir"})})]},R.id)})})]},A)})})}),d&&c.jsx(SA,{invoice:s,ucs:r,onClose:()=>f(!1),onSave:_})]})}function WX(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(""),[o,l]=x.useState("kanban"),[s,u]=x.useState(!1),[d,f]=x.useState(null),h=e.filter(g=>{var v,w,_,S,j,E,O;if(!a)return!0;const b=a.toLowerCase();return((v=g.numero_uc)==null?void 0:v.toLowerCase().includes(b))||((_=(w=g.subscriber)==null?void 0:w.name)==null?void 0:_.toLowerCase().includes(b))||((S=g.concessionaria)==null?void 0:S.toLowerCase().includes(b))||((E=(j=g.address)==null?void 0:j.cidade)==null?void 0:E.toLowerCase().includes(b))||((O=g.status)==null?void 0:O.toLowerCase().includes(b))});x.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:g,error:b}=await $.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(b)throw b;t(g||[])}catch(g){console.error("Error fetching UCs:",g)}finally{n(!1)}},p=g=>{m(),u(!1)},y=g=>{t(e.filter(b=>b.id!==g)),u(!1)};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),c.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[c.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:g=>i(g.target.value),className:"input",style:{maxWidth:"400px"}}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>l("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>l("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:o==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:h.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"UC"}),c.jsx("th",{children:"Concessionria"}),c.jsx("th",{children:"Assinante"}),c.jsx("th",{children:"Franquia"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Cidade"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:h.map(g=>{var b,v,w,_,S;return c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold"},children:g.numero_uc}),c.jsx("td",{style:{color:"var(--color-text-medium)"},children:g.concessionaria||"-"}),c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold"},children:((b=g.subscriber)==null?void 0:b.name)||"-"}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(v=g.subscriber)==null?void 0:v.cpf_cnpj})]}),c.jsx("td",{children:g.franquia?`${Number(g.franquia).toLocaleString("pt-BR")} kWh`:"-"}),c.jsx("td",{children:c.jsx("span",{className:"badge",style:{background:g.status==="ativo"?"var(--color-success-light)":"var(--color-bg-light)",color:g.status==="ativo"?"var(--color-success)":"var(--color-text-light)"},children:(w=g.status)==null?void 0:w.toUpperCase()})}),c.jsxs("td",{children:[(_=g.address)==null?void 0:_.cidade," / ",(S=g.address)==null?void 0:S.uf]}),c.jsx("td",{children:c.jsx("button",{onClick:()=>{f(g),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},g.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["analise","ativo","inativo"].map(g=>{const b=h.filter(_=>(_.status||"analise")===g),w={analise:"#eab308",ativo:"#22c55e",inativo:"#94a3b8"}[g]||"#64748b";return c.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${w}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:w},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:g==="analise"?"Em Anlise":g}),c.jsx("span",{style:{fontSize:"0.8rem",background:w,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:b.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:b.map(_=>{var S,j,E;return c.jsxs("div",{onClick:()=>{f(_),u(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:_.numero_uc}),c.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria})]}),c.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((S=_.subscriber)==null?void 0:S.name)||"Sem Assinante"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[c.jsxs("span",{children:[(j=_.address)==null?void 0:j.cidade,"/",(E=_.address)==null?void 0:E.uf]}),c.jsx("span",{children:_.franquia?`${Number(_.franquia).toLocaleString("pt-BR")} kWh`:""})]})]},_.id)})})]},g)})})}),s&&c.jsx(jA,{consumerUnit:d,onClose:()=>u(!1),onSave:p,onDelete:y})]})}function KX({billing:e,onClose:t,onSave:r}){const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,s]=x.useState(!1),[u,d]=x.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=x.useState(0),m=["em_producao","fechado","liquidado"],p=E=>{if(!E&&E!==0)return"";const O=Number(E);return isNaN(O)?"":O.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},y=E=>{if(!E||typeof E!="string")return 0;const O=E.replace(/\D/g,"");return Number(O)/100},g=(E,O)=>{const A=O.replace(/\D/g,""),T=(Number(A)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(C=>({...C,[E]:T}))};x.useEffect(()=>{b(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:p(e.faturamento_mensal),faturas_pagas:p(e.faturas_pagas),custo_disponibilidade:p(e.custo_disponibilidade),manutencao:p(e.manutencao),gestao_reais:p(e.gestao_reais),arrendamento:p(e.arrendamento),servicos:p(e.servicos),total_despesas:p(e.total_despesas),saldo_receber:p(e.saldo_receber)}),v(e.usina_id))},[e]),x.useEffect(()=>{_()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const b=async()=>{const{data:E}=await $.from("usinas").select("id, name");a(E||[])},v=async E=>{if(!E)return;const{data:O}=await $.from("usinas").select("gestao_percentual").eq("id",E).single();O&&h(Number(O.gestao_percentual)||0)},w=async E=>{const O=E.target.value;d(A=>({...A,usina_id:O})),await v(O)},_=()=>{const E=y(u.faturas_pagas),O=y(u.custo_disponibilidade),A=y(u.manutencao),k=y(u.arrendamento),T=y(u.servicos);let C=0;f>0&&(C=E*(f/100));const R=O+A+C+k+T,B=E-R,K=y(u.gestao_reais),N=y(u.total_despesas),L=y(u.saldo_receber);Math.abs(K-C)<.01&&Math.abs(N-R)<.01&&Math.abs(L-B)<.01||d(U=>({...U,gestao_reais:p(C),total_despesas:p(R),saldo_receber:p(B)}))},S=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}s(!0);try{const{data:E,error:O}=await $.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(O)throw O;if(!E||E.length===0){alert("Nenhuma UC vinculada a esta usina."),s(!1);return}const A=E.map(H=>H.id),[k,T]=u.mes_referencia.split("-"),C=`${k}-${T}-01`,R=new Date(k,T,0).getDate(),B=`${k}-${T}-${R}`,{data:K,error:N}=await $.from("invoices").select("valor_a_pagar, status").in("uc_id",A).gte("mes_referencia",C).lte("mes_referencia",B);if(N)throw N;let L=0,U=0;K.forEach(H=>{const X=Number(H.valor_a_pagar)||0;L+=X,H.status==="pago"&&(U+=X)}),d(H=>({...H,faturamento_mensal:p(L),faturas_pagas:p(U)}))}catch(E){console.error("Reconciliation error:",E),alert("Erro ao buscar faturas: "+E.message)}finally{s(!1)}},j=async E=>{E.preventDefault(),o(!0);try{const O={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:y(u.faturamento_mensal),faturas_pagas:y(u.faturas_pagas),custo_disponibilidade:y(u.custo_disponibilidade),manutencao:y(u.manutencao),gestao_reais:y(u.gestao_reais),arrendamento:y(u.arrendamento),servicos:y(u.servicos),total_despesas:y(u.total_despesas),saldo_receber:y(u.saldo_receber)};let A;if(e!=null&&e.id?A=await $.from("generation_production").update(O).eq("id",e.id):A=await $.from("generation_production").insert(O),A.error)throw A.error;r(),t()}catch(O){console.error("Save error:",O),alert("Erro ao salvar: "+(O.message||JSON.stringify(O)))}finally{o(!1)}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),c.jsxs("form",{onSubmit:j,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),c.jsxs("select",{required:!0,value:u.usina_id,onChange:w,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[c.jsx("option",{value:"",children:"Selecione..."}),n.map(E=>c.jsx("option",{value:E.id,children:E.name},E.id))]})]}),c.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),c.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:E=>{const O=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${O}-${E.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((E,O)=>c.jsx("option",{value:E,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][O]},E))})]}),c.jsxs("div",{style:{width:"80px"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),c.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:E=>{const O=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${E.target.value}-${O}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(E,O)=>new Date().getFullYear()-2+O).map(E=>c.jsx("option",{value:E,children:E},E))})]})]}),c.jsxs("div",{style:{width:"150px"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),c.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:E=>d({...u,fechamento:E.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{width:"120px"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),c.jsx("select",{value:u.status,onChange:E=>d({...u,status:E.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(E=>c.jsx("option",{value:E,children:E.replace("_"," ").toUpperCase()},E))})]}),c.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:c.jsx("button",{type:"button",onClick:S,disabled:l||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:l?.7:1},children:l?"Buscando...":"Buscar Faturas"})})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),c.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:E=>d({...u,geracao_mensal_kwh:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),c.jsx("input",{type:"number",value:u.energia_compensada,onChange:E=>d({...u,energia_compensada:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),c.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:E=>g("faturamento_mensal",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),c.jsx("input",{type:"text",value:u.faturas_pagas,onChange:E=>g("faturas_pagas",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),c.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:E=>g("custo_disponibilidade",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),c.jsx("input",{type:"text",value:u.manutencao,onChange:E=>g("manutencao",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),c.jsx("input",{type:"text",value:u.arrendamento,onChange:E=>g("arrendamento",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),c.jsx("input",{type:"text",value:u.servicos,onChange:E=>g("servicos",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[c.jsxs("div",{children:[c.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),c.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),c.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[c.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),c.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[c.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function VX(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState("kanban"),[o,l]=x.useState(!1),[s,u]=x.useState(null);x.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:v,error:w}=await $.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});w?console.error("Error fetching billing:",w):t(v||[]),n(!1)},f=v=>{u(v),l(!0)},h=()=>{u(null),l(!0)},m=async v=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:w}=await $.from("generation_production").delete().eq("id",v);w?alert("Erro ao excluir"):d()},p=async v=>{var w;if(!v.saldo_receber||v.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${v.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:_,error:S}=await $.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",v.usina_id).single();if(S||!_||!_.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const j=_.supplier;if(!j.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:E,error:O}=await $.functions.invoke("transfer-asaas-pix",{body:{value:v.saldo_receber,pix_key:j.pix_key,pix_key_type:j.pix_key_type,description:`Pagamento Energia - ${v.mes_referencia} - ${_.name}`,operationType:"PIX"}});if(O)throw O;if(!E.success)throw new Error(E.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((w=E.data)==null?void 0:w.id)),d(),await $.from("generation_production").update({status:"liquidado"}).eq("id",v.id),d()}catch(_){console.error("Payment Error:",_),alert("Erro no pagamento: "+_.message)}finally{n(!1)}}},y=()=>{d(),l(!1)},g=v=>{if(!v)return"-";const[w,_]=v.split("-"),S=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],j=parseInt(_,10)-1;return`${S[j]||"-"} ${w}`},b=v=>Number(v||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return c.jsxs("div",{style:{padding:"2rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),c.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:a==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Ms Ref."}),c.jsx("th",{children:"Usina"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Gerao (kWh)"}),c.jsx("th",{children:"Compensado (kWh)"}),c.jsx("th",{children:"Faturado (R$)"}),c.jsx("th",{children:"Saldo a Receber (R$)"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:e.map(v=>{var w;return c.jsxs("tr",{children:[c.jsx("td",{children:g(v.mes_referencia)}),c.jsx("td",{children:((w=v.usinas)==null?void 0:w.name)||"-"}),c.jsx("td",{children:c.jsx("span",{className:"badge",style:{background:v.status==="liquidado"?"#dcfce7":v.status==="fechado"?"#e0f2fe":"#fef9c3",color:v.status==="liquidado"?"#166534":v.status==="fechado"?"#0369a1":"#854d0e"},children:v.status})}),c.jsxs("td",{children:[Number(v.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),c.jsxs("td",{children:[Number(v.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),c.jsx("td",{children:b(v.faturamento_mensal)}),c.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:b(v.saldo_receber)}),c.jsx("td",{children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>f(v),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),c.jsx("button",{onClick:()=>m(v.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),c.jsx("button",{onClick:()=>p(v),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},v.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(v=>{const w=e.filter(j=>j.status===v),S={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[v]||"#64748b";return c.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${S}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:S},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:v}),c.jsx("span",{style:{fontSize:"0.8rem",background:S,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:b(w.reduce((j,E)=>j+(Number(E.saldo_receber)||0),0))})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.map(j=>{var E;return c.jsxs("div",{onClick:()=>f(j),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(E=j.usinas)==null?void 0:E.name}),c.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:g(j.mes_referencia)})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),c.jsxs("div",{children:[Number(j.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:b(j.saldo_receber)})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:j.status!=="liquidado"&&c.jsx("button",{onClick:O=>{O.stopPropagation(),p(j)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},j.id)})})]},v)})})}),o&&c.jsx(KX,{billing:s,onClose:()=>l(!1),onSave:y})]})}function GX(){var m;const{profile:e,signOut:t}=Jr(),r=Bi(),[n,a]=x.useState("default"),[i,o]=x.useState(!1),[l,s]=x.useState(!1);x.useEffect(()=>{e&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e]);const u=async()=>{await t(),r("/login")},f=(p=>{if(!p)return[];const y=[];p!=="subscriber"&&y.push({id:"leads",label:"Leads",icon:t4}),["originator","coordinator","manager","admin","super_admin"].includes(p)&&(p==="originator"?(y.push({id:"originator_dashboard",label:"Minhas Comisses",icon:Nm}),y.push({id:"originators_list",label:"Equipe",icon:A1})):y.push({id:"originators_list",label:"Originadores",icon:A1})),p!=="lead"&&(p==="subscriber"?y.push({id:"subscriber_dashboard",label:"Meu Painel",icon:Nm}):y.push({id:"subscribers_list",label:"Assinantes",icon:v4})),p!=="lead"&&p!=="subscriber"&&y.push({id:"consumer_units",label:"Unidades Consumidoras",icon:X5}),y.push({id:"invoices",label:"Faturas",icon:vd});const b=["supplier","manager","admin","super_admin"];return b.includes(p)&&(p==="supplier"?y.push({id:"supplier_dashboard",label:"Meu Painel",icon:Nm}):y.push({id:"suppliers_list",label:"Fornecedores",icon:m4})),b.includes(p)&&y.push({id:"power_plants",label:"Usinas",icon:y4}),["supplier","manager","admin","super_admin"].includes(p)&&y.push({id:"billing",label:"Billing",icon:K5}),["admin","super_admin"].includes(p)&&y.push({id:"admin",label:"Gesto de Usurios",icon:s4}),y})(e==null?void 0:e.role),h=()=>{if(!e)return c.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return c.jsx(S4,{});case"subscriber_dashboard":return c.jsx(j4,{});case"originator_dashboard":return c.jsx(E4,{});case"supplier_dashboard":return c.jsx(O4,{});case"leads":return c.jsx(A4,{});case"subscribers_list":return c.jsx(T4,{});case"originators_list":return c.jsx(P4,{});case"suppliers_list":return c.jsx(R4,{});case"power_plants":return c.jsx(qX,{});case"consumer_units":return c.jsx(WX,{});case"invoices":return c.jsx(HX,{});case"billing":return c.jsx(VX,{});default:return c.jsxs("div",{style:{padding:"2rem"},children:[c.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),c.jsx("p",{children:"Selecione uma opo no menu."})]})}};return c.jsxs("div",{className:"dashboard-container",children:[c.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:c.jsx(n4,{size:24})}),i&&c.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),c.jsxs("aside",{className:`sidebar ${i?"open":""} ${l?"collapsed":""}`,children:[c.jsxs("div",{className:"sidebar-header",style:{justifyContent:l?"center":"space-between"},children:[!l&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),c.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),c.jsx("button",{onClick:()=>s(!l),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:l?c.jsx(M5,{size:20}):c.jsx(N5,{size:20})})]}),c.jsx("nav",{style:{flex:1,overflowY:"auto"},children:c.jsx("ul",{style:{listStyle:"none"},children:f.map(p=>{const y=p.icon;return c.jsx("li",{style:{marginBottom:"0.25rem"},children:c.jsxs("button",{onClick:()=>{a(p.id),o(!1)},title:l?p.label:"",className:`sidebar-link ${n===p.id?"active":""}`,style:{justifyContent:l?"center":"flex-start"},children:[c.jsx(y,{size:20,style:{marginRight:l?0:"0.75rem",flexShrink:0}}),!l&&c.jsx("span",{children:p.label})]})},p.id)})})}),c.jsxs("div",{className:"sidebar-footer",children:[!l&&c.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[c.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),c.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),c.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:l?"center":"flex-start"},children:[c.jsx(Q5,{size:20,style:{marginRight:l?0:"0.5rem"}}),!l&&c.jsx("span",{children:"Sair"})]})]})]}),c.jsx("main",{className:"main-content",children:h()})]})}function FX(){const[e]=mC(),t=Bi(),r=e.get("id"),[n,a]=x.useState("simulation"),[i,o]=x.useState(!1),[l,s]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),y=async()=>{if(m.cep.length>=8)try{o(!0);const v=await Ha(m.cep);if(p(w=>({...w,rua:v.rua||"",bairro:v.bairro||"",cidade:v.cidade||"",uf:v.uf||""})),v.ibge){const w=await ou(v.ibge);d(w)}}catch(v){console.error(v),alert("Erro ao buscar CEP")}finally{o(!1)}},g=async v=>{if(v.preventDefault(),!Wo(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const w=u&&u["Tarifa Concessionaria"]||.85,_=u&&u["Desconto Assinante"]||.1,S=parseFloat(m.consumo)*w,j=S*_;s({contaAtual:S,economiaMensal:j,anual:j*12});const{data:E,error:O}=await $.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:w,desconto_assinante:_,originator_id:r,status:"indicado"}).select().single();if(O)throw O;h(E.id),a("signup")}catch(w){alert("Erro na simulao: "+w.message)}finally{o(!1)}},b=async v=>{if(v.preventDefault(),!Ay(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!Wo(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:w,error:_}=await $.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(_)throw _;const{error:S}=await $.from("consumer_units").insert({subscriber_id:w.id,numero_uc:m.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(S)throw S;f&&await $.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(w){alert("Erro ao finalizar cadastro: "+w.message)}finally{o(!1)}};return c.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:c.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[c.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),c.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?c.jsxs("form",{onSubmit:g,children:[c.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),c.jsx("input",{value:m.cep,onChange:v=>p({...m,cep:v.target.value}),onBlur:y,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&c.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,u&&c.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),c.jsx("input",{value:m.nome,onChange:v=>p({...m,nome:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),c.jsx("input",{type:"email",value:m.email,onChange:v=>p({...m,email:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),c.jsx("input",{value:m.telefone,onChange:v=>p({...m,telefone:Ts(v.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),c.jsx("input",{type:"number",value:m.consumo,onChange:v=>p({...m,consumo:v.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):c.jsxs("form",{onSubmit:b,children:[l&&c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[c.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),c.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",l.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),c.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),c.jsx("input",{value:m.cpf_cnpj,onChange:v=>p({...m,cpf_cnpj:Cy(v.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),c.jsx("input",{value:m.nome,onChange:v=>p({...m,nome:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),c.jsx("input",{type:"email",value:m.email,onChange:v=>p({...m,email:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),c.jsx("input",{value:m.telefone,onChange:v=>p({...m,telefone:Ts(v.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),c.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),c.jsxs("div",{style:{width:"100px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),c.jsx("input",{value:m.numero,onChange:v=>p({...m,numero:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),c.jsx("input",{value:m.numero_uc,onChange:v=>p({...m,numero_uc:v.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const YX=()=>{const{user:e}=Jr();return e?c.jsx(Uz,{}):c.jsx(hC,{to:"/login",replace:!0})};function XX(){return c.jsx(Gz,{children:c.jsx(b4,{children:c.jsxs(Hz,{children:[c.jsx(oa,{path:"/login",element:c.jsx(w5,{})}),c.jsx(oa,{path:"/simulacao",element:c.jsx(S5,{})}),c.jsx(oa,{path:"/assine",element:c.jsx(j5,{})}),c.jsx(oa,{path:"/originador",element:c.jsx(FX,{})}),c.jsx(oa,{element:c.jsx(YX,{}),children:c.jsx(oa,{path:"/dashboard",element:c.jsx(GX,{})})}),c.jsx(oa,{path:"/",element:c.jsx(hC,{to:"/login",replace:!0})})]})})})}YD.createRoot(document.getElementById("root")).render(c.jsx(x.StrictMode,{children:c.jsx(XX,{})}));
