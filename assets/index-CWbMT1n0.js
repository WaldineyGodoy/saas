var aR=Object.defineProperty;var iR=(e,t,r)=>t in e?aR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var qh=(e,t,r)=>iR(e,typeof t!="symbol"?t+"":t,r);function tj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Yn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var nj={exports:{}},ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR=Symbol.for("react.transitional.element"),lR=Symbol.for("react.fragment");function aj(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:oR,type:e,key:n,ref:t!==void 0?t:null,props:r}}ff.Fragment=lR;ff.jsx=aj;ff.jsxs=aj;nj.exports=ff;var u=nj.exports,ij={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=Symbol.for("react.transitional.element"),sR=Symbol.for("react.portal"),uR=Symbol.for("react.fragment"),cR=Symbol.for("react.strict_mode"),dR=Symbol.for("react.profiler"),fR=Symbol.for("react.consumer"),hR=Symbol.for("react.context"),mR=Symbol.for("react.forward_ref"),pR=Symbol.for("react.suspense"),gR=Symbol.for("react.memo"),oj=Symbol.for("react.lazy"),vR=Symbol.for("react.activity"),wb=Symbol.iterator;function yR(e){return e===null||typeof e!="object"?null:(e=wb&&e[wb]||e["@@iterator"],typeof e=="function"?e:null)}var lj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sj=Object.assign,uj={};function rl(e,t,r){this.props=e,this.context=t,this.refs=uj,this.updater=r||lj}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cj(){}cj.prototype=rl.prototype;function yv(e,t,r){this.props=e,this.context=t,this.refs=uj,this.updater=r||lj}var bv=yv.prototype=new cj;bv.constructor=yv;sj(bv,rl.prototype);bv.isPureReactComponent=!0;var _b=Array.isArray;function lp(){}var Re={H:null,A:null,T:null,S:null},dj=Object.prototype.hasOwnProperty;function xv(e,t,r){var n=r.ref;return{$$typeof:vv,type:e,key:t,ref:n!==void 0?n:null,props:r}}function bR(e,t){return xv(e.type,t,e.props)}function wv(e){return typeof e=="object"&&e!==null&&e.$$typeof===vv}function xR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sb=/\/+/g;function Hh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xR(""+e.key):t.toString(36)}function wR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(lp,lp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function to(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vv:case sR:o=!0;break;case oj:return o=e._init,to(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+Hh(e,0):n,_b(a)?(r="",o!=null&&(r=o.replace(Sb,"$&/")+"/"),to(a,t,r,"",function(c){return c})):a!=null&&(wv(a)&&(a=bR(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Sb,"$&/")+"/")+o)),t.push(a)),1;o=0;var l=n===""?".":n+":";if(_b(e))for(var s=0;s<e.length;s++)n=e[s],i=l+Hh(n,s),o+=to(n,t,r,i,a);else if(s=yR(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=l+Hh(n,s++),o+=to(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return to(wR(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Tu(e,t,r){if(e==null)return e;var n=[],a=0;return to(e,n,"","",function(i){return t.call(r,i,a++)}),n}function _R(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jb=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},SR={map:Tu,forEach:function(e,t,r){Tu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tu(e,function(){t++}),t},toArray:function(e){return Tu(e,function(t){return t})||[]},only:function(e){if(!wv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Activity=vR;te.Children=SR;te.Component=rl;te.Fragment=uR;te.Profiler=dR;te.PureComponent=yv;te.StrictMode=cR;te.Suspense=pR;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;te.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Re.H.useMemoCache(e)}};te.cache=function(e){return function(){return e.apply(null,arguments)}};te.cacheSignal=function(){return null};te.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=sj({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!dj.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];n.children=o}return xv(e.type,a,n)};te.createContext=function(e){return e={$$typeof:hR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:fR,_context:e},e};te.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)dj.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),s=0;s<o;s++)l[s]=arguments[s+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return xv(e,i,a)};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:mR,render:e}};te.isValidElement=wv;te.lazy=function(e){return{$$typeof:oj,_payload:{_status:-1,_result:e},_init:_R}};te.memo=function(e,t){return{$$typeof:gR,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Re.T,r={};Re.T=r;try{var n=e(),a=Re.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(lp,jb)}catch(i){jb(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Re.T=t}};te.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};te.use=function(e){return Re.H.use(e)};te.useActionState=function(e,t,r){return Re.H.useActionState(e,t,r)};te.useCallback=function(e,t){return Re.H.useCallback(e,t)};te.useContext=function(e){return Re.H.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e,t){return Re.H.useDeferredValue(e,t)};te.useEffect=function(e,t){return Re.H.useEffect(e,t)};te.useEffectEvent=function(e){return Re.H.useEffectEvent(e)};te.useId=function(){return Re.H.useId()};te.useImperativeHandle=function(e,t,r){return Re.H.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Re.H.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Re.H.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Re.H.useMemo(e,t)};te.useOptimistic=function(e,t){return Re.H.useOptimistic(e,t)};te.useReducer=function(e,t,r){return Re.H.useReducer(e,t,r)};te.useRef=function(e){return Re.H.useRef(e)};te.useState=function(e){return Re.H.useState(e)};te.useSyncExternalStore=function(e,t,r){return Re.H.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Re.H.useTransition()};te.version="19.2.3";ij.exports=te;var w=ij.exports;const hf=Yn(w),fj=tj({__proto__:null,default:hf},[w]);var hj={exports:{}},mf={},mj={exports:{}},pj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var D=C.length;C.push(P);e:for(;0<D;){var U=D-1>>>1,W=C[U];if(0<a(W,P))C[U]=P,C[D]=W,D=U;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var P=C[0],D=C.pop();if(D!==P){C[0]=D;e:for(var U=0,W=C.length,ce=W>>>1;U<ce;){var de=2*(U+1)-1,oe=C[de],fe=de+1,se=C[fe];if(0>a(oe,D))fe<W&&0>a(se,oe)?(C[U]=se,C[fe]=D,U=fe):(C[U]=oe,C[de]=D,U=de);else if(fe<W&&0>a(se,D))C[U]=se,C[fe]=D,U=fe;else break e}}return P}function a(C,P){var D=C.sortIndex-P.sortIndex;return D!==0?D:C.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],c=[],d=1,f=null,h=3,m=!1,v=!1,x=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function _(C){for(var P=r(c);P!==null;){if(P.callback===null)n(c);else if(P.startTime<=C)n(c),P.sortIndex=P.expirationTime,t(s,P);else break;P=r(c)}}function j(C){if(x=!1,_(C),!v)if(r(s)!==null)v=!0,S||(S=!0,N());else{var P=r(c);P!==null&&q(j,P.startTime-C)}}var S=!1,E=-1,O=5,A=-1;function k(){return y?!0:!(e.unstable_now()-A<O)}function B(){if(y=!1,S){var C=e.unstable_now();A=C;var P=!0;try{e:{v=!1,x&&(x=!1,p(E),E=-1),m=!0;var D=h;try{t:{for(_(C),f=r(s);f!==null&&!(f.expirationTime>C&&k());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var W=U(f.expirationTime<=C);if(C=e.unstable_now(),typeof W=="function"){f.callback=W,_(C),P=!0;break t}f===r(s)&&n(s),_(C)}else n(s);f=r(s)}if(f!==null)P=!0;else{var ce=r(c);ce!==null&&q(j,ce.startTime-C),P=!1}}break e}finally{f=null,h=D,m=!1}P=void 0}}finally{P?N():S=!1}}}var N;if(typeof b=="function")N=function(){b(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,T=K.port2;K.port1.onmessage=B,N=function(){T.postMessage(null)}}else N=function(){g(B,0)};function q(C,P){E=g(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var D=h;h=P;try{return C()}finally{h=D}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=h;h=C;try{return P()}finally{h=D}},e.unstable_scheduleCallback=function(C,P,D){var U=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,C){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=D+W,C={id:d++,callback:P,priorityLevel:C,startTime:D,expirationTime:W,sortIndex:-1},D>U?(C.sortIndex=D,t(c,C),r(s)===null&&C===r(c)&&(x?(p(E),E=-1):x=!0,q(j,D-U))):(C.sortIndex=W,t(s,C),v||m||(v=!0,S||(S=!0,N()))),C},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(C){var P=h;return function(){var D=h;h=P;try{return C.apply(this,arguments)}finally{h=D}}}})(pj);mj.exports=pj;var jR=mj.exports,gj={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER=w;function vj(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function oa(){}var Dt={d:{f:oa,r:function(){throw Error(vj(522))},D:oa,C:oa,L:oa,m:oa,X:oa,S:oa,M:oa},p:0,findDOMNode:null},OR=Symbol.for("react.portal");function CR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:OR,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Fl=ER.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function pf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(vj(299));return CR(e,t,null,r)};$t.flushSync=function(e){var t=Fl.T,r=Dt.p;try{if(Fl.T=null,Dt.p=2,e)return e()}finally{Fl.T=t,Dt.p=r,Dt.d.f()}};$t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dt.d.C(e,t))};$t.prefetchDNS=function(e){typeof e=="string"&&Dt.d.D(e)};$t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=pf(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Dt.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=pf(t.as,t.crossOrigin);Dt.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dt.d.M(e)};$t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=pf(r,t.crossOrigin);Dt.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$t.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=pf(t.as,t.crossOrigin);Dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dt.d.m(e)};$t.requestFormReset=function(e){Dt.d.r(e)};$t.unstable_batchedUpdates=function(e,t){return e(t)};$t.useFormState=function(e,t,r){return Fl.H.useFormState(e,t,r)};$t.useFormStatus=function(){return Fl.H.useHostTransitionStatus()};$t.version="19.2.3";function yj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yj)}catch(e){console.error(e)}}yj(),gj.exports=$t;var _v=gj.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=jR,bj=w,AR=_v;function I(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _j(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eb(e){if(Ks(e)!==e)throw Error(I(188))}function TR(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Eb(a),e;if(i===n)return Eb(a),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Sj(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Sj(e),t!==null)return t;e=e.sibling}return null}var Me=Object.assign,kR=Symbol.for("react.element"),ku=Symbol.for("react.transitional.element"),Ll=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),jj=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),Ej=Symbol.for("react.consumer"),En=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),jv=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),dp=Symbol.for("react.activity"),PR=Symbol.for("react.memo_cache_sentinel"),Ob=Symbol.iterator;function El(e){return e===null||typeof e!="object"?null:(e=Ob&&e[Ob]||e["@@iterator"],typeof e=="function"?e:null)}var NR=Symbol.for("react.client.reference");function fp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===NR?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lo:return"Fragment";case sp:return"Profiler";case jj:return"StrictMode";case up:return"Suspense";case cp:return"SuspenseList";case dp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ll:return"Portal";case En:return e.displayName||"Context";case Ej:return(e._context.displayName||"Context")+".Consumer";case Sv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jv:return t=e.displayName||null,t!==null?t:fp(e.type)||"Memo";case sa:t=e._payload,e=e._init;try{return fp(e(t))}catch{}}return null}var Ul=Array.isArray,Q=bj.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=AR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,di={pending:!1,data:null,method:null,action:null},hp=[],so=-1;function dn(e){return{current:e}}function pt(e){0>so||(e.current=hp[so],hp[so]=null,so--)}function Te(e,t){so++,hp[so]=e.current,e.current=t}var on=dn(null),fs=dn(null),Ea=dn(null),Bc=dn(null);function Ic(e,t){switch(Te(Ea,t),Te(fs,e),Te(on,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nx(t),e=VO(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pt(on),Te(on,e)}function No(){pt(on),pt(fs),pt(Ea)}function mp(e){e.memoizedState!==null&&Te(Bc,e);var t=on.current,r=VO(t,e.type);t!==r&&(Te(fs,e),Te(on,r))}function $c(e){fs.current===e&&(pt(on),pt(fs)),Bc.current===e&&(pt(Bc),Ss._currentValue=di)}var Wh,Cb;function Xa(e){if(Wh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Wh=t&&t[1]||"",Cb=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wh+e+Cb}var Vh=!1;function Kh(e,t){if(!e||Vh)return"";Vh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var s=o.split(`
`),c=l.split(`
`);for(a=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===s.length||a===c.length)for(n=s.length-1,a=c.length-1;1<=n&&0<=a&&s[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(s[n]!==c[a]){if(n!==1||a!==1)do if(n--,a--,0>a||s[n]!==c[a]){var d=`
`+s[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{Vh=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Xa(r):""}function RR(e,t){switch(e.tag){case 26:case 27:case 5:return Xa(e.type);case 16:return Xa("Lazy");case 13:return e.child!==t&&t!==null?Xa("Suspense Fallback"):Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return Kh(e.type,!1);case 11:return Kh(e.type.render,!1);case 1:return Kh(e.type,!0);case 31:return Xa("Activity");default:return""}}function Ab(e){try{var t="",r=null;do t+=RR(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var pp=Object.prototype.hasOwnProperty,Ev=it.unstable_scheduleCallback,Gh=it.unstable_cancelCallback,MR=it.unstable_shouldYield,DR=it.unstable_requestPaint,cr=it.unstable_now,zR=it.unstable_getCurrentPriorityLevel,Oj=it.unstable_ImmediatePriority,Cj=it.unstable_UserBlockingPriority,Lc=it.unstable_NormalPriority,BR=it.unstable_LowPriority,Aj=it.unstable_IdlePriority,IR=it.log,$R=it.unstable_setDisableYieldValue,Gs=null,dr=null;function ya(e){if(typeof IR=="function"&&$R(e),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(Gs,e)}catch{}}var fr=Math.clz32?Math.clz32:qR,LR=Math.log,UR=Math.LN2;function qR(e){return e>>>=0,e===0?32:31-(LR(e)/UR|0)|0}var Pu=256,Nu=262144,Ru=4194304;function Za(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gf(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~i,n!==0?a=Za(n):(o&=l,o!==0?a=Za(o):r||(r=l&~e,r!==0&&(a=Za(r))))):(l=n&~i,l!==0?a=Za(l):o!==0?a=Za(o):r||(r=n&~e,r!==0&&(a=Za(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Fs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function HR(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tj(){var e=Ru;return Ru<<=1,!(Ru&62914560)&&(Ru=4194304),e}function Fh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ys(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function WR(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-fr(r),f=1<<d;l[d]=0,s[d]=-1;var h=c[d];if(h!==null)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&kj(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function kj(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function Pj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Nj(e,t){var r=t&-t;return r=r&42?1:Ov(r),r&(e.suspendedLanes|t)?0:r}function Ov(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Rj(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:rC(e.type))}function Tb(e,t){var r=pe.p;try{return pe.p=e,t()}finally{pe.p=r}}var La=Math.random().toString(36).slice(2),St="__reactFiber$"+La,Yt="__reactProps$"+La,nl="__reactContainer$"+La,gp="__reactEvents$"+La,VR="__reactListeners$"+La,KR="__reactHandles$"+La,kb="__reactResources$"+La,Xs="__reactMarker$"+La;function Av(e){delete e[St],delete e[Yt],delete e[gp],delete e[VR],delete e[KR]}function uo(e){var t=e[St];if(t)return t;for(var r=e.parentNode;r;){if(t=r[nl]||r[St]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bx(e);e!==null;){if(r=e[St])return r;e=Bx(e)}return t}e=r,r=e.parentNode}return null}function al(e){if(e=e[St]||e[nl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(I(33))}function _o(e){var t=e[kb];return t||(t=e[kb]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Xs]=!0}var Mj=new Set,Dj={};function Ri(e,t){Ro(e,t),Ro(e+"Capture",t)}function Ro(e,t){for(Dj[e]=t,e=0;e<t.length;e++)Mj.add(t[e])}var GR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pb={},Nb={};function FR(e){return pp.call(Nb,e)?!0:pp.call(Pb,e)?!1:GR.test(e)?Nb[e]=!0:(Pb[e]=!0,!1)}function vc(e,t,r){if(FR(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Mu(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function hn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Sr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YR(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vp(e){if(!e._valueTracker){var t=zj(e)?"checked":"value";e._valueTracker=YR(e,t,""+e[t])}}function Bj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Uc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var XR=/[\n"\\]/g;function Or(e){return e.replace(XR,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yp(e,t,r,n,a,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sr(t)):e.value!==""+Sr(t)&&(e.value=""+Sr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?bp(e,o,Sr(t)):r!=null?bp(e,o,Sr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Sr(l):e.removeAttribute("name")}function Ij(e,t,r,n,a,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){vp(e);return}r=r!=null?""+Sr(r):"",t=t!=null?""+Sr(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),vp(e)}function bp(e,t,r){t==="number"&&Uc(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function So(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $j(e,t,r){if(t!=null&&(t=""+Sr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Sr(r):""}function Lj(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(I(92));if(Ul(n)){if(1<n.length)throw Error(I(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Sr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),vp(e)}function Mo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ZR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rb(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||ZR.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Uj(e,t,r){if(t!=null&&typeof t!="object")throw Error(I(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&Rb(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&Rb(e,i,t[i])}function Tv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),QR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yc(e){return QR.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function On(){}var xp=null;function kv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var co=null,jo=null;function Mb(e){var t=al(e);if(t&&(e=t.stateNode)){var r=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(yp(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Or(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Yt]||null;if(!a)throw Error(I(90));yp(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&Bj(n)}break e;case"textarea":$j(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&So(e,!!r.multiple,t,!1)}}}var Yh=!1;function qj(e,t,r){if(Yh)return e(t,r);Yh=!0;try{var n=e(t);return n}finally{if(Yh=!1,(co!==null||jo!==null)&&(Af(),co&&(t=co,e=jo,jo=co=null,Mb(t),e)))for(t=0;t<e.length;t++)Mb(e[t])}}function hs(e,t){var r=e.stateNode;if(r===null)return null;var n=r[Yt]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wp=!1;if(Dn)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){wp=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{wp=!1}var ba=null,Pv=null,bc=null;function Hj(){if(bc)return bc;var e,t=Pv,r=t.length,n,a="value"in ba?ba.value:ba.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return bc=a.slice(e,1<n?1-n:void 0)}function xc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Du(){return!0}function Db(){return!1}function Xt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Du:Db,this.isPropagationStopped=Db,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),t}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=Xt(Mi),Zs=Me({},Mi,{view:0,detail:0}),eM=Xt(Zs),Xh,Zh,Cl,yf=Me({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cl&&(Cl&&e.type==="mousemove"?(Xh=e.screenX-Cl.screenX,Zh=e.screenY-Cl.screenY):Zh=Xh=0,Cl=e),Xh)},movementY:function(e){return"movementY"in e?e.movementY:Zh}}),zb=Xt(yf),tM=Me({},yf,{dataTransfer:0}),rM=Xt(tM),nM=Me({},Zs,{relatedTarget:0}),Jh=Xt(nM),aM=Me({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),iM=Xt(aM),oM=Me({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lM=Xt(oM),sM=Me({},Mi,{data:0}),Bb=Xt(sM),uM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dM[e])?!!t[e]:!1}function Nv(){return fM}var hM=Me({},Zs,{key:function(e){if(e.key){var t=uM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nv,charCode:function(e){return e.type==="keypress"?xc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mM=Xt(hM),pM=Me({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ib=Xt(pM),gM=Me({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nv}),vM=Xt(gM),yM=Me({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bM=Xt(yM),xM=Me({},yf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wM=Xt(xM),_M=Me({},Mi,{newState:0,oldState:0}),SM=Xt(_M),jM=[9,13,27,32],Rv=Dn&&"CompositionEvent"in window,Yl=null;Dn&&"documentMode"in document&&(Yl=document.documentMode);var EM=Dn&&"TextEvent"in window&&!Yl,Wj=Dn&&(!Rv||Yl&&8<Yl&&11>=Yl),$b=" ",Lb=!1;function Vj(e,t){switch(e){case"keyup":return jM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fo=!1;function OM(e,t){switch(e){case"compositionend":return Kj(t);case"keypress":return t.which!==32?null:(Lb=!0,$b);case"textInput":return e=t.data,e===$b&&Lb?null:e;default:return null}}function CM(e,t){if(fo)return e==="compositionend"||!Rv&&Vj(e,t)?(e=Hj(),bc=Pv=ba=null,fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wj&&t.locale!=="ko"?null:t.data;default:return null}}var AM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ub(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AM[e.type]:t==="textarea"}function Gj(e,t,r,n){co?jo?jo.push(n):jo=[n]:co=n,t=id(t,"onChange"),0<t.length&&(r=new vf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xl=null,ms=null;function TM(e){qO(e,0)}function bf(e){var t=ql(e);if(Bj(t))return e}function qb(e,t){if(e==="change")return t}var Fj=!1;if(Dn){var Qh;if(Dn){var em="oninput"in document;if(!em){var Hb=document.createElement("div");Hb.setAttribute("oninput","return;"),em=typeof Hb.oninput=="function"}Qh=em}else Qh=!1;Fj=Qh&&(!document.documentMode||9<document.documentMode)}function Wb(){Xl&&(Xl.detachEvent("onpropertychange",Yj),ms=Xl=null)}function Yj(e){if(e.propertyName==="value"&&bf(ms)){var t=[];Gj(t,ms,e,kv(e)),qj(TM,t)}}function kM(e,t,r){e==="focusin"?(Wb(),Xl=t,ms=r,Xl.attachEvent("onpropertychange",Yj)):e==="focusout"&&Wb()}function PM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bf(ms)}function NM(e,t){if(e==="click")return bf(t)}function RM(e,t){if(e==="input"||e==="change")return bf(t)}function MM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:MM;function ps(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!pp.call(t,a)||!pr(e[a],t[a]))return!1}return!0}function Vb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kb(e,t){var r=Vb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vb(r)}}function Xj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zj(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Uc(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Uc(e.document)}return t}function Mv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var DM=Dn&&"documentMode"in document&&11>=document.documentMode,ho=null,_p=null,Zl=null,Sp=!1;function Gb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sp||ho==null||ho!==Uc(n)||(n=ho,"selectionStart"in n&&Mv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zl&&ps(Zl,n)||(Zl=n,n=id(_p,"onSelect"),0<n.length&&(t=new vf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ho)))}function Ga(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mo={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},tm={},Jj={};Dn&&(Jj=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Di(e){if(tm[e])return tm[e];if(!mo[e])return e;var t=mo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Jj)return tm[e]=t[r];return e}var Qj=Di("animationend"),eE=Di("animationiteration"),tE=Di("animationstart"),zM=Di("transitionrun"),BM=Di("transitionstart"),IM=Di("transitioncancel"),rE=Di("transitionend"),nE=new Map,jp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jp.push("scrollEnd");function Zr(e,t){nE.set(e,t),Ri(t,[e])}var qc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_r=[],po=0,Dv=0;function xf(){for(var e=po,t=Dv=po=0;t<e;){var r=_r[t];_r[t++]=null;var n=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&aE(r,a,i)}}function wf(e,t,r,n){_r[po++]=e,_r[po++]=t,_r[po++]=r,_r[po++]=n,Dv|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function zv(e,t,r,n){return wf(e,t,r,n),Hc(e)}function zi(e,t){return wf(e,null,null,t),Hc(e)}function aE(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-fr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Hc(e){if(50<os)throw os=0,Vp=null,Error(I(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var go={};function $M(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new $M(e,t,r,n)}function Bv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function iE(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wc(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")Bv(e)&&(o=1);else if(typeof e=="string")o=WD(e,r,on.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case dp:return e=ar(31,r,t,a),e.elementType=dp,e.lanes=i,e;case lo:return fi(r.children,a,i,t);case jj:o=8,a|=24;break;case sp:return e=ar(12,r,t,a|2),e.elementType=sp,e.lanes=i,e;case up:return e=ar(13,r,t,a),e.elementType=up,e.lanes=i,e;case cp:return e=ar(19,r,t,a),e.elementType=cp,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case En:o=10;break e;case Ej:o=9;break e;case Sv:o=11;break e;case jv:o=14;break e;case sa:o=16,n=null;break e}o=29,r=Error(I(130,e===null?"null":typeof e,"")),n=null}return t=ar(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function fi(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function rm(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function oE(e){var t=ar(18,null,null,0);return t.stateNode=e,t}function nm(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fb=new WeakMap;function Cr(e,t){if(typeof e=="object"&&e!==null){var r=Fb.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Ab(t)},Fb.set(e,t),t)}return{value:e,source:t,stack:Ab(t)}}var vo=[],yo=0,Wc=null,gs=0,jr=[],Er=0,Da=null,tn=1,rn="";function xn(e,t){vo[yo++]=gs,vo[yo++]=Wc,Wc=e,gs=t}function lE(e,t,r){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Da,Da=e;var n=tn;e=rn;var a=32-fr(n)-1;n&=~(1<<a),r+=1;var i=32-fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,tn=1<<32-fr(t)+a|r<<a|n,rn=i+e}else tn=1<<i|r<<a|n,rn=e}function Iv(e){e.return!==null&&(xn(e,1),lE(e,1,0))}function $v(e){for(;e===Wc;)Wc=vo[--yo],vo[yo]=null,gs=vo[--yo],vo[yo]=null;for(;e===Da;)Da=jr[--Er],jr[Er]=null,rn=jr[--Er],jr[Er]=null,tn=jr[--Er],jr[Er]=null}function sE(e,t){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Da,tn=t.id,rn=t.overflow,Da=e}var jt=null,Ne=null,ue=!1,Oa=null,Ar=!1,Ep=Error(I(519));function za(e){var t=Error(I(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vs(Cr(t,e)),Ep}function Yb(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[St]=e,t[Yt]=n,r){case"dialog":ae("cancel",t),ae("close",t);break;case"iframe":case"object":case"embed":ae("load",t);break;case"video":case"audio":for(r=0;r<ws.length;r++)ae(ws[r],t);break;case"source":ae("error",t);break;case"img":case"image":case"link":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"input":ae("invalid",t),Ij(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ae("invalid",t);break;case"textarea":ae("invalid",t),Lj(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||WO(t.textContent,r)?(n.popover!=null&&(ae("beforetoggle",t),ae("toggle",t)),n.onScroll!=null&&ae("scroll",t),n.onScrollEnd!=null&&ae("scrollend",t),n.onClick!=null&&(t.onclick=On),t=!0):t=!1,t||za(e,!0)}function Xb(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:jt=jt.return}}function Vi(e){if(e!==jt)return!1;if(!ue)return Xb(e),ue=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Xp(e.type,e.memoizedProps)),r=!r),r&&Ne&&za(e),Xb(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));Ne=zx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));Ne=zx(e)}else t===27?(t=Ne,Ua(e.type)?(e=eg,eg=null,Ne=e):Ne=t):Ne=jt?Pr(e.stateNode.nextSibling):null;return!0}function xi(){Ne=jt=null,ue=!1}function am(){var e=Oa;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),Oa=null),e}function vs(e){Oa===null?Oa=[e]:Oa.push(e)}var Op=dn(null),Bi=null,Cn=null;function fa(e,t,r){Te(Op,t._currentValue),t._currentValue=r}function Pn(e){e._currentValue=Op.current,pt(Op)}function Cp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ap(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=a;for(var s=0;s<t.length;s++)if(l.context===t[s]){i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Cp(i.return,r,e),n||(o=null);break e}i=l.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Cp(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function il(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(I(387));if(o=o.memoizedProps,o!==null){var l=a.type;pr(a.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(a===Bc.current){if(o=a.alternate,o===null)throw Error(I(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Ss):e=[Ss])}a=a.return}e!==null&&Ap(t,e,r,n),t.flags|=262144}function Vc(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Bi=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return uE(Bi,e)}function zu(e,t){return Bi===null&&wi(e),uE(e,t)}function uE(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Cn===null){if(e===null)throw Error(I(308));Cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cn=Cn.next=t;return r}var LM=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},UM=it.unstable_scheduleCallback,qM=it.unstable_NormalPriority,Je={$$typeof:En,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lv(){return{controller:new LM,data:new Map,refCount:0}}function Js(e){e.refCount--,e.refCount===0&&UM(qM,function(){e.controller.abort()})}var Jl=null,Tp=0,Do=0,Eo=null;function HM(e,t){if(Jl===null){var r=Jl=[];Tp=0,Do=dy(),Eo={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Tp++,t.then(Zb,Zb),t}function Zb(){if(--Tp===0&&Jl!==null){Eo!==null&&(Eo.status="fulfilled");var e=Jl;Jl=null,Do=0,Eo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function WM(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var Jb=Q.S;Q.S=function(e,t){SO=cr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&HM(e,t),Jb!==null&&Jb(e,t)};var hi=dn(null);function Uv(){var e=hi.current;return e!==null?e:Se.pooledCache}function _c(e,t){t===null?Te(hi,hi.current):Te(hi,t.pool)}function cE(){var e=Uv();return e===null?null:{parent:Je._currentValue,pool:e}}var ol=Error(I(460)),qv=Error(I(474)),_f=Error(I(542)),Kc={then:function(){}};function Qb(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dE(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(On,On),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tx(e),e;default:if(typeof t.status=="string")t.then(On,On);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error(I(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tx(e),e}throw mi=t,ol}}function Ja(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(mi=r,ol):r}}var mi=null;function ex(){if(mi===null)throw Error(I(459));var e=mi;return mi=null,e}function tx(e){if(e===ol||e===_f)throw Error(I(483))}var Oo=null,ys=0;function Bu(e){var t=ys;return ys+=1,Oo===null&&(Oo=[]),dE(Oo,e,t)}function Al(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Iu(e,t){throw t.$$typeof===kR?Error(I(525)):(e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fE(e){function t(g,p){if(e){var b=g.deletions;b===null?(g.deletions=[p],g.flags|=16):b.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function a(g,p){return g=kn(g,p),g.index=0,g.sibling=null,g}function i(g,p,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<p?(g.flags|=67108866,p):b):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function l(g,p,b,_){return p===null||p.tag!==6?(p=rm(b,g.mode,_),p.return=g,p):(p=a(p,b),p.return=g,p)}function s(g,p,b,_){var j=b.type;return j===lo?d(g,p,b.props.children,_,b.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sa&&Ja(j)===p.type)?(p=a(p,b.props),Al(p,b),p.return=g,p):(p=wc(b.type,b.key,b.props,null,g.mode,_),Al(p,b),p.return=g,p)}function c(g,p,b,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=nm(b,g.mode,_),p.return=g,p):(p=a(p,b.children||[]),p.return=g,p)}function d(g,p,b,_,j){return p===null||p.tag!==7?(p=fi(b,g.mode,_,j),p.return=g,p):(p=a(p,b),p.return=g,p)}function f(g,p,b){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=rm(""+p,g.mode,b),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ku:return b=wc(p.type,p.key,p.props,null,g.mode,b),Al(b,p),b.return=g,b;case Ll:return p=nm(p,g.mode,b),p.return=g,p;case sa:return p=Ja(p),f(g,p,b)}if(Ul(p)||El(p))return p=fi(p,g.mode,b,null),p.return=g,p;if(typeof p.then=="function")return f(g,Bu(p),b);if(p.$$typeof===En)return f(g,zu(g,p),b);Iu(g,p)}return null}function h(g,p,b,_){var j=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return j!==null?null:l(g,p,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ku:return b.key===j?s(g,p,b,_):null;case Ll:return b.key===j?c(g,p,b,_):null;case sa:return b=Ja(b),h(g,p,b,_)}if(Ul(b)||El(b))return j!==null?null:d(g,p,b,_,null);if(typeof b.then=="function")return h(g,p,Bu(b),_);if(b.$$typeof===En)return h(g,p,zu(g,b),_);Iu(g,b)}return null}function m(g,p,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return g=g.get(b)||null,l(p,g,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ku:return g=g.get(_.key===null?b:_.key)||null,s(p,g,_,j);case Ll:return g=g.get(_.key===null?b:_.key)||null,c(p,g,_,j);case sa:return _=Ja(_),m(g,p,b,_,j)}if(Ul(_)||El(_))return g=g.get(b)||null,d(p,g,_,j,null);if(typeof _.then=="function")return m(g,p,b,Bu(_),j);if(_.$$typeof===En)return m(g,p,b,zu(p,_),j);Iu(p,_)}return null}function v(g,p,b,_){for(var j=null,S=null,E=p,O=p=0,A=null;E!==null&&O<b.length;O++){E.index>O?(A=E,E=null):A=E.sibling;var k=h(g,E,b[O],_);if(k===null){E===null&&(E=A);break}e&&E&&k.alternate===null&&t(g,E),p=i(k,p,O),S===null?j=k:S.sibling=k,S=k,E=A}if(O===b.length)return r(g,E),ue&&xn(g,O),j;if(E===null){for(;O<b.length;O++)E=f(g,b[O],_),E!==null&&(p=i(E,p,O),S===null?j=E:S.sibling=E,S=E);return ue&&xn(g,O),j}for(E=n(E);O<b.length;O++)A=m(E,g,O,b[O],_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?O:A.key),p=i(A,p,O),S===null?j=A:S.sibling=A,S=A);return e&&E.forEach(function(B){return t(g,B)}),ue&&xn(g,O),j}function x(g,p,b,_){if(b==null)throw Error(I(151));for(var j=null,S=null,E=p,O=p=0,A=null,k=b.next();E!==null&&!k.done;O++,k=b.next()){E.index>O?(A=E,E=null):A=E.sibling;var B=h(g,E,k.value,_);if(B===null){E===null&&(E=A);break}e&&E&&B.alternate===null&&t(g,E),p=i(B,p,O),S===null?j=B:S.sibling=B,S=B,E=A}if(k.done)return r(g,E),ue&&xn(g,O),j;if(E===null){for(;!k.done;O++,k=b.next())k=f(g,k.value,_),k!==null&&(p=i(k,p,O),S===null?j=k:S.sibling=k,S=k);return ue&&xn(g,O),j}for(E=n(E);!k.done;O++,k=b.next())k=m(E,g,O,k.value,_),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?O:k.key),p=i(k,p,O),S===null?j=k:S.sibling=k,S=k);return e&&E.forEach(function(N){return t(g,N)}),ue&&xn(g,O),j}function y(g,p,b,_){if(typeof b=="object"&&b!==null&&b.type===lo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ku:e:{for(var j=b.key;p!==null;){if(p.key===j){if(j=b.type,j===lo){if(p.tag===7){r(g,p.sibling),_=a(p,b.props.children),_.return=g,g=_;break e}}else if(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sa&&Ja(j)===p.type){r(g,p.sibling),_=a(p,b.props),Al(_,b),_.return=g,g=_;break e}r(g,p);break}else t(g,p);p=p.sibling}b.type===lo?(_=fi(b.props.children,g.mode,_,b.key),_.return=g,g=_):(_=wc(b.type,b.key,b.props,null,g.mode,_),Al(_,b),_.return=g,g=_)}return o(g);case Ll:e:{for(j=b.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){r(g,p.sibling),_=a(p,b.children||[]),_.return=g,g=_;break e}else{r(g,p);break}else t(g,p);p=p.sibling}_=nm(b,g.mode,_),_.return=g,g=_}return o(g);case sa:return b=Ja(b),y(g,p,b,_)}if(Ul(b))return v(g,p,b,_);if(El(b)){if(j=El(b),typeof j!="function")throw Error(I(150));return b=j.call(b),x(g,p,b,_)}if(typeof b.then=="function")return y(g,p,Bu(b),_);if(b.$$typeof===En)return y(g,p,zu(g,b),_);Iu(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,p!==null&&p.tag===6?(r(g,p.sibling),_=a(p,b),_.return=g,g=_):(r(g,p),_=rm(b,g.mode,_),_.return=g,g=_),o(g)):r(g,p)}return function(g,p,b,_){try{ys=0;var j=y(g,p,b,_);return Oo=null,j}catch(E){if(E===ol||E===_f)throw E;var S=ar(29,E,null,g.mode);return S.lanes=_,S.return=g,S}finally{}}}var _i=fE(!0),hE=fE(!1),ua=!1;function Hv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Hc(e),aE(e,null,r),t}return wf(e,n,t,r),Hc(e)}function Ql(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pj(e,r)}}function im(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Pp=!1;function es(){if(Pp){var e=Eo;if(e!==null)throw e}}function ts(e,t,r,n){Pp=!1;var a=e.updateQueue;ua=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,c=s.next;s.next=null,o===null?i=c:o.next=c,o=s;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=s))}if(i!==null){var f=a.baseState;o=0,d=c=s=null,l=i;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(le&h)===h:(n&h)===h){h!==0&&h===Do&&(Pp=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=e,x=l;h=t;var y=r;switch(x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=Me({},f,h);break e;case 2:ua=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,s=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(s=f),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),Ia|=o,e.lanes=o,e.memoizedState=f}}function mE(e,t){if(typeof e!="function")throw Error(I(191,e));e.call(t)}function pE(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)mE(r[e],t)}var zo=dn(null),Gc=dn(0);function rx(e,t){e=$n,Te(Gc,e),Te(zo,t),$n=e|t.baseLanes}function Np(){Te(Gc,$n),Te(zo,zo.current)}function Wv(){$n=Gc.current,pt(zo),pt(Gc)}var gr=dn(null),kr=null;function ha(e){var t=e.alternate;Te(Ve,Ve.current&1),Te(gr,e),kr===null&&(t===null||zo.current!==null||t.memoizedState!==null)&&(kr=e)}function Rp(e){Te(Ve,Ve.current),Te(gr,e),kr===null&&(kr=e)}function gE(e){e.tag===22?(Te(Ve,Ve.current),Te(gr,e),kr===null&&(kr=e)):ma()}function ma(){Te(Ve,Ve.current),Te(gr,gr.current)}function nr(e){pt(gr),kr===e&&(kr=null),pt(Ve)}var Ve=dn(0);function Fc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Jp(r)||Qp(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zn=0,re=null,we=null,Xe=null,Yc=!1,Co=!1,Si=!1,Xc=0,bs=0,Ao=null,VM=0;function Ue(){throw Error(I(321))}function Vv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pr(e[r],t[r]))return!1;return!0}function Kv(e,t,r,n,a,i){return zn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?GE:ny,Si=!1,i=r(n,a),Si=!1,Co&&(i=yE(t,r,n,a)),vE(e),i}function vE(e){Q.H=xs;var t=we!==null&&we.next!==null;if(zn=0,Xe=we=re=null,Yc=!1,bs=0,Ao=null,t)throw Error(I(300));e===null||Qe||(e=e.dependencies,e!==null&&Vc(e)&&(Qe=!0))}function yE(e,t,r,n){re=e;var a=0;do{if(Co&&(Ao=null),bs=0,Co=!1,25<=a)throw Error(I(301));if(a+=1,Xe=we=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Q.H=FE,i=t(r,n)}while(Co);return i}function KM(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?Qs(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(re.flags|=1024),t}function Gv(){var e=Xc!==0;return Xc=0,e}function Fv(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Yv(e){if(Yc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yc=!1}zn=0,Xe=we=re=null,Co=!1,bs=Xc=0,Ao=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ke(){if(we===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Xe===null?re.memoizedState:Xe.next;if(t!==null)Xe=t,we=e;else{if(e===null)throw re.alternate===null?Error(I(467)):Error(I(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(e){var t=bs;return bs+=1,Ao===null&&(Ao=[]),e=dE(Ao,e,t),t=re,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?GE:ny),e}function jf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qs(e);if(e.$$typeof===En)return Et(e)}throw Error(I(438,String(e)))}function Xv(e){var t=null,r=re.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=re.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Sf(),re.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=PR;return t.index++,r}function Bn(e,t){return typeof t=="function"?t(e):t}function Sc(e){var t=Ke();return Zv(t,we,e)}function Zv(e,t,r){var n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var l=o=null,s=null,c=t,d=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(le&f)===f:(zn&f)===f){var h=c.revertLane;if(h===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Do&&(d=!0);else if((zn&h)===h){c=c.next,h===Do&&(d=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},s===null?(l=s=f,o=i):s=s.next=f,re.lanes|=h,Ia|=h;f=c.action,Si&&r(i,f),i=c.hasEagerState?c.eagerState:r(i,f)}else h={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},s===null?(l=s=h,o=i):s=s.next=h,re.lanes|=f,Ia|=f;c=c.next}while(c!==null&&c!==t);if(s===null?o=i:s.next=l,!pr(i,e.memoizedState)&&(Qe=!0,d&&(r=Eo,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=s,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function om(e){var t=Ke(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pr(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function bE(e,t,r){var n=re,a=Ke(),i=ue;if(i){if(r===void 0)throw Error(I(407));r=r()}else r=t();var o=!pr((we||a).memoizedState,r);if(o&&(a.memoizedState=r,Qe=!0),a=a.queue,Jv(_E.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Bo(9,{destroy:void 0},wE.bind(null,n,a,r,t),null),Se===null)throw Error(I(349));i||zn&127||xE(n,t,r)}return r}function xE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=re.updateQueue,t===null?(t=Sf(),re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wE(e,t,r,n){t.value=r,t.getSnapshot=n,SE(t)&&jE(e)}function _E(e,t,r){return r(function(){SE(t)&&jE(e)})}function SE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pr(e,r)}catch{return!0}}function jE(e){var t=zi(e,2);t!==null&&Ft(t,e,2)}function Mp(e){var t=Nt();if(typeof e=="function"){var r=e;if(e=r(),Si){ya(!0);try{r()}finally{ya(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function EE(e,t,r,n){return e.baseState=r,Zv(e,we,typeof n=="function"?n:Bn)}function GM(e,t,r,n,a){if(Of(e))throw Error(I(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Q.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,OE(t,i)):(i.next=r.next,t.pending=r.next=i)}}function OE(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=Q.T,o={};Q.T=o;try{var l=r(a,n),s=Q.S;s!==null&&s(o,l),nx(e,t,l)}catch(c){Dp(e,t,c)}finally{i!==null&&o.types!==null&&(i.types=o.types),Q.T=i}}else try{i=r(a,n),nx(e,t,i)}catch(c){Dp(e,t,c)}}function nx(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){ax(e,t,n)},function(n){return Dp(e,t,n)}):ax(e,t,r)}function ax(e,t,r){t.status="fulfilled",t.value=r,CE(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,OE(e,r)))}function Dp(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,CE(t),t=t.next;while(t!==n)}e.action=null}function CE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function AE(e,t){return t}function ix(e,t){if(ue){var r=Se.formState;if(r!==null){e:{var n=re;if(ue){if(Ne){t:{for(var a=Ne,i=Ar;a.nodeType!==8;){if(!i){a=null;break t}if(a=Pr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ne=Pr(a.nextSibling),n=a.data==="F!";break e}}za(n)}n=!1}n&&(t=r[0])}}return r=Nt(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AE,lastRenderedState:t},r.queue=n,r=WE.bind(null,re,n),n.dispatch=r,n=Mp(!1),i=ry.bind(null,re,!1,n.queue),n=Nt(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=GM.bind(null,re,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function ox(e){var t=Ke();return TE(t,we,e)}function TE(e,t,r){if(t=Zv(e,t,AE)[0],e=Sc(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Qs(t)}catch(o){throw o===ol?_f:o}else n=t;t=Ke();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(re.flags|=2048,Bo(9,{destroy:void 0},FM.bind(null,a,r),null)),[n,i,e]}function FM(e,t){e.action=t}function lx(e){var t=Ke(),r=we;if(r!==null)return TE(t,r,e);Ke(),t=t.memoizedState,r=Ke();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Bo(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=re.updateQueue,t===null&&(t=Sf(),re.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function kE(){return Ke().memoizedState}function jc(e,t,r,n){var a=Nt();re.flags|=e,a.memoizedState=Bo(1|t,{destroy:void 0},r,n===void 0?null:n)}function Ef(e,t,r,n){var a=Ke();n=n===void 0?null:n;var i=a.memoizedState.inst;we!==null&&n!==null&&Vv(n,we.memoizedState.deps)?a.memoizedState=Bo(t,i,r,n):(re.flags|=e,a.memoizedState=Bo(1|t,i,r,n))}function sx(e,t){jc(8390656,8,e,t)}function Jv(e,t){Ef(2048,8,e,t)}function YM(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Sf(),re.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function PE(e){var t=Ke().memoizedState;return YM({ref:t,nextImpl:e}),function(){if(me&2)throw Error(I(440));return t.impl.apply(void 0,arguments)}}function NE(e,t){return Ef(4,2,e,t)}function RE(e,t){return Ef(4,4,e,t)}function ME(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DE(e,t,r){r=r!=null?r.concat([e]):null,Ef(4,4,ME.bind(null,t,e),r)}function Qv(){}function zE(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&Vv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function BE(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&Vv(t,n[1]))return n[0];if(n=e(),Si){ya(!0);try{e()}finally{ya(!1)}}return r.memoizedState=[n,t],n}function ey(e,t,r){return r===void 0||zn&1073741824&&!(le&261930)?e.memoizedState=t:(e.memoizedState=r,e=EO(),re.lanes|=e,Ia|=e,r)}function IE(e,t,r,n){return pr(r,t)?r:zo.current!==null?(e=ey(e,r,n),pr(e,t)||(Qe=!0),e):!(zn&42)||zn&1073741824&&!(le&261930)?(Qe=!0,e.memoizedState=r):(e=EO(),re.lanes|=e,Ia|=e,t)}function $E(e,t,r,n,a){var i=pe.p;pe.p=i!==0&&8>i?i:8;var o=Q.T,l={};Q.T=l,ry(e,!1,t,r);try{var s=a(),c=Q.S;if(c!==null&&c(l,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var d=WM(s,n);rs(e,t,d,hr(e))}else rs(e,t,n,hr(e))}catch(f){rs(e,t,{then:function(){},status:"rejected",reason:f},hr())}finally{pe.p=i,o!==null&&l.types!==null&&(o.types=l.types),Q.T=o}}function XM(){}function zp(e,t,r,n){if(e.tag!==5)throw Error(I(476));var a=LE(e).queue;$E(e,a,t,di,r===null?XM:function(){return UE(e),r(n)})}function LE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:di,baseState:di,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:di},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function UE(e){var t=LE(e);t.next===null&&(t=e.alternate.memoizedState),rs(e,t.next.queue,{},hr())}function ty(){return Et(Ss)}function qE(){return Ke().memoizedState}function HE(){return Ke().memoizedState}function ZM(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hr();e=Ca(r);var n=Aa(t,e,r);n!==null&&(Ft(n,t,r),Ql(n,t,r)),t={cache:Lv()},e.payload=t;return}t=t.return}}function JM(e,t,r){var n=hr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Of(e)?VE(t,r):(r=zv(e,t,r,n),r!==null&&(Ft(r,e,n),KE(r,t,n)))}function WE(e,t,r){var n=hr();rs(e,t,r,n)}function rs(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Of(e))VE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,pr(l,o))return wf(e,t,a,0),Se===null&&xf(),!1}catch{}finally{}if(r=zv(e,t,a,n),r!==null)return Ft(r,e,n),KE(r,t,n),!0}return!1}function ry(e,t,r,n){if(n={lane:2,revertLane:dy(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Of(e)){if(t)throw Error(I(479))}else t=zv(e,r,n,2),t!==null&&Ft(t,e,2)}function Of(e){var t=e.alternate;return e===re||t!==null&&t===re}function VE(e,t){Co=Yc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function KE(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pj(e,r)}}var xs={readContext:Et,use:jf,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};xs.useEffectEvent=Ue;var GE={readContext:Et,use:jf,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:sx,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,jc(4194308,4,ME.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jc(4194308,4,e,t)},useInsertionEffect:function(e,t){jc(4,2,e,t)},useMemo:function(e,t){var r=Nt();t=t===void 0?null:t;var n=e();if(Si){ya(!0);try{e()}finally{ya(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Nt();if(r!==void 0){var a=r(t);if(Si){ya(!0);try{r(t)}finally{ya(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=JM.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=Mp(e);var t=e.queue,r=WE.bind(null,re,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Qv,useDeferredValue:function(e,t){var r=Nt();return ey(r,e,t)},useTransition:function(){var e=Mp(!1);return e=$E.bind(null,re,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=re,a=Nt();if(ue){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Se===null)throw Error(I(349));le&127||xE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,sx(_E.bind(null,n,i,e),[e]),n.flags|=2048,Bo(9,{destroy:void 0},wE.bind(null,n,i,r,t),null),r},useId:function(){var e=Nt(),t=Se.identifierPrefix;if(ue){var r=rn,n=tn;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Xc++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=VM++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ty,useFormState:ix,useActionState:ix,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=ry.bind(null,re,!0,r),r.dispatch=t,[e,t]},useMemoCache:Xv,useCacheRefresh:function(){return Nt().memoizedState=ZM.bind(null,re)},useEffectEvent:function(e){var t=Nt(),r={impl:e};return t.memoizedState=r,function(){if(me&2)throw Error(I(440));return r.impl.apply(void 0,arguments)}}},ny={readContext:Et,use:jf,useCallback:zE,useContext:Et,useEffect:Jv,useImperativeHandle:DE,useInsertionEffect:NE,useLayoutEffect:RE,useMemo:BE,useReducer:Sc,useRef:kE,useState:function(){return Sc(Bn)},useDebugValue:Qv,useDeferredValue:function(e,t){var r=Ke();return IE(r,we.memoizedState,e,t)},useTransition:function(){var e=Sc(Bn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:bE,useId:qE,useHostTransitionStatus:ty,useFormState:ox,useActionState:ox,useOptimistic:function(e,t){var r=Ke();return EE(r,we,e,t)},useMemoCache:Xv,useCacheRefresh:HE};ny.useEffectEvent=PE;var FE={readContext:Et,use:jf,useCallback:zE,useContext:Et,useEffect:Jv,useImperativeHandle:DE,useInsertionEffect:NE,useLayoutEffect:RE,useMemo:BE,useReducer:om,useRef:kE,useState:function(){return om(Bn)},useDebugValue:Qv,useDeferredValue:function(e,t){var r=Ke();return we===null?ey(r,e,t):IE(r,we.memoizedState,e,t)},useTransition:function(){var e=om(Bn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:bE,useId:qE,useHostTransitionStatus:ty,useFormState:lx,useActionState:lx,useOptimistic:function(e,t){var r=Ke();return we!==null?EE(r,we,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Xv,useCacheRefresh:HE};FE.useEffectEvent=PE;function lm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bp={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Ca(n);a.payload=t,r!=null&&(a.callback=r),t=Aa(e,a,n),t!==null&&(Ft(t,e,n),Ql(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Ca(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Aa(e,a,n),t!==null&&(Ft(t,e,n),Ql(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Ca(r);n.tag=2,t!=null&&(n.callback=t),t=Aa(e,n,r),t!==null&&(Ft(t,e,r),Ql(t,e,r))}};function ux(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ps(r,n)||!ps(a,i):!0}function cx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bp.enqueueReplaceState(t,t.state,null)}function ji(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Me({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function YE(e){qc(e)}function XE(e){console.error(e)}function ZE(e){qc(e)}function Zc(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function dx(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ip(e,t,r){return r=Ca(r),r.tag=3,r.payload={element:null},r.callback=function(){Zc(e,t)},r}function JE(e){return e=Ca(e),e.tag=3,e}function QE(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){dx(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){dx(t,r,n),typeof a!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function QM(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&il(t,r,a,!0),r=gr.current,r!==null){switch(r.tag){case 31:case 13:return kr===null?rd():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Kc?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),ym(e,n,a)),!1;case 22:return r.flags|=65536,n===Kc?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),ym(e,n,a)),!1}throw Error(I(435,r.tag))}return ym(e,n,a),rd(),!1}if(ue)return t=gr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Ep&&(e=Error(I(422),{cause:n}),vs(Cr(e,r)))):(n!==Ep&&(t=Error(I(423),{cause:n}),vs(Cr(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Cr(n,r),a=Ip(e.stateNode,n,a),im(e,a),He!==4&&(He=2)),!1;var i=Error(I(520),{cause:n});if(i=Cr(i,r),is===null?is=[i]:is.push(i),He!==4&&(He=2),t===null)return!0;n=Cr(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=Ip(r.stateNode,n,e),im(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ta===null||!Ta.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=JE(a),QE(a,e,r,n),im(r,a),!1}r=r.return}while(r!==null);return!1}var ay=Error(I(461)),Qe=!1;function xt(e,t,r,n){t.child=e===null?hE(t,null,r,n):_i(t,e.child,r,n)}function fx(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}else o=n;return wi(t),n=Kv(e,t,r,o,i,a),l=Gv(),e!==null&&!Qe?(Fv(e,t,a),In(e,t,a)):(ue&&l&&Iv(t),t.flags|=1,xt(e,t,n,a),t.child)}function hx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Bv(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,eO(e,t,i,n,a)):(e=wc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!iy(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ps,r(o,n)&&e.ref===t.ref)return In(e,t,a)}return t.flags|=1,e=kn(i,n),e.ref=t.ref,e.return=t,t.child=e}function eO(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ps(i,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=i,iy(e,a))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,In(e,t,a)}return $p(e,t,r,n,a)}function tO(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return mx(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_c(t,i!==null?i.cachePool:null),i!==null?rx(t,i):Np(),gE(t);else return n=t.lanes=536870912,mx(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(_c(t,i.cachePool),rx(t,i),ma(),t.memoizedState=null):(e!==null&&_c(t,null),Np(),ma());return xt(e,t,a,r),t.child}function Hl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function mx(e,t,r,n,a){var i=Uv();return i=i===null?null:{parent:Je._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&_c(t,null),Np(),gE(t),e!==null&&il(e,t,n,!0),t.childLanes=a,null}function Ec(e,t){return t=Jc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function px(e,t,r){return _i(t,e.child,null,r),e=Ec(t,t.pendingProps),e.flags|=2,nr(t),t.memoizedState=null,e}function eD(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ue){if(n.mode==="hidden")return e=Ec(t,n),t.lanes=536870912,Hl(null,e);if(Rp(t),(e=Ne)?(e=GO(e,Ar),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Da!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=oE(e),r.return=t,t.child=r,jt=t,Ne=null)):e=null,e===null)throw za(t);return t.lanes=536870912,null}return Ec(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Rp(t),a)if(t.flags&256)t.flags&=-257,t=px(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(I(558));else if(Qe||il(e,t,r,!1),a=(r&e.childLanes)!==0,Qe||a){if(n=Se,n!==null&&(o=Nj(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,zi(e,o),Ft(n,e,o),ay;rd(),t=px(e,t,r)}else e=i.treeContext,Ne=Pr(o.nextSibling),jt=t,ue=!0,Oa=null,Ar=!1,e!==null&&sE(t,e),t=Ec(t,n),t.flags|=4096;return t}return e=kn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Oc(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(I(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function $p(e,t,r,n,a){return wi(t),r=Kv(e,t,r,n,void 0,a),n=Gv(),e!==null&&!Qe?(Fv(e,t,a),In(e,t,a)):(ue&&n&&Iv(t),t.flags|=1,xt(e,t,r,a),t.child)}function gx(e,t,r,n,a,i){return wi(t),t.updateQueue=null,r=yE(t,n,r,a),vE(e),n=Gv(),e!==null&&!Qe?(Fv(e,t,i),In(e,t,i)):(ue&&n&&Iv(t),t.flags|=1,xt(e,t,r,i),t.child)}function vx(e,t,r,n,a){if(wi(t),t.stateNode===null){var i=go,o=r.contextType;typeof o=="object"&&o!==null&&(i=Et(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Bp,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Hv(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Et(o):go,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(lm(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Bp.enqueueReplaceState(i,i.state,null),ts(t,n,i,a),es(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,s=ji(r,l);i.props=s;var c=i.context,d=r.contextType;o=go,typeof d=="object"&&d!==null&&(o=Et(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||c!==o)&&cx(t,i,n,o),ua=!1;var h=t.memoizedState;i.state=h,ts(t,n,i,a),es(),c=t.memoizedState,l||h!==c||ua?(typeof f=="function"&&(lm(t,r,f,n),c=t.memoizedState),(s=ua||ux(t,r,s,n,h,c,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=o,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,kp(e,t),o=t.memoizedProps,d=ji(r,o),i.props=d,f=t.pendingProps,h=i.context,c=r.contextType,s=go,typeof c=="object"&&c!==null&&(s=Et(c)),l=r.getDerivedStateFromProps,(c=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==s)&&cx(t,i,n,s),ua=!1,h=t.memoizedState,i.state=h,ts(t,n,i,a),es();var m=t.memoizedState;o!==f||h!==m||ua||e!==null&&e.dependencies!==null&&Vc(e.dependencies)?(typeof l=="function"&&(lm(t,r,l,n),m=t.memoizedState),(d=ua||ux(t,r,d,n,h,m,s)||e!==null&&e.dependencies!==null&&Vc(e.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=s,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Oc(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=_i(t,e.child,null,a),t.child=_i(t,null,r,a)):xt(e,t,r,a),t.memoizedState=i.state,e=t.child):e=In(e,t,a),e}function yx(e,t,r,n){return xi(),t.flags|=256,xt(e,t,r,n),t.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(e){return{baseLanes:e,cachePool:cE()}}function cm(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=sr),e}function rO(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(ue){if(a?ha(t):ma(),(e=Ne)?(e=GO(e,Ar),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Da!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=oE(e),r.return=t,t.child=r,jt=t,Ne=null)):e=null,e===null)throw za(t);return Qp(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,a?(ma(),a=t.mode,l=Jc({mode:"hidden",children:l},a),n=fi(n,a,r,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=um(r),n.childLanes=cm(e,o,r),t.memoizedState=sm,Hl(null,n)):(ha(t),Lp(t,l))}var s=e.memoizedState;if(s!==null&&(l=s.dehydrated,l!==null)){if(i)t.flags&256?(ha(t),t.flags&=-257,t=dm(e,t,r)):t.memoizedState!==null?(ma(),t.child=e.child,t.flags|=128,t=null):(ma(),l=n.fallback,a=t.mode,n=Jc({mode:"visible",children:n.children},a),l=fi(l,a,r,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,_i(t,e.child,null,r),n=t.child,n.memoizedState=um(r),n.childLanes=cm(e,o,r),t.memoizedState=sm,t=Hl(null,n));else if(ha(t),Qp(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var c=o.dgst;o=c,n=Error(I(419)),n.stack="",n.digest=o,vs({value:n,source:null,stack:null}),t=dm(e,t,r)}else if(Qe||il(e,t,r,!1),o=(r&e.childLanes)!==0,Qe||o){if(o=Se,o!==null&&(n=Nj(o,r),n!==0&&n!==s.retryLane))throw s.retryLane=n,zi(e,n),Ft(o,e,n),ay;Jp(l)||rd(),t=dm(e,t,r)}else Jp(l)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,Ne=Pr(l.nextSibling),jt=t,ue=!0,Oa=null,Ar=!1,e!==null&&sE(t,e),t=Lp(t,n.children),t.flags|=4096);return t}return a?(ma(),l=n.fallback,a=t.mode,s=e.child,c=s.sibling,n=kn(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,c!==null?l=kn(c,l):(l=fi(l,a,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,Hl(null,n),n=t.child,l=e.child.memoizedState,l===null?l=um(r):(a=l.cachePool,a!==null?(s=Je._currentValue,a=a.parent!==s?{parent:s,pool:s}:a):a=cE(),l={baseLanes:l.baseLanes|r,cachePool:a}),n.memoizedState=l,n.childLanes=cm(e,o,r),t.memoizedState=sm,Hl(e.child,n)):(ha(t),r=e.child,e=r.sibling,r=kn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function Lp(e,t){return t=Jc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jc(e,t){return e=ar(22,e,null,t),e.lanes=0,e}function dm(e,t,r){return _i(t,e.child,null,r),e=Lp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Cp(e.return,t,r)}function fm(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function nO(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Ve.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,Te(Ve,o),xt(e,t,n,r),n=ue?gs:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bx(e,r,t);else if(e.tag===19)bx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Fc(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),fm(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Fc(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}fm(t,!0,r,null,i,n);break;case"together":fm(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function In(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,!(r&t.childLanes))if(e!==null){if(il(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function iy(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Vc(e)))}function tD(e,t,r){switch(t.tag){case 3:Ic(t,t.stateNode.containerInfo),fa(t,Je,e.memoizedState.cache),xi();break;case 27:case 5:mp(t);break;case 4:Ic(t,t.stateNode.containerInfo);break;case 10:fa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Rp(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ha(t),t.flags|=128,null):r&t.child.childLanes?rO(e,t,r):(ha(t),e=In(e,t,r),e!==null?e.sibling:null);ha(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(il(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return nO(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Te(Ve,Ve.current),n)break;return null;case 22:return t.lanes=0,tO(e,t,r,t.pendingProps);case 24:fa(t,Je,e.memoizedState.cache)}return In(e,t,r)}function aO(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!iy(e,r)&&!(t.flags&128))return Qe=!1,tD(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,ue&&t.flags&1048576&&lE(t,gs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Ja(t.elementType),t.type=e,typeof e=="function")Bv(e)?(n=ji(e,n),t.tag=1,t=vx(null,t,e,n,r)):(t.tag=0,t=$p(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===Sv){t.tag=11,t=fx(null,t,e,n,r);break e}else if(a===jv){t.tag=14,t=hx(null,t,e,n,r);break e}}throw t=fp(e)||e,Error(I(306,t,""))}}return t;case 0:return $p(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=ji(n,t.pendingProps),vx(e,t,n,a,r);case 3:e:{if(Ic(t,t.stateNode.containerInfo),e===null)throw Error(I(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,kp(e,t),ts(t,n,null,r);var o=t.memoizedState;if(n=o.cache,fa(t,Je,n),n!==i.cache&&Ap(t,[Je],r,!0),es(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=yx(e,t,n,r);break e}else if(n!==a){a=Cr(Error(I(424)),t),vs(a),t=yx(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=Pr(e.firstChild),jt=t,ue=!0,Oa=null,Ar=!0,r=hE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(xi(),n===a){t=In(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 26:return Oc(e,t),e===null?(r=$x(t.type,null,t.pendingProps,null))?t.memoizedState=r:ue||(r=t.type,e=t.pendingProps,n=od(Ea.current).createElement(r),n[St]=t,n[Yt]=e,Ct(n,r,e),mt(n),t.stateNode=n):t.memoizedState=$x(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return mp(t),e===null&&ue&&(n=t.stateNode=FO(t.type,t.pendingProps,Ea.current),jt=t,Ar=!0,a=Ne,Ua(t.type)?(eg=a,Ne=Pr(n.firstChild)):Ne=a),xt(e,t,t.pendingProps.children,r),Oc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ue&&((a=n=Ne)&&(n=PD(n,t.type,t.pendingProps,Ar),n!==null?(t.stateNode=n,jt=t,Ne=Pr(n.firstChild),Ar=!1,a=!0):a=!1),a||za(t)),mp(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,Xp(a,i)?n=null:o!==null&&Xp(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=Kv(e,t,KM,null,null,r),Ss._currentValue=a),Oc(e,t),xt(e,t,n,r),t.child;case 6:return e===null&&ue&&((e=r=Ne)&&(r=ND(r,t.pendingProps,Ar),r!==null?(t.stateNode=r,jt=t,Ne=null,e=!0):e=!1),e||za(t)),null;case 13:return rO(e,t,r);case 4:return Ic(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_i(t,null,n,r):xt(e,t,n,r),t.child;case 11:return fx(e,t,t.type,t.pendingProps,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,fa(t,t.type,n.value),xt(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,wi(t),a=Et(a),n=n(a),t.flags|=1,xt(e,t,n,r),t.child;case 14:return hx(e,t,t.type,t.pendingProps,r);case 15:return eO(e,t,t.type,t.pendingProps,r);case 19:return nO(e,t,r);case 31:return eD(e,t,r);case 22:return tO(e,t,r,t.pendingProps);case 24:return wi(t),n=Et(Je),e===null?(a=Uv(),a===null&&(a=Se,i=Lv(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},Hv(t),fa(t,Je,a)):(e.lanes&r&&(kp(e,t),ts(t,null,null,r),es()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),fa(t,Je,n)):(n=i.cache,fa(t,Je,n),n!==a.cache&&Ap(t,[Je],r,!0))),xt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(I(156,t.tag))}function mn(e){e.flags|=4}function hm(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(AO())e.flags|=8192;else throw mi=Kc,qv}else e.flags&=-16777217}function xx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ZO(t))if(AO())e.flags|=8192;else throw mi=Kc,qv}function $u(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Tj():536870912,e.lanes|=t,Io|=t)}function Tl(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rD(e,t,r){var n=t.pendingProps;switch($v(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pn(Je),No(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,am())),ke(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(mn(t),i!==null?(ke(t),xx(t,i)):(ke(t),hm(t,a,null,n,r))):i?i!==e.memoizedState?(mn(t),ke(t),xx(t,i)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&mn(t),ke(t),hm(t,a,e,n,r)),null;case 27:if($c(t),r=Ea.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(I(166));return ke(t),null}e=on.current,Vi(t)?Yb(t):(e=FO(a,n,r),t.stateNode=e,mn(t))}return ke(t),null;case 5:if($c(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(I(166));return ke(t),null}if(i=on.current,Vi(t))Yb(t);else{var o=od(Ea.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[St]=t,i[Yt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ct(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&mn(t)}}return ke(t),hm(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(e=Ea.current,Vi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=jt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[St]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||WO(e.nodeValue,r)),e||za(t,!0)}else e=od(e).createTextNode(n),e[St]=t,t.stateNode=e}return ke(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Vi(t),r!==null){if(e===null){if(!n)throw Error(I(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(557));e[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else r=am(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(nr(t),t):(nr(t),null);if(t.flags&128)throw Error(I(558))}return ke(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Vi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),a=!1}else a=am(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(nr(t),t):(nr(t),null)}return nr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),$u(t,t.updateQueue),ke(t),null);case 4:return No(),e===null&&fy(t.stateNode.containerInfo),ke(t),null;case 10:return Pn(t.type),ke(t),null;case 19:if(pt(Ve),n=t.memoizedState,n===null)return ke(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Tl(n,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Fc(e),i!==null){for(t.flags|=128,Tl(n,!1),e=i.updateQueue,t.updateQueue=e,$u(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)iE(r,e),r=r.sibling;return Te(Ve,Ve.current&1|2),ue&&xn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&cr()>ed&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304)}else{if(!a)if(e=Fc(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,$u(t,e),Tl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ue)return ke(t),null}else 2*cr()-n.renderingStartTime>ed&&r!==536870912&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=cr(),e.sibling=null,r=Ve.current,Te(Ve,a?r&1|2:r&1),ue&&xn(t,n.treeForkCount),e):(ke(t),null);case 22:case 23:return nr(t),Wv(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),r=t.updateQueue,r!==null&&$u(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&pt(hi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Pn(Je),ke(t),null;case 25:return null;case 30:return null}throw Error(I(156,t.tag))}function nD(e,t){switch($v(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(Je),No(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $c(t),null;case 31:if(t.memoizedState!==null){if(nr(t),t.alternate===null)throw Error(I(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(Ve),null;case 4:return No(),null;case 10:return Pn(t.type),null;case 22:case 23:return nr(t),Wv(),e!==null&&pt(hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pn(Je),null;case 25:return null;default:return null}}function iO(e,t){switch($v(t),t.tag){case 3:Pn(Je),No();break;case 26:case 27:case 5:$c(t);break;case 4:No();break;case 31:t.memoizedState!==null&&nr(t);break;case 13:nr(t);break;case 19:pt(Ve);break;case 10:Pn(t.type);break;case 22:case 23:nr(t),Wv(),e!==null&&pt(hi);break;case 24:Pn(Je)}}function eu(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(l){ye(t,t.return,l)}}function Ba(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,a=t;var s=r,c=l;try{c()}catch(d){ye(a,s,d)}}}n=n.next}while(n!==i)}}catch(d){ye(t,t.return,d)}}function oO(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{pE(t,r)}catch(n){ye(e,e.return,n)}}}function lO(e,t,r){r.props=ji(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){ye(e,t,n)}}function ns(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){ye(e,t,a)}}function nn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){ye(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){ye(e,t,a)}else r.current=null}function sO(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){ye(e,e.return,a)}}function mm(e,t,r){try{var n=e.stateNode;ED(n,e.type,r,t),n[Yt]=t}catch(a){ye(e,e.return,a)}}function uO(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function pm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Up(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=On));else if(n!==4&&(n===27&&Ua(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Up(e,t,r),e=e.sibling;e!==null;)Up(e,t,r),e=e.sibling}function Qc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&Ua(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Qc(e,t,r),e=e.sibling;e!==null;)Qc(e,t,r),e=e.sibling}function cO(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ct(t,n,r),t[St]=e,t[Yt]=r}catch(i){ye(e,e.return,i)}}var _n=!1,Ze=!1,gm=!1,wx=typeof WeakSet=="function"?WeakSet:Set,ht=null;function aD(e,t){if(e=e.containerInfo,Fp=cd,e=Zj(e),Mv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,s=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(s=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===a&&(l=o),h===i&&++d===n&&(s=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||s===-1?null:{start:l,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yp={focusedElem:e,selectionRange:r},cd=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var v=ji(r.type,a);e=n.getSnapshotBeforeUpdate(v,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){ye(r,r.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Zp(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(I(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function dO(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:gn(e,r),n&4&&eu(5,r);break;case 1:if(gn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){ye(r,r.return,o)}else{var a=ji(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ye(r,r.return,o)}}n&64&&oO(r),n&512&&ns(r,r.return);break;case 3:if(gn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{pE(e,t)}catch(o){ye(r,r.return,o)}}break;case 27:t===null&&n&4&&cO(r);case 26:case 5:gn(e,r),t===null&&n&4&&sO(r),n&512&&ns(r,r.return);break;case 12:gn(e,r);break;case 31:gn(e,r),n&4&&mO(e,r);break;case 13:gn(e,r),n&4&&pO(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=hD.bind(null,r),RD(e,r))));break;case 22:if(n=r.memoizedState!==null||_n,!n){t=t!==null&&t.memoizedState!==null||Ze,a=_n;var i=Ze;_n=n,(Ze=t)&&!i?vn(e,r,(r.subtreeFlags&8772)!==0):gn(e,r),_n=a,Ze=i}break;case 30:break;default:gn(e,r)}}function fO(e){var t=e.alternate;t!==null&&(e.alternate=null,fO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Av(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,Wt=!1;function pn(e,t,r){for(r=r.child;r!==null;)hO(e,t,r),r=r.sibling}function hO(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Gs,r)}catch{}switch(r.tag){case 26:Ze||nn(r,t),pn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||nn(r,t);var n=ze,a=Wt;Ua(r.type)&&(ze=r.stateNode,Wt=!1),pn(e,t,r),ls(r.stateNode),ze=n,Wt=a;break;case 5:Ze||nn(r,t);case 6:if(n=ze,a=Wt,ze=null,pn(e,t,r),ze=n,Wt=a,ze!==null)if(Wt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(r.stateNode)}catch(i){ye(r,t,i)}else try{ze.removeChild(r.stateNode)}catch(i){ye(r,t,i)}break;case 18:ze!==null&&(Wt?(e=ze,Mx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),qo(e)):Mx(ze,r.stateNode));break;case 4:n=ze,a=Wt,ze=r.stateNode.containerInfo,Wt=!0,pn(e,t,r),ze=n,Wt=a;break;case 0:case 11:case 14:case 15:Ba(2,r,t),Ze||Ba(4,r,t),pn(e,t,r);break;case 1:Ze||(nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&lO(r,t,n)),pn(e,t,r);break;case 21:pn(e,t,r);break;case 22:Ze=(n=Ze)||r.memoizedState!==null,pn(e,t,r),Ze=n;break;default:pn(e,t,r)}}function mO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qo(e)}catch(r){ye(t,t.return,r)}}}function pO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qo(e)}catch(r){ye(t,t.return,r)}}function iD(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wx),t;default:throw Error(I(435,e.tag))}}function Lu(e,t){var r=iD(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=mD.bind(null,e,n);n.then(a,a)}})}function qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(Ua(l.type)){ze=l.stateNode,Wt=!1;break e}break;case 5:ze=l.stateNode,Wt=!1;break e;case 3:case 4:ze=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(ze===null)throw Error(I(160));hO(i,o,a),ze=null,Wt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)gO(t,e),t=t.sibling}var qr=null;function gO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Ht(e),n&4&&(Ba(3,e,e.return),eu(3,e),Ba(5,e,e.return));break;case 1:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&64&&_n&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=qr;if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Xs]||i[St]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ct(i,n,r),i[St]=e,mt(i),n=i;break e;case"link":var o=Ux("link","href",a).get(n+(r.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;case"meta":if(o=Ux("meta","content",a).get(n+(r.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;default:throw Error(I(468,n))}i[St]=e,mt(i),n=i}e.stateNode=n}else qx(a,e.type,e.stateNode);else e.stateNode=Lx(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?qx(a,e.type,e.stateNode):Lx(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&mm(e,e.memoizedProps,r.memoizedProps)}break;case 27:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),r!==null&&n&4&&mm(e,e.memoizedProps,r.memoizedProps);break;case 5:if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),e.flags&32){a=e.stateNode;try{Mo(a,"")}catch(v){ye(e,e.return,v)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,mm(e,a,r!==null?r.memoizedProps:a)),n&1024&&(gm=!0);break;case 6:if(qt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(I(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(v){ye(e,e.return,v)}}break;case 3:if(Tc=null,a=qr,qr=ld(t.containerInfo),qt(t,e),qr=a,Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qo(t.containerInfo)}catch(v){ye(e,e.return,v)}gm&&(gm=!1,vO(e));break;case 4:n=qr,qr=ld(e.stateNode.containerInfo),qt(t,e),Ht(e),qr=n;break;case 12:qt(t,e),Ht(e);break;case 31:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lu(e,n)));break;case 13:qt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Cf=cr()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lu(e,n)));break;case 22:a=e.memoizedState!==null;var s=r!==null&&r.memoizedState!==null,c=_n,d=Ze;if(_n=c||a,Ze=d||s,qt(t,e),Ze=d,_n=c,Ht(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||s||_n||Ze||Qa(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){s=r=t;try{if(i=s.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=s.stateNode;var f=s.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){ye(s,s.return,v)}}}else if(t.tag===6){if(r===null){s=t;try{s.stateNode.nodeValue=a?"":s.memoizedProps}catch(v){ye(s,s.return,v)}}}else if(t.tag===18){if(r===null){s=t;try{var m=s.stateNode;a?Dx(m,!0):Dx(s.stateNode,!1)}catch(v){ye(s,s.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Lu(e,r))));break;case 19:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lu(e,n)));break;case 30:break;case 21:break;default:qt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(uO(n)){r=n;break}n=n.return}if(r==null)throw Error(I(160));switch(r.tag){case 27:var a=r.stateNode,i=pm(e);Qc(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(Mo(o,""),r.flags&=-33);var l=pm(e);Qc(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,c=pm(e);Up(e,c,s);break;default:throw Error(I(161))}}catch(d){ye(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vO(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vO(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dO(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),Qa(t);break;case 1:nn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&lO(t,t.return,r),Qa(t);break;case 27:ls(t.stateNode);case 26:case 5:nn(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function vn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:vn(a,i,r),eu(4,i);break;case 1:if(vn(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(c){ye(n,n.return,c)}if(n=i,a=n.updateQueue,a!==null){var l=n.stateNode;try{var s=a.shared.hiddenCallbacks;if(s!==null)for(a.shared.hiddenCallbacks=null,a=0;a<s.length;a++)mE(s[a],l)}catch(c){ye(n,n.return,c)}}r&&o&64&&oO(i),ns(i,i.return);break;case 27:cO(i);case 26:case 5:vn(a,i,r),r&&n===null&&o&4&&sO(i),ns(i,i.return);break;case 12:vn(a,i,r);break;case 31:vn(a,i,r),r&&o&4&&mO(a,i);break;case 13:vn(a,i,r),r&&o&4&&pO(a,i);break;case 22:i.memoizedState===null&&vn(a,i,r),ns(i,i.return);break;case 30:break;default:vn(a,i,r)}t=t.sibling}}function oy(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Js(r))}function ly(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e))}function Ir(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yO(e,t,r,n),t=t.sibling}function yO(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ir(e,t,r,n),a&2048&&eu(9,t);break;case 1:Ir(e,t,r,n);break;case 3:Ir(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e)));break;case 12:if(a&2048){Ir(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){ye(t,t.return,s)}}else Ir(e,t,r,n);break;case 31:Ir(e,t,r,n);break;case 13:Ir(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Ir(e,t,r,n):as(e,t):i._visibility&2?Ir(e,t,r,n):(i._visibility|=2,ro(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&oy(o,t);break;case 24:Ir(e,t,r,n),a&2048&&ly(t.alternate,t);break;default:Ir(e,t,r,n)}}function ro(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=r,s=n,c=o.flags;switch(o.tag){case 0:case 11:case 15:ro(i,o,l,s,a),eu(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?ro(i,o,l,s,a):as(i,o):(d._visibility|=2,ro(i,o,l,s,a)),a&&c&2048&&oy(o.alternate,o);break;case 24:ro(i,o,l,s,a),a&&c&2048&&ly(o.alternate,o);break;default:ro(i,o,l,s,a)}t=t.sibling}}function as(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:as(r,n),a&2048&&oy(n.alternate,n);break;case 24:as(r,n),a&2048&&ly(n.alternate,n);break;default:as(r,n)}t=t.sibling}}var Wl=8192;function Ki(e,t,r){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)bO(e,t,r),e=e.sibling}function bO(e,t,r){switch(e.tag){case 26:Ki(e,t,r),e.flags&Wl&&e.memoizedState!==null&&VD(r,qr,e.memoizedState,e.memoizedProps);break;case 5:Ki(e,t,r);break;case 3:case 4:var n=qr;qr=ld(e.stateNode.containerInfo),Ki(e,t,r),qr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Wl,Wl=16777216,Ki(e,t,r),Wl=n):Ki(e,t,r));break;default:Ki(e,t,r)}}function xO(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,_O(n,e)}xO(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wO(e),e=e.sibling}function wO(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&Ba(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cc(e)):kl(e);break;default:kl(e)}}function Cc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,_O(n,e)}xO(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ba(8,t,t.return),Cc(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Cc(t));break;default:Cc(t)}e=e.sibling}}function _O(e,t){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:Ba(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Js(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ht=n;else e:for(r=e;ht!==null;){n=ht;var a=n.sibling,i=n.return;if(fO(n),n===r){ht=null;break e}if(a!==null){a.return=i,ht=a;break e}ht=i}}}var oD={getCacheForType:function(e){var t=Et(Je),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Et(Je).controller.signal}},lD=typeof WeakMap=="function"?WeakMap:Map,me=0,Se=null,ie=null,le=0,ge=0,tr=null,xa=!1,ll=!1,sy=!1,$n=0,He=0,Ia=0,pi=0,uy=0,sr=0,Io=0,is=null,Vt=null,qp=!1,Cf=0,SO=0,ed=1/0,td=null,Ta=null,at=0,ka=null,$o=null,Nn=0,Hp=0,Wp=null,jO=null,os=0,Vp=null;function hr(){return me&2&&le!==0?le&-le:Q.T!==null?dy():Rj()}function EO(){if(sr===0)if(!(le&536870912)||ue){var e=Nu;Nu<<=1,!(Nu&3932160)&&(Nu=262144),sr=e}else sr=536870912;return e=gr.current,e!==null&&(e.flags|=32),sr}function Ft(e,t,r){(e===Se&&(ge===2||ge===9)||e.cancelPendingCommit!==null)&&(Lo(e,0),wa(e,le,sr,!1)),Ys(e,r),(!(me&2)||e!==Se)&&(e===Se&&(!(me&2)&&(pi|=r),He===4&&wa(e,le,sr,!1)),fn(e))}function OO(e,t,r){if(me&6)throw Error(I(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Fs(e,t),a=n?cD(e,t):vm(e,t,!0),i=n;do{if(a===0){ll&&!n&&wa(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!sD(r)){a=vm(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;a=is;var s=l.current.memoizedState.isDehydrated;if(s&&(Lo(l,o).flags|=256),o=vm(l,o,!1),o!==2){if(sy&&!s){l.errorRecoveryDisabledLanes|=i,pi|=i,a=4;break e}i=Vt,Vt=a,i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){Lo(e,0),wa(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(I(345));case 4:if((t&4194048)!==t)break;case 6:wa(n,t,sr,!xa);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(I(329))}if((t&62914560)===t&&(a=Cf+300-cr(),10<a)){if(wa(n,t,sr,!xa),gf(n,0,!0)!==0)break e;Nn=t,n.timeoutHandle=KO(_x.bind(null,n,r,Vt,td,qp,t,sr,pi,Io,xa,i,"Throttled",-0,0),a);break e}_x(n,r,Vt,td,qp,t,sr,pi,Io,xa,i,null,-0,0)}}break}while(!0);fn(e)}function _x(e,t,r,n,a,i,o,l,s,c,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},bO(t,i,f);var v=(i&62914560)===i?Cf-cr():(i&4194048)===i?SO-cr():0;if(v=KD(f,v),v!==null){Nn=i,e.cancelPendingCommit=v(jx.bind(null,e,t,i,r,n,a,o,l,s,d,f,null,h,m)),wa(e,i,o,!c);return}}jx(e,t,i,r,n,a,o,l,s)}function sD(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wa(e,t,r,n){t&=~uy,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&kj(e,r,t)}function Af(){return me&6?!0:(tu(0),!1)}function cy(){if(ie!==null){if(ge===0)var e=ie.return;else e=ie,Cn=Bi=null,Yv(e),Oo=null,ys=0,e=ie;for(;e!==null;)iO(e.alternate,e),e=e.return;ie=null}}function Lo(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,AD(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Nn=0,cy(),Se=e,ie=r=kn(e.current,null),le=t,ge=0,tr=null,xa=!1,ll=Fs(e,t),sy=!1,Io=sr=uy=pi=Ia=He=0,Vt=is=null,qp=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-fr(n),i=1<<a;t|=e[a],n&=~i}return $n=t,xf(),r}function CO(e,t){re=null,Q.H=xs,t===ol||t===_f?(t=ex(),ge=3):t===qv?(t=ex(),ge=4):ge=t===ay?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tr=t,ie===null&&(He=1,Zc(e,Cr(t,e.current)))}function AO(){var e=gr.current;return e===null?!0:(le&4194048)===le?kr===null:(le&62914560)===le||le&536870912?e===kr:!1}function TO(){var e=Q.H;return Q.H=xs,e===null?xs:e}function kO(){var e=Q.A;return Q.A=oD,e}function rd(){He=4,xa||(le&4194048)!==le&&gr.current!==null||(ll=!0),!(Ia&134217727)&&!(pi&134217727)||Se===null||wa(Se,le,sr,!1)}function vm(e,t,r){var n=me;me|=2;var a=TO(),i=kO();(Se!==e||le!==t)&&(td=null,Lo(e,t)),t=!1;var o=He;e:do try{if(ge!==0&&ie!==null){var l=ie,s=tr;switch(ge){case 8:cy(),o=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(t=!0);var c=ge;if(ge=0,tr=null,bo(e,l,s,c),r&&ll){o=0;break e}break;default:c=ge,ge=0,tr=null,bo(e,l,s,c)}}uD(),o=He;break}catch(d){CO(e,d)}while(!0);return t&&e.shellSuspendCounter++,Cn=Bi=null,me=n,Q.H=a,Q.A=i,ie===null&&(Se=null,le=0,xf()),o}function uD(){for(;ie!==null;)PO(ie)}function cD(e,t){var r=me;me|=2;var n=TO(),a=kO();Se!==e||le!==t?(td=null,ed=cr()+500,Lo(e,t)):ll=Fs(e,t);e:do try{if(ge!==0&&ie!==null){t=ie;var i=tr;t:switch(ge){case 1:ge=0,tr=null,bo(e,t,i,1);break;case 2:case 9:if(Qb(i)){ge=0,tr=null,Sx(t);break}t=function(){ge!==2&&ge!==9||Se!==e||(ge=7),fn(e)},i.then(t,t);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:Qb(i)?(ge=0,tr=null,Sx(t)):(ge=0,tr=null,bo(e,t,i,7));break;case 5:var o=null;switch(ie.tag){case 26:o=ie.memoizedState;case 5:case 27:var l=ie;if(o?ZO(o):l.stateNode.complete){ge=0,tr=null;var s=l.sibling;if(s!==null)ie=s;else{var c=l.return;c!==null?(ie=c,Tf(c)):ie=null}break t}}ge=0,tr=null,bo(e,t,i,5);break;case 6:ge=0,tr=null,bo(e,t,i,6);break;case 8:cy(),He=6;break e;default:throw Error(I(462))}}dD();break}catch(d){CO(e,d)}while(!0);return Cn=Bi=null,Q.H=n,Q.A=a,me=r,ie!==null?0:(Se=null,le=0,xf(),He)}function dD(){for(;ie!==null&&!MR();)PO(ie)}function PO(e){var t=aO(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?Tf(e):ie=t}function Sx(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=gx(r,t,t.pendingProps,t.type,void 0,le);break;case 11:t=gx(r,t,t.pendingProps,t.type.render,t.ref,le);break;case 5:Yv(t);default:iO(r,t),t=ie=iE(t,$n),t=aO(r,t,$n)}e.memoizedProps=e.pendingProps,t===null?Tf(e):ie=t}function bo(e,t,r,n){Cn=Bi=null,Yv(t),Oo=null,ys=0;var a=t.return;try{if(QM(e,a,t,r,le)){He=1,Zc(e,Cr(r,e.current)),ie=null;return}}catch(i){if(a!==null)throw ie=a,i;He=1,Zc(e,Cr(r,e.current)),ie=null;return}t.flags&32768?(ue||n===1?e=!0:ll||le&536870912?e=!1:(xa=e=!0,(n===2||n===9||n===3||n===6)&&(n=gr.current,n!==null&&n.tag===13&&(n.flags|=16384))),NO(t,e)):Tf(t)}function Tf(e){var t=e;do{if(t.flags&32768){NO(t,xa);return}e=t.return;var r=rD(t.alternate,t,$n);if(r!==null){ie=r;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);He===0&&(He=5)}function NO(e,t){do{var r=nD(e.alternate,e);if(r!==null){r.flags&=32767,ie=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ie=e;return}ie=e=r}while(e!==null);He=6,ie=null}function jx(e,t,r,n,a,i,o,l,s){e.cancelPendingCommit=null;do kf();while(at!==0);if(me&6)throw Error(I(327));if(t!==null){if(t===e.current)throw Error(I(177));if(i=t.lanes|t.childLanes,i|=Dv,WR(e,r,i,o,l,s),e===Se&&(ie=Se=null,le=0),$o=t,ka=e,Nn=r,Hp=i,Wp=a,jO=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,pD(Lc,function(){return BO(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=Q.T,Q.T=null,a=pe.p,pe.p=2,o=me,me|=4;try{aD(e,t,r)}finally{me=o,pe.p=a,Q.T=n}}at=1,RO(),MO(),DO()}}function RO(){if(at===1){at=0;var e=ka,t=$o,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=Q.T,Q.T=null;var n=pe.p;pe.p=2;var a=me;me|=4;try{gO(t,e);var i=Yp,o=Zj(e.containerInfo),l=i.focusedElem,s=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Xj(l.ownerDocument.documentElement,l)){if(s!==null&&Mv(l)){var c=s.start,d=s.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=l.textContent.length,x=Math.min(s.start,v),y=s.end===void 0?x:Math.min(s.end,v);!m.extend&&x>y&&(o=y,y=x,x=o);var g=Kb(l,x),p=Kb(l,y);if(g&&p&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var b=f.createRange();b.setStart(g.node,g.offset),m.removeAllRanges(),x>y?(m.addRange(b),m.extend(p.node,p.offset)):(b.setEnd(p.node,p.offset),m.addRange(b))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var _=f[l];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}cd=!!Fp,Yp=Fp=null}finally{me=a,pe.p=n,Q.T=r}}e.current=t,at=2}}function MO(){if(at===2){at=0;var e=ka,t=$o,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=Q.T,Q.T=null;var n=pe.p;pe.p=2;var a=me;me|=4;try{dO(e,t.alternate,t)}finally{me=a,pe.p=n,Q.T=r}}at=3}}function DO(){if(at===4||at===3){at=0,DR();var e=ka,t=$o,r=Nn,n=jO;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,$o=ka=null,zO(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ta=null),Cv(r),t=t.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Gs,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=Q.T,a=pe.p,pe.p=2,Q.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var l=n[o];i(l.value,{componentStack:l.stack})}}finally{Q.T=t,pe.p=a}}Nn&3&&kf(),fn(e),a=e.pendingLanes,r&261930&&a&42?e===Vp?os++:(os=0,Vp=e):os=0,tu(0)}}function zO(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Js(t)))}function kf(){return RO(),MO(),DO(),BO()}function BO(){if(at!==5)return!1;var e=ka,t=Hp;Hp=0;var r=Cv(Nn),n=Q.T,a=pe.p;try{pe.p=32>r?32:r,Q.T=null,r=Wp,Wp=null;var i=ka,o=Nn;if(at=0,$o=ka=null,Nn=0,me&6)throw Error(I(331));var l=me;if(me|=4,wO(i.current),yO(i,i.current,o,r),me=l,tu(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Gs,i)}catch{}return!0}finally{pe.p=a,Q.T=n,zO(e,t)}}function Ex(e,t,r){t=Cr(r,t),t=Ip(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(Ys(e,2),fn(e))}function ye(e,t,r){if(e.tag===3)Ex(e,e,r);else for(;t!==null;){if(t.tag===3){Ex(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ta===null||!Ta.has(n))){e=Cr(r,e),r=JE(2),n=Aa(t,r,2),n!==null&&(QE(r,n,t,e),Ys(n,2),fn(n));break}}t=t.return}}function ym(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lD;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(sy=!0,a.add(r),e=fD.bind(null,e,t,r),t.then(e,e))}function fD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Se===e&&(le&r)===r&&(He===4||He===3&&(le&62914560)===le&&300>cr()-Cf?!(me&2)&&Lo(e,0):uy|=r,Io===le&&(Io=0)),fn(e)}function IO(e,t){t===0&&(t=Tj()),e=zi(e,t),e!==null&&(Ys(e,t),fn(e))}function hD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),IO(e,r)}function mD(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(I(314))}n!==null&&n.delete(t),IO(e,r)}function pD(e,t){return Ev(e,t)}var nd=null,no=null,Kp=!1,ad=!1,bm=!1,_a=0;function fn(e){e!==no&&e.next===null&&(no===null?nd=no=e:no=no.next=e),ad=!0,Kp||(Kp=!0,vD())}function tu(e,t){if(!bm&&ad){bm=!0;do for(var r=!1,n=nd;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,l=n.pingedLanes;i=(1<<31-fr(42|e)+1)-1,i&=a&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Ox(n,i))}else i=le,i=gf(n,n===Se?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Fs(n,i)||(r=!0,Ox(n,i));n=n.next}while(r);bm=!1}}function gD(){$O()}function $O(){ad=Kp=!1;var e=0;_a!==0&&CD()&&(e=_a);for(var t=cr(),r=null,n=nd;n!==null;){var a=n.next,i=LO(n,t);i===0?(n.next=null,r===null?nd=a:r.next=a,a===null&&(no=r)):(r=n,(e!==0||i&3)&&(ad=!0)),n=a}at!==0&&at!==5||tu(e),_a!==0&&(_a=0)}function LO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-fr(i),l=1<<o,s=a[o];s===-1?(!(l&r)||l&n)&&(a[o]=HR(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}if(t=Se,r=le,r=gf(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(ge===2||ge===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Gh(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Fs(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&Gh(n),Cv(r)){case 2:case 8:r=Cj;break;case 32:r=Lc;break;case 268435456:r=Aj;break;default:r=Lc}return n=UO.bind(null,e),r=Ev(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&Gh(n),e.callbackPriority=2,e.callbackNode=null,2}function UO(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(kf()&&e.callbackNode!==r)return null;var n=le;return n=gf(e,e===Se?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(OO(e,n,t),LO(e,cr()),e.callbackNode!=null&&e.callbackNode===r?UO.bind(null,e):null)}function Ox(e,t){if(kf())return null;OO(e,t,!0)}function vD(){TD(function(){me&6?Ev(Oj,gD):$O()})}function dy(){if(_a===0){var e=Do;e===0&&(e=Pu,Pu<<=1,!(Pu&261888)&&(Pu=256)),_a=e}return _a}function Cx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yc(""+e)}function Ax(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function yD(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=Cx((a[Yt]||null).action),o=n.submitter;o&&(t=(t=o[Yt]||null)?Cx(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new vf("action","action",null,n,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(_a!==0){var s=o?Ax(a,o):new FormData(a);zp(r,{pending:!0,data:s,method:a.method,action:i},null,s)}}else typeof i=="function"&&(l.preventDefault(),s=o?Ax(a,o):new FormData(a),zp(r,{pending:!0,data:s,method:a.method,action:i},i,s))},currentTarget:a}]})}}for(var xm=0;xm<jp.length;xm++){var wm=jp[xm],bD=wm.toLowerCase(),xD=wm[0].toUpperCase()+wm.slice(1);Zr(bD,"on"+xD)}Zr(Qj,"onAnimationEnd");Zr(eE,"onAnimationIteration");Zr(tE,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(zM,"onTransitionRun");Zr(BM,"onTransitionStart");Zr(IM,"onTransitionCancel");Zr(rE,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ws));function qO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=c;try{i(a)}catch(d){qc(d)}a.currentTarget=null,i=s}else for(o=0;o<n.length;o++){if(l=n[o],s=l.instance,c=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=c;try{i(a)}catch(d){qc(d)}a.currentTarget=null,i=s}}}}function ae(e,t){var r=t[gp];r===void 0&&(r=t[gp]=new Set);var n=e+"__bubble";r.has(n)||(HO(t,e,2,!1),r.add(n))}function _m(e,t,r){var n=0;t&&(n|=4),HO(r,e,n,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function fy(e){if(!e[Uu]){e[Uu]=!0,Mj.forEach(function(r){r!=="selectionchange"&&(wD.has(r)||_m(r,!1,e),_m(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uu]||(t[Uu]=!0,_m("selectionchange",!1,t))}}function HO(e,t,r,n){switch(rC(t)){case 2:var a=YD;break;case 8:a=XD;break;default:a=gy}r=a.bind(null,t,r,e),a=void 0,!wp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Sm(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;l!==null;){if(o=uo(l),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){n=i=o;continue e}l=l.parentNode}}n=n.return}qj(function(){var c=i,d=kv(r),f=[];e:{var h=nE.get(e);if(h!==void 0){var m=vf,v=e;switch(e){case"keypress":if(xc(r)===0)break e;case"keydown":case"keyup":m=mM;break;case"focusin":v="focus",m=Jh;break;case"focusout":v="blur",m=Jh;break;case"beforeblur":case"afterblur":m=Jh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vM;break;case Qj:case eE:case tE:m=iM;break;case rE:m=bM;break;case"scroll":case"scrollend":m=eM;break;case"wheel":m=wM;break;case"copy":case"cut":case"paste":m=lM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ib;break;case"toggle":case"beforetoggle":m=SM}var x=(t&4)!==0,y=!x&&(e==="scroll"||e==="scrollend"),g=x?h!==null?h+"Capture":null:h;x=[];for(var p=c,b;p!==null;){var _=p;if(b=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||b===null||g===null||(_=hs(p,g),_!=null&&x.push(_s(p,_,b))),y)break;p=p.return}0<x.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==xp&&(v=r.relatedTarget||r.fromElement)&&(uo(v)||v[nl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=c,v=v?uo(v):null,v!==null&&(y=Ks(v),x=v.tag,v!==y||x!==5&&x!==27&&x!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=zb,_="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ib,_="onPointerLeave",g="onPointerEnter",p="pointer"),y=m==null?h:ql(m),b=v==null?h:ql(v),h=new x(_,p+"leave",m,r,d),h.target=y,h.relatedTarget=b,_=null,uo(d)===c&&(x=new x(g,p+"enter",v,r,d),x.target=b,x.relatedTarget=y,_=x),y=_,m&&v)t:{for(x=_D,g=m,p=v,b=0,_=g;_;_=x(_))b++;_=0;for(var j=p;j;j=x(j))_++;for(;0<b-_;)g=x(g),b--;for(;0<_-b;)p=x(p),_--;for(;b--;){if(g===p||p!==null&&g===p.alternate){x=g;break t}g=x(g),p=x(p)}x=null}else x=null;m!==null&&Tx(f,h,m,x,!1),v!==null&&y!==null&&Tx(f,y,v,x,!0)}}e:{if(h=c?ql(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=qb;else if(Ub(h))if(Fj)S=RM;else{S=PM;var E=kM}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&Tv(c.elementType)&&(S=qb):S=NM;if(S&&(S=S(e,c))){Gj(f,S,r,d);break e}E&&E(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&bp(h,"number",h.value)}switch(E=c?ql(c):window,e){case"focusin":(Ub(E)||E.contentEditable==="true")&&(ho=E,_p=c,Zl=null);break;case"focusout":Zl=_p=ho=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,Gb(f,r,d);break;case"selectionchange":if(DM)break;case"keydown":case"keyup":Gb(f,r,d)}var O;if(Rv)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fo?Vj(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Wj&&r.locale!=="ko"&&(fo||A!=="onCompositionStart"?A==="onCompositionEnd"&&fo&&(O=Hj()):(ba=d,Pv="value"in ba?ba.value:ba.textContent,fo=!0)),E=id(c,A),0<E.length&&(A=new Bb(A,e,null,r,d),f.push({event:A,listeners:E}),O?A.data=O:(O=Kj(r),O!==null&&(A.data=O)))),(O=EM?OM(e,r):CM(e,r))&&(A=id(c,"onBeforeInput"),0<A.length&&(E=new Bb("onBeforeInput","beforeinput",null,r,d),f.push({event:E,listeners:A}),E.data=O)),yD(f,e,c,r,d)}qO(f,t)})}function _s(e,t,r){return{instance:e,listener:t,currentTarget:r}}function id(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=hs(e,r),a!=null&&n.unshift(_s(e,a,i)),a=hs(e,t),a!=null&&n.push(_s(e,a,i))),e.tag===3)return n;e=e.return}return[]}function _D(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,s=l.alternate,c=l.stateNode;if(l=l.tag,s!==null&&s===n)break;l!==5&&l!==26&&l!==27||c===null||(s=c,a?(c=hs(r,i),c!=null&&o.unshift(_s(r,c,s))):a||(c=hs(r,i),c!=null&&o.push(_s(r,c,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var SD=/\r\n?/g,jD=/\u0000|\uFFFD/g;function kx(e){return(typeof e=="string"?e:""+e).replace(SD,`
`).replace(jD,"")}function WO(e,t){return t=kx(t),kx(e)===t}function xe(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Mo(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Mo(e,""+n);break;case"className":Mu(e,"class",n);break;case"tabIndex":Mu(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Mu(e,r,n);break;case"style":Uj(e,n,i);break;case"data":if(t!=="object"){Mu(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=yc(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&xe(e,t,"name",a.name,a,null),xe(e,t,"formEncType",a.formEncType,a,null),xe(e,t,"formMethod",a.formMethod,a,null),xe(e,t,"formTarget",a.formTarget,a,null)):(xe(e,t,"encType",a.encType,a,null),xe(e,t,"method",a.method,a,null),xe(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=yc(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=On);break;case"onScroll":n!=null&&ae("scroll",e);break;case"onScrollEnd":n!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(I(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(I(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=yc(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ae("beforetoggle",e),ae("toggle",e),vc(e,"popover",n);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":vc(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=JR.get(r)||r,vc(e,r,n))}}function Gp(e,t,r,n,a,i){switch(r){case"style":Uj(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(I(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(I(60));e.innerHTML=r}}break;case"children":typeof n=="string"?Mo(e,n):(typeof n=="number"||typeof n=="bigint")&&Mo(e,""+n);break;case"onScroll":n!=null&&ae("scroll",e);break;case"onScrollEnd":n!=null&&ae("scrollend",e);break;case"onClick":n!=null&&(e.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dj.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[Yt]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):vc(e,r,n)}}}function Ct(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(I(137,t));default:xe(e,t,i,o,r,null)}}a&&xe(e,t,"srcSet",r.srcSet,r,null),n&&xe(e,t,"src",r.src,r,null);return;case"input":ae("invalid",e);var l=i=o=a=null,s=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":s=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(I(137,t));break;default:xe(e,t,n,d,r,null)}}Ij(e,i,l,s,c,o,a,!1);return;case"select":ae("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(l=r[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":n=l;default:xe(e,t,a,l,r,null)}t=i,r=o,e.multiple=!!n,t!=null?So(e,!!n,t,!1):r!=null&&So(e,!!n,r,!0);return;case"textarea":ae("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(l=r[o],l!=null))switch(o){case"value":n=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(I(91));break;default:xe(e,t,o,l,r,null)}Lj(e,n,a,i);return;case"option":for(s in r)if(r.hasOwnProperty(s)&&(n=r[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:xe(e,t,s,n,r,null)}return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(n=0;n<ws.length;n++)ae(ws[n],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(I(137,t));default:xe(e,t,c,n,r,null)}return;default:if(Tv(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&Gp(e,t,d,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(n=r[l],n!=null&&xe(e,t,l,n,r,null))}function ED(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,s=null,c=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":s=f;default:n.hasOwnProperty(m)||xe(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(I(137,t));break;default:m!==f&&xe(e,t,h,m,n,f)}}yp(e,o,l,s,c,d,i,a);return;case"select":m=o=l=h=null;for(i in r)if(s=r[i],r.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":m=s;default:n.hasOwnProperty(i)||xe(e,t,i,null,n,s)}for(a in n)if(i=n[a],s=r[a],n.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==s&&xe(e,t,a,i,n,s)}t=l,r=o,n=m,h!=null?So(e,!!r,h,!1):!!n!=!!r&&(t!=null?So(e,!!r,t,!0):So(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(l in r)if(a=r[l],r.hasOwnProperty(l)&&a!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:xe(e,t,l,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(I(91));break;default:a!==i&&xe(e,t,o,a,n,i)}$j(e,h,m);return;case"option":for(var v in r)if(h=r[v],r.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:xe(e,t,v,null,n,h)}for(s in n)if(h=n[s],m=r[s],n.hasOwnProperty(s)&&h!==m&&(h!=null||m!=null))switch(s){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:xe(e,t,s,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)h=r[x],r.hasOwnProperty(x)&&h!=null&&!n.hasOwnProperty(x)&&xe(e,t,x,null,n,h);for(c in n)if(h=n[c],m=r[c],n.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(I(137,t));break;default:xe(e,t,c,h,n,m)}return;default:if(Tv(t)){for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!==void 0&&!n.hasOwnProperty(y)&&Gp(e,t,y,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Gp(e,t,d,h,n,m);return}}for(var g in r)h=r[g],r.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g)&&xe(e,t,g,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||xe(e,t,f,h,n,m)}function Px(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OD(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,l=a.duration;if(i&&l&&Px(o)){for(o=0,l=a.responseEnd,n+=1;n<r.length;n++){var s=r[n],c=s.startTime;if(c>l)break;var d=s.transferSize,f=s.initiatorType;d&&Px(f)&&(s=s.responseEnd,o+=d*(s<l?1:(l-c)/(s-c)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Fp=null,Yp=null;function od(e){return e.nodeType===9?e:e.ownerDocument}function Nx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VO(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jm=null;function CD(){var e=window.event;return e&&e.type==="popstate"?e===jm?!1:(jm=e,!0):(jm=null,!1)}var KO=typeof setTimeout=="function"?setTimeout:void 0,AD=typeof clearTimeout=="function"?clearTimeout:void 0,Rx=typeof Promise=="function"?Promise:void 0,TD=typeof queueMicrotask=="function"?queueMicrotask:typeof Rx<"u"?function(e){return Rx.resolve(null).then(e).catch(kD)}:KO;function kD(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function Mx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),qo(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")ls(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ls(r);for(var i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Xs]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&ls(e.ownerDocument.body);r=a}while(r);qo(t)}function Dx(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function Zp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Zp(r),Av(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function PD(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Xs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Pr(e.nextSibling),e===null)break}return null}function ND(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Pr(e.nextSibling),e===null))return null;return e}function GO(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pr(e.nextSibling),e===null))return null;return e}function Jp(e){return e.data==="$?"||e.data==="$~"}function Qp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function RD(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var eg=null;function zx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Pr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Bx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function FO(e,t,r){switch(t=od(r),e){case"html":if(e=t.documentElement,!e)throw Error(I(452));return e;case"head":if(e=t.head,!e)throw Error(I(453));return e;case"body":if(e=t.body,!e)throw Error(I(454));return e;default:throw Error(I(451))}}function ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Av(e)}var Nr=new Map,Ix=new Set;function ld(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=pe.d;pe.d={f:MD,r:DD,D:zD,C:BD,L:ID,m:$D,X:UD,S:LD,M:qD};function MD(){var e=Xn.f(),t=Af();return e||t}function DD(e){var t=al(e);t!==null&&t.tag===5&&t.type==="form"?UE(t):Xn.r(e)}var sl=typeof document>"u"?null:document;function YO(e,t,r){var n=sl;if(n&&typeof t=="string"&&t){var a=Or(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Ix.has(a)||(Ix.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Ct(t,"link",e),mt(t),n.head.appendChild(t)))}}function zD(e){Xn.D(e),YO("dns-prefetch",e,null)}function BD(e,t){Xn.C(e,t),YO("preconnect",e,t)}function ID(e,t,r){Xn.L(e,t,r);var n=sl;if(n&&e&&t){var a='link[rel="preload"][as="'+Or(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Or(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Or(r.imageSizes)+'"]')):a+='[href="'+Or(e)+'"]';var i=a;switch(t){case"style":i=Uo(e);break;case"script":i=ul(e)}Nr.has(i)||(e=Me({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Nr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(ru(i))||t==="script"&&n.querySelector(nu(i))||(t=n.createElement("link"),Ct(t,"link",e),mt(t),n.head.appendChild(t)))}}function $D(e,t){Xn.m(e,t);var r=sl;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Or(n)+'"][href="'+Or(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ul(e)}if(!Nr.has(i)&&(e=Me({rel:"modulepreload",href:e},t),Nr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(nu(i)))return}n=r.createElement("link"),Ct(n,"link",e),mt(n),r.head.appendChild(n)}}}function LD(e,t,r){Xn.S(e,t,r);var n=sl;if(n&&e){var a=_o(n).hoistableStyles,i=Uo(e);t=t||"default";var o=a.get(i);if(!o){var l={loading:0,preload:null};if(o=n.querySelector(ru(i)))l.loading=5;else{e=Me({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Nr.get(i))&&hy(e,r);var s=o=n.createElement("link");mt(s),Ct(s,"link",e),s._p=new Promise(function(c,d){s.onload=c,s.onerror=d}),s.addEventListener("load",function(){l.loading|=1}),s.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ac(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:l},a.set(i,o)}}}function UD(e,t){Xn.X(e,t);var r=sl;if(r&&e){var n=_o(r).hoistableScripts,a=ul(e),i=n.get(a);i||(i=r.querySelector(nu(a)),i||(e=Me({src:e,async:!0},t),(t=Nr.get(a))&&my(e,t),i=r.createElement("script"),mt(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function qD(e,t){Xn.M(e,t);var r=sl;if(r&&e){var n=_o(r).hoistableScripts,a=ul(e),i=n.get(a);i||(i=r.querySelector(nu(a)),i||(e=Me({src:e,async:!0,type:"module"},t),(t=Nr.get(a))&&my(e,t),i=r.createElement("script"),mt(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function $x(e,t,r,n){var a=(a=Ea.current)?ld(a):null;if(!a)throw Error(I(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Uo(r.href),r=_o(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Uo(r.href);var i=_o(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(ru(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Nr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nr.set(e,r),i||HD(a,e,r,o.state))),t&&n===null)throw Error(I(528,""));return o}if(t&&n!==null)throw Error(I(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ul(r),r=_o(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(I(444,e))}}function Uo(e){return'href="'+Or(e)+'"'}function ru(e){return'link[rel="stylesheet"]['+e+"]"}function XO(e){return Me({},e,{"data-precedence":e.precedence,precedence:null})}function HD(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ct(t,"link",r),mt(t),e.head.appendChild(t))}function ul(e){return'[src="'+Or(e)+'"]'}function nu(e){return"script[async]"+e}function Lx(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Or(r.href)+'"]');if(n)return t.instance=n,mt(n),n;var a=Me({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),mt(n),Ct(n,"style",a),Ac(n,r.precedence,e),t.instance=n;case"stylesheet":a=Uo(r.href);var i=e.querySelector(ru(a));if(i)return t.state.loading|=4,t.instance=i,mt(i),i;n=XO(r),(a=Nr.get(a))&&hy(n,a),i=(e.ownerDocument||e).createElement("link"),mt(i);var o=i;return o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),t.state.loading|=4,Ac(i,r.precedence,e),t.instance=i;case"script":return i=ul(r.src),(a=e.querySelector(nu(i)))?(t.instance=a,mt(a),a):(n=r,(a=Nr.get(i))&&(n=Me({},r),my(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),mt(a),Ct(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(I(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Ac(n,r.precedence,e));return t.instance}function Ac(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var l=n[o];if(l.dataset.precedence===t)i=l;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function hy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function my(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Tc=null;function Ux(e,t,r){if(Tc===null){var n=new Map,a=Tc=new Map;a.set(r,n)}else a=Tc,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Xs]||i[St]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=n.get(o);l?l.push(i):n.set(o,[i])}}return n}function qx(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function WD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ZO(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function VD(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=Uo(n.href),i=t.querySelector(ru(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=sd.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,mt(i);return}i=t.ownerDocument||t,n=XO(n),(a=Nr.get(a))&&hy(n,a),i=i.createElement("link"),mt(i);var o=i;o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=sd.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Em=0;function KD(e,t){return e.stylesheets&&e.count===0&&kc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&kc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Em===0&&(Em=62500*OD());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Em?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function sd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ud=null;function kc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ud=new Map,t.forEach(GD,e),ud=null,sd.call(e))}function GD(e,t){if(!(t.state.loading&4)){var r=ud.get(e);if(r)var n=r.get(null);else{r=new Map,ud.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=sd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Ss={$$typeof:En,Provider:null,Consumer:null,_currentValue:di,_currentValue2:di,_threadCount:0};function FD(e,t,r,n,a,i,o,l,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fh(0),this.hiddenUpdates=Fh(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function JO(e,t,r,n,a,i,o,l,s,c,d,f){return e=new FD(e,t,r,o,s,c,d,f,l),t=1,i===!0&&(t|=24),i=ar(3,null,null,t),e.current=i,i.stateNode=e,t=Lv(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},Hv(i),e}function QO(e){return e?(e=go,e):go}function eC(e,t,r,n,a,i){a=QO(a),n.context===null?n.context=a:n.pendingContext=a,n=Ca(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=Aa(e,n,t),r!==null&&(Ft(r,e,t),Ql(r,e,t))}function Hx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function py(e,t){Hx(e,t),(e=e.alternate)&&Hx(e,t)}function tC(e){if(e.tag===13||e.tag===31){var t=zi(e,67108864);t!==null&&Ft(t,e,67108864),py(e,67108864)}}function Wx(e){if(e.tag===13||e.tag===31){var t=hr();t=Ov(t);var r=zi(e,t);r!==null&&Ft(r,e,t),py(e,t)}}var cd=!0;function YD(e,t,r,n){var a=Q.T;Q.T=null;var i=pe.p;try{pe.p=2,gy(e,t,r,n)}finally{pe.p=i,Q.T=a}}function XD(e,t,r,n){var a=Q.T;Q.T=null;var i=pe.p;try{pe.p=8,gy(e,t,r,n)}finally{pe.p=i,Q.T=a}}function gy(e,t,r,n){if(cd){var a=tg(n);if(a===null)Sm(e,t,n,dd,r),Vx(e,n);else if(JD(a,e,t,r,n))n.stopPropagation();else if(Vx(e,n),t&4&&-1<ZD.indexOf(e)){for(;a!==null;){var i=al(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Za(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var s=1<<31-fr(o);l.entanglements[1]|=s,o&=~s}fn(i),!(me&6)&&(ed=cr()+500,tu(0))}}break;case 31:case 13:l=zi(i,2),l!==null&&Ft(l,i,2),Af(),py(i,2)}if(i=tg(n),i===null&&Sm(e,t,n,dd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Sm(e,t,n,null,r)}}function tg(e){return e=kv(e),vy(e)}var dd=null;function vy(e){if(dd=null,e=uo(e),e!==null){var t=Ks(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=wj(t),e!==null)return e;e=null}else if(r===31){if(e=_j(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dd=e,null}function rC(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zR()){case Oj:return 2;case Cj:return 8;case Lc:case BR:return 32;case Aj:return 268435456;default:return 32}default:return 32}}var rg=!1,Pa=null,Na=null,Ra=null,js=new Map,Es=new Map,pa=[],ZD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vx(e,t){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Pl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=al(t),t!==null&&tC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function JD(e,t,r,n,a){switch(t){case"focusin":return Pa=Pl(Pa,e,t,r,n,a),!0;case"dragenter":return Na=Pl(Na,e,t,r,n,a),!0;case"mouseover":return Ra=Pl(Ra,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return js.set(i,Pl(js.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Es.set(i,Pl(Es.get(i)||null,e,t,r,n,a)),!0}return!1}function nC(e){var t=uo(e.target);if(t!==null){var r=Ks(t);if(r!==null){if(t=r.tag,t===13){if(t=wj(r),t!==null){e.blockedOn=t,Tb(e.priority,function(){Wx(r)});return}}else if(t===31){if(t=_j(r),t!==null){e.blockedOn=t,Tb(e.priority,function(){Wx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tg(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xp=n,r.target.dispatchEvent(n),xp=null}else return t=al(r),t!==null&&tC(t),e.blockedOn=r,!1;t.shift()}return!0}function Kx(e,t,r){Pc(e)&&r.delete(t)}function QD(){rg=!1,Pa!==null&&Pc(Pa)&&(Pa=null),Na!==null&&Pc(Na)&&(Na=null),Ra!==null&&Pc(Ra)&&(Ra=null),js.forEach(Kx),Es.forEach(Kx)}function qu(e,t){e.blockedOn===t&&(e.blockedOn=null,rg||(rg=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,QD)))}var Hu=null;function Gx(e){Hu!==e&&(Hu=e,it.unstable_scheduleCallback(it.unstable_NormalPriority,function(){Hu===e&&(Hu=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(vy(n||r)===null)continue;break}var i=al(r);i!==null&&(e.splice(t,3),t-=3,zp(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function qo(e){function t(s){return qu(s,e)}Pa!==null&&qu(Pa,e),Na!==null&&qu(Na,e),Ra!==null&&qu(Ra,e),js.forEach(t),Es.forEach(t);for(var r=0;r<pa.length;r++){var n=pa[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<pa.length&&(r=pa[0],r.blockedOn===null);)nC(r),r.blockedOn===null&&pa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[Yt]||null;if(typeof i=="function")o||Gx(r);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Yt]||null)l=o.formAction;else if(vy(a)!==null)continue}else l=o.action;typeof l=="function"?r[n+1]=l:(r.splice(n,3),n-=3),Gx(r)}}}function aC(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function yy(e){this._internalRoot=e}Pf.prototype.render=yy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));var r=t.current,n=hr();eC(r,n,e,t,null,null)};Pf.prototype.unmount=yy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eC(e.current,2,null,e,null,null),Af(),t[nl]=null}};function Pf(e){this._internalRoot=e}Pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pa.length&&t!==0&&t<pa[r].priority;r++);pa.splice(r,0,e),r===0&&nC(e)}};var Fx=bj.version;if(Fx!=="19.2.3")throw Error(I(527,Fx,"19.2.3"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=TR(t),e=e!==null?Sj(e):null,e=e===null?null:e.stateNode,e};var ez={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Gs=Wu.inject(ez),dr=Wu}catch{}}mf.createRoot=function(e,t){if(!xj(e))throw Error(I(299));var r=!1,n="",a=YE,i=XE,o=ZE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=JO(e,1,!1,null,null,r,n,null,a,i,o,aC),e[nl]=t.current,fy(e),new yy(t)};mf.hydrateRoot=function(e,t,r){if(!xj(e))throw Error(I(299));var n=!1,a="",i=YE,o=XE,l=ZE,s=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(s=r.formState)),t=JO(e,1,!0,t,r??null,n,a,s,i,o,l,aC),t.context=QO(null),r=t.current,n=hr(),n=Ov(n),a=Ca(n),a.callback=null,Aa(r,a,n),r=n,t.current.lanes=r,Ys(t,r),fn(t),e[nl]=t.current,fy(e),new Pf(t)};mf.version="19.2.3";function iC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iC)}catch(e){console.error(e)}}iC(),hj.exports=mf;var tz=hj.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(this,arguments)}var Sa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sa||(Sa={}));const Yx="popstate";function rz(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return ng("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:oC(a)}return az(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function by(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nz(){return Math.random().toString(36).substr(2,8)}function Xx(e,t){return{usr:e.state,key:e.key,idx:t}}function ng(e,t,r,n){return r===void 0&&(r=null),Os({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cl(t):t,{state:r,key:t&&t.key||n||nz()})}function oC(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function az(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Sa.Pop,s=null,c=d();c==null&&(c=0,o.replaceState(Os({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Sa.Pop;let y=d(),g=y==null?null:y-c;c=y,s&&s({action:l,location:x.location,delta:g})}function h(y,g){l=Sa.Push;let p=ng(x.location,y,g);c=d()+1;let b=Xx(p,c),_=x.createHref(p);try{o.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&s&&s({action:l,location:x.location,delta:1})}function m(y,g){l=Sa.Replace;let p=ng(x.location,y,g);c=d();let b=Xx(p,c),_=x.createHref(p);o.replaceState(b,"",_),i&&s&&s({action:l,location:x.location,delta:0})}function v(y){let g=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof y=="string"?y:oC(y);return p=p.replace(/ $/,"%20"),et(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let x={get action(){return l},get location(){return e(a,o)},listen(y){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(Yx,f),s=y,()=>{a.removeEventListener(Yx,f),s=null}},createHref(y){return t(a,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(y){return o.go(y)}};return x}var Zx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zx||(Zx={}));function iz(e,t,r){return r===void 0&&(r="/"),oz(e,t,r)}function oz(e,t,r,n){let a=typeof t=="string"?cl(t):t,i=uC(a.pathname||"/",r);if(i==null)return null;let o=lC(e);lz(o);let l=null;for(let s=0;l==null&&s<o.length;++s){let c=bz(i);l=gz(o[s],c)}return l}function lC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let s={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(et(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(n.length));let c=gi([n,s.relativePath]),d=r.concat(s);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lC(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:mz(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let s of sC(i.path))a(i,o,s)}),t}function sC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=sC(n.join("/")),l=[];return l.push(...o.map(s=>s===""?i:[i,s].join("/"))),a&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function lz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sz=/^:[\w-]+$/,uz=3,cz=2,dz=1,fz=10,hz=-2,Jx=e=>e==="*";function mz(e,t){let r=e.split("/"),n=r.length;return r.some(Jx)&&(n+=hz),t&&(n+=cz),r.filter(a=>!Jx(a)).reduce((a,i)=>a+(sz.test(i)?uz:i===""?dz:fz),n)}function pz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function gz(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let s=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=vz({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},d),h=s.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:gi([i,f.pathname]),pathnameBase:jz(gi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=gi([i,f.pathnameBase]))}return o}function vz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function yz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),by(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,s)=>(n.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function bz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return by(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const xz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wz=e=>xz.test(e);function _z(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?cl(e):e,i;if(r)if(wz(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),by(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Qx(r.substring(1),"/"):i=Qx(r,t)}else i=t;return{pathname:i,search:Ez(n),hash:Oz(a)}}function Qx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Om(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cC(e,t){let r=Sz(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function dC(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=cl(e):(a=Os({},e),et(!a.pathname||!a.pathname.includes("?"),Om("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Om("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Om("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let s=_z(a,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(c||d)&&(s.pathname+="/"),s}const gi=e=>e.join("/").replace(/\/\/+/g,"/"),jz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ez=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Oz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fC=["post","put","patch","delete"];new Set(fC);const Az=["get",...fC];new Set(Az);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}const xy=w.createContext(null),Tz=w.createContext(null),au=w.createContext(null),Nf=w.createContext(null),qa=w.createContext({outlet:null,matches:[],isDataRoute:!1}),hC=w.createContext(null);function iu(){return w.useContext(Nf)!=null}function Rf(){return iu()||et(!1),w.useContext(Nf).location}function mC(e){w.useContext(au).static||w.useLayoutEffect(e)}function dl(){let{isDataRoute:e}=w.useContext(qa);return e?Wz():kz()}function kz(){iu()||et(!1);let e=w.useContext(xy),{basename:t,future:r,navigator:n}=w.useContext(au),{matches:a}=w.useContext(qa),{pathname:i}=Rf(),o=JSON.stringify(cC(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return mC(()=>{l.current=!0}),w.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let f=dC(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Pz=w.createContext(null);function Nz(e){let t=w.useContext(qa).outlet;return t&&w.createElement(Pz.Provider,{value:e},t)}function Rz(e,t){return Mz(e,t)}function Mz(e,t,r,n){iu()||et(!1);let{navigator:a}=w.useContext(au),{matches:i}=w.useContext(qa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let c=Rf(),d;if(t){var f;let y=typeof t=="string"?cl(t):t;s==="/"||(f=y.pathname)!=null&&f.startsWith(s)||et(!1),d=y}else d=c;let h=d.pathname||"/",m=h;if(s!=="/"){let y=s.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=iz(e,{pathname:m}),x=$z(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gi([s,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?s:gi([s,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&x?w.createElement(Nf.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sa.Pop}},x):x}function Dz(){let e=Hz(),t=Cz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const zz=w.createElement(Dz,null);class Bz extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(qa.Provider,{value:this.props.routeContext},w.createElement(hC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Iz(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(xy);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(qa.Provider,{value:t},n)}function $z(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let s=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){s=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,x=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||zz,s&&(c<0&&h===0?(Vz("route-fallback"),v=!0,y=null):c===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),p=()=>{let b;return m?b=x:v?b=y:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(Iz,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(Bz,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var pC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pC||{}),gC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gC||{});function Lz(e){let t=w.useContext(xy);return t||et(!1),t}function Uz(e){let t=w.useContext(Tz);return t||et(!1),t}function qz(e){let t=w.useContext(qa);return t||et(!1),t}function vC(e){let t=qz(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function Hz(){var e;let t=w.useContext(hC),r=Uz(),n=vC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Wz(){let{router:e}=Lz(pC.UseNavigateStable),t=vC(gC.UseNavigateStable),r=w.useRef(!1);return mC(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Cs({fromRouteId:t},i)))},[e,t])}const e1={};function Vz(e,t,r){e1[e]||(e1[e]=!0)}function Kz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yC(e){let{to:t,replace:r,state:n,relative:a}=e;iu()||et(!1);let{future:i,static:o}=w.useContext(au),{matches:l}=w.useContext(qa),{pathname:s}=Rf(),c=dl(),d=dC(t,cC(l,i.v7_relativeSplatPath),s,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function Gz(e){return Nz(e.context)}function yn(e){et(!1)}function Fz(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Sa.Pop,navigator:i,static:o=!1,future:l}=e;iu()&&et(!1);let s=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:s,navigator:i,static:o,future:Cs({v7_relativeSplatPath:!1},l)}),[s,l,i,o]);typeof n=="string"&&(n=cl(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,x=w.useMemo(()=>{let y=uC(d,s);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:v},navigationType:a}},[s,d,f,h,m,v,a]);return x==null?null:w.createElement(au.Provider,{value:c},w.createElement(Nf.Provider,{children:r,value:x}))}function Yz(e){let{children:t,location:r}=e;return Rz(ag(t),r)}new Promise(()=>{});function ag(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,ag(n.props.children,i));return}n.type!==yn&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ag(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Xz(e,t){let r=ig(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Zz="6";try{window.__reactRouterVersion=Zz}catch{}const Jz="startTransition",t1=fj[Jz];function Qz(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=rz({window:a,v5Compat:!0}));let o=i.current,[l,s]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=w.useCallback(f=>{c&&t1?t1(()=>s(f)):s(f)},[s,c]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>Kz(n),[n]),w.createElement(Fz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var r1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r1||(r1={}));var n1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(n1||(n1={}));function bC(e){let t=w.useRef(ig(e)),r=w.useRef(!1),n=Rf(),a=w.useMemo(()=>Xz(n.search,r.current?null:t.current),[n.search]),i=dl(),o=w.useCallback((l,s)=>{const c=ig(typeof l=="function"?l(a):l);r.current=!0,i("?"+c,s)},[i,a]);return[a,o]}var og=function(e,t){return og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},og(e,t)};function xC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");og(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var fd=function(){return fd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fd.apply(this,arguments)};function fl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function wC(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function _C(e,t){return function(r,n){t(r,n,e)}}function SC(e,t,r,n,a,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=n.kind,s=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var v={};for(var x in n)v[x]=x==="access"?{}:n[x];for(var x in n.access)v.access[x]=n.access[x];v.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var y=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[s],v);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&a.unshift(f)}else(f=o(y))&&(l==="field"?a.unshift(f):d[s]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function jC(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function EC(e){return typeof e=="symbol"?e:"".concat(e)}function OC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function CC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function G(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function s(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):a(d.value).then(l,s)}c((n=n.apply(e,t||[])).next())})}function AC(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(d){return s([c,d])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Mf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function TC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mf(t,e,r)}function hd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function kC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wy(arguments[t]));return e}function PC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function NC(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ho(e){return this instanceof Ho?(this.v=e,this):new Ho(e)}function RC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(v){return Promise.resolve(v).then(m,f)}}function l(m,v){n[m]&&(a[m]=function(x){return new Promise(function(y,g){i.push([m,x,y,g])>1||s(m,x)})},v&&(a[m]=v(a[m])))}function s(m,v){try{c(n[m](v))}catch(x){h(i[0][3],x)}}function c(m){m.value instanceof Ho?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){s("next",m)}function f(m){s("throw",m)}function h(m,v){m(v),i.shift(),i.length&&s(i[0][0],i[0][1])}}function MC(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Ho(e[a](o)),done:!1}:i?i(o):o}:i}}function DC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof hd=="function"?hd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,s){o=e[i](o),a(l,s,o.done,o.value)})}}function a(i,o,l,s){Promise.resolve(s).then(function(c){i({value:c,done:l})},o)}}function zC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var e5=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},lg=function(e){return lg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},lg(e)};function BC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=lg(e),n=0;n<r.length;n++)r[n]!=="default"&&Mf(t,e,r[n]);return e5(t,e),t}function IC(e){return e&&e.__esModule?e:{default:e}}function $C(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function LC(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function UC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function qC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var t5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function HC(e){function t(i){e.error=e.hasError?new t5(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function WC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const r5={__extends:xC,__assign:fd,__rest:fl,__decorate:wC,__param:_C,__esDecorate:SC,__runInitializers:jC,__propKey:EC,__setFunctionName:OC,__metadata:CC,__awaiter:G,__generator:AC,__createBinding:Mf,__exportStar:TC,__values:hd,__read:wy,__spread:kC,__spreadArrays:PC,__spreadArray:NC,__await:Ho,__asyncGenerator:RC,__asyncDelegator:MC,__asyncValues:DC,__makeTemplateObject:zC,__importStar:BC,__importDefault:IC,__classPrivateFieldGet:$C,__classPrivateFieldSet:LC,__classPrivateFieldIn:UC,__addDisposableResource:qC,__disposeResources:HC,__rewriteRelativeImportExtension:WC},n5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:qC,get __assign(){return fd},__asyncDelegator:MC,__asyncGenerator:RC,__asyncValues:DC,__await:Ho,__awaiter:G,__classPrivateFieldGet:$C,__classPrivateFieldIn:UC,__classPrivateFieldSet:LC,__createBinding:Mf,__decorate:wC,__disposeResources:HC,__esDecorate:SC,__exportStar:TC,__extends:xC,__generator:AC,__importDefault:IC,__importStar:BC,__makeTemplateObject:zC,__metadata:CC,__param:_C,__propKey:EC,__read:wy,__rest:fl,__rewriteRelativeImportExtension:WC,__runInitializers:jC,__setFunctionName:OC,__spread:kC,__spreadArray:NC,__spreadArrays:PC,__values:hd,default:r5},Symbol.toStringTag,{value:"Module"})),a5="modulepreload",i5=function(e){return"/"+e},a1={},hl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(s=>{if(s=i5(s),s in a1)return;a1[s]=!0;const c=s.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":a5,c||(f.as="script"),f.crossOrigin="",f.href=s,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},o5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class _y extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class i1 extends _y{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class o1 extends _y{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class l1 extends _y{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sg||(sg={}));class l5{constructor(t,{headers:r={},customFetch:n,region:a=sg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=o5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return G(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:s}=n;let c={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:s}).catch(g=>{throw g.name==="AbortError"?g:new i1(g)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new o1(m);if(!m.ok)throw new l1(m);let x=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield m.json():x==="application/octet-stream"||x==="application/pdf"?y=yield m.blob():x==="text/event-stream"?y=m:x==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new i1(i)}:{data:null,error:i,response:i instanceof l1||i instanceof o1?i.context:void 0}}})}}var Rt={};const ml=rj(n5);var Vu={},Ku={},Gu={},Fu={},Yu={},s5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wo=s5();const u5=Wo.fetch,VC=Wo.fetch.bind(Wo),KC=Wo.Headers,c5=Wo.Request,d5=Wo.Response,Ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:KC,Request:c5,Response:d5,default:VC,fetch:u5},Symbol.toStringTag,{value:"Module"})),f5=rj(Ii);var Xu={},s1;function GC(){if(s1)return Xu;s1=1,Object.defineProperty(Xu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Xu.default=e,Xu}var u1;function FC(){if(u1)return Yu;u1=1,Object.defineProperty(Yu,"__esModule",{value:!0});const e=ml,t=e.__importDefault(f5),r=e.__importDefault(GC());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let s=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,h,m;let v=null,x=null,y=null,g=c.status,p=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=S:x=JSON.parse(S))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,y=null,g=406,p="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const _=await c.text();try{v=JSON.parse(_),Array.isArray(v)&&c.status===404&&(x=[],v=null,g=200,p="OK")}catch{c.status===404&&_===""?(g=204,p="No Content"):v={message:_}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,g=200,p="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:x,count:y,status:g,statusText:p}});return this.shouldThrowOnError||(s=s.catch(c=>{var d,f,h;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return Yu.default=n,Yu}var c1;function YC(){if(c1)return Fu;c1=1,Object.defineProperty(Fu,"__esModule",{value:!0});const t=ml.__importDefault(FC());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:s=l}={}){const c=s?`${s}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const s=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(s,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:s=!1,format:c="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Fu.default=r,Fu}var d1;function Sy(){if(d1)return Gu;d1=1,Object.defineProperty(Gu,"__esModule",{value:!0});const t=ml.__importDefault(YC()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(s=>typeof s=="string"&&r.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:s}={}){let c="";s==="plain"?c="pl":s==="phrase"?c="ph":s==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const s=l?`${l}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Gu.default=n,Gu}var f1;function XC(){if(f1)return Ku;f1=1,Object.defineProperty(Ku,"__esModule",{value:!0});const t=ml.__importDefault(Sy());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},s=o?"HEAD":"GET";let c=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const s="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const c=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:s=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ku.default=r,Ku}var h1;function h5(){if(h1)return Vu;h1=1,Object.defineProperty(Vu,"__esModule",{value:!0});const e=ml,t=e.__importDefault(XC()),r=e.__importDefault(Sy());class n{constructor(i,{headers:o={},schema:l,fetch:s}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=s}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:s=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;l||s?(f=l?"HEAD":"GET",Object.entries(o).filter(([x,y])=>y!==void 0).map(([x,y])=>[x,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([x,y])=>{h.searchParams.append(x,y)})):(f="POST",m=o);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:v,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Vu.default=n,Vu}Object.defineProperty(Rt,"__esModule",{value:!0});var ZC=Rt.PostgrestError=lA=Rt.PostgrestBuilder=iA=Rt.PostgrestTransformBuilder=nA=Rt.PostgrestFilterBuilder=tA=Rt.PostgrestQueryBuilder=QC=Rt.PostgrestClient=void 0;const pl=ml,JC=pl.__importDefault(h5());var QC=Rt.PostgrestClient=JC.default;const eA=pl.__importDefault(XC());var tA=Rt.PostgrestQueryBuilder=eA.default;const rA=pl.__importDefault(Sy());var nA=Rt.PostgrestFilterBuilder=rA.default;const aA=pl.__importDefault(YC());var iA=Rt.PostgrestTransformBuilder=aA.default;const oA=pl.__importDefault(FC());var lA=Rt.PostgrestBuilder=oA.default;const sA=pl.__importDefault(GC());ZC=Rt.PostgrestError=sA.default;var uA=Rt.default={PostgrestClient:JC.default,PostgrestQueryBuilder:eA.default,PostgrestFilterBuilder:rA.default,PostgrestTransformBuilder:aA.default,PostgrestBuilder:oA.default,PostgrestError:sA.default};const m5=tj({__proto__:null,get PostgrestBuilder(){return lA},get PostgrestClient(){return QC},get PostgrestError(){return ZC},get PostgrestFilterBuilder(){return nA},get PostgrestQueryBuilder(){return tA},get PostgrestTransformBuilder(){return iA},default:uA},[Rt]),{PostgrestClient:p5,PostgrestQueryBuilder:dZ,PostgrestFilterBuilder:fZ,PostgrestTransformBuilder:hZ,PostgrestBuilder:mZ,PostgrestError:pZ}=uA||m5;class g5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const v5="2.78.0",y5=`realtime-js/${v5}`,b5="1.0.0",ug=1e4,x5=1e3,w5=100;var ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ss||(ss={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var cg;(function(e){e.websocket="websocket"})(cg||(cg={}));var ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ai||(ai={}));class _5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const s=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:s,payload:c}}}class cA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const m1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=S5(o,e,t,a),i),{}):{}},S5=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?dA(i,o):dg(o)},dA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return C5(t,r)}switch(e){case Ce.bool:return j5(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return E5(t);case Ce.json:case Ce.jsonb:return O5(t);case Ce.timestamp:return A5(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return dg(t);default:return dg(t)}},dg=e=>e,j5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},E5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},O5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},C5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>dA(t,l))}return e},A5=e=>typeof e=="string"?e.replace(" ","T"):e,fA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Cm{constructor(t,r,n={},a=ug){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var p1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(p1||(p1={}));class us{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=us.syncState(this.state,a,i,o),this.pendingDiffs.forEach(s=>{this.state=us.syncDiff(this.state,s,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=us.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},s={};return this.map(i,(c,d)=>{o[c]||(s[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),v=d.filter(y=>m.indexOf(y.presence_ref)<0),x=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(l[c]=v),x.length>0&&(s[c]=x)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:s},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,s)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(s),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,s)}),this.map(o,(l,s)=>{let c=t[l];if(!c)return;const d=s.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=c,a(l,c,s),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var g1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(g1||(g1={}));var cs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cs||(cs={}));var bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));class jy{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cm(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new cA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new us(this),this.broadcastEndpointURL=fA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:l,private:s}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:s};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(bn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(bn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(bn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,g=[];for(let p=0;p<y;p++){const b=x[p],{filter:{event:_,schema:j,table:S,filter:E}}=b,O=m&&m[p];if(O&&O.event===_&&O.schema===j&&O.table===S&&O.filter===E)g.push(Object.assign(Object.assign({},b),{id:O.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(bn.SUBSCRIBED);return}}).receive("error",m=>{this.state=rt.errored,t==null||t(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rt.joined&&t===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let s=l.statusText;try{const c=await l.json();s=c.error||c.message||s}catch{}return Promise.reject(new Error(s))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,s;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((s=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||s===void 0)&&s.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Cm(this,Hr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Cm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>w5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:s,leave:c,join:d}=Hr;if(n&&[l,s,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,x,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(x=m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,x,y,g,p,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:x,table:y,commit_timestamp:g,type:p,errors:b}=v;h=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:g,eventType:p,new:{},old:{},errors:b}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jy.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=m1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=m1(t.columns,t.old_record)),r}}const Am=()=>{},Zu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},T5=[1e3,2e3,5e3,1e4],k5=1e4,P5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ug,this.transport=null,this.heartbeatIntervalMs=Zu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Am,this.ref=0,this.reconnectTimer=null,this.logger=Am,this.conn=null,this.sendBuffer=[],this.serializer=new _5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>hl(async()=>{const{default:l}=await Promise.resolve().then(()=>Ii);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${cg.websocket}`,this.httpEndpoint=fA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=g5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return ai.Connecting;case ss.open:return ai.Open;case ss.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new jy(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var s;(s=this.conn)===null||s===void 0||s.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(x5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Zu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",s=i.status||"";this.log("receive",`${s} ${n} ${a} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([P5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:y5};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Hr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,s,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ug,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Zu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Am,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(s=t==null?void 0:t.reconnectAfterMs)!==null&&s!==void 0?s:f=>T5[f-1]||k5,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ey extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class R5 extends Ey{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fg extends Ey{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Oy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},M5=()=>G(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hl(()=>Promise.resolve().then(()=>Ii),void 0)).Response:Response}),hg=e=>{if(Array.isArray(e))return e.map(r=>hg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=hg(n)}),t},D5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},z5=(e,t,r)=>G(void 0,void 0,void 0,function*(){const n=yield M5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new R5(Tm(a),i,o))}).catch(a=>{t(new fg(Tm(a),a))}):t(new fg(Tm(e),e))}),B5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(D5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function ou(e,t,r,n,a,i){return G(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,B5(t,n,a,i)).then(s=>{if(!s.ok)throw s;return n!=null&&n.noResolveJson?s:s.json()}).then(s=>o(s)).catch(s=>z5(s,l,n))})})}function As(e,t,r,n){return G(this,void 0,void 0,function*(){return ou(e,"GET",t,r,n)})}function Ur(e,t,r,n,a){return G(this,void 0,void 0,function*(){return ou(e,"POST",t,n,a,r)})}function mg(e,t,r,n,a){return G(this,void 0,void 0,function*(){return ou(e,"PUT",t,n,a,r)})}function I5(e,t,r,n){return G(this,void 0,void 0,function*(){return ou(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Cy(e,t,r,n,a){return G(this,void 0,void 0,function*(){return ou(e,"DELETE",t,n,a,r)})}class $5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return G(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}var hA;class L5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[hA]="BlobDownloadBuilder",this.promise=null}asStream(){return new $5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return G(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}hA=Symbol.toStringTag;const U5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},v1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q5{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Oy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return G(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},v1),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const s=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,s&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?mg:Ur)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return G(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let s;const c=Object.assign({upsert:v1.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",c.cacheControl)):(s=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield mg(this.fetch,l.toString(),s,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(t,r){return G(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ey("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return G(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}copy(t,r,n){return G(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return G(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ur(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return G(this,void 0,void 0,function*(){try{const a=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),s=()=>As(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new L5(s,this.shouldThrowOnError)}info(t){return G(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield As(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}exists(t){return G(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield I5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n)&&n instanceof fg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});s!==""&&a.push(s);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return G(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return G(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},U5),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}listV2(t,r){return G(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const mA="2.78.0",pA={"X-Client-Info":`storage-js/${mA}`};class H5{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pA),r),this.fetch=Oy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return G(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield As(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}getBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}createBucket(t){return G(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return G(this,void 0,void 0,function*(){try{return{data:yield mg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class W5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pA),r),this.fetch=Oy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBuckets(t){return G(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield As(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}const Ay={"X-Client-Info":`storage-js/${mA}`,"Content-Type":"application/json"};class gA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ir(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class km extends gA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class V5 extends gA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var y1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(y1||(y1={}));const Ty=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},K5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},b1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G5=(e,t,r)=>G(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new km(b1(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new km(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new km(l,a,o))}}else t(new V5(b1(e),e))}),F5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(K5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Y5(e,t,r,n,a,i){return G(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,F5(t,n,a,i)).then(s=>{if(!s.ok)throw s;if(n!=null&&n.noResolveJson)return s;const c=s.headers.get("content-type");return!c||!c.includes("application/json")?{}:s.json()}).then(s=>o(s)).catch(s=>G5(s,l,n))})})}function or(e,t,r,n,a){return G(this,void 0,void 0,function*(){return Y5(e,"POST",t,n,a,r)})}class X5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ay),r),this.fetch=Ty(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getIndex(t,r){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listIndexes(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class Z5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ay),r),this.fetch=Ty(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return G(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getVectors(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listVectors(t){return G(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield or(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}queryVectors(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteVectors(t){return G(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class J5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ay),r),this.fetch=Ty(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBuckets(){return G(this,arguments,void 0,function*(t={}){try{return{data:yield or(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class Q5 extends J5{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new e3(this.url,this.headers,t,this.fetch)}}class e3 extends X5{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return G(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return G(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return G(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return G(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new t3(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class t3 extends Z5{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return G(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return G(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return G(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return G(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return G(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class r3 extends H5{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new q5(this.url,this.headers,t,this.fetch)}get vectors(){return new Q5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new W5(this.url+"/iceberg",this.headers,this.fetch)}}const n3="2.78.0";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const a3={"X-Client-Info":`supabase-js-${Vl}/${n3}`},i3={headers:a3},o3={schema:"public"},l3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s3={},u3=e=>{let t;return e?t=e:typeof fetch>"u"?t=VC:t=fetch,(...r)=>t(...r)},c3=()=>typeof Headers>"u"?KC:Headers,d3=(e,t,r)=>{const n=u3(r),a=c3();return async(i,o)=>{var l;const s=(l=await t())!==null&&l!==void 0?l:e;let c=new a(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${s}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function f3(e){return e.endsWith("/")?e:e+"/"}function h3(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:s,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},s),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function m3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(f3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vA="2.78.0",ao=30*1e3,pg=3,Pm=pg*ao,p3="http://localhost:9999",g3="supabase.auth.token",v3={"X-Client-Info":`gotrue-js/${vA}`},gg="X-Supabase-Api-Version",yA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b3=10*60*1e3;class Ts extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class x3 extends Ts{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function w3(e){return X(e)&&e.name==="AuthApiError"}class ii extends Ts{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ha extends Ts{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class $r extends Ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _3(e){return X(e)&&e.name==="AuthSessionMissingError"}class Gi extends Ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ju extends Ha{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qu extends Ha{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function S3(e){return X(e)&&e.name==="AuthImplicitGrantRedirectError"}class x1 extends Ha{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vg extends Ha{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Nm(e){return X(e)&&e.name==="AuthRetryableFetchError"}class w1 extends Ha{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yg extends Ha{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_1=` 	
\r=`.split(""),j3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_1.length;t+=1)e[_1[t].charCodeAt(0)]=-2;for(let t=0;t<md.length;t+=1)e[md[t].charCodeAt(0)]=t;return e})();function S1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(md[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(md[n]),t.queuedBits-=6}}function bA(e,t,r){const n=j3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function j1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{C3(o,n,r)};for(let o=0;o<e.length;o+=1)bA(e.charCodeAt(o),a,i);return t.join("")}function E3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function O3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}E3(n,t)}}function C3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function To(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)bA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function A3(e){const t=[];return O3(e,r=>t.push(r)),new Uint8Array(t)}function oi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>S1(a,r,n)),S1(null,r,n),t.join("")}function T3(e){return Math.round(Date.now()/1e3)+e}function k3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pt=()=>typeof window<"u"&&typeof document<"u",Fa={tested:!1,writable:!1},xA=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fa.tested)return Fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fa.tested=!0,Fa.writable=!0}catch{Fa.tested=!0,Fa.writable=!1}return Fa.writable};function P3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const wA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},N3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",io=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ya=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},la=async(e,t)=>{await e.removeItem(t)};class Df{constructor(){this.promise=new Df.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Df.promiseConstructor=Promise;function Rm(e){const t=e.split(".");if(t.length!==3)throw new yg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!y3.test(t[n]))throw new yg("JWT not in base64url format");return{header:JSON.parse(j1(t[0])),payload:JSON.parse(j1(t[1])),signature:To(t[2]),raw:{header:t[0],payload:t[1]}}}async function R3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function M3(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function D3(e){return("0"+e.toString(16)).substr(-2)}function z3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,D3).join("")}async function B3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function I3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await B3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fi(e,t,r=!1){const n=z3();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await io(e,`${t}-code-verifier`,a);const i=await I3(n);return[i,n===i?"plain":"s256"]}const $3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function L3(e){const t=e.headers.get(gg);if(!t||!t.match($3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function U3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function q3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yi(e){if(!H3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function W3(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function E1(e){return JSON.parse(JSON.stringify(e))}const ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V3=[502,503,504];async function O1(e){var t;if(!N3(e))throw new vg(ei(e),0);if(V3.includes(e.status))throw new vg(ei(e),e.status);let r;try{r=await e.json()}catch(i){throw new ii(ei(i),i)}let n;const a=L3(e);if(a&&a.getTime()>=yA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new w1(ei(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new w1(ei(r),e.status,r.weak_password.reasons);throw new x3(ei(r),e.status||500,n)}const K3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function J(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[gg]||(i[gg]=yA["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",s=await G3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(s):{data:Object.assign({},s),error:null}}async function G3(e,t,r,n,a,i){const o=K3(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(s){throw console.error(s),new vg(ei(s),0)}if(l.ok||await O1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(s){await O1(s)}}function Lr(e){var t;let r=null;X3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=T3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function C1(e){const t=Lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ga(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function F3(e){return{data:e,error:null}}function Y3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=fl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},s=Object.assign({},o);return{data:{properties:l,user:s},error:null}}function A1(e){return e}function X3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dm=["global","local","others"];class Z3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=wA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Dm[0]){if(Dm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dm.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ga})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Y3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ga})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,s;try{const c={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:A1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);c[`${y}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(X(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Yi(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ga})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yi(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ga})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yi(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ga})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yi(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yi(t.userId),Yi(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,s;try{const c={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:A1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);c[`${y}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(X(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}}function T1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xi={debug:!!(globalThis&&xA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _A extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class J3 extends _A{}async function Q3(e,t,r){Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new J3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function e4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function SA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function t4(e){return parseInt(e,16)}function r4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function n4(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:s,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=SA(e.address),v=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${m}

${x}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),s&&(g+=`
Request ID: ${s}`),c){let p=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);p+=`
- ${b}`}g+=p}return`${y}
${g}`}class Fe extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class pd extends Fe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function a4({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(jA(o)){if(i.rp.id!==o)return new Fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function i4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(jA(n)){if(r.rpId!==n)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class o4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const l4=new o4;function s4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=fl(e,["challenge","user","excludeCredentials"]),i=To(t).buffer,o=Object.assign(Object.assign({},r),{id:To(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const c=n[s];l.excludeCredentials[s]=Object.assign(Object.assign({},c),{id:To(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function u4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=fl(e,["challenge","allowCredentials"]),a=To(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:To(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function c4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:oi(new Uint8Array(e.response.attestationObject)),clientDataJSON:oi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function d4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oi(new Uint8Array(a.authenticatorData)),clientDataJSON:oi(new Uint8Array(a.clientDataJSON)),signature:oi(new Uint8Array(a.signature)),userHandle:a.userHandle?oi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function jA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function k1(){var e,t;return!!(Pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function f4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",t)}:{data:null,error:new pd("Empty credential response",t)}}catch(t){return{data:null,error:a4({error:t,options:e})}}}async function h4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",t)}:{data:null,error:new pd("Empty credential response",t)}}catch(t){return{data:null,error:i4({error:t,options:e})}}}const m4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},p4={userVerification:"preferred",hints:["security-key"]};function gd(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=gd(l,o):n[i]=gd(o)}else n[i]=o}return n}function g4(e,t){return gd(m4,e,t||{})}function v4(e,t){return gd(p4,e,t||{})}class y4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const s=a??l4.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=g4(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await f4({publicKey:c,signal:s});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=v4(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await h4(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:s}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return X(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Ts("rpId is required for WebAuthn authentication")};try{if(!k1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:s}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:s.type,rpId:r,rpOrigins:n,credential_response:s.credential_response}})}catch(o){return X(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Ts("rpId is required for WebAuthn registration")};try{if(!k1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:s,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return s?this._verify({factorId:o.id,challengeId:s.challengeId,webauthn:{rpId:r,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:c}}catch(o){return X(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in register",o)}}}}e4();const b4={url:p3,storageKey:g3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function P1(e,t,r){return await r()}const Zi={};class ks{get jwks(){var t,r;return(r=(t=Zi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zi[this.storageKey]=Object.assign(Object.assign({},Zi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zi[this.storageKey]=Object.assign(Object.assign({},Zi[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ks.nextInstanceID,ks.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},b4),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Z3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=wA(a.fetch),this.lock=a.lock||P1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Q3:this.lock=P1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new y4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:xA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=T1(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=P3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),S3(i)){const s=(t=i.details)===null||t===void 0?void 0:t.code;if(s==="identity_already_exists"||s==="identity_not_found"||s==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?{error:r}:{error:new ii("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Lr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:c,session:s},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Fi(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Lr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lr})}else throw new Ju("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:c,session:s},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:C1})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:C1})}else throw new Ju("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Gi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,s,c,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:x,wallet:y,statement:g,options:p}=t;let b;if(Pt())if(typeof y=="object")b=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")b=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=SA(j[0]);let E=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await b.request({method:"eth_chainId"});E=t4(A)}const O={domain:_.host,address:S,statement:g,uri:_.href,version:"1",chainId:E,nonce:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.notBefore,requestId:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=n4(O),v=await b.request({method:"personal_sign",params:[r4(m),S]})}try{const{data:x,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Lr});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Gi}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(X(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var r,n,a,i,o,l,s,c,d,f,h,m;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:y,wallet:g,statement:p,options:b}=t;let _;if(Pt())if(typeof g=="object")_=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:y,error:g}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:oi(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Lr});if(g)throw g;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Gi}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:g})}catch(y){if(X(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Lr});if(await la(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(X(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Lr}),{data:s,error:c}=l;return c?{data:{user:null,session:null},error:c}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Gi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:c})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:s}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Fi(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=s==null?void 0:s.data)!==null&&r!==void 0?r:{},create_user:(n=s==null?void 0:s.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:s}=t,{data:c,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=s==null?void 0:s.data)!==null&&a!==void 0?a:{},create_user:(i=s==null?void 0:s.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},channel:(o=s==null?void 0:s.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ju("You must provide either an email or phone number.")}catch(l){if(X(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Lr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const s=o.session,c=o.user;return s!=null&&s.access_token&&(await this._saveSession(s),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:c,session:s},error:null}}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fi(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:F3})}catch(i){if(X(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $r;const{error:a}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ju("You must provide either an email or phone number and a type")}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Pm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ya(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Mm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=W3(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ga}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ga})})}catch(r){if(X(r))return _3(r)&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new $r;const o=a.session;let l=null,s=null;this.flowType==="pkce"&&t.email!=null&&([l,s]=await Fi(this.storage,this.storageKey));const{data:c,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:s}),jwt:o.access_token,xform:ga});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Rm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:s}=await this._callRefreshToken(t.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:s}=await this._getUser(t.access_token);if(s)throw s;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(X(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Pt())throw new Qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new x1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new x1("No code detected.");const{data:p,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:s,token_type:c}=t;if(!i||!l||!o||!c)throw new Qu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;s&&(h=parseInt(s));const m=h-d;m*1e3<=ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:x,error:y}=await this._getUser(i);if(y)throw y;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(X(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(w3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=k3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Fi(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(X(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,s,c,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Pt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(X(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:s,access_token:c,nonce:d}=t,f=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:s,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Gi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await M3(async a=>(a>0&&await R3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Nm(i)&&Date.now()+o-n<ao})}catch(n){if(this._debug(r,"error",n),X(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ya(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ya(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await io(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Mm()}else if(a&&!a.user&&!a.user){const o=await Ya(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await la(this.storage,this.storageKey+"-user"),await io(this.storage,this.storageKey,a)):a.user=Mm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Pm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Nm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Df;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),X(i)){const o={data:null,error:i};return Nm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(s){i.push(s)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await io(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=E1(a);await io(this.storage,this.storageKey,i)}else{const a=E1(r);await io(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await la(this.storage,this.storageKey),await la(this.storage,this.storageKey+"-code-verifier"),await la(this.storage,this.storageKey+"-user"),this.userStorage&&await la(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ao);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ao}ms, refresh threshold is ${pg} ticks`),a<=pg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _A)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:s,error:c}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&s.type==="totp"&&(!((a=s==null?void 0:s.totp)===null||a===void 0)&&a.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?c4(t.webauthn.credential_response):d4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:s}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:s})})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:s4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Rm(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new $r}})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(X(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+b3>a)return n;const{data:i,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:s}}=Rm(n);r!=null&&r.allowExpired||U3(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=q3(a.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,A3(`${l}.${s}`)))throw new yg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}}ks.nextInstanceID=0;const x4=ks;class w4 extends x4{constructor(t){super(t)}}class _4{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=m3(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const s=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:o3,realtime:s3,auth:Object.assign(Object.assign({},l3),{storageKey:s}),global:i3},d=h3(n??{},c);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=d3(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new p5(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new r3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new l5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:s,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w4({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:s,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new N5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S4=(e,t,r)=>new _4(e,t,r);function j4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}j4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const E4="https://abbysvxnnhwvvzhftoms.supabase.co",O4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",L=S4(E4,O4);function C4(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[a,i]=w.useState(!1),o=dl(),l=async s=>{s.preventDefault(),i(!0);const{error:c}=await L.auth.signInWithPassword({email:e,password:r});c?c.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(c.message):o("/dashboard"),i(!1)};return u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:u.jsxs("form",{onSubmit:l,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[u.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:s=>{s.target.onerror=null,s.target.style.display="none",s.target.nextSibling.style.display="block"}}),u.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),u.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),u.jsx("input",{id:"email",type:"email",value:e,onChange:s=>t(s.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),u.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:s}=await L.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/dashboard?reset=true"});i(!1),alert(s?"Erro ao enviar email: "+s.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),u.jsx("input",{id:"password",type:"password",value:r,onChange:s=>n(s.target.value),className:"input",placeholder:"",required:!0})]}),u.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),u.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[u.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),u.jsx("button",{type:"button",onClick:()=>o("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const Zn=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},ky=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const l=await o.json(),s=l.estabelecimento||{},c=l.socios&&l.socios.length>0?l.socios[0]:null;return{nome:l.razao_social,fantasia:s.nome_fantasia,doc:t,email:s.email,telefone:s.ddd1&&s.telefone1?`(${s.ddd1}) ${s.telefone1}`:"",address:{logradouro:s.tipo_logradouro?`${s.tipo_logradouro} ${s.logradouro}`:s.logradouro,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cep:s.cep,uf:(n=s.estado)==null?void 0:n.sigla,municipio:(a=s.cidade)==null?void 0:a.nome,cidade:(i=s.cidade)==null?void 0:i.nome},legal_partner:c?{nome:c.nome,cpf:c.cpf_cnpj_socio}:{nome:"",cpf:""},raw:l}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},A4=async e=>{try{const{data:t,error:r}=await L.functions.invoke("manage-asaas-customer",{body:e});if(r)throw r;return t}catch(t){throw console.error("Erro Asaas Customer:",t),t}},lu=async e=>{const{data:t,error:r}=await L.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},zf=async(e,t="invoice")=>{const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await L.functions.invoke("create-asaas-charge",{body:r});if(a)throw a;return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),N1=e=>{const t=k4(e);return t.charAt(0).toUpperCase()+t.slice(1)},EA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),P4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},s)=>w.createElement("svg",{ref:s,...N4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:EA("lucide",a),...!i&&!P4(l)&&{"aria-hidden":"true"},...l},[...o.map(([c,d])=>w.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(R4,{ref:i,iconNode:t,className:EA(`lucide-${T4(N1(e))}`,`lucide-${e}`,n),...a}));return r.displayName=N1(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],R1=je("briefcase",M4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],z4=je("chevron-left",D4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],I4=je("chevron-right",B4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],OA=je("circle-alert",$4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CA=je("circle-check-big",L4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],q4=je("circle-question-mark",U4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],W4=je("clock",H4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],K4=je("copy",V4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Bf=je("credit-card",G4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Y4=je("dollar-sign",F4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vd=je("file-text",X4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],J4=je("funnel",Z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],eB=je("house",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rB=je("info",tB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zm=je("layout-dashboard",nB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iB=je("log-out",aB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],lB=je("megaphone",oB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uB=je("menu",sB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Py=je("plus",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],AA=je("search",dB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hB=je("settings",fB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pB=je("square-pen",mB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],TA=je("trash-2",gB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],yB=je("truck",vB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xB=je("user-check",bB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_B=je("x",wB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jB=je("zap",SB),kA=w.createContext(),$i=()=>{const e=w.useContext(kA);if(!e)throw new Error("useUI must be used within a UIProvider");return e},EB=({children:e})=>{const[t,r]=w.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=w.useRef(null),a=()=>{r(c=>({...c,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(c=>({...c,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(c,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:c,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},l=(c,d="Confirmao",f="Confirmar",h="Cancelar")=>new Promise(m=>{n.current=m,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:c,confirmText:f,cancelText:h,onConfirm:()=>{},onCancel:()=>{}})}),s=()=>{switch(t.variant){case"error":return u.jsx(OA,{size:32,color:"#ef4444"});case"success":return u.jsx(CA,{size:32,color:"#22c55e"});case"warning":return u.jsx(q4,{size:32,color:"#f59e0b"});default:return u.jsx(rB,{size:32,color:"#3b82f6"})}};return u.jsxs(kA.Provider,{value:{showAlert:o,showConfirm:l},children:[e,t.isOpen&&u.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[u.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[u.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[u.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:s()}),u.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),u.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:u.jsx(_B,{size:20})})]}),u.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&u.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:c=>c.currentTarget.style.background="#f9fafb",onMouseOut:c=>c.currentTarget.style.background="white",children:t.cancelText}),u.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:c=>c.currentTarget.style.filter="brightness(0.9)",onMouseOut:c=>c.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),u.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})},PA=w.createContext({}),Jr=()=>w.useContext(PA),OB=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[i,o]=w.useState(!0);w.useEffect(()=>{L.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?l(d.user.id):o(!1)});const{data:{subscription:c}}=L.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?l(f.user.id):(a(null),o(!1))});return()=>c.unsubscribe()},[]);const l=async c=>{try{const{data:d,error:f}=await L.from("profiles").select("*").eq("id",c).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},s={signUp:c=>L.auth.signUp(c),signIn:c=>L.auth.signInWithPassword(c),signOut:()=>L.auth.signOut(),user:t,profile:n,loading:i};return u.jsx(PA.Provider,{value:s,children:!i&&e})},gl=e=>e?e.replace(/\D/g,""):"",If=e=>{const t=gl(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},Vo=e=>gl(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),CB=e=>{const t=gl(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,l,s;try{for(a=0,s=10,i=0;i<9;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,s=11,i=0;i<10;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},AB=e=>{const t=gl(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);let l=i%11<2?0:11-i%11;if(l!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);return l=i%11<2?0:11-i%11,l==a.charAt(1)},Ei=e=>gl(e).length===11,$f=e=>{const t=gl(e);return t.length<=11?CB(t):AB(t)};function Ny({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),[o,l]=w.useState([]),[s,c]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(!1),v=T=>{if(!T&&T!==0)return"";const q=Number(T);return isNaN(q)?"":q.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},x=T=>{if(!T||typeof T!="string")return 0;const q=T.replace(/\D/g,"");return Number(q)/1e4},y=(T,q)=>{const C=q.replace(/\D/g,""),D=(Number(C)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});E(U=>({...U,[T]:D}))},g=T=>T.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),p=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],b=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],_=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],j=[1,5,10,15,20,25,30],[S,E]=w.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var T,q,C,P,D,U,W;O(),A(),e&&E({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:v(e.tarifa_concessionaria),te:v(e.te),tusd:v(e.tusd),fio_b:v(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:g(((T=e.address)==null?void 0:T.cep)||""),rua:((q=e.address)==null?void 0:q.rua)||"",numero:((C=e.address)==null?void 0:C.numero)||"",complemento:((P=e.address)==null?void 0:P.complemento)||"",bairro:((D=e.address)==null?void 0:D.bairro)||"",cidade:((U=e.address)==null?void 0:U.cidade)||"",uf:((W=e.address)==null?void 0:W.uf)||""})},[e]),w.useEffect(()=>{const T=x(S.tarifa_concessionaria);let q=30;S.tipo_ligacao==="trifasico"?q=100:S.tipo_ligacao==="bifasico"&&(q=50);const P=(T*q).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});E(D=>({...D,tarifa_minima:P}))},[S.tarifa_concessionaria,S.tipo_ligacao]);const O=async()=>{const{data:T}=await L.from("subscribers").select("id, name, cpf_cnpj").order("name");l(T||[])},A=async()=>{const{data:T}=await L.from("usinas").select("id, name").order("name");c(T||[])},k=T=>{const q=g(T.target.value);E(C=>({...C,cep:q}))},B=async()=>{const T=S.cep.replace(/\D/g,"");if(T.length===8){m(!0);try{const q=await Zn(T);if(E(C=>({...C,rua:q.rua||"",bairro:q.bairro||"",cidade:q.cidade||"",uf:q.uf||"",concessionaria:C.concessionaria||""})),q.ibge){const C=await lu(q.ibge);if(C){let P=C["Desconto Assinante"]||0;P>1||(P=P*100),E(D=>({...D,rua:q.rua||"",bairro:q.bairro||"",cidade:q.cidade||"",uf:q.uf||"",concessionaria:C.Concessionaria||D.concessionaria,tarifa_concessionaria:C["Tarifa Concessionaria"]?v(C["Tarifa Concessionaria"]):D.tarifa_concessionaria,te:C.TE?v(C.TE):D.te,tusd:C.TUSD?v(C.TUSD):D.tusd,fio_b:C["Fio B"]?v(C["Fio B"]):D.fio_b,desconto_assinante:P.toFixed(2)}))}}}catch(q){console.error("Erro CEP",q),a("Erro ao buscar CEP/Ofertas: "+(q.message||"No encontrado"),"error")}finally{m(!1)}}},N=async T=>{T.preventDefault(),f(!0);try{const q={subscriber_id:S.subscriber_id||null,usina_id:S.usina_id||null,status:S.status,numero_uc:S.numero_uc,titular_conta:S.titular_conta,modalidade:S.modalidade,concessionaria:S.concessionaria,tipo_ligacao:S.tipo_ligacao,franquia:Number(S.franquia),tarifa_concessionaria:x(S.tarifa_concessionaria),te:x(S.te),tusd:x(S.tusd),fio_b:x(S.fio_b),desconto_assinante:Number(S.desconto_assinante),dia_vencimento:Number(S.dia_vencimento),address:{cep:S.cep.replace(/\D/g,""),rua:S.rua,numero:S.numero,complemento:S.complemento,bairro:S.bairro,cidade:S.cidade,uf:S.uf}};if(!q.subscriber_id)throw new Error("Assinante  obrigatrio.");let C;if(e!=null&&e.id?C=await L.from("consumer_units").update(q).eq("id",e.id).select().single():C=await L.from("consumer_units").insert(q).select().single(),C.error)throw C.error;r(C.data),t()}catch(q){a("Erro ao salvar UC: "+q.message,"error")}finally{f(!1)}},K=async()=>{if(await i("Excluir esta Unidade Consumidora?")){f(!0);try{const{error:q}=await L.from("consumer_units").delete().eq("id",e.id);if(q)throw q;n&&n(e.id),t()}catch(q){a("Erro ao excluir: "+q.message,"error")}finally{f(!1)}}};return u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:e?"Editar UC":"Nova Unidade Consumidora"}),u.jsx("button",{onClick:t,className:"modal-close",children:""})]}),u.jsxs("form",{onSubmit:N,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[u.jsx("label",{className:"label",children:"Status da Unidade"}),u.jsx("select",{value:S.status,onChange:T=>E({...S,status:T.target.value}),className:"select",style:{maxWidth:"300px"},children:p.map(T=>u.jsx("option",{value:T.value,children:T.label},T.value))})]}),u.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:u.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Vnculos"})}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{className:"label",children:["Assinante ",u.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),u.jsxs("select",{required:!0,value:S.subscriber_id,onChange:T=>E({...S,subscriber_id:T.target.value}),className:"select",children:[u.jsx("option",{value:"",children:"Selecione..."}),o.map(T=>u.jsxs("option",{value:T.id,children:[T.name," (",T.cpf_cnpj,")"]},T.id))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Usina (Opcional)"}),u.jsxs("select",{value:S.usina_id,onChange:T=>E({...S,usina_id:T.target.value}),className:"select",children:[u.jsx("option",{value:"",children:"Selecione..."}),s.map(T=>u.jsx("option",{value:T.id,children:T.name},T.id))]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[u.jsxs("div",{style:{width:"150px"},children:[u.jsx("label",{className:"label",children:"CEP"}),u.jsxs("div",{style:{position:"relative"},children:[u.jsx("input",{value:S.cep,onChange:k,onBlur:B,placeholder:"00000-000",maxLength:9,className:"input"}),h&&u.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{className:"label",children:"Concessionria (Auto)"}),u.jsx("input",{value:S.concessionaria,onChange:T=>E({...S,concessionaria:T.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),u.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:u.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados da Unidade"})}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{className:"label",children:["Nmero da UC ",u.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),u.jsx("input",{required:!0,value:S.numero_uc,onChange:T=>E({...S,numero_uc:T.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),u.jsx("input",{required:!0,value:S.titular_conta,onChange:T=>E({...S,titular_conta:T.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]}),u.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:u.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo de Instalao"})}),u.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{className:"label",children:"Rua"}),u.jsx("input",{value:S.rua,onChange:T=>E({...S,rua:T.target.value}),className:"input"})]}),u.jsxs("div",{style:{width:"100px"},children:[u.jsx("label",{className:"label",children:"Nmero"}),u.jsx("input",{value:S.numero,onChange:T=>E({...S,numero:T.target.value}),className:"input"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Bairro"}),u.jsx("input",{value:S.bairro,onChange:T=>E({...S,bairro:T.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Complemento"}),u.jsx("input",{value:S.complemento,onChange:T=>E({...S,complemento:T.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Cidade"}),u.jsx("input",{value:S.cidade,onChange:T=>E({...S,cidade:T.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"UF"}),u.jsx("input",{value:S.uf,onChange:T=>E({...S,uf:T.target.value}),className:"input"})]}),u.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:u.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Tcnicos e Comerciais"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Tipo de Ligao"}),u.jsx("select",{value:S.tipo_ligacao,onChange:T=>E({...S,tipo_ligacao:T.target.value}),className:"select",children:_.map(T=>u.jsx("option",{value:T.value,children:T.label},T.value))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Modalidade"}),u.jsx("select",{value:S.modalidade,onChange:T=>E({...S,modalidade:T.target.value}),className:"select",children:b.map(T=>u.jsx("option",{value:T.value,children:T.label},T.value))})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),u.jsx("input",{type:"text",value:S.tarifa_concessionaria,onChange:T=>y("tarifa_concessionaria",T.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),u.jsx("input",{type:"text",value:S.te,onChange:T=>y("te",T.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),u.jsx("input",{type:"text",value:S.tusd,onChange:T=>y("tusd",T.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),u.jsx("input",{type:"text",value:S.fio_b,onChange:T=>y("fio_b",T.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),u.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[u.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),u.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:S.tarifa_minima||"R$ 0,00"}),u.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",S.tipo_ligacao,") x Tarifa."]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),u.jsx("input",{type:"number",step:"0.01",value:S.desconto_assinante,onChange:T=>E({...S,desconto_assinante:T.target.value}),placeholder:"%",className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),u.jsx("input",{type:"number",value:S.franquia,onChange:T=>E({...S,franquia:T.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Dia de Vencimento"}),u.jsx("select",{value:S.dia_vencimento,onChange:T=>E({...S,dia_vencimento:T.target.value}),className:"select",children:j.map(T=>u.jsx("option",{value:T,children:T},T))})]}),u.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&u.jsx("button",{type:"button",onClick:K,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Salvando...":"Salvar UC"})]})]})]})})}function Ry({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),{profile:o}=Jr(),[l,s]=w.useState([]),[c,d]=w.useState([]),[f,h]=w.useState(!1),[m,v]=w.useState(!1),x=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[y,g]=w.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[p,b]=w.useState(!1),[_,j]=w.useState(!1),[S,E]=w.useState(!1);w.useEffect(()=>{O(),e&&(g({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),A(e.id))},[e]);const O=async()=>{const{data:C}=await L.from("originators_v2").select("id, name").order("name");s(C||[])},A=async C=>{const{data:P}=await L.from("consumer_units").select("*").eq("subscriber_id",C);d(P||[])},k=async()=>{const C=y.cep.replace(/\D/g,"");if(C.length===8){j(!0);try{const P=await Zn(C);g(D=>({...D,rua:P.rua||"",bairro:P.bairro||"",cidade:P.cidade||"",uf:P.uf||""}))}catch(P){console.error("Erro ao buscar CEP:",P),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{j(!1)}}},B=async()=>{const C=y.cpf_cnpj.replace(/\D/g,"");if(C.length>=11){E(!0);try{const P=await ky(C);P.nome&&g(D=>({...D,name:P.nome}))}catch(P){console.error("Erro buscar doc",P)}finally{E(!1)}}},N=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${y.name}?`)){h(!0);try{const P=await zf(e.id,"subscriber");P.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(P.url,"_blank"))}catch(P){console.error(P),a("Erro: "+(P.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{h(!1)}}},K=async C=>{if(C.preventDefault(),!$f(y.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(y.phone&&!Ei(y.phone)){a("Telefone invlido!","warning");return}b(!0);try{const P=y.cpf_cnpj.replace(/\D/g,"");let D=L.from("subscribers").select("id").eq("cpf_cnpj",y.cpf_cnpj);e!=null&&e.id&&(D=D.neq("id",e.id));const{data:U,error:W}=await D;if(W)throw W;if(U&&U.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");let ce=null,de=!1;try{const se=await A4({id:e==null?void 0:e.asaas_customer_id,name:y.name,cpfCnpj:y.cpf_cnpj,email:y.email,phone:y.phone,postalCode:y.cep,addressNumber:y.numero,address:y.rua,province:y.bairro});if(!se||!se.success)throw new Error((se==null?void 0:se.error)||"Erro desconhecido");ce=se.asaas_id,de=!0}catch(se){if(console.error("Asaas Sync Error:",se),!await i(`Falha ao sincronizar com Asaas: ${se.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao")){b(!1);return}}const oe={...y};ce&&(oe.asaas_customer_id=ce),oe.originator_id===""&&(oe.originator_id=null);let fe;if(e!=null&&e.id?fe=await L.from("subscribers").update(oe).eq("id",e.id).select().single():fe=await L.from("subscribers").insert(oe).select().single(),fe.error)throw fe.error;de?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let se=null;if(oe.status==="ativacao"?se="ativacao":oe.status==="ativo"&&(se="ativo"),se&&oe.email){const{data:z,error:H}=await L.from("leads").select("id, status").eq("email",oe.email).order("created_at",{ascending:!1}).limit(1);if(!H&&z&&z.length>0){const ne=z[0];if(ne.status!==se){const{error:M}=await L.from("leads").update({status:se}).eq("id",ne.id);M?console.error("Error auto-updating lead status:",M):console.log(`Lead ${ne.id} auto-updated to ${se}`)}}}}catch(se){console.error("Lead sync error:",se)}r(fe.data),t()}catch(P){console.error(P),a("Erro ao salvar assinante: "+P.message,"error")}finally{b(!1)}},T=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){b(!0);try{const{error:P}=await L.from("subscribers").delete().eq("id",e.id);if(P)throw P;n&&n(e.id),t()}catch(P){a("Erro ao excluir: "+P.message,"error")}finally{b(!1)}}},q=async C=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:D}=await L.from("consumer_units").update({subscriber_id:null}).eq("id",C);if(D)throw D;A(e.id),a("UC desvinculada com sucesso!","success")}catch(D){console.error(D),a("Erro ao desvincular UC: "+D.message,"error")}};return u.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),u.jsxs("form",{onSubmit:K,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),u.jsx("select",{value:y.status,onChange:C=>g({...y,status:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:x.map(C=>u.jsx("option",{value:C.value,children:C.label},C.value))})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),u.jsxs("select",{value:y.originator_id,onChange:C=>g({...y,originator_id:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),l.map(C=>u.jsx("option",{value:C.id,children:C.name},C.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),u.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:u.jsx("input",{value:y.cpf_cnpj,onChange:C=>g({...y,cpf_cnpj:If(C.target.value)}),onBlur:B,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:S?"#f0f9ff":"white"},required:!0})})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),u.jsx("input",{required:!0,value:y.name,onChange:C=>g({...y,name:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),u.jsx("input",{type:"email",value:y.email,onChange:C=>g({...y,email:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),u.jsx("input",{value:y.phone,onChange:C=>g({...y,phone:Vo(C.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),u.jsx("input",{value:y.cep,onChange:C=>g({...y,cep:C.target.value}),onBlur:k,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:_?"#f0f9ff":"white"}})]}),u.jsxs("div",{style:{flex:2},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),u.jsx("input",{value:`${y.cidade} - ${y.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),u.jsx("input",{value:y.rua,onChange:C=>g({...y,rua:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),u.jsx("input",{value:y.numero,onChange:C=>g({...y,numero:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),u.jsx("input",{value:y.complemento,onChange:C=>g({...y,complemento:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),u.jsx("input",{value:y.bairro,onChange:C=>g({...y,bairro:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("span",{children:"Unidades Consumidoras (UCs)"}),(e==null?void 0:e.id)&&u.jsxs("button",{type:"button",onClick:()=>v(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:[u.jsx(Py,{size:16})," Cadastrar UCs"]})]}),u.jsx("div",{style:{gridColumn:"1 / -1"},children:c.length>0?u.jsx("ul",{style:{listStyle:"none",padding:0},children:c.map(C=>{var P;return u.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsxs("span",{children:["UC: ",C.numero_uc," - ",C.concessionaria]}),u.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"#666"},children:(P=C.status)==null?void 0:P.replace("_"," ").toUpperCase()})]}),u.jsx("button",{type:"button",onClick:()=>q(C.id),style:{padding:"0.3rem",background:"transparent",border:"none",color:"#a1a1aa",cursor:"pointer"},title:"Desvincular UC",children:u.jsx(TA,{size:16})})]},C.id)})}):u.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[u.jsx("div",{children:(e==null?void 0:e.id)&&u.jsx("button",{type:"button",onClick:N,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:f?"Processando...":u.jsxs(u.Fragment,{children:[u.jsx(Bf,{size:18})," Emitir Fatura Consolidada"]})})}),u.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&u.jsx("button",{type:"button",onClick:T,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),u.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:p,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:p?"Salvando...":"Salvar Assinante"})]})]})]})]}),m&&e&&u.jsx(Ny,{consumerUnit:{subscriber_id:e.id},onClose:()=>v(!1),onSave:()=>{A(e.id),v(!1)}})]})}function TB(){const[e]=bC(),{showAlert:t}=$i(),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,l]=w.useState(!1),[s,c]=w.useState(null),d=e.get("id");e.get("originador");const[f,h]=w.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[m,v]=w.useState(null),x=async()=>{const E=f.cep.replace(/\D/g,"");if(E.length===8){n(!0);try{const O=await Zn(E);if(h(A=>({...A,street:O.rua,neighborhood:O.bairro,city:O.cidade,uf:O.uf})),O.ibge){const A=await lu(O.ibge);A?(v(A),h(k=>({...k,concessionaria:A.Concessionaria||""}))):(v(null),h(k=>({...k,concessionaria:""})))}}catch(O){console.error("Error fetching CEP:",O)}finally{n(!1)}}},y=()=>{if(!m)return 0;const E=Number(m["Tarifa Concessionaria"])||0;let A=Number(m["Desconto Assinante"])||0;return A>1&&(A=A/100),f.consumo*E*A},g=async E=>{E.preventDefault(),n(!0);try{const O=y(),k=d&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(d)?d:null,B={name:f.name,email:f.email,phone:f.phone,cep:f.cep,concessionaria:f.concessionaria,consumo_kwh:f.consumo,calculated_discount:O,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,tarifa_concessionaria:Number(m==null?void 0:m["Tarifa Concessionaria"])||0,desconto_assinante:Number(m==null?void 0:m["Desconto Assinante"])||0,status:"simulacao",originator_id:k},{data:N,error:K}=await L.from("leads").insert(B).select().single();if(K)throw K;N&&c(N),i(!0)}catch(O){console.error("Error saving lead:",O);const A=O.message||"Erro ao processar simulao. Tente novamente.";t(A,"error")}finally{n(!1)}},p=async E=>{if(s!=null&&s.id)try{const{error:O}=await L.from("leads").update({status:"ativacao"}).eq("id",s.id);O?console.error("Failed to update lead status:",O):console.log("Lead status updated to 'ativacao'")}catch(O){console.error("Error updating lead status:",O)}l(!1)},b=E=>E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),_={primary:"#003366",accent:"#FF6600"},j={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:_.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:_.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:_.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},S=y();return u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:j.wrapper,children:[u.jsx("h2",{style:j.header,children:"Saiba o valor do seu desconto"}),u.jsxs("form",{onSubmit:g,style:j.formSpace,children:[u.jsx("div",{style:j.grid,children:u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:j.label,children:"CEP"}),u.jsx("input",{type:"text",maxLength:"9",value:f.cep,onChange:E=>{let O=E.target.value.replace(/\D/g,"");O.length>5&&(O=O.replace(/^(\d{5})(\d)/,"$1-$2")),h({...f,cep:O})},onBlur:x,style:j.input,placeholder:"00000-000",required:!0})]})}),u.jsxs("div",{children:[u.jsx("label",{style:j.label,children:"Nome Completo"}),u.jsx("input",{type:"text",value:f.name,onChange:E=>h({...f,name:E.target.value}),style:j.input,placeholder:"Como devemos te chamar?",required:!0})]}),u.jsxs("div",{style:j.grid,children:[u.jsxs("div",{children:[u.jsx("label",{style:j.label,children:"E-mail"}),u.jsx("input",{type:"email",value:f.email,onChange:E=>h({...f,email:E.target.value}),style:j.input,placeholder:"exemplo@email.com",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:j.label,children:"WhatsApp"}),u.jsx("input",{type:"tel",maxLength:"15",value:f.phone,onChange:E=>{let O=E.target.value.replace(/\D/g,"");O=O.replace(/^(\d{2})(\d)/g,"($1) $2"),O=O.replace(/(\d)(\d{4})$/,"$1-$2"),h({...f,phone:O})},style:j.input,placeholder:"(00) 00000-0000",required:!0})]})]}),u.jsxs("div",{style:j.rangeContainer,children:[u.jsxs("div",{style:j.rangeLabelRow,children:[u.jsx("label",{style:j.label,children:"Mdia de Gasto Mensal (kWh)"}),u.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:_.accent},children:[f.consumo," kWh"]})]}),u.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:f.consumo,onChange:E=>h({...f,consumo:Number(E.target.value)}),style:j.rangeInput}),u.jsxs("div",{style:j.rangeTicks,children:[u.jsx("span",{children:"0 kWh"}),u.jsx("span",{children:"10.000+ kWh"})]})]}),u.jsx("button",{type:"submit",disabled:r,style:j.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[u.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:u.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),u.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),u.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[u.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),u.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),u.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.name})]}),u.jsxs("div",{children:[u.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),u.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.concessionaria})]}),u.jsxs("div",{children:[u.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),u.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[b((s==null?void 0:s.calculated_discount)||S),u.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),u.jsx("button",{onClick:()=>{i(!1),l(!0)},style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:_.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})}),o&&u.jsx(Ry,{subscriber:{name:f.name,email:f.email,phone:f.phone,cep:f.cep,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,status:"ativacao",originator_id:d||""},onClose:()=>l(!1),onSave:p})]})}function kB(){return u.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:u.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:u.jsx(TB,{})})})}function PB(){const{showAlert:e}=$i(),[t,r]=w.useState(!1),[n,a]=w.useState(1),[i,o]=w.useState(null);hf.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[l,s]=w.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[c,d]=w.useState(!1),f=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),u.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),m=async()=>{const p=l.cep.replace(/\D/g,"");if(p.length===8){r(!0);try{const b=await Zn(p);s(_=>({..._,street:b.rua,neighborhood:b.bairro,city:b.cidade,uf:b.uf}))}catch(b){console.error("Error fetching CEP:",b)}finally{r(!1)}}},v=async p=>{p.preventDefault(),r(!0);try{const{data:b,error:_}=await L.auth.signUp({email:l.email,password:l.password,options:{data:{name:l.name,phone:l.phone}}});if(_)throw _;b!=null&&b.user&&(o(b.user.id),a(2))}catch(b){console.error("Error signing up:",b),e(b.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},x=async p=>{p.preventDefault(),r(!0);try{const b={id:i,name:l.name,email:l.email,phone:l.phone,cpf_cnpj:l.cpf,pix_key:l.pix_key,pix_key_type:l.pix_key_type,profession:l.profession,address:{cep:l.cep,street:l.street,number:l.number,neighborhood:l.neighborhood,city:l.city,uf:l.uf,complement:l.complement}},{error:_}=await L.from("originators_v2").insert(b);if(_)throw _;a(3)}catch(b){console.error("Error saving profile:",b),e(b.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},y={primary:"#003366",accent:"#FF6600"},g={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:y.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:y.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?u.jsxs("div",{style:g.wrapper,children:[u.jsx("h2",{style:g.header,children:"Seja um Parceiro B2W"}),u.jsxs("form",{onSubmit:v,style:g.formSpace,children:[u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"Nome Completo"}),u.jsx("input",{type:"text",value:l.name,onChange:p=>s({...l,name:p.target.value}),style:g.input,required:!0})]}),u.jsxs("div",{style:g.grid,children:[u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"E-mail"}),u.jsx("input",{type:"email",value:l.email,onChange:p=>s({...l,email:p.target.value}),style:g.input,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"WhatsApp"}),u.jsx("input",{type:"tel",maxLength:"15",value:l.phone,onChange:p=>{let b=p.target.value.replace(/\D/g,"");b=b.replace(/^(\d{2})(\d)/g,"($1) $2"),b=b.replace(/(\d)(\d{4})$/,"$1-$2"),s({...l,phone:b})},style:g.input,required:!0})]})]}),u.jsxs("div",{style:{position:"relative"},children:[u.jsx("label",{style:g.label,children:"Senha"}),u.jsx("input",{type:c?"text":"password",value:l.password,onChange:p=>s({...l,password:p.target.value}),style:{...g.input,paddingRight:"2.5rem"},required:!0,minLength:6}),u.jsx("button",{type:"button",onClick:()=>d(!c),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:c?u.jsx(h,{}):u.jsx(f,{})})]}),u.jsx("button",{type:"submit",disabled:t,style:g.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&u.jsxs("form",{onSubmit:x,style:g.formSpace,children:[u.jsx("h3",{style:{...g.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),u.jsx("div",{style:g.grid,children:u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:g.label,children:"CEP"}),u.jsx("input",{type:"text",maxLength:"9",value:l.cep,onChange:p=>{let b=p.target.value.replace(/\D/g,"");b.length>5&&(b=b.replace(/^(\d{5})(\d)/,"$1-$2")),s({...l,cep:b})},onBlur:m,style:g.input,required:!0})]})}),u.jsxs("div",{style:g.grid,children:[u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:g.label,children:"Rua"}),u.jsx("input",{value:l.street,style:g.input,readOnly:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"Bairro"}),u.jsx("input",{value:l.neighborhood,style:g.input,readOnly:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"Cidade / UF"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("input",{value:l.city,style:{...g.input,flex:2},readOnly:!0}),u.jsx("input",{value:l.uf,style:{...g.input,flex:1},readOnly:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"Nmero"}),u.jsx("input",{value:l.number,onChange:p=>s({...l,number:p.target.value}),style:g.input,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"Complemento"}),u.jsx("input",{value:l.complement,onChange:p=>s({...l,complement:p.target.value}),style:g.input,placeholder:"Ap 101, Bloco B"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"Profisso"}),u.jsx("input",{type:"text",value:l.profession,onChange:p=>s({...l,profession:p.target.value}),style:g.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),u.jsxs("div",{style:g.grid,children:[u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"CPF (Chave PIX)"}),u.jsx("input",{type:"text",value:l.cpf,onChange:p=>{let b=p.target.value.replace(/\D/g,"");b.length>11&&(b=b.substring(0,11)),b=b.replace(/(\d{3})(\d)/,"$1.$2"),b=b.replace(/(\d{3})(\d)/,"$1.$2"),b=b.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),s(_=>({..._,cpf:b,pix_key:_.pix_key_type==="cpf"?b:_.pix_key}))},style:g.input,required:!0,placeholder:"000.000.000-00"})]}),u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"Tipo Chave PIX"}),u.jsxs("select",{value:l.pix_key_type,onChange:p=>{const b=p.target.value;s(_=>({..._,pix_key_type:b,pix_key:b==="cpf"?_.cpf:""}))},style:g.input,children:[u.jsx("option",{value:"cpf",children:"CPF"}),u.jsx("option",{value:"email",children:"E-mail"}),u.jsx("option",{value:"phone",children:"Telefone"}),u.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),l.pix_key_type!=="cpf"&&u.jsxs("div",{children:[u.jsx("label",{style:g.label,children:"Chave PIX"}),u.jsx("input",{value:l.pix_key,onChange:p=>s({...l,pix_key:p.target.value}),style:g.input,required:!0})]}),u.jsx("button",{type:"submit",disabled:t,style:g.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("h3",{style:{...g.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),u.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),u.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:g.button,children:"Ir para Login"})]})]})})}class NB extends hf.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?u.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[u.jsx("h2",{children:"Algo deu errado."}),u.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),u.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function RB(){return hf.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),u.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:u.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:u.jsx(NB,{children:u.jsx(PB,{})})})})}function MB(){const e=dl(),[t,r]=w.useState(!1),[n,a]=w.useState(1),[i,o]=w.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),l=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await ky(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},s=async()=>{if(i.cep.length>=8){r(!0);try{const f=await Zn(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},c=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await L.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const v=h.user.id,{error:x}=await L.from("profiles").upsert({id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});x&&console.error("Erro ao criar/atualizar perfil:",x);const{data:y,error:g}=await L.from("subscribers").insert({profile_id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(g)throw g;await L.from("consumer_units").insert({subscriber_id:y.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return u.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:u.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[u.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&u.jsx("form",{onSubmit:c,children:u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{children:"CPF/CNPJ"}),u.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:l,style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Nome Completo"}),u.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Senha"}),u.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Telefone"}),u.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&u.jsx("form",{onSubmit:d,children:u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{children:"CEP da Unidade Consumidora"}),u.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Rua"}),u.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),u.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Nmero da Instalao (UC)"}),u.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}function DB({user:e,onClose:t,onSave:r}){const[n,a]=w.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=w.useState(!1),[l,s]=w.useState([]),c={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};w.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await L.from("profiles").select("id, name, role").neq("id",e.id);if(m){const v=c[h]||99,x=m.filter(y=>(c[y.role]||99)<v);s(x)}},f=async h=>{if(h.preventDefault(),n.phone&&!Ei(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:v}=await L.from("profiles").update(m).eq("id",e.id);if(v)throw v;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:"Editar Usurio"}),u.jsx("button",{onClick:t,className:"modal-close",children:""})]}),u.jsxs("form",{onSubmit:f,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Nome"}),u.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Telefone"}),u.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:Vo(h.target.value)}),className:"input"})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Funo (Role)"}),u.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[u.jsx("option",{value:"lead",children:"Lead"}),u.jsx("option",{value:"subscriber",children:"Assinante"}),u.jsx("option",{value:"originator",children:"Originador"}),u.jsx("option",{value:"supplier",children:"Fornecedor"}),u.jsx("option",{value:"coordinator",children:"Coordenador"}),u.jsx("option",{value:"manager",children:"Gerente"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Superior Imediato"}),u.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[u.jsx("option",{value:"",children:"Sem superior"}),l.map(h=>u.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),u.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[u.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),u.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),u.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function zB(){const{user:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(null),[l,s]=w.useState(""),[c,d]=w.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=y=>f[y]||99;w.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:y,error:g}=await L.from("profiles").select("*").order("name");if(g)throw g;r(y||[])}catch(y){console.error("Error fetching users:",y),alert("Erro ao buscar usurios")}finally{a(!1)}},v=y=>{r(t.map(g=>g.id===y.id?y:g)),alert("Perfil atualizado com sucesso!")},x=t.filter(y=>{var b,_;const g=(((b=y.name)==null?void 0:b.toLowerCase())||"").includes(l.toLowerCase())||(((_=y.email)==null?void 0:_.toLowerCase())||"").includes(l.toLowerCase()),p=c?y.role===c:!0;return g&&p}).sort((y,g)=>h(y.role)-h(g.role));return u.jsxs("div",{children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:u.jsx("h2",{children:"Painel Administrativo"})}),u.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[u.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[u.jsx("input",{placeholder:"Buscar por nome ou email...",value:l,onChange:y=>s(y.target.value),className:"input",style:{width:"250px"}}),u.jsxs("select",{value:c,onChange:y=>d(y.target.value),className:"select",style:{width:"auto"},children:[u.jsx("option",{value:"",children:"Todos os Perfis"}),u.jsx("option",{value:"super_admin",children:"Super Admin"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"manager",children:"Gerente"}),u.jsx("option",{value:"coordinator",children:"Coordenador"}),u.jsx("option",{value:"supplier",children:"Fornecedor"}),u.jsx("option",{value:"originator",children:"Originador"}),u.jsx("option",{value:"subscriber",children:"Assinante"}),u.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?u.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Hierarquia"}),u.jsx("th",{children:"Nome"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Perfil (Role)"}),u.jsx("th",{children:"Comisso (Start/Rec.)"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:x.map(y=>{var g,p;return u.jsxs("tr",{children:[u.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(y.role)]}),u.jsx("td",{children:y.name||"-"}),u.jsx("td",{children:y.email}),u.jsx("td",{children:u.jsx("span",{className:"badge badge-neutral",children:y.role})}),u.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((g=y.commission_split)==null?void 0:g.start)||0,"% / ",((p=y.commission_split)==null?void 0:p.recorrente)||0,"%"]}),u.jsx("td",{children:u.jsx("button",{onClick:()=>o(y),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})]}),i&&u.jsx(DB,{user:i,onClose:()=>o(null),onSave:v})]})}function NA({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=Jr(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),o=p=>{if(!p&&p!==0)return"";const b=Number(p);return isNaN(b)?"":b.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},l=p=>{if(!p||typeof p!="string")return 0;const b=p.replace(/\D/g,"");return Number(b)/100},[s,c]=w.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",valor_a_pagar:"",economia_reais:"",status:"a_vencer"}),[d,f]=w.useState(!1),[h,m]=w.useState(!1);w.useEffect(()=>{e?c({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,valor_a_pagar:o(e.valor_a_pagar),economia_reais:o(e.economia_reais),status:e.status}):t&&t.length>0&&c(p=>({...p,uc_id:t[0].id}))},[e,t]);const v=(p,b)=>{const _=b.replace(/\D/g,""),S=(Number(_)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});c(E=>({...E,[p]:S}))},x=(p,b)=>{const _=s.mes_referencia.split("-");let j=_[0]||new Date().getFullYear(),S=_[1]||"01";p==="month"&&(S=b),p==="year"&&(j=b),c(E=>({...E,mes_referencia:`${j}-${S}`}))},y=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const p=await zf(e.id);p.url&&(alert("Boleto gerado com sucesso!"),window.open(p.url,"_blank"),n(),r())}catch(p){console.error(p),alert("Erro ao gerar boleto: "+p.message)}finally{m(!1)}}},g=async p=>{p.preventDefault(),f(!0);try{const b={uc_id:s.uc_id,mes_referencia:`${s.mes_referencia}-01`,vencimento:s.vencimento,consumo_kwh:Number(s.consumo_kwh),valor_a_pagar:l(s.valor_a_pagar),economia_reais:l(s.economia_reais),status:s.status};if(!b.uc_id)throw new Error("Selecione uma Unidade Consumidora (UC).");let _;if(e!=null&&e.id?_=await L.from("invoices").update(b).eq("id",e.id).select().single():_=await L.from("invoices").insert(b).select().single(),_.error)throw _.error;n(),r()}catch(b){alert("Erro ao salvar fatura: "+b.message)}finally{f(!1)}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fatura":"Nova Fatura"}),u.jsxs("form",{onSubmit:g,style:{display:"grid",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Unidade Consumidora"}),u.jsxs("select",{required:!0,value:s.uc_id,onChange:p=>c({...s,uc_id:p.target.value}),disabled:!!e,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(p=>u.jsxs("option",{value:p.id,children:[p.numero_uc," - ",p.titular_conta," (",p.concessionaria,")"]},p.id))]}),(!t||t.length===0)&&u.jsx("p",{style:{color:"red",fontSize:"0.8rem"},children:"Nenhuma UC ativa encontrada. Cadastre uma UC primeiro."})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Ms Referncia (Ms/Ano)"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("select",{value:s.mes_referencia.split("-")[1],onChange:p=>x("month",p.target.value),style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((p,b)=>u.jsx("option",{value:p,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][b]},p))}),u.jsx("select",{value:s.mes_referencia.split("-")[0],onChange:p=>x("year",p.target.value),style:{width:"80px",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(p,b)=>new Date().getFullYear()-2+b).map(p=>u.jsx("option",{value:p,children:p},p))})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Vencimento"}),u.jsx("input",{type:"date",required:!0,value:s.vencimento,onChange:p=>c({...s,vencimento:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo (kWh)"}),u.jsx("input",{type:"number",step:"any",required:!0,value:s.consumo_kwh,onChange:p=>c({...s,consumo_kwh:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Valor a Pagar (R$)"}),u.jsx("input",{type:"text",required:!0,value:s.valor_a_pagar,onChange:p=>v("valor_a_pagar",p.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),u.jsxs("div",{children:[u.jsxs("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:["Economia Gerada (R$) ",u.jsx("span",{style:{color:"#888",fontWeight:"normal"},children:"(Opcional)"})]}),u.jsx("input",{type:"text",value:s.economia_reais,onChange:p=>v("economia_reais",p.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),i&&u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),u.jsxs("select",{value:s.status,onChange:p=>c({...s,status:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"a_vencer",children:"A Vencer"}),u.jsx("option",{value:"pago",children:"Pago"}),u.jsx("option",{value:"atrasado",children:"Atrasado"})]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1.5rem"},children:[u.jsx("div",{children:(e==null?void 0:e.id)&&u.jsx(u.Fragment,{children:e.asaas_boleto_url?u.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none",color:"#166534",fontWeight:"bold"},children:[u.jsx(vd,{size:18})," Ver Boleto"]}):u.jsx("button",{type:"button",onClick:y,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:h?"Gerando...":u.jsxs(u.Fragment,{children:[u.jsx(Bf,{size:18})," Emitir Boleto"]})})})}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function BB(){var j;const{user:e,profile:t}=Jr(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),[s,c]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState(null),[v,x]=w.useState(!1),y=["super_admin","admin","manager"].includes(t==null?void 0:t.role);w.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{l(!0);let S;const{data:E}=await L.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(E){S=E.id,c(E.id);const{data:O}=await L.from("consumer_units").select("*").eq("subscriber_id",S);if(n(O||[]),O&&O.length>0){const A=O.map(B=>B.id),{data:k}=await L.from("invoices").select("*").in("uc_id",A).order("vencimento",{ascending:!1});i(k||[])}}else if(y){const{data:O}=await L.from("consumer_units").select("*");if(n(O||[]),O&&O.length>0){const{data:A}=await L.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(A||[])}}}catch(S){console.error("Error fetching dashboard data:",S)}finally{l(!1)}},p=S=>{const E=a.find(O=>O.id===S.id);i(E?a.map(O=>O.id===S.id?S:O):[S,...a]),alert("Fatura salva com sucesso!")},b=a.reduce((S,E)=>S+(E.economia_reais||0),0),_=a[0];return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Viso Geral do Assinante"}),u.jsx("div",{style:{display:"flex",gap:"1rem"},children:y&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>x(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),u.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[u.jsxs("div",{className:"card",children:[u.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),u.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",b.toFixed(2)]})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),u.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:_?`R$ ${(j=_.valor_a_pagar)==null?void 0:j.toFixed(2)}`:"-"}),u.jsx("small",{style:{color:"var(--color-text-light)"},children:_?new Date(_.vencimento).toLocaleDateString():""})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),u.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),u.jsx("h3",{children:"Minhas Faturas"}),u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),u.jsx("tbody",{children:a.map(S=>{var E,O;return u.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[u.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(S.vencimento).toLocaleDateString()}),u.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[S.consumo_kwh," kWh"]}),u.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=S.valor_a_pagar)==null?void 0:E.toFixed(2)]}),u.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(O=S.economia_reais)==null?void 0:O.toFixed(2)]}),u.jsx("td",{style:{padding:"1rem"},children:u.jsx("span",{className:`badge ${S.status==="pago"?"badge-success":"badge-error"}`,children:S.status==="pago"?"Pago":"A Vencer"})}),u.jsx("td",{style:{padding:"1rem"},children:y?u.jsx("button",{onClick:()=>{m(S),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):u.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},S.id)})})]})}),d&&u.jsx(NA,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:p}),v&&u.jsx(Ny,{consumerUnit:{subscriber_id:s},onClose:()=>x(!1),onSave:()=>{g(),x(!1)}})]})}function IB(){const{user:e,profile:t}=Jr(),[r,n]=w.useState([]),[a,i]=w.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;w.useEffect(()=>{async function c(){const{data:d}=await L.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await L.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await L.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&c()},[e]);const l=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},s=async c=>{var h;if(c.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await L.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",c.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(c.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:v}=await L.functions.invoke("transfer-asaas-pix",{body:{value:c.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(c.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(v)throw v;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await L.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",c.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return u.jsxs("div",{children:[u.jsx("h2",{children:"Painel do Originador"}),u.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[u.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),u.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[u.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),u.jsx("button",{onClick:l,className:"btn btn-accent",children:"Copiar"})]})]}),u.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Data"})]})}),u.jsxs("tbody",{children:[r.map(c=>u.jsxs("tr",{children:[u.jsx("td",{children:c.name}),u.jsx("td",{children:u.jsx("span",{className:"badge badge-neutral",children:c.status})}),u.jsx("td",{children:new Date(c.created_at).toLocaleDateString()})]},c.id)),r.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),u.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Ms Ref."}),u.jsx("th",{children:"Faturas Proc."}),u.jsx("th",{children:"Valor (R$)"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Data Pagt."}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:a.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(c=>u.jsxs("tr",{children:[u.jsx("td",{children:new Date(c.reference_month).toLocaleDateString()}),u.jsx("td",{children:c.total_invoices}),u.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(c.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),u.jsx("td",{children:u.jsx("span",{className:`badge ${c.status==="paid"?"badge-success":"badge-warning"}`,children:c.status==="paid"?"Pago":"Pendente"})}),u.jsx("td",{children:c.payment_date?new Date(c.payment_date).toLocaleDateString():"-"}),u.jsx("td",{children:c.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&u.jsx("button",{onClick:()=>s(c),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},c.id))})]})})})]})}function $B(){const{user:e}=Jr(),[t,r]=w.useState([]);return w.useEffect(()=>{async function n(){const{data:a}=await L.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await L.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),u.jsxs("div",{children:[u.jsx("h2",{children:"Painel do Fornecedor"}),u.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[u.jsx("h3",{children:"Minhas Usinas"}),u.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),u.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>u.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[u.jsx("h4",{children:n.name}),u.jsxs("p",{children:["Status: ",u.jsx("strong",{children:n.status})]}),u.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function LB({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=Jr(),[o,l]=w.useState([]),s=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[c,d]=w.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=w.useState(!1),[m,v]=w.useState(!1);w.useEffect(()=>{x(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(b=>({...b,originator_id:i.id}))},[e,i]);const x=async()=>{const{data:b}=await L.from("originators_v2").select("id, name").order("name");l(b||[])},y=async()=>{const b=c.cep.replace(/\D/g,"");if(b.length===8){v(!0);try{const _=await Zn(b);let j={};if(_.ibge)try{const S=await lu(_.ibge);S&&(j=S)}catch(S){console.error("Erro na oferta",S)}d(S=>({...S,rua:_.rua||"",bairro:_.bairro||"",cidade:_.cidade||"",uf:_.uf||"",concessionaria:(j==null?void 0:j.Concessionaria)||S.concessionaria||"",tarifa_concessionaria:(j==null?void 0:j["Tarifa Concessionaria"])||S.tarifa_concessionaria||"",desconto_assinante:(j==null?void 0:j["Desconto Assinante"])||S.desconto_assinante||""}))}catch(_){console.error("Erro ao buscar CEP:",_),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{v(!1)}}},g=async b=>{if(b.preventDefault(),c.phone&&!Ei(c.phone)){alert("Telefone invlido!");return}h(!0);try{const _={...c};_.tarifa_concessionaria=_.tarifa_concessionaria?Number(_.tarifa_concessionaria):null,_.consumo_kwh=_.consumo_kwh?Number(_.consumo_kwh):null,_.desconto_assinante=_.desconto_assinante?Number(_.desconto_assinante):null,_.originator_id===""&&(_.originator_id=null);let j;if(e!=null&&e.id?j=await L.from("leads").update(_).eq("id",e.id).select().single():j=await L.from("leads").insert(_).select().single(),j.error)throw j.error;r(j.data),t()}catch(_){alert("Erro ao salvar lead: "+_.message)}finally{h(!1)}},p=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:b}=await L.from("leads").delete().eq("id",e.id);if(b)throw b;n&&n(e.id),t()}catch(b){alert("Erro ao excluir lead: "+b.message)}finally{h(!1)}}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),u.jsxs("form",{onSubmit:g,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),u.jsx("select",{value:c.status,onChange:b=>d({...c,status:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:s.map(b=>u.jsx("option",{value:b.value,children:b.label},b.value))})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),u.jsxs("select",{value:c.originator_id,onChange:b=>d({...c,originator_id:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),o.map(b=>u.jsx("option",{value:b.id,children:b.name},b.id))]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),u.jsx("input",{required:!0,value:c.name,onChange:b=>d({...c,name:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),u.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:c.phone,onChange:b=>d({...c,phone:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),u.jsx("input",{type:"email",value:c.email,onChange:b=>d({...c,email:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),u.jsx("input",{placeholder:"00000-000",value:c.cep,onChange:b=>d({...c,cep:b.target.value}),onBlur:y,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),u.jsxs("div",{style:{flex:2},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),u.jsx("input",{value:`${c.cidade} - ${c.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),u.jsx("input",{value:c.rua,onChange:b=>d({...c,rua:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),u.jsx("input",{value:c.numero,onChange:b=>d({...c,numero:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),u.jsx("input",{value:c.complemento,onChange:b=>d({...c,complemento:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),u.jsx("input",{value:c.bairro,onChange:b=>d({...c,bairro:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),u.jsx("input",{type:"number",value:c.consumo_kwh,onChange:b=>d({...c,consumo_kwh:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),u.jsx("input",{value:c.concessionaria,onChange:b=>d({...c,concessionaria:b.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),u.jsx("input",{type:"number",step:"0.0001",value:c.tarifa_concessionaria,onChange:b=>d({...c,tarifa_concessionaria:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),u.jsx("input",{type:"number",step:"0.01",value:c.desconto_assinante,onChange:b=>d({...c,desconto_assinante:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),u.jsx("input",{value:(()=>{const b=Number(c.consumo_kwh)||0,_=Number(c.tarifa_concessionaria)||0,j=Number(c.desconto_assinante)||0;if(b&&_&&j){const E=b*_*(j/100);return isNaN(E)?"R$ 0,00":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[u.jsx("div",{children:e&&n&&u.jsx("button",{type:"button",onClick:p,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&u.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),u.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function UB(){const{profile:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(!1),[l,s]=w.useState(!1),[c,d]=w.useState(null),[f,h]=w.useState(null),[m,v]=w.useState("list"),[x,y]=w.useState(""),g=t.filter(O=>{var k,B,N;if(!x)return!0;const A=x.toLowerCase();return((k=O.name)==null?void 0:k.toLowerCase().includes(A))||((B=O.email)==null?void 0:B.toLowerCase().includes(A))||((N=O.phone)==null?void 0:N.includes(A))});w.useEffect(()=>{p()},[]);const p=async()=>{a(!0);try{const{data:O,error:A}=await L.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(A)throw A;r(O||[])}catch(O){console.error("Error fetching leads:",O)}finally{a(!1)}},b=O=>{t.find(k=>k.id===O.id)?(r(t.map(k=>k.id===O.id?{...k,...O}:k)),p()):(r([O,...t]),p())},_=O=>{r(t.filter(A=>A.id!==O))},j=O=>{h(O),s(!0)},S=async O=>{try{await L.from("leads").update({status:"em_negociacao"}).eq("id",f.id),p(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(A){console.error("Erro ao atualizar status do lead",A)}},E={simulacao:"#64748b",indicado:"#0ea5e9",em_negociacao:"#eab308",ativo:"#22c55e",negocio_perdido:"#ef4444",pago:"#8b5cf6"};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Gesto de Leads"}),u.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[u.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:x,onChange:O=>y(O.target.value),className:"input",style:{maxWidth:"350px"}}),u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>v("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>v("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:m==="list"?u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:g.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome"}),u.jsx("th",{children:"Contato"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Originador"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:g.map(O=>{var A;return u.jsxs("tr",{children:[u.jsx("td",{style:{fontWeight:"bold"},children:O.name}),u.jsxs("td",{children:[u.jsx("div",{style:{fontSize:"0.9rem"},children:O.email}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:O.phone})]}),u.jsx("td",{children:u.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:O.status==="simulacao"?"#f1f5f9":O.status==="em_negociacao"?"#fef9c3":O.status==="ativo"?"#dcfce7":"#f1f5f9",color:O.status==="simulacao"?"#64748b":O.status==="em_negociacao"?"#a16207":O.status==="ativo"?"#166534":"#64748b"},children:O.status.toUpperCase().replace("_"," ")})}),u.jsx("td",{children:((A=O.originator)==null?void 0:A.name)||"-"}),u.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("button",{onClick:()=>{d(O),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),O.status!=="convertido"&&u.jsx("button",{onClick:()=>j(O),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},O.id)})})]})})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["simulacao","indicado","em_negociacao","ativo","negocio_perdido","pago"].map(O=>{const A=g.filter(B=>B.status===O),k=E[O]||"#64748b";return u.jsxs("div",{style:{minWidth:"280px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${k}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:k},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:O.replace("_"," ")}),u.jsx("span",{style:{fontSize:"0.8rem",background:k,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:A.length})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:A.map(B=>{var N,K;return u.jsxs("div",{onClick:()=>{d(B),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:T=>T.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:T=>T.currentTarget.style.borderColor="transparent",children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:B.name}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:B.email}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:B.phone}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[u.jsx("span",{children:(K=(N=B.originator)==null?void 0:N.name)==null?void 0:K.split(" ")[0]}),u.jsx("span",{children:new Date(B.created_at).toLocaleDateString()})]})]},B.id)})})]},O)})})}),i&&u.jsx(LB,{lead:c,onClose:()=>o(!1),onSave:b,onDelete:_,onConvert:j}),l&&u.jsx(Ry,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>s(!1),onSave:S})]})}function qB(){const{profile:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(!1),[l,s]=w.useState(null),[c,d]=w.useState("list"),[f,h]=w.useState(""),[m,v]=w.useState(null),x=t.filter(j=>{var E,O,A,k;if(!f)return!0;const S=f.toLowerCase();return((E=j.name)==null?void 0:E.toLowerCase().includes(S))||((O=j.email)==null?void 0:O.toLowerCase().includes(S))||((A=j.phone)==null?void 0:A.includes(S))||((k=j.cpf_cnpj)==null?void 0:k.includes(S))});w.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const{data:j,error:S}=await L.from("subscribers").select("*").order("created_at",{ascending:!1});if(S)throw S;r(j||[])}catch(j){console.error("Error fetching subscribers:",j)}finally{a(!1)}},g=j=>{const S=t.find(E=>E.id===j.id);r(S?t.map(E=>E.id===j.id?{...E,...j}:E):[j,...t])},p=async j=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${j.name}?`)){v(j.id);try{const S=await zf(j.id,"subscriber");S.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(S.url,"_blank"))}catch(S){console.error(S),alert("Erro: "+(S.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{v(null)}}},b={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},_=j=>{r(t.filter(S=>S.id!==j))};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Gesto de Assinantes"}),u.jsx("button",{onClick:()=>{s(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[u.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:j=>h(j.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),u.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:c==="list"?"var(--color-blue)":"white",color:c==="list"?"white":"#333"},children:"Lista"}),u.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:c==="kanban"?"var(--color-blue)":"white",color:c==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:c==="list"?u.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:x.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),u.jsx("tbody",{children:x.map(j=>{var S,E,O,A,k;return u.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[u.jsxs("td",{style:{padding:"1rem"},children:[u.jsx("div",{style:{fontWeight:"bold"},children:j.name}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.cpf_cnpj})]}),u.jsxs("td",{style:{padding:"1rem"},children:[u.jsx("div",{style:{fontSize:"0.9rem"},children:j.email}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.phone})]}),u.jsx("td",{style:{padding:"1rem"},children:u.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(S=j.status)!=null&&S.includes("ativo")?"#dcfce7":(E=j.status)!=null&&E.includes("cancelado")?"#fee2e2":"#dbeafe",color:(O=j.status)!=null&&O.includes("ativo")?"#166534":(A=j.status)!=null&&A.includes("cancelado")?"#dc2626":"#1e40af"},children:(k=j.status)==null?void 0:k.toUpperCase().replace("_"," ")})}),u.jsx("td",{style:{padding:"1rem"},children:j.cidade?`${j.cidade}/${j.uf}`:"-"}),u.jsx("td",{style:{padding:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("button",{onClick:()=>p(j),disabled:m===j.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===j.id?"...":u.jsx(Bf,{size:14})}),u.jsx("button",{onClick:()=>{s(j),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},j.id)})})]})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(j=>{const S=x.filter(O=>O.status===j),E=b[j]||"#64748b";return u.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${E}`},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:E},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:j.replace("_"," ")}),u.jsx("span",{style:{fontSize:"0.8rem",background:E,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:S.length})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:S.map(O=>u.jsxs("div",{onClick:()=>{s(O),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:A=>A.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:A=>A.currentTarget.style.borderColor="transparent",children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:O.name}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.cpf_cnpj}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.email}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[u.jsx("span",{children:O.cidade}),u.jsx("span",{children:new Date(O.created_at).toLocaleDateString()})]})]},O.id))})]},j)})})}),i&&u.jsx(Ry,{subscriber:l,onClose:()=>o(!1),onSave:g,onDelete:_})]})}function HB({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(!1),[s,c]=w.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var v,x,y,g,p,b,_,j,S;e&&c({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((v=e.split_commission)==null?void 0:v.start)||0,split_recurrent:((x=e.split_commission)==null?void 0:x.recurrent)||0,cep:((y=e.address)==null?void 0:y.cep)||"",rua:((g=e.address)==null?void 0:g.rua)||"",numero:((p=e.address)==null?void 0:p.numero)||"",complemento:((b=e.address)==null?void 0:b.complemento)||"",bairro:((_=e.address)==null?void 0:_.bairro)||"",cidade:((j=e.address)==null?void 0:j.cidade)||"",uf:((S=e.address)==null?void 0:S.uf)||""})},[e]);const d=async()=>{const v=s.cep.replace(/\D/g,"");if(v.length===8){l(!0);try{const x=await Zn(v);c(y=>({...y,rua:x.rua||"",bairro:x.bairro||"",cidade:x.cidade||"",uf:x.uf||""}))}catch(x){console.error("Erro CEP",x),alert("Erro ao buscar CEP")}finally{l(!1)}}};w.useEffect(()=>{if(s.pix_key_type==="aleatoria")return;let v="";s.pix_key_type==="cpf"||s.pix_key_type==="cnpj"?v=s.cpf_cnpj:s.pix_key_type==="email"?v=s.email:s.pix_key_type==="telefone"&&(v=s.phone),v!==s.pix_key&&c(x=>({...x,pix_key:v}))},[s.pix_key_type,s.cpf_cnpj,s.email,s.phone]);const f=async v=>{if(v.preventDefault(),!$f(s.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!Ei(s.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const x={name:s.name,cpf_cnpj:s.cpf_cnpj,email:s.email,phone:s.phone,pix_key:s.pix_key,pix_key_type:s.pix_key_type,split_commission:{start:Number(s.split_start)||0,recurrent:Number(s.split_recurrent)||0},address:{cep:s.cep,rua:s.rua,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cidade:s.cidade,uf:s.uf}};try{let y;if(e!=null&&e.id?y=await L.from("originators_v2").update(x).eq("id",e.id).select().single():y=await L.from("originators_v2").insert(x).select().single(),y.error)throw y.error;r(y.data),t()}catch(y){alert("Erro ao salvar originador: "+y.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:v}=await L.from("originators_v2").delete().eq("id",e.id);if(v)throw v;n&&n(e.id),t()}catch(v){alert("Erro ao excluir: "+v.message)}finally{i(!1)}}},m=e?`${window.location.origin}/originador?id=${e.id}`:"Salver para gerar URL";return u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),u.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&u.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[u.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("input",{value:`${window.location.origin}/originador?id=${e.id}`,readOnly:!0,className:"input",style:{color:"#0284c7"}}),u.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/originador?id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),u.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("div",{style:{gridColumn:"1 / -1"},children:u.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),u.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[u.jsx("label",{className:"label",children:"Nome Completo"}),u.jsx("input",{value:s.name,onChange:v=>c({...s,name:v.target.value}),className:"input",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"CPF/CNPJ"}),u.jsx("input",{value:s.cpf_cnpj,onChange:v=>c({...s,cpf_cnpj:If(v.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Email"}),u.jsx("input",{type:"email",value:s.email,onChange:v=>c({...s,email:v.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Telefone"}),u.jsx("input",{value:s.phone,onChange:v=>c({...s,phone:Vo(v.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Tipo Chave PIX"}),u.jsxs("select",{value:s.pix_key_type,onChange:v=>c({...s,pix_key_type:v.target.value}),className:"select",children:[u.jsx("option",{value:"cpf",children:"CPF"}),u.jsx("option",{value:"cnpj",children:"CNPJ"}),u.jsx("option",{value:"email",children:"Email"}),u.jsx("option",{value:"telefone",children:"Telefone"}),u.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Chave PIX"}),u.jsx("input",{value:s.pix_key,onChange:v=>c({...s,pix_key:v.target.value}),className:"input"})]}),u.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:u.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"CEP"}),u.jsxs("div",{style:{position:"relative"},children:[u.jsx("input",{value:s.cep,onChange:v=>c({...s,cep:v.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&u.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Rua"}),u.jsx("input",{value:s.rua,onChange:v=>c({...s,rua:v.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Nmero"}),u.jsx("input",{value:s.numero,onChange:v=>c({...s,numero:v.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Complemento"}),u.jsx("input",{value:s.complemento,onChange:v=>c({...s,complemento:v.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Bairro"}),u.jsx("input",{value:s.bairro,onChange:v=>c({...s,bairro:v.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Cidade"}),u.jsx("input",{value:s.cidade,onChange:v=>c({...s,cidade:v.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"UF"}),u.jsx("input",{value:s.uf,onChange:v=>c({...s,uf:v.target.value}),className:"input"})]}),u.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:u.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),u.jsx("input",{type:"number",step:"0.01",value:s.split_start,onChange:v=>c({...s,split_start:v.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),u.jsx("input",{type:"number",step:"0.01",value:s.split_recurrent,onChange:v=>c({...s,split_recurrent:v.target.value}),className:"input"})]}),e&&u.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[u.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),u.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),u.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&u.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function WB(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(""),[o,l]=w.useState(!1),[s,c]=w.useState(null);w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:b}=await L.from("originators_v2").select("*").order("name");b?console.error("Error fetching originators:",b):t(p||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const p=new Date().toISOString().split("T")[0],{data:b,error:_}=await L.rpc("generate_monthly_commissions",{target_date:p});if(_)throw _;alert(`Processamento concludo!
Faturas processadas: ${b.invoices_processed}
Valor total gerado: R$ ${b.total_commission_value}`)}catch(p){console.error("Error processing commissions:",p),alert("Erro ao processar comisses: "+(p.message||"Erro desconhecido"))}finally{n(!1)}}},h=p=>{c(p),l(!0)},m=()=>{c(null),l(!0)},v=p=>{d()},x=p=>{d()},y=p=>{const b=`${window.location.origin}/clientes?id=${p}`;navigator.clipboard.writeText(b),alert("Link copiado: "+b)},g=e.filter(p=>{var b,_;return((b=p.name)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))||((_=p.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))});return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u.jsx("h2",{children:"Gesto de Originadores"}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),u.jsxs("button",{onClick:m,className:"btn btn-accent",children:[u.jsx(Py,{size:18})," Novo Originador"]})]})]}),u.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[u.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:p=>i(p.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),u.jsx(AA,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?u.jsx("p",{children:"Carregando..."}):u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome"}),u.jsx("th",{children:"Contato"}),u.jsx("th",{children:"Comisso (Start/Rec.)"}),u.jsx("th",{children:"Chave PIX"}),u.jsx("th",{children:"Link"}),u.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),u.jsx("tbody",{children:g.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):g.map(p=>{var b,_;return u.jsxs("tr",{children:[u.jsxs("td",{children:[u.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:p.name}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:p.cpf_cnpj})]}),u.jsxs("td",{children:[u.jsx("div",{style:{fontSize:"0.9rem"},children:p.email}),u.jsx("div",{style:{fontSize:"0.9rem"},children:p.phone})]}),u.jsx("td",{children:u.jsxs("span",{className:"badge badge-success",children:[((b=p.split_commission)==null?void 0:b.start)||0,"% / ",((_=p.split_commission)==null?void 0:_.recurrent)||0,"%"]})}),u.jsx("td",{style:{fontSize:"0.9rem"},children:p.pix_key||"-"}),u.jsx("td",{children:u.jsx("button",{onClick:()=>y(p.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:u.jsx(K4,{size:16,color:"var(--color-blue)"})})}),u.jsx("td",{style:{textAlign:"right"},children:u.jsx("button",{onClick:()=>h(p),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:u.jsx(pB,{size:18})})})]},p.id)})})]})})}),o&&u.jsx(HB,{originator:s,onClose:()=>l(!1),onSave:v,onDelete:x})]})}function VB({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),[o,l]=w.useState(!1),[s,c]=w.useState([]),[d,f]=w.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var g,p,b,_,j,S,E,O,A;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((g=e.address)==null?void 0:g.cep)||"",rua:((p=e.address)==null?void 0:p.logradouro)||((b=e.address)==null?void 0:b.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((S=e.address)==null?void 0:S.bairro)||"",cidade:((E=e.address)==null?void 0:E.municipio)||((O=e.address)==null?void 0:O.cidade)||"",uf:((A=e.address)==null?void 0:A.uf)||""}),h(e.id))},[e]);const h=async g=>{const{data:p}=await L.from("usinas").select("id, name, status").eq("supplier_id",g);c(p||[])},m=async()=>{const g=d.cnpj.replace(/\D/g,"");if(g.length===14){l(!0);try{const p=await ky(g);p&&f(b=>{var _,j,S,E,O,A,k,B,N;return{...b,name:p.nome||b.name,email:p.email||b.email,phone:p.telefone||b.phone,legal_partner_name:((_=p.legal_partner)==null?void 0:_.nome)||b.legal_partner_name,legal_partner_cpf:((j=p.legal_partner)==null?void 0:j.cpf)||b.legal_partner_cpf,cep:((S=p.address)==null?void 0:S.cep)||b.cep,rua:((E=p.address)==null?void 0:E.logradouro)||b.rua,numero:((O=p.address)==null?void 0:O.numero)||b.numero,complemento:((A=p.address)==null?void 0:A.complemento)||b.complemento,bairro:((k=p.address)==null?void 0:k.bairro)||b.bairro,cidade:((B=p.address)==null?void 0:B.municipio)||b.cidade,uf:((N=p.address)==null?void 0:N.uf)||b.uf}})}catch(p){console.error("Erro CNPJ",p),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{l(!1)}}},v=g=>{const p=g.target.value;let b=d.pix_key;switch(p){case"telefone":b=d.phone;break;case"email":b=d.email;break;case"cnpj":b=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(b=d.legal_partner_cpf);break}f(_=>({..._,pix_key_type:p,pix_key:b}))},x=async g=>{if(g.preventDefault(),d.cnpj&&!$f(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!Ei(d.phone)){a("Telefone invlido!","warning");return}l(!0);try{console.log("Submitting payload:",d);const p={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",p);let b;if(e!=null&&e.id?b=await L.from("suppliers").update(p).eq("id",e.id).select().single():b=await L.from("suppliers").insert(p).select().single(),console.log("Supabase result:",b),b.error)throw b.error;r(b.data),t()}catch(p){console.error("Save error details:",p);const b=p.message||JSON.stringify(p);b.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await L.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+b,"error")}finally{l(!1)}},y=async()=>{if(s.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){l(!0);try{const{error:p}=await L.from("suppliers").delete().eq("id",e.id);if(p)throw p;n&&n(e.id),t()}catch(p){a("Erro ao excluir: "+p.message,"error")}finally{l(!1)}}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),u.jsxs("form",{onSubmit:x,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),u.jsx("input",{value:d.cnpj,onChange:g=>f({...d,cnpj:g.target.value}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),u.jsx("input",{required:!0,value:d.name,onChange:g=>f({...d,name:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),u.jsx("input",{value:d.legal_partner_name,onChange:g=>f({...d,legal_partner_name:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),u.jsx("input",{value:d.legal_partner_cpf,onChange:g=>f({...d,legal_partner_cpf:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),u.jsx("input",{value:d.cnpj,onChange:g=>f({...d,cnpj:If(g.target.value)}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),u.jsx("input",{value:d.phone,onChange:g=>f({...d,phone:Vo(g.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),u.jsx("input",{type:"email",value:d.email,onChange:g=>f({...d,email:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),u.jsxs("select",{value:d.pix_key_type,onChange:v,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"cpf",children:"CPF"}),u.jsx("option",{value:"cnpj",children:"CNPJ"}),u.jsx("option",{value:"email",children:"Email"}),u.jsx("option",{value:"telefone",children:"Telefone"}),u.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),u.jsx("input",{value:d.pix_key,onChange:g=>f({...d,pix_key:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),u.jsxs("select",{value:d.status,onChange:g=>f({...d,status:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"ativacao",children:"Em Ativao"}),u.jsx("option",{value:"ativo",children:"Ativo"}),u.jsx("option",{value:"inativo",children:"Inativo"})]})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),u.jsx("input",{value:d.cep,onChange:g=>f({...d,cep:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),u.jsx("input",{value:d.rua,onChange:g=>f({...d,rua:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),u.jsx("input",{value:d.numero,onChange:g=>f({...d,numero:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),u.jsx("input",{value:d.complemento,onChange:g=>f({...d,complemento:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),u.jsx("input",{value:d.bairro,onChange:g=>f({...d,bairro:g.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("input",{value:d.cidade,onChange:g=>f({...d,cidade:g.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),u.jsx("input",{value:d.uf,onChange:g=>f({...d,uf:g.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&s.length>0&&u.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[u.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),u.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:s.map(g=>u.jsxs("li",{children:[g.name," - ",u.jsx("span",{style:{opacity:.7},children:g.status})]},g.id))})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[u.jsx("div",{children:e&&n&&u.jsx("button",{type:"button",onClick:y,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function KB(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState(null);w.useEffect(()=>{s()},[]);const s=async()=>{n(!0);try{const{data:f,error:h}=await L.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},c=()=>{s(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Fornecedores (Geradores)"}),u.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?u.jsx("p",{children:"Carregando..."}):u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:e.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome/Razo Social"}),u.jsx("th",{children:"CNPJ"}),u.jsx("th",{children:"Contato"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:e.map(f=>{var h;return u.jsxs("tr",{children:[u.jsx("td",{style:{fontWeight:"bold"},children:f.name}),u.jsx("td",{children:f.cnpj}),u.jsxs("td",{children:[u.jsx("div",{children:f.email}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),u.jsx("td",{children:u.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),u.jsx("td",{children:u.jsx("button",{onClick:()=>{l(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&u.jsx(VB,{supplier:o,onClose:()=>i(!1),onSave:c,onDelete:d})]})}function RA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=RA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=RA(e))&&(n&&(n+=" "),n+=t);return n}var GB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function My(e){if(typeof e!="string")return!1;var t=GB;return t.includes(e)}var FB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YB=new Set(FB);function MA(e){return typeof e!="string"?!1:YB.has(e)}function DA(e){return typeof e=="string"&&e.startsWith("data-")}function Ln(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(MA(r)||DA(r))&&(t[r]=e[r]);return t}function Dy(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ln(t)}return typeof e=="object"&&!Array.isArray(e)?Ln(e):null}function Rr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(MA(r)||DA(r)||My(r))&&(t[r]=e[r]);return t}var XB=["children","width","height","viewBox","className","style","title","desc"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function ZB(e,t){if(e==null)return{};var r,n,a=JB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zA=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:s,desc:c}=e,d=ZB(e,XB),f=i||{width:n,height:a,x:0,y:0},h=De("recharts-surface",o);return w.createElement("svg",bg({},Rr(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,s),w.createElement("desc",null,c),r)}),QB=["children","className"];function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(null,arguments)}function eI(e,t){if(e==null)return{};var r,n,a=tI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Un=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=eI(e,QB),i=De("recharts-layer",n);return w.createElement("g",xg({className:i},Rr(a),{ref:t}),r)}),rI=w.createContext(null);function Ae(e){return function(){return e}}const BA=Math.cos,yd=Math.sin,Qr=Math.sqrt,bd=Math.PI,Lf=2*bd,wg=Math.PI,_g=2*wg,ti=1e-6,nI=_g-ti;function IA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function aI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class iI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IA:aI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,s=n-t,c=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ti)if(!(Math.abs(f*s-c*d)>ti)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,x=s*s+c*c,y=m*m+v*v,g=Math.sqrt(x),p=Math.sqrt(h),b=i*Math.tan((wg-Math.acos((x+h-y)/(2*g*p)))/2),_=b/p,j=b/g;Math.abs(_-1)>ti&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+j*s},${this._y1=r+j*c}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),s=n*Math.sin(a),c=t+l,d=r+s,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ti||Math.abs(this._y1-d)>ti)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%_g+_g),h>nI?this._append`A${n},${n},0,1,${f},${t-l},${r-s}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>ti&&this._append`A${n},${n},0,${+(h>=wg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function zy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new iI(t)}function By(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $A(e){this._context=e}$A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Uf(e){return new $A(e)}function LA(e){return e[0]}function UA(e){return e[1]}function qA(e,t){var r=Ae(!0),n=null,a=Uf,i=null,o=zy(l);e=typeof e=="function"?e:e===void 0?LA:Ae(e),t=typeof t=="function"?t:t===void 0?UA:Ae(t);function l(s){var c,d=(s=By(s)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),c=0;c<=d;++c)!(c<d&&r(f=s[c],c,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,s),+t(f,c,s));if(m)return i=null,m+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Ae(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ae(+s),l):t},l.defined=function(s){return arguments.length?(r=typeof s=="function"?s:Ae(!!s),l):r},l.curve=function(s){return arguments.length?(a=s,n!=null&&(i=a(n)),l):a},l.context=function(s){return arguments.length?(s==null?n=i=null:i=a(n=s),l):n},l}function ec(e,t,r){var n=null,a=Ae(!0),i=null,o=Uf,l=null,s=zy(c);e=typeof e=="function"?e:e===void 0?LA:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UA:Ae(+r);function c(f){var h,m,v,x=(f=By(f)).length,y,g=!1,p,b=new Array(x),_=new Array(x);for(i==null&&(l=o(p=s())),h=0;h<=x;++h){if(!(h<x&&a(y=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(b[v],_[v]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(y,h,f),_[h]=+t(y,h,f),l.point(n?+n(y,h,f):b[h],r?+r(y,h,f):_[h]))}if(p)return l=null,p+""||null}function d(){return qA().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ae(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),c):i},c}class HA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function oI(e){return new HA(e,!0)}function lI(e){return new HA(e,!1)}const Iy={draw(e,t){const r=Qr(t/bd);e.moveTo(r,0),e.arc(0,0,r,0,Lf)}},sI={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},WA=Qr(1/3),uI=WA*2,cI={draw(e,t){const r=Qr(t/uI),n=r*WA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},dI={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},fI=.8908130915292852,VA=yd(bd/10)/yd(7*bd/10),hI=yd(Lf/10)*VA,mI=-BA(Lf/10)*VA,pI={draw(e,t){const r=Qr(t*fI),n=hI*r,a=mI*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Lf*i/5,l=BA(o),s=yd(o);e.lineTo(s*r,-l*r),e.lineTo(l*n-s*a,s*n+l*a)}e.closePath()}},Bm=Qr(3),gI={draw(e,t){const r=-Qr(t/(Bm*3));e.moveTo(0,r*2),e.lineTo(-Bm*r,-r),e.lineTo(Bm*r,-r),e.closePath()}},br=-.5,xr=Qr(3)/2,Sg=1/Qr(12),vI=(Sg/2+1)*3,yI={draw(e,t){const r=Qr(t/vI),n=r/2,a=r*Sg,i=n,o=r*Sg+r,l=-i,s=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,s),e.lineTo(br*n-xr*a,xr*n+br*a),e.lineTo(br*i-xr*o,xr*i+br*o),e.lineTo(br*l-xr*s,xr*l+br*s),e.lineTo(br*n+xr*a,br*a-xr*n),e.lineTo(br*i+xr*o,br*o-xr*i),e.lineTo(br*l+xr*s,br*s-xr*l),e.closePath()}};function bI(e,t){let r=null,n=zy(a);e=typeof e=="function"?e:Ae(e||Iy),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function xd(){}function wd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function KA(e){this._context=e}KA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xI(e){return new KA(e)}function GA(e){this._context=e}GA.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wI(e){return new GA(e)}function FA(e){this._context=e}FA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _I(e){return new FA(e)}function YA(e){this._context=e}YA.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SI(e){return new YA(e)}function M1(e){return e<0?-1:1}function D1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(M1(i)+M1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function z1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Im(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function _d(e){this._context=e}_d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Im(this,this._t0,z1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Im(this,z1(this,r=D1(this,e,t)),r);break;default:Im(this,this._t0,r=D1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function XA(e){this._context=new ZA(e)}(XA.prototype=Object.create(_d.prototype)).point=function(e,t){_d.prototype.point.call(this,t,e)};function ZA(e){this._context=e}ZA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function jI(e){return new _d(e)}function EI(e){return new XA(e)}function JA(e){this._context=e}JA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=B1(e),a=B1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function B1(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function OI(e){return new JA(e)}function qf(e,t){this._context=e,this._t=t}qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function CI(e){return new qf(e,.5)}function AI(e){return new qf(e,0)}function TI(e){return new qf(e,1)}function Oi(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function jg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function kI(e,t){return e[t]}function PI(e){const t=[];return t.key=e,t}function NI(){var e=Ae([]),t=jg,r=Oi,n=kI;function a(i){var o=Array.from(e.apply(this,arguments),PI),l,s=o.length,c=-1,d;for(const f of i)for(l=0,++c;l<s;++l)(o[l][c]=[0,+n(f,o[l].key,c,i)]).data=f;for(l=0,d=By(t(o));l<s;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?jg:typeof i=="function"?i:Ae(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Oi,a):r},a}function RI(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Oi(e,t)}}function MI(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Oi(e,t)}}function DI(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,s=0,c=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var x=e[t[v]],y=x[n][1]||0,g=x[n-1][1]||0;m+=y-g}s+=f,c+=m*f}a[n-1][1]+=a[n-1][0]=r,s&&(r-=c/s)}a[n-1][1]+=a[n-1][0]=r,Oi(e,t)}}var Hf={},QA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(QA);var $y={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})($y);var Wf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Wf);var Vf={},eT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(eT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eT,r=Wf;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,s="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];c?f==="\\"&&l+1<o?(l++,s+=a[l]):f===c?c="":s+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(s),s=""):s+=f:f==="["?(d=!0,s&&(i.push(s),s="")):f==="."?s&&(i.push(s),s=""):s+=f,l++}return s&&i.push(s),i}e.toPath=n})(Vf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QA,r=$y,n=Wf,a=Vf;function i(l,s,c){if(l==null)return c;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return c;const d=l[s];return d===void 0?r.isDeepKey(s)?i(l,a.toPath(s),c):c:d}case"number":case"symbol":{typeof s=="number"&&(s=n.toKey(s));const d=l[s];return d===void 0?c:d}default:{if(Array.isArray(s))return o(l,s,c);if(Object.is(s==null?void 0:s.valueOf(),-0)?s="-0":s=String(s),t.isUnsafeProperty(s))return c;const d=l[s];return d===void 0?c:d}}}function o(l,s,c){if(s.length===0)return c;let d=l;for(let f=0;f<s.length;f++){if(d==null||t.isUnsafeProperty(s[f]))return c;d=d[s[f]]}return d===void 0?c:d}e.get=i})(Hf);var zI=Hf.get;const Ko=Yn(zI);var BI=4;function ja(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BI,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function qe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var l=r[o-1];return typeof l=="string"?a+l+i:l!==void 0?a+ja(l)+i:a+i},"")}var Kt=e=>e===0?0:e>0?1:-1,Fr=e=>typeof e=="number"&&e!=+e,qn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,F=e=>(typeof e=="number"||e instanceof Number)&&!Fr(e),sn=e=>F(e)||typeof e=="string",II=0,Ps=e=>{var t=++II;return"".concat(e||"").concat(t)},Yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!F(t)&&typeof t!="string")return n;var i;if(qn(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Fr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},tT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function _t(e,t,r){return F(e)&&F(t)?ja(e+r*(t-e)):t}function $I(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ko(n,t))===r)}var gt=e=>e===null||typeof e>"u",su=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function LI(e){return e!=null}function uu(){}var UI=["type","size","sizeType"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(null,arguments)}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){qI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qI(e,t,r){return(t=HI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HI(e){var t=WI(e,"string");return typeof t=="symbol"?t:t+""}function WI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VI(e,t){if(e==null)return{};var r,n,a=KI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rT={symbolCircle:Iy,symbolCross:sI,symbolDiamond:cI,symbolSquare:dI,symbolStar:pI,symbolTriangle:gI,symbolWye:yI},GI=Math.PI/180,FI=e=>{var t="symbol".concat(su(e));return rT[t]||Iy},YI=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*GI;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XI=(e,t)=>{rT["symbol".concat(su(e))]=t},nT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=VI(e,UI),i=$1($1({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=FI(o),m=bI().type(h).size(YI(r,n,o)),v=m();if(v!==null)return v},{className:s,cx:c,cy:d}=i,f=Rr(i);return F(c)&&F(d)&&F(r)?w.createElement("path",Eg({},f,{className:De("recharts-symbols",s),transform:"translate(".concat(c,", ").concat(d,")"),d:l()})):null};nT.registerSymbol=XI;var aT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ZI=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{My(a)&&(n[a]=i=>r[a](r,i))}),n},JI=(e,t,r)=>n=>(e(t,r,n),null),Ly=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];My(a)&&typeof i=="function"&&(n||(n={}),n[a]=JI(i,t,r))}),n};function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){e$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e$(e,t,r){return(t=t$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t$(e){var t=r$(e,"string");return typeof t=="symbol"?t:t+""}function r$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=QI({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var iT={},oT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o,i,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(oT);var lT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(lT);var Uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Uy);var sT={},Kf={},uT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(uT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Kf);var cT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(cT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kf,r=cT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(sT);var dT={},fT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(fT);var hT={},qy={},mT={},Hy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Hy);var Wy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Wy);var Vy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Vy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=Wy,n=Vy;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(v,x,y,g,p,b){const _=h(v,x,y,g,p,b);return _!==void 0?!!_:i(v,x,m,b)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return s(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<v.length;x++){const y=v[x];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,x]of f.entries()){const y=d.get(v);if(h(y,x,v,d,f,m)===!1)return!1}return!0}function s(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let x=0;x<f.length;x++){const y=f[x];let g=!1;for(let p=0;p<d.length;p++){if(v.has(p))continue;const b=d[p];let _=!1;if(h(b,y,x,d,f,m)&&(_=!0),_){v.add(p),g=!0;break}}if(!g)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?s([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=c})(mT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mT;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(qy);var pT={},Ky={},gT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(gT);var Gf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Gf);var Gy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",s="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",x="[object DataView]",y="[object Uint8Array]",g="[object Uint8ClampedArray]",p="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",O="[object BigInt64Array]",A="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=A,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=E,e.int8ArrayTag=j,e.mapTag=s,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=p,e.uint32ArrayTag=b,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=g})(Gy);var vT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(vT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT,r=Gf,n=Gy,a=Wy,i=vT;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,v=void 0){const x=v==null?void 0:v(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let g=0;g<d.length;g++)y[g]=l(d[g],g,h,m,v);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[g,p]of d)y.set(g,l(p,g,h,m,v));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const g of d)y.add(l(g,void 0,h,m,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let g=0;g<d.length;g++)y[g]=l(d[g],g,h,m,v);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),s(y,d,h,m,v),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),s(y,d,h,m,v),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),s(y,d,h,m,v),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,s(y,d,h,m,v),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),s(y,d,h,m,v),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),s(y,d,h,m,v),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),s(y,d,h,m,v),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),s(y,d,h,m,v),y}return d}function s(d,f,h=d,m,v){const x=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<x.length;y++){const g=x[y],p=Object.getOwnPropertyDescriptor(d,g);(p==null||p.writable)&&(d[g]=l(f[g],g,h,m,v))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=s})(Ky);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(pT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qy,r=pT;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(hT);var yT={},bT={},xT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=Gf,n=Gy;function a(i,o){return t.cloneDeepWith(i,(l,s,c,d)=>{const f=o==null?void 0:o(l,s,c,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,c,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(xT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(bT);var wT={},Fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Fy);var _T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(_T);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y,r=Fy,n=_T,a=Vf;function i(o,l){let s;if(Array.isArray(l)?s=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?s=a.toPath(l):s=[l],s.length===0)return!1;let c=o;for(let d=0;d<s.length;d++){const f=s[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(wT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qy,r=Wf,n=bT,a=Hf,i=wT;function o(l,s){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return s=n.cloneDeep(s),function(c){const d=a.get(c,l);return d===void 0?i.has(c,l):s===void 0?d===void 0:t.isMatch(d,s)}}e.matchesProperty=o})(yT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy,r=fT,n=hT,a=yT;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(dT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oT,r=lT,n=Uy,a=sT,i=dT;function o(l,s=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(i.iteratee(s),1)):[]}e.uniqBy=o})(iT);var n$=iT.uniqBy;const U1=Yn(n$);function a$(e,t,r){return t===!0?U1(e,r):typeof t=="function"?U1(e,t):e}var ST={exports:{}},jT={},ET={exports:{}},OT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=w;function i$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o$=typeof Object.is=="function"?Object.is:i$,l$=Go.useState,s$=Go.useEffect,u$=Go.useLayoutEffect,c$=Go.useDebugValue;function d$(e,t){var r=t(),n=l$({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return u$(function(){a.value=r,a.getSnapshot=t,$m(a)&&i({inst:a})},[e,r,t]),s$(function(){return $m(a)&&i({inst:a}),e(function(){$m(a)&&i({inst:a})})},[e]),c$(r),r}function $m(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o$(e,r)}catch{return!0}}function f$(e,t){return t()}var h$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f$:d$;OT.useSyncExternalStore=Go.useSyncExternalStore!==void 0?Go.useSyncExternalStore:h$;ET.exports=OT;var m$=ET.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=w,p$=m$;function g$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v$=typeof Object.is=="function"?Object.is:g$,y$=p$.useSyncExternalStore,b$=Ff.useRef,x$=Ff.useEffect,w$=Ff.useMemo,_$=Ff.useDebugValue;jT.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=b$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=w$(function(){function s(m){if(!c){if(c=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var v=o.value;if(a(v,m))return f=v}return f=m}if(v=f,v$(d,m))return v;var x=n(m);return a!==void 0&&a(v,x)?(d=m,v):(d=m,f=x)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=y$(e,i[0],i[1]);return x$(function(){o.hasValue=!0,o.value=l},[l]),_$(l),l};ST.exports=jT;var S$=ST.exports,Yy=w.createContext(null),j$=e=>e,Ge=()=>{var e=w.useContext(Yy);return e?e.store.dispatch:j$},Nc=()=>{},E$=()=>Nc,O$=(e,t)=>e===t;function Z(e){var t=w.useContext(Yy);return S$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:E$,t?t.store.getState:Nc,t?t.store.getState:Nc,t?e:Nc,O$)}function C$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function A$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function T$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var q1=e=>Array.isArray(e)?e:[e];function k$(e){const t=Array.isArray(e[0])?e[0]:e;return T$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function P$(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var N$=class{constructor(e){this.value=e}deref(){return this.value}},R$=typeof WeakRef<"u"?WeakRef:N$,M$=0,H1=1;function tc(){return{s:M$,v:void 0,o:null,p:null}}function CT(e,t={}){let r=tc();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:s}=arguments;for(let h=0,m=s;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const y=x.get(v);y===void 0?(l=tc(),x.set(v,l)):l=y}else{let x=l.p;x===null&&(l.p=x=new Map);const y=x.get(v);y===void 0?(l=tc(),x.set(v,l)):l=y}}const c=l;let d;if(l.s===H1)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new R$(d):d}return c.s=H1,c.v=d,d}return o.clearCache=()=>{r=tc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function D$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,s={},c=a.pop();typeof c=="object"&&(s=c,c=a.pop()),C$(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...s},{memoize:f,memoizeOptions:h=[],argsMemoize:m=CT,argsMemoizeOptions:v=[]}=d,x=q1(h),y=q1(v),g=k$(a),p=f(function(){return i++,c.apply(null,arguments)},...x),b=m(function(){o++;const j=P$(g,arguments);return l=p.apply(null,j),l},...y);return Object.assign(b,{resultFunc:c,memoizedResultFunc:p,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var R=D$(CT),z$=Object.assign((e,t=R)=>{A$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,s)=>(o[r[s]]=l,o),{}))},{withTypes:()=>z$}),AT={},TT={},kT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(kT);var PT={},Xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Xy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(PT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT,r=PT,n=Vf;function a(i,o,l,s){if(i==null)return[];l=s?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const c=(m,v)=>{let x=m;for(let y=0;y<v.length&&x!=null;++y)x=x[v[y]];return x},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:c(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?c(v,m):typeof v=="object"?v[m]:v,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let x=0;x<f.length;x++){const y=t.compareValues(m.criteria[x],v.criteria[x],l[x]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=a})(TT);var NT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,s)=>{for(let c=0;c<l.length;c++){const d=l[c];Array.isArray(d)&&s<i?o(d,s+1):a.push(d)}};return o(r,0),a}e.flatten=t})(NT);var Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fy,r=Kf,n=Hy,a=Vy;function i(o,l,s){return n.isObject(s)&&(typeof l=="number"&&r.isArrayLike(s)&&t.isIndex(l)&&l<s.length||typeof l=="string"&&l in s)?a.isEqualsSameValueZero(s[l],o):!1}e.isIterateeCall=i})(Zy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TT,r=NT,n=Zy;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(AT);var B$=AT.sortBy;const Yf=Yn(B$);var RT=e=>e.legend.settings,I$=e=>e.legend.size,$$=e=>e.legend.payload;R([$$,RT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Yf(n,r):n});var rc=1;function L$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>rc||Math.abs(o.left-t.left)>rc||Math.abs(o.top-t.top)>rc||Math.abs(o.width-t.width)>rc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var U$=typeof Symbol=="function"&&Symbol.observable||"@@observable",W1=U$,Lm=()=>Math.random().toString(36).substring(7).split("").join("."),q$={INIT:`@@redux/INIT${Lm()}`,REPLACE:`@@redux/REPLACE${Lm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lm()}`},Sd=q$;function Jy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MT(e,t,r){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(bt(1));return r(MT)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,s=!1;function c(){o===i&&(o=new Map,i.forEach((y,g)=>{o.set(g,y)}))}function d(){if(s)throw new Error(bt(3));return a}function f(y){if(typeof y!="function")throw new Error(bt(4));if(s)throw new Error(bt(5));let g=!0;c();const p=l++;return o.set(p,y),function(){if(g){if(s)throw new Error(bt(6));g=!1,c(),o.delete(p),i=null}}}function h(y){if(!Jy(y))throw new Error(bt(7));if(typeof y.type>"u")throw new Error(bt(8));if(typeof y.type!="string")throw new Error(bt(17));if(s)throw new Error(bt(9));try{s=!0,a=n(a,y)}finally{s=!1}return(i=o).forEach(p=>{p()}),y}function m(y){if(typeof y!="function")throw new Error(bt(10));n=y,h({type:Sd.REPLACE})}function v(){const y=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(bt(11));function p(){const _=g;_.next&&_.next(d())}return p(),{unsubscribe:y(p)}},[W1](){return this}}}return h({type:Sd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[W1]:v}}function H$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Sd.INIT})>"u")throw new Error(bt(12));if(typeof r(void 0,{type:Sd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function DT(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{H$(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let s=!1;const c={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],v=h(m,l);if(typeof v>"u")throw l&&l.type,new Error(bt(14));c[f]=v,s=s||v!==m}return s=s||n.length!==Object.keys(o).length,s?c:o}}function jd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function W$(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(bt(15))};const o={getState:a.getState,dispatch:(s,...c)=>i(s,...c)},l=e.map(s=>s(o));return i=jd(...l)(a.dispatch),{...a,dispatch:i}}}function zT(e){return Jy(e)&&"type"in e&&typeof e.type=="string"}var BT=Symbol.for("immer-nothing"),V1=Symbol.for("immer-draftable"),It=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object,Fo=ur.getPrototypeOf,Ed="constructor",Xf="prototype",Og="configurable",Od="enumerable",Rc="writable",Ns="value",Hn=e=>!!e&&!!e[It];function Xr(e){var t;return e?IT(e)||Jf(e)||!!e[V1]||!!((t=e[Ed])!=null&&t[V1])||Qf(e)||eh(e):!1}var V$=ur[Xf][Ed].toString(),K1=new WeakMap;function IT(e){if(!e||!Qy(e))return!1;const t=Fo(e);if(t===null||t===ur[Xf])return!0;const r=ur.hasOwnProperty.call(t,Ed)&&t[Ed];if(r===Object)return!0;if(!oo(r))return!1;let n=K1.get(r);return n===void 0&&(n=Function.toString.call(r),K1.set(r,n)),n===V$}function Zf(e,t,r=!0){cu(e)===0?(r?Reflect.ownKeys(e):ur.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function cu(e){const t=e[It];return t?t.type_:Jf(e)?1:Qf(e)?2:eh(e)?3:0}var G1=(e,t,r=cu(e))=>r===2?e.has(t):ur[Xf].hasOwnProperty.call(e,t),Cg=(e,t,r=cu(e))=>r===2?e.get(t):e[t],Cd=(e,t,r,n=cu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function K$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Jf=Array.isArray,Qf=e=>e instanceof Map,eh=e=>e instanceof Set,Qy=e=>typeof e=="object",oo=e=>typeof e=="function",Um=e=>typeof e=="boolean";function G$(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var wn=e=>e.copy_||e.base_,e0=e=>e.modified_?e.copy_:e.base_;function Ag(e,t){if(Qf(e))return new Map(e);if(eh(e))return new Set(e);if(Jf(e))return Array[Xf].slice.call(e);const r=IT(e);if(t===!0||t==="class_only"&&!r){const n=ur.getOwnPropertyDescriptors(e);delete n[It];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[Rc]===!1&&(l[Rc]=!0,l[Og]=!0),(l.get||l.set)&&(n[o]={[Og]:!0,[Rc]:!0,[Od]:l[Od],[Ns]:e[o]})}return ur.create(Fo(e),n)}else{const n=Fo(e);if(n!==null&&r)return{...e};const a=ur.create(n);return ur.assign(a,e)}}function t0(e,t=!1){return th(e)||Hn(e)||!Xr(e)||(cu(e)>1&&ur.defineProperties(e,{set:nc,add:nc,clear:nc,delete:nc}),ur.freeze(e),t&&Zf(e,(r,n)=>{t0(n,!0)},!1)),e}function F$(){Wr(2)}var nc={[Ns]:F$};function th(e){return e===null||!Qy(e)?!0:ur.isFrozen(e)}var Ad="MapSet",Tg="Patches",F1="ArrayMethods",$T={};function Ci(e){const t=$T[e];return t||Wr(0,e),t}var Y1=e=>!!$T[e],Rs,LT=()=>Rs,Y$=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Y1(Ad)?Ci(Ad):void 0,arrayMethodsPlugin_:Y1(F1)?Ci(F1):void 0});function X1(e,t){t&&(e.patchPlugin_=Ci(Tg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kg(e){Pg(e),e.drafts_.forEach(X$),e.drafts_=null}function Pg(e){e===Rs&&(Rs=e.parent_)}var Z1=e=>Rs=Y$(Rs,e);function X$(e){const t=e[It];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function J1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[It].modified_&&(kg(t),Wr(4)),Xr(e)&&(e=Q1(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[It].base_,e,t)}else e=Q1(t,r);return Z$(t,e,!0),kg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==BT?e:void 0}function Q1(e,t){if(th(t))return t;const r=t[It];if(!r)return Td(t,e.handledSet_,e);if(!rh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);HT(r,e)}return r.copy_}function Z$(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&t0(t,r)}function UT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var rh=(e,t)=>e.scope_===t,J$=[];function qT(e,t,r,n){const a=wn(e),i=e.type_;if(n!==void 0&&Cg(a,n,i)===t){Cd(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Zf(a,(s,c)=>{if(Hn(c)){const d=l.get(c)||[];d.push(s),l.set(c,d)}})}const o=e.draftLocations_.get(t)??J$;for(const l of o)Cd(a,l,r,i)}function Q$(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!rh(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=e0(i);qT(e,i.draft_??i,o,r),HT(i,a)})}function HT(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}UT(e)}}function eL(e,t,r){const{scope_:n}=e;if(Hn(r)){const a=r[It];rh(a,n)&&a.callbacks_.push(function(){Mc(e);const o=e0(a);qT(e,r,o,t)})}else Xr(r)&&e.callbacks_.push(function(){const i=wn(e);e.type_===3?i.has(r)&&Td(r,n.handledSet_,n):Cg(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Td(Cg(e.copy_,t,e.type_),n.handledSet_,n)})}function Td(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Hn(e)||t.has(e)||!Xr(e)||th(e)||(t.add(e),Zf(e,(n,a)=>{if(Hn(a)){const i=a[It];if(rh(i,r)){const o=e0(i);Cd(e,n,o,e.type_),UT(i)}}else Xr(a)&&Td(a,t,r)})),e}function tL(e,t){const r=Jf(e),n={type_:r?1:0,scope_:t?t.scope_:LT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=kd;r&&(a=[n],i=Ms);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var kd={get(e,t){if(t===It)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=wn(e);if(!G1(a,t,e.type_))return rL(e,a,t);const i=a[t];if(e.finalized_||!Xr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&G$(t))return i;if(i===qm(e.base_,t)){Mc(e);const o=e.type_===1?+t:t,l=Rg(e.scope_,i,e,o);return e.copy_[o]=l}return i},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,r){const n=WT(wn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=qm(wn(e),t),i=a==null?void 0:a[It];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(K$(r,a)&&(r!==void 0||G1(e.base_,t,e.type_)))return!0;Mc(e),Ng(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),eL(e,t,r)),!0},deleteProperty(e,t){return Mc(e),qm(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ng(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Rc]:!0,[Og]:e.type_!==1||t!=="length",[Od]:n[Od],[Ns]:r[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return Fo(e.base_)},setPrototypeOf(){Wr(12)}},Ms={};for(let e in kd){let t=kd[e];Ms[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Ms.deleteProperty=function(e,t){return Ms.set.call(this,e,t,void 0)};Ms.set=function(e,t,r){return kd.set.call(this,e[0],t,r,e[0])};function qm(e,t){const r=e[It];return(r?wn(r):e)[t]}function rL(e,t,r){var a;const n=WT(t,r);return n?Ns in n?n[Ns]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function WT(e,t){if(!(t in e))return;let r=Fo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Fo(r)}}function Ng(e){e.modified_||(e.modified_=!0,e.parent_&&Ng(e.parent_))}function Mc(e){e.copy_||(e.assigned_=new Map,e.copy_=Ag(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(oo(r)&&!oo(n)){const o=n;n=r;const l=this;return function(c=o,...d){return l.produce(c,f=>n.call(this,f,...d))}}oo(n)||Wr(6),a!==void 0&&!oo(a)&&Wr(7);let i;if(Xr(r)){const o=Z1(this),l=Rg(o,r,void 0);let s=!0;try{i=n(l),s=!1}finally{s?kg(o):Pg(o)}return X1(o,a),J1(i,o)}else if(!r||!Qy(r)){if(i=n(r),i===void 0&&(i=r),i===BT&&(i=void 0),this.autoFreeze_&&t0(i,!0),a){const o=[],l=[];Ci(Tg).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else Wr(1,r)},this.produceWithPatches=(r,n)=>{if(oo(r))return(l,...s)=>this.produceWithPatches(l,c=>r(c,...s));let a,i;return[this.produce(r,n,(l,s)=>{a=l,i=s}),a,i]},Um(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Um(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Um(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xr(t)||Wr(8),Hn(t)&&(t=Gr(t));const r=Z1(this),n=Rg(r,t,void 0);return n[It].isManual_=!0,Pg(r),n}finishDraft(t,r){const n=t&&t[It];(!n||!n.isManual_)&&Wr(9);const{scope_:a}=n;return X1(a,r),J1(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Ci(Tg).applyPatches_;return Hn(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Rg(e,t,r,n){const[a,i]=Qf(t)?Ci(Ad).proxyMap_(t,r):eh(t)?Ci(Ad).proxySet_(t,r):tL(t,r);return((r==null?void 0:r.scope_)??LT()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?Q$(r,i,n):i.callbacks_.push(function(s){var d;(d=s.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:c}=s;i.modified_&&c&&c.generatePatches_(i,[],s)}),a}function Gr(e){return Hn(e)||Wr(10,e),VT(e)}function VT(e){if(!Xr(e)||th(e))return e;const t=e[It];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ag(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ag(e,!0);return Zf(r,(a,i)=>{Cd(r,a,VT(i))},n),t&&(t.finalized_=!1),r}var aL=new nL,KT=aL.produce;function GT(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var iL=GT(),oL=GT,lL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jd:jd.apply(null,arguments)};function Mr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(mr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>zT(n)&&n.type===e,r}var FT=class Kl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kl.prototype)}static get[Symbol.species](){return Kl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kl(...t[0].concat(this)):new Kl(...t.concat(this))}};function ew(e){return Xr(e)?KT(e,()=>{}):e}function ac(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function sL(e){return typeof e=="boolean"}var uL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new FT;return r&&(sL(r)?o.push(iL):o.push(oL(r.extraArgument))),o},YT="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[YT]:!0}}),tw=e=>t=>{setTimeout(t,e)},XT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,s=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tw(10):e.type==="callback"?e.queueNotification:tw(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[YT]),i=!a,i&&(o||(o=!0,s(c))),n.dispatch(d)}finally{a=!0}}})},cL=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new FT(e);return n&&a.push(XT(typeof n=="object"?n:void 0)),a};function dL(e){const t=uL(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Jy(r))l=DT(r);else throw new Error(mr(1));let s;typeof n=="function"?s=n(t):s=t();let c=jd;a&&(c=lL({trace:!1,...typeof a=="object"&&a}));const d=W$(...s),f=cL(d);let h=typeof o=="function"?o(f):f();const m=c(...h);return MT(l,i,m)}function ZT(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(mr(28));if(l in t)throw new Error(mr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function fL(e){return typeof e=="function"}function hL(e,t){let[r,n,a]=ZT(t),i;if(fL(e))i=()=>ew(e());else{const l=ew(e);i=()=>l}function o(l=i(),s){let c=[r[s.type],...n.filter(({matcher:d})=>d(s)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(Hn(d)){const m=f(d,s);return m===void 0?d:m}else{if(Xr(d))return KT(d,h=>f(h,s));{const h=f(d,s);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var mL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pL=(e=21)=>{let t="",r=e;for(;r--;)t+=mL[Math.random()*64|0];return t},gL=Symbol.for("rtk-slice-createasyncthunk");function vL(e,t){return`${e}/${t}`}function yL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[gL];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(mr(11));const l=(typeof a.reducers=="function"?a.reducers(xL()):a.reducers)||{},s=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(mr(12));if(S in c.sliceCaseReducersByType)throw new Error(mr(13));return c.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return c.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return c.actionCreators[_]=j,d},exposeCaseReducer(_,j){return c.sliceCaseReducersByName[_]=j,d}};s.forEach(_=>{const j=l[_],S={reducerName:_,type:vL(i,_),createNotation:typeof a.reducers=="function"};_L(j)?jL(S,j,d,t):wL(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof a.extraReducers=="function"?ZT(a.extraReducers):[a.extraReducers],E={..._,...c.sliceCaseReducersByType};return hL(a.initialState,O=>{for(let A in E)O.addCase(A,E[A]);for(let A of c.sliceMatchers)O.addMatcher(A.matcher,A.reducer);for(let A of j)O.addMatcher(A.matcher,A.reducer);S&&O.addDefaultCase(S)})}const h=_=>_,m=new Map,v=new WeakMap;let x;function y(_,j){return x||(x=f()),x(_,j)}function g(){return x||(x=f()),x.getInitialState()}function p(_,j=!1){function S(O){let A=O[_];return typeof A>"u"&&j&&(A=ac(v,S,g)),A}function E(O=h){const A=ac(m,j,()=>new WeakMap);return ac(A,O,()=>{const k={};for(const[B,N]of Object.entries(a.selectors??{}))k[B]=bL(N,O,()=>ac(v,O,g),j);return k})}return{reducerPath:_,getSelectors:E,get selectors(){return E(S)},selectSlice:S}}const b={name:i,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...p(o),injectInto(_,{reducerPath:j,...S}={}){const E=j??o;return _.inject({reducerPath:E,reducer:y},S),{...b,...p(E,!0)}}};return b}}function bL(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Zt=yL();function xL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function wL({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!SL(n))throw new Error(mr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Mr(e,o):Mr(e))}function _L(e){return e._reducerDefinitionType==="asyncThunk"}function SL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jL({type:e,reducerName:t},r,n,a){if(!a)throw new Error(mr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:s,settled:c,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),s&&n.addCase(f.rejected,s),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:o||ic,pending:l||ic,rejected:s||ic,settled:c||ic})}function ic(){}var EL="task",JT="listener",QT="completed",r0="cancelled",OL=`task-${r0}`,CL=`task-${QT}`,Mg=`${JT}-${r0}`,AL=`${JT}-${QT}`,nh=class{constructor(e){qh(this,"name","TaskAbortError");qh(this,"message");this.code=e,this.message=`${EL} ${r0} (reason: ${e})`}},n0=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},Pd=()=>{},e2=(e,t=Pd)=>(e.catch(t),e),t2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),vi=e=>{if(e.aborted)throw new nh(e.reason)};function r2(e,t){let r=Pd;return new Promise((n,a)=>{const i=()=>a(new nh(e.reason));if(e.aborted){i();return}r=t2(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Pd})}var TL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof nh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Nd=e=>t=>e2(r2(e,t).then(r=>(vi(e),r))),n2=e=>{const t=Nd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ko}=Object,rw={},ah="listenerMiddleware",kL=(e,t)=>{const r=n=>t2(e,()=>n.abort(e.reason));return(n,a)=>{n0(n);const i=new AbortController;r(i);const o=TL(async()=>{vi(e),vi(i.signal);const l=await n({pause:Nd(i.signal),delay:n2(i.signal),signal:i.signal});return vi(i.signal),l},()=>i.abort(CL));return a!=null&&a.autoJoin&&t.push(o.catch(Pd)),{result:Nd(e)(o),cancel(){i.abort(OL)}}}},PL=(e,t)=>{const r=async(n,a)=>{vi(t);let i=()=>{};const l=[new Promise((s,c)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),s([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),c()}})];a!=null&&l.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await r2(t,Promise.race(l));return vi(t),s}finally{i()}};return(n,a)=>e2(r(n,a))},a2=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Mr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(mr(21));return n0(i),{predicate:a,type:t,effect:i}},i2=ko(e=>{const{type:t,predicate:r,effect:n}=a2(e);return{id:pL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>i2}),nw=(e,t)=>{const{type:r,effect:n,predicate:a}=a2(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Dg=e=>{e.pending.forEach(t=>{t.abort(Mg)})},NL=(e,t)=>()=>{for(const r of t.keys())Dg(r);e.clear()},aw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},o2=ko(Mr(`${ah}/add`),{withTypes:()=>o2}),RL=Mr(`${ah}/removeAll`),l2=ko(Mr(`${ah}/remove`),{withTypes:()=>l2}),ML=(...e)=>{console.error(`${ah}/error`,...e)},du=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},a=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:i,onError:o=ML}=e;n0(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&Dg(m)}),s=m=>{const v=nw(t,m)??i2(m);return l(v)};ko(s,{withTypes:()=>s});const c=m=>{const v=nw(t,m);return v&&(v.unsubscribe(),m.cancelActive&&Dg(v)),!!v};ko(c,{withTypes:()=>c});const d=async(m,v,x,y)=>{const g=new AbortController,p=PL(s,g.signal),b=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(v,ko({},x,{getOriginalState:y,condition:(_,j)=>p(_,j).then(Boolean),take:p,delay:n2(g.signal),pause:Nd(g.signal),extra:i,signal:g.signal,fork:kL(g.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,j,S)=>{_!==g&&(_.abort(Mg),S.delete(_))})},cancel:()=>{g.abort(Mg),m.pending.delete(g)},throwIfCancelled:()=>{vi(g.signal)}})))}catch(_){_ instanceof nh||aw(o,_,{raisedBy:"effect"})}finally{await Promise.all(b),g.abort(AL),a(m),m.pending.delete(g)}},f=NL(t,r);return{middleware:m=>v=>x=>{if(!zT(x))return v(x);if(o2.match(x))return s(x.payload);if(RL.match(x)){f();return}if(l2.match(x))return c(x.payload);let y=m.getState();const g=()=>{if(y===rw)throw new Error(mr(23));return y};let p;try{if(p=v(x),t.size>0){const b=m.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(x,b,y)}catch(E){S=!1,aw(o,E,{raisedBy:"predicate"})}S&&d(j,x,m,g)}}}finally{y=rw}return p},startListening:s,stopListening:c,clearListeners:f}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var DL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},s2=Zt({name:"chartLayout",initialState:DL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:zL,setLayout:BL,setChartSize:IL,setScale:$L}=s2.actions,LL=s2.reducer;function u2(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Le(e){return Number.isFinite(e)}function un(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(n){UL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t,r){return(t=qL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qL(e){var t=HL(e,"string");return typeof t=="symbol"?t:t+""}function HL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return gt(e)||gt(t)?r:sn(t)?Ko(e,t,r):typeof t=="function"?t(e):r}var WL=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&F(e[i]))return xo(xo({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&F(e[o]))return xo(xo({},e),{},{[o]:e[o]+(a||0)})}return e},Li=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",c2=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},d2=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:s,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(x=m==="angleAxis"&&i&&i.length>=2?Kt(i[0]-i[1])*2*x:x,f||h){var y=(f||h||[]).map((g,p)=>{var b=n?n.indexOf(g):g;return{coordinate:o(b)+x,value:g,offset:x,index:p}});return y.filter(g=>!Fr(g.coordinate))}return s&&c?c.map((g,p)=>({coordinate:o(g)+x,value:g,index:p,offset:x})):o.ticks&&d!=null?o.ticks(d).map((g,p)=>({coordinate:o(g)+x,value:g,offset:x,index:p})):o.domain().map((g,p)=>({coordinate:o(g)+x,value:n?n[g]:g,index:p,offset:x}))},ow=1e-4,VL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-ow,i=Math.max(n[0],n[1])+ow,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},KL=(e,t)=>{if(!t||t.length!==2||!F(t[0])||!F(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!F(e[0])||e[0]<r)&&(a[0]=r),(!F(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},GL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var s=e[l],c=s==null?void 0:s[a];if(c!=null){var d=c[1],f=c[0],h=Fr(d)?f:d;h>=0?(c[0]=i,c[1]=i+h,i=d):(c[0]=o,c[1]=o+h,o=d)}}}},FL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var l=e[o],s=l==null?void 0:l[a];if(s!=null){var c=Fr(s[1])?s[0]:s[1];c>=0?(s[0]=i,s[1]=i+c,i=s[1]):(s[0]=0,s[1]=0)}}}},YL={sign:GL,expand:RI,none:Oi,silhouette:MI,wiggle:DI,positive:FL},XL=(e,t,r)=>{var n,a=(n=YL[r])!==null&&n!==void 0?n:Oi,i=NI().keys(t).value((l,s)=>Number(At(l,s,0))).order(jg).offset(a),o=i(e);return o.forEach((l,s)=>{l.forEach((c,d)=>{var f=At(e[d],t[s],0);Array.isArray(f)&&f.length===2&&F(f[0])&&F(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function ZL(e){return e==null?void 0:String(e)}var lw=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=At(i,t.dataKey,t.scale.domain()[o]);return gt(l)?null:t.scale(l)-a/2+n},JL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},QL=e=>{var t=e.flat(2).filter(F);return[Math.min(...t),Math.max(...t)]},e8=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],t8=(e,t,r)=>{if(e!=null)return e8(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,l=o.reduce((s,c)=>{var d=u2(c,t,r),f=QL(d);return!Le(f[0])||!Le(f[1])?s:[Math.min(s[0],f[0]),Math.max(s[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},sw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Yf(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var s=a[o],c=a[o-1];i=Math.min(((s==null?void 0:s.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function cw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return xo(xo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function f2(e,t){if(e)return String(e);if(typeof t=="string")return t}var r8=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},n8=(e,t)=>t==="centric"?e.angle:e.radius,Jn=e=>e.layout.width,Qn=e=>e.layout.height,a8=e=>e.layout.scale,h2=e=>e.layout.margin,ih=R(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),oh=R(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),i8="data-recharts-item-index",o8="data-recharts-item-id",fu=60;function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=u8(e,"string");return typeof t=="symbol"?t:t+""}function u8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c8=e=>e.brush.height;function d8(e){var t=oh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fu;return r+a}return r},0)}function f8(e){var t=oh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fu;return r+a}return r},0)}function h8(e){var t=ih(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function m8(e){var t=ih(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vt=R([Jn,Qn,h2,c8,d8,f8,h8,m8,RT,I$],(e,t,r,n,a,i,o,l,s,c)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=oc(oc({},f),d),m=h.bottom;h.bottom+=n,h=WL(h,s,c);var v=e-h.left-h.right,x=t-h.top-h.bottom;return oc(oc({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(x,0)})}),p8=R(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),a0=R(Jn,Qn,(e,t)=>({x:0,y:0,width:e,height:t})),g8=w.createContext(null),Jt=()=>w.useContext(g8)!=null,lh=e=>e.brush,sh=R([lh,vt,h2],(e,t,r)=>({height:e.height,x:F(e.x)?e.x:t.left,y:F(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:F(e.width)?e.width:t.width})),m2={},p2={},g2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const s=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{c&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{v(),o=void 0,l=null},y=()=>{d()},g=function(...p){if(a!=null&&a.aborted)return;o=this,l=p;const b=h==null;m(),s&&b&&d()};return g.schedule=m,g.cancel=x,g.flush=y,a==null||a.addEventListener("abort",x,{once:!0}),g}e.debounce=t})(g2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g2;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:s}=i,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:c}),m=function(...x){return s!=null&&(f===null&&(f=Date.now()),Date.now()-f>=s)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},v=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=v,m}e.debounce=r})(p2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p2;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(m2);var v8=m2.throttle;const y8=Yn(v8);var Md=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},v2=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=qn(n)?e:Number(n),s=qn(a)?t:Number(a);return i&&i>0&&(l?s=l/i:s&&(l=s*i),o&&s!=null&&s>o&&(s=o)),{calculatedWidth:l,calculatedHeight:s}},b8={width:0,height:0,overflow:"visible"},x8={width:0,overflowX:"visible"},w8={height:0,overflowY:"visible"},_8={},S8=e=>{var{width:t,height:r}=e,n=qn(t),a=qn(r);return n&&a?b8:n?x8:a?w8:_8};function j8(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(null,arguments)}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){E8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E8(e,t,r){return(t=O8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8(e){var t=C8(e,"string");return typeof t=="symbol"?t:t+""}function C8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y2=w.createContext({width:-1,height:-1});function A8(e){return un(e.width)&&un(e.height)}function b2(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return A8(a)?w.createElement(y2.Provider,{value:a},t):null}var i0=()=>w.useContext(y2),T8=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:s,children:c,debounce:d=0,id:f,className:h,onResize:m,style:v={}}=e,x=w.useRef(null),y=w.useRef();y.current=m,w.useImperativeHandle(t,()=>x.current);var[g,p]=w.useState({containerWidth:n.width,containerHeight:n.height}),b=w.useCallback((O,A)=>{p(k=>{var B=Math.round(O),N=Math.round(A);return k.containerWidth===B&&k.containerHeight===N?k:{containerWidth:B,containerHeight:N}})},[]);w.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return uu;var O=N=>{var K,{width:T,height:q}=N[0].contentRect;b(T,q),(K=y.current)===null||K===void 0||K.call(y,T,q)};d>0&&(O=y8(O,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(O),{width:k,height:B}=x.current.getBoundingClientRect();return b(k,B),A.observe(x.current),()=>{A.disconnect()}},[b,d]);var{containerWidth:_,containerHeight:j}=g;Md(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:E}=v2(_,j,{width:a,height:i,aspect:r,maxHeight:s});return Md(S!=null&&S>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,E,a,i,o,l,r),w.createElement("div",{id:f?"".concat(f):void 0,className:De("recharts-responsive-container",h),style:hw(hw({},v),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:s}),ref:x},w.createElement("div",{style:S8({width:a,height:i})},w.createElement(b2,{width:S,height:E},c)))}),k8=w.forwardRef((e,t)=>{var r=i0();if(un(r.width)&&un(r.height))return e.children;var{width:n,height:a}=j8({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=v2(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return F(i)&&F(o)?w.createElement(b2,{width:i,height:o},e.children):w.createElement(T8,zg({},e,{width:n,height:a,ref:t}))});function x2(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var uh=()=>{var e,t=Jt(),r=Z(p8),n=Z(sh),a=(e=Z(lh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},P8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},w2=()=>{var e;return(e=Z(vt))!==null&&e!==void 0?e:P8},_2=()=>Z(Jn),S2=()=>Z(Qn),be=e=>e.layout.layoutType,hu=()=>Z(be),N8=()=>{var e=hu();return e!==void 0},ch=e=>{var t=Ge(),r=Jt(),{width:n,height:a}=e,i=i0(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),w.useEffect(()=>{!r&&un(o)&&un(l)&&t(IL({width:o,height:l}))},[t,r,o,l]),null},j2=Symbol.for("immer-nothing"),mw=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ds=Object.getPrototypeOf;function Yo(e){return!!e&&!!e[vr]}function Ai(e){var t;return e?E2(e)||Array.isArray(e)||!!e[mw]||!!((t=e.constructor)!=null&&t[mw])||mu(e)||fh(e):!1}var R8=Object.prototype.constructor.toString(),pw=new WeakMap;function E2(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=pw.get(r);return n===void 0&&(n=Function.toString.call(r),pw.set(r,n)),n===R8}function Dd(e,t,r=!0){dh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function dh(e){const t=e[vr];return t?t.type_:Array.isArray(e)?1:mu(e)?2:fh(e)?3:0}function Bg(e,t){return dh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O2(e,t,r){const n=dh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function M8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mu(e){return e instanceof Map}function fh(e){return e instanceof Set}function ri(e){return e.copy_||e.base_}function Ig(e,t){if(mu(e))return new Map(e);if(fh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=E2(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[vr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Ds(e),n)}else{const n=Ds(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function o0(e,t=!1){return hh(e)||Yo(e)||!Ai(e)||(dh(e)>1&&Object.defineProperties(e,{set:lc,add:lc,clear:lc,delete:lc}),Object.freeze(e),t&&Object.values(e).forEach(r=>o0(r,!0))),e}function D8(){Vr(2)}var lc={value:D8};function hh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var z8={};function Ti(e){const t=z8[e];return t||Vr(0,e),t}var zs;function C2(){return zs}function B8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gw(e,t){t&&(Ti("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $g(e){Lg(e),e.drafts_.forEach(I8),e.drafts_=null}function Lg(e){e===zs&&(zs=e.parent_)}function vw(e){return zs=B8(zs,e)}function I8(e){const t=e[vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[vr].modified_&&($g(t),Vr(4)),Ai(e)&&(e=zd(t,e),t.parent_||Bd(t,e)),t.patches_&&Ti("Patches").generateReplacementPatches_(r[vr].base_,e,t.patches_,t.inversePatches_)):e=zd(t,r,[]),$g(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==j2?e:void 0}function zd(e,t,r){if(hh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[vr];if(!a)return Dd(t,(i,o)=>bw(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Bd(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),Dd(o,(s,c)=>bw(e,a,i,s,c,r,l),n),Bd(e,i,!1),r&&e.patches_&&Ti("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function bw(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=hh(a);if(!(l&&!o)){if(Yo(a)){const s=i&&t&&t.type_!==3&&!Bg(t.assigned_,n)?i.concat(n):void 0,c=zd(e,a,s);if(O2(r,n,c),Yo(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ai(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;zd(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(mu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Bd(e,a)}}}function Bd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&o0(t,r)}function $8(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:C2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=l0;r&&(a=[n],i=Bs);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var l0={get(e,t){if(t===vr)return e;const r=ri(e);if(!Bg(r,t))return L8(e,r,t);const n=r[t];return e.finalized_||!Ai(n)?n:n===Hm(e.base_,t)?(Wm(e),e.copy_[t]=qg(n,e)):n},has(e,t){return t in ri(e)},ownKeys(e){return Reflect.ownKeys(ri(e))},set(e,t,r){const n=A2(ri(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Hm(ri(e),t),i=a==null?void 0:a[vr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(M8(r,a)&&(r!==void 0||Bg(e.base_,t)))return!0;Wm(e),Ug(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Hm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Wm(e),Ug(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ri(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Ds(e.base_)},setPrototypeOf(){Vr(12)}},Bs={};Dd(l0,(e,t)=>{Bs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bs.deleteProperty=function(e,t){return Bs.set.call(this,e,t,void 0)};Bs.set=function(e,t,r){return l0.set.call(this,e[0],t,r,e[0])};function Hm(e,t){const r=e[vr];return(r?ri(r):e)[t]}function L8(e,t,r){var a;const n=A2(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function A2(e,t){if(!(t in e))return;let r=Ds(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ds(r)}}function Ug(e){e.modified_||(e.modified_=!0,e.parent_&&Ug(e.parent_))}function Wm(e){e.copy_||(e.copy_=Ig(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var U8=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(s=i,...c){return o.produce(s,d=>r.call(this,d,...c))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let a;if(Ai(t)){const i=vw(this),o=qg(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?$g(i):Lg(i)}return gw(i,n),yw(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===j2&&(a=void 0),this.autoFreeze_&&o0(a,!0),n){const i=[],o=[];Ti("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,s=>t(s,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ai(e)||Vr(8),Yo(e)&&(e=q8(e));const t=vw(this),r=qg(e,void 0);return r[vr].isManual_=!0,Lg(t),r}finishDraft(e,t){const r=e&&e[vr];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return gw(n,t),yw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ti("Patches").applyPatches_;return Yo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function qg(e,t){const r=mu(e)?Ti("MapSet").proxyMap_(e,t):fh(e)?Ti("MapSet").proxySet_(e,t):$8(e,t);return(t?t.scope_:C2()).drafts_.push(r),r}function q8(e){return Yo(e)||Vr(10,e),T2(e)}function T2(e){if(!Ai(e)||hh(e))return e;const t=e[vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ig(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ig(e,!0);return Dd(r,(a,i)=>{O2(r,a,T2(i))},n),t&&(t.finalized_=!1),r}var H8=new U8;H8.produce;var W8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},k2=Zt({name:"legend",initialState:W8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=Gr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:vZ,setLegendSettings:yZ,addLegendPayload:V8,replaceLegendPayload:K8,removeLegendPayload:G8}=k2.actions,F8=k2.reducer;function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(null,arguments)}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){Y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t,r){return(t=X8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J8(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var Q8=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:s,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(l?Yf(i,l):i).map((E,O)=>{if(E.type==="none")return null;var A=E.formatter||o||J8,{value:k,name:B}=E,N=k,K=B;if(A){var T=A(k,B,E,O,i);if(Array.isArray(T))[N,K]=T;else if(T!=null)N=T;else return null}var q=Vm({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:q},sn(K)?w.createElement("span",{className:"recharts-tooltip-item-name"},K):null,sn(K)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},N),w.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},v=Vm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Vm({margin:0},a),y=!gt(d),g=y?d:"",p=De("recharts-default-tooltip",s),b=De("recharts-tooltip-label",c);y&&f&&i!==void 0&&i!==null&&(g=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Hg({className:p,style:v},_),w.createElement("p",{className:b,style:x},w.isValidElement(g)?g:"".concat(g)),m())},Nl="recharts-tooltip-wrapper",eU={visibility:"hidden"};function tU(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(Nl,{["".concat(Nl,"-right")]:F(r)&&t&&F(t.x)&&r>=t.x,["".concat(Nl,"-left")]:F(r)&&t&&F(t.x)&&r<t.x,["".concat(Nl,"-bottom")]:F(n)&&t&&F(t.y)&&n>=t.y,["".concat(Nl,"-top")]:F(n)&&t&&F(t.y)&&n<t.y})}function ww(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:s,viewBoxDimension:c}=e;if(i&&F(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=s[n];if(h==null)return 0;if(o[n]){var m=d,v=h;return m<v?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var x=f+l,y=h+c;return x>y?Math.max(d,h):Math.max(f,h)}function rU(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function nU(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:s}=e,c,d,f;return o.height>0&&o.width>0&&r?(d=ww({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:s,viewBoxDimension:s.width}),f=ww({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:s,viewBoxDimension:s.height}),c=rU({translateX:d,translateY:f,useTranslate3d:l})):c=eU,{cssProperties:c,cssClasses:tU({translateX:d,translateY:f,coordinate:r})}}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){Wg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wg(e,t,r){return(t=aU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=iU(e,"string");return typeof t=="symbol"?t:t+""}function iU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oU extends w.PureComponent{constructor(){super(...arguments),Wg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:s,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:x,innerRef:y,hasPortalFromProps:g}=this.props,{cssClasses:p,cssProperties:b}=nU({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),_=g?{}:sc(sc({transition:s&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=sc(sc({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:p,style:j,ref:y},i)}}var P2=()=>{var e;return(e=Z(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(null,arguments)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){lU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lU(e,t,r){return(t=sU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ew={curveBasisClosed:wI,curveBasisOpen:_I,curveBasis:xI,curveBumpX:oI,curveBumpY:lI,curveLinearClosed:SI,curveLinear:Uf,curveMonotoneX:jI,curveMonotoneY:EI,curveNatural:OI,curveStep:CI,curveStepAfter:TI,curveStepBefore:AI},Id=e=>Le(e.x)&&Le(e.y),Ow=e=>e.base!=null&&Id(e.base)&&Id(e),Rl=e=>e.x,Ml=e=>e.y,cU=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(su(e));return(r==="curveMonotone"||r==="curveBump")&&t?Ew["".concat(r).concat(t==="vertical"?"Y":"X")]:Ew[r]||Uf},dU=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=cU(t,a),l=i?r.filter(Id):r,s;if(Array.isArray(n)){var c=r.map((m,v)=>jw(jw({},m),{},{base:n[v]}));a==="vertical"?s=ec().y(Ml).x1(Rl).x0(m=>m.base.x):s=ec().x(Rl).y1(Ml).y0(m=>m.base.y);var d=s.defined(Ow).curve(o),f=i?c.filter(Ow):c;return d(f)}a==="vertical"&&F(n)?s=ec().y(Ml).x1(Rl).x0(n):F(n)?s=ec().x(Rl).y1(Ml).y0(n):s=qA().x(Rl).y(Ml);var h=s.defined(Id).curve(o);return h(l)},N2=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=hu();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?dU(o):n;return w.createElement("path",Vg({},Ln(e),ZI(e),{className:De("recharts-curve",t),d:l===null?void 0:l,ref:a}))},fU=["x","y","top","left","width","height","className"];function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(null,arguments)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){mU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mU(e,t,r){return(t=pU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vU(e,t){if(e==null)return{};var r,n,a=yU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bU=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),xU=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,s=vU(e,fU),c=hU({x:t,y:r,top:n,left:a,width:i,height:o},s);return!F(t)||!F(r)||!F(i)||!F(o)||!F(n)||!F(a)?null:w.createElement("path",Kg({},Rr(c),{className:De("recharts-cross",l),d:bU(t,r,i,o,n,a)}))};function wU(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){_U(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _U(e,t,r){return(t=SU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SU(e){var t=jU(e,"string");return typeof t=="symbol"?t:t+""}function jU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),R2=(e,t,r)=>e.map(n=>"".concat(EU(n)," ").concat(t,"ms ").concat(r)).join(","),OU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Is=(e,t)=>Object.keys(t).reduce((r,n)=>Tw(Tw({},r),{},{[n]:e(n,t[n])}),{});function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){CU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CU(e,t,r){return(t=AU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=TU(e,"string");return typeof t=="symbol"?t:t+""}function TU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $d=(e,t,r)=>e+(t-e)*r,Gg=e=>{var{from:t,to:r}=e;return t!==r},M2=(e,t,r)=>{var n=Is((a,i)=>{if(Gg(i)){var[o,l]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Is((a,i)=>Gg(i)&&n[a]!=null?nt(nt({},i),{},{velocity:$d(i.velocity,n[a].velocity,r),from:$d(i.from,n[a].from,r)}):i,t):M2(e,n,r-1)};function kU(e,t,r,n,a,i){var o,l=n.reduce((h,m)=>nt(nt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),s=()=>Is((h,m)=>m.from,l),c=()=>!Object.values(l).filter(Gg).length,d=null,f=h=>{o||(o=h);var m=h-o,v=m/r.dt;l=M2(r,l,v),a(nt(nt(nt({},e),t),s())),o=h,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function PU(e,t,r,n,a,i,o){var l=null,s=a.reduce((f,h)=>{var m=e[h],v=t[h];return m==null||v==null?f:nt(nt({},f),{},{[h]:[m,v]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/n,m=Is((x,y)=>$d(...y,r(h)),s);if(i(nt(nt(nt({},e),t),m)),h<1)l=o.setTimeout(d);else{var v=Is((x,y)=>$d(...y,r(1)),s);i(nt(nt(nt({},e),t),v))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const NU=(e,t,r,n,a,i)=>{var o=OU(e,t);return r==null?()=>(a(nt(nt({},e),t)),()=>{}):r.isStepper===!0?kU(e,t,r,o,a,i):PU(e,t,r,n,o,a,i)};var Ld=1e-4,D2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],z2=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Pw=(e,t)=>r=>{var n=D2(e,t);return z2(n,r)},RU=(e,t)=>r=>{var n=D2(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return z2(a,r)},MU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},DU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=MU(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},zU=(e,t,r,n)=>{var a=Pw(e,r),i=Pw(t,n),o=RU(e,r),l=c=>c>1?1:c<0?0:c,s=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=a(f)-d,v=o(f);if(Math.abs(m-d)<Ld||v<Ld)return i(f);f=l(f-m/v)}return i(f)};return s.isStepper=!1,s},Nw=function(){return zU(...DU(...arguments))},BU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,s)=>{var c=-(o-l)*r,d=s*n,f=s+(c-d)*a/1e3,h=s*a/1e3+o;return Math.abs(h-l)<Ld&&Math.abs(f)<Ld?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},IU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Nw(e);case"spring":return BU();default:if(e.split("(")[0]==="cubic-bezier")return Nw(e)}return typeof e=="function"?e:null};function $U(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[s,...c]=l;if(typeof s=="number"){a=e.setTimeout(i.bind(null,c),s);return}i(s),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class LU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function UU(){return $U(new LU)}var qU=w.createContext(UU);function HU(e,t){var r=w.useContext(qU);return w.useMemo(()=>t??r(e),[e,t,r])}var WU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),mh={isSsr:WU()},VU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Rw={t:0},Km={t:1};function s0(e){var t=yr(e,VU),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:s,children:c}=t,d=r==="auto"?!mh.isSsr:r,f=HU(t.animationId,t.animationManager),[h,m]=w.useState(d?Rw:Km),v=w.useRef(null);return w.useEffect(()=>{d||m(Km)},[d]),w.useEffect(()=>{if(!d||!n)return uu;var x=NU(Rw,Km,IU(i),a,m,f.getTimeoutController()),y=()=>{v.current=x()};return f.start([s,o,y,a,l]),()=>{f.stop(),v.current&&v.current(),l()}},[d,n,a,i,o,s,l,f]),c(h.t)}function u0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Ps(t)),n=w.useRef(e);return n.current!==e&&(r.current=Ps(t),n.current=e),r.current}var KU=["radius"],GU=["radius"],Mw,Dw,zw,Bw,Iw,$w,Lw,Uw,qw,Hw;function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return(t=YU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(null,arguments)}function Kw(e,t){if(e==null)return{};var r,n,a=ZU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function en(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Gw=(e,t,r,n,a)=>{var i=ja(r),o=ja(n),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),s=o>=0?1:-1,c=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=a[m]>l?l:a[m];f=qe(Mw||(Mw=en(["M",",",""])),e,t+s*h[0]),h[0]>0&&(f+=qe(Dw||(Dw=en(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=qe(zw||(zw=en(["L ",",",""])),e+r-c*h[1],t),h[1]>0&&(f+=qe(Bw||(Bw=en(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+s*h[1])),f+=qe(Iw||(Iw=en(["L ",",",""])),e+r,t+n-s*h[2]),h[2]>0&&(f+=qe($w||($w=en(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-c*h[2],t+n)),f+=qe(Lw||(Lw=en(["L ",",",""])),e+c*h[3],t+n),h[3]>0&&(f+=qe(Uw||(Uw=en(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-s*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var x=Math.min(l,a);f=qe(qw||(qw=en(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+s*x,x,x,d,e+c*x,t,e+r-c*x,t,x,x,d,e+r,t+s*x,e+r,t+n-s*x,x,x,d,e+r-c*x,t+n,e+c*x,t+n,x,x,d,e,t+n-s*x)}else f=qe(Hw||(Hw=en(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},Fw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B2=e=>{var t=yr(e,Fw),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&a(P)}catch{}},[]);var{x:i,y:o,width:l,height:s,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:x}=t,y=w.useRef(l),g=w.useRef(s),p=w.useRef(i),b=w.useRef(o),_=w.useMemo(()=>({x:i,y:o,width:l,height:s,radius:c}),[i,o,l,s,c]),j=u0(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||s!==+s||l===0||s===0)return null;var S=De("recharts-rectangle",d);if(!x){var E=Rr(t),{radius:O}=E,A=Kw(E,KU);return w.createElement("path",Ud({},A,{x:ja(i),y:ja(o),width:ja(l),height:ja(s),radius:typeof c=="number"?c:void 0,className:S,d:Gw(i,o,l,s,c)}))}var k=y.current,B=g.current,N=p.current,K=b.current,T="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),C=R2(["strokeDasharray"],h,typeof f=="string"?f:Fw.animationEasing);return w.createElement(s0,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},P=>{var D=_t(k,l,P),U=_t(B,s,P),W=_t(N,i,P),ce=_t(K,o,P);r.current&&(y.current=D,g.current=U,p.current=W,b.current=ce);var de;v?P>0?de={transition:C,strokeDasharray:q}:de={strokeDasharray:T}:de={strokeDasharray:q};var oe=Rr(t),{radius:fe}=oe,se=Kw(oe,GU);return w.createElement("path",Ud({},se,{radius:typeof c=="number"?c:void 0,className:S,d:Gw(W,ce,D,U,c),ref:r,style:Vw(Vw({},de),t.style)}))})};function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return(t=QU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QU(e){var t=e6(e,"string");return typeof t=="symbol"?t:t+""}function e6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qd=Math.PI/180,t6=e=>e*180/Math.PI,Ot=(e,t,r,n)=>({x:e+Math.cos(-qd*n)*r,y:t+Math.sin(-qd*n)*r}),r6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},n6=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},a6=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=n6({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,s=Math.acos(l);return n>i&&(s=2*Math.PI-s),{radius:o,angle:t6(s),angleInRadian:s}},i6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},o6=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},l6=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=a6({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:s,endAngle:c}=i6(t),d=i,f;if(s<=c){for(;d>c;)d-=360;for(;d<s;)d+=360;f=d>=s&&d<=c}else{for(;d>s;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=s}return f?Xw(Xw({},t),{},{radius:a,angle:o6(d,t)}):null};function I2(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Ot(t,r,n,a),l=Ot(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var Zw,Jw,Qw,e_,t_,r_,n_;function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(null,arguments)}function li(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s6=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},uc=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:s}=e,c=l*(o?1:-1)+n,d=Math.asin(l/c)/qd,f=s?a:a+i*d,h=Ot(t,r,c,f),m=Ot(t,r,n,f),v=s?a-i*d:a,x=Ot(t,r,c*Math.cos(d*qd),v);return{center:h,circleTangency:m,lineTangency:x,theta:d}},$2=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=s6(i,o),s=i+l,c=Ot(t,r,a,i),d=Ot(t,r,a,s),f=qe(Zw||(Zw=li(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(l)>180),+(i>s),d.x,d.y);if(n>0){var h=Ot(t,r,n,i),m=Ot(t,r,n,s);f+=qe(Jw||(Jw=li(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(i<=s),h.x,h.y)}else f+=qe(Qw||(Qw=li(["L ",","," Z"])),t,r);return f},u6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:s,endAngle:c}=e,d=Kt(c-s),{circleTangency:f,lineTangency:h,theta:m}=uc({cx:t,cy:r,radius:a,angle:s,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:v,lineTangency:x,theta:y}=uc({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:l}),g=l?Math.abs(s-c):Math.abs(s-c)-m-y;if(g<0)return o?qe(e_||(e_=li(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):$2({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:c});var p=qe(t_||(t_=li(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),v.x,v.y,i,i,+(d<0),x.x,x.y);if(n>0){var{circleTangency:b,lineTangency:_,theta:j}=uc({cx:t,cy:r,radius:n,angle:s,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:E,theta:O}=uc({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(s-c):Math.abs(s-c)-j-O;if(A<0&&i===0)return"".concat(p,"L").concat(t,",").concat(r,"Z");p+=qe(r_||(r_=li(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,i,i,+(d<0),S.x,S.y,n,n,+(A>180),+(d>0),b.x,b.y,i,i,+(d<0),_.x,_.y)}else p+=qe(n_||(n_=li(["L",",","Z"])),t,r);return p},c6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L2=e=>{var t=yr(e,c6),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:s,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var h=De("recharts-sector",f),m=i-a,v=Yr(o,m,0,!0),x;return v>0&&Math.abs(c-d)<360?x=u6({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:s,startAngle:c,endAngle:d}):x=$2({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),w.createElement("path",Fg({},Rr(t),{className:h,d:x}))};function d6(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(aT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,s=Ot(n,a,i,l),c=Ot(n,a,o,l);return[{x:s.x,y:s.y},{x:c.x,y:c.y}]}return I2(t)}}var U2={},q2={},H2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xy;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(H2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(q2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy,r=q2;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),s=new Array(l);for(let c=0;c<l;c++)s[c]=a,a+=o;return s}e.range=n})(U2);var f6=U2.range;const W2=Yn(f6);function Ma(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function c0(e){let t,r,n;e.length!==2?(t=Ma,r=(l,s)=>Ma(e(l),s),n=(l,s)=>e(l)-s):(t=e===Ma||e===h6?e:m6,r=e,n=e);function a(l,s,c=0,d=l.length){if(c<d){if(t(s,s)!==0)return d;do{const f=c+d>>>1;r(l[f],s)<0?c=f+1:d=f}while(c<d)}return c}function i(l,s,c=0,d=l.length){if(c<d){if(t(s,s)!==0)return d;do{const f=c+d>>>1;r(l[f],s)<=0?c=f+1:d=f}while(c<d)}return c}function o(l,s,c=0,d=l.length){const f=a(l,s,c,d-1);return f>c&&n(l[f-1],s)>-n(l[f],s)?f-1:f}return{left:a,center:o,right:i}}function m6(){return 0}function V2(e){return e===null?NaN:+e}function*p6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const g6=c0(Ma),pu=g6.right;c0(V2).center;class a_ extends Map{constructor(t,r=b6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(i_(this,t))}has(t){return super.has(i_(this,t))}set(t,r){return super.set(v6(this,t),r)}delete(t){return super.delete(y6(this,t))}}function i_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function v6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function y6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function b6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function x6(e=Ma){if(e===Ma)return K2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function K2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w6=Math.sqrt(50),_6=Math.sqrt(10),S6=Math.sqrt(2);function Hd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=w6?10:i>=_6?5:i>=S6?2:1;let l,s,c;return a<0?(c=Math.pow(10,-a)/o,l=Math.round(e*c),s=Math.round(t*c),l/c<e&&++l,s/c>t&&--s,c=-c):(c=Math.pow(10,a)*o,l=Math.round(e/c),s=Math.round(t/c),l*c<e&&++l,s*c>t&&--s),s<l&&.5<=r&&r<2?Hd(e,t,r*2):[l,s,c]}function Yg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Hd(t,e,r):Hd(e,t,r);if(!(i>=a))return[];const l=i-a+1,s=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)s[c]=(i-c)/-o;else for(let c=0;c<l;++c)s[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)s[c]=(a+c)/-o;else for(let c=0;c<l;++c)s[c]=(a+c)*o;return s}function Xg(e,t,r){return t=+t,e=+e,r=+r,Hd(e,t,r)[2]}function Zg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Xg(t,e,r):Xg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function o_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function l_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function G2(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?K2:x6(a);n>r;){if(n-r>600){const s=n-r+1,c=t-r+1,d=Math.log(s),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(s-f)/s)*(c-s/2<0?-1:1),m=Math.max(r,Math.floor(t-c*f/s+h)),v=Math.min(n,Math.floor(t+(s-c)*f/s+h));G2(e,t,m,v,a)}const i=e[t];let o=r,l=n;for(Dl(e,r,t),a(e[n],i)>0&&Dl(e,r,n);o<l;){for(Dl(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Dl(e,r,l):(++l,Dl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Dl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function j6(e,t,r){if(e=Float64Array.from(p6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return l_(e);if(t>=1)return o_(e);var n,a=(n-1)*t,i=Math.floor(a),o=o_(G2(e,i).subarray(0,i+1)),l=l_(e.subarray(i+1));return o+(l-o)*(a-i)}}function E6(e,t,r=V2){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function O6(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ea(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jg=Symbol("implicit");function d0(){var e=new a_,t=[],r=[],n=Jg;function a(i){let o=e.get(i);if(o===void 0){if(n!==Jg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new a_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return d0(t,r).unknown(n)},zr.apply(a,arguments),a}function f0(){var e=d0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,s=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,x=m?n:a;i=(x-v)/Math.max(1,h-s+c*2),l&&(i=Math.floor(i)),v+=(x-v-i*(h-s))*d,o=i*(1-s),l&&(v=Math.round(v),o=Math.round(o));var y=O6(h).map(function(g){return v+i*g});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(s=Math.min(1,c=+h),f()):s},e.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),f()):s},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return f0(t(),[n,a]).round(l).paddingInner(s).paddingOuter(c).align(d)},zr.apply(f(),arguments)}function F2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return F2(t())},e}function C6(){return F2(f0.apply(null,arguments).paddingInner(1))}function h0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Y2(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function gu(){}var $s=.7,Wd=1/$s,Po="\\s*([+-]?\\d+)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A6=/^#([0-9a-f]{3,8})$/,T6=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),k6=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),P6=new RegExp(`^rgba\\(${Po},${Po},${Po},${Ls}\\)$`),N6=new RegExp(`^rgba\\(${ln},${ln},${ln},${Ls}\\)$`),R6=new RegExp(`^hsl\\(${Ls},${ln},${ln}\\)$`),M6=new RegExp(`^hsla\\(${Ls},${ln},${ln},${Ls}\\)$`),s_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};h0(gu,Us,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:u_,formatHex:u_,formatHex8:D6,formatHsl:z6,formatRgb:c_,toString:c_});function u_(){return this.rgb().formatHex()}function D6(){return this.rgb().formatHex8()}function z6(){return X2(this).formatHsl()}function c_(){return this.rgb().formatRgb()}function Us(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=A6.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?d_(t):r===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=T6.exec(e))?new Gt(t[1],t[2],t[3],1):(t=k6.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=P6.exec(e))?cc(t[1],t[2],t[3],t[4]):(t=N6.exec(e))?cc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=R6.exec(e))?m_(t[1],t[2]/100,t[3]/100,1):(t=M6.exec(e))?m_(t[1],t[2]/100,t[3]/100,t[4]):s_.hasOwnProperty(e)?d_(s_[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function d_(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function cc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gt(e,t,r,n)}function B6(e){return e instanceof gu||(e=Us(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function Qg(e,t,r,n){return arguments.length===1?B6(e):new Gt(e,t,r,n??1)}function Gt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}h0(Gt,Qg,Y2(gu,{brighter(e){return e=e==null?Wd:Math.pow(Wd,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(yi(this.r),yi(this.g),yi(this.b),Vd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f_,formatHex:f_,formatHex8:I6,formatRgb:h_,toString:h_}));function f_(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function I6(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si((isNaN(this.opacity)?1:this.opacity)*255)}`}function h_(){const e=Vd(this.opacity);return`${e===1?"rgb(":"rgba("}${yi(this.r)}, ${yi(this.g)}, ${yi(this.b)}${e===1?")":`, ${e})`}`}function Vd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function si(e){return e=yi(e),(e<16?"0":"")+e.toString(16)}function m_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function X2(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof gu||(e=Us(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,s=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new Kr(o,l,s,e.opacity)}function $6(e,t,r,n){return arguments.length===1?X2(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}h0(Kr,$6,Y2(gu,{brighter(e){return e=e==null?Wd:Math.pow(Wd,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Gt(Gm(e>=240?e-240:e+120,a,n),Gm(e,a,n),Gm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Kr(p_(this.h),dc(this.s),dc(this.l),Vd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vd(this.opacity);return`${e===1?"hsl(":"hsla("}${p_(this.h)}, ${dc(this.s)*100}%, ${dc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function p_(e){return e=(e||0)%360,e<0?e+360:e}function dc(e){return Math.max(0,Math.min(1,e||0))}function Gm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const m0=e=>()=>e;function L6(e,t){return function(r){return e+r*t}}function U6(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function q6(e){return(e=+e)==1?Z2:function(t,r){return r-t?U6(t,r,e):m0(isNaN(t)?r:t)}}function Z2(e,t){var r=t-e;return r?L6(e,r):m0(isNaN(e)?t:e)}const g_=function e(t){var r=q6(t);function n(a,i){var o=r((a=Qg(a)).r,(i=Qg(i)).r),l=r(a.g,i.g),s=r(a.b,i.b),c=Z2(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=s(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function H6(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function W6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=vl(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function K6(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function G6(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=vl(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ev=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fm=new RegExp(ev.source,"g");function F6(e){return function(){return e}}function Y6(e){return function(t){return e(t)+""}}function X6(e,t){var r=ev.lastIndex=Fm.lastIndex=0,n,a,i,o=-1,l=[],s=[];for(e=e+"",t=t+"";(n=ev.exec(e))&&(a=Fm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:Kd(n,a)})),r=Fm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?Y6(s[0].x):F6(t):(t=s.length,function(c){for(var d=0,f;d<t;++d)l[(f=s[d]).i]=f.x(c);return l.join("")})}function vl(e,t){var r=typeof t,n;return t==null||r==="boolean"?m0(t):(r==="number"?Kd:r==="string"?(n=Us(t))?(t=n,g_):X6:t instanceof Us?g_:t instanceof Date?K6:W6(t)?H6:Array.isArray(t)?V6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?G6:Kd)(e,t)}function p0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Z6(e,t){t===void 0&&(t=e,e=vl);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function J6(e){return function(){return e}}function Gd(e){return+e}var v_=[0,1];function zt(e){return e}function tv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:J6(isNaN(t)?NaN:.5)}function Q6(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function e9(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=tv(a,n),i=r(o,i)):(n=tv(n,a),i=r(i,o)),function(l){return i(n(l))}}function t9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=tv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var s=pu(e,l,1,n)-1;return i[s](a[s](l))}}function vu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ph(){var e=v_,t=v_,r=vl,n,a,i,o=zt,l,s,c;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=Q6(e[0],e[h-1])),l=h>2?t9:e9,s=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(s||(s=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((c||(c=l(t,e.map(n),Kd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Gd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=p0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function g0(){return ph()(zt,zt)}function r9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Xo(e){return e=Fd(Math.abs(e)),e?e[1]:NaN}function n9(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>n&&(l=Math.max(1,n-s)),i.push(r.substring(a-=l,a+l)),!((s+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function a9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var i9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qs(e){if(!(t=i9.exec(e)))throw new Error("invalid format: "+e);var t;return new v0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qs.prototype=v0.prototype;function v0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}v0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function o9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Yd;function l9(e,t){var r=Fd(e,t);if(!r)return Yd=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Yd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Fd(e,Math.max(0,t+i-1))[0]}function y_(e,t){var r=Fd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const b_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:r9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>y_(e*100,t),r:y_,s:l9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function x_(e){return e}var w_=Array.prototype.map,__=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function s9(e){var t=e.grouping===void 0||e.thousands===void 0?x_:n9(w_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?x_:a9(w_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=qs(f);var m=f.fill,v=f.align,x=f.sign,y=f.symbol,g=f.zero,p=f.width,b=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(b=!0,S="g"):b_[S]||(_===void 0&&(_=12),j=!0,S="g"),(g||m==="0"&&v==="=")&&(g=!0,m="0",v="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),O=(y==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=b_[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function B(N){var K=E,T=O,q,C,P;if(S==="c")T=A(N)+T,N="";else{N=+N;var D=N<0||1/N<0;if(N=isNaN(N)?s:A(Math.abs(N),_),j&&(N=o9(N)),D&&+N==0&&x!=="+"&&(D=!1),K=(D?x==="("?x:l:x==="-"||x==="("?"":x)+K,T=(S==="s"&&!isNaN(N)&&Yd!==void 0?__[8+Yd/3]:"")+T+(D&&x==="("?")":""),k){for(q=-1,C=N.length;++q<C;)if(P=N.charCodeAt(q),48>P||P>57){T=(P===46?a+N.slice(q+1):N.slice(q))+T,N=N.slice(0,q);break}}}b&&!g&&(N=t(N,1/0));var U=K.length+N.length+T.length,W=U<p?new Array(p-U+1).join(m):"";switch(b&&g&&(N=t(W+N,W.length?p-T.length:1/0),W=""),v){case"<":N=K+N+T+W;break;case"=":N=K+W+N+T;break;case"^":N=W.slice(0,U=W.length>>1)+K+N+T+W.slice(U);break;default:N=W+K+N+T;break}return i(N)}return B.toString=function(){return f+""},B}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Xo(h)/3)))*3,v=Math.pow(10,-m),x=c((f=qs(f),f.type="f",f),{suffix:__[8+m/3]});return function(y){return x(v*y)}}return{format:c,formatPrefix:d}}var fc,y0,J2;u9({thousands:",",grouping:[3],currency:["$",""]});function u9(e){return fc=s9(e),y0=fc.format,J2=fc.formatPrefix,fc}function c9(e){return Math.max(0,-Xo(Math.abs(e)))}function d9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xo(t)/3)))*3-Xo(Math.abs(e)))}function f9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xo(t)-Xo(e))+1}function Q2(e,t,r,n){var a=Zg(e,t,r),i;switch(n=qs(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=d9(a,o))&&(n.precision=i),J2(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=f9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=c9(a))&&(n.precision=i-(n.type==="%")*2);break}}return y0(n)}function Wa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Yg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Q2(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],s,c,d=10;for(l<o&&(c=o,o=l,l=c,c=a,a=i,i=c);d-- >0;){if(c=Xg(o,l,r),c===s)return n[a]=o,n[i]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;s=c}return e},e}function ek(){var e=g0();return e.copy=function(){return vu(e,ek())},zr.apply(e,arguments),Wa(e)}function tk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tk(e).unknown(t)},e=arguments.length?Array.from(e,Gd):[0,1],Wa(r)}function rk(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function S_(e){return Math.log(e)}function j_(e){return Math.exp(e)}function h9(e){return-Math.log(-e)}function m9(e){return-Math.exp(-e)}function p9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function g9(e){return e===10?p9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function v9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function E_(e){return(t,r)=>-e(-t,r)}function b0(e){const t=e(S_,j_),r=t.domain;let n=10,a,i;function o(){return a=v9(n),i=g9(n),r()[0]<0?(a=E_(a),i=E_(i),e(h9,m9)):e(S_,j_),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const s=r();let c=s[0],d=s[s.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=a(c),m=a(d),v,x;const y=l==null?10:+l;let g=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(v=1;v<n;++v)if(x=h<0?v/i(-h):v*i(h),!(x<c)){if(x>d)break;g.push(x)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(x=h>0?v/i(-h):v*i(h),!(x<c)){if(x>d)break;g.push(x)}g.length*2<y&&(g=Yg(c,d,y))}else g=Yg(h,m,Math.min(m-h,y)).map(i);return f?g.reverse():g},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=n===10?"s":","),typeof s!="function"&&(!(n%1)&&(s=qs(s)).precision==null&&(s.trim=!0),s=y0(s)),l===1/0)return s;const c=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?s(d):""}},t.nice=()=>r(rk(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function nk(){const e=b0(ph()).domain([1,10]);return e.copy=()=>vu(e,nk()).base(e.base()),zr.apply(e,arguments),e}function O_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function C_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function x0(e){var t=1,r=e(O_(t),C_(t));return r.constant=function(n){return arguments.length?e(O_(t=+n),C_(t)):t},Wa(r)}function ak(){var e=x0(ph());return e.copy=function(){return vu(e,ak()).constant(e.constant())},zr.apply(e,arguments)}function A_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function y9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function b9(e){return e<0?-e*e:e*e}function w0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(y9,b9):e(A_(r),A_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wa(t)}function _0(){var e=w0(ph());return e.copy=function(){return vu(e,_0()).exponent(e.exponent())},zr.apply(e,arguments),e}function x9(){return _0.apply(null,arguments).exponent(.5)}function T_(e){return Math.sign(e)*e*e}function w9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ik(){var e=g0(),t=[0,1],r=!1,n;function a(i){var o=w9(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(T_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Gd)).map(T_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ik(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zr.apply(a,arguments),Wa(a)}function ok(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=E6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[pu(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ma),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ok().domain(e).range(t).unknown(n)},zr.apply(i,arguments)}function lk(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(s){return s!=null&&s<=s?a[pu(n,s,0,r)]:i}function l(){var s=-1;for(n=new Array(r);++s<r;)n[s]=((s+1)*t-(s-r)*e)/(r+1);return o}return o.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,l()):[e,t]},o.range=function(s){return arguments.length?(r=(a=Array.from(s)).length-1,l()):a.slice()},o.invertExtent=function(s){var c=a.indexOf(s);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(s){return arguments.length&&(i=s),o},o.thresholds=function(){return n.slice()},o.copy=function(){return lk().domain([e,t]).range(a).unknown(i)},zr.apply(Wa(o),arguments)}function sk(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[pu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return sk().domain(e).range(t).unknown(r)},zr.apply(a,arguments)}const Ym=new Date,Xm=new Date;function ot(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const s=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return s;let c;do s.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<o);return s},a.filter=i=>ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Ym.setTime(+i),Xm.setTime(+o),e(Ym),e(Xm),Math.floor(r(Ym,Xm))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Xd=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xd);Xd.range;const An=1e3,Tr=An*60,Tn=Tr*60,Wn=Tn*24,S0=Wn*7,k_=Wn*30,Zm=Wn*365,ui=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCSeconds());ui.range;const j0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());j0.range;const E0=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());E0.range;const O0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getHours());O0.range;const C0=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCHours());C0.range;const yu=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Wn,e=>e.getDate()-1);yu.range;const gh=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>e.getUTCDate()-1);gh.range;const uk=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>Math.floor(e/Wn));uk.range;function Ui(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/S0)}const vh=Ui(0),Zd=Ui(1),_9=Ui(2),S9=Ui(3),Zo=Ui(4),j9=Ui(5),E9=Ui(6);vh.range;Zd.range;_9.range;S9.range;Zo.range;j9.range;E9.range;function qi(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/S0)}const yh=qi(0),Jd=qi(1),O9=qi(2),C9=qi(3),Jo=qi(4),A9=qi(5),T9=qi(6);yh.range;Jd.range;O9.range;C9.range;Jo.range;A9.range;T9.range;const A0=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());A0.range;const T0=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());T0.range;const Vn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vn.range;const Kn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kn.range;function ck(e,t,r,n,a,i){const o=[[ui,1,An],[ui,5,5*An],[ui,15,15*An],[ui,30,30*An],[i,1,Tr],[i,5,5*Tr],[i,15,15*Tr],[i,30,30*Tr],[a,1,Tn],[a,3,3*Tn],[a,6,6*Tn],[a,12,12*Tn],[n,1,Wn],[n,2,2*Wn],[r,1,S0],[t,1,k_],[t,3,3*k_],[e,1,Zm]];function l(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:s(c,d,f),v=m?m.range(c,+d+1):[];return h?v.reverse():v}function s(c,d,f){const h=Math.abs(d-c)/f,m=c0(([,,y])=>y).right(o,h);if(m===o.length)return e.every(Zg(c/Zm,d/Zm,f));if(m===0)return Xd.every(Math.max(Zg(c,d,f),1));const[v,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(x)}return[l,s]}const[k9,P9]=ck(Kn,T0,yh,uk,C0,E0),[N9,R9]=ck(Vn,A0,vh,yu,O0,j0);function Jm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function M9(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,c=Bl(a),d=Il(a),f=Bl(i),h=Il(i),m=Bl(o),v=Il(o),x=Bl(l),y=Il(l),g=Bl(s),p=Il(s),b={a:P,A:D,b:U,B:W,c:null,d:z_,e:z_,f:nq,g:hq,G:pq,H:eq,I:tq,j:rq,L:dk,m:aq,M:iq,p:ce,q:de,Q:$_,s:L_,S:oq,u:lq,U:sq,V:uq,w:cq,W:dq,x:null,X:null,y:fq,Y:mq,Z:gq,"%":I_},_={a:oe,A:fe,b:se,B:z,c:null,d:B_,e:B_,f:xq,g:kq,G:Nq,H:vq,I:yq,j:bq,L:hk,m:wq,M:_q,p:H,q:ne,Q:$_,s:L_,S:Sq,u:jq,U:Eq,V:Oq,w:Cq,W:Aq,x:null,X:null,y:Tq,Y:Pq,Z:Rq,"%":I_},j={a:k,A:B,b:N,B:K,c:T,d:M_,e:M_,f:X9,g:R_,G:N_,H:D_,I:D_,j:K9,L:Y9,m:V9,M:G9,p:A,q:W9,Q:J9,s:Q9,S:F9,u:$9,U:L9,V:U9,w:I9,W:q9,x:q,X:C,y:R_,Y:N_,Z:H9,"%":Z9};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(M,Y){return function(ee){var $=[],Ut=-1,Oe=0,Qt=M.length,er,Ka,xb;for(ee instanceof Date||(ee=new Date(+ee));++Ut<Qt;)M.charCodeAt(Ut)===37&&($.push(M.slice(Oe,Ut)),(Ka=P_[er=M.charAt(++Ut)])!=null?er=M.charAt(++Ut):Ka=er==="e"?" ":"0",(xb=Y[er])&&(er=xb(ee,Ka)),$.push(er),Oe=Ut+1);return $.push(M.slice(Oe,Ut)),$.join("")}}function E(M,Y){return function(ee){var $=zl(1900,void 0,1),Ut=O($,M,ee+="",0),Oe,Qt;if(Ut!=ee.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(Y&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(Oe=Qm(zl($.y,0,1)),Qt=Oe.getUTCDay(),Oe=Qt>4||Qt===0?Jd.ceil(Oe):Jd(Oe),Oe=gh.offset(Oe,($.V-1)*7),$.y=Oe.getUTCFullYear(),$.m=Oe.getUTCMonth(),$.d=Oe.getUTCDate()+($.w+6)%7):(Oe=Jm(zl($.y,0,1)),Qt=Oe.getDay(),Oe=Qt>4||Qt===0?Zd.ceil(Oe):Zd(Oe),Oe=yu.offset(Oe,($.V-1)*7),$.y=Oe.getFullYear(),$.m=Oe.getMonth(),$.d=Oe.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),Qt="Z"in $?Qm(zl($.y,0,1)).getUTCDay():Jm(zl($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(Qt+5)%7:$.w+$.U*7-(Qt+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Qm($)):Jm($)}}function O(M,Y,ee,$){for(var Ut=0,Oe=Y.length,Qt=ee.length,er,Ka;Ut<Oe;){if($>=Qt)return-1;if(er=Y.charCodeAt(Ut++),er===37){if(er=Y.charAt(Ut++),Ka=j[er in P_?Y.charAt(Ut++):er],!Ka||($=Ka(M,ee,$))<0)return-1}else if(er!=ee.charCodeAt($++))return-1}return $}function A(M,Y,ee){var $=c.exec(Y.slice(ee));return $?(M.p=d.get($[0].toLowerCase()),ee+$[0].length):-1}function k(M,Y,ee){var $=m.exec(Y.slice(ee));return $?(M.w=v.get($[0].toLowerCase()),ee+$[0].length):-1}function B(M,Y,ee){var $=f.exec(Y.slice(ee));return $?(M.w=h.get($[0].toLowerCase()),ee+$[0].length):-1}function N(M,Y,ee){var $=g.exec(Y.slice(ee));return $?(M.m=p.get($[0].toLowerCase()),ee+$[0].length):-1}function K(M,Y,ee){var $=x.exec(Y.slice(ee));return $?(M.m=y.get($[0].toLowerCase()),ee+$[0].length):-1}function T(M,Y,ee){return O(M,t,Y,ee)}function q(M,Y,ee){return O(M,r,Y,ee)}function C(M,Y,ee){return O(M,n,Y,ee)}function P(M){return o[M.getDay()]}function D(M){return i[M.getDay()]}function U(M){return s[M.getMonth()]}function W(M){return l[M.getMonth()]}function ce(M){return a[+(M.getHours()>=12)]}function de(M){return 1+~~(M.getMonth()/3)}function oe(M){return o[M.getUTCDay()]}function fe(M){return i[M.getUTCDay()]}function se(M){return s[M.getUTCMonth()]}function z(M){return l[M.getUTCMonth()]}function H(M){return a[+(M.getUTCHours()>=12)]}function ne(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var Y=S(M+="",b);return Y.toString=function(){return M},Y},parse:function(M){var Y=E(M+="",!1);return Y.toString=function(){return M},Y},utcFormat:function(M){var Y=S(M+="",_);return Y.toString=function(){return M},Y},utcParse:function(M){var Y=E(M+="",!0);return Y.toString=function(){return M},Y}}}var P_={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,D9=/^%/,z9=/[\\^$*+?|[\]().{}]/g;function he(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function B9(e){return e.replace(z9,"\\$&")}function Bl(e){return new RegExp("^(?:"+e.map(B9).join("|")+")","i")}function Il(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function I9(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $9(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function L9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function U9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function q9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function N_(e,t,r){var n=yt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function R_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function H9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function W9(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function V9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function M_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function K9(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function D_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function G9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function F9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Y9(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function X9(e,t,r){var n=yt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Z9(e,t,r){var n=D9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function J9(e,t,r){var n=yt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Q9(e,t,r){var n=yt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function z_(e,t){return he(e.getDate(),t,2)}function eq(e,t){return he(e.getHours(),t,2)}function tq(e,t){return he(e.getHours()%12||12,t,2)}function rq(e,t){return he(1+yu.count(Vn(e),e),t,3)}function dk(e,t){return he(e.getMilliseconds(),t,3)}function nq(e,t){return dk(e,t)+"000"}function aq(e,t){return he(e.getMonth()+1,t,2)}function iq(e,t){return he(e.getMinutes(),t,2)}function oq(e,t){return he(e.getSeconds(),t,2)}function lq(e){var t=e.getDay();return t===0?7:t}function sq(e,t){return he(vh.count(Vn(e)-1,e),t,2)}function fk(e){var t=e.getDay();return t>=4||t===0?Zo(e):Zo.ceil(e)}function uq(e,t){return e=fk(e),he(Zo.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function cq(e){return e.getDay()}function dq(e,t){return he(Zd.count(Vn(e)-1,e),t,2)}function fq(e,t){return he(e.getFullYear()%100,t,2)}function hq(e,t){return e=fk(e),he(e.getFullYear()%100,t,2)}function mq(e,t){return he(e.getFullYear()%1e4,t,4)}function pq(e,t){var r=e.getDay();return e=r>=4||r===0?Zo(e):Zo.ceil(e),he(e.getFullYear()%1e4,t,4)}function gq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+he(t/60|0,"0",2)+he(t%60,"0",2)}function B_(e,t){return he(e.getUTCDate(),t,2)}function vq(e,t){return he(e.getUTCHours(),t,2)}function yq(e,t){return he(e.getUTCHours()%12||12,t,2)}function bq(e,t){return he(1+gh.count(Kn(e),e),t,3)}function hk(e,t){return he(e.getUTCMilliseconds(),t,3)}function xq(e,t){return hk(e,t)+"000"}function wq(e,t){return he(e.getUTCMonth()+1,t,2)}function _q(e,t){return he(e.getUTCMinutes(),t,2)}function Sq(e,t){return he(e.getUTCSeconds(),t,2)}function jq(e){var t=e.getUTCDay();return t===0?7:t}function Eq(e,t){return he(yh.count(Kn(e)-1,e),t,2)}function mk(e){var t=e.getUTCDay();return t>=4||t===0?Jo(e):Jo.ceil(e)}function Oq(e,t){return e=mk(e),he(Jo.count(Kn(e),e)+(Kn(e).getUTCDay()===4),t,2)}function Cq(e){return e.getUTCDay()}function Aq(e,t){return he(Jd.count(Kn(e)-1,e),t,2)}function Tq(e,t){return he(e.getUTCFullYear()%100,t,2)}function kq(e,t){return e=mk(e),he(e.getUTCFullYear()%100,t,2)}function Pq(e,t){return he(e.getUTCFullYear()%1e4,t,4)}function Nq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jo(e):Jo.ceil(e),he(e.getUTCFullYear()%1e4,t,4)}function Rq(){return"+0000"}function I_(){return"%"}function $_(e){return+e}function L_(e){return Math.floor(+e/1e3)}var Ji,pk,gk;Mq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mq(e){return Ji=M9(e),pk=Ji.format,Ji.parse,gk=Ji.utcFormat,Ji.utcParse,Ji}function Dq(e){return new Date(e)}function zq(e){return e instanceof Date?+e:+new Date(+e)}function k0(e,t,r,n,a,i,o,l,s,c){var d=g0(),f=d.invert,h=d.domain,m=c(".%L"),v=c(":%S"),x=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),p=c("%b %d"),b=c("%B"),_=c("%Y");function j(S){return(s(S)<S?m:l(S)<S?v:o(S)<S?x:i(S)<S?y:n(S)<S?a(S)<S?g:p:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,zq)):h().map(Dq)},d.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},d.tickFormat=function(S,E){return E==null?j:c(E)},d.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(rk(E,S)):d},d.copy=function(){return vu(d,k0(e,t,r,n,a,i,o,l,s,c))},d}function Bq(){return zr.apply(k0(N9,R9,Vn,A0,vh,yu,O0,j0,ui,pk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Iq(){return zr.apply(k0(k9,P9,Kn,T0,yh,gh,C0,E0,ui,gk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bh(){var e=0,t=1,r,n,a,i,o=zt,l=!1,s;function c(f){return f==null||isNaN(f=+f)?s:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(l=!!f,c):l},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),c):[o(0),o(1)]}}return c.range=d(vl),c.rangeRound=d(p0),c.unknown=function(f){return arguments.length?(s=f,c):s},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Va(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vk(){var e=Wa(bh()(zt));return e.copy=function(){return Va(e,vk())},ea.apply(e,arguments)}function yk(){var e=b0(bh()).domain([1,10]);return e.copy=function(){return Va(e,yk()).base(e.base())},ea.apply(e,arguments)}function bk(){var e=x0(bh());return e.copy=function(){return Va(e,bk()).constant(e.constant())},ea.apply(e,arguments)}function P0(){var e=w0(bh());return e.copy=function(){return Va(e,P0()).exponent(e.exponent())},ea.apply(e,arguments)}function $q(){return P0.apply(null,arguments).exponent(.5)}function xk(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((pu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ma),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>j6(e,i/n))},r.copy=function(){return xk(t).domain(e)},ea.apply(r,arguments)}function xh(){var e=0,t=.5,r=1,n=1,a,i,o,l,s,c=zt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:s),c(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(c=x,m):c};function v(x){return function(y){var g,p,b;return arguments.length?([g,p,b]=y,c=Z6(x,[g,p,b]),m):[c(0),c(.5),c(1)]}}return m.range=v(vl),m.rangeRound=v(p0),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),i=x(t),o=x(r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function wk(){var e=Wa(xh()(zt));return e.copy=function(){return Va(e,wk())},ea.apply(e,arguments)}function _k(){var e=b0(xh()).domain([.1,1,10]);return e.copy=function(){return Va(e,_k()).base(e.base())},ea.apply(e,arguments)}function Sk(){var e=x0(xh());return e.copy=function(){return Va(e,Sk()).constant(e.constant())},ea.apply(e,arguments)}function N0(){var e=w0(xh());return e.copy=function(){return Va(e,N0()).exponent(e.exponent())},ea.apply(e,arguments)}function Lq(){return N0.apply(null,arguments).exponent(.5)}const Gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:f0,scaleDiverging:wk,scaleDivergingLog:_k,scaleDivergingPow:N0,scaleDivergingSqrt:Lq,scaleDivergingSymlog:Sk,scaleIdentity:tk,scaleImplicit:Jg,scaleLinear:ek,scaleLog:nk,scaleOrdinal:d0,scalePoint:C6,scalePow:_0,scaleQuantile:ok,scaleQuantize:lk,scaleRadial:ik,scaleSequential:vk,scaleSequentialLog:yk,scaleSequentialPow:P0,scaleSequentialQuantile:xk,scaleSequentialSqrt:$q,scaleSequentialSymlog:bk,scaleSqrt:x9,scaleSymlog:ak,scaleThreshold:sk,scaleTime:Bq,scaleUtc:Iq,tickFormat:Q2},Symbol.toStringTag,{value:"Module"}));var ta=e=>e.chartData,jk=R([ta],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ek=(e,t,r,n)=>n?jk(e):ta(e),Uq=(e,t,r)=>r?jk(e):ta(e);function $a(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Le(t)&&Le(r))return!0}return!1}function U_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Ok(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Le(r))a=r;else if(typeof r=="function")return;if(Le(n))i=n;else if(typeof n=="function")return;var o=[a,i];if($a(o))return o}}function qq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($a(n))return U_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(F(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&sw.test(a)){var s=sw.exec(a);if(s==null||s[1]==null||t==null)o=void 0;else{var c=+s[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(F(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&uw.test(i)){var d=uw.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if($a(h))return t==null?h:U_(h,t,r)}}}var yl=1e9,Hq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},M0,Ie=!0,Dr="[DecimalError] ",bi=Dr+"Invalid argument: ",R0=Dr+"Exponent out of range: ",bl=Math.floor,ni=Math.pow,Wq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,ft=1e7,Pe=7,Ck=9007199254740991,Qd=bl(Ck/Pe),V={};V.absoluteValue=V.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};V.comparedTo=V.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};V.decimalPlaces=V.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};V.dividedBy=V.div=function(e){return Rn(this,new this.constructor(e))};V.dividedToIntegerBy=V.idiv=function(e){var t=this,r=t.constructor;return _e(Rn(t,new r(e),0,1),r.precision)};V.equals=V.eq=function(e){return!this.cmp(e)};V.exponent=function(){return tt(this)};V.greaterThan=V.gt=function(e){return this.cmp(e)>0};V.greaterThanOrEqualTo=V.gte=function(e){return this.cmp(e)>=0};V.isInteger=V.isint=function(){return this.e>this.d.length-2};V.isNegative=V.isneg=function(){return this.s<0};V.isPositive=V.ispos=function(){return this.s>0};V.isZero=function(){return this.s===0};V.lessThan=V.lt=function(e){return this.cmp(e)<0};V.lessThanOrEqualTo=V.lte=function(e){return this.cmp(e)<1};V.logarithm=V.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(lr)?new n(0):(Ie=!1,t=Rn(Hs(r,i),Hs(e,i),i),Ie=!0,_e(t,a))};V.minus=V.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kk(t,e):Ak(t,(e.s=-e.s,e))};V.modulo=V.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Dr+"NaN");return r.s?(Ie=!1,t=Rn(r,e,0,1).times(e),Ie=!0,r.minus(t)):_e(new n(r),a)};V.naturalExponential=V.exp=function(){return Tk(this)};V.naturalLogarithm=V.ln=function(){return Hs(this)};V.negated=V.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};V.plus=V.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ak(t,e):kk(t,(e.s=-e.s,e))};V.precision=V.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bi+e);if(t=tt(a)+1,n=a.d.length-1,r=n*Pe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};V.squareRoot=V.sqrt=function(){var e,t,r,n,a,i,o,l=this,s=l.constructor;if(l.s<1){if(!l.s)return new s(0);throw Error(Dr+"NaN")}for(e=tt(l),Ie=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=an(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new s(t)):n=new s(a.toString()),r=s.precision,a=o=r+3;;)if(i=n,n=i.plus(Rn(l,i,o+2)).times(.5),an(i.d).slice(0,o)===(t=an(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(_e(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ie=!0,_e(n,r)};V.times=V.mul=function(e){var t,r,n,a,i,o,l,s,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,s=h.length,c=m.length,s<c&&(i=h,h=m,m=i,o=s,s=c,c=o),i=[],o=s+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=s+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%ft|0,t=l/ft|0;i[a]=(i[a]+t)%ft|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ie?_e(e,f.precision):e};V.toDecimalPlaces=V.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(cn(e,0,yl),t===void 0?t=n.rounding:cn(t,0,8),_e(r,e+tt(r)+1,t))};V.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ki(n,!0):(cn(e,0,yl),t===void 0?t=a.rounding:cn(t,0,8),n=_e(new a(n),e+1,t),r=ki(n,!0,e+1)),r};V.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ki(a):(cn(e,0,yl),t===void 0?t=i.rounding:cn(t,0,8),n=_e(new i(a),e+tt(a)+1,t),r=ki(n.abs(),!1,e+tt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};V.toInteger=V.toint=function(){var e=this,t=e.constructor;return _e(new t(e),tt(e)+1,t.rounding)};V.toNumber=function(){return+this};V.toPower=V.pow=function(e){var t,r,n,a,i,o,l=this,s=l.constructor,c=12,d=+(e=new s(e));if(!e.s)return new s(lr);if(l=new s(l),!l.s){if(e.s<1)throw Error(Dr+"Infinity");return l}if(l.eq(lr))return l;if(n=s.precision,e.eq(lr))return _e(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=Ck){for(a=new s(lr),t=Math.ceil(n/Pe+4),Ie=!1;r%2&&(a=a.times(l),H_(a.d,t)),r=bl(r/2),r!==0;)l=l.times(l),H_(l.d,t);return Ie=!0,e.s<0?new s(lr).div(a):_e(a,n)}}else if(i<0)throw Error(Dr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ie=!1,a=e.times(Hs(l,n+c)),Ie=!0,a=Tk(a),a.s=i,a};V.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=tt(a),n=ki(a,r<=i.toExpNeg||r>=i.toExpPos)):(cn(e,1,yl),t===void 0?t=i.rounding:cn(t,0,8),a=_e(new i(a),e,t),r=tt(a),n=ki(a,e<=r||r<=i.toExpNeg,e)),n};V.toSignificantDigits=V.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(cn(e,1,yl),t===void 0?t=n.rounding:cn(t,0,8)),_e(new n(r),e,t)};V.toString=V.valueOf=V.val=V.toJSON=V[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),r=e.constructor;return ki(e,t<=r.toExpNeg||t>=r.toExpPos)};function Ak(e,t){var r,n,a,i,o,l,s,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ie?_e(t,f):t;if(s=e.d,c=t.d,o=e.e,a=t.e,s=s.slice(),i=o-a,i){for(i<0?(n=s,i=-i,l=c.length):(n=c,a=o,l=s.length),o=Math.ceil(f/Pe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=s.length,i=c.length,l-i<0&&(i=l,n=c,c=s,s=n),r=0;i;)r=(s[--i]=s[i]+c[i]+r)/ft|0,s[i]%=ft;for(r&&(s.unshift(r),++a),l=s.length;s[--l]==0;)s.pop();return t.d=s,t.e=a,Ie?_e(t,f):t}function cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bi+e)}function an(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Pe-n.length,r&&(i+=ca(r)),i+=n;o=e[t],n=o+"",r=Pe-n.length,r&&(i+=ca(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Rn=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ft|0,o=i/ft|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,s;if(i!=o)s=i>o?1:-1;else for(l=s=0;l<i;l++)if(n[l]!=a[l]){s=n[l]>a[l]?1:-1;break}return s}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ft+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,s,c,d,f,h,m,v,x,y,g,p,b,_,j,S,E,O,A=n.constructor,k=n.s==a.s?1:-1,B=n.d,N=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Dr+"Division by zero");for(s=n.e-a.e,E=N.length,j=B.length,m=new A(k),v=m.d=[],c=0;N[c]==(B[c]||0);)++c;if(N[c]>(B[c]||0)&&--s,i==null?p=i=A.precision:o?p=i+(tt(n)-tt(a))+1:p=i,p<0)return new A(0);if(p=p/Pe+2|0,c=0,E==1)for(d=0,N=N[0],p++;(c<j||d)&&p--;c++)b=d*ft+(B[c]||0),v[c]=b/N|0,d=b%N|0;else{for(d=ft/(N[0]+1)|0,d>1&&(N=e(N,d),B=e(B,d),E=N.length,j=B.length),_=E,x=B.slice(0,E),y=x.length;y<E;)x[y++]=0;O=N.slice(),O.unshift(0),S=N[0],N[1]>=ft/2&&++S;do d=0,l=t(N,x,E,y),l<0?(g=x[0],E!=y&&(g=g*ft+(x[1]||0)),d=g/S|0,d>1?(d>=ft&&(d=ft-1),f=e(N,d),h=f.length,y=x.length,l=t(f,x,h,y),l==1&&(d--,r(f,E<h?O:N,h))):(d==0&&(l=d=1),f=N.slice()),h=f.length,h<y&&f.unshift(0),r(x,f,y),l==-1&&(y=x.length,l=t(N,x,E,y),l<1&&(d++,r(x,E<y?O:N,y))),y=x.length):l===0&&(d++,x=[0]),v[c++]=d,l&&x[0]?x[y++]=B[_]||0:(x=[B[_]],y=1);while((_++<j||x[0]!==void 0)&&p--)}return v[0]||v.shift(),m.e=s,_e(m,o?i+tt(m)+1:i)}}();function Tk(e,t){var r,n,a,i,o,l,s=0,c=0,d=e.constructor,f=d.precision;if(tt(e)>16)throw Error(R0+tt(e));if(!e.s)return new d(lr);for(Ie=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(ni(2,c))/Math.LN10*2+5|0,l+=n,r=a=i=new d(lr),d.precision=l;;){if(a=_e(a.times(e),l),r=r.times(++s),o=i.plus(Rn(a,r,l)),an(o.d).slice(0,l)===an(i.d).slice(0,l)){for(;c--;)i=_e(i.times(i),l);return d.precision=f,t==null?(Ie=!0,_e(i,f)):i}i=o}}function tt(e){for(var t=e.e*Pe,r=e.d[0];r>=10;r/=10)t++;return t}function ep(e,t,r){if(t>e.LN10.sd())throw Ie=!0,r&&(e.precision=r),Error(Dr+"LN10 precision limit exceeded");return _e(new e(e.LN10),t)}function ca(e){for(var t="";e--;)t+="0";return t}function Hs(e,t){var r,n,a,i,o,l,s,c,d,f=1,h=10,m=e,v=m.d,x=m.constructor,y=x.precision;if(m.s<1)throw Error(Dr+(m.s?"NaN":"-Infinity"));if(m.eq(lr))return new x(0);if(t==null?(Ie=!1,c=y):c=t,m.eq(10))return t==null&&(Ie=!0),ep(x,c);if(c+=h,x.precision=c,r=an(v),n=r.charAt(0),i=tt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=an(m.d),n=r.charAt(0),f++;i=tt(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return s=ep(x,c+2,y).times(i+""),m=Hs(new x(n+"."+r.slice(1)),c-h).plus(s),x.precision=y,t==null?(Ie=!0,_e(m,y)):m;for(l=o=m=Rn(m.minus(lr),m.plus(lr),c),d=_e(m.times(m),c),a=3;;){if(o=_e(o.times(d),c),s=l.plus(Rn(o,new x(a),c)),an(s.d).slice(0,c)===an(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(ep(x,c+2,y).times(i+""))),l=Rn(l,new x(f),c),x.precision=y,t==null?(Ie=!0,_e(l,y)):l;l=s,a+=2}}function q_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bl(r/Pe),e.d=[],n=(r+1)%Pe,r<0&&(n+=Pe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Pe;n<a;)e.d.push(+t.slice(n,n+=Pe));t=t.slice(n),n=Pe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ie&&(e.e>Qd||e.e<-Qd))throw Error(R0+r)}else e.s=0,e.e=0,e.d=[0];return e}function _e(e,t,r){var n,a,i,o,l,s,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Pe,a=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Pe),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;n%=Pe,a=n-Pe+o}if(r!==void 0&&(i=ni(10,o-a-1),l=c/i%10|0,s=t<0||f[d+1]!==void 0||c%i,s=r<4?(l||s)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||s||r==6&&(n>0?a>0?c/ni(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return s?(i=tt(e),f.length=1,t=t-i-1,f[0]=ni(10,(Pe-t%Pe)%Pe),e.e=bl(-t/Pe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ni(10,Pe-n),f[d]=a>0?(c/ni(10,o-a)%ni(10,a)|0)*i:0),s)for(;;)if(d==0){(f[0]+=i)==ft&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ft)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ie&&(e.e>Qd||e.e<-Qd))throw Error(R0+tt(e));return e}function kk(e,t){var r,n,a,i,o,l,s,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ie?_e(t,m):t;if(s=e.d,f=t.d,n=t.e,c=e.e,s=s.slice(),o=c-n,o){for(d=o<0,d?(r=s,o=-o,l=f.length):(r=f,n=c,l=s.length),a=Math.max(Math.ceil(m/Pe),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=s.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(s[a]!=f[a]){d=s[a]<f[a];break}o=0}for(d&&(r=s,s=f,f=r,t.s=-t.s),l=s.length,a=f.length-l;a>0;--a)s[l++]=0;for(a=f.length;a>o;){if(s[--a]<f[a]){for(i=a;i&&s[--i]===0;)s[i]=ft-1;--s[i],s[a]+=ft}s[a]-=f[a]}for(;s[--l]===0;)s.pop();for(;s[0]===0;s.shift())--n;return s[0]?(t.d=s,t.e=n,Ie?_e(t,m):t):new h(0)}function ki(e,t,r){var n,a=tt(e),i=an(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ca(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ca(-a-1)+i,r&&(n=r-o)>0&&(i+=ca(n))):a>=o?(i+=ca(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ca(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ca(n))),e.s<0?"-"+i:i}function H_(e,t){if(e.length>t)return e.length=t,!0}function Pk(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(bi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return q_(o,i.toString())}else if(typeof i!="string")throw Error(bi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Wq.test(i))q_(o,i);else throw Error(bi+i)}if(a.prototype=V,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Pk,a.config=a.set=Vq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Vq(e){if(!e||typeof e!="object")throw Error(Dr+"Object expected");var t,r,n,a=["precision",1,yl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(bi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bi+r+": "+n);return this}var M0=Pk(Hq);lr=new M0(1);const ve=M0;var Kq=e=>e,Nk={},Rk=e=>e===Nk,W_=e=>function t(){return arguments.length===0||arguments.length===1&&Rk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Mk=(e,t)=>e===1?t:W_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==Nk).length;return i>=e?t(...n):Mk(e-i,W_(function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];var c=n.map(d=>Rk(d)?l.shift():d);return t(...c,...l)}))}),Gq=e=>Mk(e.length,e),rv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Fq=Gq((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Yq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Kq;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,s)=>s(l),i(...arguments))}};function Dk(e){var t;return e===0?t=1:t=Math.floor(new ve(e).abs().log(10).toNumber())+1,t}function zk(e,t,r){for(var n=new ve(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Bk=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Ik=(e,t,r)=>{if(e.lte(0))return new ve(0);var n=Dk(e.toNumber()),a=new ve(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ve(Math.ceil(i.div(o).toNumber())).add(r).mul(o),s=l.mul(a);return t?new ve(s.toNumber()):new ve(Math.ceil(s.toNumber()))},Xq=(e,t,r)=>{var n=new ve(1),a=new ve(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ve(10).pow(Dk(e)-1),a=new ve(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ve(Math.floor(e)))}else e===0?a=new ve(Math.floor((t-1)/2)):r||(a=new ve(Math.floor(e)));var o=Math.floor((t-1)/2),l=Yq(Fq(s=>a.add(new ve(s-o).mul(n)).toNumber()),rv);return l(0,t)},$k=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ve(0),tickMin:new ve(0),tickMax:new ve(0)};var o=Ik(new ve(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new ve(0):(l=new ve(t).add(r).div(2),l=l.sub(new ve(l).mod(o)));var s=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new ve(r).sub(l).div(o).toNumber()),d=s+c+1;return d>n?$k(t,r,n,a,i+1):(d<n&&(c=r>0?c+(n-d):c,s=r>0?s:s+(n-d)),{step:o,tickMin:l.sub(new ve(s).mul(o)),tickMax:l.add(new ve(c).mul(o))})},Zq=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,s]=Bk([r,n]);if(l===-1/0||s===1/0){var c=s===1/0?[l,...rv(0,a-1).map(()=>1/0)]:[...rv(0,a-1).map(()=>-1/0),s];return r>n?c.reverse():c}if(l===s)return Xq(l,a,i);var{step:d,tickMin:f,tickMax:h}=$k(l,s,o,i,0),m=zk(f,h.add(new ve(.1).mul(d)),d);return r>n?m.reverse():m},Jq=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Bk([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var s=Math.max(r,2),c=Ik(new ve(l).sub(o).div(s-1),i,0),d=[...zk(new ve(o),new ve(l),c),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},Lk=e=>e.rootProps.maxBarSize,Qq=e=>e.rootProps.barGap,Uk=e=>e.rootProps.barCategoryGap,e7=e=>e.rootProps.barSize,wh=e=>e.rootProps.stackOffset,qk=e=>e.rootProps.reverseStackOrder,D0=e=>e.options.chartName,z0=e=>e.rootProps.syncId,Hk=e=>e.rootProps.syncMethod,B0=e=>e.options.eventEmitter,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Sn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_h=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},t7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:Sn.reversed,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:Sn.type,unit:void 0},r7={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:rr.type,unit:void 0},n7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},a7={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:"category",unit:void 0},I0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?n7:t7,$0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?a7:r7,Sh=e=>e.polarOptions,L0=R([Jn,Qn,vt],r6),Wk=R([Sh,L0],(e,t)=>{if(e!=null)return Yr(e.innerRadius,t,0)}),Vk=R([Sh,L0],(e,t)=>{if(e!=null)return Yr(e.outerRadius,t,t*.8)}),i7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Kk=R([Sh],i7);R([I0,Kk],_h);var Gk=R([L0,Wk,Vk],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});R([$0,Gk],_h);var Fk=R([be,Sh,Wk,Vk,Jn,Qn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:s,endAngle:c}=t;return{cx:Yr(o,a,a/2),cy:Yr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:s,endAngle:c,clockWise:!1}}}),lt=(e,t)=>t,jh=(e,t,r)=>r;function U0(e){return e==null?void 0:e.id}function Yk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var s,c=(s=l.data)!==null&&s!==void 0?s:n;if(!(c==null||c.length===0)){var d=U0(l);c.forEach((f,h)=>{var m=i==null||a?h:String(At(f,i,null)),v=At(f,l.dataKey,0),x;o.has(m)?x=o.get(m):x={},Object.assign(x,{[d]:v}),o.set(m,x)})}}),Array.from(o.values())}function Eh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Oh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ch(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function o7(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var st=e=>{var t=be(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xl=e=>e.tooltip.settings.axisId;function V_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(r),!0).forEach(function(n){l7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l7(e,t,r){return(t=s7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7(e){var t=u7(e,"string");return typeof t=="symbol"?t:t+""}function u7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nv=[0,"auto"],ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Xk=(e,t)=>e.cartesianAxis.xAxis[t],ra=(e,t)=>{var r=Xk(e,t);return r??ct},dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fu},Zk=(e,t)=>e.cartesianAxis.yAxis[t],na=(e,t)=>{var r=Zk(e,t);return r??dt},c7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},q0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??c7},Lt=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);case"zAxis":return q0(e,r);case"angleAxis":return I0(e,r);case"radiusAxis":return $0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},d7=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bu=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);case"angleAxis":return I0(e,r);case"radiusAxis":return $0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Jk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Qk(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var H0=e=>e.graphicalItems.cartesianItems,f7=R([lt,jh],Qk),eP=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),xu=R([H0,Lt,f7],eP,{memoizeOptions:{resultEqualityCheck:Ch}}),tP=R([xu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Eh)),rP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),h7=R([xu],rP),nP=e=>e.map(t=>t.data).filter(Boolean).flat(1),m7=R([xu],nP,{memoizeOptions:{resultEqualityCheck:Ch}}),aP=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},W0=R([m7,Ek],aP),iP=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:At(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:At(a,n)}))):e.map(n=>({value:n})),Ah=R([W0,Lt,xu],iP);function oP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Dc(e){if(sn(e)||e instanceof Date){var t=Number(e);if(Le(t))return t}}function K_(e){if(Array.isArray(e)){var t=[Dc(e[0]),Dc(e[1])];return $a(t)?t:void 0}var r=Dc(e);if(r!=null)return[r,r]}function Gn(e){return e.map(Dc).filter(LI)}function p7(e,t,r){return!r||typeof t!="number"||Fr(t)?[]:r.length?Gn(r.flatMap(n=>{var a=At(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Le(i)||!Le(o)))return[t-i,t+o]})):[]}var ut=e=>{var t=st(e),r=xl(e);return bu(e,t,r)},wu=R([ut],e=>e==null?void 0:e.dataKey),g7=R([tP,Ek,ut],Yk),lP=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>{if(l.stackId==null)return o;var s=o[l.stackId];return s==null&&(s=[]),s.push(l),o[l.stackId]=s,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,s]=o,c=n?[...s].reverse():s,d=c.map(U0);return[l,{stackedData:XL(e,d,r),graphicalItems:c}]}))},av=R([g7,tP,wh,qk],lP),sP=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=t8(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},v7=R([Lt],e=>e.allowDataOverflow),V0=e=>{var t;if(e==null||!("domain"in e))return nv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Gn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:nv},uP=R([Lt],V0),cP=R([uP,v7],Ok),y7=R([av,ta,lt,cP],sP,{memoizeOptions:{resultEqualityCheck:Oh}}),K0=e=>e.errorBars,b7=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>oP(r,n)),tf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},dP=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(s=>{var c,d,f=(c=n[s.id])===null||c===void 0?void 0:c.filter(g=>oP(a,g)),h=At(l,(d=t.dataKey)!==null&&d!==void 0?d:s.dataKey),m=p7(l,h,f);if(m.length>=2){var v=Math.min(...m),x=Math.max(...m);(i==null||v<i)&&(i=v),(o==null||x>o)&&(o=x)}var y=K_(h);y!=null&&(i=i==null?y[0]:Math.min(i,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var s=K_(At(l,t.dataKey));s!=null&&(i=i==null?s[0]:Math.min(i,s[0]),o=o==null?s[1]:Math.max(o,s[1]))}),Le(i)&&Le(o))return[i,o]},x7=R([W0,Lt,h7,K0,lt],dP,{memoizeOptions:{resultEqualityCheck:Oh}});function w7(e){var{value:t}=e;if(sn(t)||t instanceof Date)return t}var _7=(e,t,r)=>{var n=e.map(w7).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&tT(n))?W2(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},fP=e=>e.referenceElements.dots,wl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),S7=R([fP,lt,jh],wl),hP=e=>e.referenceElements.areas,j7=R([hP,lt,jh],wl),mP=e=>e.referenceElements.lines,E7=R([mP,lt,jh],wl),pP=(e,t)=>{if(e!=null){var r=Gn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},O7=R(S7,lt,pP),gP=(e,t)=>{if(e!=null){var r=Gn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},C7=R([j7,lt],gP);function A7(e){var t;if(e.x!=null)return Gn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Gn(r)}function T7(e){var t;if(e.y!=null)return Gn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Gn(r)}var vP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?A7(n):T7(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},k7=R([E7,lt],vP),P7=R(O7,k7,C7,(e,t,r)=>tf(e,r,t)),yP=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var s=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=s?tf(n,i,a):tf(i,a);return qq(t,c,e.allowDataOverflow)},N7=R([Lt,uP,cP,y7,x7,P7,be,lt],yP,{memoizeOptions:{resultEqualityCheck:Oh}}),R7=[0,1],bP=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:s}=e,c=Li(t,i);if(c&&l==null){var d;return W2(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return s==="category"?_7(n,e,c):a==="expand"?R7:o}},G0=R([Lt,be,W0,Ah,wh,lt,N7],bP),xP=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(su(i));return l in Gl?l:"point"}}},_u=R([Lt,be,Jk,D0,lt],xP);function M7(e){if(e!=null){if(e in Gl)return Gl[e]();var t="scale".concat(su(e));if(t in Gl)return Gl[t]()}}function F0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=M7(t);if(a!=null){var i=a.domain(r).range(n);return VL(i),i}}}var wP=(e,t,r)=>{var n=V0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$a(e))return Zq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$a(e))return Jq(e,t.tickCount,t.allowDecimals)}},Y0=R([G0,bu,_u],wP),_P=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$a(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},D7=R([Lt,G0,Y0,lt],_P),z7=R(Ah,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Gn(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var s=n[l],c=n[l+1];if(!(s==null||c==null)){var d=c-s;r=Math.min(r,d)}}return r/o}}),SP=R(z7,be,Uk,vt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Le(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Yr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),B7=(e,t,r)=>{var n=ra(e,t);return n==null||typeof n.padding!="string"?0:SP(e,"xAxis",t,r,n.padding)},I7=(e,t,r)=>{var n=na(e,t);return n==null||typeof n.padding!="string"?0:SP(e,"yAxis",t,r,n.padding)},$7=R(ra,B7,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),L7=R(na,I7,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),U7=R([vt,$7,sh,lh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),q7=R([vt,be,L7,sh,lh,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Su=(e,t,r,n)=>{var a;switch(t){case"xAxis":return U7(e,r,n);case"yAxis":return q7(e,r,n);case"zAxis":return(a=q0(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Kk(e);case"radiusAxis":return Gk(e,r);default:return}},jP=R([Lt,Su],_h),Th=R([Lt,_u,D7,jP],F0);R([xu,K0,lt],b7);function EP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var kh=(e,t)=>t,Ph=(e,t,r)=>r,H7=R(ih,kh,Ph,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EP)),W7=R(oh,kh,Ph,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EP)),OP=(e,t)=>({width:e.width,height:t.height}),V7=(e,t)=>{var r=typeof t.width=="number"?t.width:fu;return{width:r,height:e.height}},CP=R(vt,ra,OP),K7=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},G7=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},F7=R(Qn,vt,H7,kh,Ph,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=OP(t,l);o==null&&(o=K7(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(c)*s.height,o+=(c?-1:1)*s.height}),i}),Y7=R(Jn,vt,W7,kh,Ph,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=V7(t,l);o==null&&(o=G7(t,n,e));var c=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(c)*s.width,o+=(c?-1:1)*s.width}),i}),X7=(e,t)=>{var r=ra(e,t);if(r!=null)return F7(e,r.orientation,r.mirror)},Z7=R([vt,ra,X7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),J7=(e,t)=>{var r=na(e,t);if(r!=null)return Y7(e,r.orientation,r.mirror)},Q7=R([vt,na,J7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),AP=R(vt,na,(e,t)=>{var r=typeof t.width=="number"?t.width:fu;return{width:r,height:e.height}}),G_=(e,t,r)=>{switch(t){case"xAxis":return CP(e,r).width;case"yAxis":return AP(e,r).height;default:return}},TP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Li(e,n),s=t.map(c=>c.value);if(o&&l&&i==="category"&&a&&tT(s))return s}},X0=R([be,Ah,Lt,lt],TP),kP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Li(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Z0=R([be,Ah,bu,lt],kP),F_=R([be,d7,_u,Th,X0,Z0,Su,Y0,lt],(e,t,r,n,a,i,o,l,s)=>{if(t!=null){var c=Li(e,s);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:s,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}}),eH=(e,t,r,n,a,i,o,l,s)=>{if(!(t==null||n==null)){var c=Li(e,s),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=s==="angleAxis"&&i!=null&&i.length>=2?Kt(i[0]-i[1])*2*v:v;var x=f||a;if(x){var y=x.map((g,p)=>{var b=o?o.indexOf(g):g;return{index:p,coordinate:n(b)+v,value:g,offset:v}});return y.filter(g=>Le(g.coordinate))}return c&&l?l.map((g,p)=>({coordinate:n(g)+v,value:g,index:p,offset:v})).filter(g=>Le(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+v,value:g,offset:v})):n.domain().map((g,p)=>({coordinate:n(g)+v,value:o?o[g]:g,index:p,offset:v}))}},PP=R([be,bu,_u,Th,Y0,Su,X0,Z0,lt],eH),tH=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Li(e,o),{tickCount:s}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Kt(n[0]-n[1])*2*c:c,l&&i?i.map((d,f)=>({coordinate:r(d)+c,value:d,index:f,offset:c})):r.ticks?r.ticks(s).map(d=>({coordinate:r(d)+c,value:d,offset:c})):r.domain().map((d,f)=>({coordinate:r(d)+c,value:a?a[d]:d,index:f,offset:c}))}},Qo=R([be,bu,Th,Su,X0,Z0,lt],tH),el=R(Lt,Th,(e,t)=>{if(!(e==null||t==null))return ef(ef({},e),{},{scale:t})}),rH=R([Lt,_u,G0,jP],F0);R((e,t,r)=>q0(e,r),rH,(e,t)=>{if(!(e==null||t==null))return ef(ef({},e),{},{scale:t})});var nH=R([be,ih,oh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),NP=e=>e.options.defaultTooltipEventType,RP=e=>e.options.validateTooltipEventTypes;function MP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function J0(e,t){var r=NP(e),n=RP(e);return MP(t,r,n)}function aH(e){return Z(t=>J0(t,e))}var DP=(e,t)=>{var r,n=Number(t);if(!(Fr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},iH=e=>e.tooltip.settings,va={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},oH={itemInteraction:{click:va,hover:va},axisInteraction:{click:va,hover:va},keyboardInteraction:va,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zP=Zt({name:"tooltip",initialState:oH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=Gr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:lH,replaceTooltipEntrySettings:sH,removeTooltipEntrySettings:uH,setTooltipSettingsState:cH,setActiveMouseOverItemIndex:BP,mouseLeaveItem:dH,mouseLeaveChart:IP,setActiveClickItemIndex:fH,setMouseOverAxisIndex:$P,setMouseClickAxisIndex:hH,setSyncInteraction:iv,setKeyboardInteraction:ov}=zP.actions,mH=zP.reducer;function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){pH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pH(e,t,r){return(t=gH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=vH(e,"string");return typeof t=="symbol"?t:t+""}function vH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function bH(e){return e.index!=null}var LP=(e,t,r,n)=>{if(t==null)return va;var a=yH(e,t,r);if(a==null)return va;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(bH(a)){if(i)return hc(hc({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return hc(hc({},va),{},{coordinate:a.coordinate})};function xH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function wH(e,t){var r=xH(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function _H(e,t,r){if(r==null||t==null)return!0;var n=At(e,t);return n==null||!$a(r)?!0:wH(n,r)}var Q0=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Le(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var s=Math.max(o,Math.min(i,l)),c=t[s];return c==null||_H(c,r,n)?String(s):null},UP=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var s=o[0],c=s==null?void 0:l(s.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},qP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},ju=e=>e.options.tooltipPayloadSearcher,_l=e=>e.tooltip;function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){SH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SH(e,t,r){return(t=jH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=EH(e,"string");return typeof t=="symbol"?t:t+""}function EH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OH(e,t){return e??t}var HP=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:s,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:x,settings:y}=m,g=OH(x,l),p=Array.isArray(g)?u2(g,c,d):g,b=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:n,_=y==null?void 0:y.nameKey,j;if(n&&Array.isArray(p)&&!Array.isArray(p[0])&&o==="axis"?j=$I(p,n,a):j=i(p,t,s,_),Array.isArray(j))j.forEach(E=>{var O=Z_(Z_({},y),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(cw({tooltipEntrySettings:O,dataKey:E.dataKey,payload:E.payload,value:At(E.payload,E.dataKey),name:E.name}))});else{var S;h.push(cw({tooltipEntrySettings:y,dataKey:b,payload:j,value:At(j,b),name:(S=At(j,_))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},eb=R([ut,be,Jk,D0,st],xP),CH=R([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),AH=R([st,xl],Qk),Sl=R([CH,ut,AH],eP,{memoizeOptions:{resultEqualityCheck:Ch}}),TH=R([Sl],e=>e.filter(Eh)),kH=R([Sl],nP,{memoizeOptions:{resultEqualityCheck:Ch}}),jl=R([kH,ta],aP),PH=R([TH,ta,ut],Yk),tb=R([jl,ut,Sl],iP),WP=R([ut],V0),NH=R([ut],e=>e.allowDataOverflow),VP=R([WP,NH],Ok),RH=R([Sl],e=>e.filter(Eh)),MH=R([PH,RH,wh,qk],lP),DH=R([MH,ta,st,VP],sP),zH=R([Sl],rP),BH=R([jl,ut,zH,K0,st],dP,{memoizeOptions:{resultEqualityCheck:Oh}}),IH=R([fP,st,xl],wl),$H=R([IH,st],pP),LH=R([hP,st,xl],wl),UH=R([LH,st],gP),qH=R([mP,st,xl],wl),HH=R([qH,st],vP),WH=R([$H,HH,UH],tf),VH=R([ut,WP,VP,DH,BH,WH,be,st],yP),Eu=R([ut,be,jl,tb,wh,st,VH],bP),KH=R([Eu,ut,eb],wP),GH=R([ut,Eu,KH,st],_P),KP=e=>{var t=st(e),r=xl(e),n=!1;return Su(e,t,r,n)},GP=R([ut,KP],_h),FP=R([ut,eb,GH,GP],F0),FH=R([be,tb,ut,st],TP),YH=R([be,tb,ut,st],kP),XH=(e,t,r,n,a,i,o,l)=>{if(t){var{type:s}=t,c=Li(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=s==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Kt(a[0]-a[1])*2*f:f,c&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},aa=R([be,ut,eb,FP,KP,FH,YH,st],XH),rb=R([NP,RP,iH],(e,t,r)=>MP(r.shared,e,t)),YP=e=>e.tooltip.settings.trigger,nb=e=>e.tooltip.settings.defaultIndex,Ou=R([_l,rb,YP,nb],LP),tl=R([Ou,jl,wu,Eu],Q0),XP=R([aa,tl],DP),ZP=R([Ou],e=>{if(e)return e.dataKey});R([Ou],e=>{if(e)return e.graphicalItemId});var JP=R([_l,rb,YP,nb],qP),ZH=R([Jn,Qn,be,vt,aa,nb,JP,ju],UP),JH=R([Ou,ZH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),QH=R([Ou],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),eW=R([JP,tl,ta,wu,XP,ju,rb],HP);R([eW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){tW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tW(e,t,r){return(t=rW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aW=()=>Z(ut),iW=()=>{var e=aW(),t=Z(aa),r=Z(FP);return Rd(!e||!r?void 0:Q_(Q_({},e),{},{scale:r}),t)};function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){oW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uW=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},cW=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Qi(Qi(Qi({},n),Ot(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:s}=n;return Qi(Qi(Qi({},n),Ot(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function dW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var QP=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var s,c,d,f,h,m=l>0?(s=r[l-1])===null||s===void 0?void 0:s.coordinate:(c=r[o-1])===null||c===void 0?void 0:c.coordinate,v=(d=r[l])===null||d===void 0?void 0:d.coordinate,x=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||v==null||x==null))if(Kt(v-m)!==Kt(x-v)){var g=[];if(Kt(x-v)===Kt(a[1]-a[0])){y=x;var p=v+a[1]-a[0];g[0]=Math.min(p,(p+m)/2),g[1]=Math.max(p,(p+m)/2)}else{y=m;var b=x+a[1]-a[0];g[0]=Math.min(v,(b+v)/2),g[1]=Math.max(v,(b+v)/2)}var _=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var S=Math.min(m,x),E=Math.max(m,x);if(e>(S+v)/2&&e<=(E+v)/2){var O;return(O=r[l])===null||O===void 0?void 0:O.index}}}else if(t)for(var A=0;A<o;A++){var k=t[A];if(k!=null){var B=t[A+1],N=t[A-1];if(A===0&&B!=null&&e<=(k.coordinate+B.coordinate)/2||A===o-1&&N!=null&&e>(k.coordinate+N.coordinate)/2||A>0&&A<o-1&&N!=null&&B!=null&&e>(k.coordinate+N.coordinate)/2&&e<=(k.coordinate+B.coordinate)/2)return k.index}}return-1},fW=()=>Z(D0),ab=(e,t)=>t,eN=(e,t,r)=>r,ib=(e,t,r,n)=>n,hW=R(aa,e=>Yf(e,t=>t.coordinate)),ob=R([_l,ab,eN,ib],LP),lb=R([ob,jl,wu,Eu],Q0),mW=(e,t,r)=>{if(t!=null){var n=_l(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},tN=R([_l,ab,eN,ib],qP),rf=R([Jn,Qn,be,vt,aa,ib,tN,ju],UP),pW=R([ob,rf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),rN=R([aa,lb],DP),gW=R([tN,lb,ta,wu,rN,ju,ab],HP),vW=R([ob,lb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),yW=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&dW(e,o)){var l=r8(e,t),s=QP(l,i,a,r,n),c=uW(t,a,s,e);return{activeIndex:String(s),activeCoordinate:c}}},bW=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=l6(e,r);if(l){var s=n8(l,t),c=QP(s,o,i,n,a),d=cW(t,i,c,l);return{activeIndex:String(c),activeCoordinate:d}}}},xW=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?yW(e,t,n,a,i,o,l):bW(e,t,r,n,a,i,o)},wW=R(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),_W=R(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Bt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:o7}});function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return(t=jW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=EW(e,"string");return typeof t=="symbol"?t:t+""}function EW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OW={},CW={zIndexMap:Object.values(Bt).reduce((e,t)=>rS(rS({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),OW)},AW=new Set(Object.values(Bt));function TW(e){return AW.has(e)}var nN=Zt({name:"zIndex",initialState:CW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!TW(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Be()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Be()}}}),{registerZIndexPortal:kW,unregisterZIndexPortal:PW,registerZIndexPortalElement:NW,unregisterZIndexPortalElement:RW}=nN.actions,MW=nN.reducer;function ia(e){var{zIndex:t,children:r}=e,n=N8(),a=n&&t!==void 0&&t!==0,i=Jt(),o=Ge();w.useLayoutEffect(()=>a?(o(kW({zIndex:t})),()=>{o(PW({zIndex:t}))}):uu,[o,t,a]);var l=Z(s=>wW(s,t,i));return a?l?_v.createPortal(r,l):null:r}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(null,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return(t=zW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IW(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function $W(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:s,tooltipEventType:c,chartName:d}=e,f=r,h=n,m=a;if(!s||!f||d!=="ScatterChart"&&c!=="axis")return null;var v,x,y;if(d==="ScatterChart")v=f,x=xU,y=Bt.cursorLine;else if(d==="BarChart")v=wU(l,f,i,o),x=B2,y=Bt.cursorRectangle;else if(l==="radial"&&aT(f)){var{cx:g,cy:p,radius:b,startAngle:_,endAngle:j}=I2(f);v={cx:g,cy:p,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},x=L2,y=Bt.cursorLine}else v={points:d6(l,f,i)},x=N2,y=Bt.cursorLine;var S=typeof s=="object"&&"className"in s?s.className:void 0,E=mc(mc(mc(mc({stroke:"#ccc",pointerEvents:"none"},i),v),Dy(s)),{},{payload:h,payloadIndex:m,className:De("recharts-tooltip-cursor",S)});return w.createElement(ia,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},w.createElement(IW,{cursor:s,cursorComp:x,cursorProps:E}))}function LW(e){var t=iW(),r=w2(),n=hu(),a=fW();return t==null||r==null||n==null||a==null?null:w.createElement($W,lv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var aN=w.createContext(null),UW=()=>w.useContext(aN),iN={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(s,c,d){this.fn=s,this.context=c,this.once=d||!1}function i(s,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||s,h),v=r?r+c:c;return s._events[v]?s._events[v].fn?s._events[v]=[s._events[v],m]:s._events[v].push(m):(s._events[v]=m,s._eventsCount++),s}function o(s,c){--s._eventsCount===0?s._events=new n:delete s._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,d,f,h,m,v){var x=r?r+c:c;if(!this._events[x])return!1;var y=this._events[x],g=arguments.length,p,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,v),!0}for(b=1,p=new Array(g-1);b<g;b++)p[b-1]=arguments[b];y.fn.apply(y.context,p)}else{var _=y.length,j;for(b=0;b<_;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!p)for(j=1,p=new Array(g-1);j<g;j++)p[j-1]=arguments[j];y[b].fn.apply(y[b].context,p)}}return!0},l.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},l.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},l.prototype.removeListener=function(c,d,f,h){var m=r?r+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var x=0,y=[],g=v.length;x<g;x++)(v[x].fn!==d||h&&!v[x].once||f&&v[x].context!==f)&&y.push(v[x]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(iN);var qW=iN.exports;const HW=Yn(qW);var Ws=new HW,sv="recharts.syncEvent.tooltip",aS="recharts.syncEvent.brush";function WW(e,t){if(t){var r=Number.parseInt(t,10);if(!Fr(r))return e==null?void 0:e[r]}}var VW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oN=Zt({name:"options",initialState:VW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),KW=oN.reducer,{createEventEmitter:GW}=oN.actions;function FW(e){return e.tooltip.syncInteraction}var YW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lN=Zt({name:"chartData",initialState:YW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:iS,setDataStartEndIndexes:XW,setComputedData:bZ}=lN.actions,ZW=lN.reducer,JW=["x","y"];function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){QW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QW(e,t,r){return(t=eV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=tV(e,"string");return typeof t=="symbol"?t:t+""}function tV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rV(e,t){if(e==null)return{};var r,n,a=nV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aV(){var e=Z(z0),t=Z(B0),r=Ge(),n=Z(Hk),a=Z(aa),i=hu(),o=uh(),l=Z(s=>s.rootProps.className);w.useEffect(()=>{if(e==null)return uu;var s=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:v,y:x}=m,y=rV(m,JW),{x:g,y:p,width:b,height:_}=d.payload.sourceViewBox,j=eo(eo({},y),{},{x:o.x+(b?(v-g)/b:0)*o.width,y:o.y+(_?(x-p)/_:0)*o.height});r(eo(eo({},d),{},{payload:eo(eo({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=n(a,E);S=a[O]}else n==="value"&&(S=a.find(C=>String(C.value)===d.payload.label));var{coordinate:A}=d.payload;if(S==null||d.payload.active===!1||A==null||o==null){r(iv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:B}=A,N=Math.min(k,o.x+o.width),K=Math.min(B,o.y+o.height),T={x:i==="horizontal"?S.coordinate:N,y:i==="horizontal"?K:S.coordinate},q=iv({active:d.payload.active,coordinate:T,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(q)}}};return Ws.on(sv,s),()=>{Ws.off(sv,s)}},[l,r,t,e,n,a,i,o])}function iV(){var e=Z(z0),t=Z(B0),r=Ge();w.useEffect(()=>{if(e==null)return uu;var n=(a,i,o)=>{t!==o&&e===a&&r(XW(i))};return Ws.on(aS,n),()=>{Ws.off(aS,n)}},[r,t,e])}function oV(){var e=Ge();w.useEffect(()=>{e(GW())},[e]),aV(),iV()}function lV(e,t,r,n,a,i){var o=Z(m=>mW(m,e,t)),l=Z(B0),s=Z(z0),c=Z(Hk),d=Z(FW),f=d==null?void 0:d.active,h=uh();w.useEffect(()=>{if(!f&&s!=null&&l!=null){var m=iv({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Ws.emit(sv,s,m,l)}},[f,r,o,a,n,l,s,c,i,h])}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){sV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sV(e,t,r){return(t=uV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uV(e){var t=cV(e,"string");return typeof t=="symbol"?t:t+""}function cV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dV(e){return e.dataKey}function fV(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(Q8,t)}var uS=[],hV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mV(e){var t,r,n=yr(e,hV),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:s,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:v,useTranslate3d:x,wrapperStyle:y,cursor:g,shared:p,trigger:b,defaultIndex:_,portal:j,axisId:S}=n,E=Ge(),O=typeof _=="number"?String(_):_;w.useEffect(()=>{E(cH({shared:p,trigger:b,axisId:S,active:a,defaultIndex:O}))},[E,p,b,S,a,O]);var A=uh(),k=P2(),B=aH(p),{activeIndex:N,isActive:K}=(t=Z(H=>vW(H,B,b,O)))!==null&&t!==void 0?t:{},T=Z(H=>gW(H,B,b,O)),q=Z(H=>rN(H,B,b,O)),C=Z(H=>pW(H,B,b,O)),P=T,D=UW(),U=(r=a??K)!==null&&r!==void 0?r:!1,[W,ce]=L$([P,U]),de=B==="axis"?q:void 0;lV(B,b,C,de,N,U);var oe=j??D;if(oe==null||A==null||B==null)return null;var fe=P??uS;U||(fe=uS),c&&fe.length&&(fe=a$(fe.filter(H=>H.value!=null&&(H.hide!==!0||n.includeHidden)),h,dV));var se=fe.length>0,z=w.createElement(oU,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:U,coordinate:C,hasPayload:se,offset:f,position:m,reverseDirection:v,useTranslate3d:x,viewBox:A,wrapperStyle:y,lastBoundingBox:W,innerRef:ce,hasPortalFromProps:!!j},fV(s,sS(sS({},n),{},{payload:fe,label:de,active:U,activeIndex:N,coordinate:C,accessibilityLayer:k})));return w.createElement(w.Fragment,null,_v.createPortal(z,oe),U&&w.createElement(LW,{cursor:g,tooltipEventType:B,coordinate:C,payload:fe,index:N}))}var sb=e=>null;sb.displayName="Cell";function pV(e,t,r){return(t=gV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yV{constructor(t){pV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){xV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xV(e,t,r){return(t=wV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=_V(e,"string");return typeof t=="symbol"?t:t+""}function _V(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SV={cacheSize:2e3,enableCache:!0},sN=bV({},SV),dS=new yV(sN.cacheSize),jV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fS="recharts_measurement_span";function EV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var hS=(e,t)=>{try{var r=document.getElementById(fS);r||(r=document.createElement("span"),r.setAttribute("id",fS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,jV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ds=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||mh.isSsr)return{width:0,height:0};if(!sN.enableCache)return hS(t,r);var n=EV(t,r),a=dS.get(n);if(a)return a;var i=hS(t,r);return dS.set(n,i),i},uN;function OV(e,t,r){return(t=CV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CV(e){var t=AV(e,"string");return typeof t=="symbol"?t:t+""}function AV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},NV=["cm","mm","pt","pc","in","Q","px"];function RV(e){return NV.includes(e)}var wo="NaN";function MV(e,t){return e*PV[t]}class wt{static parse(t){var r,[,n,a]=(r=kV.exec(t))!==null&&r!==void 0?r:[];return n==null?wt.NaN:new wt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Fr(t)&&(this.unit=""),r!==""&&!TV.test(r)&&(this.num=NaN,this.unit=""),RV(r)&&(this.num=MV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fr(this.num)}}uN=wt;OV(wt,"NaN",new uN(NaN,""));function cN(e){if(e==null||e.includes(wo))return wo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=mS.exec(t))!==null&&r!==void 0?r:[],o=wt.parse(n??""),l=wt.parse(i??""),s=a==="*"?o.multiply(l):o.divide(l);if(s.isNaN())return wo;t=t.replace(mS,s.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=pS.exec(t))!==null&&c!==void 0?c:[],m=wt.parse(d??""),v=wt.parse(h??""),x=f==="+"?m.add(v):m.subtract(v);if(x.isNaN())return wo;t=t.replace(pS,x.toString())}return t}var gS=/\(([^()]*)\)/;function DV(e){for(var t=e,r;(r=gS.exec(t))!=null;){var[,n]=r;t=t.replace(gS,cN(n))}return t}function zV(e){var t=e.replace(/\s+/g,"");return t=DV(t),t=cN(t),t}function BV(e){try{return zV(e)}catch{return wo}}function tp(e){var t=BV(e.slice(5,-1));return t===wo?"":t}var IV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$V=["dx","dy","angle","className","breakAll"];function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(null,arguments)}function vS(e,t){if(e==null)return{};var r,n,a=LV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dN=/[ \f\n\r\t\v\u2028\u2029]+/,fN=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gt(t)||(r?a=t.toString().split(""):a=t.toString().split(dN));var i=a.map(l=>({word:l,width:ds(l,n).width})),o=r?0:ds("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function UV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var hN=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,s=a[a.length-1];if(s&&l!=null&&(t==null||n||s.width+l+r<Number(t)))s.words.push(o),s.width+=l+r;else{var c={words:[o],width:l};a.push(c)}return a},[]),mN=e=>e.reduce((t,r)=>t.width>r.width?t:r),qV="",yS=(e,t,r,n,a,i,o,l)=>{var s=e.slice(0,t),c=fN({breakAll:r,style:n,children:s+qV});if(!c)return[!1,[]];var d=hN(c.wordsWithComputedWidth,i,o,l),f=d.length>a||mN(d).width>Number(i);return[f,d]},HV=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:s}=e,c=F(i),d=String(o),f=hN(t,n,r,a);if(!c||a)return f;var h=f.length>i||mN(f).width>Number(n);if(!h)return f;for(var m=0,v=d.length-1,x=0,y;m<=v&&x<=d.length-1;){var g=Math.floor((m+v)/2),p=g-1,[b,_]=yS(d,p,s,l,i,n,r,a),[j]=yS(d,g,s,l,i,n,r,a);if(!b&&!j&&(m=g+1),b&&j&&(v=g-1),!b&&j){y=_;break}x++}return y||f},bS=e=>{var t=gt(e)?[]:e.toString().split(dN);return[{words:t,width:void 0}]},WV=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!mh.isSsr){var l,s,c=fN({breakAll:i,children:n,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;l=d,s=f}else return bS(n);return HV({breakAll:i,children:n,maxLines:o,style:a},l,s,t,!!r)}return bS(n)},pN="#808080",VV={angle:0,breakAll:!1,capHeight:"0.71em",fill:pN,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ub=w.forwardRef((e,t)=>{var r=yr(e,VV),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:s,textAnchor:c,verticalAnchor:d}=r,f=vS(r,IV),h=w.useMemo(()=>WV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:m,dy:v,angle:x,className:y,breakAll:g}=f,p=vS(f,$V);if(!sn(n)||!sn(a)||h.length===0)return null;var b=Number(n)+(F(m)?m:0),_=Number(a)+(F(v)?v:0);if(!Le(b)||!Le(_))return null;var j;switch(d){case"start":j=tp("calc(".concat(o,")"));break;case"middle":j=tp("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=tp("calc(".concat(h.length-1," * -").concat(i,")"));break}var S=[];if(s){var E=h[0].width,{width:O}=f;S.push("scale(".concat(F(O)&&F(E)?O/E:1,")"))}return x&&S.push("rotate(".concat(x,", ").concat(b,", ").concat(_,")")),S.length&&(p.transform=S.join(" ")),w.createElement("text",uv({},Rr(p),{ref:t,x:b,y:_,className:De("recharts-text",y),textAnchor:c,fill:l.includes("url")?pN:l}),h.map((A,k)=>{var B=A.words.join(g?"":" ");return w.createElement("tspan",{x:b,dy:k===0?j:i,key:"".concat(B,"-").concat(k)},B)}))});ub.displayName="Text";var KV=["labelRef"],GV=["content"];function xS(e,t){if(e==null)return{};var r,n,a=FV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){YV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YV(e,t,r){return(t=XV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e){var t=ZV(e,"string");return typeof t=="symbol"?t:t+""}function ZV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jn.apply(null,arguments)}var gN=w.createContext(null),JV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,s=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return w.createElement(gN.Provider,{value:s},l)},vN=()=>{var e=w.useContext(gN),t=uh();return e||x2(t)},QV=w.createContext(null),eK=()=>{var e=w.useContext(QV),t=Z(Fk);return e||t},tK=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},cb=e=>e!=null&&typeof e=="function",rK=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},nK=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:s,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,v=(c+d)/2,x=rK(f,h),y=x>=0?1:-1,g,p;switch(t){case"insideStart":g=f+y*i,p=m;break;case"insideEnd":g=h-y*i,p=!m;break;case"end":g=h+y*i,p=m;break;default:throw new Error("Unsupported position ".concat(t))}p=x<=0?p:!p;var b=Ot(l,s,v,g),_=Ot(l,s,v,g+(p?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(p?0:1,`,
    `).concat(_.x,",").concat(_.y),S=gt(e.id)?Ps("recharts-radial-line-"):e.id;return w.createElement("text",jn({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:S,d:j})),w.createElement("textPath",{xlinkHref:"#".concat(S)},r))},aK=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:s}=e,c=(l+s)/2;if(r==="outside"){var{x:d,y:f}=Ot(n,a,o+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:v}=Ot(n,a,h,c);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},cv=e=>"cx"in e&&F(e.cx),iK=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!cv(r)&&(i=r);var{x:o,y:l,upperWidth:s,lowerWidth:c,height:d}=t,f=o,h=o+(s-c)/2,m=(f+h)/2,v=(s+c)/2,x=f+s/2,y=d>=0?1:-1,g=y*n,p=y>0?"end":"start",b=y>0?"start":"end",_=s>=0?1:-1,j=_*n,S=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var O={x:f+s/2,y:l-g,textAnchor:"middle",verticalAnchor:p};return We(We({},O),i?{height:Math.max(l-i.y,0),width:s}:{})}if(a==="bottom"){var A={x:h+c/2,y:l+d+g,textAnchor:"middle",verticalAnchor:b};return We(We({},A),i?{height:Math.max(i.y+i.height-(l+d),0),width:c}:{})}if(a==="left"){var k={x:m-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return We(We({},k),i?{width:Math.max(k.x-i.x,0),height:d}:{})}if(a==="right"){var B={x:m+v+j,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return We(We({},B),i?{width:Math.max(i.x+i.width-B.x,0),height:d}:{})}var N=i?{width:v,height:d}:{};return a==="insideLeft"?We({x:m+j,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},N):a==="insideRight"?We({x:m+v-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},N):a==="insideTop"?We({x:f+s/2,y:l+g,textAnchor:"middle",verticalAnchor:b},N):a==="insideBottom"?We({x:h+c/2,y:l+d-g,textAnchor:"middle",verticalAnchor:p},N):a==="insideTopLeft"?We({x:f+j,y:l+g,textAnchor:E,verticalAnchor:b},N):a==="insideTopRight"?We({x:f+s-j,y:l+g,textAnchor:S,verticalAnchor:b},N):a==="insideBottomLeft"?We({x:h+j,y:l+d-g,textAnchor:E,verticalAnchor:p},N):a==="insideBottomRight"?We({x:h+c-j,y:l+d-g,textAnchor:S,verticalAnchor:p},N):a&&typeof a=="object"&&(F(a.x)||qn(a.x))&&(F(a.y)||qn(a.y))?We({x:o+Yr(a.x,v),y:l+Yr(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):We({x,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},oK={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function da(e){var t=yr(e,oK),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:s,labelRef:c}=t,d=eK(),f=vN(),h=n==="center"?f:d??f,m,v,x;if(r==null?m=h:cv(r)?m=r:m=x2(r),!m||gt(a)&&gt(i)&&!w.isValidElement(o)&&typeof o!="function")return null;var y=We(We({},t),{},{viewBox:m});if(w.isValidElement(o)){var{labelRef:g}=y,p=xS(y,KV);return w.cloneElement(o,p)}if(typeof o=="function"){var{content:b}=y,_=xS(y,GV);if(v=w.createElement(o,_),w.isValidElement(v))return v}else v=tK(t);var j=Rr(t);if(cv(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return nK(t,n,v,j,m);x=aK(m,t.offset,t.position)}else x=iK(t,m);return w.createElement(ia,{zIndex:t.zIndex},w.createElement(ub,jn({ref:c,className:De("recharts-label",l)},j,x,{textAnchor:UV(j.textAnchor)?j.textAnchor:x.textAnchor,breakAll:s}),v))}da.displayName="Label";var lK=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(da,jn({key:"label-implicit"},n)):sn(e)?w.createElement(da,jn({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===da?w.cloneElement(e,We({key:"label-implicit"},n)):w.createElement(da,jn({key:"label-implicit",content:e},n)):cb(e)?w.createElement(da,jn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(da,jn({},e,{key:"label-implicit"},n)):null};function sK(e){var{label:t,labelRef:r}=e,n=vN();return lK(t,n,r)||null}var yN={},bN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(bN);var xN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(xN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN,r=xN,n=Kf;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(yN);var uK=yN.last;const cK=Yn(uK);var dK=["valueAccessor"],fK=["dataKey","clockWise","id","textBreakAll","zIndex"];function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function _S(e,t){if(e==null)return{};var r,n,a=hK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mK=e=>Array.isArray(e.value)?cK(e.value):e.value,wN=w.createContext(void 0),pK=wN.Provider,_N=w.createContext(void 0);_N.Provider;function gK(){return w.useContext(wN)}function vK(){return w.useContext(_N)}function zc(e){var{valueAccessor:t=mK}=e,r=_S(e,dK),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,s=_S(r,fK),c=gK(),d=vK(),f=c||d;return!f||!f.length?null:w.createElement(ia,{zIndex:l??Bt.label},w.createElement(Un,{className:"recharts-label-list"},f.map((h,m)=>{var v,x=gt(n)?t(h,m):At(h&&h.payload,n),y=gt(i)?{}:{id:"".concat(i,"-").concat(m)};return w.createElement(da,nf({key:"label-".concat(m)},Rr(h),s,y,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}zc.displayName="LabelList";function yK(e){var{label:t}=e;return t?t===!0?w.createElement(zc,{key:"labelList-implicit"}):w.isValidElement(t)||cb(t)?w.createElement(zc,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(zc,nf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var bK={radiusAxis:{},angleAxis:{}},SN=Zt({name:"polarAxis",initialState:bK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:xZ,removeRadiusAxis:wZ,addAngleAxis:_Z,removeAngleAxis:SZ}=SN.actions,xK=SN.reducer,jN={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db=Symbol.for("react.transitional.element"),fb=Symbol.for("react.portal"),Nh=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),Mh=Symbol.for("react.profiler"),Dh=Symbol.for("react.consumer"),zh=Symbol.for("react.context"),Bh=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),$h=Symbol.for("react.suspense_list"),Lh=Symbol.for("react.memo"),Uh=Symbol.for("react.lazy"),wK=Symbol.for("react.view_transition"),_K=Symbol.for("react.client.reference");function Br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case db:switch(e=e.type,e){case Nh:case Mh:case Rh:case Ih:case $h:case wK:return e;default:switch(e=e&&e.$$typeof,e){case zh:case Bh:case Uh:case Lh:return e;case Dh:return e;default:return t}}case fb:return t}}}Ee.ContextConsumer=Dh;Ee.ContextProvider=zh;Ee.Element=db;Ee.ForwardRef=Bh;Ee.Fragment=Nh;Ee.Lazy=Uh;Ee.Memo=Lh;Ee.Portal=fb;Ee.Profiler=Mh;Ee.StrictMode=Rh;Ee.Suspense=Ih;Ee.SuspenseList=$h;Ee.isContextConsumer=function(e){return Br(e)===Dh};Ee.isContextProvider=function(e){return Br(e)===zh};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===db};Ee.isForwardRef=function(e){return Br(e)===Bh};Ee.isFragment=function(e){return Br(e)===Nh};Ee.isLazy=function(e){return Br(e)===Uh};Ee.isMemo=function(e){return Br(e)===Lh};Ee.isPortal=function(e){return Br(e)===fb};Ee.isProfiler=function(e){return Br(e)===Mh};Ee.isStrictMode=function(e){return Br(e)===Rh};Ee.isSuspense=function(e){return Br(e)===Ih};Ee.isSuspenseList=function(e){return Br(e)===$h};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Nh||e===Mh||e===Rh||e===Ih||e===$h||typeof e=="object"&&e!==null&&(e.$$typeof===Uh||e.$$typeof===Lh||e.$$typeof===zh||e.$$typeof===Dh||e.$$typeof===Bh||e.$$typeof===_K||e.getModuleId!==void 0)};Ee.typeOf=Br;jN.exports=Ee;var SK=jN.exports,SS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",jS=null,rp=null,EN=e=>{if(e===jS&&Array.isArray(rp))return rp;var t=[];return w.Children.forEach(e,r=>{gt(r)||(SK.isFragment(r)?t=t.concat(EN(r.props.children)):t.push(r))}),rp=t,jS=e,t};function jK(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>SS(a)):n=[SS(t)],EN(e).forEach(a=>{var i=Ko(a,"type.displayName")||Ko(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var ON={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(ON);var EK=ON.isPlainObject;const OK=Yn(EK);var ES,OS,CS,AS,TS;function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){CK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CK(e,t,r){return(t=AK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(null,arguments)}function $l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var NS=(e,t,r,n,a)=>{var i=r-n,o;return o=qe(ES||(ES=$l(["M ",",",""])),e,t),o+=qe(OS||(OS=$l(["L ",",",""])),e+r,t),o+=qe(CS||(CS=$l(["L ",",",""])),e+r-i/2,t+a),o+=qe(AS||(AS=$l(["L ",",",""])),e+r-i/2-n,t+a),o+=qe(TS||(TS=$l(["L ",","," Z"])),e,t),o},kK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PK=e=>{var t=yr(e,kK),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:s,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=w.useRef(null),[m,v]=w.useState(-1),x=w.useRef(a),y=w.useRef(i),g=w.useRef(o),p=w.useRef(r),b=w.useRef(n),_=u0(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var T=h.current.getTotalLength();T&&v(T)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=De("recharts-trapezoid",l);if(!f)return w.createElement("g",null,w.createElement("path",af({},Rr(t),{className:j,d:NS(r,n,a,i,o)})));var S=x.current,E=y.current,O=g.current,A=p.current,k=b.current,B="0px ".concat(m===-1?1:m,"px"),N="".concat(m,"px 0px"),K=R2(["strokeDasharray"],c,s);return w.createElement(s0,{animationId:_,key:_,canBegin:m>0,duration:c,easing:s,isActive:f,begin:d},T=>{var q=_t(S,a,T),C=_t(E,i,T),P=_t(O,o,T),D=_t(A,r,T),U=_t(k,n,T);h.current&&(x.current=q,y.current=C,g.current=P,p.current=D,b.current=U);var W=T>0?{transition:K,strokeDasharray:N}:{strokeDasharray:B};return w.createElement("path",af({},Rr(t),{className:j,d:NS(D,U,q,C,P),ref:h,style:PS(PS({},W),t.style)}))})},NK=["option","shapeType","activeClassName"];function RK(e,t){if(e==null)return{};var r,n,a=MK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return(t=zK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IK(e,t){return of(of({},t),e)}function $K(e,t){return e==="symbols"}function MS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(B2,r);case"trapezoid":return w.createElement(PK,r);case"sector":return w.createElement(L2,r);case"symbols":if($K(t))return w.createElement(nT,r);break;case"curve":return w.createElement(N2,r);default:return null}}function LK(e){return w.isValidElement(e)?e.props:e}function UK(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=RK(e,NK),i;if(w.isValidElement(t))i=w.cloneElement(t,of(of({},a),LK(t)));else if(typeof t=="function")i=t(a,a.index);else if(OK(t)&&typeof t!="boolean"){var o=IK(t,a);i=w.createElement(MS,{shapeType:r,elementProps:o})}else{var l=a;i=w.createElement(MS,{shapeType:r,elementProps:l})}return a.isActive?w.createElement(Un,{className:n},i):i}var CN=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(BP({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},AN=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(dH())}},TN=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(fH({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function qK(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=Jt(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(lH(t)):a.current!==t&&r(sH({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(uH(a.current)),a.current=null)},[r]),null}function HK(e){var{legendPayload:t}=e,r=Ge(),n=Jt(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(V8(t)):a.current!==t&&r(K8({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(G8(a.current)),a.current=null)},[r]),null}var np,WK=()=>{var[e]=w.useState(()=>Ps("uid-"));return e},VK=(np=fj.useId)!==null&&np!==void 0?np:WK;function KK(e,t){var r=VK();return t||(e?"".concat(e,"-").concat(r):r)}var GK=w.createContext(void 0),FK=e=>{var{id:t,type:r,children:n}=e,a=KK("recharts-".concat(r),t);return w.createElement(GK.Provider,{value:a},n(a))},YK={cartesianItems:[],polarItems:[]},kN=Zt({name:"graphicalItems",initialState:YK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=Gr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=Gr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:XK,replaceCartesianGraphicalItem:ZK,removeCartesianGraphicalItem:JK,addPolarGraphicalItem:jZ,removePolarGraphicalItem:EZ}=kN.actions,QK=kN.reducer,eG=e=>{var t=Ge(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(XK(e)):r.current!==e&&t(ZK({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(JK(r.current)),r.current=null)},[t]),null},tG=w.memo(eG);function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return(t=nG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PN=0,iG={xAxis:{},yAxis:{},zAxis:{}},NN=Zt({name:"cartesianAxis",initialState:iG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=zS(zS({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:oG,replaceXAxis:lG,removeXAxis:sG,addYAxis:uG,replaceYAxis:cG,removeYAxis:dG,addZAxis:OZ,replaceZAxis:CZ,removeZAxis:AZ,updateYAxisWidth:fG}=NN.actions,hG=NN.reducer,mG=R([vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),pG=R([mG,Jn,Qn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),RN=()=>Z(pG),BS=(e,t,r)=>{var n=r??e;if(!gt(n))return Yr(n,t,0)},gG=(e,t,r)=>{var n={},a=e.filter(Eh),i=e.filter(c=>c.stackId==null),o=a.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),n),l=Object.entries(o).map(c=>{var[d,f]=c,h=f.map(v=>v.dataKey),m=BS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),s=i.map(c=>{var d=[c.dataKey].filter(h=>h!=null),f=BS(t,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...s]};function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){vG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vG(e,t,r){return(t=yG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=bG(e,"string");return typeof t=="symbol"?t:t+""}function bG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xG(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Yr(e,r,0,!0),l,s=[];if(Le(n[0].barSize)){var c=!1,d=r/i,f=n.reduce((g,p)=>g+(p.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(c=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};l=n.reduce((g,p)=>{var b,_={stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:m.offset+m.size+o,size:c?d:(b=p.barSize)!==null&&b!==void 0?b:0}},j=[...g,_];return m=j[j.length-1].position,j},s)}else{var v=Yr(t,r,0,!0);r-2*v-(i-1)*o<=0&&(o=0);var x=(r-2*v-(i-1)*o)/i;x>1&&(x>>=0);var y=Le(a)?Math.min(x,a):x;l=n.reduce((g,p,b)=>[...g,{stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:v+(x+o)*b+(x-y)/2,size:y}}],s)}return l}}var wG=(e,t,r,n,a,i,o)=>{var l=gt(o)?t:o,s=xG(r,n,a!==i?a:i,e,l);return a!==i&&s!=null&&(s=s.map(c=>pc(pc({},c),{},{position:pc(pc({},c.position),{},{offset:c.position.offset-a/2})}))),s},_G=(e,t)=>{var r=U0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function SG(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Le(e.zIndex)?e.zIndex:t}var jG=e=>{var{chartData:t}=e,r=Ge(),n=Jt();return w.useEffect(()=>n?()=>{}:(r(iS(t)),()=>{r(iS(void 0))}),[t,r,n]),null},$S={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MN=Zt({name:"brush",initialState:$S,reducers:{setBrushSettings(e,t){return t.payload==null?$S:t.payload}}}),{setBrushSettings:TZ}=MN.actions,EG=MN.reducer;function OG(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hb{static create(t){return new hb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}OG(hb,"EPS",1e-4);function TG(e){return(e%180+180)%180}var kG=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=TG(a),o=i*Math.PI/180,l=Math.atan(n/r),s=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(s)},PG={dots:[],areas:[],lines:[]},DN=Zt({name:"referenceElements",initialState:PG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Gr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Gr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Gr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:kZ,removeDot:PZ,addArea:NZ,removeArea:RZ,addLine:MZ,removeLine:DZ}=DN.actions,NG=DN.reducer,RG=w.createContext(void 0),MG=e=>{var{children:t}=e,[r]=w.useState("".concat(Ps("recharts"),"-clip")),n=RN();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return w.createElement(RG.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function zN(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function DG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return kG(n,r)}function zG(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Vs(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function BG(e,t){return zN(e,t+1)}function IG(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,s=0,c=1,d=o,f=function(){var v=n==null?void 0:n[s];if(v===void 0)return{v:zN(n,c)};var x=s,y,g=()=>(y===void 0&&(y=r(v,x)),y),p=v.coordinate,b=s===0||Vs(e,p,g,d,l);b||(s=0,d=o,c+=1),b&&(d=p+e*(g()/2+a),s+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function $G(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:l,end:s}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=l,h=!0,m=function(){var p=n[v],b=v,_,j=()=>(_===void 0&&(_=r(p,b)),_),S=p.coordinate,E=v===d||Vs(e,S,j,f,s);if(!E)return h=!1,1;E&&(f=S+e*(j()/2+a))},v=d;v<o&&!m();v+=c);if(h){for(var x=[],y=d;y<o;y+=c)x.push(n[y]);return x}}return[]}function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){LG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LG(e,t,r){return(t=UG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=qG(e,"string");return typeof t=="symbol"?t:t+""}function qG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HG(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:s}=t,c=function(h){var m=i[h],v,x=()=>(v===void 0&&(v=r(m,h)),v);if(h===o-1){var y=e*(m.coordinate+e*x()/2-s);i[h]=m=Tt(Tt({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Tt(Tt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=Vs(e,m.tickCoord,x,l,s);g&&(s=m.tickCoord-e*(x()/2+a),i[h]=Tt(Tt({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function WG(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:s,end:c}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-c);if(o[l-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Vs(e,d.tickCoord,()=>f,s,c);m&&(c=d.tickCoord-e*(f/2+a),o[l-1]=Tt(Tt({},d),{},{isShow:!0}))}}for(var v=i?l-1:l,x=function(p){var b=o[p],_,j=()=>(_===void 0&&(_=r(b,p)),_);if(p===0){var S=e*(b.coordinate-e*j()/2-s);o[p]=b=Tt(Tt({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[p]=b=Tt(Tt({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var E=Vs(e,b.tickCoord,j,s,c);E&&(s=b.tickCoord+e*(j()/2+a),o[p]=Tt(Tt({},b),{},{isShow:!0}))}},y=0;y<v;y++)x(y);return o}function mb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:s,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(F(s)||mh.isSsr){var h;return(h=BG(a,F(s)?s:0))!==null&&h!==void 0?h:[]}var m=[],v=l==="top"||l==="bottom"?"width":"height",x=d&&v==="width"?ds(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(b,_)=>{var j=typeof c=="function"?c(b.value,_):b.value;return v==="width"?DG(ds(j,{fontSize:t,letterSpacing:r}),x,f):ds(j,{fontSize:t,letterSpacing:r})[v]},g=a.length>=2?Kt(a[1].coordinate-a[0].coordinate):1,p=zG(i,g,v);return s==="equidistantPreserveStart"?IG(g,p,y,a,o):s==="equidistantPreserveEnd"?$G(g,p,y,a,o):(s==="preserveStart"||s==="preserveStartEnd"?m=WG(g,p,y,a,o,s==="preserveStartEnd"):m=HG(g,p,y,a,o),m.filter(b=>b.isShow))}var VG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,s=a+i,c=o+s+l+(r?n:0);return Math.round(c)}return 0},KG=["axisLine","width","height","className","hide","ticks","axisType"];function GG(e,t){if(e==null)return{};var r,n,a=FG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(null,arguments)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){YG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YG(e,t,r){return(t=XG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=ZG(e,"string");return typeof t=="symbol"?t:t+""}function ZG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function JG(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:s}=e;if(!l)return null;var c=Ye(Ye(Ye({},s),Ln(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Ye(Ye({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=Ye(Ye({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",Pi({},c,{className:De("recharts-cartesian-axis-line",Ko(l,"className"))}))}function QG(e,t,r,n,a,i,o,l,s){var c,d,f,h,m,v,x=l?-1:1,y=e.tickSize||o,g=F(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,h=r+ +!l*a,f=h-x*y,v=f-x*s,m=g;break;case"left":f=h=e.coordinate,d=t+ +!l*n,c=d-x*y,m=c-x*s,v=g;break;case"right":f=h=e.coordinate,d=t+ +l*n,c=d+x*y,m=c+x*s,v=g;break;default:c=d=e.coordinate,h=r+ +l*a,f=h+x*y,v=f+x*s,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:v}}}function eF(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function tF(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function rF(e){var{option:t,tickProps:r,value:n}=e,a,i=De(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,Ye(Ye({},r),{},{className:i}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t==null?void 0:t.className)),a=w.createElement(ub,Pi({},r,{className:o}),n)}return a}var nF=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:s,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:v,height:x,tickSize:y,tickMargin:g,fontSize:p,letterSpacing:b,getTicksConfig:_,events:j,axisType:S}=e,E=mb(Ye(Ye({},_),{},{ticks:r}),p,b),O=eF(d,f),A=tF(d,f),k=Ln(_),B=Dy(n),N={};typeof a=="object"&&(N=a);var K=Ye(Ye({},k),{},{fill:"none"},N),T=E.map(P=>Ye({entry:P},QG(P,h,m,v,x,d,y,f,g))),q=T.map(P=>{var{entry:D,line:U}=P;return w.createElement(Un,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},a&&w.createElement("line",Pi({},K,U,{className:De("recharts-cartesian-axis-tick-line",Ko(a,"className"))})))}),C=T.map((P,D)=>{var{entry:U,tick:W}=P,ce=Ye(Ye(Ye(Ye({textAnchor:O,verticalAnchor:A},k),{},{stroke:"none",fill:i},B),W),{},{index:D,payload:U,visibleTicksCount:E.length,tickFormatter:o,padding:s},c);return w.createElement(Un,Pi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},Ly(j,U,D)),n&&w.createElement(rF,{option:n,tickProps:ce,value:"".concat(typeof o=="function"?o(U.value,D):U.value).concat(l||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},C.length>0&&w.createElement(ia,{zIndex:Bt.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},C)),q.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},q))}),aF=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:s}=e,c=GG(e,KG),[d,f]=w.useState(""),[h,m]=w.useState(""),v=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return VG({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=w.useCallback(y=>{if(y){var g=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=g;var p=g[0];if(p){var b=window.getComputedStyle(p),_=b.fontSize,j=b.letterSpacing;(_!==d||j!==h)&&(f(_),m(j))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(ia,{zIndex:e.zIndex},w.createElement(Un,{className:De("recharts-cartesian-axis",i)},w.createElement(JG,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ln(e)}),w.createElement(nF,{ref:x,axisType:s,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(JV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(sK,{label:e.label,labelRef:e.labelRef}),e.children)))}),pb=w.forwardRef((e,t)=>{var r=yr(e,Mn);return w.createElement(aF,Pi({},r,{ref:t}))});pb.displayName="CartesianAxis";var iF=["x1","y1","x2","y2","key"],oF=["offset"],lF=["xAxisId","yAxisId"],sF=["xAxisId","yAxisId"];function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){uF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uF(e,t,r){return(t=cF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(null,arguments)}function lf(e,t){if(e==null)return{};var r,n,a=fF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hF=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return w.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function BN(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:s,key:c}=r,d=lf(r,iF),f=(a=Ln(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=lf(f,oF);n=w.createElement("line",ci({},m,{x1:i,y1:o,x2:l,y2:s,fill:"none",key:c}))}return n}function mF(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=lf(e,lF),s=a.map((c,d)=>{var f=kt(kt({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return w.createElement(BN,{key:"line-".concat(d),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function pF(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=lf(e,sF),s=a.map((c,d)=>{var f=kt(kt({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return w.createElement(BN,{option:n,lineItemProps:f,key:"line-".concat(d)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function gF(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:s=!0}=e;if(!s||!t||!t.length||l==null)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],v=m?a+o-f:c[h+1]-f;if(v<=0)return null;var x=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:v,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function vF(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:s}=e;if(!t||!r||!r.length)return null;var c=s.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],v=m?a+o-f:c[h+1]-f;if(v<=0)return null;var x=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:v,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var yF=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return c2(mb(kt(kt(kt({},Mn),r),{},{ticks:d2(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},bF=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return c2(mb(kt(kt(kt({},Mn),r),{},{ticks:d2(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},xF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function IN(e){var t=_2(),r=S2(),n=w2(),a=kt(kt({},yr(e,xF)),{},{x:F(e.x)?e.x:n.left,y:F(e.y)?e.y:n.top,width:F(e.width)?e.width:n.width,height:F(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:s,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,v=Jt(),x=Z(A=>F_(A,"xAxis",i,v)),y=Z(A=>F_(A,"yAxis",o,v));if(!un(c)||!un(d)||!F(l)||!F(s))return null;var g=a.verticalCoordinatesGenerator||yF,p=a.horizontalCoordinatesGenerator||bF,{horizontalPoints:b,verticalPoints:_}=a;if((!b||!b.length)&&typeof p=="function"){var j=h&&h.length,S=p({yAxis:y?kt(kt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t??c,height:r??d,offset:n},j?!0:f);Md(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!_||!_.length)&&typeof g=="function"){var E=m&&m.length,O=g({xAxis:x?kt(kt({},x),{},{ticks:E?m:x.ticks}):void 0,width:t??c,height:r??d,offset:n},E?!0:f);Md(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(_=O)}return w.createElement(ia,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(hF,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(gF,ci({},a,{horizontalPoints:b})),w.createElement(vF,ci({},a,{verticalPoints:_})),w.createElement(mF,ci({},a,{offset:n,horizontalPoints:b,xAxis:x,yAxis:y})),w.createElement(pF,ci({},a,{offset:n,verticalPoints:_,xAxis:x,yAxis:y}))))}IN.displayName="CartesianGrid";var wF={},$N=Zt({name:"errorBars",initialState:wF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:zZ,replaceErrorBar:BZ,removeErrorBar:IZ}=$N.actions,_F=$N.reducer,SF=["children"];function jF(e,t){if(e==null)return{};var r,n,a=EF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},CF=w.createContext(OF);function AF(e){var{children:t}=e,r=jF(e,SF);return w.createElement(CF.Provider,{value:r},t)}function LN(e,t){var r,n,a=Z(c=>ra(c,e)),i=Z(c=>na(c,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ct.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:dt.allowDataOverflow,s=o||l;return{needClip:s,needClipX:o,needClipY:l}}function TF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=RN(),{needClipX:i,needClipY:o,needClip:l}=LN(t,r);if(!l||!a)return null;var{x:s,y:c,width:d,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:i?s:s-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var kF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=w;function PF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NF=typeof Object.is=="function"?Object.is:PF,RF=Cu.useSyncExternalStore,MF=Cu.useRef,DF=Cu.useEffect,zF=Cu.useMemo,BF=Cu.useDebugValue;kF.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=MF(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=zF(function(){function s(m){if(!c){if(c=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var v=o.value;if(a(v,m))return f=v}return f=m}if(v=f,NF(d,m))return v;var x=n(m);return a!==void 0&&a(v,x)?(d=m,v):(d=m,f=x)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=RF(e,i[0],i[1]);return DF(function(){o.hasValue=!0,o.value=l},[l]),BF(l),l};function IF(e){e()}function $F(){let e=null,t=null;return{clear(){e=null,t=null},notify(){IF(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var HS={notify(){},get:()=>[]};function LF(e,t){let r,n=HS,a=0,i=!1;function o(x){d();const y=n.subscribe(x);let g=!1;return()=>{g||(g=!0,y(),f())}}function l(){n.notify()}function s(){v.onStateChange&&v.onStateChange()}function c(){return i}function d(){a++,r||(r=e.subscribe(s),n=$F())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=HS)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:s,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}var UF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qF=UF(),HF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WF=HF(),VF=()=>qF||WF?w.useLayoutEffect:w.useEffect,KF=VF();function WS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function GF(e,t){if(WS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!WS(e[r[a]],t[r[a]]))return!1;return!0}var ap=Symbol.for("react-redux-context"),ip=typeof globalThis<"u"?globalThis:{};function FF(){if(!w.createContext)return{};const e=ip[ap]??(ip[ap]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var YF=FF();function XF(e){const{children:t,context:r,serverState:n,store:a}=e,i=w.useMemo(()=>{const s=LF(a);return{store:a,subscription:s,getServerState:n?()=>n:void 0}},[a,n]),o=w.useMemo(()=>a.getState(),[a]);KF(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==a.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]);const l=r||YF;return w.createElement(l.Provider,{value:i},t)}var ZF=XF,JF=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function QF(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function gb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(JF.has(n)){if(e[n]==null&&t[n]==null)continue;if(!GF(e[n],t[n]))return!1}else if(!QF(e[n],t[n]))return!1;return!0}function Hi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:PN}function Wi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:PN}var eY="Invariant failed";function tY(e,t){throw new Error(eY)}function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function sf(e){return w.createElement(UK,dv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var rY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(F(t))return t;var i=F(n)||gt(n);return i?t(n,a):(i||tY(),r)}},nY=(e,t,r)=>r,aY=(e,t)=>t,Au=R([H0,aY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),iY=R([Au],e=>e==null?void 0:e.maxBarSize),oY=(e,t,r,n)=>n,lY=R([be,H0,Hi,Wi,nY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),sY=(e,t,r)=>{var n=be(e),a=Hi(e,t),i=Wi(e,t);if(!(a==null||i==null))return n==="horizontal"?av(e,"yAxis",i,r):av(e,"xAxis",a,r)},uY=(e,t)=>{var r=be(e),n=Hi(e,t),a=Wi(e,t);if(!(n==null||a==null))return r==="horizontal"?G_(e,"xAxis",n):G_(e,"yAxis",a)},cY=R([lY,e7,uY],gG),dY=(e,t,r)=>{var n,a,i=Au(e,t);if(i!=null){var o=Hi(e,t),l=Wi(e,t);if(!(o==null||l==null)){var s=be(e),c=Lk(e),{maxBarSize:d}=i,f=gt(d)?c:d,h,m;return s==="horizontal"?(h=el(e,"xAxis",o,r),m=Qo(e,"xAxis",o,r)):(h=el(e,"yAxis",l,r),m=Qo(e,"yAxis",l,r)),(n=(a=Rd(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},UN=(e,t,r)=>{var n=be(e),a=Hi(e,t),i=Wi(e,t);if(!(a==null||i==null)){var o,l;return n==="horizontal"?(o=el(e,"xAxis",a,r),l=Qo(e,"xAxis",a,r)):(o=el(e,"yAxis",i,r),l=Qo(e,"yAxis",i,r)),Rd(o,l)}},fY=R([cY,Lk,Qq,Uk,dY,UN,iY],wG),hY=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return el(e,"xAxis",n,r)},mY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return el(e,"yAxis",n,r)},pY=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return Qo(e,"xAxis",n,r)},gY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return Qo(e,"yAxis",n,r)},vY=R([fY,Au],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),yY=R([sY,Au],_G),bY=R([vt,a0,hY,mY,pY,gY,vY,be,Uq,UN,yY,Au,oY],(e,t,r,n,a,i,o,l,s,c,d,f,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:x}=s;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||c==null)){var{data:y}=f,g;if(y!=null&&y.length>0?g=y:g=m==null?void 0:m.slice(v,x+1),g!=null)return FY({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:v})}}),xY=["index"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function wY(e,t){if(e==null)return{};var r,n,a=_Y(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qN=w.createContext(void 0),SY=e=>{var t=w.useContext(qN);if(t!=null)return t.stackId;if(e!=null)return ZL(e)},jY=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),EY=e=>{var t=w.useContext(qN);if(t!=null){var{stackId:r}=t;return"url(#".concat(jY(r,e),")")}},OY=e=>{var{index:t}=e,r=wY(e,xY),n=EY(t);return w.createElement(Un,fv({className:"recharts-bar-stack-layer",clipPath:n},r))},CY=["onMouseEnter","onMouseLeave","onClick"],AY=["value","background","tooltipPosition"],TY=["id"],kY=["onMouseEnter","onClick","onMouseLeave"];function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(null,arguments)}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return(t=NY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uf(e,t){if(e==null)return{};var r,n,a=MY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DY=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:f2(r,t),payload:e}]},zY=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:s,id:c}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:f2(i,t),hide:o,type:s,color:a,unit:l,graphicalItemId:c}};return w.createElement(qK,{tooltipEntrySettings:d})});function BY(e){var t=Z(tl),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:s}=i,c=uf(i,CY),d=CN(o,n,i.id),f=AN(l),h=TN(s,n,i.id);if(!a||r==null)return null;var m=Dy(a);return w.createElement(ia,{zIndex:SG(a,Bt.barBackground)},r.map((v,x)=>{var{value:y,background:g,tooltipPosition:p}=v,b=uf(v,AY);if(!g)return null;var _=d(v,x),j=f(v,x),S=h(v,x),E=Mt(Mt(Mt(Mt(Mt({option:a,isActive:String(x)===t},b),{},{fill:"#eee"},g),m),Ly(c,v,x)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return w.createElement(sf,Fn({key:"background-bar-".concat(x)},E))}))}function IY(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mt(Mt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return w.createElement(pK,{value:t?a:void 0},r)}function $Y(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=Z(tl),s=Z(ZP),c=r&&String(i)===l&&(s==null||o===s),d=c?r:t;return c?w.createElement(ia,{zIndex:Bt.activeBar},w.createElement(sf,Fn({},n,{name:String(n.name)},a,{isActive:c,option:d,index:i,dataKey:o}))):w.createElement(sf,Fn({},n,{name:String(n.name)},a,{isActive:c,option:d,index:i,dataKey:o}))}function LY(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return w.createElement(sf,Fn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function UY(e){var t,{data:r,props:n}=e,a=(t=Ln(n))!==null&&t!==void 0?t:{},{id:i}=a,o=uf(a,TY),{shape:l,dataKey:s,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=uf(n,kY),v=CN(d,s,i),x=AN(h),y=TN(f,s,i);return r?w.createElement(w.Fragment,null,r.map((g,p)=>w.createElement(OY,Fn({index:p,key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(p),className:"recharts-bar-rectangle"},Ly(m,g,p),{onMouseEnter:v(g,p),onMouseLeave:x(g,p),onClick:y(g,p)}),c?w.createElement($Y,{shape:l,activeBar:c,baseProps:o,entry:g,index:p,dataKey:s}):w.createElement(LY,{shape:l,baseProps:o,entry:g,index:p,dataKey:s})))):null}function qY(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:s,onAnimationEnd:c,onAnimationStart:d}=t,f=r.current,h=u0(t,"recharts-bar-"),[m,v]=w.useState(!1),x=!m,y=w.useCallback(()=>{typeof c=="function"&&c(),v(!1)},[c]),g=w.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return w.createElement(IY,{showLabels:x,rects:n},w.createElement(s0,{animationId:h,begin:o,duration:l,isActive:i,easing:s,onAnimationEnd:y,onAnimationStart:g,key:h},p=>{var b=p===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Mt(Mt({},_),{},{x:_t(S.x,_.x,p),y:_t(S.y,_.y,p),width:_t(S.width,_.width,p),height:_t(S.height,_.height,p)});if(a==="horizontal"){var E=_t(0,_.height,p),O=_t(_.stackedBarStart,_.y,p);return Mt(Mt({},_),{},{y:O,height:E})}var A=_t(0,_.width,p),k=_t(_.stackedBarStart,_.x,p);return Mt(Mt({},_),{},{width:A,x:k})});return p>0&&(r.current=b??null),b==null?null:w.createElement(Un,null,w.createElement(UY,{props:t,data:b}))}),w.createElement(yK,{label:t.label}),t.children)}function HY(e){var t=w.useRef(null);return w.createElement(qY,{previousRectanglesRef:t,props:e})}var HN=0,WY=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:At(e,t)}};class VY extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:s,id:c}=this.props;if(t||r==null)return null;var d=De("recharts-bar",a),f=c;return w.createElement(Un,{className:d,id:c},l&&w.createElement("defs",null,w.createElement(TF,{clipPathId:f,xAxisId:i,yAxisId:o})),w.createElement(Un,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},w.createElement(BY,{data:r,dataKey:n,background:s,allOtherBarProps:this.props}),w.createElement(HY,this.props)))}}var KY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:HN,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function GY(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=LN(t,r),h=hu(),m=Jt(),v=jK(e.children,sb),x=Z(p=>bY(p,e.id,m,v));if(h!=="vertical"&&h!=="horizontal")return null;var y,g=x==null?void 0:x[0];return g==null||g.height==null||g.width==null?y=0:y=h==="vertical"?g.height/2:g.width/2,w.createElement(AF,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:WY,errorBarOffset:y},w.createElement(VY,Fn({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:c,isAnimationActive:d})))}function FY(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:s,yAxisTicks:c,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:v,dataStartIndex:x}=e,y=t==="horizontal"?l:o,g=d?y.scale.domain():null,p=JL({numericAxis:y}),b=y.scale(p);return f.map((_,j)=>{var S,E,O,A,k,B;if(d){var N=d[j+x];if(N==null)return null;S=KL(N,g)}else S=At(_,r),Array.isArray(S)||(S=[p,S]);var K=rY(n,HN)(S[1],j);if(t==="horizontal"){var T,[q,C]=[l.scale(S[0]),l.scale(S[1])];E=lw({axis:o,ticks:s,bandSize:i,offset:a.offset,entry:_,index:j}),O=(T=C??q)!==null&&T!==void 0?T:void 0,A=a.size;var P=q-C;if(k=Fr(P)?0:P,B={x:E,y:h.top,width:A,height:h.height},Math.abs(K)>0&&Math.abs(k)<Math.abs(K)){var D=Kt(k||K)*(Math.abs(K)-Math.abs(k));O-=D,k+=D}}else{var[U,W]=[o.scale(S[0]),o.scale(S[1])];if(E=U,O=lw({axis:l,ticks:c,bandSize:i,offset:a.offset,entry:_,index:j}),A=W-U,k=a.size,B={x:h.left,y:O,width:h.width,height:k},Math.abs(K)>0&&Math.abs(A)<Math.abs(K)){var ce=Kt(A||K)*(Math.abs(K)-Math.abs(A));A+=ce}}if(E==null||O==null||A==null||k==null)return null;var de=Mt(Mt({},_),{},{stackedBarStart:b,x:E,y:O,width:A,height:k,value:d?S:S[1],payload:_,background:B,tooltipPosition:{x:E+A/2,y:O+k/2},parentViewBox:v},m&&m[j]&&m[j].props);return de}).filter(Boolean)}function YY(e){var t=yr(e,KY),r=SY(t.stackId),n=Jt();return w.createElement(FK,{id:t.id,type:"bar"},a=>w.createElement(w.Fragment,null,w.createElement(HK,{legendPayload:DY(t)}),w.createElement(zY,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),w.createElement(tG,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),w.createElement(ia,{zIndex:t.zIndex},w.createElement(GY,Fn({},t,{id:a})))))}var WN=w.memo(YY,gb);WN.displayName="Bar";var XY=["domain","range"],ZY=["domain","range"];function KS(e,t){if(e==null)return{};var r,n,a=JY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function VN(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=KS(e,XY),{domain:i,range:o}=t,l=KS(t,ZY);return!GS(r,i)||!GS(n,o)?!1:gb(a,l)}var QY=["dangerouslySetInnerHTML","ticks","scale"],eX=["id","scale"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function FS(e,t){if(e==null)return{};var r,n,a=tX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rX(e){var t=Ge(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(oG(e)):r.current!==e&&t(lG({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(sG(r.current)),r.current=null)},[t]),null}var nX=e=>{var{xAxisId:t,className:r}=e,n=Z(a0),a=Jt(),i="xAxis",o=Z(g=>PP(g,i,t,a)),l=Z(g=>CP(g,t)),s=Z(g=>Z7(g,t)),c=Z(g=>Xk(g,t));if(l==null||s==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=FS(e,QY),{id:v,scale:x}=c,y=FS(c,eX);return w.createElement(pb,hv({},m,y,{x:s.x,y:s.y,width:l.width,height:l.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},aX={allowDataOverflow:ct.allowDataOverflow,allowDecimals:ct.allowDecimals,allowDuplicatedCategory:ct.allowDuplicatedCategory,angle:ct.angle,axisLine:Mn.axisLine,height:ct.height,hide:!1,includeHidden:ct.includeHidden,interval:ct.interval,minTickGap:ct.minTickGap,mirror:ct.mirror,orientation:ct.orientation,padding:ct.padding,reversed:ct.reversed,scale:ct.scale,tick:ct.tick,tickCount:ct.tickCount,tickLine:Mn.tickLine,tickSize:Mn.tickSize,type:ct.type,xAxisId:0},iX=e=>{var t=yr(e,aX);return w.createElement(w.Fragment,null,w.createElement(rX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(nX,t))},KN=w.memo(iX,VN);KN.displayName="XAxis";var oX=["dangerouslySetInnerHTML","ticks","scale"],lX=["id","scale"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(null,arguments)}function YS(e,t){if(e==null)return{};var r,n,a=sX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uX(e){var t=Ge(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(uG(e)):r.current!==e&&t(cG({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(dG(r.current)),r.current=null)},[t]),null}var cX=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=w.useRef(null),o=w.useRef(null),l=Z(a0),s=Jt(),c=Ge(),d="yAxis",f=Z(S=>AP(S,t)),h=Z(S=>Q7(S,t)),m=Z(S=>PP(S,d,t,s)),v=Z(S=>Zk(S,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!f||cb(a)||w.isValidElement(a)||v==null)){var S=i.current;if(S){var E=S.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&c(fG({id:t,width:E}))}}},[m,f,c,a,t,n,v]),f==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:y,scale:g}=e,p=YS(e,oX),{id:b,scale:_}=v,j=YS(v,lX);return w.createElement(pb,mv({},p,j,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:De("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))},dX={allowDataOverflow:dt.allowDataOverflow,allowDecimals:dt.allowDecimals,allowDuplicatedCategory:dt.allowDuplicatedCategory,angle:dt.angle,axisLine:Mn.axisLine,hide:!1,includeHidden:dt.includeHidden,interval:dt.interval,minTickGap:dt.minTickGap,mirror:dt.mirror,orientation:dt.orientation,padding:dt.padding,reversed:dt.reversed,scale:dt.scale,tick:dt.tick,tickCount:dt.tickCount,tickLine:Mn.tickLine,tickSize:Mn.tickSize,type:dt.type,width:dt.width,yAxisId:0},fX=e=>{var t=yr(e,dX);return w.createElement(w.Fragment,null,w.createElement(uX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(cX,t))},GN=w.memo(fX,VN);GN.displayName="YAxis";var hX=(e,t)=>t,vb=R([hX,be,Fk,st,GP,aa,hW,vt],xW),yb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},FN=Mr("mouseClick"),YN=du();YN.startListening({actionCreator:FN,effect:(e,t)=>{var r=e.payload,n=vb(t.getState(),yb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(hH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var pv=Mr("mouseMove"),XN=du(),gc=null;XN.startListening({actionCreator:pv,effect:(e,t)=>{var r=e.payload;gc!==null&&cancelAnimationFrame(gc);var n=yb(r);gc=requestAnimationFrame(()=>{var a=t.getState(),i=J0(a,a.tooltip.settings.shared);if(i==="axis"){var o=vb(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch($P({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(IP())}gc=null})}});function mX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var XS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},ZN=Zt({name:"rootProps",initialState:XS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:XS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),pX=ZN.reducer,{updateOptions:gX}=ZN.actions,JN=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:$Z}=JN.actions,vX=JN.reducer,QN=Mr("keyDown"),eR=Mr("focus"),bb=du();bb.startListening({actionCreator:QN,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Q0(a,jl(r),wu(r),Eu(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var s=aa(r);if(i==="Enter"){var c=rf(r,"axis","hover",String(a.index));t.dispatch(ov({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var d=nH(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=l+h*f;if(!(s==null||m>=s.length||m<0)){var v=rf(r,"axis","hover",String(m));t.dispatch(ov({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});bb.startListening({actionCreator:eR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=rf(r,"axis","hover",String(i));t.dispatch(ov({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var wr=Mr("externalEvent"),tR=du(),op=new Map;tR.startListening({actionCreator:wr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=op.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),s={activeCoordinate:JH(l),activeDataKey:ZP(l),activeIndex:tl(l),activeLabel:XP(l),activeTooltipIndex:tl(l),isTooltipActive:QH(l)};r(s,n)}finally{op.delete(a)}});op.set(a,o)}}});var yX=R([_l],e=>e.tooltipItemPayloads),bX=R([yX,ju,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),rR=Mr("touchMove"),nR=du();nR.startListening({actionCreator:rR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=J0(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=vb(n,yb({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch($P({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,s=r.touches[0];if(document.elementFromPoint==null||s==null)return;var c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(i8),f=(l=c.getAttribute(o8))!==null&&l!==void 0?l:void 0,h=Sl(n).find(x=>x.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,v=bX(n,d,f);t.dispatch(BP({activeDataKey:m,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var xX=DT({brush:EG,cartesianAxis:hG,chartData:ZW,errorBars:_F,graphicalItems:QK,layout:LL,legend:F8,options:KW,polarAxis:xK,polarOptions:vX,referenceElements:NG,rootProps:pX,tooltip:mH,zIndex:MW}),wX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return dL({reducer:xX,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([YN.middleware,XN.middleware,bb.middleware,tR.middleware,nR.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(XT({type:"raf"}))},devTools:{serialize:{replacer:mX},name:"recharts-".concat(r)}})};function _X(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Jt(),i=w.useRef(null);if(a)return r;i.current==null&&(i.current=wX(t,n));var o=Yy;return w.createElement(ZF,{context:o,store:i.current},r)}function SX(e){var{layout:t,margin:r}=e,n=Ge(),a=Jt();return w.useEffect(()=>{a||(n(BL(t)),n(zL(r)))},[n,a,t,r]),null}var jX=w.memo(SX,gb);function EX(e){var t=Ge();return w.useEffect(()=>{t(gX(e))},[t,e]),null}function ZS(e){var{zIndex:t,isPanorama:r}=e,n=w.useRef(null),a=Ge();return w.useLayoutEffect(()=>(n.current&&a(NW({zIndex:t,element:n.current,isPanorama:r})),()=>{a(RW({zIndex:t,isPanorama:r}))}),[a,t,r]),w.createElement("g",{tabIndex:-1,ref:n})}function JS(e){var{children:t,isPanorama:r}=e,n=Z(_W);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return w.createElement(w.Fragment,null,a.map(o=>w.createElement(ZS,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>w.createElement(ZS,{key:o,zIndex:o,isPanorama:r})))}var OX=["children"];function CX(e,t){if(e==null)return{};var r,n,a=AX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(null,arguments)}var TX={width:"100%",height:"100%",display:"block"},kX=w.forwardRef((e,t)=>{var r=_2(),n=S2(),a=P2();if(!un(r)||!un(n))return null;var{children:i,otherAttributes:o,title:l,desc:s}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),w.createElement(zA,cf({},o,{title:l,desc:s,role:d,tabIndex:c,width:r,height:n,style:TX,ref:t}),i)}),PX=e=>{var{children:t}=e,r=Z(sh);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return w.createElement(zA,{width:n,height:a,x:o,y:i},t)},QS=w.forwardRef((e,t)=>{var{children:r}=e,n=CX(e,OX),a=Jt();return a?w.createElement(PX,null,w.createElement(JS,{isPanorama:!0},r)):w.createElement(kX,cf({ref:t},n),w.createElement(JS,{isPanorama:!1},r))});function NX(){var e=Ge(),[t,r]=w.useState(null),n=Z(a8);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Le(i)&&i!==n&&e($L(i))}},[t,e,n]),r}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){MX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MX(e,t,r){return(t=DX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(null,arguments)}var BX=()=>(oV(),null);function df(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var IX=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[i,o]=w.useState({containerWidth:df((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:df((n=e.style)===null||n===void 0?void 0:n.height)}),l=w.useCallback((c,d)=>{o(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),s=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();l(d,f);var h=v=>{var{width:x,height:y}=v[0].contentRect;l(x,y)},m=new ResizeObserver(h);m.observe(c),a.current=m}},[t,l]);return w.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[l]),w.createElement(w.Fragment,null,w.createElement(ch,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Ni({ref:s},e)))}),$X=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=w.useState({containerWidth:df(r),containerHeight:df(n)}),o=w.useCallback((s,c)=>{i(d=>{var f=Math.round(s),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=w.useCallback(s=>{if(typeof t=="function"&&t(s),s!=null){var{width:c,height:d}=s.getBoundingClientRect();o(c,d)}},[t,o]);return w.createElement(w.Fragment,null,w.createElement(ch,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Ni({ref:l},e)))}),LX=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(ch,{width:r,height:n}),w.createElement("div",Ni({ref:t},e)))}),UX=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return qn(r)||qn(n)?w.createElement($X,Ni({},e,{ref:t})):w.createElement(LX,Ni({},e,{ref:t}))});function qX(e){return e===!0?IX:UX}var HX=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:s,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:x,style:y,width:g,responsive:p,dispatchTouchEvents:b=!0}=e,_=w.useRef(null),j=Ge(),[S,E]=w.useState(null),[O,A]=w.useState(null),k=NX(),B=i0(),N=(B==null?void 0:B.width)>0?B.width:g,K=(B==null?void 0:B.height)>0?B.height:a,T=w.useCallback(M=>{k(M),typeof t=="function"&&t(M),E(M),A(M),M!=null&&(_.current=M)},[k,t,E,A]),q=w.useCallback(M=>{j(FN(M)),j(wr({handler:i,reactEvent:M}))},[j,i]),C=w.useCallback(M=>{j(pv(M)),j(wr({handler:c,reactEvent:M}))},[j,c]),P=w.useCallback(M=>{j(IP()),j(wr({handler:d,reactEvent:M}))},[j,d]),D=w.useCallback(M=>{j(pv(M)),j(wr({handler:f,reactEvent:M}))},[j,f]),U=w.useCallback(()=>{j(eR())},[j]),W=w.useCallback(M=>{j(QN(M.key))},[j]),ce=w.useCallback(M=>{j(wr({handler:o,reactEvent:M}))},[j,o]),de=w.useCallback(M=>{j(wr({handler:l,reactEvent:M}))},[j,l]),oe=w.useCallback(M=>{j(wr({handler:s,reactEvent:M}))},[j,s]),fe=w.useCallback(M=>{j(wr({handler:h,reactEvent:M}))},[j,h]),se=w.useCallback(M=>{j(wr({handler:x,reactEvent:M}))},[j,x]),z=w.useCallback(M=>{b&&j(rR(M)),j(wr({handler:v,reactEvent:M}))},[j,b,v]),H=w.useCallback(M=>{j(wr({handler:m,reactEvent:M}))},[j,m]),ne=qX(p);return w.createElement(aN.Provider,{value:S},w.createElement(rI.Provider,{value:O},w.createElement(ne,{width:N??(y==null?void 0:y.width),height:K??(y==null?void 0:y.height),className:De("recharts-wrapper",n),style:RX({position:"relative",cursor:"default",width:N,height:K},y),onClick:q,onContextMenu:ce,onDoubleClick:de,onFocus:U,onKeyDown:W,onMouseDown:oe,onMouseEnter:C,onMouseLeave:P,onMouseMove:D,onMouseUp:fe,onTouchEnd:H,onTouchMove:z,onTouchStart:se,ref:T},w.createElement(BX,null),r)))}),WX=["width","height","responsive","children","className","style","compact","title","desc"];function VX(e,t){if(e==null)return{};var r,n,a=KX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GX=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:s,title:c,desc:d}=e,f=VX(e,WX),h=Ln(f);return s?w.createElement(w.Fragment,null,w.createElement(ch,{width:r,height:n}),w.createElement(QS,{otherAttributes:h,title:c,desc:d},i)):w.createElement(HX,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(QS,{otherAttributes:h,title:c,desc:d,ref:t},w.createElement(MG,null,i)))});function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}var FX={top:5,right:5,bottom:5,left:5},YX={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:FX,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},XX=w.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,YX),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,categoricalChartProps:c}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,eventEmitter:void 0};return w.createElement(_X,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},w.createElement(jG,{chartData:c.data}),w.createElement(jX,{layout:a.layout,margin:a.margin}),w.createElement(EX,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(GX,gv({},a,{ref:r})))}),ZX=["axis","item"],JX=w.forwardRef((e,t)=>w.createElement(XX,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ZX,tooltipPayloadSearcher:WW,categoricalChartProps:e,ref:t}));function QX({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=w.useState([]),[i,o]=w.useState(!1),[l,s]=w.useState(null);w.useEffect(()=>{e&&t>0?c():a([])},[e,t]);const c=async()=>{o(!0),s(null);try{const{data:h,error:m}=await L.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const x=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(y=>{const g=Number(h[y.key]),p=g?t*g:0;return{name:y.name,geracao:Math.round(p),factor:g}});a(x)}catch(h){console.error("Irradiance error:",h),s("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return w.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):u.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[u.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[u.jsx("span",{children:"Estimativa de Gerao Mensal"}),u.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",u.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),u.jsx("div",{style:{width:"100%",height:300},children:u.jsx(k8,{children:u.jsxs(JX,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[u.jsx(IN,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),u.jsx(KN,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),u.jsx(GN,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),u.jsx(mV,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),u.jsx(WN,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>u.jsx(sb,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),u.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}function eZ({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),[o,l]=w.useState([]),[s,c]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(!1),v=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],x=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],y=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],g=(z,H,ne)=>{let M=[];for(let Y=z;Y<=H;Y+=ne)M.push(Y);return M},p=g(460,800,5),b=[...g(1e3,7e3,1e3),7500,9e3,1e4,12500,...g(15e3,75e3,5e3),...g(1e5,3e5,25e3)],[_,j]=w.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[S,E]=w.useState([]),[O,A]=w.useState([]),[k,B]=w.useState(0),N=O.reduce((z,H)=>z+(Number(H.consumo_medio_kwh)||Number(H.franquia)||0),0);w.useEffect(()=>{const z=Number(_.qtd_modulos)||0,H=Number(_.potencia_modulos_w)||0,ne=z*H/1e3;B(Number(ne.toFixed(2)))},[_.qtd_modulos,_.potencia_modulos_w]),w.useEffect(()=>{var z,H,ne,M,Y,ee,$;q(),C(),e&&(j({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?P(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((z=e.address)==null?void 0:z.cep)||"",rua:((H=e.address)==null?void 0:H.rua)||"",numero:((ne=e.address)==null?void 0:ne.numero)||"",bairro:((M=e.address)==null?void 0:M.bairro)||"",cidade:((Y=e.address)==null?void 0:Y.cidade)||"",uf:((ee=e.address)==null?void 0:ee.uf)||"",ibge_code:e.ibge_code||(($=e.address)==null?void 0:$.ibge)||"",concessionaria:e.concessionaria||""}),K(e.id))},[e]),w.useEffect(()=>{T()},[e==null?void 0:e.id]);const K=async z=>{const{data:H}=await L.from("consumer_units").select("*").eq("usina_id",z);H&&A(H)},T=async()=>{let z=L.from("consumer_units").select("id, numero_uc, titular_conta, usina_id, concessionaria, status, consumo_medio_kwh");const{data:H,error:ne}=await z;if(H){console.log("All UCs fetched:",H);const M=H.filter(Y=>{const ee=e&&Y.usina_id===e.id,$=Y.usina_id===null;return ee||$});console.log("Filtered UCs:",M),E(M)}},q=async()=>{const{data:z}=await L.from("suppliers").select("id, name").order("name");l(z||[])},C=async()=>{const{data:z}=await L.from("inverter_brands").select("name").order("name");c(z||[])},P=z=>z===""||z===void 0||z===null?"":typeof z=="number"?z.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(z.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),D=z=>{const H=z.target.value.replace(/\D/g,"");if(!H){j({..._,valor_investido:""});return}const M=(Number(H)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});j({..._,valor_investido:M})},U=z=>{if(!z)return 0;const H=z.replace(/[^\d,]/g,"").replace(",",".");return Number(H)||0},W=z=>{j(H=>{const ne=H.servicos_contratados||[];return ne.includes(z)?{...H,servicos_contratados:ne.filter(M=>M!==z)}:{...H,servicos_contratados:[...ne,z]}})},ce=(z,H)=>{const ne=H.replace(/\D/g,""),M=Number(ne)/100;j(Y=>({...Y,service_values:{...Y.service_values,[z]:M}}))},de=async()=>{const z=_.cep.replace(/\D/g,"");if(z.length===8){m(!0);try{const H=await Zn(z);if(j(ne=>({...ne,rua:H.rua||"",bairro:H.bairro||"",cidade:H.cidade||"",uf:H.uf||"",ibge_code:H.ibge||""})),H.ibge){const ne=await lu(H.ibge);ne&&ne.Concessionaria&&j(M=>({...M,concessionaria:ne.Concessionaria}))}}catch(H){console.error("Erro CEP",H)}finally{m(!1)}}},oe=w.useCallback(z=>{z&&j(H=>z!==Number(H.geracao_estimada_kwh)?{...H,geracao_estimada_kwh:z}:H)},[]),fe=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:H}=await L.from("usinas").delete().eq("id",e.id);if(H)throw H;n&&n(e.id),t()}catch(H){a("Erro ao excluir: "+H.message,"error")}finally{f(!1)}}},se=async z=>{z.preventDefault(),f(!0);try{const H=U(_.valor_investido),ne={supplier_id:_.supplier_id||null,name:_.name,concessionaria:_.concessionaria,status:_.status,modalidade:_.modalidade,valor_investido:H,potencia_kwp:Number(k),qtd_modulos:Number(_.qtd_modulos),potencia_modulos_w:Number(_.potencia_modulos_w),fabricante_inversor:_.fabricante_inversor,potencia_inversor_w:Number(_.potencia_inversor_w),geracao_estimada_kwh:Number(_.geracao_estimada_kwh),servicos_contratados:_.servicos_contratados,service_values:_.service_values,gestao_percentual:Number(_.gestao_percentual),ibge_code:_.ibge_code,address:{cep:_.cep,rua:_.rua,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,ibge:_.ibge_code}};let M=e==null?void 0:e.id,Y=null;if(e!=null&&e.id){const{data:ee,error:$}=await L.from("usinas").update(ne).eq("id",e.id).select().single();$?Y=$:ee&&(M=ee.id)}else{const{data:ee,error:$}=await L.from("usinas").insert(ne).select().single();$?Y=$:ee&&(M=ee.id)}if(Y)throw Y;if(M&&(await L.from("consumer_units").update({usina_id:null}).eq("usina_id",M),O.length>0)){const ee=O.map($=>$.id);await L.from("consumer_units").update({usina_id:M}).in("id",ee)}r({id:M}),t(),a("Usina salva com sucesso!","success")}catch(H){console.error("Save error:",H),a("Erro ao salvar usina: "+(H.message||JSON.stringify(H)),"error")}finally{f(!1)}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Usina":"Nova Usina"}),u.jsxs("form",{onSubmit:se,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome da Usina"}),u.jsx("input",{required:!0,value:_.name,onChange:z=>j({..._,name:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Localizao"}),u.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),u.jsx("input",{value:_.cep,onChange:z=>j({..._,cep:z.target.value}),onBlur:de,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:h?"#f0f9ff":"white"}})]}),u.jsxs("div",{style:{flex:3},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),u.jsx("input",{value:`${_.cidade} / ${_.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria (Auto ou Manual)"}),u.jsx("input",{value:_.concessionaria,onChange:z=>j({..._,concessionaria:z.target.value}),placeholder:"Preenchido via CEP ou digite...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Detalhes Tcnicos"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),u.jsx("select",{value:_.status,onChange:z=>j({..._,status:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:v.map(z=>u.jsx("option",{value:z.value,children:z.label},z.value))})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Modalidade"}),u.jsx("select",{value:_.modalidade,onChange:z=>j({..._,modalidade:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:x.map(z=>u.jsx("option",{value:z.value,children:z.label},z.value))})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Fornecedor"}),u.jsxs("select",{required:!0,value:_.supplier_id,onChange:z=>j({..._,supplier_id:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),o.map(z=>u.jsx("option",{value:z.id,children:z.name},z.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Valor Investido"}),u.jsx("input",{value:_.valor_investido,onChange:D,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Mdulos e Inversores"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Qtd. de Mdulos"}),u.jsx("input",{type:"number",value:_.qtd_modulos,onChange:z=>j({..._,qtd_modulos:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Potncia Mdulo (W)"}),u.jsxs("select",{value:_.potencia_modulos_w,onChange:z=>j({..._,potencia_modulos_w:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),p.map(z=>u.jsxs("option",{value:z,children:[z," W"]},z))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Fabricante Inversor"}),u.jsxs("select",{value:_.fabricante_inversor,onChange:z=>j({..._,fabricante_inversor:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),s.map(z=>u.jsx("option",{value:z.name,children:z.name},z.name))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Potncia Inversor (W)"}),u.jsxs("select",{value:_.potencia_inversor_w,onChange:z=>j({..._,potencia_inversor_w:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),b.map(z=>u.jsxs("option",{value:z,children:[z," W"]},z))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"var(--color-orange)"},children:"Potncia Total (kWp) - Calc"}),u.jsx("input",{value:k,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#fff7ed",fontWeight:"bold"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Gerao Estimada (kWh)"}),u.jsx("input",{type:"number",value:_.geracao_estimada_kwh,onChange:z=>j({..._,geracao_estimada_kwh:z.target.value}),placeholder:"Calculado automaticamente",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#eef2ff"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f9fafb",padding:"1rem",borderRadius:"8px",border:"1px solid #eee"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:u.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"var(--color-blue)"},children:"Vincular Unidades Consumidoras - Todas"})}),u.jsxs("div",{style:{fontSize:"0.8rem",color:"#555",marginBottom:"0.5rem",background:"#e0f2fe",padding:"0.5rem",borderRadius:"4px"},children:["Total ",u.jsx("strong",{children:O.length})," UCs conectadas | Total ",u.jsx("strong",{children:N.toFixed(2)})," kWh/ms"]}),S.length===0?u.jsx("p",{style:{fontSize:"0.8rem",color:"#666"},children:"Nenhuma UC disponvel (Em Ativao) encontrada."}):u.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem"},children:S.map(z=>{var ne;const H=O.some(M=>M.id===z.id);return u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",padding:"0.4rem",border:H?"1px solid var(--color-blue)":"1px solid #ddd",borderRadius:"4px",background:H?"#eff6ff":"white"},children:[u.jsx("input",{type:"checkbox",checked:H,onChange:M=>{M.target.checked?A([...O,z]):A(O.filter(Y=>Y.id!==z.id))}}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:"bold"},children:z.numero_uc}),u.jsxs("div",{style:{fontSize:"0.75rem",color:"#555"},children:[(ne=z.titular_conta)==null?void 0:ne.substring(0,15),"...",u.jsx("br",{}),u.jsxs("span",{style:{fontSize:"0.65rem",color:"#888"},children:["(",z.concessionaria,")"]})]}),z.consumo_medio_kwh&&u.jsxs("div",{style:{fontSize:"0.7rem",color:"green"},children:["Cap: ",z.consumo_medio_kwh," kWh"]})]})]},z.id)})})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Gesto e Servios"}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Servios Contratados"}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:y.map(z=>{var ne;const H=_.servicos_contratados.includes(z);return u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.9rem",width:"150px",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:H,onChange:()=>W(z)}),z]}),H&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("input",{placeholder:"Valor (R$)",value:P((ne=_.service_values)==null?void 0:ne[z]),onChange:M=>ce(z,M.target.value),style:{padding:"0.3rem",border:"1px solid #ddd",borderRadius:"4px",width:"100px"}}),z==="Gesto"&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem",marginLeft:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.8rem"},children:"Taxa (%):"}),u.jsx("input",{type:"number",step:"0.01",value:_.gestao_percentual,onChange:M=>j({..._,gestao_percentual:M.target.value}),style:{padding:"0.3rem",border:"1px solid #ddd",borderRadius:"4px",width:"60px"}})]})]})]},z)})})]}),u.jsx("div",{style:{gridColumn:"1 / -1"},children:u.jsx(QX,{ibgeCode:_.ibge_code,potenciaKwp:k,onCalculate:oe})}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[u.jsx("div",{children:e&&n&&u.jsx("button",{type:"button",onClick:fe,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:d,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:d?"Salvando...":"Salvar Usina"})]})]})]})]})})}function tZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState(null),[s,c]=w.useState(""),[d,f]=w.useState("kanban"),h=e.filter(g=>{var b,_,j,S,E,O,A;if(!s)return!0;const p=s.toLowerCase();return((b=g.name)==null?void 0:b.toLowerCase().includes(p))||((_=g.concessionaria)==null?void 0:_.toLowerCase().includes(p))||((S=(j=g.supplier)==null?void 0:j.name)==null?void 0:S.toLowerCase().includes(p))||((E=g.status)==null?void 0:E.toLowerCase().includes(p))||((A=(O=g.address)==null?void 0:O.cidade)==null?void 0:A.toLowerCase().includes(p))});w.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:g,error:p}=await L.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(p)throw p;t(g||[])}catch(g){console.error("Erro usinas",g)}finally{n(!1)}},v=()=>{m(),i(!1)},x=g=>{t(e.filter(p=>p.id!==g)),i(!1)},y=g=>{switch(g){case"gerando":return{bg:"#dcfce7",color:"#166534"};case"em_conexao":return{bg:"#ffedd5",color:"#9a3412"};case"manutencao":return{bg:"#fee2e2",color:"#991b1b"};case"inativa":return{bg:"#f1f5f9",color:"#64748b"};case"cancelada":return{bg:"#f1f5f9",color:"#94a3b8"};default:return{bg:"#f1f5f9",color:"#64748b"}}};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Usinas Geradoras"}),u.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[u.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:s,onChange:g=>c(g.target.value),className:"input",style:{maxWidth:"400px"}}),u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>f("list"),className:`btn ${d==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>f("kanban"),className:`btn ${d==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:d==="list"?u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:h.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome / Concessionria"}),u.jsx("th",{children:"Fornecedor"}),u.jsx("th",{children:"Cidade"}),u.jsx("th",{children:"Gerao / Potncia"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:h.map(g=>{var b,_,j,S;const p=y(g.status);return u.jsxs("tr",{children:[u.jsxs("td",{style:{fontWeight:"bold"},children:[u.jsx("div",{children:g.name}),u.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:g.concessionaria||"-"})]}),u.jsx("td",{children:((b=g.supplier)==null?void 0:b.name)||"-"}),u.jsxs("td",{children:[(_=g.address)==null?void 0:_.cidade,"/",(j=g.address)==null?void 0:j.uf]}),u.jsxs("td",{children:[u.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:g.geracao_estimada_kwh?`${g.geracao_estimada_kwh} kWh/ms`:"-"}),u.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",g.potencia_kwp," kWp"]})]}),u.jsx("td",{children:u.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:p.bg,color:p.color,textTransform:"uppercase"},children:(S=g.status)==null?void 0:S.replace("_"," ")})}),u.jsx("td",{children:u.jsx("button",{onClick:()=>{l(g),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},g.id)})})]})})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["em_conexao","gerando","manutencao","inativa","cancelada"].map(g=>{const p=h.filter(_=>_.status===g),b=y(g);return u.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${b.color}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:b.color},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:g.replace("_"," ")}),u.jsx("span",{style:{fontSize:"0.8rem",background:b.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:p.length})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:p.map(_=>{var j,S,E;return u.jsxs("div",{onClick:()=>{l(_),i(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s",position:"relative",overflow:"hidden"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[u.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:b.bg,color:b.color,marginBottom:"0.5rem"},children:g.replace("_"," ")}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:u.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:_.name})}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[u.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria||"Sem conc."}),u.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((j=_.supplier)==null?void 0:j.name)||"Sem Fornecedor"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[u.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[u.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),u.jsxs("div",{style:{fontWeight:"bold"},children:[_.potencia_kwp," kWp"]})]}),u.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[u.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),u.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[_.geracao_estimada_kwh," kWh"]})]})]}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:u.jsxs("span",{children:[(S=_.address)==null?void 0:S.cidade,"/",(E=_.address)==null?void 0:E.uf]})})]},_.id)})})]},g)})})}),a&&u.jsx(eZ,{usina:o,onClose:()=>i(!1),onSave:v,onDelete:x})]})}function rZ(){const{showAlert:e,showConfirm:t}=$i(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),[s,c]=w.useState("kanban"),[d,f]=w.useState(null),[h,m]=w.useState(!1),[v,x]=w.useState(new Date().toISOString().substring(0,7)),[y,g]=w.useState(""),[p,b]=w.useState(""),[_,j]=w.useState(null),S=r.filter(C=>{var P,D,U,W,ce,de,oe;if(y&&C.status!==y)return!1;if(p){const fe=p.toLowerCase(),se=((D=(P=C.consumer_units)==null?void 0:P.titular_conta)==null?void 0:D.toLowerCase())||"",z=((ce=(W=(U=C.consumer_units)==null?void 0:U.subscribers)==null?void 0:W.name)==null?void 0:ce.toLowerCase())||"",H=((oe=(de=C.consumer_units)==null?void 0:de.numero_uc)==null?void 0:oe.toLowerCase())||"";if(!se.includes(fe)&&!z.includes(fe)&&!H.includes(fe))return!1}return!0});w.useEffect(()=>{E(),O()},[v]);const E=async()=>{l(!0);try{const[C,P]=v.split("-"),D=`${C}-${P}-01`,U=new Date(C,P,0).getDate(),W=`${C}-${P}-${U}`,{data:ce,error:de}=await L.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",D).lte("mes_referencia",W).order("vencimento",{ascending:!0});if(de)throw de;n(ce||[])}catch(C){console.error("Error fetching invoices:",C),e("Erro ao carregar faturas.","error")}finally{l(!1)}},O=async()=>{const{data:C,error:P}=await L.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta").eq("status","ativo").order("titular_conta");P||i(C||[])},A=()=>{f(null),m(!0)},k=C=>{f(C),m(!0)},B=()=>{E(),m(!1)},N=async C=>{var D;if(await t(`Gerar boleto Asaas para a fatura de ${(D=C.consumer_units)==null?void 0:D.titular_conta}?`)){j(C.id);try{const U=await zf(C.id);U.url&&(e("Boleto gerado com sucesso!","success"),window.open(U.url,"_blank"),E())}catch(U){console.error(U),e("Erro ao gerar boleto: "+U.message,"error")}finally{j(null)}}},K=async C=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:D}=await L.from("invoices").delete().eq("id",C);if(D)throw D;E()}catch(D){console.error("Erro ao excluir fatura:",D),e("Erro ao excluir fatura: "+D.message,"error")}},T=C=>Number(C||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),q=C=>{const P={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:CA},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:W4},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:OA}},D=P[C]||P.a_vencer,U=D.icon;return u.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:D.bg,color:D.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[u.jsx(U,{size:12})," ",D.label]})};return u.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsxs("div",{children:[u.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),u.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),u.jsxs("button",{onClick:A,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(Py,{size:18})," Nova Fatura"]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[u.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[u.jsx(J4,{size:18}),u.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),u.jsx("input",{type:"month",value:v,onChange:C=>x(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),u.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),u.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:u.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),u.jsxs("select",{value:y,onChange:C=>g(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Todos"}),u.jsx("option",{value:"a_vencer",children:"A Vencer"}),u.jsx("option",{value:"atrasado",children:"Atrasado"}),u.jsx("option",{value:"pago",children:"Pago"})]}),u.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),u.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:u.jsx(AA,{size:18})}),u.jsx("input",{placeholder:"Buscar por Nome...",value:p,onChange:C=>b(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>c("list"),className:`btn ${s==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>c("kanban"),className:`btn ${s==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:s==="list"?u.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[u.jsx("thead",{style:{background:"#f8fafc"},children:u.jsxs("tr",{children:[u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),u.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),u.jsx("tbody",{children:S.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):S.map(C=>{var P,D,U;return u.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[u.jsx("td",{style:{padding:"1rem"},children:q(C.status)}),u.jsx("td",{style:{padding:"1rem",color:"#334155"},children:C.vencimento?new Date(C.vencimento).toLocaleDateString("pt-BR"):"-"}),u.jsxs("td",{style:{padding:"1rem"},children:[u.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((P=C.consumer_units)==null?void 0:P.numero_uc)||"N/A"}),u.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(D=C.consumer_units)==null?void 0:D.titular_conta," (",(U=C.consumer_units)==null?void 0:U.concessionaria,")"]})]}),u.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(C.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),u.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:T(C.valor_a_pagar)}),u.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:u.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[C.asaas_boleto_url?u.jsxs("a",{href:C.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[u.jsx(vd,{size:14})," Boleto"]}):u.jsx("button",{onClick:()=>N(C),disabled:_===C.id,style:{background:_===C.id?"#f1f5f9":"#fff7ed",color:_===C.id?"#94a3b8":"#c2410c",border:_===C.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:_===C.id?"Gerando...":u.jsxs(u.Fragment,{children:[u.jsx(Bf,{size:14})," Emitir"]})}),u.jsx("button",{onClick:()=>k(C),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),u.jsx("button",{onClick:()=>K(C.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:u.jsx(TA,{size:16})})]})})]},C.id)})})]})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(C=>{const P=S.filter(W=>W.status===C),D={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},U=D[C]||D.a_vencer;return u.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${U.color}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:U.color},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:U.label}),u.jsx("span",{style:{fontSize:"0.8rem",background:U.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:T(P.reduce((W,ce)=>W+(Number(ce.valor_a_pagar)||0),0))})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:P.map(W=>{var ce,de;return u.jsxs("div",{onClick:()=>k(W),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:oe=>oe.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:oe=>oe.currentTarget.style.borderColor="transparent",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(ce=W.consumer_units)==null?void 0:ce.numero_uc}),u.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",W.vencimento?new Date(W.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),u.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(de=W.consumer_units)==null?void 0:de.titular_conta}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),u.jsxs("div",{children:[Number(W.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),u.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:T(W.valor_a_pagar)})]})]}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:W.asaas_boleto_url?u.jsxs("a",{href:W.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:oe=>oe.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[u.jsx(vd,{size:14})," Boleto"]}):u.jsx("button",{onClick:oe=>{oe.stopPropagation(),N(W)},className:"btn",disabled:_===W.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:_===W.id?"...":"Emitir"})})]},W.id)})})]},C)})})}),h&&u.jsx(NA,{invoice:d,ucs:a,onClose:()=>m(!1),onSave:B})]})}function nZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(""),[o,l]=w.useState("kanban"),[s,c]=w.useState(!1),[d,f]=w.useState(null),h=e.filter(y=>{var p,b,_,j,S,E,O;if(!a)return!0;const g=a.toLowerCase();return((p=y.numero_uc)==null?void 0:p.toLowerCase().includes(g))||((_=(b=y.subscriber)==null?void 0:b.name)==null?void 0:_.toLowerCase().includes(g))||((j=y.concessionaria)==null?void 0:j.toLowerCase().includes(g))||((E=(S=y.address)==null?void 0:S.cidade)==null?void 0:E.toLowerCase().includes(g))||((O=y.status)==null?void 0:O.toLowerCase().includes(g))});w.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:y,error:g}=await L.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(g)throw g;t(y||[])}catch(y){console.error("Error fetching UCs:",y)}finally{n(!1)}},v=y=>{m(),c(!1)},x=y=>{t(e.filter(g=>g.id!==y)),c(!1)};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),u.jsx("button",{onClick:()=>{f(null),c(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[u.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:y=>i(y.target.value),className:"input",style:{maxWidth:"400px"}}),u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>l("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>l("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:o==="list"?u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:h.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"UC"}),u.jsx("th",{children:"Concessionria"}),u.jsx("th",{children:"Assinante"}),u.jsx("th",{children:"Franquia"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Cidade"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:h.map(y=>{var g,p,b,_,j;return u.jsxs("tr",{children:[u.jsx("td",{style:{fontWeight:"bold"},children:y.numero_uc}),u.jsx("td",{style:{color:"var(--color-text-medium)"},children:y.concessionaria||"-"}),u.jsxs("td",{children:[u.jsx("div",{style:{fontWeight:"bold"},children:((g=y.subscriber)==null?void 0:g.name)||"-"}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(p=y.subscriber)==null?void 0:p.cpf_cnpj})]}),u.jsx("td",{children:y.franquia?`${Number(y.franquia).toLocaleString("pt-BR")} kWh`:"-"}),u.jsx("td",{children:u.jsx("span",{className:"badge",style:{background:y.status==="ativo"?"var(--color-success-light)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:y.status==="ativo"?"var(--color-success)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(b=y.status)==null?void 0:b.replace("_"," ").toUpperCase()})}),u.jsxs("td",{children:[(_=y.address)==null?void 0:_.cidade," / ",(j=y.address)==null?void 0:j.uf]}),u.jsx("td",{children:u.jsx("button",{onClick:()=>{f(y),c(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}].map(({status:y,label:g,color:p})=>{const b=h.filter(_=>(_.status||"em_ativacao")===y);return u.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${p}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:p},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:g}),u.jsx("span",{style:{fontSize:"0.8rem",background:p,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:b.length})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:b.map(_=>{var j,S,E;return u.jsxs("div",{onClick:()=>{f(_),c(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:_.numero_uc}),u.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria})]}),u.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((j=_.subscriber)==null?void 0:j.name)||"Sem Assinante"}),u.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[u.jsxs("span",{children:[(S=_.address)==null?void 0:S.cidade,"/",(E=_.address)==null?void 0:E.uf]}),u.jsx("span",{children:_.franquia?`${Number(_.franquia).toLocaleString("pt-BR")} kWh`:""})]})]},_.id)})})]},y)})})}),s&&u.jsx(Ny,{consumerUnit:d,onClose:()=>c(!1),onSave:v,onDelete:x})]})}function aZ({billing:e,onClose:t,onSave:r}){const[n,a]=w.useState([]),[i,o]=w.useState(!1),[l,s]=w.useState(!1),[c,d]=w.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=w.useState(0),m=["em_producao","fechado","liquidado"],v=E=>{if(!E&&E!==0)return"";const O=Number(E);return isNaN(O)?"":O.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},x=E=>{if(!E||typeof E!="string")return 0;const O=E.replace(/\D/g,"");return Number(O)/100},y=(E,O)=>{const A=O.replace(/\D/g,""),B=(Number(A)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(N=>({...N,[E]:B}))};w.useEffect(()=>{g(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:v(e.faturamento_mensal),faturas_pagas:v(e.faturas_pagas),custo_disponibilidade:v(e.custo_disponibilidade),manutencao:v(e.manutencao),gestao_reais:v(e.gestao_reais),arrendamento:v(e.arrendamento),servicos:v(e.servicos),total_despesas:v(e.total_despesas),saldo_receber:v(e.saldo_receber)}),p(e.usina_id))},[e]),w.useEffect(()=>{_()},[c.faturas_pagas,c.custo_disponibilidade,c.manutencao,c.arrendamento,c.servicos,f]);const g=async()=>{const{data:E}=await L.from("usinas").select("id, name");a(E||[])},p=async E=>{if(!E)return;const{data:O}=await L.from("usinas").select("gestao_percentual").eq("id",E).single();O&&h(Number(O.gestao_percentual)||0)},b=async E=>{const O=E.target.value;d(A=>({...A,usina_id:O})),await p(O)},_=()=>{const E=x(c.faturas_pagas),O=x(c.custo_disponibilidade),A=x(c.manutencao),k=x(c.arrendamento),B=x(c.servicos);let N=0;f>0&&(N=E*(f/100));const K=O+A+N+k+B,T=E-K,q=x(c.gestao_reais),C=x(c.total_despesas),P=x(c.saldo_receber);Math.abs(q-N)<.01&&Math.abs(C-K)<.01&&Math.abs(P-T)<.01||d(D=>({...D,gestao_reais:v(N),total_despesas:v(K),saldo_receber:v(T)}))},j=async()=>{if(!c.usina_id||!c.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}s(!0);try{const{data:E,error:O}=await L.from("consumer_units").select("id").eq("usina_id",c.usina_id);if(O)throw O;if(!E||E.length===0){alert("Nenhuma UC vinculada a esta usina."),s(!1);return}const A=E.map(U=>U.id),[k,B]=c.mes_referencia.split("-"),N=`${k}-${B}-01`,K=new Date(k,B,0).getDate(),T=`${k}-${B}-${K}`,{data:q,error:C}=await L.from("invoices").select("valor_a_pagar, status").in("uc_id",A).gte("mes_referencia",N).lte("mes_referencia",T);if(C)throw C;let P=0,D=0;q.forEach(U=>{const W=Number(U.valor_a_pagar)||0;P+=W,U.status==="pago"&&(D+=W)}),d(U=>({...U,faturamento_mensal:v(P),faturas_pagas:v(D)}))}catch(E){console.error("Reconciliation error:",E),alert("Erro ao buscar faturas: "+E.message)}finally{s(!1)}},S=async E=>{E.preventDefault(),o(!0);try{const O={usina_id:c.usina_id,status:c.status,mes_referencia:`${c.mes_referencia}-01`,fechamento:c.fechamento,geracao_mensal_kwh:Number(c.geracao_mensal_kwh),energia_compensada:Number(c.energia_compensada),faturamento_mensal:x(c.faturamento_mensal),faturas_pagas:x(c.faturas_pagas),custo_disponibilidade:x(c.custo_disponibilidade),manutencao:x(c.manutencao),gestao_reais:x(c.gestao_reais),arrendamento:x(c.arrendamento),servicos:x(c.servicos),total_despesas:x(c.total_despesas),saldo_receber:x(c.saldo_receber)};let A;if(e!=null&&e.id?A=await L.from("generation_production").update(O).eq("id",e.id):A=await L.from("generation_production").insert(O),A.error)throw A.error;r(),t()}catch(O){console.error("Save error:",O),alert("Erro ao salvar: "+(O.message||JSON.stringify(O)))}finally{o(!1)}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),u.jsxs("form",{onSubmit:S,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),u.jsxs("select",{required:!0,value:c.usina_id,onChange:b,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[u.jsx("option",{value:"",children:"Selecione..."}),n.map(E=>u.jsx("option",{value:E.id,children:E.name},E.id))]})]}),u.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),u.jsx("select",{value:c.mes_referencia.split("-")[1],onChange:E=>{const O=c.mes_referencia.split("-")[0];d({...c,mes_referencia:`${O}-${E.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((E,O)=>u.jsx("option",{value:E,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][O]},E))})]}),u.jsxs("div",{style:{width:"80px"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),u.jsx("select",{value:c.mes_referencia.split("-")[0],onChange:E=>{const O=c.mes_referencia.split("-")[1];d({...c,mes_referencia:`${E.target.value}-${O}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(E,O)=>new Date().getFullYear()-2+O).map(E=>u.jsx("option",{value:E,children:E},E))})]})]}),u.jsxs("div",{style:{width:"150px"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),u.jsx("input",{type:"date",required:!0,value:c.fechamento,onChange:E=>d({...c,fechamento:E.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{width:"120px"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),u.jsx("select",{value:c.status,onChange:E=>d({...c,status:E.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(E=>u.jsx("option",{value:E,children:E.replace("_"," ").toUpperCase()},E))})]}),u.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:u.jsx("button",{type:"button",onClick:j,disabled:l||!c.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:l?.7:1},children:l?"Buscando...":"Buscar Faturas"})})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),u.jsx("input",{type:"number",required:!0,value:c.geracao_mensal_kwh,onChange:E=>d({...c,geracao_mensal_kwh:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),u.jsx("input",{type:"number",value:c.energia_compensada,onChange:E=>d({...c,energia_compensada:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),u.jsx("input",{type:"text",value:c.faturamento_mensal,onChange:E=>y("faturamento_mensal",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),u.jsx("input",{type:"text",value:c.faturas_pagas,onChange:E=>y("faturas_pagas",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),u.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),u.jsx("input",{type:"text",value:c.custo_disponibilidade,onChange:E=>y("custo_disponibilidade",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),u.jsx("input",{type:"text",value:c.manutencao,onChange:E=>y("manutencao",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),u.jsx("input",{type:"text",value:c.arrendamento,onChange:E=>y("arrendamento",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),u.jsx("input",{type:"text",value:c.servicos,onChange:E=>y("servicos",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[u.jsxs("div",{children:[u.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),u.jsx("input",{disabled:!0,value:c.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),u.jsx("input",{disabled:!0,value:c.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[u.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),u.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:c.saldo_receber}),u.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[u.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function iZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState("kanban"),[o,l]=w.useState(!1),[s,c]=w.useState(null);w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:b}=await L.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});b?console.error("Error fetching billing:",b):t(p||[]),n(!1)},f=p=>{c(p),l(!0)},h=()=>{c(null),l(!0)},m=async p=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:b}=await L.from("generation_production").delete().eq("id",p);b?alert("Erro ao excluir"):d()},v=async p=>{var b;if(!p.saldo_receber||p.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${p.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:_,error:j}=await L.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",p.usina_id).single();if(j||!_||!_.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const S=_.supplier;if(!S.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:E,error:O}=await L.functions.invoke("transfer-asaas-pix",{body:{value:p.saldo_receber,pix_key:S.pix_key,pix_key_type:S.pix_key_type,description:`Pagamento Energia - ${p.mes_referencia} - ${_.name}`,operationType:"PIX"}});if(O)throw O;if(!E.success)throw new Error(E.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((b=E.data)==null?void 0:b.id)),d(),await L.from("generation_production").update({status:"liquidado"}).eq("id",p.id),d()}catch(_){console.error("Payment Error:",_),alert("Erro no pagamento: "+_.message)}finally{n(!1)}}},x=()=>{d(),l(!1)},y=p=>{if(!p)return"-";const[b,_]=p.split("-"),j=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=parseInt(_,10)-1;return`${j[S]||"-"} ${b}`},g=p=>Number(p||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return u.jsxs("div",{style:{padding:"2rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),u.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:a==="list"?u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Ms Ref."}),u.jsx("th",{children:"Usina"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Gerao (kWh)"}),u.jsx("th",{children:"Compensado (kWh)"}),u.jsx("th",{children:"Faturado (R$)"}),u.jsx("th",{children:"Saldo a Receber (R$)"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:e.map(p=>{var b;return u.jsxs("tr",{children:[u.jsx("td",{children:y(p.mes_referencia)}),u.jsx("td",{children:((b=p.usinas)==null?void 0:b.name)||"-"}),u.jsx("td",{children:u.jsx("span",{className:"badge",style:{background:p.status==="liquidado"?"#dcfce7":p.status==="fechado"?"#e0f2fe":"#fef9c3",color:p.status==="liquidado"?"#166534":p.status==="fechado"?"#0369a1":"#854d0e"},children:p.status})}),u.jsxs("td",{children:[Number(p.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),u.jsxs("td",{children:[Number(p.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),u.jsx("td",{children:g(p.faturamento_mensal)}),u.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:g(p.saldo_receber)}),u.jsx("td",{children:u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("button",{onClick:()=>f(p),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),u.jsx("button",{onClick:()=>m(p.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),u.jsx("button",{onClick:()=>v(p),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},p.id)})})]})})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(p=>{const b=e.filter(S=>S.status===p),j={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[p]||"#64748b";return u.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${j}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:j},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:p}),u.jsx("span",{style:{fontSize:"0.8rem",background:j,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:g(b.reduce((S,E)=>S+(Number(E.saldo_receber)||0),0))})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:b.map(S=>{var E;return u.jsxs("div",{onClick:()=>f(S),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(E=S.usinas)==null?void 0:E.name}),u.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:y(S.mes_referencia)})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),u.jsxs("div",{children:[Number(S.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),u.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:g(S.saldo_receber)})]})]}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:S.status!=="liquidado"&&u.jsx("button",{onClick:O=>{O.stopPropagation(),v(S)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},S.id)})})]},p)})})}),o&&u.jsx(aZ,{billing:s,onClose:()=>l(!1),onSave:x})]})}function oZ(){var m;const{profile:e,signOut:t}=Jr(),r=dl(),[n,a]=w.useState("default"),[i,o]=w.useState(!1),[l,s]=w.useState(!1);w.useEffect(()=>{e&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e]);const c=async()=>{await t(),r("/login")},f=(v=>{if(!v)return[];const x=[];v!=="subscriber"&&x.push({id:"leads",label:"Leads",icon:lB}),["originator","coordinator","manager","admin","super_admin"].includes(v)&&(v==="originator"?(x.push({id:"originator_dashboard",label:"Minhas Comisses",icon:zm}),x.push({id:"originators_list",label:"Equipe",icon:R1})):x.push({id:"originators_list",label:"Originadores",icon:R1})),v!=="lead"&&(v==="subscriber"?x.push({id:"subscriber_dashboard",label:"Meu Painel",icon:zm}):x.push({id:"subscribers_list",label:"Assinantes",icon:xB})),v!=="lead"&&v!=="subscriber"&&x.push({id:"consumer_units",label:"Unidades Consumidoras",icon:eB}),x.push({id:"invoices",label:"Faturas",icon:vd});const g=["supplier","manager","admin","super_admin"];return g.includes(v)&&(v==="supplier"?x.push({id:"supplier_dashboard",label:"Meu Painel",icon:zm}):x.push({id:"suppliers_list",label:"Fornecedores",icon:yB})),g.includes(v)&&x.push({id:"power_plants",label:"Usinas",icon:jB}),["supplier","manager","admin","super_admin"].includes(v)&&x.push({id:"billing",label:"Billing",icon:Y4}),["admin","super_admin"].includes(v)&&x.push({id:"admin",label:"Gesto de Usurios",icon:hB}),x})(e==null?void 0:e.role),h=()=>{if(!e)return u.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return u.jsx(zB,{});case"subscriber_dashboard":return u.jsx(BB,{});case"originator_dashboard":return u.jsx(IB,{});case"supplier_dashboard":return u.jsx($B,{});case"leads":return u.jsx(UB,{});case"subscribers_list":return u.jsx(qB,{});case"originators_list":return u.jsx(WB,{});case"suppliers_list":return u.jsx(KB,{});case"power_plants":return u.jsx(tZ,{});case"consumer_units":return u.jsx(nZ,{});case"invoices":return u.jsx(rZ,{});case"billing":return u.jsx(iZ,{});default:return u.jsxs("div",{style:{padding:"2rem"},children:[u.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),u.jsx("p",{children:"Selecione uma opo no menu."})]})}};return u.jsxs("div",{className:"dashboard-container",children:[u.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:u.jsx(uB,{size:24})}),i&&u.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),u.jsxs("aside",{className:`sidebar ${i?"open":""} ${l?"collapsed":""}`,children:[u.jsxs("div",{className:"sidebar-header",style:{justifyContent:l?"center":"space-between"},children:[!l&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),u.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),u.jsx("button",{onClick:()=>s(!l),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:l?u.jsx(I4,{size:20}):u.jsx(z4,{size:20})})]}),u.jsx("nav",{style:{flex:1,overflowY:"auto"},children:u.jsx("ul",{style:{listStyle:"none"},children:f.map(v=>{const x=v.icon;return u.jsx("li",{style:{marginBottom:"0.25rem"},children:u.jsxs("button",{onClick:()=>{a(v.id),o(!1)},title:l?v.label:"",className:`sidebar-link ${n===v.id?"active":""}`,style:{justifyContent:l?"center":"flex-start"},children:[u.jsx(x,{size:20,style:{marginRight:l?0:"0.75rem",flexShrink:0}}),!l&&u.jsx("span",{children:v.label})]})},v.id)})})}),u.jsxs("div",{className:"sidebar-footer",children:[!l&&u.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[u.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),u.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),u.jsxs("button",{onClick:c,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:l?"center":"flex-start"},children:[u.jsx(iB,{size:20,style:{marginRight:l?0:"0.5rem"}}),!l&&u.jsx("span",{children:"Sair"})]})]})]}),u.jsx("main",{className:"main-content",children:h()})]})}function lZ(){const[e]=bC(),t=dl(),r=e.get("id"),[n,a]=w.useState("simulation"),[i,o]=w.useState(!1),[l,s]=w.useState(null),[c,d]=w.useState(null),[f,h]=w.useState(null),[m,v]=w.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),x=async()=>{if(m.cep.length>=8)try{o(!0);const p=await Zn(m.cep);if(v(b=>({...b,rua:p.rua||"",bairro:p.bairro||"",cidade:p.cidade||"",uf:p.uf||""})),p.ibge){const b=await lu(p.ibge);d(b)}}catch(p){console.error(p),alert("Erro ao buscar CEP")}finally{o(!1)}},y=async p=>{if(p.preventDefault(),!Ei(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const b=c&&c["Tarifa Concessionaria"]||.85,_=c&&c["Desconto Assinante"]||.1,j=parseFloat(m.consumo)*b,S=j*_;s({contaAtual:j,economiaMensal:S,anual:S*12});const{data:E,error:O}=await L.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:c==null?void 0:c.Concessionaria,tarifa_concessionaria:b,desconto_assinante:_,originator_id:r,status:"indicado"}).select().single();if(O)throw O;h(E.id),a("signup")}catch(b){alert("Erro na simulao: "+b.message)}finally{o(!1)}},g=async p=>{if(p.preventDefault(),!$f(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!Ei(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:b,error:_}=await L.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(_)throw _;const{error:j}=await L.from("consumer_units").insert({subscriber_id:b.id,numero_uc:m.numero_uc,concessionaria:c==null?void 0:c.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(j)throw j;f&&await L.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(b){alert("Erro ao finalizar cadastro: "+b.message)}finally{o(!1)}};return u.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:u.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[u.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),u.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?u.jsxs("form",{onSubmit:y,children:[u.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),u.jsx("input",{value:m.cep,onChange:p=>v({...m,cep:p.target.value}),onBlur:x,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&u.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,c&&u.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",c.Concessionaria]})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),u.jsx("input",{value:m.nome,onChange:p=>v({...m,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),u.jsx("input",{type:"email",value:m.email,onChange:p=>v({...m,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),u.jsx("input",{value:m.telefone,onChange:p=>v({...m,telefone:Vo(p.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),u.jsx("input",{type:"number",value:m.consumo,onChange:p=>v({...m,consumo:p.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):u.jsxs("form",{onSubmit:g,children:[l&&u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[u.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),u.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",l.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),u.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),u.jsx("input",{value:m.cpf_cnpj,onChange:p=>v({...m,cpf_cnpj:If(p.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),u.jsx("input",{value:m.nome,onChange:p=>v({...m,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),u.jsx("input",{type:"email",value:m.email,onChange:p=>v({...m,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),u.jsx("input",{value:m.telefone,onChange:p=>v({...m,telefone:Vo(p.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),u.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),u.jsxs("div",{style:{width:"100px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),u.jsx("input",{value:m.numero,onChange:p=>v({...m,numero:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),u.jsx("input",{value:m.numero_uc,onChange:p=>v({...m,numero_uc:p.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const sZ=()=>{const{user:e}=Jr();return e?u.jsx(Gz,{}):u.jsx(yC,{to:"/login",replace:!0})};function uZ(){return u.jsx(Qz,{children:u.jsx(EB,{children:u.jsx(OB,{children:u.jsxs(Yz,{children:[u.jsx(yn,{path:"/login",element:u.jsx(C4,{})}),u.jsx(yn,{path:"/simulacao",element:u.jsx(kB,{})}),u.jsx(yn,{path:"/cadastro-parceiro",element:u.jsx(RB,{})}),u.jsx(yn,{path:"/assine",element:u.jsx(MB,{})}),u.jsx(yn,{path:"/originador",element:u.jsx(lZ,{})}),u.jsx(yn,{element:u.jsx(sZ,{}),children:u.jsx(yn,{path:"/dashboard",element:u.jsx(oZ,{})})}),u.jsx(yn,{path:"/",element:u.jsx(yC,{to:"/login",replace:!0})})]})})})})}tz.createRoot(document.getElementById("root")).render(u.jsx(w.StrictMode,{children:u.jsx(uZ,{})}));
