var lR=Object.defineProperty;var sR=(e,t,r)=>t in e?lR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Hh=(e,t,r)=>sR(e,typeof t!="symbol"?t+"":t,r);function rj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Yn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var aj={exports:{}},hf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR=Symbol.for("react.transitional.element"),cR=Symbol.for("react.fragment");function ij(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:uR,type:e,key:n,ref:t!==void 0?t:null,props:r}}hf.Fragment=cR;hf.jsx=ij;hf.jsxs=ij;aj.exports=hf;var u=aj.exports,oj={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=Symbol.for("react.transitional.element"),dR=Symbol.for("react.portal"),fR=Symbol.for("react.fragment"),hR=Symbol.for("react.strict_mode"),mR=Symbol.for("react.profiler"),pR=Symbol.for("react.consumer"),gR=Symbol.for("react.context"),vR=Symbol.for("react.forward_ref"),yR=Symbol.for("react.suspense"),bR=Symbol.for("react.memo"),lj=Symbol.for("react.lazy"),xR=Symbol.for("react.activity"),_b=Symbol.iterator;function wR(e){return e===null||typeof e!="object"?null:(e=_b&&e[_b]||e["@@iterator"],typeof e=="function"?e:null)}var sj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uj=Object.assign,cj={};function rl(e,t,r){this.props=e,this.context=t,this.refs=cj,this.updater=r||sj}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dj(){}dj.prototype=rl.prototype;function bv(e,t,r){this.props=e,this.context=t,this.refs=cj,this.updater=r||sj}var xv=bv.prototype=new dj;xv.constructor=bv;uj(xv,rl.prototype);xv.isPureReactComponent=!0;var Sb=Array.isArray;function sp(){}var Re={H:null,A:null,T:null,S:null},fj=Object.prototype.hasOwnProperty;function wv(e,t,r){var n=r.ref;return{$$typeof:yv,type:e,key:t,ref:n!==void 0?n:null,props:r}}function _R(e,t){return wv(e.type,t,e.props)}function _v(e){return typeof e=="object"&&e!==null&&e.$$typeof===yv}function SR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jb=/\/+/g;function Wh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SR(""+e.key):t.toString(36)}function jR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(sp,sp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function to(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yv:case dR:o=!0;break;case lj:return o=e._init,to(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+Wh(e,0):n,Sb(a)?(r="",o!=null&&(r=o.replace(jb,"$&/")+"/"),to(a,t,r,"",function(c){return c})):a!=null&&(_v(a)&&(a=_R(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(jb,"$&/")+"/")+o)),t.push(a)),1;o=0;var l=n===""?".":n+":";if(Sb(e))for(var s=0;s<e.length;s++)n=e[s],i=l+Wh(n,s),o+=to(n,t,r,i,a);else if(s=wR(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=l+Wh(n,s++),o+=to(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return to(jR(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Tu(e,t,r){if(e==null)return e;var n=[],a=0;return to(e,n,"","",function(i){return t.call(r,i,a++)}),n}function ER(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Eb=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},OR={map:Tu,forEach:function(e,t,r){Tu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tu(e,function(){t++}),t},toArray:function(e){return Tu(e,function(t){return t})||[]},only:function(e){if(!_v(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Activity=xR;te.Children=OR;te.Component=rl;te.Fragment=fR;te.Profiler=mR;te.PureComponent=bv;te.StrictMode=hR;te.Suspense=yR;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;te.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Re.H.useMemoCache(e)}};te.cache=function(e){return function(){return e.apply(null,arguments)}};te.cacheSignal=function(){return null};te.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=uj({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!fj.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];n.children=o}return wv(e.type,a,n)};te.createContext=function(e){return e={$$typeof:gR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:pR,_context:e},e};te.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)fj.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),s=0;s<o;s++)l[s]=arguments[s+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return wv(e,i,a)};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:vR,render:e}};te.isValidElement=_v;te.lazy=function(e){return{$$typeof:lj,_payload:{_status:-1,_result:e},_init:ER}};te.memo=function(e,t){return{$$typeof:bR,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Re.T,r={};Re.T=r;try{var n=e(),a=Re.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(sp,Eb)}catch(i){Eb(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Re.T=t}};te.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};te.use=function(e){return Re.H.use(e)};te.useActionState=function(e,t,r){return Re.H.useActionState(e,t,r)};te.useCallback=function(e,t){return Re.H.useCallback(e,t)};te.useContext=function(e){return Re.H.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e,t){return Re.H.useDeferredValue(e,t)};te.useEffect=function(e,t){return Re.H.useEffect(e,t)};te.useEffectEvent=function(e){return Re.H.useEffectEvent(e)};te.useId=function(){return Re.H.useId()};te.useImperativeHandle=function(e,t,r){return Re.H.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Re.H.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Re.H.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Re.H.useMemo(e,t)};te.useOptimistic=function(e,t){return Re.H.useOptimistic(e,t)};te.useReducer=function(e,t,r){return Re.H.useReducer(e,t,r)};te.useRef=function(e){return Re.H.useRef(e)};te.useState=function(e){return Re.H.useState(e)};te.useSyncExternalStore=function(e,t,r){return Re.H.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Re.H.useTransition()};te.version="19.2.3";oj.exports=te;var w=oj.exports;const mf=Yn(w),hj=rj({__proto__:null,default:mf},[w]);var mj={exports:{}},pf={},pj={exports:{}},gj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,T){var N=C.length;C.push(T);e:for(;0<N;){var $=N-1>>>1,U=C[$];if(0<a(U,T))C[$]=T,C[N]=U,N=$;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var T=C[0],N=C.pop();if(N!==T){C[0]=N;e:for(var $=0,U=C.length,ne=U>>>1;$<ne;){var ue=2*($+1)-1,le=C[ue],fe=ue+1,ce=C[fe];if(0>a(le,N))fe<U&&0>a(ce,le)?(C[$]=ce,C[fe]=N,$=fe):(C[$]=le,C[ue]=N,$=ue);else if(fe<U&&0>a(ce,N))C[$]=ce,C[fe]=N,$=fe;else break e}}return T}function a(C,T){var N=C.sortIndex-T.sortIndex;return N!==0?N:C.id-T.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],c=[],d=1,f=null,h=3,m=!1,g=!1,b=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function _(C){for(var T=r(c);T!==null;){if(T.callback===null)n(c);else if(T.startTime<=C)n(c),T.sortIndex=T.expirationTime,t(s,T);else break;T=r(c)}}function j(C){if(b=!1,_(C),!g)if(r(s)!==null)g=!0,S||(S=!0,P());else{var T=r(c);T!==null&&Z(j,T.startTime-C)}}var S=!1,E=-1,O=5,A=-1;function k(){return y?!0:!(e.unstable_now()-A<O)}function z(){if(y=!1,S){var C=e.unstable_now();A=C;var T=!0;try{e:{g=!1,b&&(b=!1,v(E),E=-1),m=!0;var N=h;try{t:{for(_(C),f=r(s);f!==null&&!(f.expirationTime>C&&k());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var U=$(f.expirationTime<=C);if(C=e.unstable_now(),typeof U=="function"){f.callback=U,_(C),T=!0;break t}f===r(s)&&n(s),_(C)}else n(s);f=r(s)}if(f!==null)T=!0;else{var ne=r(c);ne!==null&&Z(j,ne.startTime-C),T=!1}}break e}finally{f=null,h=N,m=!1}T=void 0}}finally{T?P():S=!1}}}var P;if(typeof x=="function")P=function(){x(z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=z,P=function(){H.postMessage(null)}}else P=function(){p(z,0)};function Z(C,T){E=p(function(){C(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var N=h;h=T;try{return C()}finally{h=N}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var N=h;h=C;try{return T()}finally{h=N}},e.unstable_scheduleCallback=function(C,T,N){var $=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?$+N:$):N=$,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,C={id:d++,callback:T,priorityLevel:C,startTime:N,expirationTime:U,sortIndex:-1},N>$?(C.sortIndex=N,t(c,C),r(s)===null&&C===r(c)&&(b?(v(E),E=-1):b=!0,Z(j,N-$))):(C.sortIndex=U,t(s,C),g||m||(g=!0,S||(S=!0,P()))),C},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(C){var T=h;return function(){var N=h;h=T;try{return C.apply(this,arguments)}finally{h=N}}}})(gj);pj.exports=gj;var CR=pj.exports,vj={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR=w;function yj(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function oa(){}var Dt={d:{f:oa,r:function(){throw Error(yj(522))},D:oa,C:oa,L:oa,m:oa,X:oa,S:oa,M:oa},p:0,findDOMNode:null},TR=Symbol.for("react.portal");function kR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:TR,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Fl=AR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(yj(299));return kR(e,t,null,r)};$t.flushSync=function(e){var t=Fl.T,r=Dt.p;try{if(Fl.T=null,Dt.p=2,e)return e()}finally{Fl.T=t,Dt.p=r,Dt.d.f()}};$t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dt.d.C(e,t))};$t.prefetchDNS=function(e){typeof e=="string"&&Dt.d.D(e)};$t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=gf(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Dt.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=gf(t.as,t.crossOrigin);Dt.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dt.d.M(e)};$t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=gf(r,t.crossOrigin);Dt.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$t.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=gf(t.as,t.crossOrigin);Dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dt.d.m(e)};$t.requestFormReset=function(e){Dt.d.r(e)};$t.unstable_batchedUpdates=function(e,t){return e(t)};$t.useFormState=function(e,t,r){return Fl.H.useFormState(e,t,r)};$t.useFormStatus=function(){return Fl.H.useHostTransitionStatus()};$t.version="19.2.3";function bj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bj)}catch(e){console.error(e)}}bj(),vj.exports=$t;var Sv=vj.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=CR,xj=w,PR=Sv;function B(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _j(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sj(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ob(e){if(Ks(e)!==e)throw Error(B(188))}function NR(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Ob(a),e;if(i===n)return Ob(a),t;i=i.sibling}throw Error(B(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function jj(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=jj(e),t!==null)return t;e=e.sibling}return null}var Me=Object.assign,RR=Symbol.for("react.element"),ku=Symbol.for("react.transitional.element"),Ll=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),Ej=Symbol.for("react.strict_mode"),up=Symbol.for("react.profiler"),Oj=Symbol.for("react.consumer"),En=Symbol.for("react.context"),jv=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),Ev=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),fp=Symbol.for("react.activity"),MR=Symbol.for("react.memo_cache_sentinel"),Cb=Symbol.iterator;function El(e){return e===null||typeof e!="object"?null:(e=Cb&&e[Cb]||e["@@iterator"],typeof e=="function"?e:null)}var DR=Symbol.for("react.client.reference");function hp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===DR?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lo:return"Fragment";case up:return"Profiler";case Ej:return"StrictMode";case cp:return"Suspense";case dp:return"SuspenseList";case fp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ll:return"Portal";case En:return e.displayName||"Context";case Oj:return(e._context.displayName||"Context")+".Consumer";case jv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ev:return t=e.displayName||null,t!==null?t:hp(e.type)||"Memo";case sa:t=e._payload,e=e._init;try{return hp(e(t))}catch{}}return null}var Ul=Array.isArray,Q=xj.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=PR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,di={pending:!1,data:null,method:null,action:null},mp=[],so=-1;function dn(e){return{current:e}}function pt(e){0>so||(e.current=mp[so],mp[so]=null,so--)}function Te(e,t){so++,mp[so]=e.current,e.current=t}var on=dn(null),fs=dn(null),Ea=dn(null),Ic=dn(null);function $c(e,t){switch(Te(Ea,t),Te(fs,e),Te(on,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rx(t),e=KO(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pt(on),Te(on,e)}function No(){pt(on),pt(fs),pt(Ea)}function pp(e){e.memoizedState!==null&&Te(Ic,e);var t=on.current,r=KO(t,e.type);t!==r&&(Te(fs,e),Te(on,r))}function Lc(e){fs.current===e&&(pt(on),pt(fs)),Ic.current===e&&(pt(Ic),Ss._currentValue=di)}var Vh,Ab;function Xa(e){if(Vh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vh=t&&t[1]||"",Ab=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vh+e+Ab}var Kh=!1;function Gh(e,t){if(!e||Kh)return"";Kh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var s=o.split(`
`),c=l.split(`
`);for(a=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===s.length||a===c.length)for(n=s.length-1,a=c.length-1;1<=n&&0<=a&&s[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(s[n]!==c[a]){if(n!==1||a!==1)do if(n--,a--,0>a||s[n]!==c[a]){var d=`
`+s[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{Kh=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Xa(r):""}function zR(e,t){switch(e.tag){case 26:case 27:case 5:return Xa(e.type);case 16:return Xa("Lazy");case 13:return e.child!==t&&t!==null?Xa("Suspense Fallback"):Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return Gh(e.type,!1);case 11:return Gh(e.type.render,!1);case 1:return Gh(e.type,!0);case 31:return Xa("Activity");default:return""}}function Tb(e){try{var t="",r=null;do t+=zR(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var gp=Object.prototype.hasOwnProperty,Ov=it.unstable_scheduleCallback,Fh=it.unstable_cancelCallback,BR=it.unstable_shouldYield,IR=it.unstable_requestPaint,cr=it.unstable_now,$R=it.unstable_getCurrentPriorityLevel,Cj=it.unstable_ImmediatePriority,Aj=it.unstable_UserBlockingPriority,Uc=it.unstable_NormalPriority,LR=it.unstable_LowPriority,Tj=it.unstable_IdlePriority,UR=it.log,qR=it.unstable_setDisableYieldValue,Gs=null,dr=null;function ya(e){if(typeof UR=="function"&&qR(e),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(Gs,e)}catch{}}var fr=Math.clz32?Math.clz32:VR,HR=Math.log,WR=Math.LN2;function VR(e){return e>>>=0,e===0?32:31-(HR(e)/WR|0)|0}var Pu=256,Nu=262144,Ru=4194304;function Za(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vf(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~i,n!==0?a=Za(n):(o&=l,o!==0?a=Za(o):r||(r=l&~e,r!==0&&(a=Za(r))))):(l=n&~i,l!==0?a=Za(l):o!==0?a=Za(o):r||(r=n&~e,r!==0&&(a=Za(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Fs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function KR(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kj(){var e=Ru;return Ru<<=1,!(Ru&62914560)&&(Ru=4194304),e}function Yh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ys(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function GR(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-fr(r),f=1<<d;l[d]=0,s[d]=-1;var h=c[d];if(h!==null)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&Pj(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function Pj(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function Nj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Rj(e,t){var r=t&-t;return r=r&42?1:Cv(r),r&(e.suspendedLanes|t)?0:r}function Cv(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Av(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Mj(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:nC(e.type))}function kb(e,t){var r=pe.p;try{return pe.p=e,t()}finally{pe.p=r}}var La=Math.random().toString(36).slice(2),St="__reactFiber$"+La,Yt="__reactProps$"+La,nl="__reactContainer$"+La,vp="__reactEvents$"+La,FR="__reactListeners$"+La,YR="__reactHandles$"+La,Pb="__reactResources$"+La,Xs="__reactMarker$"+La;function Tv(e){delete e[St],delete e[Yt],delete e[vp],delete e[FR],delete e[YR]}function uo(e){var t=e[St];if(t)return t;for(var r=e.parentNode;r;){if(t=r[nl]||r[St]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ix(e);e!==null;){if(r=e[St])return r;e=Ix(e)}return t}e=r,r=e.parentNode}return null}function al(e){if(e=e[St]||e[nl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(B(33))}function _o(e){var t=e[Pb];return t||(t=e[Pb]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Xs]=!0}var Dj=new Set,zj={};function Ri(e,t){Ro(e,t),Ro(e+"Capture",t)}function Ro(e,t){for(zj[e]=t,e=0;e<t.length;e++)Dj.add(t[e])}var XR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nb={},Rb={};function ZR(e){return gp.call(Rb,e)?!0:gp.call(Nb,e)?!1:XR.test(e)?Rb[e]=!0:(Nb[e]=!0,!1)}function yc(e,t,r){if(ZR(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Mu(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function hn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Sr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JR(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yp(e){if(!e._valueTracker){var t=Bj(e)?"checked":"value";e._valueTracker=JR(e,t,""+e[t])}}function Ij(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Bj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var QR=/[\n"\\]/g;function Or(e){return e.replace(QR,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function bp(e,t,r,n,a,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sr(t)):e.value!==""+Sr(t)&&(e.value=""+Sr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?xp(e,o,Sr(t)):r!=null?xp(e,o,Sr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Sr(l):e.removeAttribute("name")}function $j(e,t,r,n,a,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){yp(e);return}r=r!=null?""+Sr(r):"",t=t!=null?""+Sr(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),yp(e)}function xp(e,t,r){t==="number"&&qc(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function So(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Lj(e,t,r){if(t!=null&&(t=""+Sr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Sr(r):""}function Uj(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(B(92));if(Ul(n)){if(1<n.length)throw Error(B(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Sr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),yp(e)}function Mo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var eM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mb(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||eM.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function qj(e,t,r){if(t!=null&&typeof t!="object")throw Error(B(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&Mb(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&Mb(e,i,t[i])}function kv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bc(e){return rM.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function On(){}var wp=null;function Pv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var co=null,jo=null;function Db(e){var t=al(e);if(t&&(e=t.stateNode)){var r=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(bp(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Or(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Yt]||null;if(!a)throw Error(B(90));bp(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&Ij(n)}break e;case"textarea":Lj(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&So(e,!!r.multiple,t,!1)}}}var Xh=!1;function Hj(e,t,r){if(Xh)return e(t,r);Xh=!0;try{var n=e(t);return n}finally{if(Xh=!1,(co!==null||jo!==null)&&(Tf(),co&&(t=co,e=jo,jo=co=null,Db(t),e)))for(t=0;t<e.length;t++)Db(e[t])}}function hs(e,t){var r=e.stateNode;if(r===null)return null;var n=r[Yt]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=!1;if(Dn)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){_p=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{_p=!1}var ba=null,Nv=null,xc=null;function Wj(){if(xc)return xc;var e,t=Nv,r=t.length,n,a="value"in ba?ba.value:ba.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return xc=a.slice(e,1<n?1-n:void 0)}function wc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Du(){return!0}function zb(){return!1}function Xt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Du:zb,this.isPropagationStopped=zb,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),t}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yf=Xt(Mi),Zs=Me({},Mi,{view:0,detail:0}),nM=Xt(Zs),Zh,Jh,Cl,bf=Me({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cl&&(Cl&&e.type==="mousemove"?(Zh=e.screenX-Cl.screenX,Jh=e.screenY-Cl.screenY):Jh=Zh=0,Cl=e),Zh)},movementY:function(e){return"movementY"in e?e.movementY:Jh}}),Bb=Xt(bf),aM=Me({},bf,{dataTransfer:0}),iM=Xt(aM),oM=Me({},Zs,{relatedTarget:0}),Qh=Xt(oM),lM=Me({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),sM=Xt(lM),uM=Me({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cM=Xt(uM),dM=Me({},Mi,{data:0}),Ib=Xt(dM),fM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mM[e])?!!t[e]:!1}function Rv(){return pM}var gM=Me({},Zs,{key:function(e){if(e.key){var t=fM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rv,charCode:function(e){return e.type==="keypress"?wc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vM=Xt(gM),yM=Me({},bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$b=Xt(yM),bM=Me({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rv}),xM=Xt(bM),wM=Me({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),_M=Xt(wM),SM=Me({},bf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jM=Xt(SM),EM=Me({},Mi,{newState:0,oldState:0}),OM=Xt(EM),CM=[9,13,27,32],Mv=Dn&&"CompositionEvent"in window,Yl=null;Dn&&"documentMode"in document&&(Yl=document.documentMode);var AM=Dn&&"TextEvent"in window&&!Yl,Vj=Dn&&(!Mv||Yl&&8<Yl&&11>=Yl),Lb=" ",Ub=!1;function Kj(e,t){switch(e){case"keyup":return CM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fo=!1;function TM(e,t){switch(e){case"compositionend":return Gj(t);case"keypress":return t.which!==32?null:(Ub=!0,Lb);case"textInput":return e=t.data,e===Lb&&Ub?null:e;default:return null}}function kM(e,t){if(fo)return e==="compositionend"||!Mv&&Kj(e,t)?(e=Wj(),xc=Nv=ba=null,fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vj&&t.locale!=="ko"?null:t.data;default:return null}}var PM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PM[e.type]:t==="textarea"}function Fj(e,t,r,n){co?jo?jo.push(n):jo=[n]:co=n,t=od(t,"onChange"),0<t.length&&(r=new yf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xl=null,ms=null;function NM(e){HO(e,0)}function xf(e){var t=ql(e);if(Ij(t))return e}function Hb(e,t){if(e==="change")return t}var Yj=!1;if(Dn){var em;if(Dn){var tm="oninput"in document;if(!tm){var Wb=document.createElement("div");Wb.setAttribute("oninput","return;"),tm=typeof Wb.oninput=="function"}em=tm}else em=!1;Yj=em&&(!document.documentMode||9<document.documentMode)}function Vb(){Xl&&(Xl.detachEvent("onpropertychange",Xj),ms=Xl=null)}function Xj(e){if(e.propertyName==="value"&&xf(ms)){var t=[];Fj(t,ms,e,Pv(e)),Hj(NM,t)}}function RM(e,t,r){e==="focusin"?(Vb(),Xl=t,ms=r,Xl.attachEvent("onpropertychange",Xj)):e==="focusout"&&Vb()}function MM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xf(ms)}function DM(e,t){if(e==="click")return xf(t)}function zM(e,t){if(e==="input"||e==="change")return xf(t)}function BM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:BM;function ps(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!gp.call(t,a)||!pr(e[a],t[a]))return!1}return!0}function Kb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gb(e,t){var r=Kb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kb(r)}}function Zj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jj(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qc(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qc(e.document)}return t}function Dv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var IM=Dn&&"documentMode"in document&&11>=document.documentMode,ho=null,Sp=null,Zl=null,jp=!1;function Fb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jp||ho==null||ho!==qc(n)||(n=ho,"selectionStart"in n&&Dv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zl&&ps(Zl,n)||(Zl=n,n=od(Sp,"onSelect"),0<n.length&&(t=new yf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ho)))}function Ga(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mo={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},rm={},Qj={};Dn&&(Qj=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Di(e){if(rm[e])return rm[e];if(!mo[e])return e;var t=mo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qj)return rm[e]=t[r];return e}var eE=Di("animationend"),tE=Di("animationiteration"),rE=Di("animationstart"),$M=Di("transitionrun"),LM=Di("transitionstart"),UM=Di("transitioncancel"),nE=Di("transitionend"),aE=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function Zr(e,t){aE.set(e,t),Ri(t,[e])}var Hc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_r=[],po=0,zv=0;function wf(){for(var e=po,t=zv=po=0;t<e;){var r=_r[t];_r[t++]=null;var n=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&iE(r,a,i)}}function _f(e,t,r,n){_r[po++]=e,_r[po++]=t,_r[po++]=r,_r[po++]=n,zv|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Bv(e,t,r,n){return _f(e,t,r,n),Wc(e)}function zi(e,t){return _f(e,null,null,t),Wc(e)}function iE(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-fr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Wc(e){if(50<os)throw os=0,Kp=null,Error(B(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var go={};function qM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new qM(e,t,r,n)}function Iv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function oE(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _c(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")Iv(e)&&(o=1);else if(typeof e=="string")o=GD(e,r,on.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fp:return e=ar(31,r,t,a),e.elementType=fp,e.lanes=i,e;case lo:return fi(r.children,a,i,t);case Ej:o=8,a|=24;break;case up:return e=ar(12,r,t,a|2),e.elementType=up,e.lanes=i,e;case cp:return e=ar(13,r,t,a),e.elementType=cp,e.lanes=i,e;case dp:return e=ar(19,r,t,a),e.elementType=dp,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case En:o=10;break e;case Oj:o=9;break e;case jv:o=11;break e;case Ev:o=14;break e;case sa:o=16,n=null;break e}o=29,r=Error(B(130,e===null?"null":typeof e,"")),n=null}return t=ar(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function fi(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function nm(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function lE(e){var t=ar(18,null,null,0);return t.stateNode=e,t}function am(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yb=new WeakMap;function Cr(e,t){if(typeof e=="object"&&e!==null){var r=Yb.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Tb(t)},Yb.set(e,t),t)}return{value:e,source:t,stack:Tb(t)}}var vo=[],yo=0,Vc=null,gs=0,jr=[],Er=0,Da=null,tn=1,rn="";function xn(e,t){vo[yo++]=gs,vo[yo++]=Vc,Vc=e,gs=t}function sE(e,t,r){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Da,Da=e;var n=tn;e=rn;var a=32-fr(n)-1;n&=~(1<<a),r+=1;var i=32-fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,tn=1<<32-fr(t)+a|r<<a|n,rn=i+e}else tn=1<<i|r<<a|n,rn=e}function $v(e){e.return!==null&&(xn(e,1),sE(e,1,0))}function Lv(e){for(;e===Vc;)Vc=vo[--yo],vo[yo]=null,gs=vo[--yo],vo[yo]=null;for(;e===Da;)Da=jr[--Er],jr[Er]=null,rn=jr[--Er],jr[Er]=null,tn=jr[--Er],jr[Er]=null}function uE(e,t){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Da,tn=t.id,rn=t.overflow,Da=e}var jt=null,Ne=null,de=!1,Oa=null,Ar=!1,Op=Error(B(519));function za(e){var t=Error(B(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vs(Cr(t,e)),Op}function Xb(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[St]=e,t[Yt]=n,r){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(r=0;r<ws.length;r++)ie(ws[r],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),$j(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),Uj(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||VO(t.textContent,r)?(n.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),n.onScroll!=null&&ie("scroll",t),n.onScrollEnd!=null&&ie("scrollend",t),n.onClick!=null&&(t.onclick=On),t=!0):t=!1,t||za(e,!0)}function Zb(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:jt=jt.return}}function Vi(e){if(e!==jt)return!1;if(!de)return Zb(e),de=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Zp(e.type,e.memoizedProps)),r=!r),r&&Ne&&za(e),Zb(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));Ne=Bx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));Ne=Bx(e)}else t===27?(t=Ne,Ua(e.type)?(e=tg,tg=null,Ne=e):Ne=t):Ne=jt?Pr(e.stateNode.nextSibling):null;return!0}function xi(){Ne=jt=null,de=!1}function im(){var e=Oa;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),Oa=null),e}function vs(e){Oa===null?Oa=[e]:Oa.push(e)}var Cp=dn(null),Bi=null,Cn=null;function fa(e,t,r){Te(Cp,t._currentValue),t._currentValue=r}function Pn(e){e._currentValue=Cp.current,pt(Cp)}function Ap(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Tp(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=a;for(var s=0;s<t.length;s++)if(l.context===t[s]){i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ap(i.return,r,e),n||(o=null);break e}i=l.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Ap(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function il(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(B(387));if(o=o.memoizedProps,o!==null){var l=a.type;pr(a.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(a===Ic.current){if(o=a.alternate,o===null)throw Error(B(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Ss):e=[Ss])}a=a.return}e!==null&&Tp(t,e,r,n),t.flags|=262144}function Kc(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Bi=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return cE(Bi,e)}function zu(e,t){return Bi===null&&wi(e),cE(e,t)}function cE(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Cn===null){if(e===null)throw Error(B(308));Cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cn=Cn.next=t;return r}var HM=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},WM=it.unstable_scheduleCallback,VM=it.unstable_NormalPriority,Je={$$typeof:En,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uv(){return{controller:new HM,data:new Map,refCount:0}}function Js(e){e.refCount--,e.refCount===0&&WM(VM,function(){e.controller.abort()})}var Jl=null,kp=0,Do=0,Eo=null;function KM(e,t){if(Jl===null){var r=Jl=[];kp=0,Do=fy(),Eo={status:"pending",value:void 0,then:function(n){r.push(n)}}}return kp++,t.then(Jb,Jb),t}function Jb(){if(--kp===0&&Jl!==null){Eo!==null&&(Eo.status="fulfilled");var e=Jl;Jl=null,Do=0,Eo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function GM(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var Qb=Q.S;Q.S=function(e,t){jO=cr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&KM(e,t),Qb!==null&&Qb(e,t)};var hi=dn(null);function qv(){var e=hi.current;return e!==null?e:je.pooledCache}function Sc(e,t){t===null?Te(hi,hi.current):Te(hi,t.pool)}function dE(){var e=qv();return e===null?null:{parent:Je._currentValue,pool:e}}var ol=Error(B(460)),Hv=Error(B(474)),Sf=Error(B(542)),Gc={then:function(){}};function ex(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fE(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(On,On),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rx(e),e;default:if(typeof t.status=="string")t.then(On,On);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(B(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rx(e),e}throw mi=t,ol}}function Ja(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(mi=r,ol):r}}var mi=null;function tx(){if(mi===null)throw Error(B(459));var e=mi;return mi=null,e}function rx(e){if(e===ol||e===Sf)throw Error(B(483))}var Oo=null,ys=0;function Bu(e){var t=ys;return ys+=1,Oo===null&&(Oo=[]),fE(Oo,e,t)}function Al(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Iu(e,t){throw t.$$typeof===RR?Error(B(525)):(e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hE(e){function t(p,v){if(e){var x=p.deletions;x===null?(p.deletions=[v],p.flags|=16):x.push(v)}}function r(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function n(p){for(var v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function a(p,v){return p=kn(p,v),p.index=0,p.sibling=null,p}function i(p,v,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<v?(p.flags|=67108866,v):x):(p.flags|=67108866,v)):(p.flags|=1048576,v)}function o(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,v,x,_){return v===null||v.tag!==6?(v=nm(x,p.mode,_),v.return=p,v):(v=a(v,x),v.return=p,v)}function s(p,v,x,_){var j=x.type;return j===lo?d(p,v,x.props.children,_,x.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sa&&Ja(j)===v.type)?(v=a(v,x.props),Al(v,x),v.return=p,v):(v=_c(x.type,x.key,x.props,null,p.mode,_),Al(v,x),v.return=p,v)}function c(p,v,x,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=am(x,p.mode,_),v.return=p,v):(v=a(v,x.children||[]),v.return=p,v)}function d(p,v,x,_,j){return v===null||v.tag!==7?(v=fi(x,p.mode,_,j),v.return=p,v):(v=a(v,x),v.return=p,v)}function f(p,v,x){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=nm(""+v,p.mode,x),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ku:return x=_c(v.type,v.key,v.props,null,p.mode,x),Al(x,v),x.return=p,x;case Ll:return v=am(v,p.mode,x),v.return=p,v;case sa:return v=Ja(v),f(p,v,x)}if(Ul(v)||El(v))return v=fi(v,p.mode,x,null),v.return=p,v;if(typeof v.then=="function")return f(p,Bu(v),x);if(v.$$typeof===En)return f(p,zu(p,v),x);Iu(p,v)}return null}function h(p,v,x,_){var j=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return j!==null?null:l(p,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ku:return x.key===j?s(p,v,x,_):null;case Ll:return x.key===j?c(p,v,x,_):null;case sa:return x=Ja(x),h(p,v,x,_)}if(Ul(x)||El(x))return j!==null?null:d(p,v,x,_,null);if(typeof x.then=="function")return h(p,v,Bu(x),_);if(x.$$typeof===En)return h(p,v,zu(p,x),_);Iu(p,x)}return null}function m(p,v,x,_,j){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return p=p.get(x)||null,l(v,p,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ku:return p=p.get(_.key===null?x:_.key)||null,s(v,p,_,j);case Ll:return p=p.get(_.key===null?x:_.key)||null,c(v,p,_,j);case sa:return _=Ja(_),m(p,v,x,_,j)}if(Ul(_)||El(_))return p=p.get(x)||null,d(v,p,_,j,null);if(typeof _.then=="function")return m(p,v,x,Bu(_),j);if(_.$$typeof===En)return m(p,v,x,zu(v,_),j);Iu(v,_)}return null}function g(p,v,x,_){for(var j=null,S=null,E=v,O=v=0,A=null;E!==null&&O<x.length;O++){E.index>O?(A=E,E=null):A=E.sibling;var k=h(p,E,x[O],_);if(k===null){E===null&&(E=A);break}e&&E&&k.alternate===null&&t(p,E),v=i(k,v,O),S===null?j=k:S.sibling=k,S=k,E=A}if(O===x.length)return r(p,E),de&&xn(p,O),j;if(E===null){for(;O<x.length;O++)E=f(p,x[O],_),E!==null&&(v=i(E,v,O),S===null?j=E:S.sibling=E,S=E);return de&&xn(p,O),j}for(E=n(E);O<x.length;O++)A=m(E,p,O,x[O],_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?O:A.key),v=i(A,v,O),S===null?j=A:S.sibling=A,S=A);return e&&E.forEach(function(z){return t(p,z)}),de&&xn(p,O),j}function b(p,v,x,_){if(x==null)throw Error(B(151));for(var j=null,S=null,E=v,O=v=0,A=null,k=x.next();E!==null&&!k.done;O++,k=x.next()){E.index>O?(A=E,E=null):A=E.sibling;var z=h(p,E,k.value,_);if(z===null){E===null&&(E=A);break}e&&E&&z.alternate===null&&t(p,E),v=i(z,v,O),S===null?j=z:S.sibling=z,S=z,E=A}if(k.done)return r(p,E),de&&xn(p,O),j;if(E===null){for(;!k.done;O++,k=x.next())k=f(p,k.value,_),k!==null&&(v=i(k,v,O),S===null?j=k:S.sibling=k,S=k);return de&&xn(p,O),j}for(E=n(E);!k.done;O++,k=x.next())k=m(E,p,O,k.value,_),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?O:k.key),v=i(k,v,O),S===null?j=k:S.sibling=k,S=k);return e&&E.forEach(function(P){return t(p,P)}),de&&xn(p,O),j}function y(p,v,x,_){if(typeof x=="object"&&x!==null&&x.type===lo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ku:e:{for(var j=x.key;v!==null;){if(v.key===j){if(j=x.type,j===lo){if(v.tag===7){r(p,v.sibling),_=a(v,x.props.children),_.return=p,p=_;break e}}else if(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sa&&Ja(j)===v.type){r(p,v.sibling),_=a(v,x.props),Al(_,x),_.return=p,p=_;break e}r(p,v);break}else t(p,v);v=v.sibling}x.type===lo?(_=fi(x.props.children,p.mode,_,x.key),_.return=p,p=_):(_=_c(x.type,x.key,x.props,null,p.mode,_),Al(_,x),_.return=p,p=_)}return o(p);case Ll:e:{for(j=x.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(p,v.sibling),_=a(v,x.children||[]),_.return=p,p=_;break e}else{r(p,v);break}else t(p,v);v=v.sibling}_=am(x,p.mode,_),_.return=p,p=_}return o(p);case sa:return x=Ja(x),y(p,v,x,_)}if(Ul(x))return g(p,v,x,_);if(El(x)){if(j=El(x),typeof j!="function")throw Error(B(150));return x=j.call(x),b(p,v,x,_)}if(typeof x.then=="function")return y(p,v,Bu(x),_);if(x.$$typeof===En)return y(p,v,zu(p,x),_);Iu(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,v!==null&&v.tag===6?(r(p,v.sibling),_=a(v,x),_.return=p,p=_):(r(p,v),_=nm(x,p.mode,_),_.return=p,p=_),o(p)):r(p,v)}return function(p,v,x,_){try{ys=0;var j=y(p,v,x,_);return Oo=null,j}catch(E){if(E===ol||E===Sf)throw E;var S=ar(29,E,null,p.mode);return S.lanes=_,S.return=p,S}finally{}}}var _i=hE(!0),mE=hE(!1),ua=!1;function Wv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Wc(e),iE(e,null,r),t}return _f(e,n,t,r),Wc(e)}function Ql(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nj(e,r)}}function om(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Np=!1;function es(){if(Np){var e=Eo;if(e!==null)throw e}}function ts(e,t,r,n){Np=!1;var a=e.updateQueue;ua=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,c=s.next;s.next=null,o===null?i=c:o.next=c,o=s;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=s))}if(i!==null){var f=a.baseState;o=0,d=c=s=null,l=i;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(se&h)===h:(n&h)===h){h!==0&&h===Do&&(Np=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=e,b=l;h=t;var y=r;switch(b.tag){case 1:if(g=b.payload,typeof g=="function"){f=g.call(y,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(y,f,h):g,h==null)break e;f=Me({},f,h);break e;case 2:ua=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,s=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(s=f),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),Ia|=o,e.lanes=o,e.memoizedState=f}}function pE(e,t){if(typeof e!="function")throw Error(B(191,e));e.call(t)}function gE(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)pE(r[e],t)}var zo=dn(null),Fc=dn(0);function nx(e,t){e=$n,Te(Fc,e),Te(zo,t),$n=e|t.baseLanes}function Rp(){Te(Fc,$n),Te(zo,zo.current)}function Vv(){$n=Fc.current,pt(zo),pt(Fc)}var gr=dn(null),kr=null;function ha(e){var t=e.alternate;Te(Ve,Ve.current&1),Te(gr,e),kr===null&&(t===null||zo.current!==null||t.memoizedState!==null)&&(kr=e)}function Mp(e){Te(Ve,Ve.current),Te(gr,e),kr===null&&(kr=e)}function vE(e){e.tag===22?(Te(Ve,Ve.current),Te(gr,e),kr===null&&(kr=e)):ma()}function ma(){Te(Ve,Ve.current),Te(gr,gr.current)}function nr(e){pt(gr),kr===e&&(kr=null),pt(Ve)}var Ve=dn(0);function Yc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Qp(r)||eg(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zn=0,re=null,_e=null,Xe=null,Xc=!1,Co=!1,Si=!1,Zc=0,bs=0,Ao=null,FM=0;function Ue(){throw Error(B(321))}function Kv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pr(e[r],t[r]))return!1;return!0}function Gv(e,t,r,n,a,i){return zn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?FE:ay,Si=!1,i=r(n,a),Si=!1,Co&&(i=bE(t,r,n,a)),yE(e),i}function yE(e){Q.H=xs;var t=_e!==null&&_e.next!==null;if(zn=0,Xe=_e=re=null,Xc=!1,bs=0,Ao=null,t)throw Error(B(300));e===null||Qe||(e=e.dependencies,e!==null&&Kc(e)&&(Qe=!0))}function bE(e,t,r,n){re=e;var a=0;do{if(Co&&(Ao=null),bs=0,Co=!1,25<=a)throw Error(B(301));if(a+=1,Xe=_e=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Q.H=YE,i=t(r,n)}while(Co);return i}function YM(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?Qs(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(re.flags|=1024),t}function Fv(){var e=Zc!==0;return Zc=0,e}function Yv(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Xv(e){if(Xc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xc=!1}zn=0,Xe=_e=re=null,Co=!1,bs=Zc=0,Ao=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ke(){if(_e===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Xe===null?re.memoizedState:Xe.next;if(t!==null)Xe=t,_e=e;else{if(e===null)throw re.alternate===null?Error(B(467)):Error(B(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(e){var t=bs;return bs+=1,Ao===null&&(Ao=[]),e=fE(Ao,e,t),t=re,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?FE:ay),e}function Ef(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qs(e);if(e.$$typeof===En)return Et(e)}throw Error(B(438,String(e)))}function Zv(e){var t=null,r=re.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=re.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=jf(),re.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=MR;return t.index++,r}function Bn(e,t){return typeof t=="function"?t(e):t}function jc(e){var t=Ke();return Jv(t,_e,e)}function Jv(e,t,r){var n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var l=o=null,s=null,c=t,d=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(se&f)===f:(zn&f)===f){var h=c.revertLane;if(h===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Do&&(d=!0);else if((zn&h)===h){c=c.next,h===Do&&(d=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},s===null?(l=s=f,o=i):s=s.next=f,re.lanes|=h,Ia|=h;f=c.action,Si&&r(i,f),i=c.hasEagerState?c.eagerState:r(i,f)}else h={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},s===null?(l=s=h,o=i):s=s.next=h,re.lanes|=f,Ia|=f;c=c.next}while(c!==null&&c!==t);if(s===null?o=i:s.next=l,!pr(i,e.memoizedState)&&(Qe=!0,d&&(r=Eo,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=s,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function lm(e){var t=Ke(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pr(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function xE(e,t,r){var n=re,a=Ke(),i=de;if(i){if(r===void 0)throw Error(B(407));r=r()}else r=t();var o=!pr((_e||a).memoizedState,r);if(o&&(a.memoizedState=r,Qe=!0),a=a.queue,Qv(SE.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Bo(9,{destroy:void 0},_E.bind(null,n,a,r,t),null),je===null)throw Error(B(349));i||zn&127||wE(n,t,r)}return r}function wE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=re.updateQueue,t===null?(t=jf(),re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _E(e,t,r,n){t.value=r,t.getSnapshot=n,jE(t)&&EE(e)}function SE(e,t,r){return r(function(){jE(t)&&EE(e)})}function jE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pr(e,r)}catch{return!0}}function EE(e){var t=zi(e,2);t!==null&&Ft(t,e,2)}function Dp(e){var t=Nt();if(typeof e=="function"){var r=e;if(e=r(),Si){ya(!0);try{r()}finally{ya(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function OE(e,t,r,n){return e.baseState=r,Jv(e,_e,typeof n=="function"?n:Bn)}function XM(e,t,r,n,a){if(Cf(e))throw Error(B(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Q.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,CE(t,i)):(i.next=r.next,t.pending=r.next=i)}}function CE(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=Q.T,o={};Q.T=o;try{var l=r(a,n),s=Q.S;s!==null&&s(o,l),ax(e,t,l)}catch(c){zp(e,t,c)}finally{i!==null&&o.types!==null&&(i.types=o.types),Q.T=i}}else try{i=r(a,n),ax(e,t,i)}catch(c){zp(e,t,c)}}function ax(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){ix(e,t,n)},function(n){return zp(e,t,n)}):ix(e,t,r)}function ix(e,t,r){t.status="fulfilled",t.value=r,AE(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,CE(e,r)))}function zp(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,AE(t),t=t.next;while(t!==n)}e.action=null}function AE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function TE(e,t){return t}function ox(e,t){if(de){var r=je.formState;if(r!==null){e:{var n=re;if(de){if(Ne){t:{for(var a=Ne,i=Ar;a.nodeType!==8;){if(!i){a=null;break t}if(a=Pr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ne=Pr(a.nextSibling),n=a.data==="F!";break e}}za(n)}n=!1}n&&(t=r[0])}}return r=Nt(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TE,lastRenderedState:t},r.queue=n,r=VE.bind(null,re,n),n.dispatch=r,n=Dp(!1),i=ny.bind(null,re,!1,n.queue),n=Nt(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=XM.bind(null,re,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function lx(e){var t=Ke();return kE(t,_e,e)}function kE(e,t,r){if(t=Jv(e,t,TE)[0],e=jc(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Qs(t)}catch(o){throw o===ol?Sf:o}else n=t;t=Ke();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(re.flags|=2048,Bo(9,{destroy:void 0},ZM.bind(null,a,r),null)),[n,i,e]}function ZM(e,t){e.action=t}function sx(e){var t=Ke(),r=_e;if(r!==null)return kE(t,r,e);Ke(),t=t.memoizedState,r=Ke();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Bo(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=re.updateQueue,t===null&&(t=jf(),re.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function PE(){return Ke().memoizedState}function Ec(e,t,r,n){var a=Nt();re.flags|=e,a.memoizedState=Bo(1|t,{destroy:void 0},r,n===void 0?null:n)}function Of(e,t,r,n){var a=Ke();n=n===void 0?null:n;var i=a.memoizedState.inst;_e!==null&&n!==null&&Kv(n,_e.memoizedState.deps)?a.memoizedState=Bo(t,i,r,n):(re.flags|=e,a.memoizedState=Bo(1|t,i,r,n))}function ux(e,t){Ec(8390656,8,e,t)}function Qv(e,t){Of(2048,8,e,t)}function JM(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=jf(),re.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function NE(e){var t=Ke().memoizedState;return JM({ref:t,nextImpl:e}),function(){if(me&2)throw Error(B(440));return t.impl.apply(void 0,arguments)}}function RE(e,t){return Of(4,2,e,t)}function ME(e,t){return Of(4,4,e,t)}function DE(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zE(e,t,r){r=r!=null?r.concat([e]):null,Of(4,4,DE.bind(null,t,e),r)}function ey(){}function BE(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&Kv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function IE(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&Kv(t,n[1]))return n[0];if(n=e(),Si){ya(!0);try{e()}finally{ya(!1)}}return r.memoizedState=[n,t],n}function ty(e,t,r){return r===void 0||zn&1073741824&&!(se&261930)?e.memoizedState=t:(e.memoizedState=r,e=OO(),re.lanes|=e,Ia|=e,r)}function $E(e,t,r,n){return pr(r,t)?r:zo.current!==null?(e=ty(e,r,n),pr(e,t)||(Qe=!0),e):!(zn&42)||zn&1073741824&&!(se&261930)?(Qe=!0,e.memoizedState=r):(e=OO(),re.lanes|=e,Ia|=e,t)}function LE(e,t,r,n,a){var i=pe.p;pe.p=i!==0&&8>i?i:8;var o=Q.T,l={};Q.T=l,ny(e,!1,t,r);try{var s=a(),c=Q.S;if(c!==null&&c(l,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var d=GM(s,n);rs(e,t,d,hr(e))}else rs(e,t,n,hr(e))}catch(f){rs(e,t,{then:function(){},status:"rejected",reason:f},hr())}finally{pe.p=i,o!==null&&l.types!==null&&(o.types=l.types),Q.T=o}}function QM(){}function Bp(e,t,r,n){if(e.tag!==5)throw Error(B(476));var a=UE(e).queue;LE(e,a,t,di,r===null?QM:function(){return qE(e),r(n)})}function UE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:di,baseState:di,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:di},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qE(e){var t=UE(e);t.next===null&&(t=e.alternate.memoizedState),rs(e,t.next.queue,{},hr())}function ry(){return Et(Ss)}function HE(){return Ke().memoizedState}function WE(){return Ke().memoizedState}function eD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hr();e=Ca(r);var n=Aa(t,e,r);n!==null&&(Ft(n,t,r),Ql(n,t,r)),t={cache:Uv()},e.payload=t;return}t=t.return}}function tD(e,t,r){var n=hr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Cf(e)?KE(t,r):(r=Bv(e,t,r,n),r!==null&&(Ft(r,e,n),GE(r,t,n)))}function VE(e,t,r){var n=hr();rs(e,t,r,n)}function rs(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cf(e))KE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,pr(l,o))return _f(e,t,a,0),je===null&&wf(),!1}catch{}finally{}if(r=Bv(e,t,a,n),r!==null)return Ft(r,e,n),GE(r,t,n),!0}return!1}function ny(e,t,r,n){if(n={lane:2,revertLane:fy(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Cf(e)){if(t)throw Error(B(479))}else t=Bv(e,r,n,2),t!==null&&Ft(t,e,2)}function Cf(e){var t=e.alternate;return e===re||t!==null&&t===re}function KE(e,t){Co=Xc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function GE(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nj(e,r)}}var xs={readContext:Et,use:Ef,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};xs.useEffectEvent=Ue;var FE={readContext:Et,use:Ef,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:ux,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Ec(4194308,4,DE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ec(4194308,4,e,t)},useInsertionEffect:function(e,t){Ec(4,2,e,t)},useMemo:function(e,t){var r=Nt();t=t===void 0?null:t;var n=e();if(Si){ya(!0);try{e()}finally{ya(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Nt();if(r!==void 0){var a=r(t);if(Si){ya(!0);try{r(t)}finally{ya(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=tD.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=Dp(e);var t=e.queue,r=VE.bind(null,re,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ey,useDeferredValue:function(e,t){var r=Nt();return ty(r,e,t)},useTransition:function(){var e=Dp(!1);return e=LE.bind(null,re,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=re,a=Nt();if(de){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),je===null)throw Error(B(349));se&127||wE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,ux(SE.bind(null,n,i,e),[e]),n.flags|=2048,Bo(9,{destroy:void 0},_E.bind(null,n,i,r,t),null),r},useId:function(){var e=Nt(),t=je.identifierPrefix;if(de){var r=rn,n=tn;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Zc++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=FM++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ry,useFormState:ox,useActionState:ox,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=ny.bind(null,re,!0,r),r.dispatch=t,[e,t]},useMemoCache:Zv,useCacheRefresh:function(){return Nt().memoizedState=eD.bind(null,re)},useEffectEvent:function(e){var t=Nt(),r={impl:e};return t.memoizedState=r,function(){if(me&2)throw Error(B(440));return r.impl.apply(void 0,arguments)}}},ay={readContext:Et,use:Ef,useCallback:BE,useContext:Et,useEffect:Qv,useImperativeHandle:zE,useInsertionEffect:RE,useLayoutEffect:ME,useMemo:IE,useReducer:jc,useRef:PE,useState:function(){return jc(Bn)},useDebugValue:ey,useDeferredValue:function(e,t){var r=Ke();return $E(r,_e.memoizedState,e,t)},useTransition:function(){var e=jc(Bn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:xE,useId:HE,useHostTransitionStatus:ry,useFormState:lx,useActionState:lx,useOptimistic:function(e,t){var r=Ke();return OE(r,_e,e,t)},useMemoCache:Zv,useCacheRefresh:WE};ay.useEffectEvent=NE;var YE={readContext:Et,use:Ef,useCallback:BE,useContext:Et,useEffect:Qv,useImperativeHandle:zE,useInsertionEffect:RE,useLayoutEffect:ME,useMemo:IE,useReducer:lm,useRef:PE,useState:function(){return lm(Bn)},useDebugValue:ey,useDeferredValue:function(e,t){var r=Ke();return _e===null?ty(r,e,t):$E(r,_e.memoizedState,e,t)},useTransition:function(){var e=lm(Bn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:xE,useId:HE,useHostTransitionStatus:ry,useFormState:sx,useActionState:sx,useOptimistic:function(e,t){var r=Ke();return _e!==null?OE(r,_e,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Zv,useCacheRefresh:WE};YE.useEffectEvent=NE;function sm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ip={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Ca(n);a.payload=t,r!=null&&(a.callback=r),t=Aa(e,a,n),t!==null&&(Ft(t,e,n),Ql(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Ca(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Aa(e,a,n),t!==null&&(Ft(t,e,n),Ql(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Ca(r);n.tag=2,t!=null&&(n.callback=t),t=Aa(e,n,r),t!==null&&(Ft(t,e,r),Ql(t,e,r))}};function cx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ps(r,n)||!ps(a,i):!0}function dx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ip.enqueueReplaceState(t,t.state,null)}function ji(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Me({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function XE(e){Hc(e)}function ZE(e){console.error(e)}function JE(e){Hc(e)}function Jc(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function fx(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function $p(e,t,r){return r=Ca(r),r.tag=3,r.payload={element:null},r.callback=function(){Jc(e,t)},r}function QE(e){return e=Ca(e),e.tag=3,e}function eO(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){fx(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){fx(t,r,n),typeof a!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function rD(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&il(t,r,a,!0),r=gr.current,r!==null){switch(r.tag){case 31:case 13:return kr===null?nd():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Gc?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),bm(e,n,a)),!1;case 22:return r.flags|=65536,n===Gc?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),bm(e,n,a)),!1}throw Error(B(435,r.tag))}return bm(e,n,a),nd(),!1}if(de)return t=gr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Op&&(e=Error(B(422),{cause:n}),vs(Cr(e,r)))):(n!==Op&&(t=Error(B(423),{cause:n}),vs(Cr(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Cr(n,r),a=$p(e.stateNode,n,a),om(e,a),He!==4&&(He=2)),!1;var i=Error(B(520),{cause:n});if(i=Cr(i,r),is===null?is=[i]:is.push(i),He!==4&&(He=2),t===null)return!0;n=Cr(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=$p(r.stateNode,n,e),om(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ta===null||!Ta.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=QE(a),eO(a,e,r,n),om(r,a),!1}r=r.return}while(r!==null);return!1}var iy=Error(B(461)),Qe=!1;function xt(e,t,r,n){t.child=e===null?mE(t,null,r,n):_i(t,e.child,r,n)}function hx(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}else o=n;return wi(t),n=Gv(e,t,r,o,i,a),l=Fv(),e!==null&&!Qe?(Yv(e,t,a),In(e,t,a)):(de&&l&&$v(t),t.flags|=1,xt(e,t,n,a),t.child)}function mx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Iv(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,tO(e,t,i,n,a)):(e=_c(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!oy(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ps,r(o,n)&&e.ref===t.ref)return In(e,t,a)}return t.flags|=1,e=kn(i,n),e.ref=t.ref,e.return=t,t.child=e}function tO(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ps(i,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=i,oy(e,a))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,In(e,t,a)}return Lp(e,t,r,n,a)}function rO(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return px(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sc(t,i!==null?i.cachePool:null),i!==null?nx(t,i):Rp(),vE(t);else return n=t.lanes=536870912,px(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(Sc(t,i.cachePool),nx(t,i),ma(),t.memoizedState=null):(e!==null&&Sc(t,null),Rp(),ma());return xt(e,t,a,r),t.child}function Hl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function px(e,t,r,n,a){var i=qv();return i=i===null?null:{parent:Je._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&Sc(t,null),Rp(),vE(t),e!==null&&il(e,t,n,!0),t.childLanes=a,null}function Oc(e,t){return t=Qc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function gx(e,t,r){return _i(t,e.child,null,r),e=Oc(t,t.pendingProps),e.flags|=2,nr(t),t.memoizedState=null,e}function nD(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(n.mode==="hidden")return e=Oc(t,n),t.lanes=536870912,Hl(null,e);if(Mp(t),(e=Ne)?(e=FO(e,Ar),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Da!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=lE(e),r.return=t,t.child=r,jt=t,Ne=null)):e=null,e===null)throw za(t);return t.lanes=536870912,null}return Oc(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Mp(t),a)if(t.flags&256)t.flags&=-257,t=gx(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(B(558));else if(Qe||il(e,t,r,!1),a=(r&e.childLanes)!==0,Qe||a){if(n=je,n!==null&&(o=Rj(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,zi(e,o),Ft(n,e,o),iy;nd(),t=gx(e,t,r)}else e=i.treeContext,Ne=Pr(o.nextSibling),jt=t,de=!0,Oa=null,Ar=!1,e!==null&&uE(t,e),t=Oc(t,n),t.flags|=4096;return t}return e=kn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Cc(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(B(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Lp(e,t,r,n,a){return wi(t),r=Gv(e,t,r,n,void 0,a),n=Fv(),e!==null&&!Qe?(Yv(e,t,a),In(e,t,a)):(de&&n&&$v(t),t.flags|=1,xt(e,t,r,a),t.child)}function vx(e,t,r,n,a,i){return wi(t),t.updateQueue=null,r=bE(t,n,r,a),yE(e),n=Fv(),e!==null&&!Qe?(Yv(e,t,i),In(e,t,i)):(de&&n&&$v(t),t.flags|=1,xt(e,t,r,i),t.child)}function yx(e,t,r,n,a){if(wi(t),t.stateNode===null){var i=go,o=r.contextType;typeof o=="object"&&o!==null&&(i=Et(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ip,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Wv(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Et(o):go,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(sm(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Ip.enqueueReplaceState(i,i.state,null),ts(t,n,i,a),es(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,s=ji(r,l);i.props=s;var c=i.context,d=r.contextType;o=go,typeof d=="object"&&d!==null&&(o=Et(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||c!==o)&&dx(t,i,n,o),ua=!1;var h=t.memoizedState;i.state=h,ts(t,n,i,a),es(),c=t.memoizedState,l||h!==c||ua?(typeof f=="function"&&(sm(t,r,f,n),c=t.memoizedState),(s=ua||cx(t,r,s,n,h,c,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=o,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Pp(e,t),o=t.memoizedProps,d=ji(r,o),i.props=d,f=t.pendingProps,h=i.context,c=r.contextType,s=go,typeof c=="object"&&c!==null&&(s=Et(c)),l=r.getDerivedStateFromProps,(c=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==s)&&dx(t,i,n,s),ua=!1,h=t.memoizedState,i.state=h,ts(t,n,i,a),es();var m=t.memoizedState;o!==f||h!==m||ua||e!==null&&e.dependencies!==null&&Kc(e.dependencies)?(typeof l=="function"&&(sm(t,r,l,n),m=t.memoizedState),(d=ua||cx(t,r,d,n,h,m,s)||e!==null&&e.dependencies!==null&&Kc(e.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=s,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Cc(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=_i(t,e.child,null,a),t.child=_i(t,null,r,a)):xt(e,t,r,a),t.memoizedState=i.state,e=t.child):e=In(e,t,a),e}function bx(e,t,r,n){return xi(),t.flags|=256,xt(e,t,r,n),t.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(e){return{baseLanes:e,cachePool:dE()}}function dm(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=sr),e}function nO(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(a?ha(t):ma(),(e=Ne)?(e=FO(e,Ar),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Da!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=lE(e),r.return=t,t.child=r,jt=t,Ne=null)):e=null,e===null)throw za(t);return eg(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,a?(ma(),a=t.mode,l=Qc({mode:"hidden",children:l},a),n=fi(n,a,r,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=cm(r),n.childLanes=dm(e,o,r),t.memoizedState=um,Hl(null,n)):(ha(t),Up(t,l))}var s=e.memoizedState;if(s!==null&&(l=s.dehydrated,l!==null)){if(i)t.flags&256?(ha(t),t.flags&=-257,t=fm(e,t,r)):t.memoizedState!==null?(ma(),t.child=e.child,t.flags|=128,t=null):(ma(),l=n.fallback,a=t.mode,n=Qc({mode:"visible",children:n.children},a),l=fi(l,a,r,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,_i(t,e.child,null,r),n=t.child,n.memoizedState=cm(r),n.childLanes=dm(e,o,r),t.memoizedState=um,t=Hl(null,n));else if(ha(t),eg(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var c=o.dgst;o=c,n=Error(B(419)),n.stack="",n.digest=o,vs({value:n,source:null,stack:null}),t=fm(e,t,r)}else if(Qe||il(e,t,r,!1),o=(r&e.childLanes)!==0,Qe||o){if(o=je,o!==null&&(n=Rj(o,r),n!==0&&n!==s.retryLane))throw s.retryLane=n,zi(e,n),Ft(o,e,n),iy;Qp(l)||nd(),t=fm(e,t,r)}else Qp(l)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,Ne=Pr(l.nextSibling),jt=t,de=!0,Oa=null,Ar=!1,e!==null&&uE(t,e),t=Up(t,n.children),t.flags|=4096);return t}return a?(ma(),l=n.fallback,a=t.mode,s=e.child,c=s.sibling,n=kn(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,c!==null?l=kn(c,l):(l=fi(l,a,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,Hl(null,n),n=t.child,l=e.child.memoizedState,l===null?l=cm(r):(a=l.cachePool,a!==null?(s=Je._currentValue,a=a.parent!==s?{parent:s,pool:s}:a):a=dE(),l={baseLanes:l.baseLanes|r,cachePool:a}),n.memoizedState=l,n.childLanes=dm(e,o,r),t.memoizedState=um,Hl(e.child,n)):(ha(t),r=e.child,e=r.sibling,r=kn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function Up(e,t){return t=Qc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Qc(e,t){return e=ar(22,e,null,t),e.lanes=0,e}function fm(e,t,r){return _i(t,e.child,null,r),e=Up(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ap(e.return,t,r)}function hm(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function aO(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Ve.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,Te(Ve,o),xt(e,t,n,r),n=de?gs:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xx(e,r,t);else if(e.tag===19)xx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Yc(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),hm(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Yc(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}hm(t,!0,r,null,i,n);break;case"together":hm(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function In(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,!(r&t.childLanes))if(e!==null){if(il(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function oy(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Kc(e)))}function aD(e,t,r){switch(t.tag){case 3:$c(t,t.stateNode.containerInfo),fa(t,Je,e.memoizedState.cache),xi();break;case 27:case 5:pp(t);break;case 4:$c(t,t.stateNode.containerInfo);break;case 10:fa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Mp(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ha(t),t.flags|=128,null):r&t.child.childLanes?nO(e,t,r):(ha(t),e=In(e,t,r),e!==null?e.sibling:null);ha(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(il(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return aO(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Te(Ve,Ve.current),n)break;return null;case 22:return t.lanes=0,rO(e,t,r,t.pendingProps);case 24:fa(t,Je,e.memoizedState.cache)}return In(e,t,r)}function iO(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!oy(e,r)&&!(t.flags&128))return Qe=!1,aD(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,de&&t.flags&1048576&&sE(t,gs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Ja(t.elementType),t.type=e,typeof e=="function")Iv(e)?(n=ji(e,n),t.tag=1,t=yx(null,t,e,n,r)):(t.tag=0,t=Lp(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===jv){t.tag=11,t=hx(null,t,e,n,r);break e}else if(a===Ev){t.tag=14,t=mx(null,t,e,n,r);break e}}throw t=hp(e)||e,Error(B(306,t,""))}}return t;case 0:return Lp(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=ji(n,t.pendingProps),yx(e,t,n,a,r);case 3:e:{if($c(t,t.stateNode.containerInfo),e===null)throw Error(B(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,Pp(e,t),ts(t,n,null,r);var o=t.memoizedState;if(n=o.cache,fa(t,Je,n),n!==i.cache&&Tp(t,[Je],r,!0),es(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=bx(e,t,n,r);break e}else if(n!==a){a=Cr(Error(B(424)),t),vs(a),t=bx(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=Pr(e.firstChild),jt=t,de=!0,Oa=null,Ar=!0,r=mE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(xi(),n===a){t=In(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 26:return Cc(e,t),e===null?(r=Lx(t.type,null,t.pendingProps,null))?t.memoizedState=r:de||(r=t.type,e=t.pendingProps,n=ld(Ea.current).createElement(r),n[St]=t,n[Yt]=e,Ct(n,r,e),mt(n),t.stateNode=n):t.memoizedState=Lx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pp(t),e===null&&de&&(n=t.stateNode=YO(t.type,t.pendingProps,Ea.current),jt=t,Ar=!0,a=Ne,Ua(t.type)?(tg=a,Ne=Pr(n.firstChild)):Ne=a),xt(e,t,t.pendingProps.children,r),Cc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((a=n=Ne)&&(n=MD(n,t.type,t.pendingProps,Ar),n!==null?(t.stateNode=n,jt=t,Ne=Pr(n.firstChild),Ar=!1,a=!0):a=!1),a||za(t)),pp(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,Zp(a,i)?n=null:o!==null&&Zp(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=Gv(e,t,YM,null,null,r),Ss._currentValue=a),Cc(e,t),xt(e,t,n,r),t.child;case 6:return e===null&&de&&((e=r=Ne)&&(r=DD(r,t.pendingProps,Ar),r!==null?(t.stateNode=r,jt=t,Ne=null,e=!0):e=!1),e||za(t)),null;case 13:return nO(e,t,r);case 4:return $c(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_i(t,null,n,r):xt(e,t,n,r),t.child;case 11:return hx(e,t,t.type,t.pendingProps,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,fa(t,t.type,n.value),xt(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,wi(t),a=Et(a),n=n(a),t.flags|=1,xt(e,t,n,r),t.child;case 14:return mx(e,t,t.type,t.pendingProps,r);case 15:return tO(e,t,t.type,t.pendingProps,r);case 19:return aO(e,t,r);case 31:return nD(e,t,r);case 22:return rO(e,t,r,t.pendingProps);case 24:return wi(t),n=Et(Je),e===null?(a=qv(),a===null&&(a=je,i=Uv(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},Wv(t),fa(t,Je,a)):(e.lanes&r&&(Pp(e,t),ts(t,null,null,r),es()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),fa(t,Je,n)):(n=i.cache,fa(t,Je,n),n!==a.cache&&Tp(t,[Je],r,!0))),xt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(B(156,t.tag))}function mn(e){e.flags|=4}function mm(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(TO())e.flags|=8192;else throw mi=Gc,Hv}else e.flags&=-16777217}function wx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!JO(t))if(TO())e.flags|=8192;else throw mi=Gc,Hv}function $u(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?kj():536870912,e.lanes|=t,Io|=t)}function Tl(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function iD(e,t,r){var n=t.pendingProps;switch(Lv(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pn(Je),No(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,im())),ke(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(mn(t),i!==null?(ke(t),wx(t,i)):(ke(t),mm(t,a,null,n,r))):i?i!==e.memoizedState?(mn(t),ke(t),wx(t,i)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&mn(t),ke(t),mm(t,a,e,n,r)),null;case 27:if(Lc(t),r=Ea.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(B(166));return ke(t),null}e=on.current,Vi(t)?Xb(t):(e=YO(a,n,r),t.stateNode=e,mn(t))}return ke(t),null;case 5:if(Lc(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(B(166));return ke(t),null}if(i=on.current,Vi(t))Xb(t);else{var o=ld(Ea.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[St]=t,i[Yt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ct(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&mn(t)}}return ke(t),mm(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(e=Ea.current,Vi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=jt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[St]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||VO(e.nodeValue,r)),e||za(t,!0)}else e=ld(e).createTextNode(n),e[St]=t,t.stateNode=e}return ke(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Vi(t),r!==null){if(e===null){if(!n)throw Error(B(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(557));e[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else r=im(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(nr(t),t):(nr(t),null);if(t.flags&128)throw Error(B(558))}return ke(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Vi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),a=!1}else a=im(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(nr(t),t):(nr(t),null)}return nr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),$u(t,t.updateQueue),ke(t),null);case 4:return No(),e===null&&hy(t.stateNode.containerInfo),ke(t),null;case 10:return Pn(t.type),ke(t),null;case 19:if(pt(Ve),n=t.memoizedState,n===null)return ke(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Tl(n,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Yc(e),i!==null){for(t.flags|=128,Tl(n,!1),e=i.updateQueue,t.updateQueue=e,$u(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)oE(r,e),r=r.sibling;return Te(Ve,Ve.current&1|2),de&&xn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&cr()>td&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304)}else{if(!a)if(e=Yc(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,$u(t,e),Tl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!de)return ke(t),null}else 2*cr()-n.renderingStartTime>td&&r!==536870912&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=cr(),e.sibling=null,r=Ve.current,Te(Ve,a?r&1|2:r&1),de&&xn(t,n.treeForkCount),e):(ke(t),null);case 22:case 23:return nr(t),Vv(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),r=t.updateQueue,r!==null&&$u(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&pt(hi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Pn(Je),ke(t),null;case 25:return null;case 30:return null}throw Error(B(156,t.tag))}function oD(e,t){switch(Lv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(Je),No(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Lc(t),null;case 31:if(t.memoizedState!==null){if(nr(t),t.alternate===null)throw Error(B(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(Ve),null;case 4:return No(),null;case 10:return Pn(t.type),null;case 22:case 23:return nr(t),Vv(),e!==null&&pt(hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pn(Je),null;case 25:return null;default:return null}}function oO(e,t){switch(Lv(t),t.tag){case 3:Pn(Je),No();break;case 26:case 27:case 5:Lc(t);break;case 4:No();break;case 31:t.memoizedState!==null&&nr(t);break;case 13:nr(t);break;case 19:pt(Ve);break;case 10:Pn(t.type);break;case 22:case 23:nr(t),Vv(),e!==null&&pt(hi);break;case 24:Pn(Je)}}function eu(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(l){be(t,t.return,l)}}function Ba(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,a=t;var s=r,c=l;try{c()}catch(d){be(a,s,d)}}}n=n.next}while(n!==i)}}catch(d){be(t,t.return,d)}}function lO(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{gE(t,r)}catch(n){be(e,e.return,n)}}}function sO(e,t,r){r.props=ji(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){be(e,t,n)}}function ns(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){be(e,t,a)}}function nn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){be(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){be(e,t,a)}else r.current=null}function uO(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){be(e,e.return,a)}}function pm(e,t,r){try{var n=e.stateNode;AD(n,e.type,r,t),n[Yt]=t}catch(a){be(e,e.return,a)}}function cO(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function gm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=On));else if(n!==4&&(n===27&&Ua(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(qp(e,t,r),e=e.sibling;e!==null;)qp(e,t,r),e=e.sibling}function ed(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&Ua(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ed(e,t,r),e=e.sibling;e!==null;)ed(e,t,r),e=e.sibling}function dO(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ct(t,n,r),t[St]=e,t[Yt]=r}catch(i){be(e,e.return,i)}}var _n=!1,Ze=!1,vm=!1,_x=typeof WeakSet=="function"?WeakSet:Set,ht=null;function lD(e,t){if(e=e.containerInfo,Yp=dd,e=Jj(e),Dv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,s=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(s=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===a&&(l=o),h===i&&++d===n&&(s=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||s===-1?null:{start:l,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xp={focusedElem:e,selectionRange:r},dd=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var g=ji(r.type,a);e=n.getSnapshotBeforeUpdate(g,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(b){be(r,r.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Jp(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(B(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function fO(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:gn(e,r),n&4&&eu(5,r);break;case 1:if(gn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){be(r,r.return,o)}else{var a=ji(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){be(r,r.return,o)}}n&64&&lO(r),n&512&&ns(r,r.return);break;case 3:if(gn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{gE(e,t)}catch(o){be(r,r.return,o)}}break;case 27:t===null&&n&4&&dO(r);case 26:case 5:gn(e,r),t===null&&n&4&&uO(r),n&512&&ns(r,r.return);break;case 12:gn(e,r);break;case 31:gn(e,r),n&4&&pO(e,r);break;case 13:gn(e,r),n&4&&gO(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=gD.bind(null,r),zD(e,r))));break;case 22:if(n=r.memoizedState!==null||_n,!n){t=t!==null&&t.memoizedState!==null||Ze,a=_n;var i=Ze;_n=n,(Ze=t)&&!i?vn(e,r,(r.subtreeFlags&8772)!==0):gn(e,r),_n=a,Ze=i}break;case 30:break;default:gn(e,r)}}function hO(e){var t=e.alternate;t!==null&&(e.alternate=null,hO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,Wt=!1;function pn(e,t,r){for(r=r.child;r!==null;)mO(e,t,r),r=r.sibling}function mO(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Gs,r)}catch{}switch(r.tag){case 26:Ze||nn(r,t),pn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||nn(r,t);var n=ze,a=Wt;Ua(r.type)&&(ze=r.stateNode,Wt=!1),pn(e,t,r),ls(r.stateNode),ze=n,Wt=a;break;case 5:Ze||nn(r,t);case 6:if(n=ze,a=Wt,ze=null,pn(e,t,r),ze=n,Wt=a,ze!==null)if(Wt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(r.stateNode)}catch(i){be(r,t,i)}else try{ze.removeChild(r.stateNode)}catch(i){be(r,t,i)}break;case 18:ze!==null&&(Wt?(e=ze,Dx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),qo(e)):Dx(ze,r.stateNode));break;case 4:n=ze,a=Wt,ze=r.stateNode.containerInfo,Wt=!0,pn(e,t,r),ze=n,Wt=a;break;case 0:case 11:case 14:case 15:Ba(2,r,t),Ze||Ba(4,r,t),pn(e,t,r);break;case 1:Ze||(nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&sO(r,t,n)),pn(e,t,r);break;case 21:pn(e,t,r);break;case 22:Ze=(n=Ze)||r.memoizedState!==null,pn(e,t,r),Ze=n;break;default:pn(e,t,r)}}function pO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qo(e)}catch(r){be(t,t.return,r)}}}function gO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qo(e)}catch(r){be(t,t.return,r)}}function sD(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _x),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _x),t;default:throw Error(B(435,e.tag))}}function Lu(e,t){var r=sD(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=vD.bind(null,e,n);n.then(a,a)}})}function qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(Ua(l.type)){ze=l.stateNode,Wt=!1;break e}break;case 5:ze=l.stateNode,Wt=!1;break e;case 3:case 4:ze=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(ze===null)throw Error(B(160));mO(i,o,a),ze=null,Wt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vO(t,e),t=t.sibling}var qr=null;function vO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Ht(e),n&4&&(Ba(3,e,e.return),eu(3,e),Ba(5,e,e.return));break;case 1:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&64&&_n&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=qr;if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Xs]||i[St]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ct(i,n,r),i[St]=e,mt(i),n=i;break e;case"link":var o=qx("link","href",a).get(n+(r.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;case"meta":if(o=qx("meta","content",a).get(n+(r.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;default:throw Error(B(468,n))}i[St]=e,mt(i),n=i}e.stateNode=n}else Hx(a,e.type,e.stateNode);else e.stateNode=Ux(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Hx(a,e.type,e.stateNode):Ux(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&pm(e,e.memoizedProps,r.memoizedProps)}break;case 27:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),r!==null&&n&4&&pm(e,e.memoizedProps,r.memoizedProps);break;case 5:if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),e.flags&32){a=e.stateNode;try{Mo(a,"")}catch(g){be(e,e.return,g)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,pm(e,a,r!==null?r.memoizedProps:a)),n&1024&&(vm=!0);break;case 6:if(qt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(B(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(g){be(e,e.return,g)}}break;case 3:if(kc=null,a=qr,qr=sd(t.containerInfo),qt(t,e),qr=a,Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qo(t.containerInfo)}catch(g){be(e,e.return,g)}vm&&(vm=!1,yO(e));break;case 4:n=qr,qr=sd(e.stateNode.containerInfo),qt(t,e),Ht(e),qr=n;break;case 12:qt(t,e),Ht(e);break;case 31:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lu(e,n)));break;case 13:qt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Af=cr()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lu(e,n)));break;case 22:a=e.memoizedState!==null;var s=r!==null&&r.memoizedState!==null,c=_n,d=Ze;if(_n=c||a,Ze=d||s,qt(t,e),Ze=d,_n=c,Ht(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||s||_n||Ze||Qa(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){s=r=t;try{if(i=s.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=s.stateNode;var f=s.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){be(s,s.return,g)}}}else if(t.tag===6){if(r===null){s=t;try{s.stateNode.nodeValue=a?"":s.memoizedProps}catch(g){be(s,s.return,g)}}}else if(t.tag===18){if(r===null){s=t;try{var m=s.stateNode;a?zx(m,!0):zx(s.stateNode,!1)}catch(g){be(s,s.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Lu(e,r))));break;case 19:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lu(e,n)));break;case 30:break;case 21:break;default:qt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(cO(n)){r=n;break}n=n.return}if(r==null)throw Error(B(160));switch(r.tag){case 27:var a=r.stateNode,i=gm(e);ed(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(Mo(o,""),r.flags&=-33);var l=gm(e);ed(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,c=gm(e);qp(e,c,s);break;default:throw Error(B(161))}}catch(d){be(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yO(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yO(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fO(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),Qa(t);break;case 1:nn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&sO(t,t.return,r),Qa(t);break;case 27:ls(t.stateNode);case 26:case 5:nn(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function vn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:vn(a,i,r),eu(4,i);break;case 1:if(vn(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(c){be(n,n.return,c)}if(n=i,a=n.updateQueue,a!==null){var l=n.stateNode;try{var s=a.shared.hiddenCallbacks;if(s!==null)for(a.shared.hiddenCallbacks=null,a=0;a<s.length;a++)pE(s[a],l)}catch(c){be(n,n.return,c)}}r&&o&64&&lO(i),ns(i,i.return);break;case 27:dO(i);case 26:case 5:vn(a,i,r),r&&n===null&&o&4&&uO(i),ns(i,i.return);break;case 12:vn(a,i,r);break;case 31:vn(a,i,r),r&&o&4&&pO(a,i);break;case 13:vn(a,i,r),r&&o&4&&gO(a,i);break;case 22:i.memoizedState===null&&vn(a,i,r),ns(i,i.return);break;case 30:break;default:vn(a,i,r)}t=t.sibling}}function ly(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Js(r))}function sy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e))}function Ir(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bO(e,t,r,n),t=t.sibling}function bO(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ir(e,t,r,n),a&2048&&eu(9,t);break;case 1:Ir(e,t,r,n);break;case 3:Ir(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e)));break;case 12:if(a&2048){Ir(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){be(t,t.return,s)}}else Ir(e,t,r,n);break;case 31:Ir(e,t,r,n);break;case 13:Ir(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Ir(e,t,r,n):as(e,t):i._visibility&2?Ir(e,t,r,n):(i._visibility|=2,ro(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&ly(o,t);break;case 24:Ir(e,t,r,n),a&2048&&sy(t.alternate,t);break;default:Ir(e,t,r,n)}}function ro(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=r,s=n,c=o.flags;switch(o.tag){case 0:case 11:case 15:ro(i,o,l,s,a),eu(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?ro(i,o,l,s,a):as(i,o):(d._visibility|=2,ro(i,o,l,s,a)),a&&c&2048&&ly(o.alternate,o);break;case 24:ro(i,o,l,s,a),a&&c&2048&&sy(o.alternate,o);break;default:ro(i,o,l,s,a)}t=t.sibling}}function as(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:as(r,n),a&2048&&ly(n.alternate,n);break;case 24:as(r,n),a&2048&&sy(n.alternate,n);break;default:as(r,n)}t=t.sibling}}var Wl=8192;function Ki(e,t,r){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)xO(e,t,r),e=e.sibling}function xO(e,t,r){switch(e.tag){case 26:Ki(e,t,r),e.flags&Wl&&e.memoizedState!==null&&FD(r,qr,e.memoizedState,e.memoizedProps);break;case 5:Ki(e,t,r);break;case 3:case 4:var n=qr;qr=sd(e.stateNode.containerInfo),Ki(e,t,r),qr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Wl,Wl=16777216,Ki(e,t,r),Wl=n):Ki(e,t,r));break;default:Ki(e,t,r)}}function wO(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,SO(n,e)}wO(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_O(e),e=e.sibling}function _O(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&Ba(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ac(e)):kl(e);break;default:kl(e)}}function Ac(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,SO(n,e)}wO(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ba(8,t,t.return),Ac(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Ac(t));break;default:Ac(t)}e=e.sibling}}function SO(e,t){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:Ba(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Js(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ht=n;else e:for(r=e;ht!==null;){n=ht;var a=n.sibling,i=n.return;if(hO(n),n===r){ht=null;break e}if(a!==null){a.return=i,ht=a;break e}ht=i}}}var uD={getCacheForType:function(e){var t=Et(Je),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Et(Je).controller.signal}},cD=typeof WeakMap=="function"?WeakMap:Map,me=0,je=null,oe=null,se=0,ve=0,tr=null,xa=!1,ll=!1,uy=!1,$n=0,He=0,Ia=0,pi=0,cy=0,sr=0,Io=0,is=null,Vt=null,Hp=!1,Af=0,jO=0,td=1/0,rd=null,Ta=null,at=0,ka=null,$o=null,Nn=0,Wp=0,Vp=null,EO=null,os=0,Kp=null;function hr(){return me&2&&se!==0?se&-se:Q.T!==null?fy():Mj()}function OO(){if(sr===0)if(!(se&536870912)||de){var e=Nu;Nu<<=1,!(Nu&3932160)&&(Nu=262144),sr=e}else sr=536870912;return e=gr.current,e!==null&&(e.flags|=32),sr}function Ft(e,t,r){(e===je&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Lo(e,0),wa(e,se,sr,!1)),Ys(e,r),(!(me&2)||e!==je)&&(e===je&&(!(me&2)&&(pi|=r),He===4&&wa(e,se,sr,!1)),fn(e))}function CO(e,t,r){if(me&6)throw Error(B(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Fs(e,t),a=n?hD(e,t):ym(e,t,!0),i=n;do{if(a===0){ll&&!n&&wa(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!dD(r)){a=ym(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;a=is;var s=l.current.memoizedState.isDehydrated;if(s&&(Lo(l,o).flags|=256),o=ym(l,o,!1),o!==2){if(uy&&!s){l.errorRecoveryDisabledLanes|=i,pi|=i,a=4;break e}i=Vt,Vt=a,i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){Lo(e,0),wa(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(B(345));case 4:if((t&4194048)!==t)break;case 6:wa(n,t,sr,!xa);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(B(329))}if((t&62914560)===t&&(a=Af+300-cr(),10<a)){if(wa(n,t,sr,!xa),vf(n,0,!0)!==0)break e;Nn=t,n.timeoutHandle=GO(Sx.bind(null,n,r,Vt,rd,Hp,t,sr,pi,Io,xa,i,"Throttled",-0,0),a);break e}Sx(n,r,Vt,rd,Hp,t,sr,pi,Io,xa,i,null,-0,0)}}break}while(!0);fn(e)}function Sx(e,t,r,n,a,i,o,l,s,c,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},xO(t,i,f);var g=(i&62914560)===i?Af-cr():(i&4194048)===i?jO-cr():0;if(g=YD(f,g),g!==null){Nn=i,e.cancelPendingCommit=g(Ex.bind(null,e,t,i,r,n,a,o,l,s,d,f,null,h,m)),wa(e,i,o,!c);return}}Ex(e,t,i,r,n,a,o,l,s)}function dD(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wa(e,t,r,n){t&=~cy,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&Pj(e,r,t)}function Tf(){return me&6?!0:(tu(0),!1)}function dy(){if(oe!==null){if(ve===0)var e=oe.return;else e=oe,Cn=Bi=null,Xv(e),Oo=null,ys=0,e=oe;for(;e!==null;)oO(e.alternate,e),e=e.return;oe=null}}function Lo(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,PD(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Nn=0,dy(),je=e,oe=r=kn(e.current,null),se=t,ve=0,tr=null,xa=!1,ll=Fs(e,t),uy=!1,Io=sr=cy=pi=Ia=He=0,Vt=is=null,Hp=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-fr(n),i=1<<a;t|=e[a],n&=~i}return $n=t,wf(),r}function AO(e,t){re=null,Q.H=xs,t===ol||t===Sf?(t=tx(),ve=3):t===Hv?(t=tx(),ve=4):ve=t===iy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tr=t,oe===null&&(He=1,Jc(e,Cr(t,e.current)))}function TO(){var e=gr.current;return e===null?!0:(se&4194048)===se?kr===null:(se&62914560)===se||se&536870912?e===kr:!1}function kO(){var e=Q.H;return Q.H=xs,e===null?xs:e}function PO(){var e=Q.A;return Q.A=uD,e}function nd(){He=4,xa||(se&4194048)!==se&&gr.current!==null||(ll=!0),!(Ia&134217727)&&!(pi&134217727)||je===null||wa(je,se,sr,!1)}function ym(e,t,r){var n=me;me|=2;var a=kO(),i=PO();(je!==e||se!==t)&&(rd=null,Lo(e,t)),t=!1;var o=He;e:do try{if(ve!==0&&oe!==null){var l=oe,s=tr;switch(ve){case 8:dy(),o=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(t=!0);var c=ve;if(ve=0,tr=null,bo(e,l,s,c),r&&ll){o=0;break e}break;default:c=ve,ve=0,tr=null,bo(e,l,s,c)}}fD(),o=He;break}catch(d){AO(e,d)}while(!0);return t&&e.shellSuspendCounter++,Cn=Bi=null,me=n,Q.H=a,Q.A=i,oe===null&&(je=null,se=0,wf()),o}function fD(){for(;oe!==null;)NO(oe)}function hD(e,t){var r=me;me|=2;var n=kO(),a=PO();je!==e||se!==t?(rd=null,td=cr()+500,Lo(e,t)):ll=Fs(e,t);e:do try{if(ve!==0&&oe!==null){t=oe;var i=tr;t:switch(ve){case 1:ve=0,tr=null,bo(e,t,i,1);break;case 2:case 9:if(ex(i)){ve=0,tr=null,jx(t);break}t=function(){ve!==2&&ve!==9||je!==e||(ve=7),fn(e)},i.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:ex(i)?(ve=0,tr=null,jx(t)):(ve=0,tr=null,bo(e,t,i,7));break;case 5:var o=null;switch(oe.tag){case 26:o=oe.memoizedState;case 5:case 27:var l=oe;if(o?JO(o):l.stateNode.complete){ve=0,tr=null;var s=l.sibling;if(s!==null)oe=s;else{var c=l.return;c!==null?(oe=c,kf(c)):oe=null}break t}}ve=0,tr=null,bo(e,t,i,5);break;case 6:ve=0,tr=null,bo(e,t,i,6);break;case 8:dy(),He=6;break e;default:throw Error(B(462))}}mD();break}catch(d){AO(e,d)}while(!0);return Cn=Bi=null,Q.H=n,Q.A=a,me=r,oe!==null?0:(je=null,se=0,wf(),He)}function mD(){for(;oe!==null&&!BR();)NO(oe)}function NO(e){var t=iO(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?kf(e):oe=t}function jx(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=vx(r,t,t.pendingProps,t.type,void 0,se);break;case 11:t=vx(r,t,t.pendingProps,t.type.render,t.ref,se);break;case 5:Xv(t);default:oO(r,t),t=oe=oE(t,$n),t=iO(r,t,$n)}e.memoizedProps=e.pendingProps,t===null?kf(e):oe=t}function bo(e,t,r,n){Cn=Bi=null,Xv(t),Oo=null,ys=0;var a=t.return;try{if(rD(e,a,t,r,se)){He=1,Jc(e,Cr(r,e.current)),oe=null;return}}catch(i){if(a!==null)throw oe=a,i;He=1,Jc(e,Cr(r,e.current)),oe=null;return}t.flags&32768?(de||n===1?e=!0:ll||se&536870912?e=!1:(xa=e=!0,(n===2||n===9||n===3||n===6)&&(n=gr.current,n!==null&&n.tag===13&&(n.flags|=16384))),RO(t,e)):kf(t)}function kf(e){var t=e;do{if(t.flags&32768){RO(t,xa);return}e=t.return;var r=iD(t.alternate,t,$n);if(r!==null){oe=r;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);He===0&&(He=5)}function RO(e,t){do{var r=oD(e.alternate,e);if(r!==null){r.flags&=32767,oe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=r}while(e!==null);He=6,oe=null}function Ex(e,t,r,n,a,i,o,l,s){e.cancelPendingCommit=null;do Pf();while(at!==0);if(me&6)throw Error(B(327));if(t!==null){if(t===e.current)throw Error(B(177));if(i=t.lanes|t.childLanes,i|=zv,GR(e,r,i,o,l,s),e===je&&(oe=je=null,se=0),$o=t,ka=e,Nn=r,Wp=i,Vp=a,EO=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,yD(Uc,function(){return IO(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=Q.T,Q.T=null,a=pe.p,pe.p=2,o=me,me|=4;try{lD(e,t,r)}finally{me=o,pe.p=a,Q.T=n}}at=1,MO(),DO(),zO()}}function MO(){if(at===1){at=0;var e=ka,t=$o,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=Q.T,Q.T=null;var n=pe.p;pe.p=2;var a=me;me|=4;try{vO(t,e);var i=Xp,o=Jj(e.containerInfo),l=i.focusedElem,s=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Zj(l.ownerDocument.documentElement,l)){if(s!==null&&Dv(l)){var c=s.start,d=s.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),g=l.textContent.length,b=Math.min(s.start,g),y=s.end===void 0?b:Math.min(s.end,g);!m.extend&&b>y&&(o=y,y=b,b=o);var p=Gb(l,b),v=Gb(l,y);if(p&&v&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var x=f.createRange();x.setStart(p.node,p.offset),m.removeAllRanges(),b>y?(m.addRange(x),m.extend(v.node,v.offset)):(x.setEnd(v.node,v.offset),m.addRange(x))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var _=f[l];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}dd=!!Yp,Xp=Yp=null}finally{me=a,pe.p=n,Q.T=r}}e.current=t,at=2}}function DO(){if(at===2){at=0;var e=ka,t=$o,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=Q.T,Q.T=null;var n=pe.p;pe.p=2;var a=me;me|=4;try{fO(e,t.alternate,t)}finally{me=a,pe.p=n,Q.T=r}}at=3}}function zO(){if(at===4||at===3){at=0,IR();var e=ka,t=$o,r=Nn,n=EO;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,$o=ka=null,BO(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ta=null),Av(r),t=t.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Gs,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=Q.T,a=pe.p,pe.p=2,Q.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var l=n[o];i(l.value,{componentStack:l.stack})}}finally{Q.T=t,pe.p=a}}Nn&3&&Pf(),fn(e),a=e.pendingLanes,r&261930&&a&42?e===Kp?os++:(os=0,Kp=e):os=0,tu(0)}}function BO(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Js(t)))}function Pf(){return MO(),DO(),zO(),IO()}function IO(){if(at!==5)return!1;var e=ka,t=Wp;Wp=0;var r=Av(Nn),n=Q.T,a=pe.p;try{pe.p=32>r?32:r,Q.T=null,r=Vp,Vp=null;var i=ka,o=Nn;if(at=0,$o=ka=null,Nn=0,me&6)throw Error(B(331));var l=me;if(me|=4,_O(i.current),bO(i,i.current,o,r),me=l,tu(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Gs,i)}catch{}return!0}finally{pe.p=a,Q.T=n,BO(e,t)}}function Ox(e,t,r){t=Cr(r,t),t=$p(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(Ys(e,2),fn(e))}function be(e,t,r){if(e.tag===3)Ox(e,e,r);else for(;t!==null;){if(t.tag===3){Ox(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ta===null||!Ta.has(n))){e=Cr(r,e),r=QE(2),n=Aa(t,r,2),n!==null&&(eO(r,n,t,e),Ys(n,2),fn(n));break}}t=t.return}}function bm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cD;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(uy=!0,a.add(r),e=pD.bind(null,e,t,r),t.then(e,e))}function pD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,je===e&&(se&r)===r&&(He===4||He===3&&(se&62914560)===se&&300>cr()-Af?!(me&2)&&Lo(e,0):cy|=r,Io===se&&(Io=0)),fn(e)}function $O(e,t){t===0&&(t=kj()),e=zi(e,t),e!==null&&(Ys(e,t),fn(e))}function gD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$O(e,r)}function vD(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(B(314))}n!==null&&n.delete(t),$O(e,r)}function yD(e,t){return Ov(e,t)}var ad=null,no=null,Gp=!1,id=!1,xm=!1,_a=0;function fn(e){e!==no&&e.next===null&&(no===null?ad=no=e:no=no.next=e),id=!0,Gp||(Gp=!0,xD())}function tu(e,t){if(!xm&&id){xm=!0;do for(var r=!1,n=ad;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,l=n.pingedLanes;i=(1<<31-fr(42|e)+1)-1,i&=a&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Cx(n,i))}else i=se,i=vf(n,n===je?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Fs(n,i)||(r=!0,Cx(n,i));n=n.next}while(r);xm=!1}}function bD(){LO()}function LO(){id=Gp=!1;var e=0;_a!==0&&kD()&&(e=_a);for(var t=cr(),r=null,n=ad;n!==null;){var a=n.next,i=UO(n,t);i===0?(n.next=null,r===null?ad=a:r.next=a,a===null&&(no=r)):(r=n,(e!==0||i&3)&&(id=!0)),n=a}at!==0&&at!==5||tu(e),_a!==0&&(_a=0)}function UO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-fr(i),l=1<<o,s=a[o];s===-1?(!(l&r)||l&n)&&(a[o]=KR(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}if(t=je,r=se,r=vf(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Fh(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Fs(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&Fh(n),Av(r)){case 2:case 8:r=Aj;break;case 32:r=Uc;break;case 268435456:r=Tj;break;default:r=Uc}return n=qO.bind(null,e),r=Ov(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&Fh(n),e.callbackPriority=2,e.callbackNode=null,2}function qO(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Pf()&&e.callbackNode!==r)return null;var n=se;return n=vf(e,e===je?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(CO(e,n,t),UO(e,cr()),e.callbackNode!=null&&e.callbackNode===r?qO.bind(null,e):null)}function Cx(e,t){if(Pf())return null;CO(e,t,!0)}function xD(){ND(function(){me&6?Ov(Cj,bD):LO()})}function fy(){if(_a===0){var e=Do;e===0&&(e=Pu,Pu<<=1,!(Pu&261888)&&(Pu=256)),_a=e}return _a}function Ax(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bc(""+e)}function Tx(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function wD(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=Ax((a[Yt]||null).action),o=n.submitter;o&&(t=(t=o[Yt]||null)?Ax(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new yf("action","action",null,n,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(_a!==0){var s=o?Tx(a,o):new FormData(a);Bp(r,{pending:!0,data:s,method:a.method,action:i},null,s)}}else typeof i=="function"&&(l.preventDefault(),s=o?Tx(a,o):new FormData(a),Bp(r,{pending:!0,data:s,method:a.method,action:i},i,s))},currentTarget:a}]})}}for(var wm=0;wm<Ep.length;wm++){var _m=Ep[wm],_D=_m.toLowerCase(),SD=_m[0].toUpperCase()+_m.slice(1);Zr(_D,"on"+SD)}Zr(eE,"onAnimationEnd");Zr(tE,"onAnimationIteration");Zr(rE,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr($M,"onTransitionRun");Zr(LM,"onTransitionStart");Zr(UM,"onTransitionCancel");Zr(nE,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ws));function HO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=c;try{i(a)}catch(d){Hc(d)}a.currentTarget=null,i=s}else for(o=0;o<n.length;o++){if(l=n[o],s=l.instance,c=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=c;try{i(a)}catch(d){Hc(d)}a.currentTarget=null,i=s}}}}function ie(e,t){var r=t[vp];r===void 0&&(r=t[vp]=new Set);var n=e+"__bubble";r.has(n)||(WO(t,e,2,!1),r.add(n))}function Sm(e,t,r){var n=0;t&&(n|=4),WO(r,e,n,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function hy(e){if(!e[Uu]){e[Uu]=!0,Dj.forEach(function(r){r!=="selectionchange"&&(jD.has(r)||Sm(r,!1,e),Sm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uu]||(t[Uu]=!0,Sm("selectionchange",!1,t))}}function WO(e,t,r,n){switch(nC(t)){case 2:var a=JD;break;case 8:a=QD;break;default:a=vy}r=a.bind(null,t,r,e),a=void 0,!_p||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function jm(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;l!==null;){if(o=uo(l),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){n=i=o;continue e}l=l.parentNode}}n=n.return}Hj(function(){var c=i,d=Pv(r),f=[];e:{var h=aE.get(e);if(h!==void 0){var m=yf,g=e;switch(e){case"keypress":if(wc(r)===0)break e;case"keydown":case"keyup":m=vM;break;case"focusin":g="focus",m=Qh;break;case"focusout":g="blur",m=Qh;break;case"beforeblur":case"afterblur":m=Qh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Bb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xM;break;case eE:case tE:case rE:m=sM;break;case nE:m=_M;break;case"scroll":case"scrollend":m=nM;break;case"wheel":m=jM;break;case"copy":case"cut":case"paste":m=cM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$b;break;case"toggle":case"beforetoggle":m=OM}var b=(t&4)!==0,y=!b&&(e==="scroll"||e==="scrollend"),p=b?h!==null?h+"Capture":null:h;b=[];for(var v=c,x;v!==null;){var _=v;if(x=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||x===null||p===null||(_=hs(v,p),_!=null&&b.push(_s(v,_,x))),y)break;v=v.return}0<b.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==wp&&(g=r.relatedTarget||r.fromElement)&&(uo(g)||g[nl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=c,g=g?uo(g):null,g!==null&&(y=Ks(g),b=g.tag,g!==y||b!==5&&b!==27&&b!==6)&&(g=null)):(m=null,g=c),m!==g)){if(b=Bb,_="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(b=$b,_="onPointerLeave",p="onPointerEnter",v="pointer"),y=m==null?h:ql(m),x=g==null?h:ql(g),h=new b(_,v+"leave",m,r,d),h.target=y,h.relatedTarget=x,_=null,uo(d)===c&&(b=new b(p,v+"enter",g,r,d),b.target=x,b.relatedTarget=y,_=b),y=_,m&&g)t:{for(b=ED,p=m,v=g,x=0,_=p;_;_=b(_))x++;_=0;for(var j=v;j;j=b(j))_++;for(;0<x-_;)p=b(p),x--;for(;0<_-x;)v=b(v),_--;for(;x--;){if(p===v||v!==null&&p===v.alternate){b=p;break t}p=b(p),v=b(v)}b=null}else b=null;m!==null&&kx(f,h,m,b,!1),g!==null&&y!==null&&kx(f,y,g,b,!0)}}e:{if(h=c?ql(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=Hb;else if(qb(h))if(Yj)S=zM;else{S=MM;var E=RM}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&kv(c.elementType)&&(S=Hb):S=DM;if(S&&(S=S(e,c))){Fj(f,S,r,d);break e}E&&E(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&xp(h,"number",h.value)}switch(E=c?ql(c):window,e){case"focusin":(qb(E)||E.contentEditable==="true")&&(ho=E,Sp=c,Zl=null);break;case"focusout":Zl=Sp=ho=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,Fb(f,r,d);break;case"selectionchange":if(IM)break;case"keydown":case"keyup":Fb(f,r,d)}var O;if(Mv)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fo?Kj(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Vj&&r.locale!=="ko"&&(fo||A!=="onCompositionStart"?A==="onCompositionEnd"&&fo&&(O=Wj()):(ba=d,Nv="value"in ba?ba.value:ba.textContent,fo=!0)),E=od(c,A),0<E.length&&(A=new Ib(A,e,null,r,d),f.push({event:A,listeners:E}),O?A.data=O:(O=Gj(r),O!==null&&(A.data=O)))),(O=AM?TM(e,r):kM(e,r))&&(A=od(c,"onBeforeInput"),0<A.length&&(E=new Ib("onBeforeInput","beforeinput",null,r,d),f.push({event:E,listeners:A}),E.data=O)),wD(f,e,c,r,d)}HO(f,t)})}function _s(e,t,r){return{instance:e,listener:t,currentTarget:r}}function od(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=hs(e,r),a!=null&&n.unshift(_s(e,a,i)),a=hs(e,t),a!=null&&n.push(_s(e,a,i))),e.tag===3)return n;e=e.return}return[]}function ED(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,s=l.alternate,c=l.stateNode;if(l=l.tag,s!==null&&s===n)break;l!==5&&l!==26&&l!==27||c===null||(s=c,a?(c=hs(r,i),c!=null&&o.unshift(_s(r,c,s))):a||(c=hs(r,i),c!=null&&o.push(_s(r,c,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var OD=/\r\n?/g,CD=/\u0000|\uFFFD/g;function Px(e){return(typeof e=="string"?e:""+e).replace(OD,`
`).replace(CD,"")}function VO(e,t){return t=Px(t),Px(e)===t}function we(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Mo(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Mo(e,""+n);break;case"className":Mu(e,"class",n);break;case"tabIndex":Mu(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Mu(e,r,n);break;case"style":qj(e,n,i);break;case"data":if(t!=="object"){Mu(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=bc(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&we(e,t,"name",a.name,a,null),we(e,t,"formEncType",a.formEncType,a,null),we(e,t,"formMethod",a.formMethod,a,null),we(e,t,"formTarget",a.formTarget,a,null)):(we(e,t,"encType",a.encType,a,null),we(e,t,"method",a.method,a,null),we(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=bc(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=On);break;case"onScroll":n!=null&&ie("scroll",e);break;case"onScrollEnd":n!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(B(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=bc(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ie("beforetoggle",e),ie("toggle",e),yc(e,"popover",n);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":yc(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=tM.get(r)||r,yc(e,r,n))}}function Fp(e,t,r,n,a,i){switch(r){case"style":qj(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(B(60));e.innerHTML=r}}break;case"children":typeof n=="string"?Mo(e,n):(typeof n=="number"||typeof n=="bigint")&&Mo(e,""+n);break;case"onScroll":n!=null&&ie("scroll",e);break;case"onScrollEnd":n!=null&&ie("scrollend",e);break;case"onClick":n!=null&&(e.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zj.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[Yt]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):yc(e,r,n)}}}function Ct(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:we(e,t,i,o,r,null)}}a&&we(e,t,"srcSet",r.srcSet,r,null),n&&we(e,t,"src",r.src,r,null);return;case"input":ie("invalid",e);var l=i=o=a=null,s=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":s=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(B(137,t));break;default:we(e,t,n,d,r,null)}}$j(e,i,l,s,c,o,a,!1);return;case"select":ie("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(l=r[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":n=l;default:we(e,t,a,l,r,null)}t=i,r=o,e.multiple=!!n,t!=null?So(e,!!n,t,!1):r!=null&&So(e,!!n,r,!0);return;case"textarea":ie("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(l=r[o],l!=null))switch(o){case"value":n=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(B(91));break;default:we(e,t,o,l,r,null)}Uj(e,n,a,i);return;case"option":for(s in r)if(r.hasOwnProperty(s)&&(n=r[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:we(e,t,s,n,r,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(n=0;n<ws.length;n++)ie(ws[n],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:we(e,t,c,n,r,null)}return;default:if(kv(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&Fp(e,t,d,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(n=r[l],n!=null&&we(e,t,l,n,r,null))}function AD(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,s=null,c=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":s=f;default:n.hasOwnProperty(m)||we(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(B(137,t));break;default:m!==f&&we(e,t,h,m,n,f)}}bp(e,o,l,s,c,d,i,a);return;case"select":m=o=l=h=null;for(i in r)if(s=r[i],r.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":m=s;default:n.hasOwnProperty(i)||we(e,t,i,null,n,s)}for(a in n)if(i=n[a],s=r[a],n.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==s&&we(e,t,a,i,n,s)}t=l,r=o,n=m,h!=null?So(e,!!r,h,!1):!!n!=!!r&&(t!=null?So(e,!!r,t,!0):So(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(l in r)if(a=r[l],r.hasOwnProperty(l)&&a!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:we(e,t,l,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(B(91));break;default:a!==i&&we(e,t,o,a,n,i)}Lj(e,h,m);return;case"option":for(var g in r)if(h=r[g],r.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:we(e,t,g,null,n,h)}for(s in n)if(h=n[s],m=r[s],n.hasOwnProperty(s)&&h!==m&&(h!=null||m!=null))switch(s){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:we(e,t,s,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in r)h=r[b],r.hasOwnProperty(b)&&h!=null&&!n.hasOwnProperty(b)&&we(e,t,b,null,n,h);for(c in n)if(h=n[c],m=r[c],n.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(B(137,t));break;default:we(e,t,c,h,n,m)}return;default:if(kv(t)){for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!==void 0&&!n.hasOwnProperty(y)&&Fp(e,t,y,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Fp(e,t,d,h,n,m);return}}for(var p in r)h=r[p],r.hasOwnProperty(p)&&h!=null&&!n.hasOwnProperty(p)&&we(e,t,p,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||we(e,t,f,h,n,m)}function Nx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TD(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,l=a.duration;if(i&&l&&Nx(o)){for(o=0,l=a.responseEnd,n+=1;n<r.length;n++){var s=r[n],c=s.startTime;if(c>l)break;var d=s.transferSize,f=s.initiatorType;d&&Nx(f)&&(s=s.responseEnd,o+=d*(s<l?1:(l-c)/(s-c)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yp=null,Xp=null;function ld(e){return e.nodeType===9?e:e.ownerDocument}function Rx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KO(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Em=null;function kD(){var e=window.event;return e&&e.type==="popstate"?e===Em?!1:(Em=e,!0):(Em=null,!1)}var GO=typeof setTimeout=="function"?setTimeout:void 0,PD=typeof clearTimeout=="function"?clearTimeout:void 0,Mx=typeof Promise=="function"?Promise:void 0,ND=typeof queueMicrotask=="function"?queueMicrotask:typeof Mx<"u"?function(e){return Mx.resolve(null).then(e).catch(RD)}:GO;function RD(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function Dx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),qo(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")ls(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ls(r);for(var i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Xs]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&ls(e.ownerDocument.body);r=a}while(r);qo(t)}function zx(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function Jp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Jp(r),Tv(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function MD(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Xs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Pr(e.nextSibling),e===null)break}return null}function DD(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Pr(e.nextSibling),e===null))return null;return e}function FO(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pr(e.nextSibling),e===null))return null;return e}function Qp(e){return e.data==="$?"||e.data==="$~"}function eg(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zD(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var tg=null;function Bx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Pr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Ix(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function YO(e,t,r){switch(t=ld(r),e){case"html":if(e=t.documentElement,!e)throw Error(B(452));return e;case"head":if(e=t.head,!e)throw Error(B(453));return e;case"body":if(e=t.body,!e)throw Error(B(454));return e;default:throw Error(B(451))}}function ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tv(e)}var Nr=new Map,$x=new Set;function sd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=pe.d;pe.d={f:BD,r:ID,D:$D,C:LD,L:UD,m:qD,X:WD,S:HD,M:VD};function BD(){var e=Xn.f(),t=Tf();return e||t}function ID(e){var t=al(e);t!==null&&t.tag===5&&t.type==="form"?qE(t):Xn.r(e)}var sl=typeof document>"u"?null:document;function XO(e,t,r){var n=sl;if(n&&typeof t=="string"&&t){var a=Or(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),$x.has(a)||($x.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Ct(t,"link",e),mt(t),n.head.appendChild(t)))}}function $D(e){Xn.D(e),XO("dns-prefetch",e,null)}function LD(e,t){Xn.C(e,t),XO("preconnect",e,t)}function UD(e,t,r){Xn.L(e,t,r);var n=sl;if(n&&e&&t){var a='link[rel="preload"][as="'+Or(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Or(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Or(r.imageSizes)+'"]')):a+='[href="'+Or(e)+'"]';var i=a;switch(t){case"style":i=Uo(e);break;case"script":i=ul(e)}Nr.has(i)||(e=Me({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Nr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(ru(i))||t==="script"&&n.querySelector(nu(i))||(t=n.createElement("link"),Ct(t,"link",e),mt(t),n.head.appendChild(t)))}}function qD(e,t){Xn.m(e,t);var r=sl;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Or(n)+'"][href="'+Or(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ul(e)}if(!Nr.has(i)&&(e=Me({rel:"modulepreload",href:e},t),Nr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(nu(i)))return}n=r.createElement("link"),Ct(n,"link",e),mt(n),r.head.appendChild(n)}}}function HD(e,t,r){Xn.S(e,t,r);var n=sl;if(n&&e){var a=_o(n).hoistableStyles,i=Uo(e);t=t||"default";var o=a.get(i);if(!o){var l={loading:0,preload:null};if(o=n.querySelector(ru(i)))l.loading=5;else{e=Me({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Nr.get(i))&&my(e,r);var s=o=n.createElement("link");mt(s),Ct(s,"link",e),s._p=new Promise(function(c,d){s.onload=c,s.onerror=d}),s.addEventListener("load",function(){l.loading|=1}),s.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Tc(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:l},a.set(i,o)}}}function WD(e,t){Xn.X(e,t);var r=sl;if(r&&e){var n=_o(r).hoistableScripts,a=ul(e),i=n.get(a);i||(i=r.querySelector(nu(a)),i||(e=Me({src:e,async:!0},t),(t=Nr.get(a))&&py(e,t),i=r.createElement("script"),mt(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function VD(e,t){Xn.M(e,t);var r=sl;if(r&&e){var n=_o(r).hoistableScripts,a=ul(e),i=n.get(a);i||(i=r.querySelector(nu(a)),i||(e=Me({src:e,async:!0,type:"module"},t),(t=Nr.get(a))&&py(e,t),i=r.createElement("script"),mt(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Lx(e,t,r,n){var a=(a=Ea.current)?sd(a):null;if(!a)throw Error(B(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Uo(r.href),r=_o(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Uo(r.href);var i=_o(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(ru(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Nr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nr.set(e,r),i||KD(a,e,r,o.state))),t&&n===null)throw Error(B(528,""));return o}if(t&&n!==null)throw Error(B(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ul(r),r=_o(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,e))}}function Uo(e){return'href="'+Or(e)+'"'}function ru(e){return'link[rel="stylesheet"]['+e+"]"}function ZO(e){return Me({},e,{"data-precedence":e.precedence,precedence:null})}function KD(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ct(t,"link",r),mt(t),e.head.appendChild(t))}function ul(e){return'[src="'+Or(e)+'"]'}function nu(e){return"script[async]"+e}function Ux(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Or(r.href)+'"]');if(n)return t.instance=n,mt(n),n;var a=Me({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),mt(n),Ct(n,"style",a),Tc(n,r.precedence,e),t.instance=n;case"stylesheet":a=Uo(r.href);var i=e.querySelector(ru(a));if(i)return t.state.loading|=4,t.instance=i,mt(i),i;n=ZO(r),(a=Nr.get(a))&&my(n,a),i=(e.ownerDocument||e).createElement("link"),mt(i);var o=i;return o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),t.state.loading|=4,Tc(i,r.precedence,e),t.instance=i;case"script":return i=ul(r.src),(a=e.querySelector(nu(i)))?(t.instance=a,mt(a),a):(n=r,(a=Nr.get(i))&&(n=Me({},r),py(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),mt(a),Ct(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(B(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Tc(n,r.precedence,e));return t.instance}function Tc(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var l=n[o];if(l.dataset.precedence===t)i=l;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function my(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function py(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var kc=null;function qx(e,t,r){if(kc===null){var n=new Map,a=kc=new Map;a.set(r,n)}else a=kc,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Xs]||i[St]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=n.get(o);l?l.push(i):n.set(o,[i])}}return n}function Hx(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function GD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function JO(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function FD(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=Uo(n.href),i=t.querySelector(ru(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ud.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,mt(i);return}i=t.ownerDocument||t,n=ZO(n),(a=Nr.get(a))&&my(n,a),i=i.createElement("link"),mt(i);var o=i;o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=ud.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Om=0;function YD(e,t){return e.stylesheets&&e.count===0&&Pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&Pc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Om===0&&(Om=62500*TD());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Om?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function ud(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cd=null;function Pc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cd=new Map,t.forEach(XD,e),cd=null,ud.call(e))}function XD(e,t){if(!(t.state.loading&4)){var r=cd.get(e);if(r)var n=r.get(null);else{r=new Map,cd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=ud.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Ss={$$typeof:En,Provider:null,Consumer:null,_currentValue:di,_currentValue2:di,_threadCount:0};function ZD(e,t,r,n,a,i,o,l,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.hiddenUpdates=Yh(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function QO(e,t,r,n,a,i,o,l,s,c,d,f){return e=new ZD(e,t,r,o,s,c,d,f,l),t=1,i===!0&&(t|=24),i=ar(3,null,null,t),e.current=i,i.stateNode=e,t=Uv(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},Wv(i),e}function eC(e){return e?(e=go,e):go}function tC(e,t,r,n,a,i){a=eC(a),n.context===null?n.context=a:n.pendingContext=a,n=Ca(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=Aa(e,n,t),r!==null&&(Ft(r,e,t),Ql(r,e,t))}function Wx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gy(e,t){Wx(e,t),(e=e.alternate)&&Wx(e,t)}function rC(e){if(e.tag===13||e.tag===31){var t=zi(e,67108864);t!==null&&Ft(t,e,67108864),gy(e,67108864)}}function Vx(e){if(e.tag===13||e.tag===31){var t=hr();t=Cv(t);var r=zi(e,t);r!==null&&Ft(r,e,t),gy(e,t)}}var dd=!0;function JD(e,t,r,n){var a=Q.T;Q.T=null;var i=pe.p;try{pe.p=2,vy(e,t,r,n)}finally{pe.p=i,Q.T=a}}function QD(e,t,r,n){var a=Q.T;Q.T=null;var i=pe.p;try{pe.p=8,vy(e,t,r,n)}finally{pe.p=i,Q.T=a}}function vy(e,t,r,n){if(dd){var a=rg(n);if(a===null)jm(e,t,n,fd,r),Kx(e,n);else if(tz(a,e,t,r,n))n.stopPropagation();else if(Kx(e,n),t&4&&-1<ez.indexOf(e)){for(;a!==null;){var i=al(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Za(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var s=1<<31-fr(o);l.entanglements[1]|=s,o&=~s}fn(i),!(me&6)&&(td=cr()+500,tu(0))}}break;case 31:case 13:l=zi(i,2),l!==null&&Ft(l,i,2),Tf(),gy(i,2)}if(i=rg(n),i===null&&jm(e,t,n,fd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else jm(e,t,n,null,r)}}function rg(e){return e=Pv(e),yy(e)}var fd=null;function yy(e){if(fd=null,e=uo(e),e!==null){var t=Ks(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=_j(t),e!==null)return e;e=null}else if(r===31){if(e=Sj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fd=e,null}function nC(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($R()){case Cj:return 2;case Aj:return 8;case Uc:case LR:return 32;case Tj:return 268435456;default:return 32}default:return 32}}var ng=!1,Pa=null,Na=null,Ra=null,js=new Map,Es=new Map,pa=[],ez="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kx(e,t){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Pl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=al(t),t!==null&&rC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function tz(e,t,r,n,a){switch(t){case"focusin":return Pa=Pl(Pa,e,t,r,n,a),!0;case"dragenter":return Na=Pl(Na,e,t,r,n,a),!0;case"mouseover":return Ra=Pl(Ra,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return js.set(i,Pl(js.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Es.set(i,Pl(Es.get(i)||null,e,t,r,n,a)),!0}return!1}function aC(e){var t=uo(e.target);if(t!==null){var r=Ks(t);if(r!==null){if(t=r.tag,t===13){if(t=_j(r),t!==null){e.blockedOn=t,kb(e.priority,function(){Vx(r)});return}}else if(t===31){if(t=Sj(r),t!==null){e.blockedOn=t,kb(e.priority,function(){Vx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rg(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wp=n,r.target.dispatchEvent(n),wp=null}else return t=al(r),t!==null&&rC(t),e.blockedOn=r,!1;t.shift()}return!0}function Gx(e,t,r){Nc(e)&&r.delete(t)}function rz(){ng=!1,Pa!==null&&Nc(Pa)&&(Pa=null),Na!==null&&Nc(Na)&&(Na=null),Ra!==null&&Nc(Ra)&&(Ra=null),js.forEach(Gx),Es.forEach(Gx)}function qu(e,t){e.blockedOn===t&&(e.blockedOn=null,ng||(ng=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,rz)))}var Hu=null;function Fx(e){Hu!==e&&(Hu=e,it.unstable_scheduleCallback(it.unstable_NormalPriority,function(){Hu===e&&(Hu=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(yy(n||r)===null)continue;break}var i=al(r);i!==null&&(e.splice(t,3),t-=3,Bp(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function qo(e){function t(s){return qu(s,e)}Pa!==null&&qu(Pa,e),Na!==null&&qu(Na,e),Ra!==null&&qu(Ra,e),js.forEach(t),Es.forEach(t);for(var r=0;r<pa.length;r++){var n=pa[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<pa.length&&(r=pa[0],r.blockedOn===null);)aC(r),r.blockedOn===null&&pa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[Yt]||null;if(typeof i=="function")o||Fx(r);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Yt]||null)l=o.formAction;else if(yy(a)!==null)continue}else l=o.action;typeof l=="function"?r[n+1]=l:(r.splice(n,3),n-=3),Fx(r)}}}function iC(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function by(e){this._internalRoot=e}Nf.prototype.render=by.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));var r=t.current,n=hr();tC(r,n,e,t,null,null)};Nf.prototype.unmount=by.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tC(e.current,2,null,e,null,null),Tf(),t[nl]=null}};function Nf(e){this._internalRoot=e}Nf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pa.length&&t!==0&&t<pa[r].priority;r++);pa.splice(r,0,e),r===0&&aC(e)}};var Yx=xj.version;if(Yx!=="19.2.3")throw Error(B(527,Yx,"19.2.3"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=NR(t),e=e!==null?jj(e):null,e=e===null?null:e.stateNode,e};var nz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Gs=Wu.inject(nz),dr=Wu}catch{}}pf.createRoot=function(e,t){if(!wj(e))throw Error(B(299));var r=!1,n="",a=XE,i=ZE,o=JE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=QO(e,1,!1,null,null,r,n,null,a,i,o,iC),e[nl]=t.current,hy(e),new by(t)};pf.hydrateRoot=function(e,t,r){if(!wj(e))throw Error(B(299));var n=!1,a="",i=XE,o=ZE,l=JE,s=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(s=r.formState)),t=QO(e,1,!0,t,r??null,n,a,s,i,o,l,iC),t.context=eC(null),r=t.current,n=hr(),n=Cv(n),a=Ca(n),a.callback=null,Aa(r,a,n),r=n,t.current.lanes=r,Ys(t,r),fn(t),e[nl]=t.current,hy(e),new Nf(t)};pf.version="19.2.3";function oC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oC)}catch(e){console.error(e)}}oC(),mj.exports=pf;var az=mj.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(this,arguments)}var Sa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sa||(Sa={}));const Xx="popstate";function iz(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return ag("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:lC(a)}return lz(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oz(){return Math.random().toString(36).substr(2,8)}function Zx(e,t){return{usr:e.state,key:e.key,idx:t}}function ag(e,t,r,n){return r===void 0&&(r=null),Os({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cl(t):t,{state:r,key:t&&t.key||n||oz()})}function lC(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lz(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Sa.Pop,s=null,c=d();c==null&&(c=0,o.replaceState(Os({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Sa.Pop;let y=d(),p=y==null?null:y-c;c=y,s&&s({action:l,location:b.location,delta:p})}function h(y,p){l=Sa.Push;let v=ag(b.location,y,p);c=d()+1;let x=Zx(v,c),_=b.createHref(v);try{o.pushState(x,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&s&&s({action:l,location:b.location,delta:1})}function m(y,p){l=Sa.Replace;let v=ag(b.location,y,p);c=d();let x=Zx(v,c),_=b.createHref(v);o.replaceState(x,"",_),i&&s&&s({action:l,location:b.location,delta:0})}function g(y){let p=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof y=="string"?y:lC(y);return v=v.replace(/ $/,"%20"),et(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let b={get action(){return l},get location(){return e(a,o)},listen(y){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(Xx,f),s=y,()=>{a.removeEventListener(Xx,f),s=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let p=g(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(y){return o.go(y)}};return b}var Jx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jx||(Jx={}));function sz(e,t,r){return r===void 0&&(r="/"),uz(e,t,r)}function uz(e,t,r,n){let a=typeof t=="string"?cl(t):t,i=cC(a.pathname||"/",r);if(i==null)return null;let o=sC(e);cz(o);let l=null;for(let s=0;l==null&&s<o.length;++s){let c=_z(i);l=bz(o[s],c)}return l}function sC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let s={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(et(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(n.length));let c=gi([n,s.relativePath]),d=r.concat(s);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sC(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:vz(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let s of uC(i.path))a(i,o,s)}),t}function uC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=uC(n.join("/")),l=[];return l.push(...o.map(s=>s===""?i:[i,s].join("/"))),a&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function cz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dz=/^:[\w-]+$/,fz=3,hz=2,mz=1,pz=10,gz=-2,Qx=e=>e==="*";function vz(e,t){let r=e.split("/"),n=r.length;return r.some(Qx)&&(n+=gz),t&&(n+=hz),r.filter(a=>!Qx(a)).reduce((a,i)=>a+(dz.test(i)?fz:i===""?mz:pz),n)}function yz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function bz(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let s=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=xz({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},d),h=s.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:gi([i,f.pathname]),pathnameBase:Cz(gi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=gi([i,f.pathnameBase]))}return o}function xz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let b=l[f]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function wz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,s)=>(n.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function _z(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Sz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jz=e=>Sz.test(e);function Ez(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?cl(e):e,i;if(r)if(jz(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),xy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=e1(r.substring(1),"/"):i=e1(r,t)}else i=t;return{pathname:i,search:Az(n),hash:Tz(a)}}function e1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Cm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Oz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dC(e,t){let r=Oz(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fC(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=cl(e):(a=Os({},e),et(!a.pathname||!a.pathname.includes("?"),Cm("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Cm("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Cm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let s=Ez(a,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(c||d)&&(s.pathname+="/"),s}const gi=e=>e.join("/").replace(/\/\/+/g,"/"),Cz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Az=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hC=["post","put","patch","delete"];new Set(hC);const Pz=["get",...hC];new Set(Pz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}const wy=w.createContext(null),Nz=w.createContext(null),au=w.createContext(null),Rf=w.createContext(null),qa=w.createContext({outlet:null,matches:[],isDataRoute:!1}),mC=w.createContext(null);function iu(){return w.useContext(Rf)!=null}function Mf(){return iu()||et(!1),w.useContext(Rf).location}function pC(e){w.useContext(au).static||w.useLayoutEffect(e)}function dl(){let{isDataRoute:e}=w.useContext(qa);return e?Gz():Rz()}function Rz(){iu()||et(!1);let e=w.useContext(wy),{basename:t,future:r,navigator:n}=w.useContext(au),{matches:a}=w.useContext(qa),{pathname:i}=Mf(),o=JSON.stringify(dC(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return pC(()=>{l.current=!0}),w.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let f=fC(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Mz=w.createContext(null);function Dz(e){let t=w.useContext(qa).outlet;return t&&w.createElement(Mz.Provider,{value:e},t)}function zz(e,t){return Bz(e,t)}function Bz(e,t,r,n){iu()||et(!1);let{navigator:a}=w.useContext(au),{matches:i}=w.useContext(qa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let c=Mf(),d;if(t){var f;let y=typeof t=="string"?cl(t):t;s==="/"||(f=y.pathname)!=null&&f.startsWith(s)||et(!1),d=y}else d=c;let h=d.pathname||"/",m=h;if(s!=="/"){let y=s.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=sz(e,{pathname:m}),b=qz(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gi([s,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?s:gi([s,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&b?w.createElement(Rf.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sa.Pop}},b):b}function Iz(){let e=Kz(),t=kz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const $z=w.createElement(Iz,null);class Lz extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(qa.Provider,{value:this.props.routeContext},w.createElement(mC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uz(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(wy);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(qa.Provider,{value:t},n)}function qz(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let s=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){s=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,b=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||$z,s&&(c<0&&h===0?(Fz("route-fallback"),g=!0,y=null):c===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),v=()=>{let x;return m?x=b:g?x=y:f.route.Component?x=w.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,w.createElement(Uz,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(Lz,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var gC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gC||{}),vC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vC||{});function Hz(e){let t=w.useContext(wy);return t||et(!1),t}function Wz(e){let t=w.useContext(Nz);return t||et(!1),t}function Vz(e){let t=w.useContext(qa);return t||et(!1),t}function yC(e){let t=Vz(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function Kz(){var e;let t=w.useContext(mC),r=Wz(),n=yC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Gz(){let{router:e}=Hz(gC.UseNavigateStable),t=yC(vC.UseNavigateStable),r=w.useRef(!1);return pC(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Cs({fromRouteId:t},i)))},[e,t])}const t1={};function Fz(e,t,r){t1[e]||(t1[e]=!0)}function Yz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bC(e){let{to:t,replace:r,state:n,relative:a}=e;iu()||et(!1);let{future:i,static:o}=w.useContext(au),{matches:l}=w.useContext(qa),{pathname:s}=Mf(),c=dl(),d=fC(t,dC(l,i.v7_relativeSplatPath),s,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function Xz(e){return Dz(e.context)}function yn(e){et(!1)}function Zz(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Sa.Pop,navigator:i,static:o=!1,future:l}=e;iu()&&et(!1);let s=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:s,navigator:i,static:o,future:Cs({v7_relativeSplatPath:!1},l)}),[s,l,i,o]);typeof n=="string"&&(n=cl(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,b=w.useMemo(()=>{let y=cC(d,s);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:a}},[s,d,f,h,m,g,a]);return b==null?null:w.createElement(au.Provider,{value:c},w.createElement(Rf.Provider,{children:r,value:b}))}function Jz(e){let{children:t,location:r}=e;return zz(ig(t),r)}new Promise(()=>{});function ig(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,ig(n.props.children,i));return}n.type!==yn&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ig(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function og(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Qz(e,t){let r=og(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const e5="6";try{window.__reactRouterVersion=e5}catch{}const t5="startTransition",r1=hj[t5];function r5(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=iz({window:a,v5Compat:!0}));let o=i.current,[l,s]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=w.useCallback(f=>{c&&r1?r1(()=>s(f)):s(f)},[s,c]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>Yz(n),[n]),w.createElement(Zz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var n1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(n1||(n1={}));var a1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(a1||(a1={}));function xC(e){let t=w.useRef(og(e)),r=w.useRef(!1),n=Mf(),a=w.useMemo(()=>Qz(n.search,r.current?null:t.current),[n.search]),i=dl(),o=w.useCallback((l,s)=>{const c=og(typeof l=="function"?l(a):l);r.current=!0,i("?"+c,s)},[i,a]);return[a,o]}var lg=function(e,t){return lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},lg(e,t)};function wC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var hd=function(){return hd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},hd.apply(this,arguments)};function fl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function _C(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function SC(e,t){return function(r,n){t(r,n,e)}}function jC(e,t,r,n,a,i){function o(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var l=n.kind,s=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var g={};for(var b in n)g[b]=b==="access"?{}:n[b];for(var b in n.access)g.access[b]=n.access[b];g.addInitializer=function(p){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(p||null))};var y=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[s],g);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&a.unshift(f)}else(f=o(y))&&(l==="field"?a.unshift(f):d[s]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function EC(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function OC(e){return typeof e=="symbol"?e:"".concat(e)}function CC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function AC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function K(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function s(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):a(d.value).then(l,s)}c((n=n.apply(e,t||[])).next())})}function TC(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(d){return s([c,d])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Df=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function kC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Df(t,e,r)}function md(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _y(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function PC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_y(arguments[t]));return e}function NC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function RC(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ho(e){return this instanceof Ho?(this.v=e,this):new Ho(e)}function MC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(g){return Promise.resolve(g).then(m,f)}}function l(m,g){n[m]&&(a[m]=function(b){return new Promise(function(y,p){i.push([m,b,y,p])>1||s(m,b)})},g&&(a[m]=g(a[m])))}function s(m,g){try{c(n[m](g))}catch(b){h(i[0][3],b)}}function c(m){m.value instanceof Ho?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){s("next",m)}function f(m){s("throw",m)}function h(m,g){m(g),i.shift(),i.length&&s(i[0][0],i[0][1])}}function DC(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Ho(e[a](o)),done:!1}:i?i(o):o}:i}}function zC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof md=="function"?md(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,s){o=e[i](o),a(l,s,o.done,o.value)})}}function a(i,o,l,s){Promise.resolve(s).then(function(c){i({value:c,done:l})},o)}}function BC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var n5=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},sg=function(e){return sg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},sg(e)};function IC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=sg(e),n=0;n<r.length;n++)r[n]!=="default"&&Df(t,e,r[n]);return n5(t,e),t}function $C(e){return e&&e.__esModule?e:{default:e}}function LC(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function UC(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function qC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function HC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var a5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function WC(e){function t(i){e.error=e.hasError?new a5(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function VC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const i5={__extends:wC,__assign:hd,__rest:fl,__decorate:_C,__param:SC,__esDecorate:jC,__runInitializers:EC,__propKey:OC,__setFunctionName:CC,__metadata:AC,__awaiter:K,__generator:TC,__createBinding:Df,__exportStar:kC,__values:md,__read:_y,__spread:PC,__spreadArrays:NC,__spreadArray:RC,__await:Ho,__asyncGenerator:MC,__asyncDelegator:DC,__asyncValues:zC,__makeTemplateObject:BC,__importStar:IC,__importDefault:$C,__classPrivateFieldGet:LC,__classPrivateFieldSet:UC,__classPrivateFieldIn:qC,__addDisposableResource:HC,__disposeResources:WC,__rewriteRelativeImportExtension:VC},o5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:HC,get __assign(){return hd},__asyncDelegator:DC,__asyncGenerator:MC,__asyncValues:zC,__await:Ho,__awaiter:K,__classPrivateFieldGet:LC,__classPrivateFieldIn:qC,__classPrivateFieldSet:UC,__createBinding:Df,__decorate:_C,__disposeResources:WC,__esDecorate:jC,__exportStar:kC,__extends:wC,__generator:TC,__importDefault:$C,__importStar:IC,__makeTemplateObject:BC,__metadata:AC,__param:SC,__propKey:OC,__read:_y,__rest:fl,__rewriteRelativeImportExtension:VC,__runInitializers:EC,__setFunctionName:CC,__spread:PC,__spreadArray:RC,__spreadArrays:NC,__values:md,default:i5},Symbol.toStringTag,{value:"Module"})),l5="modulepreload",s5=function(e){return"/"+e},i1={},hl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(s=>{if(s=s5(s),s in i1)return;i1[s]=!0;const c=s.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":l5,c||(f.as="script"),f.crossOrigin="",f.href=s,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},u5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Sy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class o1 extends Sy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class l1 extends Sy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s1 extends Sy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ug;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ug||(ug={}));class c5{constructor(t,{headers:r={},customFetch:n,region:a=ug.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=u5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return K(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:s}=n;let c={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:s}).catch(p=>{throw p.name==="AbortError"?p:new o1(p)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new l1(m);if(!m.ok)throw new s1(m);let b=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),y;return b==="application/json"?y=yield m.json():b==="application/octet-stream"||b==="application/pdf"?y=yield m.blob():b==="text/event-stream"?y=m:b==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new o1(i)}:{data:null,error:i,response:i instanceof s1||i instanceof l1?i.context:void 0}}})}}var Rt={};const ml=nj(o5);var Vu={},Ku={},Gu={},Fu={},Yu={},d5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wo=d5();const f5=Wo.fetch,KC=Wo.fetch.bind(Wo),GC=Wo.Headers,h5=Wo.Request,m5=Wo.Response,Ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:GC,Request:h5,Response:m5,default:KC,fetch:f5},Symbol.toStringTag,{value:"Module"})),p5=nj(Ii);var Xu={},u1;function FC(){if(u1)return Xu;u1=1,Object.defineProperty(Xu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Xu.default=e,Xu}var c1;function YC(){if(c1)return Yu;c1=1,Object.defineProperty(Yu,"__esModule",{value:!0});const e=ml,t=e.__importDefault(p5),r=e.__importDefault(FC());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let s=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,h,m;let g=null,b=null,y=null,p=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=S:b=JSON.parse(S))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,p=406,v="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const _=await c.text();try{g=JSON.parse(_),Array.isArray(g)&&c.status===404&&(b=[],g=null,p=200,v="OK")}catch{c.status===404&&_===""?(p=204,v="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((m=g==null?void 0:g.details)===null||m===void 0)&&m.includes("0 rows"))&&(g=null,p=200,v="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:b,count:y,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(c=>{var d,f,h;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return Yu.default=n,Yu}var d1;function XC(){if(d1)return Fu;d1=1,Object.defineProperty(Fu,"__esModule",{value:!0});const t=ml.__importDefault(YC());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:s=l}={}){const c=s?`${s}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const s=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(s,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:s=!1,format:c="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Fu.default=r,Fu}var f1;function jy(){if(f1)return Gu;f1=1,Object.defineProperty(Gu,"__esModule",{value:!0});const t=ml.__importDefault(XC()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(s=>typeof s=="string"&&r.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:s}={}){let c="";s==="plain"?c="pl":s==="phrase"?c="ph":s==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const s=l?`${l}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Gu.default=n,Gu}var h1;function ZC(){if(h1)return Ku;h1=1,Object.defineProperty(Ku,"__esModule",{value:!0});const t=ml.__importDefault(jy());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},s=o?"HEAD":"GET";let c=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const s="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const c=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:s=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ku.default=r,Ku}var m1;function g5(){if(m1)return Vu;m1=1,Object.defineProperty(Vu,"__esModule",{value:!0});const e=ml,t=e.__importDefault(ZC()),r=e.__importDefault(jy());class n{constructor(i,{headers:o={},schema:l,fetch:s}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=s}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:s=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;l||s?(f=l?"HEAD":"GET",Object.entries(o).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{h.searchParams.append(b,y)})):(f="POST",m=o);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Vu.default=n,Vu}Object.defineProperty(Rt,"__esModule",{value:!0});var JC=Rt.PostgrestError=sA=Rt.PostgrestBuilder=oA=Rt.PostgrestTransformBuilder=aA=Rt.PostgrestFilterBuilder=rA=Rt.PostgrestQueryBuilder=eA=Rt.PostgrestClient=void 0;const pl=ml,QC=pl.__importDefault(g5());var eA=Rt.PostgrestClient=QC.default;const tA=pl.__importDefault(ZC());var rA=Rt.PostgrestQueryBuilder=tA.default;const nA=pl.__importDefault(jy());var aA=Rt.PostgrestFilterBuilder=nA.default;const iA=pl.__importDefault(XC());var oA=Rt.PostgrestTransformBuilder=iA.default;const lA=pl.__importDefault(YC());var sA=Rt.PostgrestBuilder=lA.default;const uA=pl.__importDefault(FC());JC=Rt.PostgrestError=uA.default;var cA=Rt.default={PostgrestClient:QC.default,PostgrestQueryBuilder:tA.default,PostgrestFilterBuilder:nA.default,PostgrestTransformBuilder:iA.default,PostgrestBuilder:lA.default,PostgrestError:uA.default};const v5=rj({__proto__:null,get PostgrestBuilder(){return sA},get PostgrestClient(){return eA},get PostgrestError(){return JC},get PostgrestFilterBuilder(){return aA},get PostgrestQueryBuilder(){return rA},get PostgrestTransformBuilder(){return oA},default:cA},[Rt]),{PostgrestClient:y5,PostgrestQueryBuilder:yZ,PostgrestFilterBuilder:bZ,PostgrestTransformBuilder:xZ,PostgrestBuilder:wZ,PostgrestError:_Z}=cA||v5;class b5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const x5="2.78.0",w5=`realtime-js/${x5}`,_5="1.0.0",cg=1e4,S5=1e3,j5=100;var ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ss||(ss={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var dg;(function(e){e.websocket="websocket"})(dg||(dg={}));var ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ai||(ai={}));class E5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const s=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:s,payload:c}}}class dA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const p1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=O5(o,e,t,a),i),{}):{}},O5=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?fA(i,o):fg(o)},fA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return k5(t,r)}switch(e){case Ce.bool:return C5(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return A5(t);case Ce.json:case Ce.jsonb:return T5(t);case Ce.timestamp:return P5(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return fg(t);default:return fg(t)}},fg=e=>e,C5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},A5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},T5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},k5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>fA(t,l))}return e},P5=e=>typeof e=="string"?e.replace(" ","T"):e,hA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Am{constructor(t,r,n={},a=cg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var g1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(g1||(g1={}));class us{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=us.syncState(this.state,a,i,o),this.pendingDiffs.forEach(s=>{this.state=us.syncDiff(this.state,s,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=us.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},s={};return this.map(i,(c,d)=>{o[c]||(s[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),b=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[c]=g),b.length>0&&(s[c]=b)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:s},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,s)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(s),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,s)}),this.map(o,(l,s)=>{let c=t[l];if(!c)return;const d=s.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=c,a(l,c,s),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var v1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(v1||(v1={}));var cs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cs||(cs={}));var bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));class Ey{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Am(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new dA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new us(this),this.broadcastEndpointURL=hA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:l,private:s}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:s};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(bn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(bn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(bn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(g=b==null?void 0:b.length)!==null&&g!==void 0?g:0,p=[];for(let v=0;v<y;v++){const x=b[v],{filter:{event:_,schema:j,table:S,filter:E}}=x,O=m&&m[v];if(O&&O.event===_&&O.schema===j&&O.table===S&&O.filter===E)p.push(Object.assign(Object.assign({},x),{id:O.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(bn.SUBSCRIBED);return}}).receive("error",m=>{this.state=rt.errored,t==null||t(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rt.joined&&t===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let s=l.statusText;try{const c=await l.json();s=c.error||c.message||s}catch{}return Promise.reject(new Error(s))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,s;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((s=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||s===void 0)&&s.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Am(this,Hr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Am(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>j5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:s,leave:c,join:d}=Hr;if(n&&[l,s,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,b,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(b=m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,b,y,p,v,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((b=r.ids)===null||b===void 0?void 0:b.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(v=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:b,table:y,commit_timestamp:p,type:v,errors:x}=g;h=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:p,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ey.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=p1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=p1(t.columns,t.old_record)),r}}const Tm=()=>{},Zu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},N5=[1e3,2e3,5e3,1e4],R5=1e4,M5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cg,this.transport=null,this.heartbeatIntervalMs=Zu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tm,this.ref=0,this.reconnectTimer=null,this.logger=Tm,this.conn=null,this.sendBuffer=[],this.serializer=new E5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>hl(async()=>{const{default:l}=await Promise.resolve().then(()=>Ii);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${dg.websocket}`,this.httpEndpoint=hA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=b5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return ai.Connecting;case ss.open:return ai.Open;case ss.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ey(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var s;(s=this.conn)===null||s===void 0||s.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(S5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Zu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",s=i.status||"";this.log("receive",`${s} ${n} ${a} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([M5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:w5};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Hr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,s,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:cg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Zu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Tm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(s=t==null?void 0:t.reconnectAfterMs)!==null&&s!==void 0?s:f=>N5[f-1]||R5,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Oy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class z5 extends Oy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hg extends Oy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Cy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},B5=()=>K(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hl(()=>Promise.resolve().then(()=>Ii),void 0)).Response:Response}),mg=e=>{if(Array.isArray(e))return e.map(r=>mg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=mg(n)}),t},I5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},km=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},$5=(e,t,r)=>K(void 0,void 0,void 0,function*(){const n=yield B5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new z5(km(a),i,o))}).catch(a=>{t(new hg(km(a),a))}):t(new hg(km(e),e))}),L5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(I5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function ou(e,t,r,n,a,i){return K(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,L5(t,n,a,i)).then(s=>{if(!s.ok)throw s;return n!=null&&n.noResolveJson?s:s.json()}).then(s=>o(s)).catch(s=>$5(s,l,n))})})}function As(e,t,r,n){return K(this,void 0,void 0,function*(){return ou(e,"GET",t,r,n)})}function Ur(e,t,r,n,a){return K(this,void 0,void 0,function*(){return ou(e,"POST",t,n,a,r)})}function pg(e,t,r,n,a){return K(this,void 0,void 0,function*(){return ou(e,"PUT",t,n,a,r)})}function U5(e,t,r,n){return K(this,void 0,void 0,function*(){return ou(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ay(e,t,r,n,a){return K(this,void 0,void 0,function*(){return ou(e,"DELETE",t,n,a,r)})}class q5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return K(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}var mA;class H5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[mA]="BlobDownloadBuilder",this.promise=null}asStream(){return new q5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return K(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}mA=Symbol.toStringTag;const W5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class V5{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Cy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return K(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},y1),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const s=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,s&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?pg:Ur)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return K(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let s;const c=Object.assign({upsert:y1.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",c.cacheControl)):(s=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield pg(this.fetch,l.toString(),s,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(t,r){return K(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Oy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return K(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}copy(t,r,n){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return K(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ur(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return K(this,void 0,void 0,function*(){try{const a=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),s=()=>As(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new H5(s,this.shouldThrowOnError)}info(t){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield As(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}exists(t){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield U5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n)&&n instanceof hg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});s!==""&&a.push(s);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return K(this,void 0,void 0,function*(){try{return{data:yield Ay(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return K(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},W5),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}listV2(t,r){return K(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const pA="2.78.0",gA={"X-Client-Info":`storage-js/${pA}`};class K5{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gA),r),this.fetch=Cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return K(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield As(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}getBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}createBucket(t){return K(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return K(this,void 0,void 0,function*(){try{return{data:yield pg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Ay(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class G5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gA),r),this.fetch=Cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBuckets(t){return K(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield As(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Ay(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}const Ty={"X-Client-Info":`storage-js/${pA}`,"Content-Type":"application/json"};class vA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ir(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Pm extends vA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class F5 extends vA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var b1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(b1||(b1={}));const ky=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Y5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},x1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X5=(e,t,r)=>K(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Pm(x1(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Pm(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Pm(l,a,o))}}else t(new F5(x1(e),e))}),Z5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Y5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function J5(e,t,r,n,a,i){return K(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Z5(t,n,a,i)).then(s=>{if(!s.ok)throw s;if(n!=null&&n.noResolveJson)return s;const c=s.headers.get("content-type");return!c||!c.includes("application/json")?{}:s.json()}).then(s=>o(s)).catch(s=>X5(s,l,n))})})}function or(e,t,r,n,a){return K(this,void 0,void 0,function*(){return J5(e,"POST",t,n,a,r)})}class Q5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),r),this.fetch=ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return K(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getIndex(t,r){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listIndexes(t){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return K(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class e4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),r),this.fetch=ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return K(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getVectors(t){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listVectors(t){return K(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield or(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}queryVectors(t){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteVectors(t){return K(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class t4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),r),this.fetch=ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return K(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBuckets(){return K(this,arguments,void 0,function*(t={}){try{return{data:yield or(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class r4 extends t4{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new n4(this.url,this.headers,t,this.fetch)}}class n4 extends Q5{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return K(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return K(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return K(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return K(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new a4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class a4 extends e4{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return K(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return K(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return K(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return K(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return K(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class i4 extends K5{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new V5(this.url,this.headers,t,this.fetch)}get vectors(){return new r4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new G5(this.url+"/iceberg",this.headers,this.fetch)}}const o4="2.78.0";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const l4={"X-Client-Info":`supabase-js-${Vl}/${o4}`},s4={headers:l4},u4={schema:"public"},c4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d4={},f4=e=>{let t;return e?t=e:typeof fetch>"u"?t=KC:t=fetch,(...r)=>t(...r)},h4=()=>typeof Headers>"u"?GC:Headers,m4=(e,t,r)=>{const n=f4(r),a=h4();return async(i,o)=>{var l;const s=(l=await t())!==null&&l!==void 0?l:e;let c=new a(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${s}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function p4(e){return e.endsWith("/")?e:e+"/"}function g4(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:s,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},s),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function v4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yA="2.78.0",ao=30*1e3,gg=3,Nm=gg*ao,y4="http://localhost:9999",b4="supabase.auth.token",x4={"X-Client-Info":`gotrue-js/${yA}`},vg="X-Supabase-Api-Version",bA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_4=10*60*1e3;class Ts extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class S4 extends Ts{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function j4(e){return Y(e)&&e.name==="AuthApiError"}class ii extends Ts{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ha extends Ts{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class $r extends Ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E4(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Gi extends Ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ju extends Ha{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qu extends Ha{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O4(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class w1 extends Ha{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yg extends Ha{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Rm(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class _1 extends Ha{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bg extends Ha{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S1=` 	
\r=`.split(""),C4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<S1.length;t+=1)e[S1[t].charCodeAt(0)]=-2;for(let t=0;t<pd.length;t+=1)e[pd[t].charCodeAt(0)]=t;return e})();function j1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pd[n]),t.queuedBits-=6}}function xA(e,t,r){const n=C4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function E1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{k4(o,n,r)};for(let o=0;o<e.length;o+=1)xA(e.charCodeAt(o),a,i);return t.join("")}function A4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function T4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}A4(n,t)}}function k4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function To(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)xA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function P4(e){const t=[];return T4(e,r=>t.push(r)),new Uint8Array(t)}function oi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>j1(a,r,n)),j1(null,r,n),t.join("")}function N4(e){return Math.round(Date.now()/1e3)+e}function R4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pt=()=>typeof window<"u"&&typeof document<"u",Fa={tested:!1,writable:!1},wA=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fa.tested)return Fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fa.tested=!0,Fa.writable=!0}catch{Fa.tested=!0,Fa.writable=!1}return Fa.writable};function M4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const _A=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},D4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",io=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ya=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},la=async(e,t)=>{await e.removeItem(t)};class zf{constructor(){this.promise=new zf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}zf.promiseConstructor=Promise;function Mm(e){const t=e.split(".");if(t.length!==3)throw new bg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!w4.test(t[n]))throw new bg("JWT not in base64url format");return{header:JSON.parse(E1(t[0])),payload:JSON.parse(E1(t[1])),signature:To(t[2]),raw:{header:t[0],payload:t[1]}}}async function z4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function B4(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function I4(e){return("0"+e.toString(16)).substr(-2)}function $4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,I4).join("")}async function L4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function U4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await L4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fi(e,t,r=!1){const n=$4();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await io(e,`${t}-code-verifier`,a);const i=await U4(n);return[i,n===i?"plain":"s256"]}const q4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H4(e){const t=e.headers.get(vg);if(!t||!t.match(q4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function V4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const K4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yi(e){if(!K4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G4(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function O1(e){return JSON.parse(JSON.stringify(e))}const ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F4=[502,503,504];async function C1(e){var t;if(!D4(e))throw new yg(ei(e),0);if(F4.includes(e.status))throw new yg(ei(e),e.status);let r;try{r=await e.json()}catch(i){throw new ii(ei(i),i)}let n;const a=H4(e);if(a&&a.getTime()>=bA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _1(ei(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _1(ei(r),e.status,r.weak_password.reasons);throw new S4(ei(r),e.status||500,n)}const Y4=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function J(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[vg]||(i[vg]=bA["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",s=await X4(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(s):{data:Object.assign({},s),error:null}}async function X4(e,t,r,n,a,i){const o=Y4(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(s){throw console.error(s),new yg(ei(s),0)}if(l.ok||await C1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(s){await C1(s)}}function Lr(e){var t;let r=null;Q4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=N4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function A1(e){const t=Lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ga(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Z4(e){return{data:e,error:null}}function J4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=fl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},s=Object.assign({},o);return{data:{properties:l,user:s},error:null}}function T1(e){return e}function Q4(e){return e.access_token&&e.refresh_token&&e.expires_in}const zm=["global","local","others"];class e3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=_A(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zm[0]){if(zm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zm.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ga})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:J4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ga})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,s;try{const c={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:T1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=b}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Y(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Yi(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ga})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yi(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ga})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yi(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ga})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yi(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yi(t.userId),Yi(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,s;try{const c={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:T1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=b}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Y(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function k1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xi={debug:!!(globalThis&&wA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class t3 extends SA{}async function r3(e,t,r){Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function n3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function a3(e){return parseInt(e,16)}function i3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function o3(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:s,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=jA(e.address),g=d?`${d}://${n}`:n,b=e.statement?`${e.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${m}

${b}`;let p=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(p+=`
Expiration Time: ${a.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),s&&(p+=`
Request ID: ${s}`),c){let v=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}p+=v}return`${y}
${p}`}class Fe extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class gd extends Fe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function l3({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(EA(o)){if(i.rp.id!==o)return new Fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function s3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(EA(n)){if(r.rpId!==n)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class u3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const c3=new u3;function d3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=fl(e,["challenge","user","excludeCredentials"]),i=To(t).buffer,o=Object.assign(Object.assign({},r),{id:To(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const c=n[s];l.excludeCredentials[s]=Object.assign(Object.assign({},c),{id:To(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function f3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=fl(e,["challenge","allowCredentials"]),a=To(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:To(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function h3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:oi(new Uint8Array(e.response.attestationObject)),clientDataJSON:oi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function m3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oi(new Uint8Array(a.authenticatorData)),clientDataJSON:oi(new Uint8Array(a.clientDataJSON)),signature:oi(new Uint8Array(a.signature)),userHandle:a.userHandle?oi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function EA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function P1(){var e,t;return!!(Pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function p3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gd("Browser returned unexpected credential type",t)}:{data:null,error:new gd("Empty credential response",t)}}catch(t){return{data:null,error:l3({error:t,options:e})}}}async function g3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gd("Browser returned unexpected credential type",t)}:{data:null,error:new gd("Empty credential response",t)}}catch(t){return{data:null,error:s3({error:t,options:e})}}}const v3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},y3={userVerification:"preferred",hints:["security-key"]};function vd(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=vd(l,o):n[i]=vd(o)}else n[i]=o}return n}function b3(e,t){return vd(v3,e,t||{})}function x3(e,t){return vd(y3,e,t||{})}class w3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const s=a??c3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=b3(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await p3({publicKey:c,signal:s});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=x3(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await g3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:s}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Ts("rpId is required for WebAuthn authentication")};try{if(!P1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:s}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:s.type,rpId:r,rpOrigins:n,credential_response:s.credential_response}})}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Ts("rpId is required for WebAuthn registration")};try{if(!P1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:s,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return s?this._verify({factorId:o.id,challengeId:s.challengeId,webauthn:{rpId:r,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in register",o)}}}}n3();const _3={url:y4,storageKey:b4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function N1(e,t,r){return await r()}const Zi={};class ks{get jwks(){var t,r;return(r=(t=Zi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zi[this.storageKey]=Object.assign(Object.assign({},Zi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zi[this.storageKey]=Object.assign(Object.assign({},Zi[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ks.nextInstanceID,ks.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},_3),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new e3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=_A(a.fetch),this.lock=a.lock||N1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=r3:this.lock=N1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new w3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:wA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=k1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=k1(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=M4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),O4(i)){const s=(t=i.details)===null||t===void 0?void 0:t.code;if(s==="identity_already_exists"||s==="identity_not_found"||s==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?{error:r}:{error:new ii("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Lr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:c,session:s},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Fi(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Lr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lr})}else throw new Ju("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:c,session:s},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:A1})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:A1})}else throw new Ju("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Gi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,s,c,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:b,wallet:y,statement:p,options:v}=t;let x;if(Pt())if(typeof y=="object")x=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")x=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),j=await x.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=jA(j[0]);let E=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await x.request({method:"eth_chainId"});E=a3(A)}const O={domain:_.host,address:S,statement:p,uri:_.href,version:"1",chainId:E,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=o3(O),g=await x.request({method:"personal_sign",params:[i3(m),S]})}try{const{data:b,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Lr});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Gi}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(Y(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var r,n,a,i,o,l,s,c,d,f,h,m;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:y,wallet:p,statement:v,options:x}=t;let _;if(Pt())if(typeof p=="object")_=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:y,error:p}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:oi(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Lr});if(p)throw p;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Gi}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:p})}catch(y){if(Y(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Lr});if(await la(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Lr}),{data:s,error:c}=l;return c?{data:{user:null,session:null},error:c}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Gi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:c})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:s}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Fi(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=s==null?void 0:s.data)!==null&&r!==void 0?r:{},create_user:(n=s==null?void 0:s.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:s}=t,{data:c,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=s==null?void 0:s.data)!==null&&a!==void 0?a:{},create_user:(i=s==null?void 0:s.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},channel:(o=s==null?void 0:s.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ju("You must provide either an email or phone number.")}catch(l){if(Y(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Lr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const s=o.session,c=o.user;return s!=null&&s.access_token&&(await this._saveSession(s),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:c,session:s},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fi(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Z4})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $r;const{error:a}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ju("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Nm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ya(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Dm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=G4(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ga}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ga})})}catch(r){if(Y(r))return E4(r)&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new $r;const o=a.session;let l=null,s=null;this.flowType==="pkce"&&t.email!=null&&([l,s]=await Fi(this.storage,this.storageKey));const{data:c,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:s}),jwt:o.access_token,xform:ga});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Mm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:s}=await this._callRefreshToken(t.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:s}=await this._getUser(t.access_token);if(s)throw s;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Pt())throw new Qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new w1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w1("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:s,token_type:c}=t;if(!i||!l||!o||!c)throw new Qu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;s&&(h=parseInt(s));const m=h-d;m*1e3<=ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:b,error:y}=await this._getUser(i);if(y)throw y;const p={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(j4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=R4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Fi(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,s,c,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Pt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:s,access_token:c,nonce:d}=t,f=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:s,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Gi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await B4(async a=>(a>0&&await z4(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Rm(i)&&Date.now()+o-n<ao})}catch(n){if(this._debug(r,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ya(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ya(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await io(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Dm()}else if(a&&!a.user&&!a.user){const o=await Ya(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await la(this.storage,this.storageKey+"-user"),await io(this.storage,this.storageKey,a)):a.user=Dm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Nm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Nm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Rm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new zf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Y(i)){const o={data:null,error:i};return Rm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(s){i.push(s)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await io(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=O1(a);await io(this.storage,this.storageKey,i)}else{const a=O1(r);await io(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await la(this.storage,this.storageKey),await la(this.storage,this.storageKey+"-code-verifier"),await la(this.storage,this.storageKey+"-user"),this.userStorage&&await la(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ao);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ao}ms, refresh threshold is ${gg} ticks`),a<=gg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:s,error:c}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&s.type==="totp"&&(!((a=s==null?void 0:s.totp)===null||a===void 0)&&a.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?h3(t.webauthn.credential_response):m3(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:s}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:s})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d3(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f3(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Mm(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new $r}})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+_4>a)return n;const{data:i,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:s}}=Mm(n);r!=null&&r.allowExpired||W4(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=V4(a.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,P4(`${l}.${s}`)))throw new bg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}ks.nextInstanceID=0;const S3=ks;class j3 extends S3{constructor(t){super(t)}}class E3{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=v4(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const s=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:u4,realtime:d4,auth:Object.assign(Object.assign({},c4),{storageKey:s}),global:s4},d=g4(n??{},c);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=m4(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new y5(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new i4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new c5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:s,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new j3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:s,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new D5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const O3=(e,t,r)=>new E3(e,t,r);function C3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}C3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const A3="https://abbysvxnnhwvvzhftoms.supabase.co",T3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",L=O3(A3,T3);function k3(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[a,i]=w.useState(!1),o=dl(),l=async s=>{s.preventDefault(),i(!0);const{error:c}=await L.auth.signInWithPassword({email:e,password:r});c?c.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(c.message):o("/dashboard"),i(!1)};return u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:u.jsxs("form",{onSubmit:l,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[u.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:s=>{s.target.onerror=null,s.target.style.display="none",s.target.nextSibling.style.display="block"}}),u.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),u.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),u.jsx("input",{id:"email",type:"email",value:e,onChange:s=>t(s.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),u.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:s}=await L.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/dashboard?reset=true"});i(!1),alert(s?"Erro ao enviar email: "+s.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),u.jsx("input",{id:"password",type:"password",value:r,onChange:s=>n(s.target.value),className:"input",placeholder:"",required:!0})]}),u.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),u.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[u.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),u.jsx("button",{type:"button",onClick:()=>o("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const Zn=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},Py=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const l=await o.json(),s=l.estabelecimento||{},c=l.socios&&l.socios.length>0?l.socios[0]:null;return{nome:l.razao_social,fantasia:s.nome_fantasia,doc:t,email:s.email,telefone:s.ddd1&&s.telefone1?`(${s.ddd1}) ${s.telefone1}`:"",address:{logradouro:s.tipo_logradouro?`${s.tipo_logradouro} ${s.logradouro}`:s.logradouro,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cep:s.cep,uf:(n=s.estado)==null?void 0:n.sigla,municipio:(a=s.cidade)==null?void 0:a.nome,cidade:(i=s.cidade)==null?void 0:i.nome},legal_partner:c?{nome:c.nome,cpf:c.cpf_cnpj_socio}:{nome:"",cpf:""},raw:l}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},P3=async e=>{try{const{data:t,error:r}=await L.functions.invoke("manage-asaas-customer",{body:e});if(r)throw r;return t}catch(t){throw console.error("Erro Asaas Customer:",t),t}},lu=async e=>{const{data:t,error:r}=await L.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},Bf=async(e,t="invoice")=>{const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await L.functions.invoke("create-asaas-charge",{body:r});if(a)throw a;return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),R1=e=>{const t=R3(e);return t.charAt(0).toUpperCase()+t.slice(1)},OA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),M3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},s)=>w.createElement("svg",{ref:s,...D3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:OA("lucide",a),...!i&&!M3(l)&&{"aria-hidden":"true"},...l},[...o.map(([c,d])=>w.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(z3,{ref:i,iconNode:t,className:OA(`lucide-${N3(R1(e))}`,`lucide-${e}`,n),...a}));return r.displayName=R1(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],M1=ge("briefcase",B3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],$3=ge("calculator",I3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U3=ge("chevron-down",L3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],H3=ge("chevron-left",q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],V3=ge("chevron-right",W3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],G3=ge("chevron-up",K3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CA=ge("circle-alert",F3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AA=ge("circle-check-big",Y3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Z3=ge("circle-question-mark",X3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Q3=ge("clock",J3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tB=ge("copy",eB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],If=ge("credit-card",rB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],TA=ge("dollar-sign",nB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yd=ge("file-text",aB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],oB=ge("funnel",iB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sB=ge("house",lB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cB=ge("info",uB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Bm=ge("layout-dashboard",dB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hB=ge("log-out",fB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],pB=ge("megaphone",mB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vB=ge("menu",gB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ny=ge("plus",yB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kA=ge("search",bB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wB=ge("settings",xB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SB=ge("square-pen",_B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PA=ge("trash-2",jB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],OB=ge("truck",EB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AB=ge("user-check",CB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kB=ge("x",TB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],NA=ge("zap",PB),RA=w.createContext(),$i=()=>{const e=w.useContext(RA);if(!e)throw new Error("useUI must be used within a UIProvider");return e},NB=({children:e})=>{const[t,r]=w.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=w.useRef(null),a=()=>{r(c=>({...c,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(c=>({...c,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(c,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:c,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},l=(c,d="Confirmao",f="Confirmar",h="Cancelar")=>new Promise(m=>{n.current=m,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:c,confirmText:f,cancelText:h,onConfirm:()=>{},onCancel:()=>{}})}),s=()=>{switch(t.variant){case"error":return u.jsx(CA,{size:32,color:"#ef4444"});case"success":return u.jsx(AA,{size:32,color:"#22c55e"});case"warning":return u.jsx(Z3,{size:32,color:"#f59e0b"});default:return u.jsx(cB,{size:32,color:"#3b82f6"})}};return u.jsxs(RA.Provider,{value:{showAlert:o,showConfirm:l},children:[e,t.isOpen&&u.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[u.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[u.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[u.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:s()}),u.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),u.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:u.jsx(kB,{size:20})})]}),u.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&u.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:c=>c.currentTarget.style.background="#f9fafb",onMouseOut:c=>c.currentTarget.style.background="white",children:t.cancelText}),u.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:c=>c.currentTarget.style.filter="brightness(0.9)",onMouseOut:c=>c.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),u.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})},MA=w.createContext({}),Jr=()=>w.useContext(MA),RB=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[i,o]=w.useState(!0);w.useEffect(()=>{L.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?l(d.user.id):o(!1)});const{data:{subscription:c}}=L.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?l(f.user.id):(a(null),o(!1))});return()=>c.unsubscribe()},[]);const l=async c=>{try{const{data:d,error:f}=await L.from("profiles").select("*").eq("id",c).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},s={signUp:c=>L.auth.signUp(c),signIn:c=>L.auth.signInWithPassword(c),signOut:()=>L.auth.signOut(),user:t,profile:n,loading:i};return u.jsx(MA.Provider,{value:s,children:!i&&e})},gl=e=>e?e.replace(/\D/g,""):"",$f=e=>{const t=gl(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},Vo=e=>gl(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),MB=e=>{const t=gl(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,l,s;try{for(a=0,s=10,i=0;i<9;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,s=11,i=0;i<10;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},DB=e=>{const t=gl(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);let l=i%11<2?0:11-i%11;if(l!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);return l=i%11<2?0:11-i%11,l==a.charAt(1)},Ei=e=>gl(e).length===11,Lf=e=>{const t=gl(e);return t.length<=11?MB(t):DB(t)},ec=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=w.useState(r);return u.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[u.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[u.jsx("span",{children:e}),n?u.jsx(G3,{size:18}):u.jsx(U3,{size:18})]}),n&&u.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function Ry({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){var Z;const{showAlert:a,showConfirm:i}=$i(),[o,l]=w.useState([]),[s,c]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(!1),g=C=>{if(!C&&C!==0)return"";const T=Number(C);return isNaN(T)?"":T.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},b=C=>{if(!C||typeof C!="string")return 0;const T=C.replace(/\D/g,"");return Number(T)/1e4},y=(C,T)=>{const N=T.replace(/\D/g,""),U=(Number(N)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});E(ne=>({...ne,[C]:U}))},p=C=>C.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),v=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],x=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],_=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],j=[1,5,10,15,20,25,30],[S,E]=w.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var C,T,N,$,U,ne,ue;O(),A(),e&&E({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:g(e.tarifa_concessionaria),te:g(e.te),tusd:g(e.tusd),fio_b:g(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:p(((C=e.address)==null?void 0:C.cep)||""),rua:((T=e.address)==null?void 0:T.rua)||"",numero:((N=e.address)==null?void 0:N.numero)||"",complemento:(($=e.address)==null?void 0:$.complemento)||"",bairro:((U=e.address)==null?void 0:U.bairro)||"",cidade:((ne=e.address)==null?void 0:ne.cidade)||"",uf:((ue=e.address)==null?void 0:ue.uf)||""})},[e]),w.useEffect(()=>{const C=b(S.tarifa_concessionaria);let T=30;S.tipo_ligacao==="trifasico"?T=100:S.tipo_ligacao==="bifasico"&&(T=50);const $=(C*T).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});E(U=>({...U,tarifa_minima:$}))},[S.tarifa_concessionaria,S.tipo_ligacao]);const O=async()=>{const{data:C}=await L.from("subscribers").select("id, name, cpf_cnpj").order("name");l(C||[])},A=async()=>{const{data:C}=await L.from("usinas").select("id, name").order("name");c(C||[])},k=C=>{const T=p(C.target.value);E(N=>({...N,cep:T}))},z=async()=>{const C=S.cep.replace(/\D/g,"");if(C.length===8){m(!0);try{const T=await Zn(C);if(E(N=>({...N,rua:T.rua||"",bairro:T.bairro||"",cidade:T.cidade||"",uf:T.uf||"",concessionaria:N.concessionaria||""})),T.ibge){const N=await lu(T.ibge);if(N){let $=N["Desconto Assinante"]||0;$>1||($=$*100),E(U=>({...U,rua:T.rua||"",bairro:T.bairro||"",cidade:T.cidade||"",uf:T.uf||"",concessionaria:N.Concessionaria||U.concessionaria,tarifa_concessionaria:N["Tarifa Concessionaria"]?g(N["Tarifa Concessionaria"]):U.tarifa_concessionaria,te:N.TE?g(N.TE):U.te,tusd:N.TUSD?g(N.TUSD):U.tusd,fio_b:N["Fio B"]?g(N["Fio B"]):U.fio_b,desconto_assinante:$.toFixed(2)}))}}}catch(T){console.error("Erro CEP",T),a("Erro ao buscar CEP/Ofertas: "+(T.message||"No encontrado"),"error")}finally{m(!1)}}},P=async C=>{C.preventDefault(),f(!0);try{const T={subscriber_id:S.subscriber_id||null,usina_id:S.usina_id||null,status:S.status,numero_uc:S.numero_uc,titular_conta:S.titular_conta,modalidade:S.modalidade,concessionaria:S.concessionaria,tipo_ligacao:S.tipo_ligacao,franquia:Number(S.franquia),tarifa_concessionaria:b(S.tarifa_concessionaria),te:b(S.te),tusd:b(S.tusd),fio_b:b(S.fio_b),desconto_assinante:Number(S.desconto_assinante),dia_vencimento:Number(S.dia_vencimento),address:{cep:S.cep.replace(/\D/g,""),rua:S.rua,numero:S.numero,complemento:S.complemento,bairro:S.bairro,cidade:S.cidade,uf:S.uf}};if(!T.subscriber_id)throw new Error("Assinante  obrigatrio.");let N;if(e!=null&&e.id?N=await L.from("consumer_units").update(T).eq("id",e.id).select().single():N=await L.from("consumer_units").insert(T).select().single(),N.error)throw N.error;r(N.data),t()}catch(T){a("Erro ao salvar UC: "+T.message,"error")}finally{f(!1)}},W=async()=>{if(await i("Excluir esta Unidade Consumidora?")){f(!0);try{const{error:T}=await L.from("consumer_units").delete().eq("id",e.id);if(T)throw T;n&&n(e.id),t()}catch(T){a("Erro ao excluir: "+T.message,"error")}finally{f(!1)}}},H=((Z=o.find(C=>C.id===S.subscriber_id))==null?void 0:Z.name)||"";return u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:e?H?`Editar UC - ${H}`:"Editar UC":"Nova Unidade Consumidora"}),u.jsx("button",{onClick:t,className:"modal-close",children:""})]}),u.jsxs("form",{onSubmit:P,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[u.jsx("label",{className:"label",children:"Status da Unidade"}),u.jsx("select",{value:S.status,onChange:C=>E({...S,status:C.target.value}),className:"select",style:{maxWidth:"300px"},children:v.map(C=>u.jsx("option",{value:C.value,children:C.label},C.value))})]}),u.jsxs(ec,{title:"Vnculos",defaultOpen:!0,children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{className:"label",children:["Assinante ",u.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),u.jsxs("select",{required:!0,value:S.subscriber_id,onChange:C=>E({...S,subscriber_id:C.target.value}),className:"select",children:[u.jsx("option",{value:"",children:"Selecione..."}),o.map(C=>u.jsxs("option",{value:C.id,children:[C.name," (",C.cpf_cnpj,")"]},C.id))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Usina (Opcional)"}),u.jsxs("select",{value:S.usina_id,onChange:C=>E({...S,usina_id:C.target.value}),className:"select",children:[u.jsx("option",{value:"",children:"Selecione..."}),s.map(C=>u.jsx("option",{value:C.id,children:C.name},C.id))]})]})]}),u.jsxs(ec,{title:"Endereo de Instalao",defaultOpen:!0,children:[u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[u.jsxs("div",{style:{width:"150px"},children:[u.jsx("label",{className:"label",children:"CEP"}),u.jsxs("div",{style:{position:"relative"},children:[u.jsx("input",{value:S.cep,onChange:k,onBlur:z,placeholder:"00000-000",maxLength:9,className:"input"}),h&&u.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{className:"label",children:"Concessionria (Auto)"}),u.jsx("input",{value:S.concessionaria,onChange:C=>E({...S,concessionaria:C.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{className:"label",children:"Rua"}),u.jsx("input",{value:S.rua,onChange:C=>E({...S,rua:C.target.value}),className:"input"})]}),u.jsxs("div",{style:{width:"100px"},children:[u.jsx("label",{className:"label",children:"Nmero"}),u.jsx("input",{value:S.numero,onChange:C=>E({...S,numero:C.target.value}),className:"input"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Bairro"}),u.jsx("input",{value:S.bairro,onChange:C=>E({...S,bairro:C.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Complemento"}),u.jsx("input",{value:S.complemento,onChange:C=>E({...S,complemento:C.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Cidade"}),u.jsx("input",{value:S.cidade,onChange:C=>E({...S,cidade:C.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"UF"}),u.jsx("input",{value:S.uf,onChange:C=>E({...S,uf:C.target.value}),className:"input"})]})]}),u.jsxs(ec,{title:"Dados da Unidade",defaultOpen:!0,children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{className:"label",children:["Nmero da UC ",u.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),u.jsx("input",{required:!0,value:S.numero_uc,onChange:C=>E({...S,numero_uc:C.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),u.jsx("input",{required:!0,value:S.titular_conta,onChange:C=>E({...S,titular_conta:C.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]})]}),u.jsxs(ec,{title:"Dados Tcnicos e Comerciais",defaultOpen:!0,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Tipo de Ligao"}),u.jsx("select",{value:S.tipo_ligacao,onChange:C=>E({...S,tipo_ligacao:C.target.value}),className:"select",children:_.map(C=>u.jsx("option",{value:C.value,children:C.label},C.value))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Modalidade"}),u.jsx("select",{value:S.modalidade,onChange:C=>E({...S,modalidade:C.target.value}),className:"select",children:x.map(C=>u.jsx("option",{value:C.value,children:C.label},C.value))})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),u.jsx("input",{type:"text",value:S.tarifa_concessionaria,onChange:C=>y("tarifa_concessionaria",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),u.jsx("input",{type:"text",value:S.te,onChange:C=>y("te",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),u.jsx("input",{type:"text",value:S.tusd,onChange:C=>y("tusd",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),u.jsx("input",{type:"text",value:S.fio_b,onChange:C=>y("fio_b",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),u.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[u.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),u.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:S.tarifa_minima||"R$ 0,00"}),u.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",S.tipo_ligacao,") x Tarifa."]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),u.jsx("input",{type:"number",step:"0.01",value:S.desconto_assinante,onChange:C=>E({...S,desconto_assinante:C.target.value}),placeholder:"%",className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),u.jsx("input",{type:"number",value:S.franquia,onChange:C=>E({...S,franquia:C.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Dia de Vencimento"}),u.jsx("select",{value:S.dia_vencimento,onChange:C=>E({...S,dia_vencimento:C.target.value}),className:"select",children:j.map(C=>u.jsx("option",{value:C,children:C},C))})]})]}),u.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&u.jsx("button",{type:"button",onClick:W,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Salvando...":"Salvar UC"})]})]})]})})}function My({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),{profile:o}=Jr(),[l,s]=w.useState([]),[c,d]=w.useState([]),[f,h]=w.useState(!1),[m,g]=w.useState(!1),b=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[y,p]=w.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[v,x]=w.useState(!1),[_,j]=w.useState(!1),[S,E]=w.useState(!1);w.useEffect(()=>{O(),e&&(p({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),A(e.id))},[e]);const O=async()=>{const{data:C}=await L.from("originators_v2").select("id, name").order("name");s(C||[])},A=async C=>{const{data:T}=await L.from("consumer_units").select("*").eq("subscriber_id",C);d(T||[])},k=async()=>{const C=y.cep.replace(/\D/g,"");if(C.length===8){j(!0);try{const T=await Zn(C);p(N=>({...N,rua:T.rua||"",bairro:T.bairro||"",cidade:T.cidade||"",uf:T.uf||""}))}catch(T){console.error("Erro ao buscar CEP:",T),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{j(!1)}}},z=async()=>{const C=y.cpf_cnpj.replace(/\D/g,"");if(C.length>=11){E(!0);try{const T=await Py(C);T.nome&&p(N=>({...N,name:T.nome}))}catch(T){console.error("Erro buscar doc",T)}finally{E(!1)}}},P=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${y.name}?`)){h(!0);try{const T=await Bf(e.id,"subscriber");T.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(T.url,"_blank"))}catch(T){console.error(T),a("Erro: "+(T.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{h(!1)}}},W=async C=>{if(C.preventDefault(),!Lf(y.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(y.phone&&!Ei(y.phone)){a("Telefone invlido!","warning");return}x(!0);try{const T=y.cpf_cnpj.replace(/\D/g,"");let N=L.from("subscribers").select("id").eq("cpf_cnpj",y.cpf_cnpj);e!=null&&e.id&&(N=N.neq("id",e.id));const{data:$,error:U}=await N;if(U)throw U;if($&&$.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");let ne=null,ue=!1;try{const ce=await P3({id:e==null?void 0:e.asaas_customer_id,name:y.name,cpfCnpj:y.cpf_cnpj,email:y.email,phone:y.phone,postalCode:y.cep,addressNumber:y.numero,address:y.rua,province:y.bairro});if(!ce||!ce.success)throw new Error((ce==null?void 0:ce.error)||"Erro desconhecido");ne=ce.asaas_id,ue=!0}catch(ce){if(console.error("Asaas Sync Error:",ce),!await i(`Falha ao sincronizar com Asaas: ${ce.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao")){x(!1);return}}const le={...y};ne&&(le.asaas_customer_id=ne),le.originator_id===""&&(le.originator_id=null);let fe;if(e!=null&&e.id?fe=await L.from("subscribers").update(le).eq("id",e.id).select().single():fe=await L.from("subscribers").insert(le).select().single(),fe.error)throw fe.error;ue?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let ce=null;if(le.status==="ativacao"?ce="ativacao":le.status==="ativo"&&(ce="ativo"),ce&&le.email){const{data:D,error:q}=await L.from("leads").select("id, status").eq("email",le.email).order("created_at",{ascending:!1}).limit(1);if(!q&&D&&D.length>0){const ae=D[0];if(ae.status!==ce){const{error:M}=await L.from("leads").update({status:ce}).eq("id",ae.id);M?console.error("Error auto-updating lead status:",M):console.log(`Lead ${ae.id} auto-updated to ${ce}`)}}}}catch(ce){console.error("Lead sync error:",ce)}r(fe.data),t()}catch(T){console.error(T),a("Erro ao salvar assinante: "+T.message,"error")}finally{x(!1)}},H=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){x(!0);try{const{error:T}=await L.from("subscribers").delete().eq("id",e.id);if(T)throw T;n&&n(e.id),t()}catch(T){a("Erro ao excluir: "+T.message,"error")}finally{x(!1)}}},Z=async C=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:N}=await L.from("consumer_units").update({subscriber_id:null}).eq("id",C);if(N)throw N;A(e.id),a("UC desvinculada com sucesso!","success")}catch(N){console.error(N),a("Erro ao desvincular UC: "+N.message,"error")}};return u.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),u.jsxs("form",{onSubmit:W,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),u.jsx("select",{value:y.status,onChange:C=>p({...y,status:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:b.map(C=>u.jsx("option",{value:C.value,children:C.label},C.value))})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),u.jsxs("select",{value:y.originator_id,onChange:C=>p({...y,originator_id:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),l.map(C=>u.jsx("option",{value:C.id,children:C.name},C.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),u.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:u.jsx("input",{value:y.cpf_cnpj,onChange:C=>p({...y,cpf_cnpj:$f(C.target.value)}),onBlur:z,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:S?"#f0f9ff":"white"},required:!0})})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),u.jsx("input",{required:!0,value:y.name,onChange:C=>p({...y,name:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),u.jsx("input",{type:"email",value:y.email,onChange:C=>p({...y,email:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),u.jsx("input",{value:y.phone,onChange:C=>p({...y,phone:Vo(C.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),u.jsx("input",{value:y.cep,onChange:C=>p({...y,cep:C.target.value}),onBlur:k,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:_?"#f0f9ff":"white"}})]}),u.jsxs("div",{style:{flex:2},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),u.jsx("input",{value:`${y.cidade} - ${y.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),u.jsx("input",{value:y.rua,onChange:C=>p({...y,rua:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),u.jsx("input",{value:y.numero,onChange:C=>p({...y,numero:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),u.jsx("input",{value:y.complemento,onChange:C=>p({...y,complemento:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),u.jsx("input",{value:y.bairro,onChange:C=>p({...y,bairro:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("span",{children:"Unidades Consumidoras (UCs)"}),(e==null?void 0:e.id)&&u.jsxs("button",{type:"button",onClick:()=>g(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:[u.jsx(Ny,{size:16})," Cadastrar UCs"]})]}),u.jsx("div",{style:{gridColumn:"1 / -1"},children:c.length>0?u.jsx("ul",{style:{listStyle:"none",padding:0},children:c.map(C=>{var T;return u.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsxs("span",{children:["UC: ",C.numero_uc," - ",C.concessionaria]}),u.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"#666"},children:(T=C.status)==null?void 0:T.replace("_"," ").toUpperCase()})]}),u.jsx("button",{type:"button",onClick:()=>Z(C.id),style:{padding:"0.3rem",background:"transparent",border:"none",color:"#a1a1aa",cursor:"pointer"},title:"Desvincular UC",children:u.jsx(PA,{size:16})})]},C.id)})}):u.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[u.jsx("div",{children:(e==null?void 0:e.id)&&u.jsx("button",{type:"button",onClick:P,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:f?"Processando...":u.jsxs(u.Fragment,{children:[u.jsx(If,{size:18})," Emitir Fatura Consolidada"]})})}),u.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&u.jsx("button",{type:"button",onClick:H,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),u.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:v,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:v?"Salvando...":"Salvar Assinante"})]})]})]})]}),m&&e&&u.jsx(Ry,{consumerUnit:{subscriber_id:e.id},onClose:()=>g(!1),onSave:()=>{A(e.id),g(!1)}})]})}function zB(){const[e]=xC(),{showAlert:t}=$i(),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,l]=w.useState(!1),[s,c]=w.useState(null),d=e.get("id");e.get("originador");const[f,h]=w.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[m,g]=w.useState(null),b=async()=>{const E=f.cep.replace(/\D/g,"");if(E.length===8){n(!0);try{const O=await Zn(E);if(h(A=>({...A,street:O.rua,neighborhood:O.bairro,city:O.cidade,uf:O.uf})),O.ibge){const A=await lu(O.ibge);A?(g(A),h(k=>({...k,concessionaria:A.Concessionaria||""}))):(g(null),h(k=>({...k,concessionaria:""})))}}catch(O){console.error("Error fetching CEP:",O)}finally{n(!1)}}},y=()=>{if(!m)return 0;const E=Number(m["Tarifa Concessionaria"])||0;let A=Number(m["Desconto Assinante"])||0;return A>1&&(A=A/100),f.consumo*E*A},p=async E=>{E.preventDefault(),n(!0);try{const O=y(),k=d&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(d)?d:null,z={name:f.name,email:f.email,phone:f.phone,cep:f.cep,concessionaria:f.concessionaria,consumo_kwh:f.consumo,calculated_discount:O,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,tarifa_concessionaria:Number(m==null?void 0:m["Tarifa Concessionaria"])||0,desconto_assinante:Number(m==null?void 0:m["Desconto Assinante"])||0,status:"simulacao",originator_id:k},{data:P,error:W}=await L.from("leads").insert(z).select().single();if(W)throw W;P&&c(P),i(!0)}catch(O){console.error("Error saving lead:",O);const A=O.message||"Erro ao processar simulao. Tente novamente.";t(A,"error")}finally{n(!1)}},v=async E=>{if(s!=null&&s.id)try{const{error:O}=await L.from("leads").update({status:"ativacao"}).eq("id",s.id);O?console.error("Failed to update lead status:",O):console.log("Lead status updated to 'ativacao'")}catch(O){console.error("Error updating lead status:",O)}l(!1)},x=E=>E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),_={primary:"#003366",accent:"#FF6600"},j={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:_.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:_.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:_.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},S=y();return u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:j.wrapper,children:[u.jsx("h2",{style:j.header,children:"Saiba o valor do seu desconto"}),u.jsxs("form",{onSubmit:p,style:j.formSpace,children:[u.jsx("div",{style:j.grid,children:u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:j.label,children:"CEP"}),u.jsx("input",{type:"text",maxLength:"9",value:f.cep,onChange:E=>{let O=E.target.value.replace(/\D/g,"");O.length>5&&(O=O.replace(/^(\d{5})(\d)/,"$1-$2")),h({...f,cep:O})},onBlur:b,style:j.input,placeholder:"00000-000",required:!0})]})}),u.jsxs("div",{children:[u.jsx("label",{style:j.label,children:"Nome Completo"}),u.jsx("input",{type:"text",value:f.name,onChange:E=>h({...f,name:E.target.value}),style:j.input,placeholder:"Como devemos te chamar?",required:!0})]}),u.jsxs("div",{style:j.grid,children:[u.jsxs("div",{children:[u.jsx("label",{style:j.label,children:"E-mail"}),u.jsx("input",{type:"email",value:f.email,onChange:E=>h({...f,email:E.target.value}),style:j.input,placeholder:"exemplo@email.com",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:j.label,children:"WhatsApp"}),u.jsx("input",{type:"tel",maxLength:"15",value:f.phone,onChange:E=>{let O=E.target.value.replace(/\D/g,"");O=O.replace(/^(\d{2})(\d)/g,"($1) $2"),O=O.replace(/(\d)(\d{4})$/,"$1-$2"),h({...f,phone:O})},style:j.input,placeholder:"(00) 00000-0000",required:!0})]})]}),u.jsxs("div",{style:j.rangeContainer,children:[u.jsxs("div",{style:j.rangeLabelRow,children:[u.jsx("label",{style:j.label,children:"Mdia de Gasto Mensal (kWh)"}),u.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:_.accent},children:[f.consumo," kWh"]})]}),u.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:f.consumo,onChange:E=>h({...f,consumo:Number(E.target.value)}),style:j.rangeInput}),u.jsxs("div",{style:j.rangeTicks,children:[u.jsx("span",{children:"0 kWh"}),u.jsx("span",{children:"10.000+ kWh"})]})]}),u.jsx("button",{type:"submit",disabled:r,style:j.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[u.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:u.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),u.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),u.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[u.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),u.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),u.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.name})]}),u.jsxs("div",{children:[u.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),u.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.concessionaria})]}),u.jsxs("div",{children:[u.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),u.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[x((s==null?void 0:s.calculated_discount)||S),u.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),u.jsx("button",{onClick:()=>{i(!1),l(!0)},style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:_.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})}),o&&u.jsx(My,{subscriber:{name:f.name,email:f.email,phone:f.phone,cep:f.cep,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,status:"ativacao",originator_id:d||""},onClose:()=>l(!1),onSave:v})]})}function BB(){return u.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:u.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:u.jsx(zB,{})})})}function IB(){const{showAlert:e}=$i(),[t,r]=w.useState(!1),[n,a]=w.useState(1),[i,o]=w.useState(null);mf.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[l,s]=w.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[c,d]=w.useState(!1),f=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),u.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),m=async()=>{const v=l.cep.replace(/\D/g,"");if(v.length===8){r(!0);try{const x=await Zn(v);s(_=>({..._,street:x.rua,neighborhood:x.bairro,city:x.cidade,uf:x.uf}))}catch(x){console.error("Error fetching CEP:",x)}finally{r(!1)}}},g=async v=>{v.preventDefault(),r(!0);try{const{data:x,error:_}=await L.auth.signUp({email:l.email,password:l.password,options:{data:{name:l.name,phone:l.phone}}});if(_)throw _;x!=null&&x.user&&(o(x.user.id),a(2))}catch(x){console.error("Error signing up:",x),e(x.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},b=async v=>{v.preventDefault(),r(!0);try{const x={id:i,name:l.name,email:l.email,phone:l.phone,cpf_cnpj:l.cpf,pix_key:l.pix_key,pix_key_type:l.pix_key_type,profession:l.profession,address:{cep:l.cep,street:l.street,number:l.number,neighborhood:l.neighborhood,city:l.city,uf:l.uf,complement:l.complement}},{error:_}=await L.from("originators_v2").insert(x);if(_)throw _;a(3)}catch(x){console.error("Error saving profile:",x),e(x.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},y={primary:"#003366",accent:"#FF6600"},p={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:y.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:y.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?u.jsxs("div",{style:p.wrapper,children:[u.jsx("h2",{style:p.header,children:"Seja um Parceiro B2W"}),u.jsxs("form",{onSubmit:g,style:p.formSpace,children:[u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"Nome Completo"}),u.jsx("input",{type:"text",value:l.name,onChange:v=>s({...l,name:v.target.value}),style:p.input,required:!0})]}),u.jsxs("div",{style:p.grid,children:[u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"E-mail"}),u.jsx("input",{type:"email",value:l.email,onChange:v=>s({...l,email:v.target.value}),style:p.input,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"WhatsApp"}),u.jsx("input",{type:"tel",maxLength:"15",value:l.phone,onChange:v=>{let x=v.target.value.replace(/\D/g,"");x=x.replace(/^(\d{2})(\d)/g,"($1) $2"),x=x.replace(/(\d)(\d{4})$/,"$1-$2"),s({...l,phone:x})},style:p.input,required:!0})]})]}),u.jsxs("div",{style:{position:"relative"},children:[u.jsx("label",{style:p.label,children:"Senha"}),u.jsx("input",{type:c?"text":"password",value:l.password,onChange:v=>s({...l,password:v.target.value}),style:{...p.input,paddingRight:"2.5rem"},required:!0,minLength:6}),u.jsx("button",{type:"button",onClick:()=>d(!c),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:c?u.jsx(h,{}):u.jsx(f,{})})]}),u.jsx("button",{type:"submit",disabled:t,style:p.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&u.jsxs("form",{onSubmit:b,style:p.formSpace,children:[u.jsx("h3",{style:{...p.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),u.jsx("div",{style:p.grid,children:u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:p.label,children:"CEP"}),u.jsx("input",{type:"text",maxLength:"9",value:l.cep,onChange:v=>{let x=v.target.value.replace(/\D/g,"");x.length>5&&(x=x.replace(/^(\d{5})(\d)/,"$1-$2")),s({...l,cep:x})},onBlur:m,style:p.input,required:!0})]})}),u.jsxs("div",{style:p.grid,children:[u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:p.label,children:"Rua"}),u.jsx("input",{value:l.street,style:p.input,readOnly:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"Bairro"}),u.jsx("input",{value:l.neighborhood,style:p.input,readOnly:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"Cidade / UF"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("input",{value:l.city,style:{...p.input,flex:2},readOnly:!0}),u.jsx("input",{value:l.uf,style:{...p.input,flex:1},readOnly:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"Nmero"}),u.jsx("input",{value:l.number,onChange:v=>s({...l,number:v.target.value}),style:p.input,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"Complemento"}),u.jsx("input",{value:l.complement,onChange:v=>s({...l,complement:v.target.value}),style:p.input,placeholder:"Ap 101, Bloco B"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"Profisso"}),u.jsx("input",{type:"text",value:l.profession,onChange:v=>s({...l,profession:v.target.value}),style:p.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),u.jsxs("div",{style:p.grid,children:[u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"CPF (Chave PIX)"}),u.jsx("input",{type:"text",value:l.cpf,onChange:v=>{let x=v.target.value.replace(/\D/g,"");x.length>11&&(x=x.substring(0,11)),x=x.replace(/(\d{3})(\d)/,"$1.$2"),x=x.replace(/(\d{3})(\d)/,"$1.$2"),x=x.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),s(_=>({..._,cpf:x,pix_key:_.pix_key_type==="cpf"?x:_.pix_key}))},style:p.input,required:!0,placeholder:"000.000.000-00"})]}),u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"Tipo Chave PIX"}),u.jsxs("select",{value:l.pix_key_type,onChange:v=>{const x=v.target.value;s(_=>({..._,pix_key_type:x,pix_key:x==="cpf"?_.cpf:""}))},style:p.input,children:[u.jsx("option",{value:"cpf",children:"CPF"}),u.jsx("option",{value:"email",children:"E-mail"}),u.jsx("option",{value:"phone",children:"Telefone"}),u.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),l.pix_key_type!=="cpf"&&u.jsxs("div",{children:[u.jsx("label",{style:p.label,children:"Chave PIX"}),u.jsx("input",{value:l.pix_key,onChange:v=>s({...l,pix_key:v.target.value}),style:p.input,required:!0})]}),u.jsx("button",{type:"submit",disabled:t,style:p.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("h3",{style:{...p.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),u.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),u.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:p.button,children:"Ir para Login"})]})]})})}class $B extends mf.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?u.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[u.jsx("h2",{children:"Algo deu errado."}),u.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),u.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function LB(){return mf.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),u.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:u.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:u.jsx($B,{children:u.jsx(IB,{})})})})}function UB(){const e=dl(),[t,r]=w.useState(!1),[n,a]=w.useState(1),[i,o]=w.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),l=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await Py(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},s=async()=>{if(i.cep.length>=8){r(!0);try{const f=await Zn(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},c=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await L.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const g=h.user.id,{error:b}=await L.from("profiles").upsert({id:g,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});b&&console.error("Erro ao criar/atualizar perfil:",b);const{data:y,error:p}=await L.from("subscribers").insert({profile_id:g,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(p)throw p;await L.from("consumer_units").insert({subscriber_id:y.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return u.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:u.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[u.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&u.jsx("form",{onSubmit:c,children:u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{children:"CPF/CNPJ"}),u.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:l,style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Nome Completo"}),u.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Senha"}),u.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Telefone"}),u.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&u.jsx("form",{onSubmit:d,children:u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{children:"CEP da Unidade Consumidora"}),u.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Rua"}),u.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),u.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Nmero da Instalao (UC)"}),u.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),u.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}function qB({user:e,onClose:t,onSave:r}){const[n,a]=w.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=w.useState(!1),[l,s]=w.useState([]),c={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};w.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await L.from("profiles").select("id, name, role").neq("id",e.id);if(m){const g=c[h]||99,b=m.filter(y=>(c[y.role]||99)<g);s(b)}},f=async h=>{if(h.preventDefault(),n.phone&&!Ei(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:g}=await L.from("profiles").update(m).eq("id",e.id);if(g)throw g;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:"Editar Usurio"}),u.jsx("button",{onClick:t,className:"modal-close",children:""})]}),u.jsxs("form",{onSubmit:f,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Nome"}),u.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Telefone"}),u.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:Vo(h.target.value)}),className:"input"})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Funo (Role)"}),u.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[u.jsx("option",{value:"lead",children:"Lead"}),u.jsx("option",{value:"subscriber",children:"Assinante"}),u.jsx("option",{value:"originator",children:"Originador"}),u.jsx("option",{value:"supplier",children:"Fornecedor"}),u.jsx("option",{value:"coordinator",children:"Coordenador"}),u.jsx("option",{value:"manager",children:"Gerente"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Superior Imediato"}),u.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[u.jsx("option",{value:"",children:"Sem superior"}),l.map(h=>u.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),u.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[u.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),u.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),u.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function HB(){const{user:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(null),[l,s]=w.useState(""),[c,d]=w.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=y=>f[y]||99;w.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:y,error:p}=await L.from("profiles").select("*").order("name");if(p)throw p;r(y||[])}catch(y){console.error("Error fetching users:",y),alert("Erro ao buscar usurios")}finally{a(!1)}},g=y=>{r(t.map(p=>p.id===y.id?y:p)),alert("Perfil atualizado com sucesso!")},b=t.filter(y=>{var x,_;const p=(((x=y.name)==null?void 0:x.toLowerCase())||"").includes(l.toLowerCase())||(((_=y.email)==null?void 0:_.toLowerCase())||"").includes(l.toLowerCase()),v=c?y.role===c:!0;return p&&v}).sort((y,p)=>h(y.role)-h(p.role));return u.jsxs("div",{children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:u.jsx("h2",{children:"Painel Administrativo"})}),u.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[u.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[u.jsx("input",{placeholder:"Buscar por nome ou email...",value:l,onChange:y=>s(y.target.value),className:"input",style:{width:"250px"}}),u.jsxs("select",{value:c,onChange:y=>d(y.target.value),className:"select",style:{width:"auto"},children:[u.jsx("option",{value:"",children:"Todos os Perfis"}),u.jsx("option",{value:"super_admin",children:"Super Admin"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"manager",children:"Gerente"}),u.jsx("option",{value:"coordinator",children:"Coordenador"}),u.jsx("option",{value:"supplier",children:"Fornecedor"}),u.jsx("option",{value:"originator",children:"Originador"}),u.jsx("option",{value:"subscriber",children:"Assinante"}),u.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?u.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Hierarquia"}),u.jsx("th",{children:"Nome"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Perfil (Role)"}),u.jsx("th",{children:"Comisso (Start/Rec.)"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:b.map(y=>{var p,v;return u.jsxs("tr",{children:[u.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(y.role)]}),u.jsx("td",{children:y.name||"-"}),u.jsx("td",{children:y.email}),u.jsx("td",{children:u.jsx("span",{className:"badge badge-neutral",children:y.role})}),u.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((p=y.commission_split)==null?void 0:p.start)||0,"% / ",((v=y.commission_split)==null?void 0:v.recorrente)||0,"%"]}),u.jsx("td",{children:u.jsx("button",{onClick:()=>o(y),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})]}),i&&u.jsx(qB,{user:i,onClose:()=>o(null),onSave:g})]})}function DA({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=Jr(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),[o,l]=w.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",iluminacao_publica:"",tarifa_minima:"",outros_lancamentos:"",status:"a_vencer",valor_a_pagar:"",economia_reais:"",consumo_reais:""}),[s,c]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState(!1),g=_=>!_&&_!==0?"R$ 0,00":Number(_).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),b=_=>_?typeof _=="number"?_:Number(_.replace(/\D/g,""))/100:0;w.useEffect(()=>{if(e){if(l({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,iluminacao_publica:e.iluminacao_publica?g(e.iluminacao_publica):"",tarifa_minima:e.tarifa_minima?g(e.tarifa_minima):"",outros_lancamentos:e.outros_lancamentos?g(e.outros_lancamentos):"",valor_a_pagar:g(e.valor_a_pagar),economia_reais:g(e.economia_reais),consumo_reais:e.consumo_reais?g(e.consumo_reais):"",status:e.status}),t){const _=t.find(j=>j.id===e.uc_id);c(_)}}else t&&t.length>0&&(l(_=>({..._,uc_id:t[0].id})),c(t[0]))},[e,t]),w.useEffect(()=>{if(o.uc_id&&t){const _=t.find(j=>j.id===o.uc_id);c(_)}},[o.uc_id,t]),w.useEffect(()=>{if(o.consumo_kwh&&s){const _=Number(o.consumo_kwh);b(String(s.tarifa_concessionaria||"0"));const j=Number(s.tarifa_concessionaria)||0,S=Number(s.desconto_assinante)||0,E=_*j;let O=0;const A=S>1?S/100:S;O=E*A;const k=E-O,z=b(o.iluminacao_publica),P=b(o.tarifa_minima),W=b(o.outros_lancamentos),H=k+z+P+W;l(Z=>({...Z,economia_reais:g(O),consumo_reais:g(k),valor_a_pagar:g(H)}))}},[o.consumo_kwh,o.iluminacao_publica,o.tarifa_minima,o.outros_lancamentos,s]);const y=(_,j)=>{const S=j.replace(/\D/g,""),O=(Number(S)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});l(A=>({...A,[_]:O}))},p=(_,j)=>{const S=o.mes_referencia.split("-");let E=S[0]||new Date().getFullYear(),O=S[1]||"01";_==="month"&&(O=j),_==="year"&&(E=j),l(A=>({...A,mes_referencia:`${E}-${O}`}))},v=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const _=await Bf(e.id);_.url&&(alert("Boleto gerado com sucesso!"),window.open(_.url,"_blank"),n(),r())}catch(_){console.error(_),alert("Erro ao gerar boleto: "+_.message)}finally{m(!1)}}},x=async _=>{_.preventDefault(),f(!0);try{const j={uc_id:o.uc_id,mes_referencia:`${o.mes_referencia}-01`,vencimento:o.vencimento,consumo_kwh:Number(o.consumo_kwh),consumo_reais:b(o.consumo_reais),iluminacao_publica:b(o.iluminacao_publica),tarifa_minima:b(o.tarifa_minima),outros_lancamentos:b(o.outros_lancamentos),valor_a_pagar:b(o.valor_a_pagar),economia_reais:b(o.economia_reais),status:o.status};if(!j.uc_id)throw new Error("Selecione uma Unidade Consumidora.");let S;if(e!=null&&e.id?S=await L.from("invoices").update(j).eq("id",e.id).select().single():S=await L.from("invoices").insert(j).select().single(),S.error)throw S.error;n(),r()}catch(j){alert("Erro ao salvar fatura: "+j.message)}finally{f(!1)}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:u.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"800px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[u.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[u.jsxs("div",{children:[u.jsx("h3",{style:{fontSize:"1.25rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Fatura":"Nova Fatura"}),u.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Preencha os dados de consumo e valores"})]}),u.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8"},children:""})]}),u.jsxs("form",{onSubmit:x,style:{padding:"1.5rem"},children:[u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Unidade Consumidora"}),u.jsxs("select",{required:!0,value:o.uc_id,onChange:_=>l({...o,uc_id:_.target.value}),disabled:!!e,style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"0.95rem",background:"white"},children:[u.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(_=>u.jsxs("option",{value:_.id,children:[_.numero_uc," - ",_.titular_conta]},_.id))]}),s&&u.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#3b82f6",background:"#eff6ff",padding:"0.5rem",borderRadius:"4px",display:"inline-flex",gap:"1rem"},children:[u.jsxs("span",{children:[u.jsx("strong",{children:"Tarifa:"})," R$ ",Number(s.tarifa_concessionaria||0).toFixed(4)]}),u.jsxs("span",{children:[u.jsx("strong",{children:"Desconto:"})," ",s.desconto_assinante||0,"%"]})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Ms Referncia"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("select",{value:o.mes_referencia.split("-")[1],onChange:_=>p("month",_.target.value),style:{flex:1,padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((_,j)=>u.jsx("option",{value:_,children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][j]},_))}),u.jsx("select",{value:o.mes_referencia.split("-")[0],onChange:_=>p("year",_.target.value),style:{width:"80px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:Array.from({length:5},(_,j)=>new Date().getFullYear()-1+j).map(_=>u.jsx("option",{value:_,children:_},_))})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Vencimento"}),u.jsx("input",{type:"date",required:!0,value:o.vencimento,onChange:_=>l({...o,vencimento:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),i&&u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status"}),u.jsxs("select",{value:o.status,onChange:_=>l({...o,status:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:[u.jsx("option",{value:"a_vencer",children:"A Vencer"}),u.jsx("option",{value:"pago",children:"Pago"}),u.jsx("option",{value:"atrasado",children:"Atrasado"})]})]})]}),u.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"1rem 0"}}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(NA,{size:18})," Dados de Consumo"]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo (kWh)"}),u.jsx("input",{type:"number",step:"any",required:!0,value:o.consumo_kwh,onChange:_=>l({...o,consumo_kwh:_.target.value}),placeholder:"0",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),u.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(TA,{size:18})," Valores Adicionais"]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Iluminao Pblica (R$)"}),u.jsx("input",{type:"text",value:o.iluminacao_publica,onChange:_=>y("iluminacao_publica",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa Mnima (R$)"}),u.jsx("input",{type:"text",value:o.tarifa_minima,onChange:_=>y("tarifa_minima",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Outros Lanamentos (R$)"}),u.jsx("input",{type:"text",value:o.outros_lancamentos,onChange:_=>y("outros_lancamentos",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),u.jsxs("div",{style:{background:"#f1f5f9",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[u.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx($3,{size:18})," Resumo do Clculo"]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[u.jsx("span",{style:{color:"#64748b"},children:"Consumo Bruto:"}),u.jsxs("span",{style:{fontWeight:600},children:["R$ ",(Number(o.consumo_kwh)*(Number(s==null?void 0:s.tarifa_concessionaria)||0)).toFixed(2).replace(".",",")]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#166534",background:"#dcfce7",padding:"0.5rem",borderRadius:"4px"},children:[u.jsx("span",{children:"Economia Gerada:"}),u.jsxs("span",{style:{fontWeight:"bold"},children:["- ",o.economia_reais||"R$ 0,00"]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[u.jsx("span",{style:{color:"#64748b"},children:"Consumo Lquido (R$):"}),u.jsx("span",{style:{fontWeight:600},children:o.consumo_reais||"R$ 0,00"})]}),u.jsx("div",{style:{height:"1px",background:"#cbd5e1",margin:"0.5rem 0"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[u.jsx("span",{style:{color:"#64748b"},children:"+ Ilum. Pblica:"}),u.jsx("span",{children:o.iluminacao_publica||"R$ 0,00"})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[u.jsx("span",{style:{color:"#64748b"},children:"+ Tarifa Mnima:"}),u.jsx("span",{children:o.tarifa_minima||"R$ 0,00"})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[u.jsx("span",{style:{color:"#64748b"},children:"+ Outros:"}),u.jsx("span",{children:o.outros_lancamentos||"R$ 0,00"})]}),u.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px dashed #cbd5e1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#64748b",marginBottom:"0.2rem"},children:"Total a Pagar"}),u.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:o.valor_a_pagar||"R$ 0,00"})]})]})]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[u.jsxs("div",{children:[(e==null?void 0:e.id)&&!e.asaas_boleto_url&&u.jsx("button",{type:"button",onClick:v,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:h?"Gerando...":u.jsxs(u.Fragment,{children:[u.jsx(If,{size:18})," Emitir Boleto Agora"]})}),(e==null?void 0:e.asaas_boleto_url)&&u.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534",fontWeight:"bold",textDecoration:"none"},children:[u.jsx(yd,{size:18})," Ver Boleto Emitido"]})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function WB(){var j;const{user:e,profile:t}=Jr(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),[s,c]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState(null),[g,b]=w.useState(!1),y=["super_admin","admin","manager"].includes(t==null?void 0:t.role);w.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{l(!0);let S;const{data:E}=await L.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(E){S=E.id,c(E.id);const{data:O}=await L.from("consumer_units").select("*").eq("subscriber_id",S);if(n(O||[]),O&&O.length>0){const A=O.map(z=>z.id),{data:k}=await L.from("invoices").select("*").in("uc_id",A).order("vencimento",{ascending:!1});i(k||[])}}else if(y){const{data:O}=await L.from("consumer_units").select("*");if(n(O||[]),O&&O.length>0){const{data:A}=await L.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(A||[])}}}catch(S){console.error("Error fetching dashboard data:",S)}finally{l(!1)}},v=S=>{const E=a.find(O=>O.id===S.id);i(E?a.map(O=>O.id===S.id?S:O):[S,...a]),alert("Fatura salva com sucesso!")},x=a.reduce((S,E)=>S+(E.economia_reais||0),0),_=a[0];return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Viso Geral do Assinante"}),u.jsx("div",{style:{display:"flex",gap:"1rem"},children:y&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>b(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),u.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[u.jsxs("div",{className:"card",children:[u.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),u.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",x.toFixed(2)]})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),u.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:_?`R$ ${(j=_.valor_a_pagar)==null?void 0:j.toFixed(2)}`:"-"}),u.jsx("small",{style:{color:"var(--color-text-light)"},children:_?new Date(_.vencimento).toLocaleDateString():""})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),u.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),u.jsx("h3",{children:"Minhas Faturas"}),u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),u.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),u.jsx("tbody",{children:a.map(S=>{var E,O;return u.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[u.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(S.vencimento).toLocaleDateString()}),u.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[S.consumo_kwh," kWh"]}),u.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=S.valor_a_pagar)==null?void 0:E.toFixed(2)]}),u.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(O=S.economia_reais)==null?void 0:O.toFixed(2)]}),u.jsx("td",{style:{padding:"1rem"},children:u.jsx("span",{className:`badge ${S.status==="pago"?"badge-success":"badge-error"}`,children:S.status==="pago"?"Pago":"A Vencer"})}),u.jsx("td",{style:{padding:"1rem"},children:y?u.jsx("button",{onClick:()=>{m(S),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):u.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},S.id)})})]})}),d&&u.jsx(DA,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:v}),g&&u.jsx(Ry,{consumerUnit:{subscriber_id:s},onClose:()=>b(!1),onSave:()=>{p(),b(!1)}})]})}function VB(){const{user:e,profile:t}=Jr(),[r,n]=w.useState([]),[a,i]=w.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;w.useEffect(()=>{async function c(){const{data:d}=await L.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await L.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await L.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&c()},[e]);const l=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},s=async c=>{var h;if(c.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await L.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",c.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(c.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:g}=await L.functions.invoke("transfer-asaas-pix",{body:{value:c.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(c.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(g)throw g;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await L.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",c.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return u.jsxs("div",{children:[u.jsx("h2",{children:"Painel do Originador"}),u.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[u.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),u.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[u.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),u.jsx("button",{onClick:l,className:"btn btn-accent",children:"Copiar"})]})]}),u.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Data"})]})}),u.jsxs("tbody",{children:[r.map(c=>u.jsxs("tr",{children:[u.jsx("td",{children:c.name}),u.jsx("td",{children:u.jsx("span",{className:"badge badge-neutral",children:c.status})}),u.jsx("td",{children:new Date(c.created_at).toLocaleDateString()})]},c.id)),r.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),u.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Ms Ref."}),u.jsx("th",{children:"Faturas Proc."}),u.jsx("th",{children:"Valor (R$)"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Data Pagt."}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:a.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(c=>u.jsxs("tr",{children:[u.jsx("td",{children:new Date(c.reference_month).toLocaleDateString()}),u.jsx("td",{children:c.total_invoices}),u.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(c.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),u.jsx("td",{children:u.jsx("span",{className:`badge ${c.status==="paid"?"badge-success":"badge-warning"}`,children:c.status==="paid"?"Pago":"Pendente"})}),u.jsx("td",{children:c.payment_date?new Date(c.payment_date).toLocaleDateString():"-"}),u.jsx("td",{children:c.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&u.jsx("button",{onClick:()=>s(c),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},c.id))})]})})})]})}function KB(){const{user:e}=Jr(),[t,r]=w.useState([]);return w.useEffect(()=>{async function n(){const{data:a}=await L.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await L.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),u.jsxs("div",{children:[u.jsx("h2",{children:"Painel do Fornecedor"}),u.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[u.jsx("h3",{children:"Minhas Usinas"}),u.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),u.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>u.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[u.jsx("h4",{children:n.name}),u.jsxs("p",{children:["Status: ",u.jsx("strong",{children:n.status})]}),u.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function GB({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=Jr(),[o,l]=w.useState([]),s=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[c,d]=w.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=w.useState(!1),[m,g]=w.useState(!1);w.useEffect(()=>{b(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(x=>({...x,originator_id:i.id}))},[e,i]);const b=async()=>{const{data:x}=await L.from("originators_v2").select("id, name").order("name");l(x||[])},y=async()=>{const x=c.cep.replace(/\D/g,"");if(x.length===8){g(!0);try{const _=await Zn(x);let j={};if(_.ibge)try{const S=await lu(_.ibge);S&&(j=S)}catch(S){console.error("Erro na oferta",S)}d(S=>({...S,rua:_.rua||"",bairro:_.bairro||"",cidade:_.cidade||"",uf:_.uf||"",concessionaria:(j==null?void 0:j.Concessionaria)||S.concessionaria||"",tarifa_concessionaria:(j==null?void 0:j["Tarifa Concessionaria"])||S.tarifa_concessionaria||"",desconto_assinante:(j==null?void 0:j["Desconto Assinante"])||S.desconto_assinante||""}))}catch(_){console.error("Erro ao buscar CEP:",_),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{g(!1)}}},p=async x=>{if(x.preventDefault(),c.phone&&!Ei(c.phone)){alert("Telefone invlido!");return}h(!0);try{const _={...c};_.tarifa_concessionaria=_.tarifa_concessionaria?Number(_.tarifa_concessionaria):null,_.consumo_kwh=_.consumo_kwh?Number(_.consumo_kwh):null,_.desconto_assinante=_.desconto_assinante?Number(_.desconto_assinante):null,_.originator_id===""&&(_.originator_id=null);let j;if(e!=null&&e.id?j=await L.from("leads").update(_).eq("id",e.id).select().single():j=await L.from("leads").insert(_).select().single(),j.error)throw j.error;r(j.data),t()}catch(_){alert("Erro ao salvar lead: "+_.message)}finally{h(!1)}},v=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:x}=await L.from("leads").delete().eq("id",e.id);if(x)throw x;n&&n(e.id),t()}catch(x){alert("Erro ao excluir lead: "+x.message)}finally{h(!1)}}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),u.jsxs("form",{onSubmit:p,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),u.jsx("select",{value:c.status,onChange:x=>d({...c,status:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:s.map(x=>u.jsx("option",{value:x.value,children:x.label},x.value))})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),u.jsxs("select",{value:c.originator_id,onChange:x=>d({...c,originator_id:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),o.map(x=>u.jsx("option",{value:x.id,children:x.name},x.id))]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),u.jsx("input",{required:!0,value:c.name,onChange:x=>d({...c,name:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),u.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:c.phone,onChange:x=>d({...c,phone:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),u.jsx("input",{type:"email",value:c.email,onChange:x=>d({...c,email:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),u.jsx("input",{placeholder:"00000-000",value:c.cep,onChange:x=>d({...c,cep:x.target.value}),onBlur:y,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),u.jsxs("div",{style:{flex:2},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),u.jsx("input",{value:`${c.cidade} - ${c.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),u.jsx("input",{value:c.rua,onChange:x=>d({...c,rua:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),u.jsx("input",{value:c.numero,onChange:x=>d({...c,numero:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),u.jsx("input",{value:c.complemento,onChange:x=>d({...c,complemento:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),u.jsx("input",{value:c.bairro,onChange:x=>d({...c,bairro:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),u.jsx("input",{type:"number",value:c.consumo_kwh,onChange:x=>d({...c,consumo_kwh:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),u.jsx("input",{value:c.concessionaria,onChange:x=>d({...c,concessionaria:x.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),u.jsx("input",{type:"number",step:"0.0001",value:c.tarifa_concessionaria,onChange:x=>d({...c,tarifa_concessionaria:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),u.jsx("input",{type:"number",step:"0.01",value:c.desconto_assinante,onChange:x=>d({...c,desconto_assinante:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),u.jsx("input",{value:(()=>{const x=Number(c.consumo_kwh)||0,_=Number(c.tarifa_concessionaria)||0,j=Number(c.desconto_assinante)||0;if(x&&_&&j){const E=x*_*(j/100);return isNaN(E)?"R$ 0,00":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[u.jsx("div",{children:e&&n&&u.jsx("button",{type:"button",onClick:v,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&u.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),u.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function FB(){const{profile:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(!1),[l,s]=w.useState(!1),[c,d]=w.useState(null),[f,h]=w.useState(null),[m,g]=w.useState("list"),[b,y]=w.useState(""),p=t.filter(O=>{var k,z,P;if(!b)return!0;const A=b.toLowerCase();return((k=O.name)==null?void 0:k.toLowerCase().includes(A))||((z=O.email)==null?void 0:z.toLowerCase().includes(A))||((P=O.phone)==null?void 0:P.includes(A))});w.useEffect(()=>{v()},[]);const v=async()=>{a(!0);try{const{data:O,error:A}=await L.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(A)throw A;r(O||[])}catch(O){console.error("Error fetching leads:",O)}finally{a(!1)}},x=O=>{t.find(k=>k.id===O.id)?(r(t.map(k=>k.id===O.id?{...k,...O}:k)),v()):(r([O,...t]),v())},_=O=>{r(t.filter(A=>A.id!==O))},j=O=>{h(O),s(!0)},S=async O=>{try{await L.from("leads").update({status:"em_negociacao"}).eq("id",f.id),v(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(A){console.error("Erro ao atualizar status do lead",A)}},E={simulacao:"#64748b",indicado:"#0ea5e9",em_negociacao:"#eab308",ativo:"#22c55e",negocio_perdido:"#ef4444",pago:"#8b5cf6"};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Gesto de Leads"}),u.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[u.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:b,onChange:O=>y(O.target.value),className:"input",style:{maxWidth:"350px"}}),u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>g("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>g("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:m==="list"?u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:p.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome"}),u.jsx("th",{children:"Contato"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Originador"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:p.map(O=>{var A;return u.jsxs("tr",{children:[u.jsx("td",{style:{fontWeight:"bold"},children:O.name}),u.jsxs("td",{children:[u.jsx("div",{style:{fontSize:"0.9rem"},children:O.email}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:O.phone})]}),u.jsx("td",{children:u.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:O.status==="simulacao"?"#f1f5f9":O.status==="em_negociacao"?"#fef9c3":O.status==="ativo"?"#dcfce7":"#f1f5f9",color:O.status==="simulacao"?"#64748b":O.status==="em_negociacao"?"#a16207":O.status==="ativo"?"#166534":"#64748b"},children:O.status.toUpperCase().replace("_"," ")})}),u.jsx("td",{children:((A=O.originator)==null?void 0:A.name)||"-"}),u.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("button",{onClick:()=>{d(O),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),O.status!=="convertido"&&u.jsx("button",{onClick:()=>j(O),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},O.id)})})]})})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["simulacao","indicado","em_negociacao","ativo","negocio_perdido","pago"].map(O=>{const A=p.filter(z=>z.status===O),k=E[O]||"#64748b";return u.jsxs("div",{style:{minWidth:"280px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${k}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:k},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:O.replace("_"," ")}),u.jsx("span",{style:{fontSize:"0.8rem",background:k,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:A.length})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:A.map(z=>{var P,W;return u.jsxs("div",{onClick:()=>{d(z),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:H=>H.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:H=>H.currentTarget.style.borderColor="transparent",children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:z.name}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:z.email}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:z.phone}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[u.jsx("span",{children:(W=(P=z.originator)==null?void 0:P.name)==null?void 0:W.split(" ")[0]}),u.jsx("span",{children:new Date(z.created_at).toLocaleDateString()})]})]},z.id)})})]},O)})})}),i&&u.jsx(GB,{lead:c,onClose:()=>o(!1),onSave:x,onDelete:_,onConvert:j}),l&&u.jsx(My,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>s(!1),onSave:S})]})}function YB(){const{profile:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(!1),[l,s]=w.useState(null),[c,d]=w.useState("list"),[f,h]=w.useState(""),[m,g]=w.useState(null),b=t.filter(j=>{var E,O,A,k;if(!f)return!0;const S=f.toLowerCase();return((E=j.name)==null?void 0:E.toLowerCase().includes(S))||((O=j.email)==null?void 0:O.toLowerCase().includes(S))||((A=j.phone)==null?void 0:A.includes(S))||((k=j.cpf_cnpj)==null?void 0:k.includes(S))});w.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const{data:j,error:S}=await L.from("subscribers").select("*").order("created_at",{ascending:!1});if(S)throw S;r(j||[])}catch(j){console.error("Error fetching subscribers:",j)}finally{a(!1)}},p=j=>{const S=t.find(E=>E.id===j.id);r(S?t.map(E=>E.id===j.id?{...E,...j}:E):[j,...t])},v=async j=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${j.name}?`)){g(j.id);try{const S=await Bf(j.id,"subscriber");S.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(S.url,"_blank"))}catch(S){console.error(S),alert("Erro: "+(S.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{g(null)}}},x={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},_=j=>{r(t.filter(S=>S.id!==j))};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Gesto de Assinantes"}),u.jsx("button",{onClick:()=>{s(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[u.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:j=>h(j.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),u.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:c==="list"?"var(--color-blue)":"white",color:c==="list"?"white":"#333"},children:"Lista"}),u.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:c==="kanban"?"var(--color-blue)":"white",color:c==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:c==="list"?u.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:b.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),u.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),u.jsx("tbody",{children:b.map(j=>{var S,E,O,A,k;return u.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[u.jsxs("td",{style:{padding:"1rem"},children:[u.jsx("div",{style:{fontWeight:"bold"},children:j.name}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.cpf_cnpj})]}),u.jsxs("td",{style:{padding:"1rem"},children:[u.jsx("div",{style:{fontSize:"0.9rem"},children:j.email}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.phone})]}),u.jsx("td",{style:{padding:"1rem"},children:u.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(S=j.status)!=null&&S.includes("ativo")?"#dcfce7":(E=j.status)!=null&&E.includes("cancelado")?"#fee2e2":"#dbeafe",color:(O=j.status)!=null&&O.includes("ativo")?"#166534":(A=j.status)!=null&&A.includes("cancelado")?"#dc2626":"#1e40af"},children:(k=j.status)==null?void 0:k.toUpperCase().replace("_"," ")})}),u.jsx("td",{style:{padding:"1rem"},children:j.cidade?`${j.cidade}/${j.uf}`:"-"}),u.jsx("td",{style:{padding:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("button",{onClick:()=>v(j),disabled:m===j.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===j.id?"...":u.jsx(If,{size:14})}),u.jsx("button",{onClick:()=>{s(j),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},j.id)})})]})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(j=>{const S=b.filter(O=>O.status===j),E=x[j]||"#64748b";return u.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${E}`},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:E},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:j.replace("_"," ")}),u.jsx("span",{style:{fontSize:"0.8rem",background:E,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:S.length})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:S.map(O=>u.jsxs("div",{onClick:()=>{s(O),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:A=>A.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:A=>A.currentTarget.style.borderColor="transparent",children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:O.name}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.cpf_cnpj}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.email}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[u.jsx("span",{children:O.cidade}),u.jsx("span",{children:new Date(O.created_at).toLocaleDateString()})]})]},O.id))})]},j)})})}),i&&u.jsx(My,{subscriber:l,onClose:()=>o(!1),onSave:p,onDelete:_})]})}function XB({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(!1),[s,c]=w.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var g,b,y,p,v,x,_,j,S;e&&c({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((g=e.split_commission)==null?void 0:g.start)||0,split_recurrent:((b=e.split_commission)==null?void 0:b.recurrent)||0,cep:((y=e.address)==null?void 0:y.cep)||"",rua:((p=e.address)==null?void 0:p.rua)||"",numero:((v=e.address)==null?void 0:v.numero)||"",complemento:((x=e.address)==null?void 0:x.complemento)||"",bairro:((_=e.address)==null?void 0:_.bairro)||"",cidade:((j=e.address)==null?void 0:j.cidade)||"",uf:((S=e.address)==null?void 0:S.uf)||""})},[e]);const d=async()=>{const g=s.cep.replace(/\D/g,"");if(g.length===8){l(!0);try{const b=await Zn(g);c(y=>({...y,rua:b.rua||"",bairro:b.bairro||"",cidade:b.cidade||"",uf:b.uf||""}))}catch(b){console.error("Erro CEP",b),alert("Erro ao buscar CEP")}finally{l(!1)}}};w.useEffect(()=>{if(s.pix_key_type==="aleatoria")return;let g="";s.pix_key_type==="cpf"||s.pix_key_type==="cnpj"?g=s.cpf_cnpj:s.pix_key_type==="email"?g=s.email:s.pix_key_type==="telefone"&&(g=s.phone),g!==s.pix_key&&c(b=>({...b,pix_key:g}))},[s.pix_key_type,s.cpf_cnpj,s.email,s.phone]);const f=async g=>{if(g.preventDefault(),!Lf(s.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!Ei(s.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const b={name:s.name,cpf_cnpj:s.cpf_cnpj,email:s.email,phone:s.phone,pix_key:s.pix_key,pix_key_type:s.pix_key_type,split_commission:{start:Number(s.split_start)||0,recurrent:Number(s.split_recurrent)||0},address:{cep:s.cep,rua:s.rua,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cidade:s.cidade,uf:s.uf}};try{let y;if(e!=null&&e.id?y=await L.from("originators_v2").update(b).eq("id",e.id).select().single():y=await L.from("originators_v2").insert(b).select().single(),y.error)throw y.error;r(y.data),t()}catch(y){alert("Erro ao salvar originador: "+y.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:g}=await L.from("originators_v2").delete().eq("id",e.id);if(g)throw g;n&&n(e.id),t()}catch(g){alert("Erro ao excluir: "+g.message)}finally{i(!1)}}},m=e?`${window.location.origin}/originador?id=${e.id}`:"Salver para gerar URL";return u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),u.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&u.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[u.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("input",{value:`${window.location.origin}/originador?id=${e.id}`,readOnly:!0,className:"input",style:{color:"#0284c7"}}),u.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/originador?id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),u.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsx("div",{style:{gridColumn:"1 / -1"},children:u.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),u.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[u.jsx("label",{className:"label",children:"Nome Completo"}),u.jsx("input",{value:s.name,onChange:g=>c({...s,name:g.target.value}),className:"input",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"CPF/CNPJ"}),u.jsx("input",{value:s.cpf_cnpj,onChange:g=>c({...s,cpf_cnpj:$f(g.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Email"}),u.jsx("input",{type:"email",value:s.email,onChange:g=>c({...s,email:g.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Telefone"}),u.jsx("input",{value:s.phone,onChange:g=>c({...s,phone:Vo(g.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Tipo Chave PIX"}),u.jsxs("select",{value:s.pix_key_type,onChange:g=>c({...s,pix_key_type:g.target.value}),className:"select",children:[u.jsx("option",{value:"cpf",children:"CPF"}),u.jsx("option",{value:"cnpj",children:"CNPJ"}),u.jsx("option",{value:"email",children:"Email"}),u.jsx("option",{value:"telefone",children:"Telefone"}),u.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Chave PIX"}),u.jsx("input",{value:s.pix_key,onChange:g=>c({...s,pix_key:g.target.value}),className:"input"})]}),u.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:u.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"CEP"}),u.jsxs("div",{style:{position:"relative"},children:[u.jsx("input",{value:s.cep,onChange:g=>c({...s,cep:g.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&u.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Rua"}),u.jsx("input",{value:s.rua,onChange:g=>c({...s,rua:g.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Nmero"}),u.jsx("input",{value:s.numero,onChange:g=>c({...s,numero:g.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Complemento"}),u.jsx("input",{value:s.complemento,onChange:g=>c({...s,complemento:g.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Bairro"}),u.jsx("input",{value:s.bairro,onChange:g=>c({...s,bairro:g.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Cidade"}),u.jsx("input",{value:s.cidade,onChange:g=>c({...s,cidade:g.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"UF"}),u.jsx("input",{value:s.uf,onChange:g=>c({...s,uf:g.target.value}),className:"input"})]}),u.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:u.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),u.jsx("input",{type:"number",step:"0.01",value:s.split_start,onChange:g=>c({...s,split_start:g.target.value}),className:"input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),u.jsx("input",{type:"number",step:"0.01",value:s.split_recurrent,onChange:g=>c({...s,split_recurrent:g.target.value}),className:"input"})]}),e&&u.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[u.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),u.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),u.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&u.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function ZB(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(""),[o,l]=w.useState(!1),[s,c]=w.useState(null);w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:v,error:x}=await L.from("originators_v2").select("*").order("name");x?console.error("Error fetching originators:",x):t(v||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const v=new Date().toISOString().split("T")[0],{data:x,error:_}=await L.rpc("generate_monthly_commissions",{target_date:v});if(_)throw _;alert(`Processamento concludo!
Faturas processadas: ${x.invoices_processed}
Valor total gerado: R$ ${x.total_commission_value}`)}catch(v){console.error("Error processing commissions:",v),alert("Erro ao processar comisses: "+(v.message||"Erro desconhecido"))}finally{n(!1)}}},h=v=>{c(v),l(!0)},m=()=>{c(null),l(!0)},g=v=>{d()},b=v=>{d()},y=v=>{const x=`${window.location.origin}/clientes?id=${v}`;navigator.clipboard.writeText(x),alert("Link copiado: "+x)},p=e.filter(v=>{var x,_;return((x=v.name)==null?void 0:x.toLowerCase().includes(a.toLowerCase()))||((_=v.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))});return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u.jsx("h2",{children:"Gesto de Originadores"}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),u.jsxs("button",{onClick:m,className:"btn btn-accent",children:[u.jsx(Ny,{size:18})," Novo Originador"]})]})]}),u.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[u.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:v=>i(v.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),u.jsx(kA,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?u.jsx("p",{children:"Carregando..."}):u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome"}),u.jsx("th",{children:"Contato"}),u.jsx("th",{children:"Comisso (Start/Rec.)"}),u.jsx("th",{children:"Chave PIX"}),u.jsx("th",{children:"Link"}),u.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),u.jsx("tbody",{children:p.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):p.map(v=>{var x,_;return u.jsxs("tr",{children:[u.jsxs("td",{children:[u.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:v.name}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:v.cpf_cnpj})]}),u.jsxs("td",{children:[u.jsx("div",{style:{fontSize:"0.9rem"},children:v.email}),u.jsx("div",{style:{fontSize:"0.9rem"},children:v.phone})]}),u.jsx("td",{children:u.jsxs("span",{className:"badge badge-success",children:[((x=v.split_commission)==null?void 0:x.start)||0,"% / ",((_=v.split_commission)==null?void 0:_.recurrent)||0,"%"]})}),u.jsx("td",{style:{fontSize:"0.9rem"},children:v.pix_key||"-"}),u.jsx("td",{children:u.jsx("button",{onClick:()=>y(v.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:u.jsx(tB,{size:16,color:"var(--color-blue)"})})}),u.jsx("td",{style:{textAlign:"right"},children:u.jsx("button",{onClick:()=>h(v),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:u.jsx(SB,{size:18})})})]},v.id)})})]})})}),o&&u.jsx(XB,{originator:s,onClose:()=>l(!1),onSave:g,onDelete:b})]})}function JB({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),[o,l]=w.useState(!1),[s,c]=w.useState([]),[d,f]=w.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var p,v,x,_,j,S,E,O,A;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((p=e.address)==null?void 0:p.cep)||"",rua:((v=e.address)==null?void 0:v.logradouro)||((x=e.address)==null?void 0:x.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((S=e.address)==null?void 0:S.bairro)||"",cidade:((E=e.address)==null?void 0:E.municipio)||((O=e.address)==null?void 0:O.cidade)||"",uf:((A=e.address)==null?void 0:A.uf)||""}),h(e.id))},[e]);const h=async p=>{const{data:v}=await L.from("usinas").select("id, name, status").eq("supplier_id",p);c(v||[])},m=async()=>{const p=d.cnpj.replace(/\D/g,"");if(p.length===14){l(!0);try{const v=await Py(p);v&&f(x=>{var _,j,S,E,O,A,k,z,P;return{...x,name:v.nome||x.name,email:v.email||x.email,phone:v.telefone||x.phone,legal_partner_name:((_=v.legal_partner)==null?void 0:_.nome)||x.legal_partner_name,legal_partner_cpf:((j=v.legal_partner)==null?void 0:j.cpf)||x.legal_partner_cpf,cep:((S=v.address)==null?void 0:S.cep)||x.cep,rua:((E=v.address)==null?void 0:E.logradouro)||x.rua,numero:((O=v.address)==null?void 0:O.numero)||x.numero,complemento:((A=v.address)==null?void 0:A.complemento)||x.complemento,bairro:((k=v.address)==null?void 0:k.bairro)||x.bairro,cidade:((z=v.address)==null?void 0:z.municipio)||x.cidade,uf:((P=v.address)==null?void 0:P.uf)||x.uf}})}catch(v){console.error("Erro CNPJ",v),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{l(!1)}}},g=p=>{const v=p.target.value;let x=d.pix_key;switch(v){case"telefone":x=d.phone;break;case"email":x=d.email;break;case"cnpj":x=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(x=d.legal_partner_cpf);break}f(_=>({..._,pix_key_type:v,pix_key:x}))},b=async p=>{if(p.preventDefault(),d.cnpj&&!Lf(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!Ei(d.phone)){a("Telefone invlido!","warning");return}l(!0);try{console.log("Submitting payload:",d);const v={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",v);let x;if(e!=null&&e.id?x=await L.from("suppliers").update(v).eq("id",e.id).select().single():x=await L.from("suppliers").insert(v).select().single(),console.log("Supabase result:",x),x.error)throw x.error;r(x.data),t()}catch(v){console.error("Save error details:",v);const x=v.message||JSON.stringify(v);x.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await L.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+x,"error")}finally{l(!1)}},y=async()=>{if(s.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){l(!0);try{const{error:v}=await L.from("suppliers").delete().eq("id",e.id);if(v)throw v;n&&n(e.id),t()}catch(v){a("Erro ao excluir: "+v.message,"error")}finally{l(!1)}}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),u.jsxs("form",{onSubmit:b,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),u.jsx("input",{value:d.cnpj,onChange:p=>f({...d,cnpj:p.target.value}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),u.jsx("input",{required:!0,value:d.name,onChange:p=>f({...d,name:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),u.jsx("input",{value:d.legal_partner_name,onChange:p=>f({...d,legal_partner_name:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),u.jsx("input",{value:d.legal_partner_cpf,onChange:p=>f({...d,legal_partner_cpf:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),u.jsx("input",{value:d.cnpj,onChange:p=>f({...d,cnpj:$f(p.target.value)}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),u.jsx("input",{value:d.phone,onChange:p=>f({...d,phone:Vo(p.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),u.jsx("input",{type:"email",value:d.email,onChange:p=>f({...d,email:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),u.jsxs("select",{value:d.pix_key_type,onChange:g,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"cpf",children:"CPF"}),u.jsx("option",{value:"cnpj",children:"CNPJ"}),u.jsx("option",{value:"email",children:"Email"}),u.jsx("option",{value:"telefone",children:"Telefone"}),u.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),u.jsx("input",{value:d.pix_key,onChange:p=>f({...d,pix_key:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),u.jsxs("select",{value:d.status,onChange:p=>f({...d,status:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"ativacao",children:"Em Ativao"}),u.jsx("option",{value:"ativo",children:"Ativo"}),u.jsx("option",{value:"inativo",children:"Inativo"})]})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),u.jsx("input",{value:d.cep,onChange:p=>f({...d,cep:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),u.jsx("input",{value:d.rua,onChange:p=>f({...d,rua:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),u.jsx("input",{value:d.numero,onChange:p=>f({...d,numero:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),u.jsx("input",{value:d.complemento,onChange:p=>f({...d,complemento:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),u.jsx("input",{value:d.bairro,onChange:p=>f({...d,bairro:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("input",{value:d.cidade,onChange:p=>f({...d,cidade:p.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),u.jsx("input",{value:d.uf,onChange:p=>f({...d,uf:p.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&s.length>0&&u.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[u.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),u.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:s.map(p=>u.jsxs("li",{children:[p.name," - ",u.jsx("span",{style:{opacity:.7},children:p.status})]},p.id))})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[u.jsx("div",{children:e&&n&&u.jsx("button",{type:"button",onClick:y,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function QB(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState(null);w.useEffect(()=>{s()},[]);const s=async()=>{n(!0);try{const{data:f,error:h}=await L.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},c=()=>{s(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Fornecedores (Geradores)"}),u.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?u.jsx("p",{children:"Carregando..."}):u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:e.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome/Razo Social"}),u.jsx("th",{children:"CNPJ"}),u.jsx("th",{children:"Contato"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:e.map(f=>{var h;return u.jsxs("tr",{children:[u.jsx("td",{style:{fontWeight:"bold"},children:f.name}),u.jsx("td",{children:f.cnpj}),u.jsxs("td",{children:[u.jsx("div",{children:f.email}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),u.jsx("td",{children:u.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),u.jsx("td",{children:u.jsx("button",{onClick:()=>{l(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&u.jsx(JB,{supplier:o,onClose:()=>i(!1),onSave:c,onDelete:d})]})}function zA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=zA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=zA(e))&&(n&&(n+=" "),n+=t);return n}var eI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Dy(e){if(typeof e!="string")return!1;var t=eI;return t.includes(e)}var tI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rI=new Set(tI);function BA(e){return typeof e!="string"?!1:rI.has(e)}function IA(e){return typeof e=="string"&&e.startsWith("data-")}function Ln(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(BA(r)||IA(r))&&(t[r]=e[r]);return t}function zy(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ln(t)}return typeof e=="object"&&!Array.isArray(e)?Ln(e):null}function Rr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(BA(r)||IA(r)||Dy(r))&&(t[r]=e[r]);return t}var nI=["children","width","height","viewBox","className","style","title","desc"];function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(null,arguments)}function aI(e,t){if(e==null)return{};var r,n,a=iI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $A=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:s,desc:c}=e,d=aI(e,nI),f=i||{width:n,height:a,x:0,y:0},h=De("recharts-surface",o);return w.createElement("svg",xg({},Rr(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,s),w.createElement("desc",null,c),r)}),oI=["children","className"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function lI(e,t){if(e==null)return{};var r,n,a=sI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Un=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=lI(e,oI),i=De("recharts-layer",n);return w.createElement("g",wg({className:i},Rr(a),{ref:t}),r)}),uI=w.createContext(null);function Ae(e){return function(){return e}}const LA=Math.cos,bd=Math.sin,Qr=Math.sqrt,xd=Math.PI,Uf=2*xd,_g=Math.PI,Sg=2*_g,ti=1e-6,cI=Sg-ti;function UA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function dI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class fI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UA:dI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,s=n-t,c=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ti)if(!(Math.abs(f*s-c*d)>ti)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,b=s*s+c*c,y=m*m+g*g,p=Math.sqrt(b),v=Math.sqrt(h),x=i*Math.tan((_g-Math.acos((b+h-y)/(2*p*v)))/2),_=x/v,j=x/p;Math.abs(_-1)>ti&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*s},${this._y1=r+j*c}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),s=n*Math.sin(a),c=t+l,d=r+s,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ti||Math.abs(this._y1-d)>ti)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Sg+Sg),h>cI?this._append`A${n},${n},0,1,${f},${t-l},${r-s}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>ti&&this._append`A${n},${n},0,${+(h>=_g)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function By(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new fI(t)}function Iy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qA(e){this._context=e}qA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qf(e){return new qA(e)}function HA(e){return e[0]}function WA(e){return e[1]}function VA(e,t){var r=Ae(!0),n=null,a=qf,i=null,o=By(l);e=typeof e=="function"?e:e===void 0?HA:Ae(e),t=typeof t=="function"?t:t===void 0?WA:Ae(t);function l(s){var c,d=(s=Iy(s)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),c=0;c<=d;++c)!(c<d&&r(f=s[c],c,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,s),+t(f,c,s));if(m)return i=null,m+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Ae(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ae(+s),l):t},l.defined=function(s){return arguments.length?(r=typeof s=="function"?s:Ae(!!s),l):r},l.curve=function(s){return arguments.length?(a=s,n!=null&&(i=a(n)),l):a},l.context=function(s){return arguments.length?(s==null?n=i=null:i=a(n=s),l):n},l}function tc(e,t,r){var n=null,a=Ae(!0),i=null,o=qf,l=null,s=By(c);e=typeof e=="function"?e:e===void 0?HA:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WA:Ae(+r);function c(f){var h,m,g,b=(f=Iy(f)).length,y,p=!1,v,x=new Array(b),_=new Array(b);for(i==null&&(l=o(v=s())),h=0;h<=b;++h){if(!(h<b&&a(y=f[h],h,f))===p)if(p=!p)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(x[g],_[g]);l.lineEnd(),l.areaEnd()}p&&(x[h]=+e(y,h,f),_[h]=+t(y,h,f),l.point(n?+n(y,h,f):x[h],r?+r(y,h,f):_[h]))}if(v)return l=null,v+""||null}function d(){return VA().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ae(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),c):i},c}class KA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function hI(e){return new KA(e,!0)}function mI(e){return new KA(e,!1)}const $y={draw(e,t){const r=Qr(t/xd);e.moveTo(r,0),e.arc(0,0,r,0,Uf)}},pI={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},GA=Qr(1/3),gI=GA*2,vI={draw(e,t){const r=Qr(t/gI),n=r*GA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},yI={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},bI=.8908130915292852,FA=bd(xd/10)/bd(7*xd/10),xI=bd(Uf/10)*FA,wI=-LA(Uf/10)*FA,_I={draw(e,t){const r=Qr(t*bI),n=xI*r,a=wI*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Uf*i/5,l=LA(o),s=bd(o);e.lineTo(s*r,-l*r),e.lineTo(l*n-s*a,s*n+l*a)}e.closePath()}},Im=Qr(3),SI={draw(e,t){const r=-Qr(t/(Im*3));e.moveTo(0,r*2),e.lineTo(-Im*r,-r),e.lineTo(Im*r,-r),e.closePath()}},br=-.5,xr=Qr(3)/2,jg=1/Qr(12),jI=(jg/2+1)*3,EI={draw(e,t){const r=Qr(t/jI),n=r/2,a=r*jg,i=n,o=r*jg+r,l=-i,s=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,s),e.lineTo(br*n-xr*a,xr*n+br*a),e.lineTo(br*i-xr*o,xr*i+br*o),e.lineTo(br*l-xr*s,xr*l+br*s),e.lineTo(br*n+xr*a,br*a-xr*n),e.lineTo(br*i+xr*o,br*o-xr*i),e.lineTo(br*l+xr*s,br*s-xr*l),e.closePath()}};function OI(e,t){let r=null,n=By(a);e=typeof e=="function"?e:Ae(e||$y),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function wd(){}function _d(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function YA(e){this._context=e}YA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CI(e){return new YA(e)}function XA(e){this._context=e}XA.prototype={areaStart:wd,areaEnd:wd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AI(e){return new XA(e)}function ZA(e){this._context=e}ZA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TI(e){return new ZA(e)}function JA(e){this._context=e}JA.prototype={areaStart:wd,areaEnd:wd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function kI(e){return new JA(e)}function D1(e){return e<0?-1:1}function z1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(D1(i)+D1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function B1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $m(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Sd(e){this._context=e}Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$m(this,this._t0,B1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$m(this,B1(this,r=z1(this,e,t)),r);break;default:$m(this,this._t0,r=z1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function QA(e){this._context=new eT(e)}(QA.prototype=Object.create(Sd.prototype)).point=function(e,t){Sd.prototype.point.call(this,t,e)};function eT(e){this._context=e}eT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function PI(e){return new Sd(e)}function NI(e){return new QA(e)}function tT(e){this._context=e}tT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=I1(e),a=I1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function I1(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function RI(e){return new tT(e)}function Hf(e,t){this._context=e,this._t=t}Hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function MI(e){return new Hf(e,.5)}function DI(e){return new Hf(e,0)}function zI(e){return new Hf(e,1)}function Oi(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Eg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function BI(e,t){return e[t]}function II(e){const t=[];return t.key=e,t}function $I(){var e=Ae([]),t=Eg,r=Oi,n=BI;function a(i){var o=Array.from(e.apply(this,arguments),II),l,s=o.length,c=-1,d;for(const f of i)for(l=0,++c;l<s;++l)(o[l][c]=[0,+n(f,o[l].key,c,i)]).data=f;for(l=0,d=Iy(t(o));l<s;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Eg:typeof i=="function"?i:Ae(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Oi,a):r},a}function LI(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Oi(e,t)}}function UI(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Oi(e,t)}}function qI(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,s=0,c=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var b=e[t[g]],y=b[n][1]||0,p=b[n-1][1]||0;m+=y-p}s+=f,c+=m*f}a[n-1][1]+=a[n-1][0]=r,s&&(r-=c/s)}a[n-1][1]+=a[n-1][0]=r,Oi(e,t)}}var Wf={},rT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(rT);var Ly={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ly);var Vf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Vf);var Kf={},nT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(nT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nT,r=Vf;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,s="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];c?f==="\\"&&l+1<o?(l++,s+=a[l]):f===c?c="":s+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(s),s=""):s+=f:f==="["?(d=!0,s&&(i.push(s),s="")):f==="."?s&&(i.push(s),s=""):s+=f,l++}return s&&i.push(s),i}e.toPath=n})(Kf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rT,r=Ly,n=Vf,a=Kf;function i(l,s,c){if(l==null)return c;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return c;const d=l[s];return d===void 0?r.isDeepKey(s)?i(l,a.toPath(s),c):c:d}case"number":case"symbol":{typeof s=="number"&&(s=n.toKey(s));const d=l[s];return d===void 0?c:d}default:{if(Array.isArray(s))return o(l,s,c);if(Object.is(s==null?void 0:s.valueOf(),-0)?s="-0":s=String(s),t.isUnsafeProperty(s))return c;const d=l[s];return d===void 0?c:d}}}function o(l,s,c){if(s.length===0)return c;let d=l;for(let f=0;f<s.length;f++){if(d==null||t.isUnsafeProperty(s[f]))return c;d=d[s[f]]}return d===void 0?c:d}e.get=i})(Wf);var HI=Wf.get;const Ko=Yn(HI);var WI=4;function ja(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WI,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function qe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var l=r[o-1];return typeof l=="string"?a+l+i:l!==void 0?a+ja(l)+i:a+i},"")}var Kt=e=>e===0?0:e>0?1:-1,Fr=e=>typeof e=="number"&&e!=+e,qn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,G=e=>(typeof e=="number"||e instanceof Number)&&!Fr(e),sn=e=>G(e)||typeof e=="string",VI=0,Ps=e=>{var t=++VI;return"".concat(e||"").concat(t)},Yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!G(t)&&typeof t!="string")return n;var i;if(qn(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Fr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},aT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function _t(e,t,r){return G(e)&&G(t)?ja(e+r*(t-e)):t}function KI(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ko(n,t))===r)}var gt=e=>e===null||typeof e>"u",su=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function GI(e){return e!=null}function uu(){}var FI=["type","size","sizeType"];function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(null,arguments)}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){YI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YI(e,t,r){return(t=XI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XI(e){var t=ZI(e,"string");return typeof t=="symbol"?t:t+""}function ZI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JI(e,t){if(e==null)return{};var r,n,a=QI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iT={symbolCircle:$y,symbolCross:pI,symbolDiamond:vI,symbolSquare:yI,symbolStar:_I,symbolTriangle:SI,symbolWye:EI},e$=Math.PI/180,t$=e=>{var t="symbol".concat(su(e));return iT[t]||$y},r$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*e$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},n$=(e,t)=>{iT["symbol".concat(su(e))]=t},oT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=JI(e,FI),i=L1(L1({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=t$(o),m=OI().type(h).size(r$(r,n,o)),g=m();if(g!==null)return g},{className:s,cx:c,cy:d}=i,f=Rr(i);return G(c)&&G(d)&&G(r)?w.createElement("path",Og({},f,{className:De("recharts-symbols",s),transform:"translate(".concat(c,", ").concat(d,")"),d:l()})):null};oT.registerSymbol=n$;var lT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,a$=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Dy(a)&&(n[a]=i=>r[a](r,i))}),n},i$=(e,t,r)=>n=>(e(t,r,n),null),Uy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Dy(a)&&typeof i=="function"&&(n||(n={}),n[a]=i$(i,t,r))}),n};function U1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(r),!0).forEach(function(n){l$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l$(e,t,r){return(t=s$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$(e){var t=u$(e,"string");return typeof t=="symbol"?t:t+""}function u$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=o$({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var sT={},uT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o,i,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(uT);var cT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(cT);var qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(qy);var dT={},Gf={},fT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(fT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Gf);var hT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(hT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gf,r=hT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(dT);var mT={},pT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(pT);var gT={},Hy={},vT={},Wy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Wy);var Vy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Vy);var Ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Ky);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy,r=Vy,n=Ky;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(g,b,y,p,v,x){const _=h(g,b,y,p,v,x);return _!==void 0?!!_:i(g,b,m,x)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return s(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const g=Object.keys(f);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let b=0;b<g.length;b++){const y=g[b];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,b]of f.entries()){const y=d.get(g);if(h(y,b,g,d,f,m)===!1)return!1}return!0}function s(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let b=0;b<f.length;b++){const y=f[b];let p=!1;for(let v=0;v<d.length;v++){if(g.has(v))continue;const x=d[v];let _=!1;if(h(x,y,b,d,f,m)&&(_=!0),_){g.add(v),p=!0;break}}if(!p)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?s([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=c})(vT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vT;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Hy);var yT={},Gy={},bT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(bT);var Ff={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Ff);var Fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",s="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",b="[object DataView]",y="[object Uint8Array]",p="[object Uint8ClampedArray]",v="[object Uint16Array]",x="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",O="[object BigInt64Array]",A="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=b,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=A,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=E,e.int8ArrayTag=j,e.mapTag=s,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=v,e.uint32ArrayTag=x,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=p})(Fy);var xT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(xT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT,r=Ff,n=Fy,a=Vy,i=xT;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const b=g==null?void 0:g(d,f,h,m);if(b!==void 0)return b;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let p=0;p<d.length;p++)y[p]=l(d[p],p,h,m,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[p,v]of d)y.set(p,l(v,p,h,m,g));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const p of d)y.add(l(p,void 0,h,m,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let p=0;p<d.length;p++)y[p]=l(d[p],p,h,m,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),s(y,d,h,m,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),s(y,d,h,m,g),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),s(y,d,h,m,g),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,s(y,d,h,m,g),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),s(y,d,h,m,g),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),s(y,d,h,m,g),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),s(y,d,h,m,g),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),s(y,d,h,m,g),y}return d}function s(d,f,h=d,m,g){const b=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<b.length;y++){const p=b[y],v=Object.getOwnPropertyDescriptor(d,p);(v==null||v.writable)&&(d[p]=l(f[p],p,h,m,g))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=s})(Gy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(yT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=yT;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(gT);var wT={},_T={},ST={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy,r=Ff,n=Fy;function a(i,o){return t.cloneDeepWith(i,(l,s,c,d)=>{const f=o==null?void 0:o(l,s,c,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,c,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(ST);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ST;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(_T);var jT={},Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Yy);var ET={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ff;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(ET);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ly,r=Yy,n=ET,a=Kf;function i(o,l){let s;if(Array.isArray(l)?s=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?s=a.toPath(l):s=[l],s.length===0)return!1;let c=o;for(let d=0;d<s.length;d++){const f=s[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(jT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=Vf,n=_T,a=Wf,i=jT;function o(l,s){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return s=n.cloneDeep(s),function(c){const d=a.get(c,l);return d===void 0?i.has(c,l):s===void 0?d===void 0:t.isMatch(d,s)}}e.matchesProperty=o})(wT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qy,r=pT,n=gT,a=wT;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(mT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT,r=cT,n=qy,a=dT,i=mT;function o(l,s=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(i.iteratee(s),1)):[]}e.uniqBy=o})(sT);var c$=sT.uniqBy;const q1=Yn(c$);function d$(e,t,r){return t===!0?q1(e,r):typeof t=="function"?q1(e,t):e}var OT={exports:{}},CT={},AT={exports:{}},TT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=w;function f$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var h$=typeof Object.is=="function"?Object.is:f$,m$=Go.useState,p$=Go.useEffect,g$=Go.useLayoutEffect,v$=Go.useDebugValue;function y$(e,t){var r=t(),n=m$({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return g$(function(){a.value=r,a.getSnapshot=t,Lm(a)&&i({inst:a})},[e,r,t]),p$(function(){return Lm(a)&&i({inst:a}),e(function(){Lm(a)&&i({inst:a})})},[e]),v$(r),r}function Lm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!h$(e,r)}catch{return!0}}function b$(e,t){return t()}var x$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b$:y$;TT.useSyncExternalStore=Go.useSyncExternalStore!==void 0?Go.useSyncExternalStore:x$;AT.exports=TT;var w$=AT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=w,_$=w$;function S$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j$=typeof Object.is=="function"?Object.is:S$,E$=_$.useSyncExternalStore,O$=Yf.useRef,C$=Yf.useEffect,A$=Yf.useMemo,T$=Yf.useDebugValue;CT.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=O$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=A$(function(){function s(m){if(!c){if(c=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,j$(d,m))return g;var b=n(m);return a!==void 0&&a(g,b)?(d=m,g):(d=m,f=b)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=E$(e,i[0],i[1]);return C$(function(){o.hasValue=!0,o.value=l},[l]),T$(l),l};OT.exports=CT;var k$=OT.exports,Xy=w.createContext(null),P$=e=>e,Ge=()=>{var e=w.useContext(Xy);return e?e.store.dispatch:P$},Rc=()=>{},N$=()=>Rc,R$=(e,t)=>e===t;function X(e){var t=w.useContext(Xy);return k$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:N$,t?t.store.getState:Rc,t?t.store.getState:Rc,t?e:Rc,R$)}function M$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function D$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function z$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var H1=e=>Array.isArray(e)?e:[e];function B$(e){const t=Array.isArray(e[0])?e[0]:e;return z$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function I$(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var $$=class{constructor(e){this.value=e}deref(){return this.value}},L$=typeof WeakRef<"u"?WeakRef:$$,U$=0,W1=1;function rc(){return{s:U$,v:void 0,o:null,p:null}}function kT(e,t={}){let r=rc();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:s}=arguments;for(let h=0,m=s;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const y=b.get(g);y===void 0?(l=rc(),b.set(g,l)):l=y}else{let b=l.p;b===null&&(l.p=b=new Map);const y=b.get(g);y===void 0?(l=rc(),b.set(g,l)):l=y}}const c=l;let d;if(l.s===W1)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new L$(d):d}return c.s=W1,c.v=d,d}return o.clearCache=()=>{r=rc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function q$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,s={},c=a.pop();typeof c=="object"&&(s=c,c=a.pop()),M$(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...s},{memoize:f,memoizeOptions:h=[],argsMemoize:m=kT,argsMemoizeOptions:g=[]}=d,b=H1(h),y=H1(g),p=B$(a),v=f(function(){return i++,c.apply(null,arguments)},...b),x=m(function(){o++;const j=I$(p,arguments);return l=v.apply(null,j),l},...y);return Object.assign(x,{resultFunc:c,memoizedResultFunc:v,dependencies:p,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var R=q$(kT),H$=Object.assign((e,t=R)=>{D$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,s)=>(o[r[s]]=l,o),{}))},{withTypes:()=>H$}),PT={},NT={},RT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(RT);var MT={},Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Zy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(MT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RT,r=MT,n=Kf;function a(i,o,l,s){if(i==null)return[];l=s?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const c=(m,g)=>{let b=m;for(let y=0;y<g.length&&b!=null;++y)b=b[g[y]];return b},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:c(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?c(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let b=0;b<f.length;b++){const y=t.compareValues(m.criteria[b],g.criteria[b],l[b]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=a})(NT);var DT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,s)=>{for(let c=0;c<l.length;c++){const d=l[c];Array.isArray(d)&&s<i?o(d,s+1):a.push(d)}};return o(r,0),a}e.flatten=t})(DT);var Jy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yy,r=Gf,n=Wy,a=Ky;function i(o,l,s){return n.isObject(s)&&(typeof l=="number"&&r.isArrayLike(s)&&t.isIndex(l)&&l<s.length||typeof l=="string"&&l in s)?a.isEqualsSameValueZero(s[l],o):!1}e.isIterateeCall=i})(Jy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NT,r=DT,n=Jy;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(PT);var W$=PT.sortBy;const Xf=Yn(W$);var zT=e=>e.legend.settings,V$=e=>e.legend.size,K$=e=>e.legend.payload;R([K$,zT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Xf(n,r):n});var nc=1;function G$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>nc||Math.abs(o.left-t.left)>nc||Math.abs(o.top-t.top)>nc||Math.abs(o.width-t.width)>nc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var F$=typeof Symbol=="function"&&Symbol.observable||"@@observable",V1=F$,Um=()=>Math.random().toString(36).substring(7).split("").join("."),Y$={INIT:`@@redux/INIT${Um()}`,REPLACE:`@@redux/REPLACE${Um()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Um()}`},jd=Y$;function Qy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function BT(e,t,r){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(bt(1));return r(BT)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,s=!1;function c(){o===i&&(o=new Map,i.forEach((y,p)=>{o.set(p,y)}))}function d(){if(s)throw new Error(bt(3));return a}function f(y){if(typeof y!="function")throw new Error(bt(4));if(s)throw new Error(bt(5));let p=!0;c();const v=l++;return o.set(v,y),function(){if(p){if(s)throw new Error(bt(6));p=!1,c(),o.delete(v),i=null}}}function h(y){if(!Qy(y))throw new Error(bt(7));if(typeof y.type>"u")throw new Error(bt(8));if(typeof y.type!="string")throw new Error(bt(17));if(s)throw new Error(bt(9));try{s=!0,a=n(a,y)}finally{s=!1}return(i=o).forEach(v=>{v()}),y}function m(y){if(typeof y!="function")throw new Error(bt(10));n=y,h({type:jd.REPLACE})}function g(){const y=f;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(bt(11));function v(){const _=p;_.next&&_.next(d())}return v(),{unsubscribe:y(v)}},[V1](){return this}}}return h({type:jd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[V1]:g}}function X$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:jd.INIT})>"u")throw new Error(bt(12));if(typeof r(void 0,{type:jd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function IT(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{X$(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let s=!1;const c={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(bt(14));c[f]=g,s=s||g!==m}return s=s||n.length!==Object.keys(o).length,s?c:o}}function Ed(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Z$(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(bt(15))};const o={getState:a.getState,dispatch:(s,...c)=>i(s,...c)},l=e.map(s=>s(o));return i=Ed(...l)(a.dispatch),{...a,dispatch:i}}}function $T(e){return Qy(e)&&"type"in e&&typeof e.type=="string"}var LT=Symbol.for("immer-nothing"),K1=Symbol.for("immer-draftable"),It=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object,Fo=ur.getPrototypeOf,Od="constructor",Zf="prototype",Cg="configurable",Cd="enumerable",Mc="writable",Ns="value",Hn=e=>!!e&&!!e[It];function Xr(e){var t;return e?UT(e)||Qf(e)||!!e[K1]||!!((t=e[Od])!=null&&t[K1])||eh(e)||th(e):!1}var J$=ur[Zf][Od].toString(),G1=new WeakMap;function UT(e){if(!e||!e0(e))return!1;const t=Fo(e);if(t===null||t===ur[Zf])return!0;const r=ur.hasOwnProperty.call(t,Od)&&t[Od];if(r===Object)return!0;if(!oo(r))return!1;let n=G1.get(r);return n===void 0&&(n=Function.toString.call(r),G1.set(r,n)),n===J$}function Jf(e,t,r=!0){cu(e)===0?(r?Reflect.ownKeys(e):ur.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function cu(e){const t=e[It];return t?t.type_:Qf(e)?1:eh(e)?2:th(e)?3:0}var F1=(e,t,r=cu(e))=>r===2?e.has(t):ur[Zf].hasOwnProperty.call(e,t),Ag=(e,t,r=cu(e))=>r===2?e.get(t):e[t],Ad=(e,t,r,n=cu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Q$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Qf=Array.isArray,eh=e=>e instanceof Map,th=e=>e instanceof Set,e0=e=>typeof e=="object",oo=e=>typeof e=="function",qm=e=>typeof e=="boolean";function eL(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var wn=e=>e.copy_||e.base_,t0=e=>e.modified_?e.copy_:e.base_;function Tg(e,t){if(eh(e))return new Map(e);if(th(e))return new Set(e);if(Qf(e))return Array[Zf].slice.call(e);const r=UT(e);if(t===!0||t==="class_only"&&!r){const n=ur.getOwnPropertyDescriptors(e);delete n[It];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[Mc]===!1&&(l[Mc]=!0,l[Cg]=!0),(l.get||l.set)&&(n[o]={[Cg]:!0,[Mc]:!0,[Cd]:l[Cd],[Ns]:e[o]})}return ur.create(Fo(e),n)}else{const n=Fo(e);if(n!==null&&r)return{...e};const a=ur.create(n);return ur.assign(a,e)}}function r0(e,t=!1){return rh(e)||Hn(e)||!Xr(e)||(cu(e)>1&&ur.defineProperties(e,{set:ac,add:ac,clear:ac,delete:ac}),ur.freeze(e),t&&Jf(e,(r,n)=>{r0(n,!0)},!1)),e}function tL(){Wr(2)}var ac={[Ns]:tL};function rh(e){return e===null||!e0(e)?!0:ur.isFrozen(e)}var Td="MapSet",kg="Patches",Y1="ArrayMethods",qT={};function Ci(e){const t=qT[e];return t||Wr(0,e),t}var X1=e=>!!qT[e],Rs,HT=()=>Rs,rL=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:X1(Td)?Ci(Td):void 0,arrayMethodsPlugin_:X1(Y1)?Ci(Y1):void 0});function Z1(e,t){t&&(e.patchPlugin_=Ci(kg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pg(e){Ng(e),e.drafts_.forEach(nL),e.drafts_=null}function Ng(e){e===Rs&&(Rs=e.parent_)}var J1=e=>Rs=rL(Rs,e);function nL(e){const t=e[It];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Q1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[It].modified_&&(Pg(t),Wr(4)),Xr(e)&&(e=ew(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[It].base_,e,t)}else e=ew(t,r);return aL(t,e,!0),Pg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LT?e:void 0}function ew(e,t){if(rh(t))return t;const r=t[It];if(!r)return kd(t,e.handledSet_,e);if(!nh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);KT(r,e)}return r.copy_}function aL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&r0(t,r)}function WT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var nh=(e,t)=>e.scope_===t,iL=[];function VT(e,t,r,n){const a=wn(e),i=e.type_;if(n!==void 0&&Ag(a,n,i)===t){Ad(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Jf(a,(s,c)=>{if(Hn(c)){const d=l.get(c)||[];d.push(s),l.set(c,d)}})}const o=e.draftLocations_.get(t)??iL;for(const l of o)Ad(a,l,r,i)}function oL(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!nh(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=t0(i);VT(e,i.draft_??i,o,r),KT(i,a)})}function KT(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}WT(e)}}function lL(e,t,r){const{scope_:n}=e;if(Hn(r)){const a=r[It];nh(a,n)&&a.callbacks_.push(function(){Dc(e);const o=t0(a);VT(e,r,o,t)})}else Xr(r)&&e.callbacks_.push(function(){const i=wn(e);e.type_===3?i.has(r)&&kd(r,n.handledSet_,n):Ag(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&kd(Ag(e.copy_,t,e.type_),n.handledSet_,n)})}function kd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Hn(e)||t.has(e)||!Xr(e)||rh(e)||(t.add(e),Jf(e,(n,a)=>{if(Hn(a)){const i=a[It];if(nh(i,r)){const o=t0(i);Ad(e,n,o,e.type_),WT(i)}}else Xr(a)&&kd(a,t,r)})),e}function sL(e,t){const r=Qf(e),n={type_:r?1:0,scope_:t?t.scope_:HT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Pd;r&&(a=[n],i=Ms);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var Pd={get(e,t){if(t===It)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=wn(e);if(!F1(a,t,e.type_))return uL(e,a,t);const i=a[t];if(e.finalized_||!Xr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&eL(t))return i;if(i===Hm(e.base_,t)){Dc(e);const o=e.type_===1?+t:t,l=Mg(e.scope_,i,e,o);return e.copy_[o]=l}return i},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,r){const n=GT(wn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Hm(wn(e),t),i=a==null?void 0:a[It];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Q$(r,a)&&(r!==void 0||F1(e.base_,t,e.type_)))return!0;Dc(e),Rg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),lL(e,t,r)),!0},deleteProperty(e,t){return Dc(e),Hm(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Rg(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Mc]:!0,[Cg]:e.type_!==1||t!=="length",[Cd]:n[Cd],[Ns]:r[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return Fo(e.base_)},setPrototypeOf(){Wr(12)}},Ms={};for(let e in Pd){let t=Pd[e];Ms[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Ms.deleteProperty=function(e,t){return Ms.set.call(this,e,t,void 0)};Ms.set=function(e,t,r){return Pd.set.call(this,e[0],t,r,e[0])};function Hm(e,t){const r=e[It];return(r?wn(r):e)[t]}function uL(e,t,r){var a;const n=GT(t,r);return n?Ns in n?n[Ns]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function GT(e,t){if(!(t in e))return;let r=Fo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Fo(r)}}function Rg(e){e.modified_||(e.modified_=!0,e.parent_&&Rg(e.parent_))}function Dc(e){e.copy_||(e.assigned_=new Map,e.copy_=Tg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(oo(r)&&!oo(n)){const o=n;n=r;const l=this;return function(c=o,...d){return l.produce(c,f=>n.call(this,f,...d))}}oo(n)||Wr(6),a!==void 0&&!oo(a)&&Wr(7);let i;if(Xr(r)){const o=J1(this),l=Mg(o,r,void 0);let s=!0;try{i=n(l),s=!1}finally{s?Pg(o):Ng(o)}return Z1(o,a),Q1(i,o)}else if(!r||!e0(r)){if(i=n(r),i===void 0&&(i=r),i===LT&&(i=void 0),this.autoFreeze_&&r0(i,!0),a){const o=[],l=[];Ci(kg).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else Wr(1,r)},this.produceWithPatches=(r,n)=>{if(oo(r))return(l,...s)=>this.produceWithPatches(l,c=>r(c,...s));let a,i;return[this.produce(r,n,(l,s)=>{a=l,i=s}),a,i]},qm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),qm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),qm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xr(t)||Wr(8),Hn(t)&&(t=Gr(t));const r=J1(this),n=Mg(r,t,void 0);return n[It].isManual_=!0,Ng(r),n}finishDraft(t,r){const n=t&&t[It];(!n||!n.isManual_)&&Wr(9);const{scope_:a}=n;return Z1(a,r),Q1(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Ci(kg).applyPatches_;return Hn(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Mg(e,t,r,n){const[a,i]=eh(t)?Ci(Td).proxyMap_(t,r):th(t)?Ci(Td).proxySet_(t,r):sL(t,r);return((r==null?void 0:r.scope_)??HT()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?oL(r,i,n):i.callbacks_.push(function(s){var d;(d=s.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:c}=s;i.modified_&&c&&c.generatePatches_(i,[],s)}),a}function Gr(e){return Hn(e)||Wr(10,e),FT(e)}function FT(e){if(!Xr(e)||rh(e))return e;const t=e[It];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Tg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Tg(e,!0);return Jf(r,(a,i)=>{Ad(r,a,FT(i))},n),t&&(t.finalized_=!1),r}var dL=new cL,YT=dL.produce;function XT(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var fL=XT(),hL=XT,mL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ed:Ed.apply(null,arguments)};function Mr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(mr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>$T(n)&&n.type===e,r}var ZT=class Kl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kl.prototype)}static get[Symbol.species](){return Kl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kl(...t[0].concat(this)):new Kl(...t.concat(this))}};function tw(e){return Xr(e)?YT(e,()=>{}):e}function ic(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function pL(e){return typeof e=="boolean"}var gL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new ZT;return r&&(pL(r)?o.push(fL):o.push(hL(r.extraArgument))),o},JT="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[JT]:!0}}),rw=e=>t=>{setTimeout(t,e)},QT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,s=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rw(10):e.type==="callback"?e.queueNotification:rw(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[JT]),i=!a,i&&(o||(o=!0,s(c))),n.dispatch(d)}finally{a=!0}}})},vL=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new ZT(e);return n&&a.push(QT(typeof n=="object"?n:void 0)),a};function yL(e){const t=gL(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Qy(r))l=IT(r);else throw new Error(mr(1));let s;typeof n=="function"?s=n(t):s=t();let c=Ed;a&&(c=mL({trace:!1,...typeof a=="object"&&a}));const d=Z$(...s),f=vL(d);let h=typeof o=="function"?o(f):f();const m=c(...h);return BT(l,i,m)}function e2(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(mr(28));if(l in t)throw new Error(mr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function bL(e){return typeof e=="function"}function xL(e,t){let[r,n,a]=e2(t),i;if(bL(e))i=()=>tw(e());else{const l=tw(e);i=()=>l}function o(l=i(),s){let c=[r[s.type],...n.filter(({matcher:d})=>d(s)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(Hn(d)){const m=f(d,s);return m===void 0?d:m}else{if(Xr(d))return YT(d,h=>f(h,s));{const h=f(d,s);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var wL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_L=(e=21)=>{let t="",r=e;for(;r--;)t+=wL[Math.random()*64|0];return t},SL=Symbol.for("rtk-slice-createasyncthunk");function jL(e,t){return`${e}/${t}`}function EL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[SL];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(mr(11));const l=(typeof a.reducers=="function"?a.reducers(CL()):a.reducers)||{},s=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(mr(12));if(S in c.sliceCaseReducersByType)throw new Error(mr(13));return c.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return c.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return c.actionCreators[_]=j,d},exposeCaseReducer(_,j){return c.sliceCaseReducersByName[_]=j,d}};s.forEach(_=>{const j=l[_],S={reducerName:_,type:jL(i,_),createNotation:typeof a.reducers=="function"};TL(j)?PL(S,j,d,t):AL(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof a.extraReducers=="function"?e2(a.extraReducers):[a.extraReducers],E={..._,...c.sliceCaseReducersByType};return xL(a.initialState,O=>{for(let A in E)O.addCase(A,E[A]);for(let A of c.sliceMatchers)O.addMatcher(A.matcher,A.reducer);for(let A of j)O.addMatcher(A.matcher,A.reducer);S&&O.addDefaultCase(S)})}const h=_=>_,m=new Map,g=new WeakMap;let b;function y(_,j){return b||(b=f()),b(_,j)}function p(){return b||(b=f()),b.getInitialState()}function v(_,j=!1){function S(O){let A=O[_];return typeof A>"u"&&j&&(A=ic(g,S,p)),A}function E(O=h){const A=ic(m,j,()=>new WeakMap);return ic(A,O,()=>{const k={};for(const[z,P]of Object.entries(a.selectors??{}))k[z]=OL(P,O,()=>ic(g,O,p),j);return k})}return{reducerPath:_,getSelectors:E,get selectors(){return E(S)},selectSlice:S}}const x={name:i,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:p,...v(o),injectInto(_,{reducerPath:j,...S}={}){const E=j??o;return _.inject({reducerPath:E,reducer:y},S),{...x,...v(E,!0)}}};return x}}function OL(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Zt=EL();function CL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function AL({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!kL(n))throw new Error(mr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Mr(e,o):Mr(e))}function TL(e){return e._reducerDefinitionType==="asyncThunk"}function kL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function PL({type:e,reducerName:t},r,n,a){if(!a)throw new Error(mr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:s,settled:c,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),s&&n.addCase(f.rejected,s),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:o||oc,pending:l||oc,rejected:s||oc,settled:c||oc})}function oc(){}var NL="task",t2="listener",r2="completed",n0="cancelled",RL=`task-${n0}`,ML=`task-${r2}`,Dg=`${t2}-${n0}`,DL=`${t2}-${r2}`,ah=class{constructor(e){Hh(this,"name","TaskAbortError");Hh(this,"message");this.code=e,this.message=`${NL} ${n0} (reason: ${e})`}},a0=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},Nd=()=>{},n2=(e,t=Nd)=>(e.catch(t),e),a2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),vi=e=>{if(e.aborted)throw new ah(e.reason)};function i2(e,t){let r=Nd;return new Promise((n,a)=>{const i=()=>a(new ah(e.reason));if(e.aborted){i();return}r=a2(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Nd})}var zL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ah?"cancelled":"rejected",error:r}}finally{t==null||t()}},Rd=e=>t=>n2(i2(e,t).then(r=>(vi(e),r))),o2=e=>{const t=Rd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ko}=Object,nw={},ih="listenerMiddleware",BL=(e,t)=>{const r=n=>a2(e,()=>n.abort(e.reason));return(n,a)=>{a0(n);const i=new AbortController;r(i);const o=zL(async()=>{vi(e),vi(i.signal);const l=await n({pause:Rd(i.signal),delay:o2(i.signal),signal:i.signal});return vi(i.signal),l},()=>i.abort(ML));return a!=null&&a.autoJoin&&t.push(o.catch(Nd)),{result:Rd(e)(o),cancel(){i.abort(RL)}}}},IL=(e,t)=>{const r=async(n,a)=>{vi(t);let i=()=>{};const l=[new Promise((s,c)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),s([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),c()}})];a!=null&&l.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await i2(t,Promise.race(l));return vi(t),s}finally{i()}};return(n,a)=>n2(r(n,a))},l2=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Mr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(mr(21));return a0(i),{predicate:a,type:t,effect:i}},s2=ko(e=>{const{type:t,predicate:r,effect:n}=l2(e);return{id:_L(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>s2}),aw=(e,t)=>{const{type:r,effect:n,predicate:a}=l2(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},zg=e=>{e.pending.forEach(t=>{t.abort(Dg)})},$L=(e,t)=>()=>{for(const r of t.keys())zg(r);e.clear()},iw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},u2=ko(Mr(`${ih}/add`),{withTypes:()=>u2}),LL=Mr(`${ih}/removeAll`),c2=ko(Mr(`${ih}/remove`),{withTypes:()=>c2}),UL=(...e)=>{console.error(`${ih}/error`,...e)},du=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},a=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:i,onError:o=UL}=e;a0(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&zg(m)}),s=m=>{const g=aw(t,m)??s2(m);return l(g)};ko(s,{withTypes:()=>s});const c=m=>{const g=aw(t,m);return g&&(g.unsubscribe(),m.cancelActive&&zg(g)),!!g};ko(c,{withTypes:()=>c});const d=async(m,g,b,y)=>{const p=new AbortController,v=IL(s,p.signal),x=[];try{m.pending.add(p),n(m),await Promise.resolve(m.effect(g,ko({},b,{getOriginalState:y,condition:(_,j)=>v(_,j).then(Boolean),take:v,delay:o2(p.signal),pause:Rd(p.signal),extra:i,signal:p.signal,fork:BL(p.signal,x),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,j,S)=>{_!==p&&(_.abort(Dg),S.delete(_))})},cancel:()=>{p.abort(Dg),m.pending.delete(p)},throwIfCancelled:()=>{vi(p.signal)}})))}catch(_){_ instanceof ah||iw(o,_,{raisedBy:"effect"})}finally{await Promise.all(x),p.abort(DL),a(m),m.pending.delete(p)}},f=$L(t,r);return{middleware:m=>g=>b=>{if(!$T(b))return g(b);if(u2.match(b))return s(b.payload);if(LL.match(b)){f();return}if(c2.match(b))return c(b.payload);let y=m.getState();const p=()=>{if(y===nw)throw new Error(mr(23));return y};let v;try{if(v=g(b),t.size>0){const x=m.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(b,x,y)}catch(E){S=!1,iw(o,E,{raisedBy:"predicate"})}S&&d(j,b,m,p)}}}finally{y=nw}return v},startListening:s,stopListening:c,clearListeners:f}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},d2=Zt({name:"chartLayout",initialState:qL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:HL,setLayout:WL,setChartSize:VL,setScale:KL}=d2.actions,GL=d2.reducer;function f2(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Le(e){return Number.isFinite(e)}function un(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){FL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FL(e,t,r){return(t=YL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YL(e){var t=XL(e,"string");return typeof t=="symbol"?t:t+""}function XL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return gt(e)||gt(t)?r:sn(t)?Ko(e,t,r):typeof t=="function"?t(e):r}var ZL=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&G(e[i]))return xo(xo({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&G(e[o]))return xo(xo({},e),{},{[o]:e[o]+(a||0)})}return e},Li=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",h2=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},m2=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:s,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(b=m==="angleAxis"&&i&&i.length>=2?Kt(i[0]-i[1])*2*b:b,f||h){var y=(f||h||[]).map((p,v)=>{var x=n?n.indexOf(p):p;return{coordinate:o(x)+b,value:p,offset:b,index:v}});return y.filter(p=>!Fr(p.coordinate))}return s&&c?c.map((p,v)=>({coordinate:o(p)+b,value:p,index:v,offset:b})):o.ticks&&d!=null?o.ticks(d).map((p,v)=>({coordinate:o(p)+b,value:p,offset:b,index:v})):o.domain().map((p,v)=>({coordinate:o(p)+b,value:n?n[p]:p,index:v,offset:b}))},lw=1e-4,JL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-lw,i=Math.max(n[0],n[1])+lw,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},QL=(e,t)=>{if(!t||t.length!==2||!G(t[0])||!G(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!G(e[0])||e[0]<r)&&(a[0]=r),(!G(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},e6=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var s=e[l],c=s==null?void 0:s[a];if(c!=null){var d=c[1],f=c[0],h=Fr(d)?f:d;h>=0?(c[0]=i,c[1]=i+h,i=d):(c[0]=o,c[1]=o+h,o=d)}}}},t6=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var l=e[o],s=l==null?void 0:l[a];if(s!=null){var c=Fr(s[1])?s[0]:s[1];c>=0?(s[0]=i,s[1]=i+c,i=s[1]):(s[0]=0,s[1]=0)}}}},r6={sign:e6,expand:LI,none:Oi,silhouette:UI,wiggle:qI,positive:t6},n6=(e,t,r)=>{var n,a=(n=r6[r])!==null&&n!==void 0?n:Oi,i=$I().keys(t).value((l,s)=>Number(At(l,s,0))).order(Eg).offset(a),o=i(e);return o.forEach((l,s)=>{l.forEach((c,d)=>{var f=At(e[d],t[s],0);Array.isArray(f)&&f.length===2&&G(f[0])&&G(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function a6(e){return e==null?void 0:String(e)}var sw=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=At(i,t.dataKey,t.scale.domain()[o]);return gt(l)?null:t.scale(l)-a/2+n},i6=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},o6=e=>{var t=e.flat(2).filter(G);return[Math.min(...t),Math.max(...t)]},l6=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],s6=(e,t,r)=>{if(e!=null)return l6(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,l=o.reduce((s,c)=>{var d=f2(c,t,r),f=o6(d);return!Le(f[0])||!Le(f[1])?s:[Math.min(s[0],f[0]),Math.max(s[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},uw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Md=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Xf(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var s=a[o],c=a[o-1];i=Math.min(((s==null?void 0:s.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function dw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return xo(xo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function p2(e,t){if(e)return String(e);if(typeof t=="string")return t}var u6=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},c6=(e,t)=>t==="centric"?e.angle:e.radius,Jn=e=>e.layout.width,Qn=e=>e.layout.height,d6=e=>e.layout.scale,g2=e=>e.layout.margin,oh=R(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),lh=R(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),f6="data-recharts-item-index",h6="data-recharts-item-id",fu=60;function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){m6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m6(e,t,r){return(t=p6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p6(e){var t=g6(e,"string");return typeof t=="symbol"?t:t+""}function g6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v6=e=>e.brush.height;function y6(e){var t=lh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fu;return r+a}return r},0)}function b6(e){var t=lh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fu;return r+a}return r},0)}function x6(e){var t=oh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function w6(e){var t=oh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vt=R([Jn,Qn,g2,v6,y6,b6,x6,w6,zT,V$],(e,t,r,n,a,i,o,l,s,c)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=lc(lc({},f),d),m=h.bottom;h.bottom+=n,h=ZL(h,s,c);var g=e-h.left-h.right,b=t-h.top-h.bottom;return lc(lc({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(b,0)})}),_6=R(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),i0=R(Jn,Qn,(e,t)=>({x:0,y:0,width:e,height:t})),S6=w.createContext(null),Jt=()=>w.useContext(S6)!=null,sh=e=>e.brush,uh=R([sh,vt,g2],(e,t,r)=>({height:e.height,x:G(e.x)?e.x:t.left,y:G(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:G(e.width)?e.width:t.width})),v2={},y2={},b2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const s=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{c&&d(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{g(),o=void 0,l=null},y=()=>{d()},p=function(...v){if(a!=null&&a.aborted)return;o=this,l=v;const x=h==null;m(),s&&x&&d()};return p.schedule=m,p.cancel=b,p.flush=y,a==null||a.addEventListener("abort",b,{once:!0}),p}e.debounce=t})(b2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b2;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:s}=i,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...b){d=n.apply(this,b),f=null},a,{edges:c}),m=function(...b){return s!=null&&(f===null&&(f=Date.now()),Date.now()-f>=s)?(d=n.apply(this,b),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,b),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(y2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y2;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(v2);var j6=v2.throttle;const E6=Yn(j6);var Dd=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},x2=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=qn(n)?e:Number(n),s=qn(a)?t:Number(a);return i&&i>0&&(l?s=l/i:s&&(l=s*i),o&&s!=null&&s>o&&(s=o)),{calculatedWidth:l,calculatedHeight:s}},O6={width:0,height:0,overflow:"visible"},C6={width:0,overflowX:"visible"},A6={height:0,overflowY:"visible"},T6={},k6=e=>{var{width:t,height:r}=e,n=qn(t),a=qn(r);return n&&a?O6:n?C6:a?A6:T6};function P6(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(null,arguments)}function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){N6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N6(e,t,r){return(t=R6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R6(e){var t=M6(e,"string");return typeof t=="symbol"?t:t+""}function M6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w2=w.createContext({width:-1,height:-1});function D6(e){return un(e.width)&&un(e.height)}function _2(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return D6(a)?w.createElement(w2.Provider,{value:a},t):null}var o0=()=>w.useContext(w2),z6=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:s,children:c,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,b=w.useRef(null),y=w.useRef();y.current=m,w.useImperativeHandle(t,()=>b.current);var[p,v]=w.useState({containerWidth:n.width,containerHeight:n.height}),x=w.useCallback((O,A)=>{v(k=>{var z=Math.round(O),P=Math.round(A);return k.containerWidth===z&&k.containerHeight===P?k:{containerWidth:z,containerHeight:P}})},[]);w.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return uu;var O=P=>{var W,{width:H,height:Z}=P[0].contentRect;x(H,Z),(W=y.current)===null||W===void 0||W.call(y,H,Z)};d>0&&(O=E6(O,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(O),{width:k,height:z}=b.current.getBoundingClientRect();return x(k,z),A.observe(b.current),()=>{A.disconnect()}},[x,d]);var{containerWidth:_,containerHeight:j}=p;Dd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:E}=x2(_,j,{width:a,height:i,aspect:r,maxHeight:s});return Dd(S!=null&&S>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,E,a,i,o,l,r),w.createElement("div",{id:f?"".concat(f):void 0,className:De("recharts-responsive-container",h),style:mw(mw({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:s}),ref:b},w.createElement("div",{style:k6({width:a,height:i})},w.createElement(_2,{width:S,height:E},c)))}),B6=w.forwardRef((e,t)=>{var r=o0();if(un(r.width)&&un(r.height))return e.children;var{width:n,height:a}=P6({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=x2(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return G(i)&&G(o)?w.createElement(_2,{width:i,height:o},e.children):w.createElement(z6,Bg({},e,{width:n,height:a,ref:t}))});function S2(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ch=()=>{var e,t=Jt(),r=X(_6),n=X(uh),a=(e=X(sh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},I6={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},j2=()=>{var e;return(e=X(vt))!==null&&e!==void 0?e:I6},E2=()=>X(Jn),O2=()=>X(Qn),xe=e=>e.layout.layoutType,hu=()=>X(xe),$6=()=>{var e=hu();return e!==void 0},dh=e=>{var t=Ge(),r=Jt(),{width:n,height:a}=e,i=o0(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),w.useEffect(()=>{!r&&un(o)&&un(l)&&t(VL({width:o,height:l}))},[t,r,o,l]),null},C2=Symbol.for("immer-nothing"),pw=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ds=Object.getPrototypeOf;function Yo(e){return!!e&&!!e[vr]}function Ai(e){var t;return e?A2(e)||Array.isArray(e)||!!e[pw]||!!((t=e.constructor)!=null&&t[pw])||mu(e)||hh(e):!1}var L6=Object.prototype.constructor.toString(),gw=new WeakMap;function A2(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=gw.get(r);return n===void 0&&(n=Function.toString.call(r),gw.set(r,n)),n===L6}function zd(e,t,r=!0){fh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function fh(e){const t=e[vr];return t?t.type_:Array.isArray(e)?1:mu(e)?2:hh(e)?3:0}function Ig(e,t){return fh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function T2(e,t,r){const n=fh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function U6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mu(e){return e instanceof Map}function hh(e){return e instanceof Set}function ri(e){return e.copy_||e.base_}function $g(e,t){if(mu(e))return new Map(e);if(hh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=A2(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[vr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Ds(e),n)}else{const n=Ds(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function l0(e,t=!1){return mh(e)||Yo(e)||!Ai(e)||(fh(e)>1&&Object.defineProperties(e,{set:sc,add:sc,clear:sc,delete:sc}),Object.freeze(e),t&&Object.values(e).forEach(r=>l0(r,!0))),e}function q6(){Vr(2)}var sc={value:q6};function mh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var H6={};function Ti(e){const t=H6[e];return t||Vr(0,e),t}var zs;function k2(){return zs}function W6(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vw(e,t){t&&(Ti("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lg(e){Ug(e),e.drafts_.forEach(V6),e.drafts_=null}function Ug(e){e===zs&&(zs=e.parent_)}function yw(e){return zs=W6(zs,e)}function V6(e){const t=e[vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[vr].modified_&&(Lg(t),Vr(4)),Ai(e)&&(e=Bd(t,e),t.parent_||Id(t,e)),t.patches_&&Ti("Patches").generateReplacementPatches_(r[vr].base_,e,t.patches_,t.inversePatches_)):e=Bd(t,r,[]),Lg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==C2?e:void 0}function Bd(e,t,r){if(mh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[vr];if(!a)return zd(t,(i,o)=>xw(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Id(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),zd(o,(s,c)=>xw(e,a,i,s,c,r,l),n),Id(e,i,!1),r&&e.patches_&&Ti("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function xw(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=mh(a);if(!(l&&!o)){if(Yo(a)){const s=i&&t&&t.type_!==3&&!Ig(t.assigned_,n)?i.concat(n):void 0,c=Bd(e,a,s);if(T2(r,n,c),Yo(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ai(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Bd(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(mu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Id(e,a)}}}function Id(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&l0(t,r)}function K6(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:k2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=s0;r&&(a=[n],i=Bs);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var s0={get(e,t){if(t===vr)return e;const r=ri(e);if(!Ig(r,t))return G6(e,r,t);const n=r[t];return e.finalized_||!Ai(n)?n:n===Wm(e.base_,t)?(Vm(e),e.copy_[t]=Hg(n,e)):n},has(e,t){return t in ri(e)},ownKeys(e){return Reflect.ownKeys(ri(e))},set(e,t,r){const n=P2(ri(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Wm(ri(e),t),i=a==null?void 0:a[vr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(U6(r,a)&&(r!==void 0||Ig(e.base_,t)))return!0;Vm(e),qg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Wm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Vm(e),qg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ri(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Ds(e.base_)},setPrototypeOf(){Vr(12)}},Bs={};zd(s0,(e,t)=>{Bs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bs.deleteProperty=function(e,t){return Bs.set.call(this,e,t,void 0)};Bs.set=function(e,t,r){return s0.set.call(this,e[0],t,r,e[0])};function Wm(e,t){const r=e[vr];return(r?ri(r):e)[t]}function G6(e,t,r){var a;const n=P2(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function P2(e,t){if(!(t in e))return;let r=Ds(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ds(r)}}function qg(e){e.modified_||(e.modified_=!0,e.parent_&&qg(e.parent_))}function Vm(e){e.copy_||(e.copy_=$g(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var F6=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(s=i,...c){return o.produce(s,d=>r.call(this,d,...c))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let a;if(Ai(t)){const i=yw(this),o=Hg(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Lg(i):Ug(i)}return vw(i,n),bw(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===C2&&(a=void 0),this.autoFreeze_&&l0(a,!0),n){const i=[],o=[];Ti("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,s=>t(s,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ai(e)||Vr(8),Yo(e)&&(e=Y6(e));const t=yw(this),r=Hg(e,void 0);return r[vr].isManual_=!0,Ug(t),r}finishDraft(e,t){const r=e&&e[vr];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return vw(n,t),bw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ti("Patches").applyPatches_;return Yo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Hg(e,t){const r=mu(e)?Ti("MapSet").proxyMap_(e,t):hh(e)?Ti("MapSet").proxySet_(e,t):K6(e,t);return(t?t.scope_:k2()).drafts_.push(r),r}function Y6(e){return Yo(e)||Vr(10,e),N2(e)}function N2(e){if(!Ai(e)||mh(e))return e;const t=e[vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=$g(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=$g(e,!0);return zd(r,(a,i)=>{T2(r,a,N2(i))},n),t&&(t.finalized_=!1),r}var X6=new F6;X6.produce;var Z6={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},R2=Zt({name:"legend",initialState:Z6,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=Gr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:jZ,setLegendSettings:EZ,addLegendPayload:J6,replaceLegendPayload:Q6,removeLegendPayload:e8}=R2.actions,t8=R2.reducer;function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(null,arguments)}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){r8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r8(e,t,r){return(t=n8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8(e){var t=a8(e,"string");return typeof t=="symbol"?t:t+""}function a8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i8(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var o8=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:s,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(l?Xf(i,l):i).map((E,O)=>{if(E.type==="none")return null;var A=E.formatter||o||i8,{value:k,name:z}=E,P=k,W=z;if(A){var H=A(k,z,E,O,i);if(Array.isArray(H))[P,W]=H;else if(H!=null)P=H;else return null}var Z=Km({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Z},sn(W)?w.createElement("span",{className:"recharts-tooltip-item-name"},W):null,sn(W)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},P),w.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},g=Km({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Km({margin:0},a),y=!gt(d),p=y?d:"",v=De("recharts-default-tooltip",s),x=De("recharts-tooltip-label",c);y&&f&&i!==void 0&&i!==null&&(p=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Wg({className:v,style:g},_),w.createElement("p",{className:x,style:b},w.isValidElement(p)?p:"".concat(p)),m())},Nl="recharts-tooltip-wrapper",l8={visibility:"hidden"};function s8(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(Nl,{["".concat(Nl,"-right")]:G(r)&&t&&G(t.x)&&r>=t.x,["".concat(Nl,"-left")]:G(r)&&t&&G(t.x)&&r<t.x,["".concat(Nl,"-bottom")]:G(n)&&t&&G(t.y)&&n>=t.y,["".concat(Nl,"-top")]:G(n)&&t&&G(t.y)&&n<t.y})}function _w(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:s,viewBoxDimension:c}=e;if(i&&G(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=s[n];if(h==null)return 0;if(o[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var b=f+l,y=h+c;return b>y?Math.max(d,h):Math.max(f,h)}function u8(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function c8(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:s}=e,c,d,f;return o.height>0&&o.width>0&&r?(d=_w({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:s,viewBoxDimension:s.width}),f=_w({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:s,viewBoxDimension:s.height}),c=u8({translateX:d,translateY:f,useTranslate3d:l})):c=l8,{cssProperties:c,cssClasses:s8({translateX:d,translateY:f,coordinate:r})}}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){Vg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vg(e,t,r){return(t=d8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=f8(e,"string");return typeof t=="symbol"?t:t+""}function f8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class h8 extends w.PureComponent{constructor(){super(...arguments),Vg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Vg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:s,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:b,innerRef:y,hasPortalFromProps:p}=this.props,{cssClasses:v,cssProperties:x}=c8({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),_=p?{}:uc(uc({transition:s&&t?"transform ".concat(n,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=uc(uc({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:j,ref:y},i)}}var M2=()=>{var e;return(e=X(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(null,arguments)}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){m8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m8(e,t,r){return(t=p8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p8(e){var t=g8(e,"string");return typeof t=="symbol"?t:t+""}function g8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ow={curveBasisClosed:AI,curveBasisOpen:TI,curveBasis:CI,curveBumpX:hI,curveBumpY:mI,curveLinearClosed:kI,curveLinear:qf,curveMonotoneX:PI,curveMonotoneY:NI,curveNatural:RI,curveStep:MI,curveStepAfter:zI,curveStepBefore:DI},$d=e=>Le(e.x)&&Le(e.y),Cw=e=>e.base!=null&&$d(e.base)&&$d(e),Rl=e=>e.x,Ml=e=>e.y,v8=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(su(e));return(r==="curveMonotone"||r==="curveBump")&&t?Ow["".concat(r).concat(t==="vertical"?"Y":"X")]:Ow[r]||qf},y8=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=v8(t,a),l=i?r.filter($d):r,s;if(Array.isArray(n)){var c=r.map((m,g)=>Ew(Ew({},m),{},{base:n[g]}));a==="vertical"?s=tc().y(Ml).x1(Rl).x0(m=>m.base.x):s=tc().x(Rl).y1(Ml).y0(m=>m.base.y);var d=s.defined(Cw).curve(o),f=i?c.filter(Cw):c;return d(f)}a==="vertical"&&G(n)?s=tc().y(Ml).x1(Rl).x0(n):G(n)?s=tc().x(Rl).y1(Ml).y0(n):s=VA().x(Rl).y(Ml);var h=s.defined($d).curve(o);return h(l)},D2=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=hu();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?y8(o):n;return w.createElement("path",Kg({},Ln(e),a$(e),{className:De("recharts-curve",t),d:l===null?void 0:l,ref:a}))},b8=["x","y","top","left","width","height","className"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(null,arguments)}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){w8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w8(e,t,r){return(t=_8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8(e){var t=S8(e,"string");return typeof t=="symbol"?t:t+""}function S8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j8(e,t){if(e==null)return{};var r,n,a=E8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function E8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O8=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),C8=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,s=j8(e,b8),c=x8({x:t,y:r,top:n,left:a,width:i,height:o},s);return!G(t)||!G(r)||!G(i)||!G(o)||!G(n)||!G(a)?null:w.createElement("path",Gg({},Rr(c),{className:De("recharts-cross",l),d:O8(t,r,i,o,n,a)}))};function A8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){T8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T8(e,t,r){return(t=k8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k8(e){var t=P8(e,"string");return typeof t=="symbol"?t:t+""}function P8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),z2=(e,t,r)=>e.map(n=>"".concat(N8(n)," ").concat(t,"ms ").concat(r)).join(","),R8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Is=(e,t)=>Object.keys(t).reduce((r,n)=>kw(kw({},r),{},{[n]:e(n,t[n])}),{});function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){M8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8(e,t,r){return(t=D8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=z8(e,"string");return typeof t=="symbol"?t:t+""}function z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ld=(e,t,r)=>e+(t-e)*r,Fg=e=>{var{from:t,to:r}=e;return t!==r},B2=(e,t,r)=>{var n=Is((a,i)=>{if(Fg(i)){var[o,l]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Is((a,i)=>Fg(i)&&n[a]!=null?nt(nt({},i),{},{velocity:Ld(i.velocity,n[a].velocity,r),from:Ld(i.from,n[a].from,r)}):i,t):B2(e,n,r-1)};function B8(e,t,r,n,a,i){var o,l=n.reduce((h,m)=>nt(nt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),s=()=>Is((h,m)=>m.from,l),c=()=>!Object.values(l).filter(Fg).length,d=null,f=h=>{o||(o=h);var m=h-o,g=m/r.dt;l=B2(r,l,g),a(nt(nt(nt({},e),t),s())),o=h,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function I8(e,t,r,n,a,i,o){var l=null,s=a.reduce((f,h)=>{var m=e[h],g=t[h];return m==null||g==null?f:nt(nt({},f),{},{[h]:[m,g]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/n,m=Is((b,y)=>Ld(...y,r(h)),s);if(i(nt(nt(nt({},e),t),m)),h<1)l=o.setTimeout(d);else{var g=Is((b,y)=>Ld(...y,r(1)),s);i(nt(nt(nt({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const $8=(e,t,r,n,a,i)=>{var o=R8(e,t);return r==null?()=>(a(nt(nt({},e),t)),()=>{}):r.isStepper===!0?B8(e,t,r,o,a,i):I8(e,t,r,n,o,a,i)};var Ud=1e-4,I2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$2=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Nw=(e,t)=>r=>{var n=I2(e,t);return $2(n,r)},L8=(e,t)=>r=>{var n=I2(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return $2(a,r)},U8=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},q8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=U8(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},H8=(e,t,r,n)=>{var a=Nw(e,r),i=Nw(t,n),o=L8(e,r),l=c=>c>1?1:c<0?0:c,s=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=a(f)-d,g=o(f);if(Math.abs(m-d)<Ud||g<Ud)return i(f);f=l(f-m/g)}return i(f)};return s.isStepper=!1,s},Rw=function(){return H8(...q8(...arguments))},W8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,s)=>{var c=-(o-l)*r,d=s*n,f=s+(c-d)*a/1e3,h=s*a/1e3+o;return Math.abs(h-l)<Ud&&Math.abs(f)<Ud?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},V8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Rw(e);case"spring":return W8();default:if(e.split("(")[0]==="cubic-bezier")return Rw(e)}return typeof e=="function"?e:null};function K8(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[s,...c]=l;if(typeof s=="number"){a=e.setTimeout(i.bind(null,c),s);return}i(s),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class G8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function F8(){return K8(new G8)}var Y8=w.createContext(F8);function X8(e,t){var r=w.useContext(Y8);return w.useMemo(()=>t??r(e),[e,t,r])}var Z8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ph={isSsr:Z8()},J8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Mw={t:0},Gm={t:1};function u0(e){var t=yr(e,J8),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:s,children:c}=t,d=r==="auto"?!ph.isSsr:r,f=X8(t.animationId,t.animationManager),[h,m]=w.useState(d?Mw:Gm),g=w.useRef(null);return w.useEffect(()=>{d||m(Gm)},[d]),w.useEffect(()=>{if(!d||!n)return uu;var b=$8(Mw,Gm,V8(i),a,m,f.getTimeoutController()),y=()=>{g.current=b()};return f.start([s,o,y,a,l]),()=>{f.stop(),g.current&&g.current(),l()}},[d,n,a,i,o,s,l,f]),c(h.t)}function c0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Ps(t)),n=w.useRef(e);return n.current!==e&&(r.current=Ps(t),n.current=e),r.current}var Q8=["radius"],eU=["radius"],Dw,zw,Bw,Iw,$w,Lw,Uw,qw,Hw,Ww;function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){tU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tU(e,t,r){return(t=rU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rU(e){var t=nU(e,"string");return typeof t=="symbol"?t:t+""}function nU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(null,arguments)}function Gw(e,t){if(e==null)return{};var r,n,a=aU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function en(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Fw=(e,t,r,n,a)=>{var i=ja(r),o=ja(n),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),s=o>=0?1:-1,c=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>l?l:a[m];f=qe(Dw||(Dw=en(["M",",",""])),e,t+s*h[0]),h[0]>0&&(f+=qe(zw||(zw=en(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=qe(Bw||(Bw=en(["L ",",",""])),e+r-c*h[1],t),h[1]>0&&(f+=qe(Iw||(Iw=en(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+s*h[1])),f+=qe($w||($w=en(["L ",",",""])),e+r,t+n-s*h[2]),h[2]>0&&(f+=qe(Lw||(Lw=en(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-c*h[2],t+n)),f+=qe(Uw||(Uw=en(["L ",",",""])),e+c*h[3],t+n),h[3]>0&&(f+=qe(qw||(qw=en(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-s*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var b=Math.min(l,a);f=qe(Hw||(Hw=en(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+s*b,b,b,d,e+c*b,t,e+r-c*b,t,b,b,d,e+r,t+s*b,e+r,t+n-s*b,b,b,d,e+r-c*b,t+n,e+c*b,t+n,b,b,d,e,t+n-s*b)}else f=qe(Ww||(Ww=en(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},Yw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L2=e=>{var t=yr(e,Yw),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var{x:i,y:o,width:l,height:s,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:b}=t,y=w.useRef(l),p=w.useRef(s),v=w.useRef(i),x=w.useRef(o),_=w.useMemo(()=>({x:i,y:o,width:l,height:s,radius:c}),[i,o,l,s,c]),j=c0(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||s!==+s||l===0||s===0)return null;var S=De("recharts-rectangle",d);if(!b){var E=Rr(t),{radius:O}=E,A=Gw(E,Q8);return w.createElement("path",qd({},A,{x:ja(i),y:ja(o),width:ja(l),height:ja(s),radius:typeof c=="number"?c:void 0,className:S,d:Fw(i,o,l,s,c)}))}var k=y.current,z=p.current,P=v.current,W=x.current,H="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),C=z2(["strokeDasharray"],h,typeof f=="string"?f:Yw.animationEasing);return w.createElement(u0,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:b,begin:m},T=>{var N=_t(k,l,T),$=_t(z,s,T),U=_t(P,i,T),ne=_t(W,o,T);r.current&&(y.current=N,p.current=$,v.current=U,x.current=ne);var ue;g?T>0?ue={transition:C,strokeDasharray:Z}:ue={strokeDasharray:H}:ue={strokeDasharray:Z};var le=Rr(t),{radius:fe}=le,ce=Gw(le,eU);return w.createElement("path",qd({},ce,{radius:typeof c=="number"?c:void 0,className:S,d:Fw(U,ne,N,$,c),ref:r,style:Kw(Kw({},ue),t.style)}))})};function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){iU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iU(e,t,r){return(t=oU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oU(e){var t=lU(e,"string");return typeof t=="symbol"?t:t+""}function lU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hd=Math.PI/180,sU=e=>e*180/Math.PI,Ot=(e,t,r,n)=>({x:e+Math.cos(-Hd*n)*r,y:t+Math.sin(-Hd*n)*r}),uU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cU=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},dU=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=cU({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,s=Math.acos(l);return n>i&&(s=2*Math.PI-s),{radius:o,angle:sU(s),angleInRadian:s}},fU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},hU=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},mU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=dU({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:s,endAngle:c}=fU(t),d=i,f;if(s<=c){for(;d>c;)d-=360;for(;d<s;)d+=360;f=d>=s&&d<=c}else{for(;d>s;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=s}return f?Zw(Zw({},t),{},{radius:a,angle:hU(d,t)}):null};function U2(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Ot(t,r,n,a),l=Ot(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var Jw,Qw,e_,t_,r_,n_,a_;function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(null,arguments)}function li(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pU=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},cc=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:s}=e,c=l*(o?1:-1)+n,d=Math.asin(l/c)/Hd,f=s?a:a+i*d,h=Ot(t,r,c,f),m=Ot(t,r,n,f),g=s?a-i*d:a,b=Ot(t,r,c*Math.cos(d*Hd),g);return{center:h,circleTangency:m,lineTangency:b,theta:d}},q2=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=pU(i,o),s=i+l,c=Ot(t,r,a,i),d=Ot(t,r,a,s),f=qe(Jw||(Jw=li(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(l)>180),+(i>s),d.x,d.y);if(n>0){var h=Ot(t,r,n,i),m=Ot(t,r,n,s);f+=qe(Qw||(Qw=li(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(i<=s),h.x,h.y)}else f+=qe(e_||(e_=li(["L ",","," Z"])),t,r);return f},gU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:s,endAngle:c}=e,d=Kt(c-s),{circleTangency:f,lineTangency:h,theta:m}=cc({cx:t,cy:r,radius:a,angle:s,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:b,theta:y}=cc({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:l}),p=l?Math.abs(s-c):Math.abs(s-c)-m-y;if(p<0)return o?qe(t_||(t_=li(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):q2({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:c});var v=qe(r_||(r_=li(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(p>180),+(d<0),g.x,g.y,i,i,+(d<0),b.x,b.y);if(n>0){var{circleTangency:x,lineTangency:_,theta:j}=cc({cx:t,cy:r,radius:n,angle:s,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:E,theta:O}=cc({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(s-c):Math.abs(s-c)-j-O;if(A<0&&i===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+=qe(n_||(n_=li(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,i,i,+(d<0),S.x,S.y,n,n,+(A>180),+(d>0),x.x,x.y,i,i,+(d<0),_.x,_.y)}else v+=qe(a_||(a_=li(["L",",","Z"])),t,r);return v},vU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},H2=e=>{var t=yr(e,vU),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:s,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var h=De("recharts-sector",f),m=i-a,g=Yr(o,m,0,!0),b;return g>0&&Math.abs(c-d)<360?b=gU({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:s,startAngle:c,endAngle:d}):b=q2({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),w.createElement("path",Yg({},Rr(t),{className:h,d:b}))};function yU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(lT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,s=Ot(n,a,i,l),c=Ot(n,a,o,l);return[{x:s.x,y:s.y},{x:c.x,y:c.y}]}return U2(t)}}var W2={},V2={},K2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(K2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K2;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(V2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy,r=V2;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),s=new Array(l);for(let c=0;c<l;c++)s[c]=a,a+=o;return s}e.range=n})(W2);var bU=W2.range;const G2=Yn(bU);function Ma(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function d0(e){let t,r,n;e.length!==2?(t=Ma,r=(l,s)=>Ma(e(l),s),n=(l,s)=>e(l)-s):(t=e===Ma||e===xU?e:wU,r=e,n=e);function a(l,s,c=0,d=l.length){if(c<d){if(t(s,s)!==0)return d;do{const f=c+d>>>1;r(l[f],s)<0?c=f+1:d=f}while(c<d)}return c}function i(l,s,c=0,d=l.length){if(c<d){if(t(s,s)!==0)return d;do{const f=c+d>>>1;r(l[f],s)<=0?c=f+1:d=f}while(c<d)}return c}function o(l,s,c=0,d=l.length){const f=a(l,s,c,d-1);return f>c&&n(l[f-1],s)>-n(l[f],s)?f-1:f}return{left:a,center:o,right:i}}function wU(){return 0}function F2(e){return e===null?NaN:+e}function*_U(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const SU=d0(Ma),pu=SU.right;d0(F2).center;class i_ extends Map{constructor(t,r=OU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(o_(this,t))}has(t){return super.has(o_(this,t))}set(t,r){return super.set(jU(this,t),r)}delete(t){return super.delete(EU(this,t))}}function o_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function EU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function OU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CU(e=Ma){if(e===Ma)return Y2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Y2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const AU=Math.sqrt(50),TU=Math.sqrt(10),kU=Math.sqrt(2);function Wd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=AU?10:i>=TU?5:i>=kU?2:1;let l,s,c;return a<0?(c=Math.pow(10,-a)/o,l=Math.round(e*c),s=Math.round(t*c),l/c<e&&++l,s/c>t&&--s,c=-c):(c=Math.pow(10,a)*o,l=Math.round(e/c),s=Math.round(t/c),l*c<e&&++l,s*c>t&&--s),s<l&&.5<=r&&r<2?Wd(e,t,r*2):[l,s,c]}function Xg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Wd(t,e,r):Wd(e,t,r);if(!(i>=a))return[];const l=i-a+1,s=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)s[c]=(i-c)/-o;else for(let c=0;c<l;++c)s[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)s[c]=(a+c)/-o;else for(let c=0;c<l;++c)s[c]=(a+c)*o;return s}function Zg(e,t,r){return t=+t,e=+e,r=+r,Wd(e,t,r)[2]}function Jg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Zg(t,e,r):Zg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function l_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function s_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function X2(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Y2:CU(a);n>r;){if(n-r>600){const s=n-r+1,c=t-r+1,d=Math.log(s),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(s-f)/s)*(c-s/2<0?-1:1),m=Math.max(r,Math.floor(t-c*f/s+h)),g=Math.min(n,Math.floor(t+(s-c)*f/s+h));X2(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Dl(e,r,t),a(e[n],i)>0&&Dl(e,r,n);o<l;){for(Dl(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Dl(e,r,l):(++l,Dl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Dl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function PU(e,t,r){if(e=Float64Array.from(_U(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return s_(e);if(t>=1)return l_(e);var n,a=(n-1)*t,i=Math.floor(a),o=l_(X2(e,i).subarray(0,i+1)),l=s_(e.subarray(i+1));return o+(l-o)*(a-i)}}function NU(e,t,r=F2){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function RU(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ea(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qg=Symbol("implicit");function f0(){var e=new i_,t=[],r=[],n=Qg;function a(i){let o=e.get(i);if(o===void 0){if(n!==Qg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new i_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return f0(t,r).unknown(n)},zr.apply(a,arguments),a}function h0(){var e=f0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,s=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,b=m?n:a;i=(b-g)/Math.max(1,h-s+c*2),l&&(i=Math.floor(i)),g+=(b-g-i*(h-s))*d,o=i*(1-s),l&&(g=Math.round(g),o=Math.round(o));var y=RU(h).map(function(p){return g+i*p});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(s=Math.min(1,c=+h),f()):s},e.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),f()):s},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return h0(t(),[n,a]).round(l).paddingInner(s).paddingOuter(c).align(d)},zr.apply(f(),arguments)}function Z2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Z2(t())},e}function MU(){return Z2(h0.apply(null,arguments).paddingInner(1))}function m0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function J2(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function gu(){}var $s=.7,Vd=1/$s,Po="\\s*([+-]?\\d+)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DU=/^#([0-9a-f]{3,8})$/,zU=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),BU=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),IU=new RegExp(`^rgba\\(${Po},${Po},${Po},${Ls}\\)$`),$U=new RegExp(`^rgba\\(${ln},${ln},${ln},${Ls}\\)$`),LU=new RegExp(`^hsl\\(${Ls},${ln},${ln}\\)$`),UU=new RegExp(`^hsla\\(${Ls},${ln},${ln},${Ls}\\)$`),u_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m0(gu,Us,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c_,formatHex:c_,formatHex8:qU,formatHsl:HU,formatRgb:d_,toString:d_});function c_(){return this.rgb().formatHex()}function qU(){return this.rgb().formatHex8()}function HU(){return Q2(this).formatHsl()}function d_(){return this.rgb().formatRgb()}function Us(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=DU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?f_(t):r===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zU.exec(e))?new Gt(t[1],t[2],t[3],1):(t=BU.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IU.exec(e))?dc(t[1],t[2],t[3],t[4]):(t=$U.exec(e))?dc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LU.exec(e))?p_(t[1],t[2]/100,t[3]/100,1):(t=UU.exec(e))?p_(t[1],t[2]/100,t[3]/100,t[4]):u_.hasOwnProperty(e)?f_(u_[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function f_(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function dc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gt(e,t,r,n)}function WU(e){return e instanceof gu||(e=Us(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function ev(e,t,r,n){return arguments.length===1?WU(e):new Gt(e,t,r,n??1)}function Gt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}m0(Gt,ev,J2(gu,{brighter(e){return e=e==null?Vd:Math.pow(Vd,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(yi(this.r),yi(this.g),yi(this.b),Kd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h_,formatHex:h_,formatHex8:VU,formatRgb:m_,toString:m_}));function h_(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function VU(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si((isNaN(this.opacity)?1:this.opacity)*255)}`}function m_(){const e=Kd(this.opacity);return`${e===1?"rgb(":"rgba("}${yi(this.r)}, ${yi(this.g)}, ${yi(this.b)}${e===1?")":`, ${e})`}`}function Kd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function si(e){return e=yi(e),(e<16?"0":"")+e.toString(16)}function p_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function Q2(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof gu||(e=Us(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,s=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new Kr(o,l,s,e.opacity)}function KU(e,t,r,n){return arguments.length===1?Q2(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}m0(Kr,KU,J2(gu,{brighter(e){return e=e==null?Vd:Math.pow(Vd,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Gt(Fm(e>=240?e-240:e+120,a,n),Fm(e,a,n),Fm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Kr(g_(this.h),fc(this.s),fc(this.l),Kd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kd(this.opacity);return`${e===1?"hsl(":"hsla("}${g_(this.h)}, ${fc(this.s)*100}%, ${fc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function g_(e){return e=(e||0)%360,e<0?e+360:e}function fc(e){return Math.max(0,Math.min(1,e||0))}function Fm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const p0=e=>()=>e;function GU(e,t){return function(r){return e+r*t}}function FU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function YU(e){return(e=+e)==1?ek:function(t,r){return r-t?FU(t,r,e):p0(isNaN(t)?r:t)}}function ek(e,t){var r=t-e;return r?GU(e,r):p0(isNaN(e)?t:e)}const v_=function e(t){var r=YU(t);function n(a,i){var o=r((a=ev(a)).r,(i=ev(i)).r),l=r(a.g,i.g),s=r(a.b,i.b),c=ek(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=s(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function XU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function ZU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function JU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=vl(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function QU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function e9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=vl(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var tv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ym=new RegExp(tv.source,"g");function t9(e){return function(){return e}}function r9(e){return function(t){return e(t)+""}}function n9(e,t){var r=tv.lastIndex=Ym.lastIndex=0,n,a,i,o=-1,l=[],s=[];for(e=e+"",t=t+"";(n=tv.exec(e))&&(a=Ym.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:Gd(n,a)})),r=Ym.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?r9(s[0].x):t9(t):(t=s.length,function(c){for(var d=0,f;d<t;++d)l[(f=s[d]).i]=f.x(c);return l.join("")})}function vl(e,t){var r=typeof t,n;return t==null||r==="boolean"?p0(t):(r==="number"?Gd:r==="string"?(n=Us(t))?(t=n,v_):n9:t instanceof Us?v_:t instanceof Date?QU:ZU(t)?XU:Array.isArray(t)?JU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?e9:Gd)(e,t)}function g0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function a9(e,t){t===void 0&&(t=e,e=vl);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function i9(e){return function(){return e}}function Fd(e){return+e}var y_=[0,1];function zt(e){return e}function rv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:i9(isNaN(t)?NaN:.5)}function o9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function l9(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=rv(a,n),i=r(o,i)):(n=rv(n,a),i=r(i,o)),function(l){return i(n(l))}}function s9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=rv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var s=pu(e,l,1,n)-1;return i[s](a[s](l))}}function vu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gh(){var e=y_,t=y_,r=vl,n,a,i,o=zt,l,s,c;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=o9(e[0],e[h-1])),l=h>2?s9:l9,s=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(s||(s=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((c||(c=l(t,e.map(n),Gd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Fd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=g0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function v0(){return gh()(zt,zt)}function u9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Xo(e){return e=Yd(Math.abs(e)),e?e[1]:NaN}function c9(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>n&&(l=Math.max(1,n-s)),i.push(r.substring(a-=l,a+l)),!((s+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function d9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var f9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qs(e){if(!(t=f9.exec(e)))throw new Error("invalid format: "+e);var t;return new y0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qs.prototype=y0.prototype;function y0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}y0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function h9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Xd;function m9(e,t){var r=Yd(e,t);if(!r)return Xd=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Xd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Yd(e,Math.max(0,t+i-1))[0]}function b_(e,t){var r=Yd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const x_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:u9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>b_(e*100,t),r:b_,s:m9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function w_(e){return e}var __=Array.prototype.map,S_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function p9(e){var t=e.grouping===void 0||e.thousands===void 0?w_:c9(__.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?w_:d9(__.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=qs(f);var m=f.fill,g=f.align,b=f.sign,y=f.symbol,p=f.zero,v=f.width,x=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(x=!0,S="g"):x_[S]||(_===void 0&&(_=12),j=!0,S="g"),(p||m==="0"&&g==="=")&&(p=!0,m="0",g="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),O=(y==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=x_[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function z(P){var W=E,H=O,Z,C,T;if(S==="c")H=A(P)+H,P="";else{P=+P;var N=P<0||1/P<0;if(P=isNaN(P)?s:A(Math.abs(P),_),j&&(P=h9(P)),N&&+P==0&&b!=="+"&&(N=!1),W=(N?b==="("?b:l:b==="-"||b==="("?"":b)+W,H=(S==="s"&&!isNaN(P)&&Xd!==void 0?S_[8+Xd/3]:"")+H+(N&&b==="("?")":""),k){for(Z=-1,C=P.length;++Z<C;)if(T=P.charCodeAt(Z),48>T||T>57){H=(T===46?a+P.slice(Z+1):P.slice(Z))+H,P=P.slice(0,Z);break}}}x&&!p&&(P=t(P,1/0));var $=W.length+P.length+H.length,U=$<v?new Array(v-$+1).join(m):"";switch(x&&p&&(P=t(U+P,U.length?v-H.length:1/0),U=""),g){case"<":P=W+P+H+U;break;case"=":P=W+U+P+H;break;case"^":P=U.slice(0,$=U.length>>1)+W+P+H+U.slice($);break;default:P=U+W+P+H;break}return i(P)}return z.toString=function(){return f+""},z}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Xo(h)/3)))*3,g=Math.pow(10,-m),b=c((f=qs(f),f.type="f",f),{suffix:S_[8+m/3]});return function(y){return b(g*y)}}return{format:c,formatPrefix:d}}var hc,b0,tk;g9({thousands:",",grouping:[3],currency:["$",""]});function g9(e){return hc=p9(e),b0=hc.format,tk=hc.formatPrefix,hc}function v9(e){return Math.max(0,-Xo(Math.abs(e)))}function y9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xo(t)/3)))*3-Xo(Math.abs(e)))}function b9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xo(t)-Xo(e))+1}function rk(e,t,r,n){var a=Jg(e,t,r),i;switch(n=qs(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=y9(a,o))&&(n.precision=i),tk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=b9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=v9(a))&&(n.precision=i-(n.type==="%")*2);break}}return b0(n)}function Wa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Xg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return rk(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],s,c,d=10;for(l<o&&(c=o,o=l,l=c,c=a,a=i,i=c);d-- >0;){if(c=Zg(o,l,r),c===s)return n[a]=o,n[i]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;s=c}return e},e}function nk(){var e=v0();return e.copy=function(){return vu(e,nk())},zr.apply(e,arguments),Wa(e)}function ak(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Fd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ak(e).unknown(t)},e=arguments.length?Array.from(e,Fd):[0,1],Wa(r)}function ik(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function j_(e){return Math.log(e)}function E_(e){return Math.exp(e)}function x9(e){return-Math.log(-e)}function w9(e){return-Math.exp(-e)}function _9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function S9(e){return e===10?_9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function j9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function O_(e){return(t,r)=>-e(-t,r)}function x0(e){const t=e(j_,E_),r=t.domain;let n=10,a,i;function o(){return a=j9(n),i=S9(n),r()[0]<0?(a=O_(a),i=O_(i),e(x9,w9)):e(j_,E_),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const s=r();let c=s[0],d=s[s.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=a(c),m=a(d),g,b;const y=l==null?10:+l;let p=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(g=1;g<n;++g)if(b=h<0?g/i(-h):g*i(h),!(b<c)){if(b>d)break;p.push(b)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(b=h>0?g/i(-h):g*i(h),!(b<c)){if(b>d)break;p.push(b)}p.length*2<y&&(p=Xg(c,d,y))}else p=Xg(h,m,Math.min(m-h,y)).map(i);return f?p.reverse():p},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=n===10?"s":","),typeof s!="function"&&(!(n%1)&&(s=qs(s)).precision==null&&(s.trim=!0),s=b0(s)),l===1/0)return s;const c=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?s(d):""}},t.nice=()=>r(ik(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function ok(){const e=x0(gh()).domain([1,10]);return e.copy=()=>vu(e,ok()).base(e.base()),zr.apply(e,arguments),e}function C_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function A_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function w0(e){var t=1,r=e(C_(t),A_(t));return r.constant=function(n){return arguments.length?e(C_(t=+n),A_(t)):t},Wa(r)}function lk(){var e=w0(gh());return e.copy=function(){return vu(e,lk()).constant(e.constant())},zr.apply(e,arguments)}function T_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function E9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function O9(e){return e<0?-e*e:e*e}function _0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(E9,O9):e(T_(r),T_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wa(t)}function S0(){var e=_0(gh());return e.copy=function(){return vu(e,S0()).exponent(e.exponent())},zr.apply(e,arguments),e}function C9(){return S0.apply(null,arguments).exponent(.5)}function k_(e){return Math.sign(e)*e*e}function A9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sk(){var e=v0(),t=[0,1],r=!1,n;function a(i){var o=A9(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(k_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Fd)).map(k_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zr.apply(a,arguments),Wa(a)}function uk(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=NU(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[pu(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ma),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return uk().domain(e).range(t).unknown(n)},zr.apply(i,arguments)}function ck(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(s){return s!=null&&s<=s?a[pu(n,s,0,r)]:i}function l(){var s=-1;for(n=new Array(r);++s<r;)n[s]=((s+1)*t-(s-r)*e)/(r+1);return o}return o.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,l()):[e,t]},o.range=function(s){return arguments.length?(r=(a=Array.from(s)).length-1,l()):a.slice()},o.invertExtent=function(s){var c=a.indexOf(s);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(s){return arguments.length&&(i=s),o},o.thresholds=function(){return n.slice()},o.copy=function(){return ck().domain([e,t]).range(a).unknown(i)},zr.apply(Wa(o),arguments)}function dk(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[pu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return dk().domain(e).range(t).unknown(r)},zr.apply(a,arguments)}const Xm=new Date,Zm=new Date;function ot(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const s=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return s;let c;do s.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<o);return s},a.filter=i=>ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Xm.setTime(+i),Zm.setTime(+o),e(Xm),e(Zm),Math.floor(r(Xm,Zm))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Zd=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Zd);Zd.range;const An=1e3,Tr=An*60,Tn=Tr*60,Wn=Tn*24,j0=Wn*7,P_=Wn*30,Jm=Wn*365,ui=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCSeconds());ui.range;const E0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());E0.range;const O0=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());O0.range;const C0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getHours());C0.range;const A0=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCHours());A0.range;const yu=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Wn,e=>e.getDate()-1);yu.range;const vh=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>e.getUTCDate()-1);vh.range;const fk=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>Math.floor(e/Wn));fk.range;function Ui(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/j0)}const yh=Ui(0),Jd=Ui(1),T9=Ui(2),k9=Ui(3),Zo=Ui(4),P9=Ui(5),N9=Ui(6);yh.range;Jd.range;T9.range;k9.range;Zo.range;P9.range;N9.range;function qi(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/j0)}const bh=qi(0),Qd=qi(1),R9=qi(2),M9=qi(3),Jo=qi(4),D9=qi(5),z9=qi(6);bh.range;Qd.range;R9.range;M9.range;Jo.range;D9.range;z9.range;const T0=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());T0.range;const k0=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());k0.range;const Vn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vn.range;const Kn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kn.range;function hk(e,t,r,n,a,i){const o=[[ui,1,An],[ui,5,5*An],[ui,15,15*An],[ui,30,30*An],[i,1,Tr],[i,5,5*Tr],[i,15,15*Tr],[i,30,30*Tr],[a,1,Tn],[a,3,3*Tn],[a,6,6*Tn],[a,12,12*Tn],[n,1,Wn],[n,2,2*Wn],[r,1,j0],[t,1,P_],[t,3,3*P_],[e,1,Jm]];function l(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:s(c,d,f),g=m?m.range(c,+d+1):[];return h?g.reverse():g}function s(c,d,f){const h=Math.abs(d-c)/f,m=d0(([,,y])=>y).right(o,h);if(m===o.length)return e.every(Jg(c/Jm,d/Jm,f));if(m===0)return Zd.every(Math.max(Jg(c,d,f),1));const[g,b]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(b)}return[l,s]}const[B9,I9]=hk(Kn,k0,bh,fk,A0,O0),[$9,L9]=hk(Vn,T0,yh,yu,C0,E0);function Qm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ep(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function U9(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,c=Bl(a),d=Il(a),f=Bl(i),h=Il(i),m=Bl(o),g=Il(o),b=Bl(l),y=Il(l),p=Bl(s),v=Il(s),x={a:T,A:N,b:$,B:U,c:null,d:B_,e:B_,f:cq,g:xq,G:_q,H:lq,I:sq,j:uq,L:mk,m:dq,M:fq,p:ne,q:ue,Q:L_,s:U_,S:hq,u:mq,U:pq,V:gq,w:vq,W:yq,x:null,X:null,y:bq,Y:wq,Z:Sq,"%":$_},_={a:le,A:fe,b:ce,B:D,c:null,d:I_,e:I_,f:Cq,g:Bq,G:$q,H:jq,I:Eq,j:Oq,L:gk,m:Aq,M:Tq,p:q,q:ae,Q:L_,s:U_,S:kq,u:Pq,U:Nq,V:Rq,w:Mq,W:Dq,x:null,X:null,y:zq,Y:Iq,Z:Lq,"%":$_},j={a:k,A:z,b:P,B:W,c:H,d:D_,e:D_,f:nq,g:M_,G:R_,H:z_,I:z_,j:Q9,L:rq,m:J9,M:eq,p:A,q:Z9,Q:iq,s:oq,S:tq,u:K9,U:G9,V:F9,w:V9,W:Y9,x:Z,X:C,y:M_,Y:R_,Z:X9,"%":aq};x.x=S(r,x),x.X=S(n,x),x.c=S(t,x),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(M,F){return function(ee){var I=[],Ut=-1,Oe=0,Qt=M.length,er,Ka,wb;for(ee instanceof Date||(ee=new Date(+ee));++Ut<Qt;)M.charCodeAt(Ut)===37&&(I.push(M.slice(Oe,Ut)),(Ka=N_[er=M.charAt(++Ut)])!=null?er=M.charAt(++Ut):Ka=er==="e"?" ":"0",(wb=F[er])&&(er=wb(ee,Ka)),I.push(er),Oe=Ut+1);return I.push(M.slice(Oe,Ut)),I.join("")}}function E(M,F){return function(ee){var I=zl(1900,void 0,1),Ut=O(I,M,ee+="",0),Oe,Qt;if(Ut!=ee.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(F&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(Oe=ep(zl(I.y,0,1)),Qt=Oe.getUTCDay(),Oe=Qt>4||Qt===0?Qd.ceil(Oe):Qd(Oe),Oe=vh.offset(Oe,(I.V-1)*7),I.y=Oe.getUTCFullYear(),I.m=Oe.getUTCMonth(),I.d=Oe.getUTCDate()+(I.w+6)%7):(Oe=Qm(zl(I.y,0,1)),Qt=Oe.getDay(),Oe=Qt>4||Qt===0?Jd.ceil(Oe):Jd(Oe),Oe=yu.offset(Oe,(I.V-1)*7),I.y=Oe.getFullYear(),I.m=Oe.getMonth(),I.d=Oe.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Qt="Z"in I?ep(zl(I.y,0,1)).getUTCDay():Qm(zl(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Qt+5)%7:I.w+I.U*7-(Qt+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,ep(I)):Qm(I)}}function O(M,F,ee,I){for(var Ut=0,Oe=F.length,Qt=ee.length,er,Ka;Ut<Oe;){if(I>=Qt)return-1;if(er=F.charCodeAt(Ut++),er===37){if(er=F.charAt(Ut++),Ka=j[er in N_?F.charAt(Ut++):er],!Ka||(I=Ka(M,ee,I))<0)return-1}else if(er!=ee.charCodeAt(I++))return-1}return I}function A(M,F,ee){var I=c.exec(F.slice(ee));return I?(M.p=d.get(I[0].toLowerCase()),ee+I[0].length):-1}function k(M,F,ee){var I=m.exec(F.slice(ee));return I?(M.w=g.get(I[0].toLowerCase()),ee+I[0].length):-1}function z(M,F,ee){var I=f.exec(F.slice(ee));return I?(M.w=h.get(I[0].toLowerCase()),ee+I[0].length):-1}function P(M,F,ee){var I=p.exec(F.slice(ee));return I?(M.m=v.get(I[0].toLowerCase()),ee+I[0].length):-1}function W(M,F,ee){var I=b.exec(F.slice(ee));return I?(M.m=y.get(I[0].toLowerCase()),ee+I[0].length):-1}function H(M,F,ee){return O(M,t,F,ee)}function Z(M,F,ee){return O(M,r,F,ee)}function C(M,F,ee){return O(M,n,F,ee)}function T(M){return o[M.getDay()]}function N(M){return i[M.getDay()]}function $(M){return s[M.getMonth()]}function U(M){return l[M.getMonth()]}function ne(M){return a[+(M.getHours()>=12)]}function ue(M){return 1+~~(M.getMonth()/3)}function le(M){return o[M.getUTCDay()]}function fe(M){return i[M.getUTCDay()]}function ce(M){return s[M.getUTCMonth()]}function D(M){return l[M.getUTCMonth()]}function q(M){return a[+(M.getUTCHours()>=12)]}function ae(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var F=S(M+="",x);return F.toString=function(){return M},F},parse:function(M){var F=E(M+="",!1);return F.toString=function(){return M},F},utcFormat:function(M){var F=S(M+="",_);return F.toString=function(){return M},F},utcParse:function(M){var F=E(M+="",!0);return F.toString=function(){return M},F}}}var N_={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,q9=/^%/,H9=/[\\^$*+?|[\]().{}]/g;function he(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function W9(e){return e.replace(H9,"\\$&")}function Bl(e){return new RegExp("^(?:"+e.map(W9).join("|")+")","i")}function Il(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function V9(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function K9(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function G9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function F9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Y9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function R_(e,t,r){var n=yt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function M_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function X9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Z9(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function J9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function D_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Q9(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function z_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function eq(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function tq(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function rq(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function nq(e,t,r){var n=yt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function aq(e,t,r){var n=q9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function iq(e,t,r){var n=yt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function oq(e,t,r){var n=yt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function B_(e,t){return he(e.getDate(),t,2)}function lq(e,t){return he(e.getHours(),t,2)}function sq(e,t){return he(e.getHours()%12||12,t,2)}function uq(e,t){return he(1+yu.count(Vn(e),e),t,3)}function mk(e,t){return he(e.getMilliseconds(),t,3)}function cq(e,t){return mk(e,t)+"000"}function dq(e,t){return he(e.getMonth()+1,t,2)}function fq(e,t){return he(e.getMinutes(),t,2)}function hq(e,t){return he(e.getSeconds(),t,2)}function mq(e){var t=e.getDay();return t===0?7:t}function pq(e,t){return he(yh.count(Vn(e)-1,e),t,2)}function pk(e){var t=e.getDay();return t>=4||t===0?Zo(e):Zo.ceil(e)}function gq(e,t){return e=pk(e),he(Zo.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function vq(e){return e.getDay()}function yq(e,t){return he(Jd.count(Vn(e)-1,e),t,2)}function bq(e,t){return he(e.getFullYear()%100,t,2)}function xq(e,t){return e=pk(e),he(e.getFullYear()%100,t,2)}function wq(e,t){return he(e.getFullYear()%1e4,t,4)}function _q(e,t){var r=e.getDay();return e=r>=4||r===0?Zo(e):Zo.ceil(e),he(e.getFullYear()%1e4,t,4)}function Sq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+he(t/60|0,"0",2)+he(t%60,"0",2)}function I_(e,t){return he(e.getUTCDate(),t,2)}function jq(e,t){return he(e.getUTCHours(),t,2)}function Eq(e,t){return he(e.getUTCHours()%12||12,t,2)}function Oq(e,t){return he(1+vh.count(Kn(e),e),t,3)}function gk(e,t){return he(e.getUTCMilliseconds(),t,3)}function Cq(e,t){return gk(e,t)+"000"}function Aq(e,t){return he(e.getUTCMonth()+1,t,2)}function Tq(e,t){return he(e.getUTCMinutes(),t,2)}function kq(e,t){return he(e.getUTCSeconds(),t,2)}function Pq(e){var t=e.getUTCDay();return t===0?7:t}function Nq(e,t){return he(bh.count(Kn(e)-1,e),t,2)}function vk(e){var t=e.getUTCDay();return t>=4||t===0?Jo(e):Jo.ceil(e)}function Rq(e,t){return e=vk(e),he(Jo.count(Kn(e),e)+(Kn(e).getUTCDay()===4),t,2)}function Mq(e){return e.getUTCDay()}function Dq(e,t){return he(Qd.count(Kn(e)-1,e),t,2)}function zq(e,t){return he(e.getUTCFullYear()%100,t,2)}function Bq(e,t){return e=vk(e),he(e.getUTCFullYear()%100,t,2)}function Iq(e,t){return he(e.getUTCFullYear()%1e4,t,4)}function $q(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jo(e):Jo.ceil(e),he(e.getUTCFullYear()%1e4,t,4)}function Lq(){return"+0000"}function $_(){return"%"}function L_(e){return+e}function U_(e){return Math.floor(+e/1e3)}var Ji,yk,bk;Uq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Uq(e){return Ji=U9(e),yk=Ji.format,Ji.parse,bk=Ji.utcFormat,Ji.utcParse,Ji}function qq(e){return new Date(e)}function Hq(e){return e instanceof Date?+e:+new Date(+e)}function P0(e,t,r,n,a,i,o,l,s,c){var d=v0(),f=d.invert,h=d.domain,m=c(".%L"),g=c(":%S"),b=c("%I:%M"),y=c("%I %p"),p=c("%a %d"),v=c("%b %d"),x=c("%B"),_=c("%Y");function j(S){return(s(S)<S?m:l(S)<S?g:o(S)<S?b:i(S)<S?y:n(S)<S?a(S)<S?p:v:r(S)<S?x:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Hq)):h().map(qq)},d.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},d.tickFormat=function(S,E){return E==null?j:c(E)},d.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(ik(E,S)):d},d.copy=function(){return vu(d,P0(e,t,r,n,a,i,o,l,s,c))},d}function Wq(){return zr.apply(P0($9,L9,Vn,T0,yh,yu,C0,E0,ui,yk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vq(){return zr.apply(P0(B9,I9,Kn,k0,bh,vh,A0,O0,ui,bk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xh(){var e=0,t=1,r,n,a,i,o=zt,l=!1,s;function c(f){return f==null||isNaN(f=+f)?s:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(l=!!f,c):l},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),c):[o(0),o(1)]}}return c.range=d(vl),c.rangeRound=d(g0),c.unknown=function(f){return arguments.length?(s=f,c):s},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Va(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xk(){var e=Wa(xh()(zt));return e.copy=function(){return Va(e,xk())},ea.apply(e,arguments)}function wk(){var e=x0(xh()).domain([1,10]);return e.copy=function(){return Va(e,wk()).base(e.base())},ea.apply(e,arguments)}function _k(){var e=w0(xh());return e.copy=function(){return Va(e,_k()).constant(e.constant())},ea.apply(e,arguments)}function N0(){var e=_0(xh());return e.copy=function(){return Va(e,N0()).exponent(e.exponent())},ea.apply(e,arguments)}function Kq(){return N0.apply(null,arguments).exponent(.5)}function Sk(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((pu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ma),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>PU(e,i/n))},r.copy=function(){return Sk(t).domain(e)},ea.apply(r,arguments)}function wh(){var e=0,t=.5,r=1,n=1,a,i,o,l,s,c=zt,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-i)*(n*b<n*i?l:s),c(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(c=b,m):c};function g(b){return function(y){var p,v,x;return arguments.length?([p,v,x]=y,c=a9(b,[p,v,x]),m):[c(0),c(.5),c(1)]}}return m.range=g(vl),m.rangeRound=g(g0),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,a=b(e),i=b(t),o=b(r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function jk(){var e=Wa(wh()(zt));return e.copy=function(){return Va(e,jk())},ea.apply(e,arguments)}function Ek(){var e=x0(wh()).domain([.1,1,10]);return e.copy=function(){return Va(e,Ek()).base(e.base())},ea.apply(e,arguments)}function Ok(){var e=w0(wh());return e.copy=function(){return Va(e,Ok()).constant(e.constant())},ea.apply(e,arguments)}function R0(){var e=_0(wh());return e.copy=function(){return Va(e,R0()).exponent(e.exponent())},ea.apply(e,arguments)}function Gq(){return R0.apply(null,arguments).exponent(.5)}const Gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:h0,scaleDiverging:jk,scaleDivergingLog:Ek,scaleDivergingPow:R0,scaleDivergingSqrt:Gq,scaleDivergingSymlog:Ok,scaleIdentity:ak,scaleImplicit:Qg,scaleLinear:nk,scaleLog:ok,scaleOrdinal:f0,scalePoint:MU,scalePow:S0,scaleQuantile:uk,scaleQuantize:ck,scaleRadial:sk,scaleSequential:xk,scaleSequentialLog:wk,scaleSequentialPow:N0,scaleSequentialQuantile:Sk,scaleSequentialSqrt:Kq,scaleSequentialSymlog:_k,scaleSqrt:C9,scaleSymlog:lk,scaleThreshold:dk,scaleTime:Wq,scaleUtc:Vq,tickFormat:rk},Symbol.toStringTag,{value:"Module"}));var ta=e=>e.chartData,Ck=R([ta],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ak=(e,t,r,n)=>n?Ck(e):ta(e),Fq=(e,t,r)=>r?Ck(e):ta(e);function $a(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Le(t)&&Le(r))return!0}return!1}function q_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Tk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Le(r))a=r;else if(typeof r=="function")return;if(Le(n))i=n;else if(typeof n=="function")return;var o=[a,i];if($a(o))return o}}function Yq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($a(n))return q_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(G(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&uw.test(a)){var s=uw.exec(a);if(s==null||s[1]==null||t==null)o=void 0;else{var c=+s[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(G(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&cw.test(i)){var d=cw.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if($a(h))return t==null?h:q_(h,t,r)}}}var yl=1e9,Xq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},D0,Ie=!0,Dr="[DecimalError] ",bi=Dr+"Invalid argument: ",M0=Dr+"Exponent out of range: ",bl=Math.floor,ni=Math.pow,Zq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,ft=1e7,Pe=7,kk=9007199254740991,ef=bl(kk/Pe),V={};V.absoluteValue=V.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};V.comparedTo=V.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};V.decimalPlaces=V.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};V.dividedBy=V.div=function(e){return Rn(this,new this.constructor(e))};V.dividedToIntegerBy=V.idiv=function(e){var t=this,r=t.constructor;return Se(Rn(t,new r(e),0,1),r.precision)};V.equals=V.eq=function(e){return!this.cmp(e)};V.exponent=function(){return tt(this)};V.greaterThan=V.gt=function(e){return this.cmp(e)>0};V.greaterThanOrEqualTo=V.gte=function(e){return this.cmp(e)>=0};V.isInteger=V.isint=function(){return this.e>this.d.length-2};V.isNegative=V.isneg=function(){return this.s<0};V.isPositive=V.ispos=function(){return this.s>0};V.isZero=function(){return this.s===0};V.lessThan=V.lt=function(e){return this.cmp(e)<0};V.lessThanOrEqualTo=V.lte=function(e){return this.cmp(e)<1};V.logarithm=V.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(lr)?new n(0):(Ie=!1,t=Rn(Hs(r,i),Hs(e,i),i),Ie=!0,Se(t,a))};V.minus=V.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Rk(t,e):Pk(t,(e.s=-e.s,e))};V.modulo=V.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Dr+"NaN");return r.s?(Ie=!1,t=Rn(r,e,0,1).times(e),Ie=!0,r.minus(t)):Se(new n(r),a)};V.naturalExponential=V.exp=function(){return Nk(this)};V.naturalLogarithm=V.ln=function(){return Hs(this)};V.negated=V.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};V.plus=V.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Pk(t,e):Rk(t,(e.s=-e.s,e))};V.precision=V.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bi+e);if(t=tt(a)+1,n=a.d.length-1,r=n*Pe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};V.squareRoot=V.sqrt=function(){var e,t,r,n,a,i,o,l=this,s=l.constructor;if(l.s<1){if(!l.s)return new s(0);throw Error(Dr+"NaN")}for(e=tt(l),Ie=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=an(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new s(t)):n=new s(a.toString()),r=s.precision,a=o=r+3;;)if(i=n,n=i.plus(Rn(l,i,o+2)).times(.5),an(i.d).slice(0,o)===(t=an(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Se(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ie=!0,Se(n,r)};V.times=V.mul=function(e){var t,r,n,a,i,o,l,s,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,s=h.length,c=m.length,s<c&&(i=h,h=m,m=i,o=s,s=c,c=o),i=[],o=s+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=s+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%ft|0,t=l/ft|0;i[a]=(i[a]+t)%ft|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ie?Se(e,f.precision):e};V.toDecimalPlaces=V.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(cn(e,0,yl),t===void 0?t=n.rounding:cn(t,0,8),Se(r,e+tt(r)+1,t))};V.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ki(n,!0):(cn(e,0,yl),t===void 0?t=a.rounding:cn(t,0,8),n=Se(new a(n),e+1,t),r=ki(n,!0,e+1)),r};V.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ki(a):(cn(e,0,yl),t===void 0?t=i.rounding:cn(t,0,8),n=Se(new i(a),e+tt(a)+1,t),r=ki(n.abs(),!1,e+tt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};V.toInteger=V.toint=function(){var e=this,t=e.constructor;return Se(new t(e),tt(e)+1,t.rounding)};V.toNumber=function(){return+this};V.toPower=V.pow=function(e){var t,r,n,a,i,o,l=this,s=l.constructor,c=12,d=+(e=new s(e));if(!e.s)return new s(lr);if(l=new s(l),!l.s){if(e.s<1)throw Error(Dr+"Infinity");return l}if(l.eq(lr))return l;if(n=s.precision,e.eq(lr))return Se(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=kk){for(a=new s(lr),t=Math.ceil(n/Pe+4),Ie=!1;r%2&&(a=a.times(l),W_(a.d,t)),r=bl(r/2),r!==0;)l=l.times(l),W_(l.d,t);return Ie=!0,e.s<0?new s(lr).div(a):Se(a,n)}}else if(i<0)throw Error(Dr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ie=!1,a=e.times(Hs(l,n+c)),Ie=!0,a=Nk(a),a.s=i,a};V.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=tt(a),n=ki(a,r<=i.toExpNeg||r>=i.toExpPos)):(cn(e,1,yl),t===void 0?t=i.rounding:cn(t,0,8),a=Se(new i(a),e,t),r=tt(a),n=ki(a,e<=r||r<=i.toExpNeg,e)),n};V.toSignificantDigits=V.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(cn(e,1,yl),t===void 0?t=n.rounding:cn(t,0,8)),Se(new n(r),e,t)};V.toString=V.valueOf=V.val=V.toJSON=V[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),r=e.constructor;return ki(e,t<=r.toExpNeg||t>=r.toExpPos)};function Pk(e,t){var r,n,a,i,o,l,s,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ie?Se(t,f):t;if(s=e.d,c=t.d,o=e.e,a=t.e,s=s.slice(),i=o-a,i){for(i<0?(n=s,i=-i,l=c.length):(n=c,a=o,l=s.length),o=Math.ceil(f/Pe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=s.length,i=c.length,l-i<0&&(i=l,n=c,c=s,s=n),r=0;i;)r=(s[--i]=s[i]+c[i]+r)/ft|0,s[i]%=ft;for(r&&(s.unshift(r),++a),l=s.length;s[--l]==0;)s.pop();return t.d=s,t.e=a,Ie?Se(t,f):t}function cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bi+e)}function an(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Pe-n.length,r&&(i+=ca(r)),i+=n;o=e[t],n=o+"",r=Pe-n.length,r&&(i+=ca(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Rn=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ft|0,o=i/ft|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,s;if(i!=o)s=i>o?1:-1;else for(l=s=0;l<i;l++)if(n[l]!=a[l]){s=n[l]>a[l]?1:-1;break}return s}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ft+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,s,c,d,f,h,m,g,b,y,p,v,x,_,j,S,E,O,A=n.constructor,k=n.s==a.s?1:-1,z=n.d,P=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Dr+"Division by zero");for(s=n.e-a.e,E=P.length,j=z.length,m=new A(k),g=m.d=[],c=0;P[c]==(z[c]||0);)++c;if(P[c]>(z[c]||0)&&--s,i==null?v=i=A.precision:o?v=i+(tt(n)-tt(a))+1:v=i,v<0)return new A(0);if(v=v/Pe+2|0,c=0,E==1)for(d=0,P=P[0],v++;(c<j||d)&&v--;c++)x=d*ft+(z[c]||0),g[c]=x/P|0,d=x%P|0;else{for(d=ft/(P[0]+1)|0,d>1&&(P=e(P,d),z=e(z,d),E=P.length,j=z.length),_=E,b=z.slice(0,E),y=b.length;y<E;)b[y++]=0;O=P.slice(),O.unshift(0),S=P[0],P[1]>=ft/2&&++S;do d=0,l=t(P,b,E,y),l<0?(p=b[0],E!=y&&(p=p*ft+(b[1]||0)),d=p/S|0,d>1?(d>=ft&&(d=ft-1),f=e(P,d),h=f.length,y=b.length,l=t(f,b,h,y),l==1&&(d--,r(f,E<h?O:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<y&&f.unshift(0),r(b,f,y),l==-1&&(y=b.length,l=t(P,b,E,y),l<1&&(d++,r(b,E<y?O:P,y))),y=b.length):l===0&&(d++,b=[0]),g[c++]=d,l&&b[0]?b[y++]=z[_]||0:(b=[z[_]],y=1);while((_++<j||b[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=s,Se(m,o?i+tt(m)+1:i)}}();function Nk(e,t){var r,n,a,i,o,l,s=0,c=0,d=e.constructor,f=d.precision;if(tt(e)>16)throw Error(M0+tt(e));if(!e.s)return new d(lr);for(Ie=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(ni(2,c))/Math.LN10*2+5|0,l+=n,r=a=i=new d(lr),d.precision=l;;){if(a=Se(a.times(e),l),r=r.times(++s),o=i.plus(Rn(a,r,l)),an(o.d).slice(0,l)===an(i.d).slice(0,l)){for(;c--;)i=Se(i.times(i),l);return d.precision=f,t==null?(Ie=!0,Se(i,f)):i}i=o}}function tt(e){for(var t=e.e*Pe,r=e.d[0];r>=10;r/=10)t++;return t}function tp(e,t,r){if(t>e.LN10.sd())throw Ie=!0,r&&(e.precision=r),Error(Dr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function ca(e){for(var t="";e--;)t+="0";return t}function Hs(e,t){var r,n,a,i,o,l,s,c,d,f=1,h=10,m=e,g=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(Dr+(m.s?"NaN":"-Infinity"));if(m.eq(lr))return new b(0);if(t==null?(Ie=!1,c=y):c=t,m.eq(10))return t==null&&(Ie=!0),tp(b,c);if(c+=h,b.precision=c,r=an(g),n=r.charAt(0),i=tt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=an(m.d),n=r.charAt(0),f++;i=tt(m),n>1?(m=new b("0."+r),i++):m=new b(n+"."+r.slice(1))}else return s=tp(b,c+2,y).times(i+""),m=Hs(new b(n+"."+r.slice(1)),c-h).plus(s),b.precision=y,t==null?(Ie=!0,Se(m,y)):m;for(l=o=m=Rn(m.minus(lr),m.plus(lr),c),d=Se(m.times(m),c),a=3;;){if(o=Se(o.times(d),c),s=l.plus(Rn(o,new b(a),c)),an(s.d).slice(0,c)===an(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(tp(b,c+2,y).times(i+""))),l=Rn(l,new b(f),c),b.precision=y,t==null?(Ie=!0,Se(l,y)):l;l=s,a+=2}}function H_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bl(r/Pe),e.d=[],n=(r+1)%Pe,r<0&&(n+=Pe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Pe;n<a;)e.d.push(+t.slice(n,n+=Pe));t=t.slice(n),n=Pe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ie&&(e.e>ef||e.e<-ef))throw Error(M0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,a,i,o,l,s,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Pe,a=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Pe),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;n%=Pe,a=n-Pe+o}if(r!==void 0&&(i=ni(10,o-a-1),l=c/i%10|0,s=t<0||f[d+1]!==void 0||c%i,s=r<4?(l||s)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||s||r==6&&(n>0?a>0?c/ni(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return s?(i=tt(e),f.length=1,t=t-i-1,f[0]=ni(10,(Pe-t%Pe)%Pe),e.e=bl(-t/Pe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ni(10,Pe-n),f[d]=a>0?(c/ni(10,o-a)%ni(10,a)|0)*i:0),s)for(;;)if(d==0){(f[0]+=i)==ft&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ft)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ie&&(e.e>ef||e.e<-ef))throw Error(M0+tt(e));return e}function Rk(e,t){var r,n,a,i,o,l,s,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ie?Se(t,m):t;if(s=e.d,f=t.d,n=t.e,c=e.e,s=s.slice(),o=c-n,o){for(d=o<0,d?(r=s,o=-o,l=f.length):(r=f,n=c,l=s.length),a=Math.max(Math.ceil(m/Pe),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=s.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(s[a]!=f[a]){d=s[a]<f[a];break}o=0}for(d&&(r=s,s=f,f=r,t.s=-t.s),l=s.length,a=f.length-l;a>0;--a)s[l++]=0;for(a=f.length;a>o;){if(s[--a]<f[a]){for(i=a;i&&s[--i]===0;)s[i]=ft-1;--s[i],s[a]+=ft}s[a]-=f[a]}for(;s[--l]===0;)s.pop();for(;s[0]===0;s.shift())--n;return s[0]?(t.d=s,t.e=n,Ie?Se(t,m):t):new h(0)}function ki(e,t,r){var n,a=tt(e),i=an(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ca(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ca(-a-1)+i,r&&(n=r-o)>0&&(i+=ca(n))):a>=o?(i+=ca(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ca(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ca(n))),e.s<0?"-"+i:i}function W_(e,t){if(e.length>t)return e.length=t,!0}function Mk(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(bi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return H_(o,i.toString())}else if(typeof i!="string")throw Error(bi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Zq.test(i))H_(o,i);else throw Error(bi+i)}if(a.prototype=V,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Mk,a.config=a.set=Jq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Jq(e){if(!e||typeof e!="object")throw Error(Dr+"Object expected");var t,r,n,a=["precision",1,yl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(bi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bi+r+": "+n);return this}var D0=Mk(Xq);lr=new D0(1);const ye=D0;var Qq=e=>e,Dk={},zk=e=>e===Dk,V_=e=>function t(){return arguments.length===0||arguments.length===1&&zk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Bk=(e,t)=>e===1?t:V_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==Dk).length;return i>=e?t(...n):Bk(e-i,V_(function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];var c=n.map(d=>zk(d)?l.shift():d);return t(...c,...l)}))}),e7=e=>Bk(e.length,e),nv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},t7=e7((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),r7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Qq;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,s)=>s(l),i(...arguments))}};function Ik(e){var t;return e===0?t=1:t=Math.floor(new ye(e).abs().log(10).toNumber())+1,t}function $k(e,t,r){for(var n=new ye(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Lk=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Uk=(e,t,r)=>{if(e.lte(0))return new ye(0);var n=Ik(e.toNumber()),a=new ye(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ye(Math.ceil(i.div(o).toNumber())).add(r).mul(o),s=l.mul(a);return t?new ye(s.toNumber()):new ye(Math.ceil(s.toNumber()))},n7=(e,t,r)=>{var n=new ye(1),a=new ye(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ye(10).pow(Ik(e)-1),a=new ye(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ye(Math.floor(e)))}else e===0?a=new ye(Math.floor((t-1)/2)):r||(a=new ye(Math.floor(e)));var o=Math.floor((t-1)/2),l=r7(t7(s=>a.add(new ye(s-o).mul(n)).toNumber()),nv);return l(0,t)},qk=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ye(0),tickMin:new ye(0),tickMax:new ye(0)};var o=Uk(new ye(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new ye(0):(l=new ye(t).add(r).div(2),l=l.sub(new ye(l).mod(o)));var s=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new ye(r).sub(l).div(o).toNumber()),d=s+c+1;return d>n?qk(t,r,n,a,i+1):(d<n&&(c=r>0?c+(n-d):c,s=r>0?s:s+(n-d)),{step:o,tickMin:l.sub(new ye(s).mul(o)),tickMax:l.add(new ye(c).mul(o))})},a7=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,s]=Lk([r,n]);if(l===-1/0||s===1/0){var c=s===1/0?[l,...nv(0,a-1).map(()=>1/0)]:[...nv(0,a-1).map(()=>-1/0),s];return r>n?c.reverse():c}if(l===s)return n7(l,a,i);var{step:d,tickMin:f,tickMax:h}=qk(l,s,o,i,0),m=$k(f,h.add(new ye(.1).mul(d)),d);return r>n?m.reverse():m},i7=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Lk([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var s=Math.max(r,2),c=Uk(new ye(l).sub(o).div(s-1),i,0),d=[...$k(new ye(o),new ye(l),c),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},Hk=e=>e.rootProps.maxBarSize,o7=e=>e.rootProps.barGap,Wk=e=>e.rootProps.barCategoryGap,l7=e=>e.rootProps.barSize,_h=e=>e.rootProps.stackOffset,Vk=e=>e.rootProps.reverseStackOrder,z0=e=>e.options.chartName,B0=e=>e.rootProps.syncId,Kk=e=>e.rootProps.syncMethod,I0=e=>e.options.eventEmitter,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Sn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Sh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},s7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:Sn.reversed,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:Sn.type,unit:void 0},u7={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:rr.type,unit:void 0},c7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},d7={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:"category",unit:void 0},$0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?c7:s7,L0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?d7:u7,jh=e=>e.polarOptions,U0=R([Jn,Qn,vt],uU),Gk=R([jh,U0],(e,t)=>{if(e!=null)return Yr(e.innerRadius,t,0)}),Fk=R([jh,U0],(e,t)=>{if(e!=null)return Yr(e.outerRadius,t,t*.8)}),f7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Yk=R([jh],f7);R([$0,Yk],Sh);var Xk=R([U0,Gk,Fk],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});R([L0,Xk],Sh);var Zk=R([xe,jh,Gk,Fk,Jn,Qn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:s,endAngle:c}=t;return{cx:Yr(o,a,a/2),cy:Yr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:s,endAngle:c,clockWise:!1}}}),lt=(e,t)=>t,Eh=(e,t,r)=>r;function q0(e){return e==null?void 0:e.id}function Jk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var s,c=(s=l.data)!==null&&s!==void 0?s:n;if(!(c==null||c.length===0)){var d=q0(l);c.forEach((f,h)=>{var m=i==null||a?h:String(At(f,i,null)),g=At(f,l.dataKey,0),b;o.has(m)?b=o.get(m):b={},Object.assign(b,{[d]:g}),o.set(m,b)})}}),Array.from(o.values())}function Oh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ch=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ah(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function h7(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var st=e=>{var t=xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xl=e=>e.tooltip.settings.axisId;function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){m7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7(e,t,r){return(t=p7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7(e){var t=g7(e,"string");return typeof t=="symbol"?t:t+""}function g7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var av=[0,"auto"],ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Qk=(e,t)=>e.cartesianAxis.xAxis[t],ra=(e,t)=>{var r=Qk(e,t);return r??ct},dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:av,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fu},eP=(e,t)=>e.cartesianAxis.yAxis[t],na=(e,t)=>{var r=eP(e,t);return r??dt},v7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},H0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??v7},Lt=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);case"zAxis":return H0(e,r);case"angleAxis":return $0(e,r);case"radiusAxis":return L0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},y7=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bu=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);case"angleAxis":return $0(e,r);case"radiusAxis":return L0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function rP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var W0=e=>e.graphicalItems.cartesianItems,b7=R([lt,Eh],rP),nP=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),xu=R([W0,Lt,b7],nP,{memoizeOptions:{resultEqualityCheck:Ah}}),aP=R([xu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Oh)),iP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),x7=R([xu],iP),oP=e=>e.map(t=>t.data).filter(Boolean).flat(1),w7=R([xu],oP,{memoizeOptions:{resultEqualityCheck:Ah}}),lP=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},V0=R([w7,Ak],lP),sP=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:At(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:At(a,n)}))):e.map(n=>({value:n})),Th=R([V0,Lt,xu],sP);function uP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function zc(e){if(sn(e)||e instanceof Date){var t=Number(e);if(Le(t))return t}}function G_(e){if(Array.isArray(e)){var t=[zc(e[0]),zc(e[1])];return $a(t)?t:void 0}var r=zc(e);if(r!=null)return[r,r]}function Gn(e){return e.map(zc).filter(GI)}function _7(e,t,r){return!r||typeof t!="number"||Fr(t)?[]:r.length?Gn(r.flatMap(n=>{var a=At(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Le(i)||!Le(o)))return[t-i,t+o]})):[]}var ut=e=>{var t=st(e),r=xl(e);return bu(e,t,r)},wu=R([ut],e=>e==null?void 0:e.dataKey),S7=R([aP,Ak,ut],Jk),cP=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>{if(l.stackId==null)return o;var s=o[l.stackId];return s==null&&(s=[]),s.push(l),o[l.stackId]=s,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,s]=o,c=n?[...s].reverse():s,d=c.map(q0);return[l,{stackedData:n6(e,d,r),graphicalItems:c}]}))},iv=R([S7,aP,_h,Vk],cP),dP=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=s6(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},j7=R([Lt],e=>e.allowDataOverflow),K0=e=>{var t;if(e==null||!("domain"in e))return av;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Gn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:av},fP=R([Lt],K0),hP=R([fP,j7],Tk),E7=R([iv,ta,lt,hP],dP,{memoizeOptions:{resultEqualityCheck:Ch}}),G0=e=>e.errorBars,O7=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>uP(r,n)),rf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},mP=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(s=>{var c,d,f=(c=n[s.id])===null||c===void 0?void 0:c.filter(p=>uP(a,p)),h=At(l,(d=t.dataKey)!==null&&d!==void 0?d:s.dataKey),m=_7(l,h,f);if(m.length>=2){var g=Math.min(...m),b=Math.max(...m);(i==null||g<i)&&(i=g),(o==null||b>o)&&(o=b)}var y=G_(h);y!=null&&(i=i==null?y[0]:Math.min(i,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var s=G_(At(l,t.dataKey));s!=null&&(i=i==null?s[0]:Math.min(i,s[0]),o=o==null?s[1]:Math.max(o,s[1]))}),Le(i)&&Le(o))return[i,o]},C7=R([V0,Lt,x7,G0,lt],mP,{memoizeOptions:{resultEqualityCheck:Ch}});function A7(e){var{value:t}=e;if(sn(t)||t instanceof Date)return t}var T7=(e,t,r)=>{var n=e.map(A7).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&aT(n))?G2(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},pP=e=>e.referenceElements.dots,wl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),k7=R([pP,lt,Eh],wl),gP=e=>e.referenceElements.areas,P7=R([gP,lt,Eh],wl),vP=e=>e.referenceElements.lines,N7=R([vP,lt,Eh],wl),yP=(e,t)=>{if(e!=null){var r=Gn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},R7=R(k7,lt,yP),bP=(e,t)=>{if(e!=null){var r=Gn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},M7=R([P7,lt],bP);function D7(e){var t;if(e.x!=null)return Gn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Gn(r)}function z7(e){var t;if(e.y!=null)return Gn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Gn(r)}var xP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?D7(n):z7(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},B7=R([N7,lt],xP),I7=R(R7,B7,M7,(e,t,r)=>rf(e,r,t)),wP=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var s=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=s?rf(n,i,a):rf(i,a);return Yq(t,c,e.allowDataOverflow)},$7=R([Lt,fP,hP,E7,C7,I7,xe,lt],wP,{memoizeOptions:{resultEqualityCheck:Ch}}),L7=[0,1],_P=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:s}=e,c=Li(t,i);if(c&&l==null){var d;return G2(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return s==="category"?T7(n,e,c):a==="expand"?L7:o}},F0=R([Lt,xe,V0,Th,_h,lt,$7],_P),SP=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(su(i));return l in Gl?l:"point"}}},_u=R([Lt,xe,tP,z0,lt],SP);function U7(e){if(e!=null){if(e in Gl)return Gl[e]();var t="scale".concat(su(e));if(t in Gl)return Gl[t]()}}function Y0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=U7(t);if(a!=null){var i=a.domain(r).range(n);return JL(i),i}}}var jP=(e,t,r)=>{var n=K0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$a(e))return a7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$a(e))return i7(e,t.tickCount,t.allowDecimals)}},X0=R([F0,bu,_u],jP),EP=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$a(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},q7=R([Lt,F0,X0,lt],EP),H7=R(Th,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Gn(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var s=n[l],c=n[l+1];if(!(s==null||c==null)){var d=c-s;r=Math.min(r,d)}}return r/o}}),OP=R(H7,xe,Wk,vt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Le(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Yr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),W7=(e,t,r)=>{var n=ra(e,t);return n==null||typeof n.padding!="string"?0:OP(e,"xAxis",t,r,n.padding)},V7=(e,t,r)=>{var n=na(e,t);return n==null||typeof n.padding!="string"?0:OP(e,"yAxis",t,r,n.padding)},K7=R(ra,W7,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),G7=R(na,V7,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),F7=R([vt,K7,uh,sh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Y7=R([vt,xe,G7,uh,sh,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Su=(e,t,r,n)=>{var a;switch(t){case"xAxis":return F7(e,r,n);case"yAxis":return Y7(e,r,n);case"zAxis":return(a=H0(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Yk(e);case"radiusAxis":return Xk(e,r);default:return}},CP=R([Lt,Su],Sh),kh=R([Lt,_u,q7,CP],Y0);R([xu,G0,lt],O7);function AP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ph=(e,t)=>t,Nh=(e,t,r)=>r,X7=R(oh,Ph,Nh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AP)),Z7=R(lh,Ph,Nh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AP)),TP=(e,t)=>({width:e.width,height:t.height}),J7=(e,t)=>{var r=typeof t.width=="number"?t.width:fu;return{width:r,height:e.height}},kP=R(vt,ra,TP),Q7=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},eH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},tH=R(Qn,vt,X7,Ph,Nh,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=TP(t,l);o==null&&(o=Q7(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(c)*s.height,o+=(c?-1:1)*s.height}),i}),rH=R(Jn,vt,Z7,Ph,Nh,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=J7(t,l);o==null&&(o=eH(t,n,e));var c=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(c)*s.width,o+=(c?-1:1)*s.width}),i}),nH=(e,t)=>{var r=ra(e,t);if(r!=null)return tH(e,r.orientation,r.mirror)},aH=R([vt,ra,nH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),iH=(e,t)=>{var r=na(e,t);if(r!=null)return rH(e,r.orientation,r.mirror)},oH=R([vt,na,iH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),PP=R(vt,na,(e,t)=>{var r=typeof t.width=="number"?t.width:fu;return{width:r,height:e.height}}),F_=(e,t,r)=>{switch(t){case"xAxis":return kP(e,r).width;case"yAxis":return PP(e,r).height;default:return}},NP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Li(e,n),s=t.map(c=>c.value);if(o&&l&&i==="category"&&a&&aT(s))return s}},Z0=R([xe,Th,Lt,lt],NP),RP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Li(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},J0=R([xe,Th,bu,lt],RP),Y_=R([xe,y7,_u,kh,Z0,J0,Su,X0,lt],(e,t,r,n,a,i,o,l,s)=>{if(t!=null){var c=Li(e,s);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:s,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}}),lH=(e,t,r,n,a,i,o,l,s)=>{if(!(t==null||n==null)){var c=Li(e,s),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=s==="angleAxis"&&i!=null&&i.length>=2?Kt(i[0]-i[1])*2*g:g;var b=f||a;if(b){var y=b.map((p,v)=>{var x=o?o.indexOf(p):p;return{index:v,coordinate:n(x)+g,value:p,offset:g}});return y.filter(p=>Le(p.coordinate))}return c&&l?l.map((p,v)=>({coordinate:n(p)+g,value:p,index:v,offset:g})).filter(p=>Le(p.coordinate)):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+g,value:p,offset:g})):n.domain().map((p,v)=>({coordinate:n(p)+g,value:o?o[p]:p,index:v,offset:g}))}},MP=R([xe,bu,_u,kh,X0,Su,Z0,J0,lt],lH),sH=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Li(e,o),{tickCount:s}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Kt(n[0]-n[1])*2*c:c,l&&i?i.map((d,f)=>({coordinate:r(d)+c,value:d,index:f,offset:c})):r.ticks?r.ticks(s).map(d=>({coordinate:r(d)+c,value:d,offset:c})):r.domain().map((d,f)=>({coordinate:r(d)+c,value:a?a[d]:d,index:f,offset:c}))}},Qo=R([xe,bu,kh,Su,Z0,J0,lt],sH),el=R(Lt,kh,(e,t)=>{if(!(e==null||t==null))return tf(tf({},e),{},{scale:t})}),uH=R([Lt,_u,F0,CP],Y0);R((e,t,r)=>H0(e,r),uH,(e,t)=>{if(!(e==null||t==null))return tf(tf({},e),{},{scale:t})});var cH=R([xe,oh,lh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),DP=e=>e.options.defaultTooltipEventType,zP=e=>e.options.validateTooltipEventTypes;function BP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Q0(e,t){var r=DP(e),n=zP(e);return BP(t,r,n)}function dH(e){return X(t=>Q0(t,e))}var IP=(e,t)=>{var r,n=Number(t);if(!(Fr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},fH=e=>e.tooltip.settings,va={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},hH={itemInteraction:{click:va,hover:va},axisInteraction:{click:va,hover:va},keyboardInteraction:va,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$P=Zt({name:"tooltip",initialState:hH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=Gr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:mH,replaceTooltipEntrySettings:pH,removeTooltipEntrySettings:gH,setTooltipSettingsState:vH,setActiveMouseOverItemIndex:LP,mouseLeaveItem:yH,mouseLeaveChart:UP,setActiveClickItemIndex:bH,setMouseOverAxisIndex:qP,setMouseClickAxisIndex:xH,setSyncInteraction:ov,setKeyboardInteraction:lv}=$P.actions,wH=$P.reducer;function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){_H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _H(e,t,r){return(t=SH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=jH(e,"string");return typeof t=="symbol"?t:t+""}function jH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function OH(e){return e.index!=null}var HP=(e,t,r,n)=>{if(t==null)return va;var a=EH(e,t,r);if(a==null)return va;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(OH(a)){if(i)return mc(mc({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return mc(mc({},va),{},{coordinate:a.coordinate})};function CH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function AH(e,t){var r=CH(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function TH(e,t,r){if(r==null||t==null)return!0;var n=At(e,t);return n==null||!$a(r)?!0:AH(n,r)}var eb=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Le(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var s=Math.max(o,Math.min(i,l)),c=t[s];return c==null||TH(c,r,n)?String(s):null},WP=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var s=o[0],c=s==null?void 0:l(s.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},VP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},ju=e=>e.options.tooltipPayloadSearcher,_l=e=>e.tooltip;function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=PH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RH(e,t){return e??t}var KP=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:s,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:b,settings:y}=m,p=RH(b,l),v=Array.isArray(p)?f2(p,c,d):p,x=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n,_=y==null?void 0:y.nameKey,j;if(n&&Array.isArray(v)&&!Array.isArray(v[0])&&o==="axis"?j=KI(v,n,a):j=i(v,t,s,_),Array.isArray(j))j.forEach(E=>{var O=J_(J_({},y),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(dw({tooltipEntrySettings:O,dataKey:E.dataKey,payload:E.payload,value:At(E.payload,E.dataKey),name:E.name}))});else{var S;h.push(dw({tooltipEntrySettings:y,dataKey:x,payload:j,value:At(j,x),name:(S=At(j,_))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},tb=R([ut,xe,tP,z0,st],SP),MH=R([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),DH=R([st,xl],rP),Sl=R([MH,ut,DH],nP,{memoizeOptions:{resultEqualityCheck:Ah}}),zH=R([Sl],e=>e.filter(Oh)),BH=R([Sl],oP,{memoizeOptions:{resultEqualityCheck:Ah}}),jl=R([BH,ta],lP),IH=R([zH,ta,ut],Jk),rb=R([jl,ut,Sl],sP),GP=R([ut],K0),$H=R([ut],e=>e.allowDataOverflow),FP=R([GP,$H],Tk),LH=R([Sl],e=>e.filter(Oh)),UH=R([IH,LH,_h,Vk],cP),qH=R([UH,ta,st,FP],dP),HH=R([Sl],iP),WH=R([jl,ut,HH,G0,st],mP,{memoizeOptions:{resultEqualityCheck:Ch}}),VH=R([pP,st,xl],wl),KH=R([VH,st],yP),GH=R([gP,st,xl],wl),FH=R([GH,st],bP),YH=R([vP,st,xl],wl),XH=R([YH,st],xP),ZH=R([KH,XH,FH],rf),JH=R([ut,GP,FP,qH,WH,ZH,xe,st],wP),Eu=R([ut,xe,jl,rb,_h,st,JH],_P),QH=R([Eu,ut,tb],jP),eW=R([ut,Eu,QH,st],EP),YP=e=>{var t=st(e),r=xl(e),n=!1;return Su(e,t,r,n)},XP=R([ut,YP],Sh),ZP=R([ut,tb,eW,XP],Y0),tW=R([xe,rb,ut,st],NP),rW=R([xe,rb,ut,st],RP),nW=(e,t,r,n,a,i,o,l)=>{if(t){var{type:s}=t,c=Li(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=s==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Kt(a[0]-a[1])*2*f:f,c&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},aa=R([xe,ut,tb,ZP,YP,tW,rW,st],nW),nb=R([DP,zP,fH],(e,t,r)=>BP(r.shared,e,t)),JP=e=>e.tooltip.settings.trigger,ab=e=>e.tooltip.settings.defaultIndex,Ou=R([_l,nb,JP,ab],HP),tl=R([Ou,jl,wu,Eu],eb),QP=R([aa,tl],IP),eN=R([Ou],e=>{if(e)return e.dataKey});R([Ou],e=>{if(e)return e.graphicalItemId});var tN=R([_l,nb,JP,ab],VP),aW=R([Jn,Qn,xe,vt,aa,ab,tN,ju],WP),iW=R([Ou,aW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),oW=R([Ou],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),lW=R([tN,tl,ta,wu,QP,ju,nb],KP);R([lW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){sW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dW=()=>X(ut),fW=()=>{var e=dW(),t=X(aa),r=X(ZP);return Md(!e||!r?void 0:eS(eS({},e),{},{scale:r}),t)};function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){hW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hW(e,t,r){return(t=mW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gW=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},vW=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Qi(Qi(Qi({},n),Ot(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:s}=n;return Qi(Qi(Qi({},n),Ot(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var rN=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var s,c,d,f,h,m=l>0?(s=r[l-1])===null||s===void 0?void 0:s.coordinate:(c=r[o-1])===null||c===void 0?void 0:c.coordinate,g=(d=r[l])===null||d===void 0?void 0:d.coordinate,b=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||g==null||b==null))if(Kt(g-m)!==Kt(b-g)){var p=[];if(Kt(b-g)===Kt(a[1]-a[0])){y=b;var v=g+a[1]-a[0];p[0]=Math.min(v,(v+m)/2),p[1]=Math.max(v,(v+m)/2)}else{y=m;var x=b+a[1]-a[0];p[0]=Math.min(g,(x+g)/2),p[1]=Math.max(g,(x+g)/2)}var _=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>_[0]&&e<=_[1]||e>=p[0]&&e<=p[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var S=Math.min(m,b),E=Math.max(m,b);if(e>(S+g)/2&&e<=(E+g)/2){var O;return(O=r[l])===null||O===void 0?void 0:O.index}}}else if(t)for(var A=0;A<o;A++){var k=t[A];if(k!=null){var z=t[A+1],P=t[A-1];if(A===0&&z!=null&&e<=(k.coordinate+z.coordinate)/2||A===o-1&&P!=null&&e>(k.coordinate+P.coordinate)/2||A>0&&A<o-1&&P!=null&&z!=null&&e>(k.coordinate+P.coordinate)/2&&e<=(k.coordinate+z.coordinate)/2)return k.index}}return-1},bW=()=>X(z0),ib=(e,t)=>t,nN=(e,t,r)=>r,ob=(e,t,r,n)=>n,xW=R(aa,e=>Xf(e,t=>t.coordinate)),lb=R([_l,ib,nN,ob],HP),sb=R([lb,jl,wu,Eu],eb),wW=(e,t,r)=>{if(t!=null){var n=_l(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aN=R([_l,ib,nN,ob],VP),nf=R([Jn,Qn,xe,vt,aa,ob,aN,ju],WP),_W=R([lb,nf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),iN=R([aa,sb],IP),SW=R([aN,sb,ta,wu,iN,ju,ib],KP),jW=R([lb,sb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),EW=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&yW(e,o)){var l=u6(e,t),s=rN(l,i,a,r,n),c=gW(t,a,s,e);return{activeIndex:String(s),activeCoordinate:c}}},OW=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=mU(e,r);if(l){var s=c6(l,t),c=rN(s,o,i,n,a),d=vW(t,i,c,l);return{activeIndex:String(c),activeCoordinate:d}}}},CW=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?EW(e,t,n,a,i,o,l):OW(e,t,r,n,a,i,o)},AW=R(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),TW=R(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Bt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:h7}});function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RW={},MW={zIndexMap:Object.values(Bt).reduce((e,t)=>nS(nS({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),RW)},DW=new Set(Object.values(Bt));function zW(e){return DW.has(e)}var oN=Zt({name:"zIndex",initialState:MW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!zW(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Be()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Be()}}}),{registerZIndexPortal:BW,unregisterZIndexPortal:IW,registerZIndexPortalElement:$W,unregisterZIndexPortalElement:LW}=oN.actions,UW=oN.reducer;function ia(e){var{zIndex:t,children:r}=e,n=$6(),a=n&&t!==void 0&&t!==0,i=Jt(),o=Ge();w.useLayoutEffect(()=>a?(o(BW({zIndex:t})),()=>{o(IW({zIndex:t}))}):uu,[o,t,a]);var l=X(s=>AW(s,t,i));return a?l?Sv.createPortal(r,l):null:r}function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(null,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){qW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qW(e,t,r){return(t=HW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VW(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function KW(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:s,tooltipEventType:c,chartName:d}=e,f=r,h=n,m=a;if(!s||!f||d!=="ScatterChart"&&c!=="axis")return null;var g,b,y;if(d==="ScatterChart")g=f,b=C8,y=Bt.cursorLine;else if(d==="BarChart")g=A8(l,f,i,o),b=L2,y=Bt.cursorRectangle;else if(l==="radial"&&lT(f)){var{cx:p,cy:v,radius:x,startAngle:_,endAngle:j}=U2(f);g={cx:p,cy:v,startAngle:_,endAngle:j,innerRadius:x,outerRadius:x},b=H2,y=Bt.cursorLine}else g={points:yU(l,f,i)},b=D2,y=Bt.cursorLine;var S=typeof s=="object"&&"className"in s?s.className:void 0,E=pc(pc(pc(pc({stroke:"#ccc",pointerEvents:"none"},i),g),zy(s)),{},{payload:h,payloadIndex:m,className:De("recharts-tooltip-cursor",S)});return w.createElement(ia,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},w.createElement(VW,{cursor:s,cursorComp:b,cursorProps:E}))}function GW(e){var t=fW(),r=j2(),n=hu(),a=bW();return t==null||r==null||n==null||a==null?null:w.createElement(KW,sv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var lN=w.createContext(null),FW=()=>w.useContext(lN),sN={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(s,c,d){this.fn=s,this.context=c,this.once=d||!1}function i(s,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||s,h),g=r?r+c:c;return s._events[g]?s._events[g].fn?s._events[g]=[s._events[g],m]:s._events[g].push(m):(s._events[g]=m,s._eventsCount++),s}function o(s,c){--s._eventsCount===0?s._events=new n:delete s._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,d,f,h,m,g){var b=r?r+c:c;if(!this._events[b])return!1;var y=this._events[b],p=arguments.length,v,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),p){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(x=1,v=new Array(p-1);x<p;x++)v[x-1]=arguments[x];y.fn.apply(y.context,v)}else{var _=y.length,j;for(x=0;x<_;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),p){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,d);break;case 3:y[x].fn.call(y[x].context,d,f);break;case 4:y[x].fn.call(y[x].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(p-1);j<p;j++)v[j-1]=arguments[j];y[x].fn.apply(y[x].context,v)}}return!0},l.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},l.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},l.prototype.removeListener=function(c,d,f,h){var m=r?r+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var b=0,y=[],p=g.length;b<p;b++)(g[b].fn!==d||h&&!g[b].once||f&&g[b].context!==f)&&y.push(g[b]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(sN);var YW=sN.exports;const XW=Yn(YW);var Ws=new XW,uv="recharts.syncEvent.tooltip",iS="recharts.syncEvent.brush";function ZW(e,t){if(t){var r=Number.parseInt(t,10);if(!Fr(r))return e==null?void 0:e[r]}}var JW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},uN=Zt({name:"options",initialState:JW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),QW=uN.reducer,{createEventEmitter:eV}=uN.actions;function tV(e){return e.tooltip.syncInteraction}var rV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cN=Zt({name:"chartData",initialState:rV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:oS,setDataStartEndIndexes:nV,setComputedData:OZ}=cN.actions,aV=cN.reducer,iV=["x","y"];function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){oV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oV(e,t,r){return(t=lV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uV(e,t){if(e==null)return{};var r,n,a=cV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dV(){var e=X(B0),t=X(I0),r=Ge(),n=X(Kk),a=X(aa),i=hu(),o=ch(),l=X(s=>s.rootProps.className);w.useEffect(()=>{if(e==null)return uu;var s=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y:b}=m,y=uV(m,iV),{x:p,y:v,width:x,height:_}=d.payload.sourceViewBox,j=eo(eo({},y),{},{x:o.x+(x?(g-p)/x:0)*o.width,y:o.y+(_?(b-v)/_:0)*o.height});r(eo(eo({},d),{},{payload:eo(eo({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=n(a,E);S=a[O]}else n==="value"&&(S=a.find(C=>String(C.value)===d.payload.label));var{coordinate:A}=d.payload;if(S==null||d.payload.active===!1||A==null||o==null){r(ov({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:z}=A,P=Math.min(k,o.x+o.width),W=Math.min(z,o.y+o.height),H={x:i==="horizontal"?S.coordinate:P,y:i==="horizontal"?W:S.coordinate},Z=ov({active:d.payload.active,coordinate:H,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(Z)}}};return Ws.on(uv,s),()=>{Ws.off(uv,s)}},[l,r,t,e,n,a,i,o])}function fV(){var e=X(B0),t=X(I0),r=Ge();w.useEffect(()=>{if(e==null)return uu;var n=(a,i,o)=>{t!==o&&e===a&&r(nV(i))};return Ws.on(iS,n),()=>{Ws.off(iS,n)}},[r,t,e])}function hV(){var e=Ge();w.useEffect(()=>{e(eV())},[e]),dV(),fV()}function mV(e,t,r,n,a,i){var o=X(m=>wW(m,e,t)),l=X(I0),s=X(B0),c=X(Kk),d=X(tV),f=d==null?void 0:d.active,h=ch();w.useEffect(()=>{if(!f&&s!=null&&l!=null){var m=ov({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Ws.emit(uv,s,m,l)}},[f,r,o,a,n,l,s,c,i,h])}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){pV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pV(e,t,r){return(t=gV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yV(e){return e.dataKey}function bV(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(o8,t)}var cS=[],xV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wV(e){var t,r,n=yr(e,xV),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:s,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:b,wrapperStyle:y,cursor:p,shared:v,trigger:x,defaultIndex:_,portal:j,axisId:S}=n,E=Ge(),O=typeof _=="number"?String(_):_;w.useEffect(()=>{E(vH({shared:v,trigger:x,axisId:S,active:a,defaultIndex:O}))},[E,v,x,S,a,O]);var A=ch(),k=M2(),z=dH(v),{activeIndex:P,isActive:W}=(t=X(q=>jW(q,z,x,O)))!==null&&t!==void 0?t:{},H=X(q=>SW(q,z,x,O)),Z=X(q=>iN(q,z,x,O)),C=X(q=>_W(q,z,x,O)),T=H,N=FW(),$=(r=a??W)!==null&&r!==void 0?r:!1,[U,ne]=G$([T,$]),ue=z==="axis"?Z:void 0;mV(z,x,C,ue,P,$);var le=j??N;if(le==null||A==null||z==null)return null;var fe=T??cS;$||(fe=cS),c&&fe.length&&(fe=d$(fe.filter(q=>q.value!=null&&(q.hide!==!0||n.includeHidden)),h,yV));var ce=fe.length>0,D=w.createElement(h8,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:$,coordinate:C,hasPayload:ce,offset:f,position:m,reverseDirection:g,useTranslate3d:b,viewBox:A,wrapperStyle:y,lastBoundingBox:U,innerRef:ne,hasPortalFromProps:!!j},bV(s,uS(uS({},n),{},{payload:fe,label:ue,active:$,activeIndex:P,coordinate:C,accessibilityLayer:k})));return w.createElement(w.Fragment,null,Sv.createPortal(D,le),$&&w.createElement(GW,{cursor:p,tooltipEventType:z,coordinate:C,payload:fe,index:P}))}var ub=e=>null;ub.displayName="Cell";function _V(e,t,r){return(t=SV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EV{constructor(t){_V(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){CV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CV(e,t,r){return(t=AV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=TV(e,"string");return typeof t=="symbol"?t:t+""}function TV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kV={cacheSize:2e3,enableCache:!0},dN=OV({},kV),fS=new EV(dN.cacheSize),PV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hS="recharts_measurement_span";function NV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var mS=(e,t)=>{try{var r=document.getElementById(hS);r||(r=document.createElement("span"),r.setAttribute("id",hS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,PV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ds=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ph.isSsr)return{width:0,height:0};if(!dN.enableCache)return mS(t,r);var n=NV(t,r),a=fS.get(n);if(a)return a;var i=mS(t,r);return fS.set(n,i),i},fN;function RV(e,t,r){return(t=MV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=DV(e,"string");return typeof t=="symbol"?t:t+""}function DV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$V=["cm","mm","pt","pc","in","Q","px"];function LV(e){return $V.includes(e)}var wo="NaN";function UV(e,t){return e*IV[t]}class wt{static parse(t){var r,[,n,a]=(r=BV.exec(t))!==null&&r!==void 0?r:[];return n==null?wt.NaN:new wt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Fr(t)&&(this.unit=""),r!==""&&!zV.test(r)&&(this.num=NaN,this.unit=""),LV(r)&&(this.num=UV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fr(this.num)}}fN=wt;RV(wt,"NaN",new fN(NaN,""));function hN(e){if(e==null||e.includes(wo))return wo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=pS.exec(t))!==null&&r!==void 0?r:[],o=wt.parse(n??""),l=wt.parse(i??""),s=a==="*"?o.multiply(l):o.divide(l);if(s.isNaN())return wo;t=t.replace(pS,s.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=gS.exec(t))!==null&&c!==void 0?c:[],m=wt.parse(d??""),g=wt.parse(h??""),b=f==="+"?m.add(g):m.subtract(g);if(b.isNaN())return wo;t=t.replace(gS,b.toString())}return t}var vS=/\(([^()]*)\)/;function qV(e){for(var t=e,r;(r=vS.exec(t))!=null;){var[,n]=r;t=t.replace(vS,hN(n))}return t}function HV(e){var t=e.replace(/\s+/g,"");return t=qV(t),t=hN(t),t}function WV(e){try{return HV(e)}catch{return wo}}function rp(e){var t=WV(e.slice(5,-1));return t===wo?"":t}var VV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],KV=["dx","dy","angle","className","breakAll"];function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(null,arguments)}function yS(e,t){if(e==null)return{};var r,n,a=GV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mN=/[ \f\n\r\t\v\u2028\u2029]+/,pN=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gt(t)||(r?a=t.toString().split(""):a=t.toString().split(mN));var i=a.map(l=>({word:l,width:ds(l,n).width})),o=r?0:ds("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function FV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var gN=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,s=a[a.length-1];if(s&&l!=null&&(t==null||n||s.width+l+r<Number(t)))s.words.push(o),s.width+=l+r;else{var c={words:[o],width:l};a.push(c)}return a},[]),vN=e=>e.reduce((t,r)=>t.width>r.width?t:r),YV="",bS=(e,t,r,n,a,i,o,l)=>{var s=e.slice(0,t),c=pN({breakAll:r,style:n,children:s+YV});if(!c)return[!1,[]];var d=gN(c.wordsWithComputedWidth,i,o,l),f=d.length>a||vN(d).width>Number(i);return[f,d]},XV=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:s}=e,c=G(i),d=String(o),f=gN(t,n,r,a);if(!c||a)return f;var h=f.length>i||vN(f).width>Number(n);if(!h)return f;for(var m=0,g=d.length-1,b=0,y;m<=g&&b<=d.length-1;){var p=Math.floor((m+g)/2),v=p-1,[x,_]=bS(d,v,s,l,i,n,r,a),[j]=bS(d,p,s,l,i,n,r,a);if(!x&&!j&&(m=p+1),x&&j&&(g=p-1),!x&&j){y=_;break}b++}return y||f},xS=e=>{var t=gt(e)?[]:e.toString().split(mN);return[{words:t,width:void 0}]},ZV=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!ph.isSsr){var l,s,c=pN({breakAll:i,children:n,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;l=d,s=f}else return xS(n);return XV({breakAll:i,children:n,maxLines:o,style:a},l,s,t,!!r)}return xS(n)},yN="#808080",JV={angle:0,breakAll:!1,capHeight:"0.71em",fill:yN,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},cb=w.forwardRef((e,t)=>{var r=yr(e,JV),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:s,textAnchor:c,verticalAnchor:d}=r,f=yS(r,VV),h=w.useMemo(()=>ZV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:m,dy:g,angle:b,className:y,breakAll:p}=f,v=yS(f,KV);if(!sn(n)||!sn(a)||h.length===0)return null;var x=Number(n)+(G(m)?m:0),_=Number(a)+(G(g)?g:0);if(!Le(x)||!Le(_))return null;var j;switch(d){case"start":j=rp("calc(".concat(o,")"));break;case"middle":j=rp("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=rp("calc(".concat(h.length-1," * -").concat(i,")"));break}var S=[];if(s){var E=h[0].width,{width:O}=f;S.push("scale(".concat(G(O)&&G(E)?O/E:1,")"))}return b&&S.push("rotate(".concat(b,", ").concat(x,", ").concat(_,")")),S.length&&(v.transform=S.join(" ")),w.createElement("text",cv({},Rr(v),{ref:t,x,y:_,className:De("recharts-text",y),textAnchor:c,fill:l.includes("url")?yN:l}),h.map((A,k)=>{var z=A.words.join(p?"":" ");return w.createElement("tspan",{x,dy:k===0?j:i,key:"".concat(z,"-").concat(k)},z)}))});cb.displayName="Text";var QV=["labelRef"],eK=["content"];function wS(e,t){if(e==null)return{};var r,n,a=tK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){rK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=aK(e,"string");return typeof t=="symbol"?t:t+""}function aK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jn.apply(null,arguments)}var bN=w.createContext(null),iK=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,s=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return w.createElement(bN.Provider,{value:s},l)},xN=()=>{var e=w.useContext(bN),t=ch();return e||S2(t)},oK=w.createContext(null),lK=()=>{var e=w.useContext(oK),t=X(Zk);return e||t},sK=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},db=e=>e!=null&&typeof e=="function",uK=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},cK=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:s,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,g=(c+d)/2,b=uK(f,h),y=b>=0?1:-1,p,v;switch(t){case"insideStart":p=f+y*i,v=m;break;case"insideEnd":p=h-y*i,v=!m;break;case"end":p=h+y*i,v=m;break;default:throw new Error("Unsupported position ".concat(t))}v=b<=0?v:!v;var x=Ot(l,s,g,p),_=Ot(l,s,g,p+(v?1:-1)*359),j="M".concat(x.x,",").concat(x.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(_.x,",").concat(_.y),S=gt(e.id)?Ps("recharts-radial-line-"):e.id;return w.createElement("text",jn({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:S,d:j})),w.createElement("textPath",{xlinkHref:"#".concat(S)},r))},dK=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:s}=e,c=(l+s)/2;if(r==="outside"){var{x:d,y:f}=Ot(n,a,o+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:g}=Ot(n,a,h,c);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},dv=e=>"cx"in e&&G(e.cx),fK=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!dv(r)&&(i=r);var{x:o,y:l,upperWidth:s,lowerWidth:c,height:d}=t,f=o,h=o+(s-c)/2,m=(f+h)/2,g=(s+c)/2,b=f+s/2,y=d>=0?1:-1,p=y*n,v=y>0?"end":"start",x=y>0?"start":"end",_=s>=0?1:-1,j=_*n,S=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var O={x:f+s/2,y:l-p,textAnchor:"middle",verticalAnchor:v};return We(We({},O),i?{height:Math.max(l-i.y,0),width:s}:{})}if(a==="bottom"){var A={x:h+c/2,y:l+d+p,textAnchor:"middle",verticalAnchor:x};return We(We({},A),i?{height:Math.max(i.y+i.height-(l+d),0),width:c}:{})}if(a==="left"){var k={x:m-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return We(We({},k),i?{width:Math.max(k.x-i.x,0),height:d}:{})}if(a==="right"){var z={x:m+g+j,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return We(We({},z),i?{width:Math.max(i.x+i.width-z.x,0),height:d}:{})}var P=i?{width:g,height:d}:{};return a==="insideLeft"?We({x:m+j,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},P):a==="insideRight"?We({x:m+g-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},P):a==="insideTop"?We({x:f+s/2,y:l+p,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?We({x:h+c/2,y:l+d-p,textAnchor:"middle",verticalAnchor:v},P):a==="insideTopLeft"?We({x:f+j,y:l+p,textAnchor:E,verticalAnchor:x},P):a==="insideTopRight"?We({x:f+s-j,y:l+p,textAnchor:S,verticalAnchor:x},P):a==="insideBottomLeft"?We({x:h+j,y:l+d-p,textAnchor:E,verticalAnchor:v},P):a==="insideBottomRight"?We({x:h+c-j,y:l+d-p,textAnchor:S,verticalAnchor:v},P):a&&typeof a=="object"&&(G(a.x)||qn(a.x))&&(G(a.y)||qn(a.y))?We({x:o+Yr(a.x,g),y:l+Yr(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):We({x:b,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},hK={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function da(e){var t=yr(e,hK),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:s,labelRef:c}=t,d=lK(),f=xN(),h=n==="center"?f:d??f,m,g,b;if(r==null?m=h:dv(r)?m=r:m=S2(r),!m||gt(a)&&gt(i)&&!w.isValidElement(o)&&typeof o!="function")return null;var y=We(We({},t),{},{viewBox:m});if(w.isValidElement(o)){var{labelRef:p}=y,v=wS(y,QV);return w.cloneElement(o,v)}if(typeof o=="function"){var{content:x}=y,_=wS(y,eK);if(g=w.createElement(o,_),w.isValidElement(g))return g}else g=sK(t);var j=Rr(t);if(dv(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return cK(t,n,g,j,m);b=dK(m,t.offset,t.position)}else b=fK(t,m);return w.createElement(ia,{zIndex:t.zIndex},w.createElement(cb,jn({ref:c,className:De("recharts-label",l)},j,b,{textAnchor:FV(j.textAnchor)?j.textAnchor:b.textAnchor,breakAll:s}),g))}da.displayName="Label";var mK=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(da,jn({key:"label-implicit"},n)):sn(e)?w.createElement(da,jn({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===da?w.cloneElement(e,We({key:"label-implicit"},n)):w.createElement(da,jn({key:"label-implicit",content:e},n)):db(e)?w.createElement(da,jn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(da,jn({},e,{key:"label-implicit"},n)):null};function pK(e){var{label:t,labelRef:r}=e,n=xN();return mK(t,n,r)||null}var wN={},_N={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(_N);var SN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(SN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_N,r=SN,n=Gf;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(wN);var gK=wN.last;const vK=Yn(gK);var yK=["valueAccessor"],bK=["dataKey","clockWise","id","textBreakAll","zIndex"];function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(null,arguments)}function SS(e,t){if(e==null)return{};var r,n,a=xK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wK=e=>Array.isArray(e.value)?vK(e.value):e.value,jN=w.createContext(void 0),_K=jN.Provider,EN=w.createContext(void 0);EN.Provider;function SK(){return w.useContext(jN)}function jK(){return w.useContext(EN)}function Bc(e){var{valueAccessor:t=wK}=e,r=SS(e,yK),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,s=SS(r,bK),c=SK(),d=jK(),f=c||d;return!f||!f.length?null:w.createElement(ia,{zIndex:l??Bt.label},w.createElement(Un,{className:"recharts-label-list"},f.map((h,m)=>{var g,b=gt(n)?t(h,m):At(h&&h.payload,n),y=gt(i)?{}:{id:"".concat(i,"-").concat(m)};return w.createElement(da,af({key:"label-".concat(m)},Rr(h),s,y,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:b,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Bc.displayName="LabelList";function EK(e){var{label:t}=e;return t?t===!0?w.createElement(Bc,{key:"labelList-implicit"}):w.isValidElement(t)||db(t)?w.createElement(Bc,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Bc,af({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var OK={radiusAxis:{},angleAxis:{}},ON=Zt({name:"polarAxis",initialState:OK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:CZ,removeRadiusAxis:AZ,addAngleAxis:TZ,removeAngleAxis:kZ}=ON.actions,CK=ON.reducer,CN={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb=Symbol.for("react.transitional.element"),hb=Symbol.for("react.portal"),Rh=Symbol.for("react.fragment"),Mh=Symbol.for("react.strict_mode"),Dh=Symbol.for("react.profiler"),zh=Symbol.for("react.consumer"),Bh=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Lh=Symbol.for("react.suspense_list"),Uh=Symbol.for("react.memo"),qh=Symbol.for("react.lazy"),AK=Symbol.for("react.view_transition"),TK=Symbol.for("react.client.reference");function Br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fb:switch(e=e.type,e){case Rh:case Dh:case Mh:case $h:case Lh:case AK:return e;default:switch(e=e&&e.$$typeof,e){case Bh:case Ih:case qh:case Uh:return e;case zh:return e;default:return t}}case hb:return t}}}Ee.ContextConsumer=zh;Ee.ContextProvider=Bh;Ee.Element=fb;Ee.ForwardRef=Ih;Ee.Fragment=Rh;Ee.Lazy=qh;Ee.Memo=Uh;Ee.Portal=hb;Ee.Profiler=Dh;Ee.StrictMode=Mh;Ee.Suspense=$h;Ee.SuspenseList=Lh;Ee.isContextConsumer=function(e){return Br(e)===zh};Ee.isContextProvider=function(e){return Br(e)===Bh};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fb};Ee.isForwardRef=function(e){return Br(e)===Ih};Ee.isFragment=function(e){return Br(e)===Rh};Ee.isLazy=function(e){return Br(e)===qh};Ee.isMemo=function(e){return Br(e)===Uh};Ee.isPortal=function(e){return Br(e)===hb};Ee.isProfiler=function(e){return Br(e)===Dh};Ee.isStrictMode=function(e){return Br(e)===Mh};Ee.isSuspense=function(e){return Br(e)===$h};Ee.isSuspenseList=function(e){return Br(e)===Lh};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rh||e===Dh||e===Mh||e===$h||e===Lh||typeof e=="object"&&e!==null&&(e.$$typeof===qh||e.$$typeof===Uh||e.$$typeof===Bh||e.$$typeof===zh||e.$$typeof===Ih||e.$$typeof===TK||e.getModuleId!==void 0)};Ee.typeOf=Br;CN.exports=Ee;var kK=CN.exports,jS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",ES=null,np=null,AN=e=>{if(e===ES&&Array.isArray(np))return np;var t=[];return w.Children.forEach(e,r=>{gt(r)||(kK.isFragment(r)?t=t.concat(AN(r.props.children)):t.push(r))}),np=t,ES=e,t};function PK(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>jS(a)):n=[jS(t)],AN(e).forEach(a=>{var i=Ko(a,"type.displayName")||Ko(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var TN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(TN);var NK=TN.isPlainObject;const RK=Yn(NK);var OS,CS,AS,TS,kS;function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){MK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(null,arguments)}function $l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var RS=(e,t,r,n,a)=>{var i=r-n,o;return o=qe(OS||(OS=$l(["M ",",",""])),e,t),o+=qe(CS||(CS=$l(["L ",",",""])),e+r,t),o+=qe(AS||(AS=$l(["L ",",",""])),e+r-i/2,t+a),o+=qe(TS||(TS=$l(["L ",",",""])),e+r-i/2-n,t+a),o+=qe(kS||(kS=$l(["L ",","," Z"])),e,t),o},BK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IK=e=>{var t=yr(e,BK),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:s,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=w.useRef(null),[m,g]=w.useState(-1),b=w.useRef(a),y=w.useRef(i),p=w.useRef(o),v=w.useRef(r),x=w.useRef(n),_=c0(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var H=h.current.getTotalLength();H&&g(H)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=De("recharts-trapezoid",l);if(!f)return w.createElement("g",null,w.createElement("path",of({},Rr(t),{className:j,d:RS(r,n,a,i,o)})));var S=b.current,E=y.current,O=p.current,A=v.current,k=x.current,z="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),W=z2(["strokeDasharray"],c,s);return w.createElement(u0,{animationId:_,key:_,canBegin:m>0,duration:c,easing:s,isActive:f,begin:d},H=>{var Z=_t(S,a,H),C=_t(E,i,H),T=_t(O,o,H),N=_t(A,r,H),$=_t(k,n,H);h.current&&(b.current=Z,y.current=C,p.current=T,v.current=N,x.current=$);var U=H>0?{transition:W,strokeDasharray:P}:{strokeDasharray:z};return w.createElement("path",of({},Rr(t),{className:j,d:RS(N,$,Z,C,T),ref:h,style:NS(NS({},U),t.style)}))})},$K=["option","shapeType","activeClassName"];function LK(e,t){if(e==null)return{};var r,n,a=UK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){qK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qK(e,t,r){return(t=HK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VK(e,t){return lf(lf({},t),e)}function KK(e,t){return e==="symbols"}function DS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(L2,r);case"trapezoid":return w.createElement(IK,r);case"sector":return w.createElement(H2,r);case"symbols":if(KK(t))return w.createElement(oT,r);break;case"curve":return w.createElement(D2,r);default:return null}}function GK(e){return w.isValidElement(e)?e.props:e}function FK(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=LK(e,$K),i;if(w.isValidElement(t))i=w.cloneElement(t,lf(lf({},a),GK(t)));else if(typeof t=="function")i=t(a,a.index);else if(RK(t)&&typeof t!="boolean"){var o=VK(t,a);i=w.createElement(DS,{shapeType:r,elementProps:o})}else{var l=a;i=w.createElement(DS,{shapeType:r,elementProps:l})}return a.isActive?w.createElement(Un,{className:n},i):i}var kN=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(LP({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},PN=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(yH())}},NN=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(bH({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function YK(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=Jt(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(mH(t)):a.current!==t&&r(pH({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(gH(a.current)),a.current=null)},[r]),null}function XK(e){var{legendPayload:t}=e,r=Ge(),n=Jt(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(J6(t)):a.current!==t&&r(Q6({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(e8(a.current)),a.current=null)},[r]),null}var ap,ZK=()=>{var[e]=w.useState(()=>Ps("uid-"));return e},JK=(ap=hj.useId)!==null&&ap!==void 0?ap:ZK;function QK(e,t){var r=JK();return t||(e?"".concat(e,"-").concat(r):r)}var eG=w.createContext(void 0),tG=e=>{var{id:t,type:r,children:n}=e,a=QK("recharts-".concat(r),t);return w.createElement(eG.Provider,{value:a},n(a))},rG={cartesianItems:[],polarItems:[]},RN=Zt({name:"graphicalItems",initialState:rG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=Gr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=Gr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:nG,replaceCartesianGraphicalItem:aG,removeCartesianGraphicalItem:iG,addPolarGraphicalItem:PZ,removePolarGraphicalItem:NZ}=RN.actions,oG=RN.reducer,lG=e=>{var t=Ge(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(nG(e)):r.current!==e&&t(aG({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(iG(r.current)),r.current=null)},[t]),null},sG=w.memo(lG);function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return(t=cG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MN=0,fG={xAxis:{},yAxis:{},zAxis:{}},DN=Zt({name:"cartesianAxis",initialState:fG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=BS(BS({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:hG,replaceXAxis:mG,removeXAxis:pG,addYAxis:gG,replaceYAxis:vG,removeYAxis:yG,addZAxis:RZ,replaceZAxis:MZ,removeZAxis:DZ,updateYAxisWidth:bG}=DN.actions,xG=DN.reducer,wG=R([vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),_G=R([wG,Jn,Qn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),zN=()=>X(_G),IS=(e,t,r)=>{var n=r??e;if(!gt(n))return Yr(n,t,0)},SG=(e,t,r)=>{var n={},a=e.filter(Oh),i=e.filter(c=>c.stackId==null),o=a.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),n),l=Object.entries(o).map(c=>{var[d,f]=c,h=f.map(g=>g.dataKey),m=IS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),s=i.map(c=>{var d=[c.dataKey].filter(h=>h!=null),f=IS(t,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...s]};function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){jG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jG(e,t,r){return(t=EG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CG(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Yr(e,r,0,!0),l,s=[];if(Le(n[0].barSize)){var c=!1,d=r/i,f=n.reduce((p,v)=>p+(v.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(c=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};l=n.reduce((p,v)=>{var x,_={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+o,size:c?d:(x=v.barSize)!==null&&x!==void 0?x:0}},j=[...p,_];return m=j[j.length-1].position,j},s)}else{var g=Yr(t,r,0,!0);r-2*g-(i-1)*o<=0&&(o=0);var b=(r-2*g-(i-1)*o)/i;b>1&&(b>>=0);var y=Le(a)?Math.min(b,a):b;l=n.reduce((p,v,x)=>[...p,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(b+o)*x+(b-y)/2,size:y}}],s)}return l}}var AG=(e,t,r,n,a,i,o)=>{var l=gt(o)?t:o,s=CG(r,n,a!==i?a:i,e,l);return a!==i&&s!=null&&(s=s.map(c=>gc(gc({},c),{},{position:gc(gc({},c.position),{},{offset:c.position.offset-a/2})}))),s},TG=(e,t)=>{var r=q0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function kG(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Le(e.zIndex)?e.zIndex:t}var PG=e=>{var{chartData:t}=e,r=Ge(),n=Jt();return w.useEffect(()=>n?()=>{}:(r(oS(t)),()=>{r(oS(void 0))}),[t,r,n]),null},LS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},BN=Zt({name:"brush",initialState:LS,reducers:{setBrushSettings(e,t){return t.payload==null?LS:t.payload}}}),{setBrushSettings:zZ}=BN.actions,NG=BN.reducer;function RG(e,t,r){return(t=MG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mb{static create(t){return new mb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}RG(mb,"EPS",1e-4);function zG(e){return(e%180+180)%180}var BG=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=zG(a),o=i*Math.PI/180,l=Math.atan(n/r),s=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(s)},IG={dots:[],areas:[],lines:[]},IN=Zt({name:"referenceElements",initialState:IG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Gr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Gr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Gr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:BZ,removeDot:IZ,addArea:$Z,removeArea:LZ,addLine:UZ,removeLine:qZ}=IN.actions,$G=IN.reducer,LG=w.createContext(void 0),UG=e=>{var{children:t}=e,[r]=w.useState("".concat(Ps("recharts"),"-clip")),n=zN();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return w.createElement(LG.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function $N(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function qG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return BG(n,r)}function HG(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Vs(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function WG(e,t){return $N(e,t+1)}function VG(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,s=0,c=1,d=o,f=function(){var g=n==null?void 0:n[s];if(g===void 0)return{v:$N(n,c)};var b=s,y,p=()=>(y===void 0&&(y=r(g,b)),y),v=g.coordinate,x=s===0||Vs(e,v,p,d,l);x||(s=0,d=o,c+=1),x&&(d=v+e*(p()/2+a),s+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function KG(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:l,end:s}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=l,h=!0,m=function(){var v=n[g],x=g,_,j=()=>(_===void 0&&(_=r(v,x)),_),S=v.coordinate,E=g===d||Vs(e,S,j,f,s);if(!E)return h=!1,1;E&&(f=S+e*(j()/2+a))},g=d;g<o&&!m();g+=c);if(h){for(var b=[],y=d;y<o;y+=c)b.push(n[y]);return b}}return[]}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){GG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XG(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:s}=t,c=function(h){var m=i[h],g,b=()=>(g===void 0&&(g=r(m,h)),g);if(h===o-1){var y=e*(m.coordinate+e*b()/2-s);i[h]=m=Tt(Tt({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Tt(Tt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var p=Vs(e,m.tickCoord,b,l,s);p&&(s=m.tickCoord-e*(b()/2+a),i[h]=Tt(Tt({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function ZG(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:s,end:c}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-c);if(o[l-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Vs(e,d.tickCoord,()=>f,s,c);m&&(c=d.tickCoord-e*(f/2+a),o[l-1]=Tt(Tt({},d),{},{isShow:!0}))}}for(var g=i?l-1:l,b=function(v){var x=o[v],_,j=()=>(_===void 0&&(_=r(x,v)),_);if(v===0){var S=e*(x.coordinate-e*j()/2-s);o[v]=x=Tt(Tt({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else o[v]=x=Tt(Tt({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var E=Vs(e,x.tickCoord,j,s,c);E&&(s=x.tickCoord+e*(j()/2+a),o[v]=Tt(Tt({},x),{},{isShow:!0}))}},y=0;y<g;y++)b(y);return o}function pb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:s,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(G(s)||ph.isSsr){var h;return(h=WG(a,G(s)?s:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",b=d&&g==="width"?ds(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(x,_)=>{var j=typeof c=="function"?c(x.value,_):x.value;return g==="width"?qG(ds(j,{fontSize:t,letterSpacing:r}),b,f):ds(j,{fontSize:t,letterSpacing:r})[g]},p=a.length>=2?Kt(a[1].coordinate-a[0].coordinate):1,v=HG(i,p,g);return s==="equidistantPreserveStart"?VG(p,v,y,a,o):s==="equidistantPreserveEnd"?KG(p,v,y,a,o):(s==="preserveStart"||s==="preserveStartEnd"?m=ZG(p,v,y,a,o,s==="preserveStartEnd"):m=XG(p,v,y,a,o),m.filter(x=>x.isShow))}var JG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,s=a+i,c=o+s+l+(r?n:0);return Math.round(c)}return 0},QG=["axisLine","width","height","className","hide","ticks","axisType"];function eF(e,t){if(e==null)return{};var r,n,a=tF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(null,arguments)}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){rF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rF(e,t,r){return(t=nF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nF(e){var t=aF(e,"string");return typeof t=="symbol"?t:t+""}function aF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function iF(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:s}=e;if(!l)return null;var c=Ye(Ye(Ye({},s),Ln(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Ye(Ye({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=Ye(Ye({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",Pi({},c,{className:De("recharts-cartesian-axis-line",Ko(l,"className"))}))}function oF(e,t,r,n,a,i,o,l,s){var c,d,f,h,m,g,b=l?-1:1,y=e.tickSize||o,p=G(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,h=r+ +!l*a,f=h-b*y,g=f-b*s,m=p;break;case"left":f=h=e.coordinate,d=t+ +!l*n,c=d-b*y,m=c-b*s,g=p;break;case"right":f=h=e.coordinate,d=t+ +l*n,c=d+b*y,m=c+b*s,g=p;break;default:c=d=e.coordinate,h=r+ +l*a,f=h+b*y,g=f+b*s,m=p;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function lF(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function sF(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function uF(e){var{option:t,tickProps:r,value:n}=e,a,i=De(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,Ye(Ye({},r),{},{className:i}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t==null?void 0:t.className)),a=w.createElement(cb,Pi({},r,{className:o}),n)}return a}var cF=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:s,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:g,height:b,tickSize:y,tickMargin:p,fontSize:v,letterSpacing:x,getTicksConfig:_,events:j,axisType:S}=e,E=pb(Ye(Ye({},_),{},{ticks:r}),v,x),O=lF(d,f),A=sF(d,f),k=Ln(_),z=zy(n),P={};typeof a=="object"&&(P=a);var W=Ye(Ye({},k),{},{fill:"none"},P),H=E.map(T=>Ye({entry:T},oF(T,h,m,g,b,d,y,f,p))),Z=H.map(T=>{var{entry:N,line:$}=T;return w.createElement(Un,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},a&&w.createElement("line",Pi({},W,$,{className:De("recharts-cartesian-axis-tick-line",Ko(a,"className"))})))}),C=H.map((T,N)=>{var{entry:$,tick:U}=T,ne=Ye(Ye(Ye(Ye({textAnchor:O,verticalAnchor:A},k),{},{stroke:"none",fill:i},z),U),{},{index:N,payload:$,visibleTicksCount:E.length,tickFormatter:o,padding:s},c);return w.createElement(Un,Pi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Uy(j,$,N)),n&&w.createElement(uF,{option:n,tickProps:ne,value:"".concat(typeof o=="function"?o($.value,N):$.value).concat(l||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},C.length>0&&w.createElement(ia,{zIndex:Bt.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},C)),Z.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},Z))}),dF=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:s}=e,c=eF(e,QG),[d,f]=w.useState(""),[h,m]=w.useState(""),g=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return JG({ticks:g.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=w.useCallback(y=>{if(y){var p=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=p;var v=p[0];if(v){var x=window.getComputedStyle(v),_=x.fontSize,j=x.letterSpacing;(_!==d||j!==h)&&(f(_),m(j))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(ia,{zIndex:e.zIndex},w.createElement(Un,{className:De("recharts-cartesian-axis",i)},w.createElement(iF,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ln(e)}),w.createElement(cF,{ref:b,axisType:s,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(iK,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(pK,{label:e.label,labelRef:e.labelRef}),e.children)))}),gb=w.forwardRef((e,t)=>{var r=yr(e,Mn);return w.createElement(dF,Pi({},r,{ref:t}))});gb.displayName="CartesianAxis";var fF=["x1","y1","x2","y2","key"],hF=["offset"],mF=["xAxisId","yAxisId"],pF=["xAxisId","yAxisId"];function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){gF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gF(e,t,r){return(t=vF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=yF(e,"string");return typeof t=="symbol"?t:t+""}function yF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(null,arguments)}function sf(e,t){if(e==null)return{};var r,n,a=bF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xF=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return w.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function LN(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:s,key:c}=r,d=sf(r,fF),f=(a=Ln(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=sf(f,hF);n=w.createElement("line",ci({},m,{x1:i,y1:o,x2:l,y2:s,fill:"none",key:c}))}return n}function wF(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=sf(e,mF),s=a.map((c,d)=>{var f=kt(kt({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return w.createElement(LN,{key:"line-".concat(d),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function _F(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=sf(e,pF),s=a.map((c,d)=>{var f=kt(kt({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return w.createElement(LN,{option:n,lineItemProps:f,key:"line-".concat(d)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function SF(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:s=!0}=e;if(!s||!t||!t.length||l==null)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],g=m?a+o-f:c[h+1]-f;if(g<=0)return null;var b=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function jF(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:s}=e;if(!t||!r||!r.length)return null;var c=s.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],g=m?a+o-f:c[h+1]-f;if(g<=0)return null;var b=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var EF=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return h2(pb(kt(kt(kt({},Mn),r),{},{ticks:m2(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},OF=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return h2(pb(kt(kt(kt({},Mn),r),{},{ticks:m2(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},CF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function UN(e){var t=E2(),r=O2(),n=j2(),a=kt(kt({},yr(e,CF)),{},{x:G(e.x)?e.x:n.left,y:G(e.y)?e.y:n.top,width:G(e.width)?e.width:n.width,height:G(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:s,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,g=Jt(),b=X(A=>Y_(A,"xAxis",i,g)),y=X(A=>Y_(A,"yAxis",o,g));if(!un(c)||!un(d)||!G(l)||!G(s))return null;var p=a.verticalCoordinatesGenerator||EF,v=a.horizontalCoordinatesGenerator||OF,{horizontalPoints:x,verticalPoints:_}=a;if((!x||!x.length)&&typeof v=="function"){var j=h&&h.length,S=v({yAxis:y?kt(kt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t??c,height:r??d,offset:n},j?!0:f);Dd(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}if((!_||!_.length)&&typeof p=="function"){var E=m&&m.length,O=p({xAxis:b?kt(kt({},b),{},{ticks:E?m:b.ticks}):void 0,width:t??c,height:r??d,offset:n},E?!0:f);Dd(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(_=O)}return w.createElement(ia,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(xF,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(SF,ci({},a,{horizontalPoints:x})),w.createElement(jF,ci({},a,{verticalPoints:_})),w.createElement(wF,ci({},a,{offset:n,horizontalPoints:x,xAxis:b,yAxis:y})),w.createElement(_F,ci({},a,{offset:n,verticalPoints:_,xAxis:b,yAxis:y}))))}UN.displayName="CartesianGrid";var AF={},qN=Zt({name:"errorBars",initialState:AF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:HZ,replaceErrorBar:WZ,removeErrorBar:VZ}=qN.actions,TF=qN.reducer,kF=["children"];function PF(e,t){if(e==null)return{};var r,n,a=NF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},MF=w.createContext(RF);function DF(e){var{children:t}=e,r=PF(e,kF);return w.createElement(MF.Provider,{value:r},t)}function HN(e,t){var r,n,a=X(c=>ra(c,e)),i=X(c=>na(c,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ct.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:dt.allowDataOverflow,s=o||l;return{needClip:s,needClipX:o,needClipY:l}}function zF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=zN(),{needClipX:i,needClipY:o,needClip:l}=HN(t,r);if(!l||!a)return null;var{x:s,y:c,width:d,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:i?s:s-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var BF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=w;function IF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $F=typeof Object.is=="function"?Object.is:IF,LF=Cu.useSyncExternalStore,UF=Cu.useRef,qF=Cu.useEffect,HF=Cu.useMemo,WF=Cu.useDebugValue;BF.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=UF(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=HF(function(){function s(m){if(!c){if(c=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,$F(d,m))return g;var b=n(m);return a!==void 0&&a(g,b)?(d=m,g):(d=m,f=b)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=LF(e,i[0],i[1]);return qF(function(){o.hasValue=!0,o.value=l},[l]),WF(l),l};function VF(e){e()}function KF(){let e=null,t=null;return{clear(){e=null,t=null},notify(){VF(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var WS={notify(){},get:()=>[]};function GF(e,t){let r,n=WS,a=0,i=!1;function o(b){d();const y=n.subscribe(b);let p=!1;return()=>{p||(p=!0,y(),f())}}function l(){n.notify()}function s(){g.onStateChange&&g.onStateChange()}function c(){return i}function d(){a++,r||(r=e.subscribe(s),n=KF())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=WS)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:s,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var FF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YF=FF(),XF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZF=XF(),JF=()=>YF||ZF?w.useLayoutEffect:w.useEffect,QF=JF();function VS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function eY(e,t){if(VS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!VS(e[r[a]],t[r[a]]))return!1;return!0}var ip=Symbol.for("react-redux-context"),op=typeof globalThis<"u"?globalThis:{};function tY(){if(!w.createContext)return{};const e=op[ip]??(op[ip]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var rY=tY();function nY(e){const{children:t,context:r,serverState:n,store:a}=e,i=w.useMemo(()=>{const s=GF(a);return{store:a,subscription:s,getServerState:n?()=>n:void 0}},[a,n]),o=w.useMemo(()=>a.getState(),[a]);QF(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==a.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]);const l=r||rY;return w.createElement(l.Provider,{value:i},t)}var aY=nY,iY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function oY(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function vb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(iY.has(n)){if(e[n]==null&&t[n]==null)continue;if(!eY(e[n],t[n]))return!1}else if(!oY(e[n],t[n]))return!1;return!0}function Hi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:MN}function Wi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:MN}var lY="Invariant failed";function sY(e,t){throw new Error(lY)}function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function uf(e){return w.createElement(FK,fv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var uY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(G(t))return t;var i=G(n)||gt(n);return i?t(n,a):(i||sY(),r)}},cY=(e,t,r)=>r,dY=(e,t)=>t,Au=R([W0,dY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),fY=R([Au],e=>e==null?void 0:e.maxBarSize),hY=(e,t,r,n)=>n,mY=R([xe,W0,Hi,Wi,cY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),pY=(e,t,r)=>{var n=xe(e),a=Hi(e,t),i=Wi(e,t);if(!(a==null||i==null))return n==="horizontal"?iv(e,"yAxis",i,r):iv(e,"xAxis",a,r)},gY=(e,t)=>{var r=xe(e),n=Hi(e,t),a=Wi(e,t);if(!(n==null||a==null))return r==="horizontal"?F_(e,"xAxis",n):F_(e,"yAxis",a)},vY=R([mY,l7,gY],SG),yY=(e,t,r)=>{var n,a,i=Au(e,t);if(i!=null){var o=Hi(e,t),l=Wi(e,t);if(!(o==null||l==null)){var s=xe(e),c=Hk(e),{maxBarSize:d}=i,f=gt(d)?c:d,h,m;return s==="horizontal"?(h=el(e,"xAxis",o,r),m=Qo(e,"xAxis",o,r)):(h=el(e,"yAxis",l,r),m=Qo(e,"yAxis",l,r)),(n=(a=Md(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},WN=(e,t,r)=>{var n=xe(e),a=Hi(e,t),i=Wi(e,t);if(!(a==null||i==null)){var o,l;return n==="horizontal"?(o=el(e,"xAxis",a,r),l=Qo(e,"xAxis",a,r)):(o=el(e,"yAxis",i,r),l=Qo(e,"yAxis",i,r)),Md(o,l)}},bY=R([vY,Hk,o7,Wk,yY,WN,fY],AG),xY=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return el(e,"xAxis",n,r)},wY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return el(e,"yAxis",n,r)},_Y=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return Qo(e,"xAxis",n,r)},SY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return Qo(e,"yAxis",n,r)},jY=R([bY,Au],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),EY=R([pY,Au],TG),OY=R([vt,i0,xY,wY,_Y,SY,jY,xe,Fq,WN,EY,Au,hY],(e,t,r,n,a,i,o,l,s,c,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:b}=s;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||c==null)){var{data:y}=f,p;if(y!=null&&y.length>0?p=y:p=m==null?void 0:m.slice(g,b+1),p!=null)return tX({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:p,offset:e,cells:h,dataStartIndex:g})}}),CY=["index"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function AY(e,t){if(e==null)return{};var r,n,a=TY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VN=w.createContext(void 0),kY=e=>{var t=w.useContext(VN);if(t!=null)return t.stackId;if(e!=null)return a6(e)},PY=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),NY=e=>{var t=w.useContext(VN);if(t!=null){var{stackId:r}=t;return"url(#".concat(PY(r,e),")")}},RY=e=>{var{index:t}=e,r=AY(e,CY),n=NY(t);return w.createElement(Un,hv({className:"recharts-bar-stack-layer",clipPath:n},r))},MY=["onMouseEnter","onMouseLeave","onClick"],DY=["value","background","tooltipPosition"],zY=["id"],BY=["onMouseEnter","onClick","onMouseLeave"];function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(null,arguments)}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){IY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IY(e,t,r){return(t=$Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cf(e,t){if(e==null)return{};var r,n,a=UY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qY=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:p2(r,t),payload:e}]},HY=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:s,id:c}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:p2(i,t),hide:o,type:s,color:a,unit:l,graphicalItemId:c}};return w.createElement(YK,{tooltipEntrySettings:d})});function WY(e){var t=X(tl),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:s}=i,c=cf(i,MY),d=kN(o,n,i.id),f=PN(l),h=NN(s,n,i.id);if(!a||r==null)return null;var m=zy(a);return w.createElement(ia,{zIndex:kG(a,Bt.barBackground)},r.map((g,b)=>{var{value:y,background:p,tooltipPosition:v}=g,x=cf(g,DY);if(!p)return null;var _=d(g,b),j=f(g,b),S=h(g,b),E=Mt(Mt(Mt(Mt(Mt({option:a,isActive:String(b)===t},x),{},{fill:"#eee"},p),m),Uy(c,g,b)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return w.createElement(uf,Fn({key:"background-bar-".concat(b)},E))}))}function VY(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mt(Mt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return w.createElement(_K,{value:t?a:void 0},r)}function KY(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=X(tl),s=X(eN),c=r&&String(i)===l&&(s==null||o===s),d=c?r:t;return c?w.createElement(ia,{zIndex:Bt.activeBar},w.createElement(uf,Fn({},n,{name:String(n.name)},a,{isActive:c,option:d,index:i,dataKey:o}))):w.createElement(uf,Fn({},n,{name:String(n.name)},a,{isActive:c,option:d,index:i,dataKey:o}))}function GY(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return w.createElement(uf,Fn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function FY(e){var t,{data:r,props:n}=e,a=(t=Ln(n))!==null&&t!==void 0?t:{},{id:i}=a,o=cf(a,zY),{shape:l,dataKey:s,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=cf(n,BY),g=kN(d,s,i),b=PN(h),y=NN(f,s,i);return r?w.createElement(w.Fragment,null,r.map((p,v)=>w.createElement(RY,Fn({index:v,key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(v),className:"recharts-bar-rectangle"},Uy(m,p,v),{onMouseEnter:g(p,v),onMouseLeave:b(p,v),onClick:y(p,v)}),c?w.createElement(KY,{shape:l,activeBar:c,baseProps:o,entry:p,index:v,dataKey:s}):w.createElement(GY,{shape:l,baseProps:o,entry:p,index:v,dataKey:s})))):null}function YY(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:s,onAnimationEnd:c,onAnimationStart:d}=t,f=r.current,h=c0(t,"recharts-bar-"),[m,g]=w.useState(!1),b=!m,y=w.useCallback(()=>{typeof c=="function"&&c(),g(!1)},[c]),p=w.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return w.createElement(VY,{showLabels:b,rects:n},w.createElement(u0,{animationId:h,begin:o,duration:l,isActive:i,easing:s,onAnimationEnd:y,onAnimationStart:p,key:h},v=>{var x=v===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Mt(Mt({},_),{},{x:_t(S.x,_.x,v),y:_t(S.y,_.y,v),width:_t(S.width,_.width,v),height:_t(S.height,_.height,v)});if(a==="horizontal"){var E=_t(0,_.height,v),O=_t(_.stackedBarStart,_.y,v);return Mt(Mt({},_),{},{y:O,height:E})}var A=_t(0,_.width,v),k=_t(_.stackedBarStart,_.x,v);return Mt(Mt({},_),{},{width:A,x:k})});return v>0&&(r.current=x??null),x==null?null:w.createElement(Un,null,w.createElement(FY,{props:t,data:x}))}),w.createElement(EK,{label:t.label}),t.children)}function XY(e){var t=w.useRef(null);return w.createElement(YY,{previousRectanglesRef:t,props:e})}var KN=0,ZY=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:At(e,t)}};class JY extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:s,id:c}=this.props;if(t||r==null)return null;var d=De("recharts-bar",a),f=c;return w.createElement(Un,{className:d,id:c},l&&w.createElement("defs",null,w.createElement(zF,{clipPathId:f,xAxisId:i,yAxisId:o})),w.createElement(Un,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},w.createElement(WY,{data:r,dataKey:n,background:s,allOtherBarProps:this.props}),w.createElement(XY,this.props)))}}var QY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:KN,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function eX(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=HN(t,r),h=hu(),m=Jt(),g=PK(e.children,ub),b=X(v=>OY(v,e.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var y,p=b==null?void 0:b[0];return p==null||p.height==null||p.width==null?y=0:y=h==="vertical"?p.height/2:p.width/2,w.createElement(DF,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:ZY,errorBarOffset:y},w.createElement(JY,Fn({},e,{layout:h,needClip:f,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:c,isAnimationActive:d})))}function tX(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:s,yAxisTicks:c,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g,dataStartIndex:b}=e,y=t==="horizontal"?l:o,p=d?y.scale.domain():null,v=i6({numericAxis:y}),x=y.scale(v);return f.map((_,j)=>{var S,E,O,A,k,z;if(d){var P=d[j+b];if(P==null)return null;S=QL(P,p)}else S=At(_,r),Array.isArray(S)||(S=[v,S]);var W=uY(n,KN)(S[1],j);if(t==="horizontal"){var H,[Z,C]=[l.scale(S[0]),l.scale(S[1])];E=sw({axis:o,ticks:s,bandSize:i,offset:a.offset,entry:_,index:j}),O=(H=C??Z)!==null&&H!==void 0?H:void 0,A=a.size;var T=Z-C;if(k=Fr(T)?0:T,z={x:E,y:h.top,width:A,height:h.height},Math.abs(W)>0&&Math.abs(k)<Math.abs(W)){var N=Kt(k||W)*(Math.abs(W)-Math.abs(k));O-=N,k+=N}}else{var[$,U]=[o.scale(S[0]),o.scale(S[1])];if(E=$,O=sw({axis:l,ticks:c,bandSize:i,offset:a.offset,entry:_,index:j}),A=U-$,k=a.size,z={x:h.left,y:O,width:h.width,height:k},Math.abs(W)>0&&Math.abs(A)<Math.abs(W)){var ne=Kt(A||W)*(Math.abs(W)-Math.abs(A));A+=ne}}if(E==null||O==null||A==null||k==null)return null;var ue=Mt(Mt({},_),{},{stackedBarStart:x,x:E,y:O,width:A,height:k,value:d?S:S[1],payload:_,background:z,tooltipPosition:{x:E+A/2,y:O+k/2},parentViewBox:g},m&&m[j]&&m[j].props);return ue}).filter(Boolean)}function rX(e){var t=yr(e,QY),r=kY(t.stackId),n=Jt();return w.createElement(tG,{id:t.id,type:"bar"},a=>w.createElement(w.Fragment,null,w.createElement(XK,{legendPayload:qY(t)}),w.createElement(HY,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),w.createElement(sG,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),w.createElement(ia,{zIndex:t.zIndex},w.createElement(eX,Fn({},t,{id:a})))))}var GN=w.memo(rX,vb);GN.displayName="Bar";var nX=["domain","range"],aX=["domain","range"];function GS(e,t){if(e==null)return{};var r,n,a=iX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function FN(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=GS(e,nX),{domain:i,range:o}=t,l=GS(t,aX);return!FS(r,i)||!FS(n,o)?!1:vb(a,l)}var oX=["dangerouslySetInnerHTML","ticks","scale"],lX=["id","scale"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(null,arguments)}function YS(e,t){if(e==null)return{};var r,n,a=sX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uX(e){var t=Ge(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(hG(e)):r.current!==e&&t(mG({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(pG(r.current)),r.current=null)},[t]),null}var cX=e=>{var{xAxisId:t,className:r}=e,n=X(i0),a=Jt(),i="xAxis",o=X(p=>MP(p,i,t,a)),l=X(p=>kP(p,t)),s=X(p=>aH(p,t)),c=X(p=>Qk(p,t));if(l==null||s==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=YS(e,oX),{id:g,scale:b}=c,y=YS(c,lX);return w.createElement(gb,mv({},m,y,{x:s.x,y:s.y,width:l.width,height:l.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},dX={allowDataOverflow:ct.allowDataOverflow,allowDecimals:ct.allowDecimals,allowDuplicatedCategory:ct.allowDuplicatedCategory,angle:ct.angle,axisLine:Mn.axisLine,height:ct.height,hide:!1,includeHidden:ct.includeHidden,interval:ct.interval,minTickGap:ct.minTickGap,mirror:ct.mirror,orientation:ct.orientation,padding:ct.padding,reversed:ct.reversed,scale:ct.scale,tick:ct.tick,tickCount:ct.tickCount,tickLine:Mn.tickLine,tickSize:Mn.tickSize,type:ct.type,xAxisId:0},fX=e=>{var t=yr(e,dX);return w.createElement(w.Fragment,null,w.createElement(uX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(cX,t))},YN=w.memo(fX,FN);YN.displayName="XAxis";var hX=["dangerouslySetInnerHTML","ticks","scale"],mX=["id","scale"];function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function XS(e,t){if(e==null)return{};var r,n,a=pX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gX(e){var t=Ge(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(gG(e)):r.current!==e&&t(vG({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(yG(r.current)),r.current=null)},[t]),null}var vX=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=w.useRef(null),o=w.useRef(null),l=X(i0),s=Jt(),c=Ge(),d="yAxis",f=X(S=>PP(S,t)),h=X(S=>oH(S,t)),m=X(S=>MP(S,d,t,s)),g=X(S=>eP(S,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!f||db(a)||w.isValidElement(a)||g==null)){var S=i.current;if(S){var E=S.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&c(bG({id:t,width:E}))}}},[m,f,c,a,t,n,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:y,scale:p}=e,v=XS(e,hX),{id:x,scale:_}=g,j=XS(g,mX);return w.createElement(gb,pv({},v,j,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:De("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))},yX={allowDataOverflow:dt.allowDataOverflow,allowDecimals:dt.allowDecimals,allowDuplicatedCategory:dt.allowDuplicatedCategory,angle:dt.angle,axisLine:Mn.axisLine,hide:!1,includeHidden:dt.includeHidden,interval:dt.interval,minTickGap:dt.minTickGap,mirror:dt.mirror,orientation:dt.orientation,padding:dt.padding,reversed:dt.reversed,scale:dt.scale,tick:dt.tick,tickCount:dt.tickCount,tickLine:Mn.tickLine,tickSize:Mn.tickSize,type:dt.type,width:dt.width,yAxisId:0},bX=e=>{var t=yr(e,yX);return w.createElement(w.Fragment,null,w.createElement(gX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(vX,t))},XN=w.memo(bX,FN);XN.displayName="YAxis";var xX=(e,t)=>t,yb=R([xX,xe,Zk,st,XP,aa,xW,vt],CW),bb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ZN=Mr("mouseClick"),JN=du();JN.startListening({actionCreator:ZN,effect:(e,t)=>{var r=e.payload,n=yb(t.getState(),bb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(xH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var gv=Mr("mouseMove"),QN=du(),vc=null;QN.startListening({actionCreator:gv,effect:(e,t)=>{var r=e.payload;vc!==null&&cancelAnimationFrame(vc);var n=bb(r);vc=requestAnimationFrame(()=>{var a=t.getState(),i=Q0(a,a.tooltip.settings.shared);if(i==="axis"){var o=yb(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(qP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(UP())}vc=null})}});function wX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var ZS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},eR=Zt({name:"rootProps",initialState:ZS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:ZS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),_X=eR.reducer,{updateOptions:SX}=eR.actions,tR=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:KZ}=tR.actions,jX=tR.reducer,rR=Mr("keyDown"),nR=Mr("focus"),xb=du();xb.startListening({actionCreator:rR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=eb(a,jl(r),wu(r),Eu(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var s=aa(r);if(i==="Enter"){var c=nf(r,"axis","hover",String(a.index));t.dispatch(lv({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var d=cH(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=l+h*f;if(!(s==null||m>=s.length||m<0)){var g=nf(r,"axis","hover",String(m));t.dispatch(lv({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});xb.startListening({actionCreator:nR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=nf(r,"axis","hover",String(i));t.dispatch(lv({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var wr=Mr("externalEvent"),aR=du(),lp=new Map;aR.startListening({actionCreator:wr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=lp.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),s={activeCoordinate:iW(l),activeDataKey:eN(l),activeIndex:tl(l),activeLabel:QP(l),activeTooltipIndex:tl(l),isTooltipActive:oW(l)};r(s,n)}finally{lp.delete(a)}});lp.set(a,o)}}});var EX=R([_l],e=>e.tooltipItemPayloads),OX=R([EX,ju,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),iR=Mr("touchMove"),oR=du();oR.startListening({actionCreator:iR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Q0(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=yb(n,bb({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(qP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,s=r.touches[0];if(document.elementFromPoint==null||s==null)return;var c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(f6),f=(l=c.getAttribute(h6))!==null&&l!==void 0?l:void 0,h=Sl(n).find(b=>b.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,g=OX(n,d,f);t.dispatch(LP({activeDataKey:m,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var CX=IT({brush:NG,cartesianAxis:xG,chartData:aV,errorBars:TF,graphicalItems:oG,layout:GL,legend:t8,options:QW,polarAxis:CK,polarOptions:jX,referenceElements:$G,rootProps:_X,tooltip:wH,zIndex:UW}),AX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return yL({reducer:CX,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([JN.middleware,QN.middleware,xb.middleware,aR.middleware,oR.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(QT({type:"raf"}))},devTools:{serialize:{replacer:wX},name:"recharts-".concat(r)}})};function TX(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Jt(),i=w.useRef(null);if(a)return r;i.current==null&&(i.current=AX(t,n));var o=Xy;return w.createElement(aY,{context:o,store:i.current},r)}function kX(e){var{layout:t,margin:r}=e,n=Ge(),a=Jt();return w.useEffect(()=>{a||(n(WL(t)),n(HL(r)))},[n,a,t,r]),null}var PX=w.memo(kX,vb);function NX(e){var t=Ge();return w.useEffect(()=>{t(SX(e))},[t,e]),null}function JS(e){var{zIndex:t,isPanorama:r}=e,n=w.useRef(null),a=Ge();return w.useLayoutEffect(()=>(n.current&&a($W({zIndex:t,element:n.current,isPanorama:r})),()=>{a(LW({zIndex:t,isPanorama:r}))}),[a,t,r]),w.createElement("g",{tabIndex:-1,ref:n})}function QS(e){var{children:t,isPanorama:r}=e,n=X(TW);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return w.createElement(w.Fragment,null,a.map(o=>w.createElement(JS,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>w.createElement(JS,{key:o,zIndex:o,isPanorama:r})))}var RX=["children"];function MX(e,t){if(e==null)return{};var r,n,a=DX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(null,arguments)}var zX={width:"100%",height:"100%",display:"block"},BX=w.forwardRef((e,t)=>{var r=E2(),n=O2(),a=M2();if(!un(r)||!un(n))return null;var{children:i,otherAttributes:o,title:l,desc:s}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),w.createElement($A,df({},o,{title:l,desc:s,role:d,tabIndex:c,width:r,height:n,style:zX,ref:t}),i)}),IX=e=>{var{children:t}=e,r=X(uh);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return w.createElement($A,{width:n,height:a,x:o,y:i},t)},ej=w.forwardRef((e,t)=>{var{children:r}=e,n=MX(e,RX),a=Jt();return a?w.createElement(IX,null,w.createElement(QS,{isPanorama:!0},r)):w.createElement(BX,df({ref:t},n),w.createElement(QS,{isPanorama:!1},r))});function $X(){var e=Ge(),[t,r]=w.useState(null),n=X(d6);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Le(i)&&i!==n&&e(KL(i))}},[t,e,n]),r}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return(t=qX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(null,arguments)}var WX=()=>(hV(),null);function ff(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var VX=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[i,o]=w.useState({containerWidth:ff((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:ff((n=e.style)===null||n===void 0?void 0:n.height)}),l=w.useCallback((c,d)=>{o(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),s=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();l(d,f);var h=g=>{var{width:b,height:y}=g[0].contentRect;l(b,y)},m=new ResizeObserver(h);m.observe(c),a.current=m}},[t,l]);return w.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[l]),w.createElement(w.Fragment,null,w.createElement(dh,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Ni({ref:s},e)))}),KX=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=w.useState({containerWidth:ff(r),containerHeight:ff(n)}),o=w.useCallback((s,c)=>{i(d=>{var f=Math.round(s),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=w.useCallback(s=>{if(typeof t=="function"&&t(s),s!=null){var{width:c,height:d}=s.getBoundingClientRect();o(c,d)}},[t,o]);return w.createElement(w.Fragment,null,w.createElement(dh,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Ni({ref:l},e)))}),GX=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(dh,{width:r,height:n}),w.createElement("div",Ni({ref:t},e)))}),FX=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return qn(r)||qn(n)?w.createElement(KX,Ni({},e,{ref:t})):w.createElement(GX,Ni({},e,{ref:t}))});function YX(e){return e===!0?VX:FX}var XX=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:s,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:b,style:y,width:p,responsive:v,dispatchTouchEvents:x=!0}=e,_=w.useRef(null),j=Ge(),[S,E]=w.useState(null),[O,A]=w.useState(null),k=$X(),z=o0(),P=(z==null?void 0:z.width)>0?z.width:p,W=(z==null?void 0:z.height)>0?z.height:a,H=w.useCallback(M=>{k(M),typeof t=="function"&&t(M),E(M),A(M),M!=null&&(_.current=M)},[k,t,E,A]),Z=w.useCallback(M=>{j(ZN(M)),j(wr({handler:i,reactEvent:M}))},[j,i]),C=w.useCallback(M=>{j(gv(M)),j(wr({handler:c,reactEvent:M}))},[j,c]),T=w.useCallback(M=>{j(UP()),j(wr({handler:d,reactEvent:M}))},[j,d]),N=w.useCallback(M=>{j(gv(M)),j(wr({handler:f,reactEvent:M}))},[j,f]),$=w.useCallback(()=>{j(nR())},[j]),U=w.useCallback(M=>{j(rR(M.key))},[j]),ne=w.useCallback(M=>{j(wr({handler:o,reactEvent:M}))},[j,o]),ue=w.useCallback(M=>{j(wr({handler:l,reactEvent:M}))},[j,l]),le=w.useCallback(M=>{j(wr({handler:s,reactEvent:M}))},[j,s]),fe=w.useCallback(M=>{j(wr({handler:h,reactEvent:M}))},[j,h]),ce=w.useCallback(M=>{j(wr({handler:b,reactEvent:M}))},[j,b]),D=w.useCallback(M=>{x&&j(iR(M)),j(wr({handler:g,reactEvent:M}))},[j,x,g]),q=w.useCallback(M=>{j(wr({handler:m,reactEvent:M}))},[j,m]),ae=YX(v);return w.createElement(lN.Provider,{value:S},w.createElement(uI.Provider,{value:O},w.createElement(ae,{width:P??(y==null?void 0:y.width),height:W??(y==null?void 0:y.height),className:De("recharts-wrapper",n),style:LX({position:"relative",cursor:"default",width:P,height:W},y),onClick:Z,onContextMenu:ne,onDoubleClick:ue,onFocus:$,onKeyDown:U,onMouseDown:le,onMouseEnter:C,onMouseLeave:T,onMouseMove:N,onMouseUp:fe,onTouchEnd:q,onTouchMove:D,onTouchStart:ce,ref:H},w.createElement(WX,null),r)))}),ZX=["width","height","responsive","children","className","style","compact","title","desc"];function JX(e,t){if(e==null)return{};var r,n,a=QX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eZ=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:s,title:c,desc:d}=e,f=JX(e,ZX),h=Ln(f);return s?w.createElement(w.Fragment,null,w.createElement(dh,{width:r,height:n}),w.createElement(ej,{otherAttributes:h,title:c,desc:d},i)):w.createElement(XX,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(ej,{otherAttributes:h,title:c,desc:d,ref:t},w.createElement(UG,null,i)))});function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}var tZ={top:5,right:5,bottom:5,left:5},rZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:tZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},nZ=w.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,rZ),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,categoricalChartProps:c}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,eventEmitter:void 0};return w.createElement(TX,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},w.createElement(PG,{chartData:c.data}),w.createElement(PX,{layout:a.layout,margin:a.margin}),w.createElement(NX,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(eZ,vv({},a,{ref:r})))}),aZ=["axis","item"],iZ=w.forwardRef((e,t)=>w.createElement(nZ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:aZ,tooltipPayloadSearcher:ZW,categoricalChartProps:e,ref:t}));function oZ({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=w.useState([]),[i,o]=w.useState(!1),[l,s]=w.useState(null);w.useEffect(()=>{e&&t>0?c():a([])},[e,t]);const c=async()=>{o(!0),s(null);try{const{data:h,error:m}=await L.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const b=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(y=>{const p=Number(h[y.key]),v=p?t*p:0;return{name:y.name,geracao:Math.round(v),factor:p}});a(b)}catch(h){console.error("Irradiance error:",h),s("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return w.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):u.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[u.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[u.jsx("span",{children:"Estimativa de Gerao Mensal"}),u.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",u.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),u.jsx("div",{style:{width:"100%",height:300},children:u.jsx(B6,{children:u.jsxs(iZ,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[u.jsx(UN,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),u.jsx(YN,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),u.jsx(XN,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),u.jsx(wV,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),u.jsx(GN,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>u.jsx(ub,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),u.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}function lZ({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),[o,l]=w.useState([]),[s,c]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(!1),g=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],b=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],y=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],p=(D,q,ae)=>{let M=[];for(let F=D;F<=q;F+=ae)M.push(F);return M},v=p(460,800,5),x=[...p(1e3,7e3,1e3),7500,9e3,1e4,12500,...p(15e3,75e3,5e3),...p(1e5,3e5,25e3)],[_,j]=w.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[S,E]=w.useState([]),[O,A]=w.useState([]),[k,z]=w.useState(0),P=O.reduce((D,q)=>D+(Number(q.consumo_medio_kwh)||Number(q.franquia)||0),0);w.useEffect(()=>{const D=Number(_.qtd_modulos)||0,q=Number(_.potencia_modulos_w)||0,ae=D*q/1e3;z(Number(ae.toFixed(2)))},[_.qtd_modulos,_.potencia_modulos_w]),w.useEffect(()=>{var D,q,ae,M,F,ee,I;Z(),C(),e&&(j({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?T(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((D=e.address)==null?void 0:D.cep)||"",rua:((q=e.address)==null?void 0:q.rua)||"",numero:((ae=e.address)==null?void 0:ae.numero)||"",bairro:((M=e.address)==null?void 0:M.bairro)||"",cidade:((F=e.address)==null?void 0:F.cidade)||"",uf:((ee=e.address)==null?void 0:ee.uf)||"",ibge_code:e.ibge_code||((I=e.address)==null?void 0:I.ibge)||"",concessionaria:e.concessionaria||""}),W(e.id))},[e]),w.useEffect(()=>{H()},[e==null?void 0:e.id]);const W=async D=>{const{data:q}=await L.from("consumer_units").select("*").eq("usina_id",D);q&&A(q)},H=async()=>{let D=L.from("consumer_units").select("id, numero_uc, titular_conta, usina_id, concessionaria, status, consumo_medio_kwh");const{data:q,error:ae}=await D;if(q){console.log("All UCs fetched:",q);const M=q.filter(F=>{const ee=e&&F.usina_id===e.id,I=F.usina_id===null;return ee||I});console.log("Filtered UCs:",M),E(M)}},Z=async()=>{const{data:D}=await L.from("suppliers").select("id, name").order("name");l(D||[])},C=async()=>{const{data:D}=await L.from("inverter_brands").select("name").order("name");c(D||[])},T=D=>D===""||D===void 0||D===null?"":typeof D=="number"?D.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(D.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),N=D=>{const q=D.target.value.replace(/\D/g,"");if(!q){j({..._,valor_investido:""});return}const M=(Number(q)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});j({..._,valor_investido:M})},$=D=>{if(!D)return 0;const q=D.replace(/[^\d,]/g,"").replace(",",".");return Number(q)||0},U=D=>{j(q=>{const ae=q.servicos_contratados||[];return ae.includes(D)?{...q,servicos_contratados:ae.filter(M=>M!==D)}:{...q,servicos_contratados:[...ae,D]}})},ne=(D,q)=>{const ae=q.replace(/\D/g,""),M=Number(ae)/100;j(F=>({...F,service_values:{...F.service_values,[D]:M}}))},ue=async()=>{const D=_.cep.replace(/\D/g,"");if(D.length===8){m(!0);try{const q=await Zn(D);if(j(ae=>({...ae,rua:q.rua||"",bairro:q.bairro||"",cidade:q.cidade||"",uf:q.uf||"",ibge_code:q.ibge||""})),q.ibge){const ae=await lu(q.ibge);ae&&ae.Concessionaria&&j(M=>({...M,concessionaria:ae.Concessionaria}))}}catch(q){console.error("Erro CEP",q)}finally{m(!1)}}},le=w.useCallback(D=>{D&&j(q=>D!==Number(q.geracao_estimada_kwh)?{...q,geracao_estimada_kwh:D}:q)},[]),fe=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:q}=await L.from("usinas").delete().eq("id",e.id);if(q)throw q;n&&n(e.id),t()}catch(q){a("Erro ao excluir: "+q.message,"error")}finally{f(!1)}}},ce=async D=>{D.preventDefault(),f(!0);try{const q=$(_.valor_investido),ae={supplier_id:_.supplier_id||null,name:_.name,concessionaria:_.concessionaria,status:_.status,modalidade:_.modalidade,valor_investido:q,potencia_kwp:Number(k),qtd_modulos:Number(_.qtd_modulos),potencia_modulos_w:Number(_.potencia_modulos_w),fabricante_inversor:_.fabricante_inversor,potencia_inversor_w:Number(_.potencia_inversor_w),geracao_estimada_kwh:Number(_.geracao_estimada_kwh),servicos_contratados:_.servicos_contratados,service_values:_.service_values,gestao_percentual:Number(_.gestao_percentual),ibge_code:_.ibge_code,address:{cep:_.cep,rua:_.rua,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,ibge:_.ibge_code}};let M=e==null?void 0:e.id,F=null;if(e!=null&&e.id){const{data:ee,error:I}=await L.from("usinas").update(ae).eq("id",e.id).select().single();I?F=I:ee&&(M=ee.id)}else{const{data:ee,error:I}=await L.from("usinas").insert(ae).select().single();I?F=I:ee&&(M=ee.id)}if(F)throw F;if(M&&(await L.from("consumer_units").update({usina_id:null}).eq("usina_id",M),O.length>0)){const ee=O.map(I=>I.id);await L.from("consumer_units").update({usina_id:M}).in("id",ee)}r({id:M}),t(),a("Usina salva com sucesso!","success")}catch(q){console.error("Save error:",q),a("Erro ao salvar usina: "+(q.message||JSON.stringify(q)),"error")}finally{f(!1)}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Usina":"Nova Usina"}),u.jsxs("form",{onSubmit:ce,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome da Usina"}),u.jsx("input",{required:!0,value:_.name,onChange:D=>j({..._,name:D.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Localizao"}),u.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),u.jsx("input",{value:_.cep,onChange:D=>j({..._,cep:D.target.value}),onBlur:ue,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:h?"#f0f9ff":"white"}})]}),u.jsxs("div",{style:{flex:3},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),u.jsx("input",{value:`${_.cidade} / ${_.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria (Auto ou Manual)"}),u.jsx("input",{value:_.concessionaria,onChange:D=>j({..._,concessionaria:D.target.value}),placeholder:"Preenchido via CEP ou digite...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Detalhes Tcnicos"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),u.jsx("select",{value:_.status,onChange:D=>j({..._,status:D.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:g.map(D=>u.jsx("option",{value:D.value,children:D.label},D.value))})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Modalidade"}),u.jsx("select",{value:_.modalidade,onChange:D=>j({..._,modalidade:D.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:b.map(D=>u.jsx("option",{value:D.value,children:D.label},D.value))})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Fornecedor"}),u.jsxs("select",{required:!0,value:_.supplier_id,onChange:D=>j({..._,supplier_id:D.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),o.map(D=>u.jsx("option",{value:D.id,children:D.name},D.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Valor Investido"}),u.jsx("input",{value:_.valor_investido,onChange:N,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Mdulos e Inversores"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Qtd. de Mdulos"}),u.jsx("input",{type:"number",value:_.qtd_modulos,onChange:D=>j({..._,qtd_modulos:D.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Potncia Mdulo (W)"}),u.jsxs("select",{value:_.potencia_modulos_w,onChange:D=>j({..._,potencia_modulos_w:D.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),v.map(D=>u.jsxs("option",{value:D,children:[D," W"]},D))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Fabricante Inversor"}),u.jsxs("select",{value:_.fabricante_inversor,onChange:D=>j({..._,fabricante_inversor:D.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),s.map(D=>u.jsx("option",{value:D.name,children:D.name},D.name))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Potncia Inversor (W)"}),u.jsxs("select",{value:_.potencia_inversor_w,onChange:D=>j({..._,potencia_inversor_w:D.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Selecione..."}),x.map(D=>u.jsxs("option",{value:D,children:[D," W"]},D))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"var(--color-orange)"},children:"Potncia Total (kWp) - Calc"}),u.jsx("input",{value:k,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#fff7ed",fontWeight:"bold"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Gerao Estimada (kWh)"}),u.jsx("input",{type:"number",value:_.geracao_estimada_kwh,onChange:D=>j({..._,geracao_estimada_kwh:D.target.value}),placeholder:"Calculado automaticamente",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#eef2ff"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f9fafb",padding:"1rem",borderRadius:"8px",border:"1px solid #eee"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:u.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"var(--color-blue)"},children:"Vincular Unidades Consumidoras - Todas"})}),u.jsxs("div",{style:{fontSize:"0.8rem",color:"#555",marginBottom:"0.5rem",background:"#e0f2fe",padding:"0.5rem",borderRadius:"4px"},children:["Total ",u.jsx("strong",{children:O.length})," UCs conectadas | Total ",u.jsx("strong",{children:P.toFixed(2)})," kWh/ms"]}),S.length===0?u.jsx("p",{style:{fontSize:"0.8rem",color:"#666"},children:"Nenhuma UC disponvel (Em Ativao) encontrada."}):u.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem"},children:S.map(D=>{var ae;const q=O.some(M=>M.id===D.id);return u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",padding:"0.4rem",border:q?"1px solid var(--color-blue)":"1px solid #ddd",borderRadius:"4px",background:q?"#eff6ff":"white"},children:[u.jsx("input",{type:"checkbox",checked:q,onChange:M=>{M.target.checked?A([...O,D]):A(O.filter(F=>F.id!==D.id))}}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:"bold"},children:D.numero_uc}),u.jsxs("div",{style:{fontSize:"0.75rem",color:"#555"},children:[(ae=D.titular_conta)==null?void 0:ae.substring(0,15),"...",u.jsx("br",{}),u.jsxs("span",{style:{fontSize:"0.65rem",color:"#888"},children:["(",D.concessionaria,")"]})]}),D.consumo_medio_kwh&&u.jsxs("div",{style:{fontSize:"0.7rem",color:"green"},children:["Cap: ",D.consumo_medio_kwh," kWh"]})]})]},D.id)})})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Gesto e Servios"}),u.jsxs("div",{style:{gridColumn:"1 / -1"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Servios Contratados"}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:y.map(D=>{var ae;const q=_.servicos_contratados.includes(D);return u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.9rem",width:"150px",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:q,onChange:()=>U(D)}),D]}),q&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("input",{placeholder:"Valor (R$)",value:T((ae=_.service_values)==null?void 0:ae[D]),onChange:M=>ne(D,M.target.value),style:{padding:"0.3rem",border:"1px solid #ddd",borderRadius:"4px",width:"100px"}}),D==="Gesto"&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem",marginLeft:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.8rem"},children:"Taxa (%):"}),u.jsx("input",{type:"number",step:"0.01",value:_.gestao_percentual,onChange:M=>j({..._,gestao_percentual:M.target.value}),style:{padding:"0.3rem",border:"1px solid #ddd",borderRadius:"4px",width:"60px"}})]})]})]},D)})})]}),u.jsx("div",{style:{gridColumn:"1 / -1"},children:u.jsx(oZ,{ibgeCode:_.ibge_code,potenciaKwp:k,onCalculate:le})}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[u.jsx("div",{children:e&&n&&u.jsx("button",{type:"button",onClick:fe,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:d,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:d?"Salvando...":"Salvar Usina"})]})]})]})]})})}function sZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState(null),[s,c]=w.useState(""),[d,f]=w.useState("kanban"),h=e.filter(p=>{var x,_,j,S,E,O,A;if(!s)return!0;const v=s.toLowerCase();return((x=p.name)==null?void 0:x.toLowerCase().includes(v))||((_=p.concessionaria)==null?void 0:_.toLowerCase().includes(v))||((S=(j=p.supplier)==null?void 0:j.name)==null?void 0:S.toLowerCase().includes(v))||((E=p.status)==null?void 0:E.toLowerCase().includes(v))||((A=(O=p.address)==null?void 0:O.cidade)==null?void 0:A.toLowerCase().includes(v))});w.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:p,error:v}=await L.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(v)throw v;t(p||[])}catch(p){console.error("Erro usinas",p)}finally{n(!1)}},g=()=>{m(),i(!1)},b=p=>{t(e.filter(v=>v.id!==p)),i(!1)},y=p=>{switch(p){case"gerando":return{bg:"#dcfce7",color:"#166534"};case"em_conexao":return{bg:"#ffedd5",color:"#9a3412"};case"manutencao":return{bg:"#fee2e2",color:"#991b1b"};case"inativa":return{bg:"#f1f5f9",color:"#64748b"};case"cancelada":return{bg:"#f1f5f9",color:"#94a3b8"};default:return{bg:"#f1f5f9",color:"#64748b"}}};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Usinas Geradoras"}),u.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[u.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:s,onChange:p=>c(p.target.value),className:"input",style:{maxWidth:"400px"}}),u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>f("list"),className:`btn ${d==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>f("kanban"),className:`btn ${d==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:d==="list"?u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:h.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nome / Concessionria"}),u.jsx("th",{children:"Fornecedor"}),u.jsx("th",{children:"Cidade"}),u.jsx("th",{children:"Gerao / Potncia"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:h.map(p=>{var x,_,j,S;const v=y(p.status);return u.jsxs("tr",{children:[u.jsxs("td",{style:{fontWeight:"bold"},children:[u.jsx("div",{children:p.name}),u.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:p.concessionaria||"-"})]}),u.jsx("td",{children:((x=p.supplier)==null?void 0:x.name)||"-"}),u.jsxs("td",{children:[(_=p.address)==null?void 0:_.cidade,"/",(j=p.address)==null?void 0:j.uf]}),u.jsxs("td",{children:[u.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:p.geracao_estimada_kwh?`${p.geracao_estimada_kwh} kWh/ms`:"-"}),u.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",p.potencia_kwp," kWp"]})]}),u.jsx("td",{children:u.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:v.bg,color:v.color,textTransform:"uppercase"},children:(S=p.status)==null?void 0:S.replace("_"," ")})}),u.jsx("td",{children:u.jsx("button",{onClick:()=>{l(p),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},p.id)})})]})})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["em_conexao","gerando","manutencao","inativa","cancelada"].map(p=>{const v=h.filter(_=>_.status===p),x=y(p);return u.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${x.color}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:x.color},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:p.replace("_"," ")}),u.jsx("span",{style:{fontSize:"0.8rem",background:x.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:v.length})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:v.map(_=>{var j,S,E;return u.jsxs("div",{onClick:()=>{l(_),i(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s",position:"relative",overflow:"hidden"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[u.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:x.bg,color:x.color,marginBottom:"0.5rem"},children:p.replace("_"," ")}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:u.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:_.name})}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[u.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria||"Sem conc."}),u.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((j=_.supplier)==null?void 0:j.name)||"Sem Fornecedor"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[u.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[u.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),u.jsxs("div",{style:{fontWeight:"bold"},children:[_.potencia_kwp," kWp"]})]}),u.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[u.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),u.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[_.geracao_estimada_kwh," kWh"]})]})]}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:u.jsxs("span",{children:[(S=_.address)==null?void 0:S.cidade,"/",(E=_.address)==null?void 0:E.uf]})})]},_.id)})})]},p)})})}),a&&u.jsx(lZ,{usina:o,onClose:()=>i(!1),onSave:g,onDelete:b})]})}function uZ(){const{showAlert:e,showConfirm:t}=$i(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),[s,c]=w.useState("kanban"),[d,f]=w.useState(null),[h,m]=w.useState(!1),[g,b]=w.useState(new Date().toISOString().substring(0,7)),[y,p]=w.useState(""),[v,x]=w.useState(""),[_,j]=w.useState(null),S=r.filter(C=>{var T,N,$,U,ne,ue,le;if(y&&C.status!==y)return!1;if(v){const fe=v.toLowerCase(),ce=((N=(T=C.consumer_units)==null?void 0:T.titular_conta)==null?void 0:N.toLowerCase())||"",D=((ne=(U=($=C.consumer_units)==null?void 0:$.subscribers)==null?void 0:U.name)==null?void 0:ne.toLowerCase())||"",q=((le=(ue=C.consumer_units)==null?void 0:ue.numero_uc)==null?void 0:le.toLowerCase())||"";if(!ce.includes(fe)&&!D.includes(fe)&&!q.includes(fe))return!1}return!0});w.useEffect(()=>{E(),O()},[g]);const E=async()=>{l(!0);try{const[C,T]=g.split("-"),N=`${C}-${T}-01`,$=new Date(C,T,0).getDate(),U=`${C}-${T}-${$}`,{data:ne,error:ue}=await L.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",N).lte("mes_referencia",U).order("vencimento",{ascending:!0});if(ue)throw ue;n(ne||[])}catch(C){console.error("Error fetching invoices:",C),e("Erro ao carregar faturas.","error")}finally{l(!1)}},O=async()=>{const{data:C,error:T}=await L.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta, tarifa_concessionaria, desconto_assinante, tipo_ligacao").eq("status","ativo").order("titular_conta");T||i(C||[])},A=()=>{f(null),m(!0)},k=C=>{f(C),m(!0)},z=()=>{E(),m(!1)},P=async C=>{var N;if(await t(`Gerar boleto Asaas para a fatura de ${(N=C.consumer_units)==null?void 0:N.titular_conta}?`)){j(C.id);try{const $=await Bf(C.id);$.url&&(e("Boleto gerado com sucesso!","success"),window.open($.url,"_blank"),E())}catch($){console.error($),e("Erro ao gerar boleto: "+$.message,"error")}finally{j(null)}}},W=async C=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:N}=await L.from("invoices").delete().eq("id",C);if(N)throw N;E()}catch(N){console.error("Erro ao excluir fatura:",N),e("Erro ao excluir fatura: "+N.message,"error")}},H=C=>Number(C||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Z=C=>{const T={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:AA},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:Q3},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:CA}},N=T[C]||T.a_vencer,$=N.icon;return u.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:N.bg,color:N.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[u.jsx($,{size:12})," ",N.label]})};return u.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsxs("div",{children:[u.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),u.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),u.jsxs("button",{onClick:A,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(Ny,{size:18})," Nova Fatura"]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[u.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[u.jsx(oB,{size:18}),u.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),u.jsx("input",{type:"month",value:g,onChange:C=>b(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),u.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),u.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:u.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),u.jsxs("select",{value:y,onChange:C=>p(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[u.jsx("option",{value:"",children:"Todos"}),u.jsx("option",{value:"a_vencer",children:"A Vencer"}),u.jsx("option",{value:"atrasado",children:"Atrasado"}),u.jsx("option",{value:"pago",children:"Pago"})]}),u.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),u.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:u.jsx(kA,{size:18})}),u.jsx("input",{placeholder:"Buscar por Nome...",value:v,onChange:C=>x(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>c("list"),className:`btn ${s==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>c("kanban"),className:`btn ${s==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:s==="list"?u.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[u.jsx("thead",{style:{background:"#f8fafc"},children:u.jsxs("tr",{children:[u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),u.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),u.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),u.jsx("tbody",{children:S.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):S.map(C=>{var T,N,$;return u.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[u.jsx("td",{style:{padding:"1rem"},children:Z(C.status)}),u.jsx("td",{style:{padding:"1rem",color:"#334155"},children:C.vencimento?new Date(C.vencimento).toLocaleDateString("pt-BR"):"-"}),u.jsxs("td",{style:{padding:"1rem"},children:[u.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((T=C.consumer_units)==null?void 0:T.numero_uc)||"N/A"}),u.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(N=C.consumer_units)==null?void 0:N.titular_conta," (",($=C.consumer_units)==null?void 0:$.concessionaria,")"]})]}),u.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(C.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),u.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:H(C.valor_a_pagar)}),u.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:u.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[C.asaas_boleto_url?u.jsxs("a",{href:C.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[u.jsx(yd,{size:14})," Boleto"]}):u.jsx("button",{onClick:()=>P(C),disabled:_===C.id,style:{background:_===C.id?"#f1f5f9":"#fff7ed",color:_===C.id?"#94a3b8":"#c2410c",border:_===C.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:_===C.id?"Gerando...":u.jsxs(u.Fragment,{children:[u.jsx(If,{size:14})," Emitir"]})}),u.jsx("button",{onClick:()=>k(C),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),u.jsx("button",{onClick:()=>W(C.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:u.jsx(PA,{size:16})})]})})]},C.id)})})]})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(C=>{const T=S.filter(U=>U.status===C),N={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},$=N[C]||N.a_vencer;return u.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${$.color}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:$.color},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:$.label}),u.jsx("span",{style:{fontSize:"0.8rem",background:$.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:H(T.reduce((U,ne)=>U+(Number(ne.valor_a_pagar)||0),0))})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:T.map(U=>{var ne,ue;return u.jsxs("div",{onClick:()=>k(U),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:le=>le.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:le=>le.currentTarget.style.borderColor="transparent",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(ne=U.consumer_units)==null?void 0:ne.numero_uc}),u.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",U.vencimento?new Date(U.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),u.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(ue=U.consumer_units)==null?void 0:ue.titular_conta}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),u.jsxs("div",{children:[Number(U.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),u.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:H(U.valor_a_pagar)})]})]}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:U.asaas_boleto_url?u.jsxs("a",{href:U.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:le=>le.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[u.jsx(yd,{size:14})," Boleto"]}):u.jsx("button",{onClick:le=>{le.stopPropagation(),P(U)},className:"btn",disabled:_===U.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:_===U.id?"...":"Emitir"})})]},U.id)})})]},C)})})}),h&&u.jsx(DA,{invoice:d,ucs:a,onClose:()=>m(!1),onSave:z})]})}function cZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(""),[o,l]=w.useState("kanban"),[s,c]=w.useState(!1),[d,f]=w.useState(null),h=e.filter(y=>{var v,x,_,j,S,E,O;if(!a)return!0;const p=a.toLowerCase();return((v=y.numero_uc)==null?void 0:v.toLowerCase().includes(p))||((_=(x=y.subscriber)==null?void 0:x.name)==null?void 0:_.toLowerCase().includes(p))||((j=y.concessionaria)==null?void 0:j.toLowerCase().includes(p))||((E=(S=y.address)==null?void 0:S.cidade)==null?void 0:E.toLowerCase().includes(p))||((O=y.status)==null?void 0:O.toLowerCase().includes(p))});w.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:y,error:p}=await L.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(p)throw p;t(y||[])}catch(y){console.error("Error fetching UCs:",y)}finally{n(!1)}},g=y=>{m(),c(!1)},b=y=>{t(e.filter(p=>p.id!==y)),c(!1)};return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),u.jsx("button",{onClick:()=>{f(null),c(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[u.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:y=>i(y.target.value),className:"input",style:{maxWidth:"400px"}}),u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>l("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>l("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:o==="list"?u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:h.length===0?u.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"UC"}),u.jsx("th",{children:"Concessionria"}),u.jsx("th",{children:"Assinante"}),u.jsx("th",{children:"Franquia"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Cidade"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:h.map(y=>{var p,v,x,_,j;return u.jsxs("tr",{children:[u.jsx("td",{style:{fontWeight:"bold"},children:y.numero_uc}),u.jsx("td",{style:{color:"var(--color-text-medium)"},children:y.concessionaria||"-"}),u.jsxs("td",{children:[u.jsx("div",{style:{fontWeight:"bold"},children:((p=y.subscriber)==null?void 0:p.name)||"-"}),u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(v=y.subscriber)==null?void 0:v.cpf_cnpj})]}),u.jsx("td",{children:y.franquia?`${Number(y.franquia).toLocaleString("pt-BR")} kWh`:"-"}),u.jsx("td",{children:u.jsx("span",{className:"badge",style:{background:y.status==="ativo"?"var(--color-success-light)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:y.status==="ativo"?"var(--color-success)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(x=y.status)==null?void 0:x.replace("_"," ").toUpperCase()})}),u.jsxs("td",{children:[(_=y.address)==null?void 0:_.cidade," / ",(j=y.address)==null?void 0:j.uf]}),u.jsx("td",{children:u.jsx("button",{onClick:()=>{f(y),c(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}].map(({status:y,label:p,color:v})=>{const x=h.filter(_=>(_.status||"em_ativacao")===y);return u.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${v}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:v},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:p}),u.jsx("span",{style:{fontSize:"0.8rem",background:v,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:x.length})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:x.map(_=>{var j,S,E;return u.jsxs("div",{onClick:()=>{f(_),c(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:_.numero_uc}),u.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria})]}),u.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((j=_.subscriber)==null?void 0:j.name)||"Sem Assinante"}),u.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[u.jsxs("span",{children:[(S=_.address)==null?void 0:S.cidade,"/",(E=_.address)==null?void 0:E.uf]}),u.jsx("span",{children:_.franquia?`${Number(_.franquia).toLocaleString("pt-BR")} kWh`:""})]})]},_.id)})})]},y)})})}),s&&u.jsx(Ry,{consumerUnit:d,onClose:()=>c(!1),onSave:g,onDelete:b})]})}function dZ({billing:e,onClose:t,onSave:r}){const[n,a]=w.useState([]),[i,o]=w.useState(!1),[l,s]=w.useState(!1),[c,d]=w.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=w.useState(0),m=["em_producao","fechado","liquidado"],g=E=>{if(!E&&E!==0)return"";const O=Number(E);return isNaN(O)?"":O.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},b=E=>{if(!E||typeof E!="string")return 0;const O=E.replace(/\D/g,"");return Number(O)/100},y=(E,O)=>{const A=O.replace(/\D/g,""),z=(Number(A)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(P=>({...P,[E]:z}))};w.useEffect(()=>{p(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:g(e.faturamento_mensal),faturas_pagas:g(e.faturas_pagas),custo_disponibilidade:g(e.custo_disponibilidade),manutencao:g(e.manutencao),gestao_reais:g(e.gestao_reais),arrendamento:g(e.arrendamento),servicos:g(e.servicos),total_despesas:g(e.total_despesas),saldo_receber:g(e.saldo_receber)}),v(e.usina_id))},[e]),w.useEffect(()=>{_()},[c.faturas_pagas,c.custo_disponibilidade,c.manutencao,c.arrendamento,c.servicos,f]);const p=async()=>{const{data:E}=await L.from("usinas").select("id, name");a(E||[])},v=async E=>{if(!E)return;const{data:O}=await L.from("usinas").select("gestao_percentual").eq("id",E).single();O&&h(Number(O.gestao_percentual)||0)},x=async E=>{const O=E.target.value;d(A=>({...A,usina_id:O})),await v(O)},_=()=>{const E=b(c.faturas_pagas),O=b(c.custo_disponibilidade),A=b(c.manutencao),k=b(c.arrendamento),z=b(c.servicos);let P=0;f>0&&(P=E*(f/100));const W=O+A+P+k+z,H=E-W,Z=b(c.gestao_reais),C=b(c.total_despesas),T=b(c.saldo_receber);Math.abs(Z-P)<.01&&Math.abs(C-W)<.01&&Math.abs(T-H)<.01||d(N=>({...N,gestao_reais:g(P),total_despesas:g(W),saldo_receber:g(H)}))},j=async()=>{if(!c.usina_id||!c.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}s(!0);try{const{data:E,error:O}=await L.from("consumer_units").select("id").eq("usina_id",c.usina_id);if(O)throw O;if(!E||E.length===0){alert("Nenhuma UC vinculada a esta usina."),s(!1);return}const A=E.map($=>$.id),[k,z]=c.mes_referencia.split("-"),P=`${k}-${z}-01`,W=new Date(k,z,0).getDate(),H=`${k}-${z}-${W}`,{data:Z,error:C}=await L.from("invoices").select("valor_a_pagar, status").in("uc_id",A).gte("mes_referencia",P).lte("mes_referencia",H);if(C)throw C;let T=0,N=0;Z.forEach($=>{const U=Number($.valor_a_pagar)||0;T+=U,$.status==="pago"&&(N+=U)}),d($=>({...$,faturamento_mensal:g(T),faturas_pagas:g(N)}))}catch(E){console.error("Reconciliation error:",E),alert("Erro ao buscar faturas: "+E.message)}finally{s(!1)}},S=async E=>{E.preventDefault(),o(!0);try{const O={usina_id:c.usina_id,status:c.status,mes_referencia:`${c.mes_referencia}-01`,fechamento:c.fechamento,geracao_mensal_kwh:Number(c.geracao_mensal_kwh),energia_compensada:Number(c.energia_compensada),faturamento_mensal:b(c.faturamento_mensal),faturas_pagas:b(c.faturas_pagas),custo_disponibilidade:b(c.custo_disponibilidade),manutencao:b(c.manutencao),gestao_reais:b(c.gestao_reais),arrendamento:b(c.arrendamento),servicos:b(c.servicos),total_despesas:b(c.total_despesas),saldo_receber:b(c.saldo_receber)};let A;if(e!=null&&e.id?A=await L.from("generation_production").update(O).eq("id",e.id):A=await L.from("generation_production").insert(O),A.error)throw A.error;r(),t()}catch(O){console.error("Save error:",O),alert("Erro ao salvar: "+(O.message||JSON.stringify(O)))}finally{o(!1)}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[u.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),u.jsxs("form",{onSubmit:S,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),u.jsxs("select",{required:!0,value:c.usina_id,onChange:x,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[u.jsx("option",{value:"",children:"Selecione..."}),n.map(E=>u.jsx("option",{value:E.id,children:E.name},E.id))]})]}),u.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),u.jsx("select",{value:c.mes_referencia.split("-")[1],onChange:E=>{const O=c.mes_referencia.split("-")[0];d({...c,mes_referencia:`${O}-${E.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((E,O)=>u.jsx("option",{value:E,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][O]},E))})]}),u.jsxs("div",{style:{width:"80px"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),u.jsx("select",{value:c.mes_referencia.split("-")[0],onChange:E=>{const O=c.mes_referencia.split("-")[1];d({...c,mes_referencia:`${E.target.value}-${O}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(E,O)=>new Date().getFullYear()-2+O).map(E=>u.jsx("option",{value:E,children:E},E))})]})]}),u.jsxs("div",{style:{width:"150px"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),u.jsx("input",{type:"date",required:!0,value:c.fechamento,onChange:E=>d({...c,fechamento:E.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{width:"120px"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),u.jsx("select",{value:c.status,onChange:E=>d({...c,status:E.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(E=>u.jsx("option",{value:E,children:E.replace("_"," ").toUpperCase()},E))})]}),u.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:u.jsx("button",{type:"button",onClick:j,disabled:l||!c.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:l?.7:1},children:l?"Buscando...":"Buscar Faturas"})})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),u.jsx("input",{type:"number",required:!0,value:c.geracao_mensal_kwh,onChange:E=>d({...c,geracao_mensal_kwh:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),u.jsx("input",{type:"number",value:c.energia_compensada,onChange:E=>d({...c,energia_compensada:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),u.jsx("input",{type:"text",value:c.faturamento_mensal,onChange:E=>y("faturamento_mensal",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),u.jsx("input",{type:"text",value:c.faturas_pagas,onChange:E=>y("faturas_pagas",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),u.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),u.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),u.jsx("input",{type:"text",value:c.custo_disponibilidade,onChange:E=>y("custo_disponibilidade",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),u.jsx("input",{type:"text",value:c.manutencao,onChange:E=>y("manutencao",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),u.jsx("input",{type:"text",value:c.arrendamento,onChange:E=>y("arrendamento",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),u.jsx("input",{type:"text",value:c.servicos,onChange:E=>y("servicos",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[u.jsxs("div",{children:[u.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),u.jsx("input",{disabled:!0,value:c.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),u.jsx("input",{disabled:!0,value:c.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[u.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),u.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:c.saldo_receber}),u.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),u.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[u.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function fZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState("kanban"),[o,l]=w.useState(!1),[s,c]=w.useState(null);w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:v,error:x}=await L.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});x?console.error("Error fetching billing:",x):t(v||[]),n(!1)},f=v=>{c(v),l(!0)},h=()=>{c(null),l(!0)},m=async v=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:x}=await L.from("generation_production").delete().eq("id",v);x?alert("Erro ao excluir"):d()},g=async v=>{var x;if(!v.saldo_receber||v.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${v.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:_,error:j}=await L.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",v.usina_id).single();if(j||!_||!_.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const S=_.supplier;if(!S.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:E,error:O}=await L.functions.invoke("transfer-asaas-pix",{body:{value:v.saldo_receber,pix_key:S.pix_key,pix_key_type:S.pix_key_type,description:`Pagamento Energia - ${v.mes_referencia} - ${_.name}`,operationType:"PIX"}});if(O)throw O;if(!E.success)throw new Error(E.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((x=E.data)==null?void 0:x.id)),d(),await L.from("generation_production").update({status:"liquidado"}).eq("id",v.id),d()}catch(_){console.error("Payment Error:",_),alert("Erro no pagamento: "+_.message)}finally{n(!1)}}},b=()=>{d(),l(!1)},y=v=>{if(!v)return"-";const[x,_]=v.split("-"),j=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=parseInt(_,10)-1;return`${j[S]||"-"} ${x}`},p=v=>Number(v||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return u.jsxs("div",{style:{padding:"2rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),u.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:u.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[u.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),u.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?u.jsx("p",{children:"Carregando..."}):u.jsx(u.Fragment,{children:a==="list"?u.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Ms Ref."}),u.jsx("th",{children:"Usina"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Gerao (kWh)"}),u.jsx("th",{children:"Compensado (kWh)"}),u.jsx("th",{children:"Faturado (R$)"}),u.jsx("th",{children:"Saldo a Receber (R$)"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:e.map(v=>{var x;return u.jsxs("tr",{children:[u.jsx("td",{children:y(v.mes_referencia)}),u.jsx("td",{children:((x=v.usinas)==null?void 0:x.name)||"-"}),u.jsx("td",{children:u.jsx("span",{className:"badge",style:{background:v.status==="liquidado"?"#dcfce7":v.status==="fechado"?"#e0f2fe":"#fef9c3",color:v.status==="liquidado"?"#166534":v.status==="fechado"?"#0369a1":"#854d0e"},children:v.status})}),u.jsxs("td",{children:[Number(v.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),u.jsxs("td",{children:[Number(v.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),u.jsx("td",{children:p(v.faturamento_mensal)}),u.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:p(v.saldo_receber)}),u.jsx("td",{children:u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("button",{onClick:()=>f(v),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),u.jsx("button",{onClick:()=>m(v.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),u.jsx("button",{onClick:()=>g(v),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},v.id)})})]})})}):u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(v=>{const x=e.filter(S=>S.status===v),j={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[v]||"#64748b";return u.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${j}`,boxShadow:"var(--shadow-sm)"},children:[u.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:j},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:v}),u.jsx("span",{style:{fontSize:"0.8rem",background:j,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:p(x.reduce((S,E)=>S+(Number(E.saldo_receber)||0),0))})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:x.map(S=>{var E;return u.jsxs("div",{onClick:()=>f(S),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(E=S.usinas)==null?void 0:E.name}),u.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:y(S.mes_referencia)})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),u.jsxs("div",{children:[Number(S.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),u.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:p(S.saldo_receber)})]})]}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:S.status!=="liquidado"&&u.jsx("button",{onClick:O=>{O.stopPropagation(),g(S)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},S.id)})})]},v)})})}),o&&u.jsx(dZ,{billing:s,onClose:()=>l(!1),onSave:b})]})}function hZ(){var m;const{profile:e,signOut:t}=Jr(),r=dl(),[n,a]=w.useState("default"),[i,o]=w.useState(!1),[l,s]=w.useState(!1);w.useEffect(()=>{e&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e]);const c=async()=>{await t(),r("/login")},f=(g=>{if(!g)return[];const b=[];g!=="subscriber"&&b.push({id:"leads",label:"Leads",icon:pB}),["originator","coordinator","manager","admin","super_admin"].includes(g)&&(g==="originator"?(b.push({id:"originator_dashboard",label:"Minhas Comisses",icon:Bm}),b.push({id:"originators_list",label:"Equipe",icon:M1})):b.push({id:"originators_list",label:"Originadores",icon:M1})),g!=="lead"&&(g==="subscriber"?b.push({id:"subscriber_dashboard",label:"Meu Painel",icon:Bm}):b.push({id:"subscribers_list",label:"Assinantes",icon:AB})),g!=="lead"&&g!=="subscriber"&&b.push({id:"consumer_units",label:"Unidades Consumidoras",icon:sB}),b.push({id:"invoices",label:"Faturas",icon:yd});const p=["supplier","manager","admin","super_admin"];return p.includes(g)&&(g==="supplier"?b.push({id:"supplier_dashboard",label:"Meu Painel",icon:Bm}):b.push({id:"suppliers_list",label:"Fornecedores",icon:OB})),p.includes(g)&&b.push({id:"power_plants",label:"Usinas",icon:NA}),["supplier","manager","admin","super_admin"].includes(g)&&b.push({id:"billing",label:"Billing",icon:TA}),["admin","super_admin"].includes(g)&&b.push({id:"admin",label:"Gesto de Usurios",icon:wB}),b})(e==null?void 0:e.role),h=()=>{if(!e)return u.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return u.jsx(HB,{});case"subscriber_dashboard":return u.jsx(WB,{});case"originator_dashboard":return u.jsx(VB,{});case"supplier_dashboard":return u.jsx(KB,{});case"leads":return u.jsx(FB,{});case"subscribers_list":return u.jsx(YB,{});case"originators_list":return u.jsx(ZB,{});case"suppliers_list":return u.jsx(QB,{});case"power_plants":return u.jsx(sZ,{});case"consumer_units":return u.jsx(cZ,{});case"invoices":return u.jsx(uZ,{});case"billing":return u.jsx(fZ,{});default:return u.jsxs("div",{style:{padding:"2rem"},children:[u.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),u.jsx("p",{children:"Selecione uma opo no menu."})]})}};return u.jsxs("div",{className:"dashboard-container",children:[u.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:u.jsx(vB,{size:24})}),i&&u.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),u.jsxs("aside",{className:`sidebar ${i?"open":""} ${l?"collapsed":""}`,children:[u.jsxs("div",{className:"sidebar-header",style:{justifyContent:l?"center":"space-between"},children:[!l&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),u.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),u.jsx("button",{onClick:()=>s(!l),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:l?u.jsx(V3,{size:20}):u.jsx(H3,{size:20})})]}),u.jsx("nav",{style:{flex:1,overflowY:"auto"},children:u.jsx("ul",{style:{listStyle:"none"},children:f.map(g=>{const b=g.icon;return u.jsx("li",{style:{marginBottom:"0.25rem"},children:u.jsxs("button",{onClick:()=>{a(g.id),o(!1)},title:l?g.label:"",className:`sidebar-link ${n===g.id?"active":""}`,style:{justifyContent:l?"center":"flex-start"},children:[u.jsx(b,{size:20,style:{marginRight:l?0:"0.75rem",flexShrink:0}}),!l&&u.jsx("span",{children:g.label})]})},g.id)})})}),u.jsxs("div",{className:"sidebar-footer",children:[!l&&u.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[u.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),u.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),u.jsxs("button",{onClick:c,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:l?"center":"flex-start"},children:[u.jsx(hB,{size:20,style:{marginRight:l?0:"0.5rem"}}),!l&&u.jsx("span",{children:"Sair"})]})]})]}),u.jsx("main",{className:"main-content",children:h()})]})}function mZ(){const[e]=xC(),t=dl(),r=e.get("id"),[n,a]=w.useState("simulation"),[i,o]=w.useState(!1),[l,s]=w.useState(null),[c,d]=w.useState(null),[f,h]=w.useState(null),[m,g]=w.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),b=async()=>{if(m.cep.length>=8)try{o(!0);const v=await Zn(m.cep);if(g(x=>({...x,rua:v.rua||"",bairro:v.bairro||"",cidade:v.cidade||"",uf:v.uf||""})),v.ibge){const x=await lu(v.ibge);d(x)}}catch(v){console.error(v),alert("Erro ao buscar CEP")}finally{o(!1)}},y=async v=>{if(v.preventDefault(),!Ei(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const x=c&&c["Tarifa Concessionaria"]||.85,_=c&&c["Desconto Assinante"]||.1,j=parseFloat(m.consumo)*x,S=j*_;s({contaAtual:j,economiaMensal:S,anual:S*12});const{data:E,error:O}=await L.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:c==null?void 0:c.Concessionaria,tarifa_concessionaria:x,desconto_assinante:_,originator_id:r,status:"indicado"}).select().single();if(O)throw O;h(E.id),a("signup")}catch(x){alert("Erro na simulao: "+x.message)}finally{o(!1)}},p=async v=>{if(v.preventDefault(),!Lf(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!Ei(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:x,error:_}=await L.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(_)throw _;const{error:j}=await L.from("consumer_units").insert({subscriber_id:x.id,numero_uc:m.numero_uc,concessionaria:c==null?void 0:c.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(j)throw j;f&&await L.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(x){alert("Erro ao finalizar cadastro: "+x.message)}finally{o(!1)}};return u.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:u.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[u.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),u.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?u.jsxs("form",{onSubmit:y,children:[u.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),u.jsx("input",{value:m.cep,onChange:v=>g({...m,cep:v.target.value}),onBlur:b,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&u.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,c&&u.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",c.Concessionaria]})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),u.jsx("input",{value:m.nome,onChange:v=>g({...m,nome:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),u.jsx("input",{type:"email",value:m.email,onChange:v=>g({...m,email:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),u.jsx("input",{value:m.telefone,onChange:v=>g({...m,telefone:Vo(v.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),u.jsx("input",{type:"number",value:m.consumo,onChange:v=>g({...m,consumo:v.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):u.jsxs("form",{onSubmit:p,children:[l&&u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[u.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),u.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",l.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),u.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),u.jsx("input",{value:m.cpf_cnpj,onChange:v=>g({...m,cpf_cnpj:$f(v.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),u.jsx("input",{value:m.nome,onChange:v=>g({...m,nome:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),u.jsx("input",{type:"email",value:m.email,onChange:v=>g({...m,email:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),u.jsx("input",{value:m.telefone,onChange:v=>g({...m,telefone:Vo(v.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),u.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),u.jsxs("div",{style:{width:"100px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),u.jsx("input",{value:m.numero,onChange:v=>g({...m,numero:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),u.jsx("input",{value:m.numero_uc,onChange:v=>g({...m,numero_uc:v.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),u.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const pZ=()=>{const{user:e}=Jr();return e?u.jsx(Xz,{}):u.jsx(bC,{to:"/login",replace:!0})};function gZ(){return u.jsx(r5,{children:u.jsx(NB,{children:u.jsx(RB,{children:u.jsxs(Jz,{children:[u.jsx(yn,{path:"/login",element:u.jsx(k3,{})}),u.jsx(yn,{path:"/simulacao",element:u.jsx(BB,{})}),u.jsx(yn,{path:"/cadastro-parceiro",element:u.jsx(LB,{})}),u.jsx(yn,{path:"/assine",element:u.jsx(UB,{})}),u.jsx(yn,{path:"/originador",element:u.jsx(mZ,{})}),u.jsx(yn,{element:u.jsx(pZ,{}),children:u.jsx(yn,{path:"/dashboard",element:u.jsx(hZ,{})})}),u.jsx(yn,{path:"/",element:u.jsx(bC,{to:"/login",replace:!0})})]})})})})}az.createRoot(document.getElementById("root")).render(u.jsx(w.StrictMode,{children:u.jsx(gZ,{})}));
