var vN=Object.defineProperty;var yN=(e,t,r)=>t in e?vN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Kh=(e,t,r)=>yN(e,typeof t!="symbol"?t+"":t,r);function dS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var hS={exports:{}},gf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN=Symbol.for("react.transitional.element"),xN=Symbol.for("react.fragment");function mS(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:bN,type:e,key:n,ref:t!==void 0?t:null,props:r}}gf.Fragment=xN;gf.jsx=mS;gf.jsxs=mS;hS.exports=gf;var l=hS.exports,pS={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv=Symbol.for("react.transitional.element"),_N=Symbol.for("react.portal"),wN=Symbol.for("react.fragment"),jN=Symbol.for("react.strict_mode"),SN=Symbol.for("react.profiler"),CN=Symbol.for("react.consumer"),EN=Symbol.for("react.context"),ON=Symbol.for("react.forward_ref"),AN=Symbol.for("react.suspense"),kN=Symbol.for("react.memo"),gS=Symbol.for("react.lazy"),TN=Symbol.for("react.activity"),Tb=Symbol.iterator;function RN(e){return e===null||typeof e!="object"?null:(e=Tb&&e[Tb]||e["@@iterator"],typeof e=="function"?e:null)}var vS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yS=Object.assign,bS={};function ns(e,t,r){this.props=e,this.context=t,this.refs=bS,this.updater=r||vS}ns.prototype.isReactComponent={};ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xS(){}xS.prototype=ns.prototype;function Sv(e,t,r){this.props=e,this.context=t,this.refs=bS,this.updater=r||vS}var Cv=Sv.prototype=new xS;Cv.constructor=Sv;yS(Cv,ns.prototype);Cv.isPureReactComponent=!0;var Rb=Array.isArray;function hp(){}var Ne={H:null,A:null,T:null,S:null},_S=Object.prototype.hasOwnProperty;function Ev(e,t,r){var n=r.ref;return{$$typeof:jv,type:e,key:t,ref:n!==void 0?n:null,props:r}}function PN(e,t){return Ev(e.type,t,e.props)}function Ov(e){return typeof e=="object"&&e!==null&&e.$$typeof===jv}function NN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Pb=/\/+/g;function Yh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NN(""+e.key):t.toString(36)}function MN(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(hp,hp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ro(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jv:case _N:o=!0;break;case gS:return o=e._init,ro(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+Yh(e,0):n,Rb(a)?(r="",o!=null&&(r=o.replace(Pb,"$&/")+"/"),ro(a,t,r,"",function(u){return u})):a!=null&&(Ov(a)&&(a=PN(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Pb,"$&/")+"/")+o)),t.push(a)),1;o=0;var s=n===""?".":n+":";if(Rb(e))for(var c=0;c<e.length;c++)n=e[c],i=s+Yh(n,c),o+=ro(n,t,r,i,a);else if(c=RN(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,i=s+Yh(n,c++),o+=ro(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return ro(MN(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Pc(e,t,r){if(e==null)return e;var n=[],a=0;return ro(e,n,"","",function(i){return t.call(r,i,a++)}),n}function DN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nb=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zN={map:Pc,forEach:function(e,t,r){Pc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Pc(e,function(){t++}),t},toArray:function(e){return Pc(e,function(t){return t})||[]},only:function(e){if(!Ov(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Activity=TN;te.Children=zN;te.Component=ns;te.Fragment=wN;te.Profiler=SN;te.PureComponent=Sv;te.StrictMode=jN;te.Suspense=AN;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ne;te.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ne.H.useMemoCache(e)}};te.cache=function(e){return function(){return e.apply(null,arguments)}};te.cacheSignal=function(){return null};te.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=yS({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!_S.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];n.children=o}return Ev(e.type,a,n)};te.createContext=function(e){return e={$$typeof:EN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:CN,_context:e},e};te.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)_S.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];a.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return Ev(e,i,a)};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:ON,render:e}};te.isValidElement=Ov;te.lazy=function(e){return{$$typeof:gS,_payload:{_status:-1,_result:e},_init:DN}};te.memo=function(e,t){return{$$typeof:kN,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Ne.T,r={};Ne.T=r;try{var n=e(),a=Ne.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(hp,Nb)}catch(i){Nb(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Ne.T=t}};te.unstable_useCacheRefresh=function(){return Ne.H.useCacheRefresh()};te.use=function(e){return Ne.H.use(e)};te.useActionState=function(e,t,r){return Ne.H.useActionState(e,t,r)};te.useCallback=function(e,t){return Ne.H.useCallback(e,t)};te.useContext=function(e){return Ne.H.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e,t){return Ne.H.useDeferredValue(e,t)};te.useEffect=function(e,t){return Ne.H.useEffect(e,t)};te.useEffectEvent=function(e){return Ne.H.useEffectEvent(e)};te.useId=function(){return Ne.H.useId()};te.useImperativeHandle=function(e,t,r){return Ne.H.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Ne.H.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Ne.H.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Ne.H.useMemo(e,t)};te.useOptimistic=function(e,t){return Ne.H.useOptimistic(e,t)};te.useReducer=function(e,t,r){return Ne.H.useReducer(e,t,r)};te.useRef=function(e){return Ne.H.useRef(e)};te.useState=function(e){return Ne.H.useState(e)};te.useSyncExternalStore=function(e,t,r){return Ne.H.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Ne.H.useTransition()};te.version="19.2.3";pS.exports=te;var b=pS.exports;const vf=Xn(b),wS=dS({__proto__:null,default:vf},[b]);var jS={exports:{}},yf={},SS={exports:{}},CS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,R){var N=O.length;O.push(R);e:for(;0<N;){var L=N-1>>>1,U=O[L];if(0<a(U,R))O[L]=R,O[N]=U,N=L;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var R=O[0],N=O.pop();if(N!==R){O[0]=N;e:for(var L=0,U=O.length,ae=U>>>1;L<ae;){var ue=2*(L+1)-1,le=O[ue],he=ue+1,de=O[he];if(0>a(le,N))he<U&&0>a(de,le)?(O[L]=de,O[he]=N,L=he):(O[L]=le,O[ue]=N,L=ue);else if(he<U&&0>a(de,N))O[L]=de,O[he]=N,L=he;else break e}}return R}function a(O,R){var N=O.sortIndex-R.sortIndex;return N!==0?N:O.id-R.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function w(O){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=O)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(O){if(x=!1,w(O),!p)if(r(c)!==null)p=!0,S||(S=!0,k());else{var R=r(u);R!==null&&Z(j,R.startTime-O)}}var S=!1,C=-1,E=5,A=-1;function T(){return y?!0:!(e.unstable_now()-A<E)}function P(){if(y=!1,S){var O=e.unstable_now();A=O;var R=!0;try{e:{p=!1,x&&(x=!1,g(C),C=-1),m=!0;var N=h;try{t:{for(w(O),f=r(c);f!==null&&!(f.expirationTime>O&&T());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var U=L(f.expirationTime<=O);if(O=e.unstable_now(),typeof U=="function"){f.callback=U,w(O),R=!0;break t}f===r(c)&&n(c),w(O)}else n(c);f=r(c)}if(f!==null)R=!0;else{var ae=r(u);ae!==null&&Z(j,ae.startTime-O),R=!1}}break e}finally{f=null,h=N,m=!1}R=void 0}}finally{R?k():S=!1}}}var k;if(typeof _=="function")k=function(){_(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=P,k=function(){W.postMessage(null)}}else k=function(){v(P,0)};function Z(O,R){C=v(function(){O(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var N=h;h=R;try{return O()}finally{h=N}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=h;h=O;try{return R()}finally{h=N}},e.unstable_scheduleCallback=function(O,R,N){var L=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?L+N:L):N=L,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,O={id:d++,callback:R,priorityLevel:O,startTime:N,expirationTime:U,sortIndex:-1},N>L?(O.sortIndex=N,t(u,O),r(c)===null&&O===r(u)&&(x?(g(C),C=-1):x=!0,Z(j,N-L))):(O.sortIndex=U,t(c,O),p||m||(p=!0,S||(S=!0,k()))),O},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(O){var R=h;return function(){var N=h;h=R;try{return O.apply(this,arguments)}finally{h=N}}}})(CS);SS.exports=CS;var BN=SS.exports,ES={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN=b;function OS(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function sa(){}var Dt={d:{f:sa,r:function(){throw Error(OS(522))},D:sa,C:sa,L:sa,m:sa,X:sa,S:sa,M:sa},p:0,findDOMNode:null},$N=Symbol.for("react.portal");function LN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$N,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Ys=IN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function bf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(OS(299));return LN(e,t,null,r)};$t.flushSync=function(e){var t=Ys.T,r=Dt.p;try{if(Ys.T=null,Dt.p=2,e)return e()}finally{Ys.T=t,Dt.p=r,Dt.d.f()}};$t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dt.d.C(e,t))};$t.prefetchDNS=function(e){typeof e=="string"&&Dt.d.D(e)};$t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=bf(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Dt.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=bf(t.as,t.crossOrigin);Dt.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dt.d.M(e)};$t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=bf(r,t.crossOrigin);Dt.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$t.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=bf(t.as,t.crossOrigin);Dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dt.d.m(e)};$t.requestFormReset=function(e){Dt.d.r(e)};$t.unstable_batchedUpdates=function(e,t){return e(t)};$t.useFormState=function(e,t,r){return Ys.H.useFormState(e,t,r)};$t.useFormStatus=function(){return Ys.H.useHostTransitionStatus()};$t.version="19.2.3";function AS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AS)}catch(e){console.error(e)}}AS(),ES.exports=$t;var Av=ES.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=BN,kS=b,UN=Av;function I(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function TS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function RS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function PS(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mb(e){if(Gl(e)!==e)throw Error(I(188))}function qN(e){var t=e.alternate;if(!t){if(t=Gl(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Mb(a),e;if(i===n)return Mb(a),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function NS(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=NS(e),t!==null)return t;e=e.sibling}return null}var Me=Object.assign,HN=Symbol.for("react.element"),Nc=Symbol.for("react.transitional.element"),Us=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),DS=Symbol.for("react.consumer"),En=Symbol.for("react.context"),kv=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),gp=Symbol.for("react.suspense_list"),Tv=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),vp=Symbol.for("react.activity"),WN=Symbol.for("react.memo_cache_sentinel"),Db=Symbol.iterator;function Es(e){return e===null||typeof e!="object"?null:(e=Db&&e[Db]||e["@@iterator"],typeof e=="function"?e:null)}var FN=Symbol.for("react.client.reference");function yp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===FN?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lo:return"Fragment";case mp:return"Profiler";case MS:return"StrictMode";case pp:return"Suspense";case gp:return"SuspenseList";case vp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Us:return"Portal";case En:return e.displayName||"Context";case DS:return(e._context.displayName||"Context")+".Consumer";case kv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tv:return t=e.displayName||null,t!==null?t:yp(e.type)||"Memo";case ca:t=e._payload,e=e._init;try{return yp(e(t))}catch{}}return null}var qs=Array.isArray,Q=kS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=UN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,hi={pending:!1,data:null,method:null,action:null},bp=[],co=-1;function dn(e){return{current:e}}function pt(e){0>co||(e.current=bp[co],bp[co]=null,co--)}function ke(e,t){co++,bp[co]=e.current,e.current=t}var on=dn(null),hl=dn(null),Ea=dn(null),qu=dn(null);function Hu(e,t){switch(ke(Ea,t),ke(hl,e),ke(on,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ux(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ux(t),e=tO(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pt(on),ke(on,e)}function No(){pt(on),pt(hl),pt(Ea)}function xp(e){e.memoizedState!==null&&ke(qu,e);var t=on.current,r=tO(t,e.type);t!==r&&(ke(hl,e),ke(on,r))}function Wu(e){hl.current===e&&(pt(on),pt(hl)),qu.current===e&&(pt(qu),Sl._currentValue=hi)}var Xh,zb;function Ja(e){if(Xh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xh=t&&t[1]||"",zb=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xh+e+zb}var Zh=!1;function Jh(e,t){if(!e||Zh)return"";Zh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var c=o.split(`
`),u=s.split(`
`);for(a=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===c.length||a===u.length)for(n=c.length-1,a=u.length-1;1<=n&&0<=a&&c[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(c[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||c[n]!==u[a]){var d=`
`+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{Zh=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ja(r):""}function VN(e,t){switch(e.tag){case 26:case 27:case 5:return Ja(e.type);case 16:return Ja("Lazy");case 13:return e.child!==t&&t!==null?Ja("Suspense Fallback"):Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 15:return Jh(e.type,!1);case 11:return Jh(e.type.render,!1);case 1:return Jh(e.type,!0);case 31:return Ja("Activity");default:return""}}function Bb(e){try{var t="",r=null;do t+=VN(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var _p=Object.prototype.hasOwnProperty,Rv=it.unstable_scheduleCallback,Qh=it.unstable_cancelCallback,GN=it.unstable_shouldYield,KN=it.unstable_requestPaint,ur=it.unstable_now,YN=it.unstable_getCurrentPriorityLevel,zS=it.unstable_ImmediatePriority,BS=it.unstable_UserBlockingPriority,Fu=it.unstable_NormalPriority,XN=it.unstable_LowPriority,IS=it.unstable_IdlePriority,ZN=it.log,JN=it.unstable_setDisableYieldValue,Kl=null,dr=null;function ba(e){if(typeof ZN=="function"&&JN(e),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(Kl,e)}catch{}}var fr=Math.clz32?Math.clz32:t5,QN=Math.log,e5=Math.LN2;function t5(e){return e>>>=0,e===0?32:31-(QN(e)/e5|0)|0}var Mc=256,Dc=262144,zc=4194304;function Qa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xf(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=n&134217727;return s!==0?(n=s&~i,n!==0?a=Qa(n):(o&=s,o!==0?a=Qa(o):r||(r=s&~e,r!==0&&(a=Qa(r))))):(s=n&~i,s!==0?a=Qa(s):o!==0?a=Qa(o):r||(r=n&~e,r!==0&&(a=Qa(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Yl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function r5(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $S(){var e=zc;return zc<<=1,!(zc&62914560)&&(zc=4194304),e}function em(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function n5(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-fr(r),f=1<<d;s[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&LS(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function LS(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function US(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function qS(e,t){var r=t&-t;return r=r&42?1:Pv(r),r&(e.suspendedLanes|t)?0:r}function Pv(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function HS(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:fO(e.type))}function Ib(e,t){var r=ge.p;try{return ge.p=e,t()}finally{ge.p=r}}var qa=Math.random().toString(36).slice(2),jt="__reactFiber$"+qa,Yt="__reactProps$"+qa,as="__reactContainer$"+qa,wp="__reactEvents$"+qa,a5="__reactListeners$"+qa,i5="__reactHandles$"+qa,$b="__reactResources$"+qa,Zl="__reactMarker$"+qa;function Mv(e){delete e[jt],delete e[Yt],delete e[wp],delete e[a5],delete e[i5]}function uo(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[as]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vx(e);e!==null;){if(r=e[jt])return r;e=Vx(e)}return t}e=r,r=e.parentNode}return null}function is(e){if(e=e[jt]||e[as]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(I(33))}function jo(e){var t=e[$b];return t||(t=e[$b]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Zl]=!0}var WS=new Set,FS={};function Di(e,t){Mo(e,t),Mo(e+"Capture",t)}function Mo(e,t){for(FS[e]=t,e=0;e<t.length;e++)WS.add(t[e])}var o5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lb={},Ub={};function s5(e){return _p.call(Ub,e)?!0:_p.call(Lb,e)?!1:o5.test(e)?Ub[e]=!0:(Lb[e]=!0,!1)}function wu(e,t,r){if(s5(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Bc(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function mn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function jr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l5(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jp(e){if(!e._valueTracker){var t=VS(e)?"checked":"value";e._valueTracker=l5(e,t,""+e[t])}}function GS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=VS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var c5=/[\n"\\]/g;function Er(e){return e.replace(c5,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Sp(e,t,r,n,a,i,o,s){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jr(t)):e.value!==""+jr(t)&&(e.value=""+jr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Cp(e,o,jr(t)):r!=null?Cp(e,o,jr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+jr(s):e.removeAttribute("name")}function KS(e,t,r,n,a,i,o,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){jp(e);return}r=r!=null?""+jr(r):"",t=t!=null?""+jr(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),jp(e)}function Cp(e,t,r){t==="number"&&Vu(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function So(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function YS(e,t,r){if(t!=null&&(t=""+jr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+jr(r):""}function XS(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(I(92));if(qs(n)){if(1<n.length)throw Error(I(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=jr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),jp(e)}function Do(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var u5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qb(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||u5.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function ZS(e,t,r){if(t!=null&&typeof t!="object")throw Error(I(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&qb(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&qb(e,i,t[i])}function Dv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ju(e){return f5.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function On(){}var Ep=null;function zv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fo=null,Co=null;function Hb(e){var t=is(e);if(t&&(e=t.stateNode)){var r=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Sp(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Er(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Yt]||null;if(!a)throw Error(I(90));Sp(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&GS(n)}break e;case"textarea":YS(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&So(e,!!r.multiple,t,!1)}}}var tm=!1;function JS(e,t,r){if(tm)return e(t,r);tm=!0;try{var n=e(t);return n}finally{if(tm=!1,(fo!==null||Co!==null)&&(Pf(),fo&&(t=fo,e=Co,Co=fo=null,Hb(t),e)))for(t=0;t<e.length;t++)Hb(e[t])}}function ml(e,t){var r=e.stateNode;if(r===null)return null;var n=r[Yt]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Op=!1;if(zn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Op=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Op=!1}var xa=null,Bv=null,Su=null;function QS(){if(Su)return Su;var e,t=Bv,r=t.length,n,a="value"in xa?xa.value:xa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Su=a.slice(e,1<n?1-n:void 0)}function Cu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ic(){return!0}function Wb(){return!1}function Xt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ic:Wb,this.isPropagationStopped=Wb,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=Xt(zi),Jl=Me({},zi,{view:0,detail:0}),h5=Xt(Jl),rm,nm,As,wf=Me({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(rm=e.screenX-As.screenX,nm=e.screenY-As.screenY):nm=rm=0,As=e),rm)},movementY:function(e){return"movementY"in e?e.movementY:nm}}),Fb=Xt(wf),m5=Me({},wf,{dataTransfer:0}),p5=Xt(m5),g5=Me({},Jl,{relatedTarget:0}),am=Xt(g5),v5=Me({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),y5=Xt(v5),b5=Me({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x5=Xt(b5),_5=Me({},zi,{data:0}),Vb=Xt(_5),w5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S5[e])?!!t[e]:!1}function Iv(){return C5}var E5=Me({},Jl,{key:function(e){if(e.key){var t=w5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iv,charCode:function(e){return e.type==="keypress"?Cu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O5=Xt(E5),A5=Me({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gb=Xt(A5),k5=Me({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iv}),T5=Xt(k5),R5=Me({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),P5=Xt(R5),N5=Me({},wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M5=Xt(N5),D5=Me({},zi,{newState:0,oldState:0}),z5=Xt(D5),B5=[9,13,27,32],$v=zn&&"CompositionEvent"in window,Xs=null;zn&&"documentMode"in document&&(Xs=document.documentMode);var I5=zn&&"TextEvent"in window&&!Xs,eC=zn&&(!$v||Xs&&8<Xs&&11>=Xs),Kb=" ",Yb=!1;function tC(e,t){switch(e){case"keyup":return B5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ho=!1;function $5(e,t){switch(e){case"compositionend":return rC(t);case"keypress":return t.which!==32?null:(Yb=!0,Kb);case"textInput":return e=t.data,e===Kb&&Yb?null:e;default:return null}}function L5(e,t){if(ho)return e==="compositionend"||!$v&&tC(e,t)?(e=QS(),Su=Bv=xa=null,ho=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eC&&t.locale!=="ko"?null:t.data;default:return null}}var U5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U5[e.type]:t==="textarea"}function nC(e,t,r,n){fo?Co?Co.push(n):Co=[n]:fo=n,t=ud(t,"onChange"),0<t.length&&(r=new _f("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zs=null,pl=null;function q5(e){JE(e,0)}function jf(e){var t=Hs(e);if(GS(t))return e}function Zb(e,t){if(e==="change")return t}var aC=!1;if(zn){var im;if(zn){var om="oninput"in document;if(!om){var Jb=document.createElement("div");Jb.setAttribute("oninput","return;"),om=typeof Jb.oninput=="function"}im=om}else im=!1;aC=im&&(!document.documentMode||9<document.documentMode)}function Qb(){Zs&&(Zs.detachEvent("onpropertychange",iC),pl=Zs=null)}function iC(e){if(e.propertyName==="value"&&jf(pl)){var t=[];nC(t,pl,e,zv(e)),JS(q5,t)}}function H5(e,t,r){e==="focusin"?(Qb(),Zs=t,pl=r,Zs.attachEvent("onpropertychange",iC)):e==="focusout"&&Qb()}function W5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jf(pl)}function F5(e,t){if(e==="click")return jf(t)}function V5(e,t){if(e==="input"||e==="change")return jf(t)}function G5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:G5;function gl(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!_p.call(t,a)||!pr(e[a],t[a]))return!1}return!0}function ex(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tx(e,t){var r=ex(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ex(r)}}function oC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sC(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vu(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vu(e.document)}return t}function Lv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var K5=zn&&"documentMode"in document&&11>=document.documentMode,mo=null,Ap=null,Js=null,kp=!1;function rx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kp||mo==null||mo!==Vu(n)||(n=mo,"selectionStart"in n&&Lv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Js&&gl(Js,n)||(Js=n,n=ud(Ap,"onSelect"),0<n.length&&(t=new _f("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mo)))}function Ya(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var po={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},sm={},lC={};zn&&(lC=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Bi(e){if(sm[e])return sm[e];if(!po[e])return e;var t=po[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lC)return sm[e]=t[r];return e}var cC=Bi("animationend"),uC=Bi("animationiteration"),dC=Bi("animationstart"),Y5=Bi("transitionrun"),X5=Bi("transitionstart"),Z5=Bi("transitioncancel"),fC=Bi("transitionend"),hC=new Map,Tp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tp.push("scrollEnd");function Zr(e,t){hC.set(e,t),Di(t,[e])}var Gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wr=[],go=0,Uv=0;function Sf(){for(var e=go,t=Uv=go=0;t<e;){var r=wr[t];wr[t++]=null;var n=wr[t];wr[t++]=null;var a=wr[t];wr[t++]=null;var i=wr[t];if(wr[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&mC(r,a,i)}}function Cf(e,t,r,n){wr[go++]=e,wr[go++]=t,wr[go++]=r,wr[go++]=n,Uv|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function qv(e,t,r,n){return Cf(e,t,r,n),Ku(e)}function Ii(e,t){return Cf(e,null,null,t),Ku(e)}function mC(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-fr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Ku(e){if(50<sl)throw sl=0,Zp=null,Error(I(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var vo={};function J5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new J5(e,t,r,n)}function Hv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function pC(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Eu(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")Hv(e)&&(o=1);else if(typeof e=="string")o=nD(e,r,on.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case vp:return e=ar(31,r,t,a),e.elementType=vp,e.lanes=i,e;case lo:return mi(r.children,a,i,t);case MS:o=8,a|=24;break;case mp:return e=ar(12,r,t,a|2),e.elementType=mp,e.lanes=i,e;case pp:return e=ar(13,r,t,a),e.elementType=pp,e.lanes=i,e;case gp:return e=ar(19,r,t,a),e.elementType=gp,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case En:o=10;break e;case DS:o=9;break e;case kv:o=11;break e;case Tv:o=14;break e;case ca:o=16,n=null;break e}o=29,r=Error(I(130,e===null?"null":typeof e,"")),n=null}return t=ar(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function mi(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function lm(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function gC(e){var t=ar(18,null,null,0);return t.stateNode=e,t}function cm(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nx=new WeakMap;function Or(e,t){if(typeof e=="object"&&e!==null){var r=nx.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Bb(t)},nx.set(e,t),t)}return{value:e,source:t,stack:Bb(t)}}var yo=[],bo=0,Yu=null,vl=0,Sr=[],Cr=0,za=null,tn=1,rn="";function _n(e,t){yo[bo++]=vl,yo[bo++]=Yu,Yu=e,vl=t}function vC(e,t,r){Sr[Cr++]=tn,Sr[Cr++]=rn,Sr[Cr++]=za,za=e;var n=tn;e=rn;var a=32-fr(n)-1;n&=~(1<<a),r+=1;var i=32-fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,tn=1<<32-fr(t)+a|r<<a|n,rn=i+e}else tn=1<<i|r<<a|n,rn=e}function Wv(e){e.return!==null&&(_n(e,1),vC(e,1,0))}function Fv(e){for(;e===Yu;)Yu=yo[--bo],yo[bo]=null,vl=yo[--bo],yo[bo]=null;for(;e===za;)za=Sr[--Cr],Sr[Cr]=null,rn=Sr[--Cr],Sr[Cr]=null,tn=Sr[--Cr],Sr[Cr]=null}function yC(e,t){Sr[Cr++]=tn,Sr[Cr++]=rn,Sr[Cr++]=za,tn=t.id,rn=t.overflow,za=e}var St=null,Pe=null,fe=!1,Oa=null,Ar=!1,Rp=Error(I(519));function Ba(e){var t=Error(I(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Or(t,e)),Rp}function ax(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[jt]=e,t[Yt]=n,r){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(r=0;r<wl.length;r++)oe(wl[r],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),KS(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),XS(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||eO(t.textContent,r)?(n.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),n.onScroll!=null&&oe("scroll",t),n.onScrollEnd!=null&&oe("scrollend",t),n.onClick!=null&&(t.onclick=On),t=!0):t=!1,t||Ba(e,!0)}function ix(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:St=St.return}}function Vi(e){if(e!==St)return!1;if(!fe)return ix(e),fe=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||rg(e.type,e.memoizedProps)),r=!r),r&&Pe&&Ba(e),ix(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));Pe=Fx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));Pe=Fx(e)}else t===27?(t=Pe,Ha(e.type)?(e=og,og=null,Pe=e):Pe=t):Pe=St?Rr(e.stateNode.nextSibling):null;return!0}function wi(){Pe=St=null,fe=!1}function um(){var e=Oa;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),Oa=null),e}function yl(e){Oa===null?Oa=[e]:Oa.push(e)}var Pp=dn(null),$i=null,An=null;function ha(e,t,r){ke(Pp,t._currentValue),t._currentValue=r}function Pn(e){e._currentValue=Pp.current,pt(Pp)}function Np(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Mp(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=a;for(var c=0;c<t.length;c++)if(s.context===t[c]){i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),Np(i.return,r,e),n||(o=null);break e}i=s.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Np(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function os(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(I(387));if(o=o.memoizedProps,o!==null){var s=a.type;pr(a.pendingProps.value,o.value)||(e!==null?e.push(s):e=[s])}}else if(a===qu.current){if(o=a.alternate,o===null)throw Error(I(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}a=a.return}e!==null&&Mp(t,e,r,n),t.flags|=262144}function Xu(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){$i=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return bC($i,e)}function $c(e,t){return $i===null&&ji(e),bC(e,t)}function bC(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},An===null){if(e===null)throw Error(I(308));An=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else An=An.next=t;return r}var Q5=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},eM=it.unstable_scheduleCallback,tM=it.unstable_NormalPriority,Je={$$typeof:En,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vv(){return{controller:new Q5,data:new Map,refCount:0}}function Ql(e){e.refCount--,e.refCount===0&&eM(tM,function(){e.controller.abort()})}var Qs=null,Dp=0,zo=0,Eo=null;function rM(e,t){if(Qs===null){var r=Qs=[];Dp=0,zo=vy(),Eo={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Dp++,t.then(ox,ox),t}function ox(){if(--Dp===0&&Qs!==null){Eo!==null&&(Eo.status="fulfilled");var e=Qs;Qs=null,zo=0,Eo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function nM(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var sx=Q.S;Q.S=function(e,t){NE=ur(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&rM(e,t),sx!==null&&sx(e,t)};var pi=dn(null);function Gv(){var e=pi.current;return e!==null?e:Se.pooledCache}function Ou(e,t){t===null?ke(pi,pi.current):ke(pi,t.pool)}function xC(){var e=Gv();return e===null?null:{parent:Je._currentValue,pool:e}}var ss=Error(I(460)),Kv=Error(I(474)),Ef=Error(I(542)),Zu={then:function(){}};function lx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _C(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(On,On),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ux(e),e;default:if(typeof t.status=="string")t.then(On,On);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error(I(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ux(e),e}throw gi=t,ss}}function ei(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(gi=r,ss):r}}var gi=null;function cx(){if(gi===null)throw Error(I(459));var e=gi;return gi=null,e}function ux(e){if(e===ss||e===Ef)throw Error(I(483))}var Oo=null,bl=0;function Lc(e){var t=bl;return bl+=1,Oo===null&&(Oo=[]),_C(Oo,e,t)}function ks(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Uc(e,t){throw t.$$typeof===HN?Error(I(525)):(e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wC(e){function t(v,g){if(e){var _=v.deletions;_===null?(v.deletions=[g],v.flags|=16):_.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(v,g){return v=Rn(v,g),v.index=0,v.sibling=null,v}function i(v,g,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<g?(v.flags|=67108866,g):_):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function s(v,g,_,w){return g===null||g.tag!==6?(g=lm(_,v.mode,w),g.return=v,g):(g=a(g,_),g.return=v,g)}function c(v,g,_,w){var j=_.type;return j===lo?d(v,g,_.props.children,w,_.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ca&&ei(j)===g.type)?(g=a(g,_.props),ks(g,_),g.return=v,g):(g=Eu(_.type,_.key,_.props,null,v.mode,w),ks(g,_),g.return=v,g)}function u(v,g,_,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=cm(_,v.mode,w),g.return=v,g):(g=a(g,_.children||[]),g.return=v,g)}function d(v,g,_,w,j){return g===null||g.tag!==7?(g=mi(_,v.mode,w,j),g.return=v,g):(g=a(g,_),g.return=v,g)}function f(v,g,_){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=lm(""+g,v.mode,_),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nc:return _=Eu(g.type,g.key,g.props,null,v.mode,_),ks(_,g),_.return=v,_;case Us:return g=cm(g,v.mode,_),g.return=v,g;case ca:return g=ei(g),f(v,g,_)}if(qs(g)||Es(g))return g=mi(g,v.mode,_,null),g.return=v,g;if(typeof g.then=="function")return f(v,Lc(g),_);if(g.$$typeof===En)return f(v,$c(v,g),_);Uc(v,g)}return null}function h(v,g,_,w){var j=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return j!==null?null:s(v,g,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:return _.key===j?c(v,g,_,w):null;case Us:return _.key===j?u(v,g,_,w):null;case ca:return _=ei(_),h(v,g,_,w)}if(qs(_)||Es(_))return j!==null?null:d(v,g,_,w,null);if(typeof _.then=="function")return h(v,g,Lc(_),w);if(_.$$typeof===En)return h(v,g,$c(v,_),w);Uc(v,_)}return null}function m(v,g,_,w,j){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return v=v.get(_)||null,s(g,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nc:return v=v.get(w.key===null?_:w.key)||null,c(g,v,w,j);case Us:return v=v.get(w.key===null?_:w.key)||null,u(g,v,w,j);case ca:return w=ei(w),m(v,g,_,w,j)}if(qs(w)||Es(w))return v=v.get(_)||null,d(g,v,w,j,null);if(typeof w.then=="function")return m(v,g,_,Lc(w),j);if(w.$$typeof===En)return m(v,g,_,$c(g,w),j);Uc(g,w)}return null}function p(v,g,_,w){for(var j=null,S=null,C=g,E=g=0,A=null;C!==null&&E<_.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var T=h(v,C,_[E],w);if(T===null){C===null&&(C=A);break}e&&C&&T.alternate===null&&t(v,C),g=i(T,g,E),S===null?j=T:S.sibling=T,S=T,C=A}if(E===_.length)return r(v,C),fe&&_n(v,E),j;if(C===null){for(;E<_.length;E++)C=f(v,_[E],w),C!==null&&(g=i(C,g,E),S===null?j=C:S.sibling=C,S=C);return fe&&_n(v,E),j}for(C=n(C);E<_.length;E++)A=m(C,v,E,_[E],w),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),g=i(A,g,E),S===null?j=A:S.sibling=A,S=A);return e&&C.forEach(function(P){return t(v,P)}),fe&&_n(v,E),j}function x(v,g,_,w){if(_==null)throw Error(I(151));for(var j=null,S=null,C=g,E=g=0,A=null,T=_.next();C!==null&&!T.done;E++,T=_.next()){C.index>E?(A=C,C=null):A=C.sibling;var P=h(v,C,T.value,w);if(P===null){C===null&&(C=A);break}e&&C&&P.alternate===null&&t(v,C),g=i(P,g,E),S===null?j=P:S.sibling=P,S=P,C=A}if(T.done)return r(v,C),fe&&_n(v,E),j;if(C===null){for(;!T.done;E++,T=_.next())T=f(v,T.value,w),T!==null&&(g=i(T,g,E),S===null?j=T:S.sibling=T,S=T);return fe&&_n(v,E),j}for(C=n(C);!T.done;E++,T=_.next())T=m(C,v,E,T.value,w),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?E:T.key),g=i(T,g,E),S===null?j=T:S.sibling=T,S=T);return e&&C.forEach(function(k){return t(v,k)}),fe&&_n(v,E),j}function y(v,g,_,w){if(typeof _=="object"&&_!==null&&_.type===lo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:e:{for(var j=_.key;g!==null;){if(g.key===j){if(j=_.type,j===lo){if(g.tag===7){r(v,g.sibling),w=a(g,_.props.children),w.return=v,v=w;break e}}else if(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ca&&ei(j)===g.type){r(v,g.sibling),w=a(g,_.props),ks(w,_),w.return=v,v=w;break e}r(v,g);break}else t(v,g);g=g.sibling}_.type===lo?(w=mi(_.props.children,v.mode,w,_.key),w.return=v,v=w):(w=Eu(_.type,_.key,_.props,null,v.mode,w),ks(w,_),w.return=v,v=w)}return o(v);case Us:e:{for(j=_.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){r(v,g.sibling),w=a(g,_.children||[]),w.return=v,v=w;break e}else{r(v,g);break}else t(v,g);g=g.sibling}w=cm(_,v.mode,w),w.return=v,v=w}return o(v);case ca:return _=ei(_),y(v,g,_,w)}if(qs(_))return p(v,g,_,w);if(Es(_)){if(j=Es(_),typeof j!="function")throw Error(I(150));return _=j.call(_),x(v,g,_,w)}if(typeof _.then=="function")return y(v,g,Lc(_),w);if(_.$$typeof===En)return y(v,g,$c(v,_),w);Uc(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,g!==null&&g.tag===6?(r(v,g.sibling),w=a(g,_),w.return=v,v=w):(r(v,g),w=lm(_,v.mode,w),w.return=v,v=w),o(v)):r(v,g)}return function(v,g,_,w){try{bl=0;var j=y(v,g,_,w);return Oo=null,j}catch(C){if(C===ss||C===Ef)throw C;var S=ar(29,C,null,v.mode);return S.lanes=w,S.return=v,S}finally{}}}var Si=wC(!0),jC=wC(!1),ua=!1;function Yv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Ku(e),mC(e,null,r),t}return Cf(e,n,t,r),Ku(e)}function el(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,US(e,r)}}function dm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Bp=!1;function tl(){if(Bp){var e=Eo;if(e!==null)throw e}}function rl(e,t,r,n){Bp=!1;var a=e.updateQueue;ua=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,s=i;do{var h=s.lane&-536870913,m=h!==s.lane;if(m?(ce&h)===h:(n&h)===h){h!==0&&h===zo&&(Bp=!0),d!==null&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,x=s;h=t;var y=r;switch(x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(y,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(y,f,h):p,h==null)break e;f=Me({},f,h);break e;case 2:ua=!0}}h=s.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;m=s,s=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),$a|=o,e.lanes=o,e.memoizedState=f}}function SC(e,t){if(typeof e!="function")throw Error(I(191,e));e.call(t)}function CC(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)SC(r[e],t)}var Bo=dn(null),Ju=dn(0);function dx(e,t){e=Ln,ke(Ju,e),ke(Bo,t),Ln=e|t.baseLanes}function Ip(){ke(Ju,Ln),ke(Bo,Bo.current)}function Xv(){Ln=Ju.current,pt(Bo),pt(Ju)}var gr=dn(null),Tr=null;function ma(e){var t=e.alternate;ke(Fe,Fe.current&1),ke(gr,e),Tr===null&&(t===null||Bo.current!==null||t.memoizedState!==null)&&(Tr=e)}function $p(e){ke(Fe,Fe.current),ke(gr,e),Tr===null&&(Tr=e)}function EC(e){e.tag===22?(ke(Fe,Fe.current),ke(gr,e),Tr===null&&(Tr=e)):pa()}function pa(){ke(Fe,Fe.current),ke(gr,gr.current)}function nr(e){pt(gr),Tr===e&&(Tr=null),pt(Fe)}var Fe=dn(0);function Qu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ag(r)||ig(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bn=0,re=null,we=null,Xe=null,ed=!1,Ao=!1,Ci=!1,td=0,xl=0,ko=null,aM=0;function Ue(){throw Error(I(321))}function Zv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pr(e[r],t[r]))return!1;return!0}function Jv(e,t,r,n,a,i){return Bn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?nE:cy,Ci=!1,i=r(n,a),Ci=!1,Ao&&(i=AC(t,r,n,a)),OC(e),i}function OC(e){Q.H=_l;var t=we!==null&&we.next!==null;if(Bn=0,Xe=we=re=null,ed=!1,xl=0,ko=null,t)throw Error(I(300));e===null||Qe||(e=e.dependencies,e!==null&&Xu(e)&&(Qe=!0))}function AC(e,t,r,n){re=e;var a=0;do{if(Ao&&(ko=null),xl=0,Ao=!1,25<=a)throw Error(I(301));if(a+=1,Xe=we=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Q.H=aE,i=t(r,n)}while(Ao);return i}function iM(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?ec(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(re.flags|=1024),t}function Qv(){var e=td!==0;return td=0,e}function ey(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ty(e){if(ed){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ed=!1}Bn=0,Xe=we=re=null,Ao=!1,xl=td=0,ko=null}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ve(){if(we===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Xe===null?re.memoizedState:Xe.next;if(t!==null)Xe=t,we=e;else{if(e===null)throw re.alternate===null?Error(I(467)):Error(I(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(e){var t=xl;return xl+=1,ko===null&&(ko=[]),e=_C(ko,e,t),t=re,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?nE:cy),e}function Af(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ec(e);if(e.$$typeof===En)return Ct(e)}throw Error(I(438,String(e)))}function ry(e){var t=null,r=re.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=re.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Of(),re.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=WN;return t.index++,r}function In(e,t){return typeof t=="function"?t(e):t}function Au(e){var t=Ve();return ny(t,we,e)}function ny(e,t,r){var n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var s=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ce&f)===f:(Bn&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===zo&&(d=!0);else if((Bn&h)===h){u=u.next,h===zo&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=f,o=i):c=c.next=f,re.lanes|=h,$a|=h;f=u.action,Ci&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=h,o=i):c=c.next=h,re.lanes|=f,$a|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=s,!pr(i,e.memoizedState)&&(Qe=!0,d&&(r=Eo,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function fm(e){var t=Ve(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pr(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function kC(e,t,r){var n=re,a=Ve(),i=fe;if(i){if(r===void 0)throw Error(I(407));r=r()}else r=t();var o=!pr((we||a).memoizedState,r);if(o&&(a.memoizedState=r,Qe=!0),a=a.queue,ay(PC.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Io(9,{destroy:void 0},RC.bind(null,n,a,r,t),null),Se===null)throw Error(I(349));i||Bn&127||TC(n,t,r)}return r}function TC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=re.updateQueue,t===null?(t=Of(),re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function RC(e,t,r,n){t.value=r,t.getSnapshot=n,NC(t)&&MC(e)}function PC(e,t,r){return r(function(){NC(t)&&MC(e)})}function NC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pr(e,r)}catch{return!0}}function MC(e){var t=Ii(e,2);t!==null&&Kt(t,e,2)}function Lp(e){var t=Pt();if(typeof e=="function"){var r=e;if(e=r(),Ci){ba(!0);try{r()}finally{ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:e},t}function DC(e,t,r,n){return e.baseState=r,ny(e,we,typeof n=="function"?n:In)}function oM(e,t,r,n,a){if(Tf(e))throw Error(I(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Q.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,zC(t,i)):(i.next=r.next,t.pending=r.next=i)}}function zC(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=Q.T,o={};Q.T=o;try{var s=r(a,n),c=Q.S;c!==null&&c(o,s),fx(e,t,s)}catch(u){Up(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),Q.T=i}}else try{i=r(a,n),fx(e,t,i)}catch(u){Up(e,t,u)}}function fx(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){hx(e,t,n)},function(n){return Up(e,t,n)}):hx(e,t,r)}function hx(e,t,r){t.status="fulfilled",t.value=r,BC(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,zC(e,r)))}function Up(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,BC(t),t=t.next;while(t!==n)}e.action=null}function BC(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function IC(e,t){return t}function mx(e,t){if(fe){var r=Se.formState;if(r!==null){e:{var n=re;if(fe){if(Pe){t:{for(var a=Pe,i=Ar;a.nodeType!==8;){if(!i){a=null;break t}if(a=Rr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Pe=Rr(a.nextSibling),n=a.data==="F!";break e}}Ba(n)}n=!1}n&&(t=r[0])}}return r=Pt(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IC,lastRenderedState:t},r.queue=n,r=eE.bind(null,re,n),n.dispatch=r,n=Lp(!1),i=ly.bind(null,re,!1,n.queue),n=Pt(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=oM.bind(null,re,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function px(e){var t=Ve();return $C(t,we,e)}function $C(e,t,r){if(t=ny(e,t,IC)[0],e=Au(In)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ec(t)}catch(o){throw o===ss?Ef:o}else n=t;t=Ve();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(re.flags|=2048,Io(9,{destroy:void 0},sM.bind(null,a,r),null)),[n,i,e]}function sM(e,t){e.action=t}function gx(e){var t=Ve(),r=we;if(r!==null)return $C(t,r,e);Ve(),t=t.memoizedState,r=Ve();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Io(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=re.updateQueue,t===null&&(t=Of(),re.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function LC(){return Ve().memoizedState}function ku(e,t,r,n){var a=Pt();re.flags|=e,a.memoizedState=Io(1|t,{destroy:void 0},r,n===void 0?null:n)}function kf(e,t,r,n){var a=Ve();n=n===void 0?null:n;var i=a.memoizedState.inst;we!==null&&n!==null&&Zv(n,we.memoizedState.deps)?a.memoizedState=Io(t,i,r,n):(re.flags|=e,a.memoizedState=Io(1|t,i,r,n))}function vx(e,t){ku(8390656,8,e,t)}function ay(e,t){kf(2048,8,e,t)}function lM(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Of(),re.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function UC(e){var t=Ve().memoizedState;return lM({ref:t,nextImpl:e}),function(){if(pe&2)throw Error(I(440));return t.impl.apply(void 0,arguments)}}function qC(e,t){return kf(4,2,e,t)}function HC(e,t){return kf(4,4,e,t)}function WC(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FC(e,t,r){r=r!=null?r.concat([e]):null,kf(4,4,WC.bind(null,t,e),r)}function iy(){}function VC(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&Zv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function GC(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&Zv(t,n[1]))return n[0];if(n=e(),Ci){ba(!0);try{e()}finally{ba(!1)}}return r.memoizedState=[n,t],n}function oy(e,t,r){return r===void 0||Bn&1073741824&&!(ce&261930)?e.memoizedState=t:(e.memoizedState=r,e=DE(),re.lanes|=e,$a|=e,r)}function KC(e,t,r,n){return pr(r,t)?r:Bo.current!==null?(e=oy(e,r,n),pr(e,t)||(Qe=!0),e):!(Bn&42)||Bn&1073741824&&!(ce&261930)?(Qe=!0,e.memoizedState=r):(e=DE(),re.lanes|=e,$a|=e,t)}function YC(e,t,r,n,a){var i=ge.p;ge.p=i!==0&&8>i?i:8;var o=Q.T,s={};Q.T=s,ly(e,!1,t,r);try{var c=a(),u=Q.S;if(u!==null&&u(s,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=nM(c,n);nl(e,t,d,hr(e))}else nl(e,t,n,hr(e))}catch(f){nl(e,t,{then:function(){},status:"rejected",reason:f},hr())}finally{ge.p=i,o!==null&&s.types!==null&&(o.types=s.types),Q.T=o}}function cM(){}function qp(e,t,r,n){if(e.tag!==5)throw Error(I(476));var a=XC(e).queue;YC(e,a,t,hi,r===null?cM:function(){return ZC(e),r(n)})}function XC(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:hi,baseState:hi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:hi},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ZC(e){var t=XC(e);t.next===null&&(t=e.alternate.memoizedState),nl(e,t.next.queue,{},hr())}function sy(){return Ct(Sl)}function JC(){return Ve().memoizedState}function QC(){return Ve().memoizedState}function uM(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hr();e=Aa(r);var n=ka(t,e,r);n!==null&&(Kt(n,t,r),el(n,t,r)),t={cache:Vv()},e.payload=t;return}t=t.return}}function dM(e,t,r){var n=hr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Tf(e)?tE(t,r):(r=qv(e,t,r,n),r!==null&&(Kt(r,e,n),rE(r,t,n)))}function eE(e,t,r){var n=hr();nl(e,t,r,n)}function nl(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tf(e))tE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,pr(s,o))return Cf(e,t,a,0),Se===null&&Sf(),!1}catch{}finally{}if(r=qv(e,t,a,n),r!==null)return Kt(r,e,n),rE(r,t,n),!0}return!1}function ly(e,t,r,n){if(n={lane:2,revertLane:vy(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Tf(e)){if(t)throw Error(I(479))}else t=qv(e,r,n,2),t!==null&&Kt(t,e,2)}function Tf(e){var t=e.alternate;return e===re||t!==null&&t===re}function tE(e,t){Ao=ed=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rE(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,US(e,r)}}var _l={readContext:Ct,use:Af,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};_l.useEffectEvent=Ue;var nE={readContext:Ct,use:Af,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:vx,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,ku(4194308,4,WC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ku(4194308,4,e,t)},useInsertionEffect:function(e,t){ku(4,2,e,t)},useMemo:function(e,t){var r=Pt();t=t===void 0?null:t;var n=e();if(Ci){ba(!0);try{e()}finally{ba(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Pt();if(r!==void 0){var a=r(t);if(Ci){ba(!0);try{r(t)}finally{ba(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=dM.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Lp(e);var t=e.queue,r=eE.bind(null,re,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:iy,useDeferredValue:function(e,t){var r=Pt();return oy(r,e,t)},useTransition:function(){var e=Lp(!1);return e=YC.bind(null,re,e.queue,!0,!1),Pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=re,a=Pt();if(fe){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Se===null)throw Error(I(349));ce&127||TC(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,vx(PC.bind(null,n,i,e),[e]),n.flags|=2048,Io(9,{destroy:void 0},RC.bind(null,n,i,r,t),null),r},useId:function(){var e=Pt(),t=Se.identifierPrefix;if(fe){var r=rn,n=tn;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=td++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=aM++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sy,useFormState:mx,useActionState:mx,useOptimistic:function(e){var t=Pt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=ly.bind(null,re,!0,r),r.dispatch=t,[e,t]},useMemoCache:ry,useCacheRefresh:function(){return Pt().memoizedState=uM.bind(null,re)},useEffectEvent:function(e){var t=Pt(),r={impl:e};return t.memoizedState=r,function(){if(pe&2)throw Error(I(440));return r.impl.apply(void 0,arguments)}}},cy={readContext:Ct,use:Af,useCallback:VC,useContext:Ct,useEffect:ay,useImperativeHandle:FC,useInsertionEffect:qC,useLayoutEffect:HC,useMemo:GC,useReducer:Au,useRef:LC,useState:function(){return Au(In)},useDebugValue:iy,useDeferredValue:function(e,t){var r=Ve();return KC(r,we.memoizedState,e,t)},useTransition:function(){var e=Au(In)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ec(e),t]},useSyncExternalStore:kC,useId:JC,useHostTransitionStatus:sy,useFormState:px,useActionState:px,useOptimistic:function(e,t){var r=Ve();return DC(r,we,e,t)},useMemoCache:ry,useCacheRefresh:QC};cy.useEffectEvent=UC;var aE={readContext:Ct,use:Af,useCallback:VC,useContext:Ct,useEffect:ay,useImperativeHandle:FC,useInsertionEffect:qC,useLayoutEffect:HC,useMemo:GC,useReducer:fm,useRef:LC,useState:function(){return fm(In)},useDebugValue:iy,useDeferredValue:function(e,t){var r=Ve();return we===null?oy(r,e,t):KC(r,we.memoizedState,e,t)},useTransition:function(){var e=fm(In)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ec(e),t]},useSyncExternalStore:kC,useId:JC,useHostTransitionStatus:sy,useFormState:gx,useActionState:gx,useOptimistic:function(e,t){var r=Ve();return we!==null?DC(r,we,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ry,useCacheRefresh:QC};aE.useEffectEvent=UC;function hm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hp={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Aa(n);a.payload=t,r!=null&&(a.callback=r),t=ka(e,a,n),t!==null&&(Kt(t,e,n),el(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Aa(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ka(e,a,n),t!==null&&(Kt(t,e,n),el(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Aa(r);n.tag=2,t!=null&&(n.callback=t),t=ka(e,n,r),t!==null&&(Kt(t,e,r),el(t,e,r))}};function yx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!gl(r,n)||!gl(a,i):!0}function bx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hp.enqueueReplaceState(t,t.state,null)}function Ei(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Me({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function iE(e){Gu(e)}function oE(e){console.error(e)}function sE(e){Gu(e)}function rd(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function xx(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Wp(e,t,r){return r=Aa(r),r.tag=3,r.payload={element:null},r.callback=function(){rd(e,t)},r}function lE(e){return e=Aa(e),e.tag=3,e}function cE(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){xx(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){xx(t,r,n),typeof a!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})})}function fM(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&os(t,r,a,!0),r=gr.current,r!==null){switch(r.tag){case 31:case 13:return Tr===null?sd():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Zu?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),Sm(e,n,a)),!1;case 22:return r.flags|=65536,n===Zu?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),Sm(e,n,a)),!1}throw Error(I(435,r.tag))}return Sm(e,n,a),sd(),!1}if(fe)return t=gr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Rp&&(e=Error(I(422),{cause:n}),yl(Or(e,r)))):(n!==Rp&&(t=Error(I(423),{cause:n}),yl(Or(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Or(n,r),a=Wp(e.stateNode,n,a),dm(e,a),He!==4&&(He=2)),!1;var i=Error(I(520),{cause:n});if(i=Or(i,r),ol===null?ol=[i]:ol.push(i),He!==4&&(He=2),t===null)return!0;n=Or(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=Wp(r.stateNode,n,e),dm(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ta===null||!Ta.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=lE(a),cE(a,e,r,n),dm(r,a),!1}r=r.return}while(r!==null);return!1}var uy=Error(I(461)),Qe=!1;function xt(e,t,r,n){t.child=e===null?jC(t,null,r,n):Si(t,e.child,r,n)}function _x(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}else o=n;return ji(t),n=Jv(e,t,r,o,i,a),s=Qv(),e!==null&&!Qe?(ey(e,t,a),$n(e,t,a)):(fe&&s&&Wv(t),t.flags|=1,xt(e,t,n,a),t.child)}function wx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Hv(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,uE(e,t,i,n,a)):(e=Eu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!dy(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:gl,r(o,n)&&e.ref===t.ref)return $n(e,t,a)}return t.flags|=1,e=Rn(i,n),e.ref=t.ref,e.return=t,t.child=e}function uE(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(gl(i,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=i,dy(e,a))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,$n(e,t,a)}return Fp(e,t,r,n,a)}function dE(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return jx(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(t,i!==null?i.cachePool:null),i!==null?dx(t,i):Ip(),EC(t);else return n=t.lanes=536870912,jx(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(Ou(t,i.cachePool),dx(t,i),pa(),t.memoizedState=null):(e!==null&&Ou(t,null),Ip(),pa());return xt(e,t,a,r),t.child}function Ws(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function jx(e,t,r,n,a){var i=Gv();return i=i===null?null:{parent:Je._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&Ou(t,null),Ip(),EC(t),e!==null&&os(e,t,n,!0),t.childLanes=a,null}function Tu(e,t){return t=nd({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sx(e,t,r){return Si(t,e.child,null,r),e=Tu(t,t.pendingProps),e.flags|=2,nr(t),t.memoizedState=null,e}function hM(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(fe){if(n.mode==="hidden")return e=Tu(t,n),t.lanes=536870912,Ws(null,e);if($p(t),(e=Pe)?(e=nO(e,Ar),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=gC(e),r.return=t,t.child=r,St=t,Pe=null)):e=null,e===null)throw Ba(t);return t.lanes=536870912,null}return Tu(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if($p(t),a)if(t.flags&256)t.flags&=-257,t=Sx(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(I(558));else if(Qe||os(e,t,r,!1),a=(r&e.childLanes)!==0,Qe||a){if(n=Se,n!==null&&(o=qS(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,Ii(e,o),Kt(n,e,o),uy;sd(),t=Sx(e,t,r)}else e=i.treeContext,Pe=Rr(o.nextSibling),St=t,fe=!0,Oa=null,Ar=!1,e!==null&&yC(t,e),t=Tu(t,n),t.flags|=4096;return t}return e=Rn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ru(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(I(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Fp(e,t,r,n,a){return ji(t),r=Jv(e,t,r,n,void 0,a),n=Qv(),e!==null&&!Qe?(ey(e,t,a),$n(e,t,a)):(fe&&n&&Wv(t),t.flags|=1,xt(e,t,r,a),t.child)}function Cx(e,t,r,n,a,i){return ji(t),t.updateQueue=null,r=AC(t,n,r,a),OC(e),n=Qv(),e!==null&&!Qe?(ey(e,t,i),$n(e,t,i)):(fe&&n&&Wv(t),t.flags|=1,xt(e,t,r,i),t.child)}function Ex(e,t,r,n,a){if(ji(t),t.stateNode===null){var i=vo,o=r.contextType;typeof o=="object"&&o!==null&&(i=Ct(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Hp,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Yv(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Ct(o):vo,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(hm(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Hp.enqueueReplaceState(i,i.state,null),rl(t,n,i,a),tl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var s=t.memoizedProps,c=Ei(r,s);i.props=c;var u=i.context,d=r.contextType;o=vo,typeof d=="object"&&d!==null&&(o=Ct(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==o)&&bx(t,i,n,o),ua=!1;var h=t.memoizedState;i.state=h,rl(t,n,i,a),tl(),u=t.memoizedState,s||h!==u||ua?(typeof f=="function"&&(hm(t,r,f,n),u=t.memoizedState),(c=ua||yx(t,r,c,n,h,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,zp(e,t),o=t.memoizedProps,d=Ei(r,o),i.props=d,f=t.pendingProps,h=i.context,u=r.contextType,c=vo,typeof u=="object"&&u!==null&&(c=Ct(u)),s=r.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==c)&&bx(t,i,n,c),ua=!1,h=t.memoizedState,i.state=h,rl(t,n,i,a),tl();var m=t.memoizedState;o!==f||h!==m||ua||e!==null&&e.dependencies!==null&&Xu(e.dependencies)?(typeof s=="function"&&(hm(t,r,s,n),m=t.memoizedState),(d=ua||yx(t,r,d,n,h,m,c)||e!==null&&e.dependencies!==null&&Xu(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Ru(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Si(t,e.child,null,a),t.child=Si(t,null,r,a)):xt(e,t,r,a),t.memoizedState=i.state,e=t.child):e=$n(e,t,a),e}function Ox(e,t,r,n){return wi(),t.flags|=256,xt(e,t,r,n),t.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pm(e){return{baseLanes:e,cachePool:xC()}}function gm(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=lr),e}function fE(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(fe){if(a?ma(t):pa(),(e=Pe)?(e=nO(e,Ar),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=gC(e),r.return=t,t.child=r,St=t,Pe=null)):e=null,e===null)throw Ba(t);return ig(e)?t.lanes=32:t.lanes=536870912,null}var s=n.children;return n=n.fallback,a?(pa(),a=t.mode,s=nd({mode:"hidden",children:s},a),n=mi(n,a,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n=t.child,n.memoizedState=pm(r),n.childLanes=gm(e,o,r),t.memoizedState=mm,Ws(null,n)):(ma(t),Vp(t,s))}var c=e.memoizedState;if(c!==null&&(s=c.dehydrated,s!==null)){if(i)t.flags&256?(ma(t),t.flags&=-257,t=vm(e,t,r)):t.memoizedState!==null?(pa(),t.child=e.child,t.flags|=128,t=null):(pa(),s=n.fallback,a=t.mode,n=nd({mode:"visible",children:n.children},a),s=mi(s,a,r,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,Si(t,e.child,null,r),n=t.child,n.memoizedState=pm(r),n.childLanes=gm(e,o,r),t.memoizedState=mm,t=Ws(null,n));else if(ma(t),ig(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(I(419)),n.stack="",n.digest=o,yl({value:n,source:null,stack:null}),t=vm(e,t,r)}else if(Qe||os(e,t,r,!1),o=(r&e.childLanes)!==0,Qe||o){if(o=Se,o!==null&&(n=qS(o,r),n!==0&&n!==c.retryLane))throw c.retryLane=n,Ii(e,n),Kt(o,e,n),uy;ag(s)||sd(),t=vm(e,t,r)}else ag(s)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Pe=Rr(s.nextSibling),St=t,fe=!0,Oa=null,Ar=!1,e!==null&&yC(t,e),t=Vp(t,n.children),t.flags|=4096);return t}return a?(pa(),s=n.fallback,a=t.mode,c=e.child,u=c.sibling,n=Rn(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?s=Rn(u,s):(s=mi(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,Ws(null,n),n=t.child,s=e.child.memoizedState,s===null?s=pm(r):(a=s.cachePool,a!==null?(c=Je._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=xC(),s={baseLanes:s.baseLanes|r,cachePool:a}),n.memoizedState=s,n.childLanes=gm(e,o,r),t.memoizedState=mm,Ws(e.child,n)):(ma(t),r=e.child,e=r.sibling,r=Rn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function Vp(e,t){return t=nd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function nd(e,t){return e=ar(22,e,null,t),e.lanes=0,e}function vm(e,t,r){return Si(t,e.child,null,r),e=Vp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ax(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Np(e.return,t,r)}function ym(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function hE(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Fe.current,s=(o&2)!==0;if(s?(o=o&1|2,t.flags|=128):o&=1,ke(Fe,o),xt(e,t,n,r),n=fe?vl:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ax(e,r,t);else if(e.tag===19)Ax(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Qu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ym(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Qu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ym(t,!0,r,null,i,n);break;case"together":ym(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function $n(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,!(r&t.childLanes))if(e!==null){if(os(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=Rn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dy(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Xu(e)))}function mM(e,t,r){switch(t.tag){case 3:Hu(t,t.stateNode.containerInfo),ha(t,Je,e.memoizedState.cache),wi();break;case 27:case 5:xp(t);break;case 4:Hu(t,t.stateNode.containerInfo);break;case 10:ha(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$p(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ma(t),t.flags|=128,null):r&t.child.childLanes?fE(e,t,r):(ma(t),e=$n(e,t,r),e!==null?e.sibling:null);ma(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(os(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return hE(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ke(Fe,Fe.current),n)break;return null;case 22:return t.lanes=0,dE(e,t,r,t.pendingProps);case 24:ha(t,Je,e.memoizedState.cache)}return $n(e,t,r)}function mE(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!dy(e,r)&&!(t.flags&128))return Qe=!1,mM(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,fe&&t.flags&1048576&&vC(t,vl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ei(t.elementType),t.type=e,typeof e=="function")Hv(e)?(n=Ei(e,n),t.tag=1,t=Ex(null,t,e,n,r)):(t.tag=0,t=Fp(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===kv){t.tag=11,t=_x(null,t,e,n,r);break e}else if(a===Tv){t.tag=14,t=wx(null,t,e,n,r);break e}}throw t=yp(e)||e,Error(I(306,t,""))}}return t;case 0:return Fp(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=Ei(n,t.pendingProps),Ex(e,t,n,a,r);case 3:e:{if(Hu(t,t.stateNode.containerInfo),e===null)throw Error(I(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,zp(e,t),rl(t,n,null,r);var o=t.memoizedState;if(n=o.cache,ha(t,Je,n),n!==i.cache&&Mp(t,[Je],r,!0),tl(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Ox(e,t,n,r);break e}else if(n!==a){a=Or(Error(I(424)),t),yl(a),t=Ox(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Rr(e.firstChild),St=t,fe=!0,Oa=null,Ar=!0,r=jC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(wi(),n===a){t=$n(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 26:return Ru(e,t),e===null?(r=Kx(t.type,null,t.pendingProps,null))?t.memoizedState=r:fe||(r=t.type,e=t.pendingProps,n=dd(Ea.current).createElement(r),n[jt]=t,n[Yt]=e,Ot(n,r,e),mt(n),t.stateNode=n):t.memoizedState=Kx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xp(t),e===null&&fe&&(n=t.stateNode=aO(t.type,t.pendingProps,Ea.current),St=t,Ar=!0,a=Pe,Ha(t.type)?(og=a,Pe=Rr(n.firstChild)):Pe=a),xt(e,t,t.pendingProps.children,r),Ru(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&fe&&((a=n=Pe)&&(n=WM(n,t.type,t.pendingProps,Ar),n!==null?(t.stateNode=n,St=t,Pe=Rr(n.firstChild),Ar=!1,a=!0):a=!1),a||Ba(t)),xp(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,rg(a,i)?n=null:o!==null&&rg(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=Jv(e,t,iM,null,null,r),Sl._currentValue=a),Ru(e,t),xt(e,t,n,r),t.child;case 6:return e===null&&fe&&((e=r=Pe)&&(r=FM(r,t.pendingProps,Ar),r!==null?(t.stateNode=r,St=t,Pe=null,e=!0):e=!1),e||Ba(t)),null;case 13:return fE(e,t,r);case 4:return Hu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Si(t,null,n,r):xt(e,t,n,r),t.child;case 11:return _x(e,t,t.type,t.pendingProps,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ha(t,t.type,n.value),xt(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,ji(t),a=Ct(a),n=n(a),t.flags|=1,xt(e,t,n,r),t.child;case 14:return wx(e,t,t.type,t.pendingProps,r);case 15:return uE(e,t,t.type,t.pendingProps,r);case 19:return hE(e,t,r);case 31:return hM(e,t,r);case 22:return dE(e,t,r,t.pendingProps);case 24:return ji(t),n=Ct(Je),e===null?(a=Gv(),a===null&&(a=Se,i=Vv(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},Yv(t),ha(t,Je,a)):(e.lanes&r&&(zp(e,t),rl(t,null,null,r),tl()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ha(t,Je,n)):(n=i.cache,ha(t,Je,n),n!==a.cache&&Mp(t,[Je],r,!0))),xt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(I(156,t.tag))}function pn(e){e.flags|=4}function bm(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(IE())e.flags|=8192;else throw gi=Zu,Kv}else e.flags&=-16777217}function kx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!sO(t))if(IE())e.flags|=8192;else throw gi=Zu,Kv}function qc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?$S():536870912,e.lanes|=t,$o|=t)}function Ts(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pM(e,t,r){var n=t.pendingProps;switch(Fv(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Te(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pn(Je),No(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?pn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,um())),Te(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(pn(t),i!==null?(Te(t),kx(t,i)):(Te(t),bm(t,a,null,n,r))):i?i!==e.memoizedState?(pn(t),Te(t),kx(t,i)):(Te(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&pn(t),Te(t),bm(t,a,e,n,r)),null;case 27:if(Wu(t),r=Ea.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&pn(t);else{if(!n){if(t.stateNode===null)throw Error(I(166));return Te(t),null}e=on.current,Vi(t)?ax(t):(e=aO(a,n,r),t.stateNode=e,pn(t))}return Te(t),null;case 5:if(Wu(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&pn(t);else{if(!n){if(t.stateNode===null)throw Error(I(166));return Te(t),null}if(i=on.current,Vi(t))ax(t);else{var o=dd(Ea.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[jt]=t,i[Yt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ot(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&pn(t)}}return Te(t),bm(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&pn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(e=Ea.current,Vi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=St,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[jt]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||eO(e.nodeValue,r)),e||Ba(t,!0)}else e=dd(e).createTextNode(n),e[jt]=t,t.stateNode=e}return Te(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Vi(t),r!==null){if(e===null){if(!n)throw Error(I(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(557));e[jt]=t}else wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),e=!1}else r=um(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(nr(t),t):(nr(t),null);if(t.flags&128)throw Error(I(558))}return Te(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Vi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[jt]=t}else wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),a=!1}else a=um(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(nr(t),t):(nr(t),null)}return nr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),qc(t,t.updateQueue),Te(t),null);case 4:return No(),e===null&&yy(t.stateNode.containerInfo),Te(t),null;case 10:return Pn(t.type),Te(t),null;case 19:if(pt(Fe),n=t.memoizedState,n===null)return Te(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Ts(n,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Qu(e),i!==null){for(t.flags|=128,Ts(n,!1),e=i.updateQueue,t.updateQueue=e,qc(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)pC(r,e),r=r.sibling;return ke(Fe,Fe.current&1|2),fe&&_n(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ur()>id&&(t.flags|=128,a=!0,Ts(n,!1),t.lanes=4194304)}else{if(!a)if(e=Qu(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,qc(t,e),Ts(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!fe)return Te(t),null}else 2*ur()-n.renderingStartTime>id&&r!==536870912&&(t.flags|=128,a=!0,Ts(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ur(),e.sibling=null,r=Fe.current,ke(Fe,a?r&1|2:r&1),fe&&_n(t,n.treeForkCount),e):(Te(t),null);case 22:case 23:return nr(t),Xv(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),r=t.updateQueue,r!==null&&qc(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&pt(pi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Pn(Je),Te(t),null;case 25:return null;case 30:return null}throw Error(I(156,t.tag))}function gM(e,t){switch(Fv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(Je),No(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wu(t),null;case 31:if(t.memoizedState!==null){if(nr(t),t.alternate===null)throw Error(I(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(Fe),null;case 4:return No(),null;case 10:return Pn(t.type),null;case 22:case 23:return nr(t),Xv(),e!==null&&pt(pi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pn(Je),null;case 25:return null;default:return null}}function pE(e,t){switch(Fv(t),t.tag){case 3:Pn(Je),No();break;case 26:case 27:case 5:Wu(t);break;case 4:No();break;case 31:t.memoizedState!==null&&nr(t);break;case 13:nr(t);break;case 19:pt(Fe);break;case 10:Pn(t.type);break;case 22:case 23:nr(t),Xv(),e!==null&&pt(pi);break;case 24:Pn(Je)}}function tc(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(s){be(t,t.return,s)}}function Ia(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,a=t;var c=r,u=s;try{u()}catch(d){be(a,c,d)}}}n=n.next}while(n!==i)}}catch(d){be(t,t.return,d)}}function gE(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{CC(t,r)}catch(n){be(e,e.return,n)}}}function vE(e,t,r){r.props=Ei(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){be(e,t,n)}}function al(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){be(e,t,a)}}function nn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){be(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){be(e,t,a)}else r.current=null}function yE(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){be(e,e.return,a)}}function xm(e,t,r){try{var n=e.stateNode;IM(n,e.type,r,t),n[Yt]=t}catch(a){be(e,e.return,a)}}function bE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function _m(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=On));else if(n!==4&&(n===27&&Ha(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Gp(e,t,r),e=e.sibling;e!==null;)Gp(e,t,r),e=e.sibling}function ad(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&Ha(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ad(e,t,r),e=e.sibling;e!==null;)ad(e,t,r),e=e.sibling}function xE(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ot(t,n,r),t[jt]=e,t[Yt]=r}catch(i){be(e,e.return,i)}}var jn=!1,Ze=!1,wm=!1,Tx=typeof WeakSet=="function"?WeakSet:Set,ht=null;function vM(e,t){if(e=e.containerInfo,eg=pd,e=sC(e),Lv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(s=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(tg={focusedElem:e,selectionRange:r},pd=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var p=Ei(r.type,a);e=n.getSnapshotBeforeUpdate(p,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){be(r,r.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)ng(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ng(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(I(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function _E(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:vn(e,r),n&4&&tc(5,r);break;case 1:if(vn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){be(r,r.return,o)}else{var a=Ei(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){be(r,r.return,o)}}n&64&&gE(r),n&512&&al(r,r.return);break;case 3:if(vn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{CC(e,t)}catch(o){be(r,r.return,o)}}break;case 27:t===null&&n&4&&xE(r);case 26:case 5:vn(e,r),t===null&&n&4&&yE(r),n&512&&al(r,r.return);break;case 12:vn(e,r);break;case 31:vn(e,r),n&4&&SE(e,r);break;case 13:vn(e,r),n&4&&CE(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=EM.bind(null,r),VM(e,r))));break;case 22:if(n=r.memoizedState!==null||jn,!n){t=t!==null&&t.memoizedState!==null||Ze,a=jn;var i=Ze;jn=n,(Ze=t)&&!i?yn(e,r,(r.subtreeFlags&8772)!==0):vn(e,r),jn=a,Ze=i}break;case 30:break;default:vn(e,r)}}function wE(e){var t=e.alternate;t!==null&&(e.alternate=null,wE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,Wt=!1;function gn(e,t,r){for(r=r.child;r!==null;)jE(e,t,r),r=r.sibling}function jE(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Kl,r)}catch{}switch(r.tag){case 26:Ze||nn(r,t),gn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||nn(r,t);var n=ze,a=Wt;Ha(r.type)&&(ze=r.stateNode,Wt=!1),gn(e,t,r),ll(r.stateNode),ze=n,Wt=a;break;case 5:Ze||nn(r,t);case 6:if(n=ze,a=Wt,ze=null,gn(e,t,r),ze=n,Wt=a,ze!==null)if(Wt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(r.stateNode)}catch(i){be(r,t,i)}else try{ze.removeChild(r.stateNode)}catch(i){be(r,t,i)}break;case 18:ze!==null&&(Wt?(e=ze,Hx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ho(e)):Hx(ze,r.stateNode));break;case 4:n=ze,a=Wt,ze=r.stateNode.containerInfo,Wt=!0,gn(e,t,r),ze=n,Wt=a;break;case 0:case 11:case 14:case 15:Ia(2,r,t),Ze||Ia(4,r,t),gn(e,t,r);break;case 1:Ze||(nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&vE(r,t,n)),gn(e,t,r);break;case 21:gn(e,t,r);break;case 22:Ze=(n=Ze)||r.memoizedState!==null,gn(e,t,r),Ze=n;break;default:gn(e,t,r)}}function SE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ho(e)}catch(r){be(t,t.return,r)}}}function CE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ho(e)}catch(r){be(t,t.return,r)}}function yM(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Tx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Tx),t;default:throw Error(I(435,e.tag))}}function Hc(e,t){var r=yM(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=OM.bind(null,e,n);n.then(a,a)}})}function qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Ha(s.type)){ze=s.stateNode,Wt=!1;break e}break;case 5:ze=s.stateNode,Wt=!1;break e;case 3:case 4:ze=s.stateNode.containerInfo,Wt=!0;break e}s=s.return}if(ze===null)throw Error(I(160));jE(i,o,a),ze=null,Wt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)EE(t,e),t=t.sibling}var qr=null;function EE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Ht(e),n&4&&(Ia(3,e,e.return),tc(3,e),Ia(5,e,e.return));break;case 1:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&64&&jn&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=qr;if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Zl]||i[jt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ot(i,n,r),i[jt]=e,mt(i),n=i;break e;case"link":var o=Xx("link","href",a).get(n+(r.href||""));if(o){for(var s=0;s<o.length;s++)if(i=o[s],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(s,1);break t}}i=a.createElement(n),Ot(i,n,r),a.head.appendChild(i);break;case"meta":if(o=Xx("meta","content",a).get(n+(r.content||""))){for(s=0;s<o.length;s++)if(i=o[s],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(s,1);break t}}i=a.createElement(n),Ot(i,n,r),a.head.appendChild(i);break;default:throw Error(I(468,n))}i[jt]=e,mt(i),n=i}e.stateNode=n}else Zx(a,e.type,e.stateNode);else e.stateNode=Yx(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Zx(a,e.type,e.stateNode):Yx(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&xm(e,e.memoizedProps,r.memoizedProps)}break;case 27:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),r!==null&&n&4&&xm(e,e.memoizedProps,r.memoizedProps);break;case 5:if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),e.flags&32){a=e.stateNode;try{Do(a,"")}catch(p){be(e,e.return,p)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,xm(e,a,r!==null?r.memoizedProps:a)),n&1024&&(wm=!0);break;case 6:if(qt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(I(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){be(e,e.return,p)}}break;case 3:if(Mu=null,a=qr,qr=fd(t.containerInfo),qt(t,e),qr=a,Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ho(t.containerInfo)}catch(p){be(e,e.return,p)}wm&&(wm=!1,OE(e));break;case 4:n=qr,qr=fd(e.stateNode.containerInfo),qt(t,e),Ht(e),qr=n;break;case 12:qt(t,e),Ht(e);break;case 31:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Hc(e,n)));break;case 13:qt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Rf=ur()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Hc(e,n)));break;case 22:a=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=jn,d=Ze;if(jn=u||a,Ze=d||c,qt(t,e),Ze=d,jn=u,Ht(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||c||jn||Ze||ti(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(i=c.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){be(c,c.return,p)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){be(c,c.return,p)}}}else if(t.tag===18){if(r===null){c=t;try{var m=c.stateNode;a?Wx(m,!0):Wx(c.stateNode,!1)}catch(p){be(c,c.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Hc(e,r))));break;case 19:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Hc(e,n)));break;case 30:break;case 21:break;default:qt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(bE(n)){r=n;break}n=n.return}if(r==null)throw Error(I(160));switch(r.tag){case 27:var a=r.stateNode,i=_m(e);ad(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(Do(o,""),r.flags&=-33);var s=_m(e);ad(e,s,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=_m(e);Gp(e,u,c);break;default:throw Error(I(161))}}catch(d){be(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;OE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_E(e,t.alternate,t),t=t.sibling}function ti(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ia(4,t,t.return),ti(t);break;case 1:nn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&vE(t,t.return,r),ti(t);break;case 27:ll(t.stateNode);case 26:case 5:nn(t,t.return),ti(t);break;case 22:t.memoizedState===null&&ti(t);break;case 30:ti(t);break;default:ti(t)}e=e.sibling}}function yn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:yn(a,i,r),tc(4,i);break;case 1:if(yn(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){be(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var s=n.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)SC(c[a],s)}catch(u){be(n,n.return,u)}}r&&o&64&&gE(i),al(i,i.return);break;case 27:xE(i);case 26:case 5:yn(a,i,r),r&&n===null&&o&4&&yE(i),al(i,i.return);break;case 12:yn(a,i,r);break;case 31:yn(a,i,r),r&&o&4&&SE(a,i);break;case 13:yn(a,i,r),r&&o&4&&CE(a,i);break;case 22:i.memoizedState===null&&yn(a,i,r),al(i,i.return);break;case 30:break;default:yn(a,i,r)}t=t.sibling}}function fy(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ql(r))}function hy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ql(e))}function Ir(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)AE(e,t,r,n),t=t.sibling}function AE(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ir(e,t,r,n),a&2048&&tc(9,t);break;case 1:Ir(e,t,r,n);break;case 3:Ir(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ql(e)));break;case 12:if(a&2048){Ir(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;typeof s=="function"&&s(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){be(t,t.return,c)}}else Ir(e,t,r,n);break;case 31:Ir(e,t,r,n);break;case 13:Ir(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Ir(e,t,r,n):il(e,t):i._visibility&2?Ir(e,t,r,n):(i._visibility|=2,no(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&fy(o,t);break;case 24:Ir(e,t,r,n),a&2048&&hy(t.alternate,t);break;default:Ir(e,t,r,n)}}function no(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,s=r,c=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:no(i,o,s,c,a),tc(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?no(i,o,s,c,a):il(i,o):(d._visibility|=2,no(i,o,s,c,a)),a&&u&2048&&fy(o.alternate,o);break;case 24:no(i,o,s,c,a),a&&u&2048&&hy(o.alternate,o);break;default:no(i,o,s,c,a)}t=t.sibling}}function il(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:il(r,n),a&2048&&fy(n.alternate,n);break;case 24:il(r,n),a&2048&&hy(n.alternate,n);break;default:il(r,n)}t=t.sibling}}var Fs=8192;function Gi(e,t,r){if(e.subtreeFlags&Fs)for(e=e.child;e!==null;)kE(e,t,r),e=e.sibling}function kE(e,t,r){switch(e.tag){case 26:Gi(e,t,r),e.flags&Fs&&e.memoizedState!==null&&aD(r,qr,e.memoizedState,e.memoizedProps);break;case 5:Gi(e,t,r);break;case 3:case 4:var n=qr;qr=fd(e.stateNode.containerInfo),Gi(e,t,r),qr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Fs,Fs=16777216,Gi(e,t,r),Fs=n):Gi(e,t,r));break;default:Gi(e,t,r)}}function TE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,PE(n,e)}TE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)RE(e),e=e.sibling}function RE(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pu(e)):Rs(e);break;default:Rs(e)}}function Pu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,PE(n,e)}TE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ia(8,t,t.return),Pu(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Pu(t));break;default:Pu(t)}e=e.sibling}}function PE(e,t){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:Ia(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ql(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ht=n;else e:for(r=e;ht!==null;){n=ht;var a=n.sibling,i=n.return;if(wE(n),n===r){ht=null;break e}if(a!==null){a.return=i,ht=a;break e}ht=i}}}var bM={getCacheForType:function(e){var t=Ct(Je),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Ct(Je).controller.signal}},xM=typeof WeakMap=="function"?WeakMap:Map,pe=0,Se=null,se=null,ce=0,ve=0,tr=null,_a=!1,ls=!1,my=!1,Ln=0,He=0,$a=0,vi=0,py=0,lr=0,$o=0,ol=null,Ft=null,Kp=!1,Rf=0,NE=0,id=1/0,od=null,Ta=null,at=0,Ra=null,Lo=null,Nn=0,Yp=0,Xp=null,ME=null,sl=0,Zp=null;function hr(){return pe&2&&ce!==0?ce&-ce:Q.T!==null?vy():HS()}function DE(){if(lr===0)if(!(ce&536870912)||fe){var e=Dc;Dc<<=1,!(Dc&3932160)&&(Dc=262144),lr=e}else lr=536870912;return e=gr.current,e!==null&&(e.flags|=32),lr}function Kt(e,t,r){(e===Se&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Uo(e,0),wa(e,ce,lr,!1)),Xl(e,r),(!(pe&2)||e!==Se)&&(e===Se&&(!(pe&2)&&(vi|=r),He===4&&wa(e,ce,lr,!1)),fn(e))}function zE(e,t,r){if(pe&6)throw Error(I(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Yl(e,t),a=n?jM(e,t):jm(e,t,!0),i=n;do{if(a===0){ls&&!n&&wa(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!_M(r)){a=jm(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var s=e;a=ol;var c=s.current.memoizedState.isDehydrated;if(c&&(Uo(s,o).flags|=256),o=jm(s,o,!1),o!==2){if(my&&!c){s.errorRecoveryDisabledLanes|=i,vi|=i,a=4;break e}i=Ft,Ft=a,i!==null&&(Ft===null?Ft=i:Ft.push.apply(Ft,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){Uo(e,0),wa(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(I(345));case 4:if((t&4194048)!==t)break;case 6:wa(n,t,lr,!_a);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(I(329))}if((t&62914560)===t&&(a=Rf+300-ur(),10<a)){if(wa(n,t,lr,!_a),xf(n,0,!0)!==0)break e;Nn=t,n.timeoutHandle=rO(Rx.bind(null,n,r,Ft,od,Kp,t,lr,vi,$o,_a,i,"Throttled",-0,0),a);break e}Rx(n,r,Ft,od,Kp,t,lr,vi,$o,_a,i,null,-0,0)}}break}while(!0);fn(e)}function Rx(e,t,r,n,a,i,o,s,c,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},kE(t,i,f);var p=(i&62914560)===i?Rf-ur():(i&4194048)===i?NE-ur():0;if(p=iD(f,p),p!==null){Nn=i,e.cancelPendingCommit=p(Nx.bind(null,e,t,i,r,n,a,o,s,c,d,f,null,h,m)),wa(e,i,o,!u);return}}Nx(e,t,i,r,n,a,o,s,c)}function _M(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wa(e,t,r,n){t&=~py,t&=~vi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&LS(e,r,t)}function Pf(){return pe&6?!0:(rc(0),!1)}function gy(){if(se!==null){if(ve===0)var e=se.return;else e=se,An=$i=null,ty(e),Oo=null,bl=0,e=se;for(;e!==null;)pE(e.alternate,e),e=e.return;se=null}}function Uo(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,UM(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Nn=0,gy(),Se=e,se=r=Rn(e.current,null),ce=t,ve=0,tr=null,_a=!1,ls=Yl(e,t),my=!1,$o=lr=py=vi=$a=He=0,Ft=ol=null,Kp=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-fr(n),i=1<<a;t|=e[a],n&=~i}return Ln=t,Sf(),r}function BE(e,t){re=null,Q.H=_l,t===ss||t===Ef?(t=cx(),ve=3):t===Kv?(t=cx(),ve=4):ve=t===uy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tr=t,se===null&&(He=1,rd(e,Or(t,e.current)))}function IE(){var e=gr.current;return e===null?!0:(ce&4194048)===ce?Tr===null:(ce&62914560)===ce||ce&536870912?e===Tr:!1}function $E(){var e=Q.H;return Q.H=_l,e===null?_l:e}function LE(){var e=Q.A;return Q.A=bM,e}function sd(){He=4,_a||(ce&4194048)!==ce&&gr.current!==null||(ls=!0),!($a&134217727)&&!(vi&134217727)||Se===null||wa(Se,ce,lr,!1)}function jm(e,t,r){var n=pe;pe|=2;var a=$E(),i=LE();(Se!==e||ce!==t)&&(od=null,Uo(e,t)),t=!1;var o=He;e:do try{if(ve!==0&&se!==null){var s=se,c=tr;switch(ve){case 8:gy(),o=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(t=!0);var u=ve;if(ve=0,tr=null,xo(e,s,c,u),r&&ls){o=0;break e}break;default:u=ve,ve=0,tr=null,xo(e,s,c,u)}}wM(),o=He;break}catch(d){BE(e,d)}while(!0);return t&&e.shellSuspendCounter++,An=$i=null,pe=n,Q.H=a,Q.A=i,se===null&&(Se=null,ce=0,Sf()),o}function wM(){for(;se!==null;)UE(se)}function jM(e,t){var r=pe;pe|=2;var n=$E(),a=LE();Se!==e||ce!==t?(od=null,id=ur()+500,Uo(e,t)):ls=Yl(e,t);e:do try{if(ve!==0&&se!==null){t=se;var i=tr;t:switch(ve){case 1:ve=0,tr=null,xo(e,t,i,1);break;case 2:case 9:if(lx(i)){ve=0,tr=null,Px(t);break}t=function(){ve!==2&&ve!==9||Se!==e||(ve=7),fn(e)},i.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:lx(i)?(ve=0,tr=null,Px(t)):(ve=0,tr=null,xo(e,t,i,7));break;case 5:var o=null;switch(se.tag){case 26:o=se.memoizedState;case 5:case 27:var s=se;if(o?sO(o):s.stateNode.complete){ve=0,tr=null;var c=s.sibling;if(c!==null)se=c;else{var u=s.return;u!==null?(se=u,Nf(u)):se=null}break t}}ve=0,tr=null,xo(e,t,i,5);break;case 6:ve=0,tr=null,xo(e,t,i,6);break;case 8:gy(),He=6;break e;default:throw Error(I(462))}}SM();break}catch(d){BE(e,d)}while(!0);return An=$i=null,Q.H=n,Q.A=a,pe=r,se!==null?0:(Se=null,ce=0,Sf(),He)}function SM(){for(;se!==null&&!GN();)UE(se)}function UE(e){var t=mE(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,t===null?Nf(e):se=t}function Px(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Cx(r,t,t.pendingProps,t.type,void 0,ce);break;case 11:t=Cx(r,t,t.pendingProps,t.type.render,t.ref,ce);break;case 5:ty(t);default:pE(r,t),t=se=pC(t,Ln),t=mE(r,t,Ln)}e.memoizedProps=e.pendingProps,t===null?Nf(e):se=t}function xo(e,t,r,n){An=$i=null,ty(t),Oo=null,bl=0;var a=t.return;try{if(fM(e,a,t,r,ce)){He=1,rd(e,Or(r,e.current)),se=null;return}}catch(i){if(a!==null)throw se=a,i;He=1,rd(e,Or(r,e.current)),se=null;return}t.flags&32768?(fe||n===1?e=!0:ls||ce&536870912?e=!1:(_a=e=!0,(n===2||n===9||n===3||n===6)&&(n=gr.current,n!==null&&n.tag===13&&(n.flags|=16384))),qE(t,e)):Nf(t)}function Nf(e){var t=e;do{if(t.flags&32768){qE(t,_a);return}e=t.return;var r=pM(t.alternate,t,Ln);if(r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);He===0&&(He=5)}function qE(e,t){do{var r=gM(e.alternate,e);if(r!==null){r.flags&=32767,se=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){se=e;return}se=e=r}while(e!==null);He=6,se=null}function Nx(e,t,r,n,a,i,o,s,c){e.cancelPendingCommit=null;do Mf();while(at!==0);if(pe&6)throw Error(I(327));if(t!==null){if(t===e.current)throw Error(I(177));if(i=t.lanes|t.childLanes,i|=Uv,n5(e,r,i,o,s,c),e===Se&&(se=Se=null,ce=0),Lo=t,Ra=e,Nn=r,Yp=i,Xp=a,ME=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,AM(Fu,function(){return GE(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=Q.T,Q.T=null,a=ge.p,ge.p=2,o=pe,pe|=4;try{vM(e,t,r)}finally{pe=o,ge.p=a,Q.T=n}}at=1,HE(),WE(),FE()}}function HE(){if(at===1){at=0;var e=Ra,t=Lo,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=Q.T,Q.T=null;var n=ge.p;ge.p=2;var a=pe;pe|=4;try{EE(t,e);var i=tg,o=sC(e.containerInfo),s=i.focusedElem,c=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&oC(s.ownerDocument.documentElement,s)){if(c!==null&&Lv(s)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(d,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=s.textContent.length,x=Math.min(c.start,p),y=c.end===void 0?x:Math.min(c.end,p);!m.extend&&x>y&&(o=y,y=x,x=o);var v=tx(s,x),g=tx(s,y);if(v&&g&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var _=f.createRange();_.setStart(v.node,v.offset),m.removeAllRanges(),x>y?(m.addRange(_),m.extend(g.node,g.offset)):(_.setEnd(g.node,g.offset),m.addRange(_))}}}}for(f=[],m=s;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var w=f[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}pd=!!eg,tg=eg=null}finally{pe=a,ge.p=n,Q.T=r}}e.current=t,at=2}}function WE(){if(at===2){at=0;var e=Ra,t=Lo,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=Q.T,Q.T=null;var n=ge.p;ge.p=2;var a=pe;pe|=4;try{_E(e,t.alternate,t)}finally{pe=a,ge.p=n,Q.T=r}}at=3}}function FE(){if(at===4||at===3){at=0,KN();var e=Ra,t=Lo,r=Nn,n=ME;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,Lo=Ra=null,VE(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ta=null),Nv(r),t=t.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Kl,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=Q.T,a=ge.p,ge.p=2,Q.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var s=n[o];i(s.value,{componentStack:s.stack})}}finally{Q.T=t,ge.p=a}}Nn&3&&Mf(),fn(e),a=e.pendingLanes,r&261930&&a&42?e===Zp?sl++:(sl=0,Zp=e):sl=0,rc(0)}}function VE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ql(t)))}function Mf(){return HE(),WE(),FE(),GE()}function GE(){if(at!==5)return!1;var e=Ra,t=Yp;Yp=0;var r=Nv(Nn),n=Q.T,a=ge.p;try{ge.p=32>r?32:r,Q.T=null,r=Xp,Xp=null;var i=Ra,o=Nn;if(at=0,Lo=Ra=null,Nn=0,pe&6)throw Error(I(331));var s=pe;if(pe|=4,RE(i.current),AE(i,i.current,o,r),pe=s,rc(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Kl,i)}catch{}return!0}finally{ge.p=a,Q.T=n,VE(e,t)}}function Mx(e,t,r){t=Or(r,t),t=Wp(e.stateNode,t,2),e=ka(e,t,2),e!==null&&(Xl(e,2),fn(e))}function be(e,t,r){if(e.tag===3)Mx(e,e,r);else for(;t!==null;){if(t.tag===3){Mx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ta===null||!Ta.has(n))){e=Or(r,e),r=lE(2),n=ka(t,r,2),n!==null&&(cE(r,n,t,e),Xl(n,2),fn(n));break}}t=t.return}}function Sm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new xM;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(my=!0,a.add(r),e=CM.bind(null,e,t,r),t.then(e,e))}function CM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Se===e&&(ce&r)===r&&(He===4||He===3&&(ce&62914560)===ce&&300>ur()-Rf?!(pe&2)&&Uo(e,0):py|=r,$o===ce&&($o=0)),fn(e)}function KE(e,t){t===0&&(t=$S()),e=Ii(e,t),e!==null&&(Xl(e,t),fn(e))}function EM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KE(e,r)}function OM(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(I(314))}n!==null&&n.delete(t),KE(e,r)}function AM(e,t){return Rv(e,t)}var ld=null,ao=null,Jp=!1,cd=!1,Cm=!1,ja=0;function fn(e){e!==ao&&e.next===null&&(ao===null?ld=ao=e:ao=ao.next=e),cd=!0,Jp||(Jp=!0,TM())}function rc(e,t){if(!Cm&&cd){Cm=!0;do for(var r=!1,n=ld;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,s=n.pingedLanes;i=(1<<31-fr(42|e)+1)-1,i&=a&~(o&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Dx(n,i))}else i=ce,i=xf(n,n===Se?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Yl(n,i)||(r=!0,Dx(n,i));n=n.next}while(r);Cm=!1}}function kM(){YE()}function YE(){cd=Jp=!1;var e=0;ja!==0&&LM()&&(e=ja);for(var t=ur(),r=null,n=ld;n!==null;){var a=n.next,i=XE(n,t);i===0?(n.next=null,r===null?ld=a:r.next=a,a===null&&(ao=r)):(r=n,(e!==0||i&3)&&(cd=!0)),n=a}at!==0&&at!==5||rc(e),ja!==0&&(ja=0)}function XE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-fr(i),s=1<<o,c=a[o];c===-1?(!(s&r)||s&n)&&(a[o]=r5(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}if(t=Se,r=ce,r=xf(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Qh(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Yl(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&Qh(n),Nv(r)){case 2:case 8:r=BS;break;case 32:r=Fu;break;case 268435456:r=IS;break;default:r=Fu}return n=ZE.bind(null,e),r=Rv(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&Qh(n),e.callbackPriority=2,e.callbackNode=null,2}function ZE(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Mf()&&e.callbackNode!==r)return null;var n=ce;return n=xf(e,e===Se?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(zE(e,n,t),XE(e,ur()),e.callbackNode!=null&&e.callbackNode===r?ZE.bind(null,e):null)}function Dx(e,t){if(Mf())return null;zE(e,t,!0)}function TM(){qM(function(){pe&6?Rv(zS,kM):YE()})}function vy(){if(ja===0){var e=zo;e===0&&(e=Mc,Mc<<=1,!(Mc&261888)&&(Mc=256)),ja=e}return ja}function zx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ju(""+e)}function Bx(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function RM(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=zx((a[Yt]||null).action),o=n.submitter;o&&(t=(t=o[Yt]||null)?zx(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var s=new _f("action","action",null,n,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ja!==0){var c=o?Bx(a,o):new FormData(a);qp(r,{pending:!0,data:c,method:a.method,action:i},null,c)}}else typeof i=="function"&&(s.preventDefault(),c=o?Bx(a,o):new FormData(a),qp(r,{pending:!0,data:c,method:a.method,action:i},i,c))},currentTarget:a}]})}}for(var Em=0;Em<Tp.length;Em++){var Om=Tp[Em],PM=Om.toLowerCase(),NM=Om[0].toUpperCase()+Om.slice(1);Zr(PM,"on"+NM)}Zr(cC,"onAnimationEnd");Zr(uC,"onAnimationIteration");Zr(dC,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(Y5,"onTransitionRun");Zr(X5,"onTransitionStart");Zr(Z5,"onTransitionCancel");Zr(fC,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function JE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Gu(d)}a.currentTarget=null,i=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Gu(d)}a.currentTarget=null,i=c}}}}function oe(e,t){var r=t[wp];r===void 0&&(r=t[wp]=new Set);var n=e+"__bubble";r.has(n)||(QE(t,e,2,!1),r.add(n))}function Am(e,t,r){var n=0;t&&(n|=4),QE(r,e,n,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function yy(e){if(!e[Wc]){e[Wc]=!0,WS.forEach(function(r){r!=="selectionchange"&&(MM.has(r)||Am(r,!1,e),Am(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,Am("selectionchange",!1,t))}}function QE(e,t,r,n){switch(fO(t)){case 2:var a=lD;break;case 8:a=cD;break;default:a=wy}r=a.bind(null,t,r,e),a=void 0,!Op||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function km(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;s!==null;){if(o=uo(s),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){n=i=o;continue e}s=s.parentNode}}n=n.return}JS(function(){var u=i,d=zv(r),f=[];e:{var h=hC.get(e);if(h!==void 0){var m=_f,p=e;switch(e){case"keypress":if(Cu(r)===0)break e;case"keydown":case"keyup":m=O5;break;case"focusin":p="focus",m=am;break;case"focusout":p="blur",m=am;break;case"beforeblur":case"afterblur":m=am;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=p5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=T5;break;case cC:case uC:case dC:m=y5;break;case fC:m=P5;break;case"scroll":case"scrollend":m=h5;break;case"wheel":m=M5;break;case"copy":case"cut":case"paste":m=x5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Gb;break;case"toggle":case"beforetoggle":m=z5}var x=(t&4)!==0,y=!x&&(e==="scroll"||e==="scrollend"),v=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,_;g!==null;){var w=g;if(_=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||_===null||v===null||(w=ml(g,v),w!=null&&x.push(jl(g,w,_))),y)break;g=g.return}0<x.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Ep&&(p=r.relatedTarget||r.fromElement)&&(uo(p)||p[as]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?uo(p):null,p!==null&&(y=Gl(p),x=p.tag,p!==y||x!==5&&x!==27&&x!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=Fb,w="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Gb,w="onPointerLeave",v="onPointerEnter",g="pointer"),y=m==null?h:Hs(m),_=p==null?h:Hs(p),h=new x(w,g+"leave",m,r,d),h.target=y,h.relatedTarget=_,w=null,uo(d)===u&&(x=new x(v,g+"enter",p,r,d),x.target=_,x.relatedTarget=y,w=x),y=w,m&&p)t:{for(x=DM,v=m,g=p,_=0,w=v;w;w=x(w))_++;w=0;for(var j=g;j;j=x(j))w++;for(;0<_-w;)v=x(v),_--;for(;0<w-_;)g=x(g),w--;for(;_--;){if(v===g||g!==null&&v===g.alternate){x=v;break t}v=x(v),g=x(g)}x=null}else x=null;m!==null&&Ix(f,h,m,x,!1),p!==null&&y!==null&&Ix(f,y,p,x,!0)}}e:{if(h=u?Hs(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=Zb;else if(Xb(h))if(aC)S=V5;else{S=W5;var C=H5}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Dv(u.elementType)&&(S=Zb):S=F5;if(S&&(S=S(e,u))){nC(f,S,r,d);break e}C&&C(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Cp(h,"number",h.value)}switch(C=u?Hs(u):window,e){case"focusin":(Xb(C)||C.contentEditable==="true")&&(mo=C,Ap=u,Js=null);break;case"focusout":Js=Ap=mo=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,rx(f,r,d);break;case"selectionchange":if(K5)break;case"keydown":case"keyup":rx(f,r,d)}var E;if($v)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ho?tC(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(eC&&r.locale!=="ko"&&(ho||A!=="onCompositionStart"?A==="onCompositionEnd"&&ho&&(E=QS()):(xa=d,Bv="value"in xa?xa.value:xa.textContent,ho=!0)),C=ud(u,A),0<C.length&&(A=new Vb(A,e,null,r,d),f.push({event:A,listeners:C}),E?A.data=E:(E=rC(r),E!==null&&(A.data=E)))),(E=I5?$5(e,r):L5(e,r))&&(A=ud(u,"onBeforeInput"),0<A.length&&(C=new Vb("onBeforeInput","beforeinput",null,r,d),f.push({event:C,listeners:A}),C.data=E)),RM(f,e,u,r,d)}JE(f,t)})}function jl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ud(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=ml(e,r),a!=null&&n.unshift(jl(e,a,i)),a=ml(e,t),a!=null&&n.push(jl(e,a,i))),e.tag===3)return n;e=e.return}return[]}function DM(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ix(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(s=s.tag,c!==null&&c===n)break;s!==5&&s!==26&&s!==27||u===null||(c=u,a?(u=ml(r,i),u!=null&&o.unshift(jl(r,u,c))):a||(u=ml(r,i),u!=null&&o.push(jl(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var zM=/\r\n?/g,BM=/\u0000|\uFFFD/g;function $x(e){return(typeof e=="string"?e:""+e).replace(zM,`
`).replace(BM,"")}function eO(e,t){return t=$x(t),$x(e)===t}function _e(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Do(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Do(e,""+n);break;case"className":Bc(e,"class",n);break;case"tabIndex":Bc(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Bc(e,r,n);break;case"style":ZS(e,n,i);break;case"data":if(t!=="object"){Bc(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=ju(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&_e(e,t,"name",a.name,a,null),_e(e,t,"formEncType",a.formEncType,a,null),_e(e,t,"formMethod",a.formMethod,a,null),_e(e,t,"formTarget",a.formTarget,a,null)):(_e(e,t,"encType",a.encType,a,null),_e(e,t,"method",a.method,a,null),_e(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=ju(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=On);break;case"onScroll":n!=null&&oe("scroll",e);break;case"onScrollEnd":n!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(I(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(I(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=ju(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":oe("beforetoggle",e),oe("toggle",e),wu(e,"popover",n);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":wu(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=d5.get(r)||r,wu(e,r,n))}}function Qp(e,t,r,n,a,i){switch(r){case"style":ZS(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(I(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(I(60));e.innerHTML=r}}break;case"children":typeof n=="string"?Do(e,n):(typeof n=="number"||typeof n=="bigint")&&Do(e,""+n);break;case"onScroll":n!=null&&oe("scroll",e);break;case"onScrollEnd":n!=null&&oe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!FS.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[Yt]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):wu(e,r,n)}}}function Ot(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(I(137,t));default:_e(e,t,i,o,r,null)}}a&&_e(e,t,"srcSet",r.srcSet,r,null),n&&_e(e,t,"src",r.src,r,null);return;case"input":oe("invalid",e);var s=i=o=a=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(I(137,t));break;default:_e(e,t,n,d,r,null)}}KS(e,i,s,c,u,o,a,!1);return;case"select":oe("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(s=r[a],s!=null))switch(a){case"value":i=s;break;case"defaultValue":o=s;break;case"multiple":n=s;default:_e(e,t,a,s,r,null)}t=i,r=o,e.multiple=!!n,t!=null?So(e,!!n,t,!1):r!=null&&So(e,!!n,r,!0);return;case"textarea":oe("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(s=r[o],s!=null))switch(o){case"value":n=s;break;case"defaultValue":a=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(I(91));break;default:_e(e,t,o,s,r,null)}XS(e,n,a,i);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:_e(e,t,c,n,r,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(n=0;n<wl.length;n++)oe(wl[n],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(I(137,t));default:_e(e,t,u,n,r,null)}return;default:if(Dv(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&Qp(e,t,d,n,r,void 0));return}}for(s in r)r.hasOwnProperty(s)&&(n=r[s],n!=null&&_e(e,t,s,n,r,null))}function IM(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,s=null,c=null,u=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(m)||_e(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(I(137,t));break;default:m!==f&&_e(e,t,h,m,n,f)}}Sp(e,o,s,c,u,d,i,a);return;case"select":m=o=s=h=null;for(i in r)if(c=r[i],r.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":m=c;default:n.hasOwnProperty(i)||_e(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(i!=null||c!=null))switch(a){case"value":h=i;break;case"defaultValue":s=i;break;case"multiple":o=i;default:i!==c&&_e(e,t,a,i,n,c)}t=s,r=o,n=m,h!=null?So(e,!!r,h,!1):!!n!=!!r&&(t!=null?So(e,!!r,t,!0):So(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(s in r)if(a=r[s],r.hasOwnProperty(s)&&a!=null&&!n.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:_e(e,t,s,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(I(91));break;default:a!==i&&_e(e,t,o,a,n,i)}YS(e,h,m);return;case"option":for(var p in r)if(h=r[p],r.hasOwnProperty(p)&&h!=null&&!n.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:_e(e,t,p,null,n,h)}for(c in n)if(h=n[c],m=r[c],n.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:_e(e,t,c,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)h=r[x],r.hasOwnProperty(x)&&h!=null&&!n.hasOwnProperty(x)&&_e(e,t,x,null,n,h);for(u in n)if(h=n[u],m=r[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(I(137,t));break;default:_e(e,t,u,h,n,m)}return;default:if(Dv(t)){for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!==void 0&&!n.hasOwnProperty(y)&&Qp(e,t,y,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Qp(e,t,d,h,n,m);return}}for(var v in r)h=r[v],r.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v)&&_e(e,t,v,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||_e(e,t,f,h,n,m)}function Lx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $M(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,s=a.duration;if(i&&s&&Lx(o)){for(o=0,s=a.responseEnd,n+=1;n<r.length;n++){var c=r[n],u=c.startTime;if(u>s)break;var d=c.transferSize,f=c.initiatorType;d&&Lx(f)&&(c=c.responseEnd,o+=d*(c<s?1:(s-u)/(c-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var eg=null,tg=null;function dd(e){return e.nodeType===9?e:e.ownerDocument}function Ux(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tO(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function rg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tm=null;function LM(){var e=window.event;return e&&e.type==="popstate"?e===Tm?!1:(Tm=e,!0):(Tm=null,!1)}var rO=typeof setTimeout=="function"?setTimeout:void 0,UM=typeof clearTimeout=="function"?clearTimeout:void 0,qx=typeof Promise=="function"?Promise:void 0,qM=typeof queueMicrotask=="function"?queueMicrotask:typeof qx<"u"?function(e){return qx.resolve(null).then(e).catch(HM)}:rO;function HM(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function Hx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),Ho(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")ll(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ll(r);for(var i=r.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[Zl]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&ll(e.ownerDocument.body);r=a}while(r);Ho(t)}function Wx(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function ng(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ng(r),Mv(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function WM(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Zl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Rr(e.nextSibling),e===null)break}return null}function FM(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Rr(e.nextSibling),e===null))return null;return e}function nO(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Rr(e.nextSibling),e===null))return null;return e}function ag(e){return e.data==="$?"||e.data==="$~"}function ig(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VM(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var og=null;function Fx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Rr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Vx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function aO(e,t,r){switch(t=dd(r),e){case"html":if(e=t.documentElement,!e)throw Error(I(452));return e;case"head":if(e=t.head,!e)throw Error(I(453));return e;case"body":if(e=t.body,!e)throw Error(I(454));return e;default:throw Error(I(451))}}function ll(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mv(e)}var Pr=new Map,Gx=new Set;function fd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=ge.d;ge.d={f:GM,r:KM,D:YM,C:XM,L:ZM,m:JM,X:eD,S:QM,M:tD};function GM(){var e=Zn.f(),t=Pf();return e||t}function KM(e){var t=is(e);t!==null&&t.tag===5&&t.type==="form"?ZC(t):Zn.r(e)}var cs=typeof document>"u"?null:document;function iO(e,t,r){var n=cs;if(n&&typeof t=="string"&&t){var a=Er(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Gx.has(a)||(Gx.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Ot(t,"link",e),mt(t),n.head.appendChild(t)))}}function YM(e){Zn.D(e),iO("dns-prefetch",e,null)}function XM(e,t){Zn.C(e,t),iO("preconnect",e,t)}function ZM(e,t,r){Zn.L(e,t,r);var n=cs;if(n&&e&&t){var a='link[rel="preload"][as="'+Er(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Er(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Er(r.imageSizes)+'"]')):a+='[href="'+Er(e)+'"]';var i=a;switch(t){case"style":i=qo(e);break;case"script":i=us(e)}Pr.has(i)||(e=Me({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Pr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(nc(i))||t==="script"&&n.querySelector(ac(i))||(t=n.createElement("link"),Ot(t,"link",e),mt(t),n.head.appendChild(t)))}}function JM(e,t){Zn.m(e,t);var r=cs;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Er(n)+'"][href="'+Er(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=us(e)}if(!Pr.has(i)&&(e=Me({rel:"modulepreload",href:e},t),Pr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ac(i)))return}n=r.createElement("link"),Ot(n,"link",e),mt(n),r.head.appendChild(n)}}}function QM(e,t,r){Zn.S(e,t,r);var n=cs;if(n&&e){var a=jo(n).hoistableStyles,i=qo(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(nc(i)))s.loading=5;else{e=Me({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Pr.get(i))&&by(e,r);var c=o=n.createElement("link");mt(c),Ot(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Nu(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}}function eD(e,t){Zn.X(e,t);var r=cs;if(r&&e){var n=jo(r).hoistableScripts,a=us(e),i=n.get(a);i||(i=r.querySelector(ac(a)),i||(e=Me({src:e,async:!0},t),(t=Pr.get(a))&&xy(e,t),i=r.createElement("script"),mt(i),Ot(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function tD(e,t){Zn.M(e,t);var r=cs;if(r&&e){var n=jo(r).hoistableScripts,a=us(e),i=n.get(a);i||(i=r.querySelector(ac(a)),i||(e=Me({src:e,async:!0,type:"module"},t),(t=Pr.get(a))&&xy(e,t),i=r.createElement("script"),mt(i),Ot(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Kx(e,t,r,n){var a=(a=Ea.current)?fd(a):null;if(!a)throw Error(I(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=qo(r.href),r=jo(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=qo(r.href);var i=jo(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(nc(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Pr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Pr.set(e,r),i||rD(a,e,r,o.state))),t&&n===null)throw Error(I(528,""));return o}if(t&&n!==null)throw Error(I(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=us(r),r=jo(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(I(444,e))}}function qo(e){return'href="'+Er(e)+'"'}function nc(e){return'link[rel="stylesheet"]['+e+"]"}function oO(e){return Me({},e,{"data-precedence":e.precedence,precedence:null})}function rD(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ot(t,"link",r),mt(t),e.head.appendChild(t))}function us(e){return'[src="'+Er(e)+'"]'}function ac(e){return"script[async]"+e}function Yx(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Er(r.href)+'"]');if(n)return t.instance=n,mt(n),n;var a=Me({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),mt(n),Ot(n,"style",a),Nu(n,r.precedence,e),t.instance=n;case"stylesheet":a=qo(r.href);var i=e.querySelector(nc(a));if(i)return t.state.loading|=4,t.instance=i,mt(i),i;n=oO(r),(a=Pr.get(a))&&by(n,a),i=(e.ownerDocument||e).createElement("link"),mt(i);var o=i;return o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Ot(i,"link",n),t.state.loading|=4,Nu(i,r.precedence,e),t.instance=i;case"script":return i=us(r.src),(a=e.querySelector(ac(i)))?(t.instance=a,mt(a),a):(n=r,(a=Pr.get(i))&&(n=Me({},r),xy(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),mt(a),Ot(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(I(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Nu(n,r.precedence,e));return t.instance}function Nu(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function by(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Mu=null;function Xx(e,t,r){if(Mu===null){var n=new Map,a=Mu=new Map;a.set(r,n)}else a=Mu,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Zl]||i[jt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var s=n.get(o);s?s.push(i):n.set(o,[i])}}return n}function Zx(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function nD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sO(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function aD(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=qo(n.href),i=t.querySelector(nc(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=hd.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,mt(i);return}i=t.ownerDocument||t,n=oO(n),(a=Pr.get(a))&&by(n,a),i=i.createElement("link"),mt(i);var o=i;o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Ot(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=hd.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Rm=0;function iD(e,t){return e.stylesheets&&e.count===0&&Du(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&Du(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Rm===0&&(Rm=62500*$M());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Du(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Rm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Du(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var md=null;function Du(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,md=new Map,t.forEach(oD,e),md=null,hd.call(e))}function oD(e,t){if(!(t.state.loading&4)){var r=md.get(e);if(r)var n=r.get(null);else{r=new Map,md.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=hd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Sl={$$typeof:En,Provider:null,Consumer:null,_currentValue:hi,_currentValue2:hi,_threadCount:0};function sD(e,t,r,n,a,i,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=em(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=em(0),this.hiddenUpdates=em(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function lO(e,t,r,n,a,i,o,s,c,u,d,f){return e=new sD(e,t,r,o,c,u,d,f,s),t=1,i===!0&&(t|=24),i=ar(3,null,null,t),e.current=i,i.stateNode=e,t=Vv(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},Yv(i),e}function cO(e){return e?(e=vo,e):vo}function uO(e,t,r,n,a,i){a=cO(a),n.context===null?n.context=a:n.pendingContext=a,n=Aa(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=ka(e,n,t),r!==null&&(Kt(r,e,t),el(r,e,t))}function Jx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _y(e,t){Jx(e,t),(e=e.alternate)&&Jx(e,t)}function dO(e){if(e.tag===13||e.tag===31){var t=Ii(e,67108864);t!==null&&Kt(t,e,67108864),_y(e,67108864)}}function Qx(e){if(e.tag===13||e.tag===31){var t=hr();t=Pv(t);var r=Ii(e,t);r!==null&&Kt(r,e,t),_y(e,t)}}var pd=!0;function lD(e,t,r,n){var a=Q.T;Q.T=null;var i=ge.p;try{ge.p=2,wy(e,t,r,n)}finally{ge.p=i,Q.T=a}}function cD(e,t,r,n){var a=Q.T;Q.T=null;var i=ge.p;try{ge.p=8,wy(e,t,r,n)}finally{ge.p=i,Q.T=a}}function wy(e,t,r,n){if(pd){var a=sg(n);if(a===null)km(e,t,n,gd,r),e1(e,n);else if(dD(a,e,t,r,n))n.stopPropagation();else if(e1(e,n),t&4&&-1<uD.indexOf(e)){for(;a!==null;){var i=is(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Qa(i.pendingLanes);if(o!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-fr(o);s.entanglements[1]|=c,o&=~c}fn(i),!(pe&6)&&(id=ur()+500,rc(0))}}break;case 31:case 13:s=Ii(i,2),s!==null&&Kt(s,i,2),Pf(),_y(i,2)}if(i=sg(n),i===null&&km(e,t,n,gd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else km(e,t,n,null,r)}}function sg(e){return e=zv(e),jy(e)}var gd=null;function jy(e){if(gd=null,e=uo(e),e!==null){var t=Gl(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=RS(t),e!==null)return e;e=null}else if(r===31){if(e=PS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return gd=e,null}function fO(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(YN()){case zS:return 2;case BS:return 8;case Fu:case XN:return 32;case IS:return 268435456;default:return 32}default:return 32}}var lg=!1,Pa=null,Na=null,Ma=null,Cl=new Map,El=new Map,ga=[],uD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e1(e,t){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(t.pointerId)}}function Ps(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=is(t),t!==null&&dO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function dD(e,t,r,n,a){switch(t){case"focusin":return Pa=Ps(Pa,e,t,r,n,a),!0;case"dragenter":return Na=Ps(Na,e,t,r,n,a),!0;case"mouseover":return Ma=Ps(Ma,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Cl.set(i,Ps(Cl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,El.set(i,Ps(El.get(i)||null,e,t,r,n,a)),!0}return!1}function hO(e){var t=uo(e.target);if(t!==null){var r=Gl(t);if(r!==null){if(t=r.tag,t===13){if(t=RS(r),t!==null){e.blockedOn=t,Ib(e.priority,function(){Qx(r)});return}}else if(t===31){if(t=PS(r),t!==null){e.blockedOn=t,Ib(e.priority,function(){Qx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sg(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ep=n,r.target.dispatchEvent(n),Ep=null}else return t=is(r),t!==null&&dO(t),e.blockedOn=r,!1;t.shift()}return!0}function t1(e,t,r){zu(e)&&r.delete(t)}function fD(){lg=!1,Pa!==null&&zu(Pa)&&(Pa=null),Na!==null&&zu(Na)&&(Na=null),Ma!==null&&zu(Ma)&&(Ma=null),Cl.forEach(t1),El.forEach(t1)}function Fc(e,t){e.blockedOn===t&&(e.blockedOn=null,lg||(lg=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,fD)))}var Vc=null;function r1(e){Vc!==e&&(Vc=e,it.unstable_scheduleCallback(it.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(jy(n||r)===null)continue;break}var i=is(r);i!==null&&(e.splice(t,3),t-=3,qp(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Ho(e){function t(c){return Fc(c,e)}Pa!==null&&Fc(Pa,e),Na!==null&&Fc(Na,e),Ma!==null&&Fc(Ma,e),Cl.forEach(t),El.forEach(t);for(var r=0;r<ga.length;r++){var n=ga[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ga.length&&(r=ga[0],r.blockedOn===null);)hO(r),r.blockedOn===null&&ga.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[Yt]||null;if(typeof i=="function")o||r1(r);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Yt]||null)s=o.formAction;else if(jy(a)!==null)continue}else s=o.action;typeof s=="function"?r[n+1]=s:(r.splice(n,3),n-=3),r1(r)}}}function mO(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Sy(e){this._internalRoot=e}Df.prototype.render=Sy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));var r=t.current,n=hr();uO(r,n,e,t,null,null)};Df.prototype.unmount=Sy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uO(e.current,2,null,e,null,null),Pf(),t[as]=null}};function Df(e){this._internalRoot=e}Df.prototype.unstable_scheduleHydration=function(e){if(e){var t=HS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ga.length&&t!==0&&t<ga[r].priority;r++);ga.splice(r,0,e),r===0&&hO(e)}};var n1=kS.version;if(n1!=="19.2.3")throw Error(I(527,n1,"19.2.3"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=qN(t),e=e!==null?NS(e):null,e=e===null?null:e.stateNode,e};var hD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Kl=Gc.inject(hD),dr=Gc}catch{}}yf.createRoot=function(e,t){if(!TS(e))throw Error(I(299));var r=!1,n="",a=iE,i=oE,o=sE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=lO(e,1,!1,null,null,r,n,null,a,i,o,mO),e[as]=t.current,yy(e),new Sy(t)};yf.hydrateRoot=function(e,t,r){if(!TS(e))throw Error(I(299));var n=!1,a="",i=iE,o=oE,s=sE,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(s=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=lO(e,1,!0,t,r??null,n,a,c,i,o,s,mO),t.context=cO(null),r=t.current,n=hr(),n=Pv(n),a=Aa(n),a.callback=null,ka(r,a,n),r=n,t.current.lanes=r,Xl(t,r),fn(t),e[as]=t.current,yy(e),new Df(t)};yf.version="19.2.3";function pO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pO)}catch(e){console.error(e)}}pO(),jS.exports=yf;var mD=jS.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ol.apply(this,arguments)}var Sa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sa||(Sa={}));const a1="popstate";function pD(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return cg("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:gO(a)}return vD(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gD(){return Math.random().toString(36).substr(2,8)}function i1(e,t){return{usr:e.state,key:e.key,idx:t}}function cg(e,t,r,n){return r===void 0&&(r=null),Ol({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ds(t):t,{state:r,key:t&&t.key||n||gD()})}function gO(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ds(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function vD(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=Sa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ol({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Sa.Pop;let y=d(),v=y==null?null:y-u;u=y,c&&c({action:s,location:x.location,delta:v})}function h(y,v){s=Sa.Push;let g=cg(x.location,y,v);u=d()+1;let _=i1(g,u),w=x.createHref(g);try{o.pushState(_,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(w)}i&&c&&c({action:s,location:x.location,delta:1})}function m(y,v){s=Sa.Replace;let g=cg(x.location,y,v);u=d();let _=i1(g,u),w=x.createHref(g);o.replaceState(_,"",w),i&&c&&c({action:s,location:x.location,delta:0})}function p(y){let v=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof y=="string"?y:gO(y);return g=g.replace(/ $/,"%20"),et(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let x={get action(){return s},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(a1,f),c=y,()=>{a.removeEventListener(a1,f),c=null}},createHref(y){return t(a,y)},createURL:p,encodeLocation(y){let v=p(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(y){return o.go(y)}};return x}var o1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(o1||(o1={}));function yD(e,t,r){return r===void 0&&(r="/"),bD(e,t,r)}function bD(e,t,r,n){let a=typeof t=="string"?ds(t):t,i=bO(a.pathname||"/",r);if(i==null)return null;let o=vO(e);xD(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=PD(i);s=kD(o[c],u)}return s}function vO(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let c={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=yi([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vO(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:OD(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let c of yO(i.path))a(i,o,c)}),t}function yO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=yO(n.join("/")),s=[];return s.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function xD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:AD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _D=/^:[\w-]+$/,wD=3,jD=2,SD=1,CD=10,ED=-2,s1=e=>e==="*";function OD(e,t){let r=e.split("/"),n=r.length;return r.some(s1)&&(n+=ED),t&&(n+=jD),r.filter(a=>!s1(a)).reduce((a,i)=>a+(_D.test(i)?wD:i===""?SD:CD),n)}function AD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function kD(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=TD({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:yi([i,f.pathname]),pathnameBase:BD(yi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=yi([i,f.pathnameBase]))}return o}function TD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=RD(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=s[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=s[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function RD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Cy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function PD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bO(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const ND=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MD=e=>ND.test(e);function DD(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ds(e):e,i;if(r)if(MD(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Cy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=l1(r.substring(1),"/"):i=l1(r,t)}else i=t;return{pathname:i,search:ID(n),hash:$D(a)}}function l1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Pm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xO(e,t){let r=zD(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _O(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ds(e):(a=Ol({},e),et(!a.pathname||!a.pathname.includes("?"),Pm("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Pm("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Pm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let c=DD(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const yi=e=>e.join("/").replace(/\/\/+/g,"/"),BD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ID=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$D=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wO=["post","put","patch","delete"];new Set(wO);const UD=["get",...wO];new Set(UD);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}const Ey=b.createContext(null),qD=b.createContext(null),ic=b.createContext(null),zf=b.createContext(null),Wa=b.createContext({outlet:null,matches:[],isDataRoute:!1}),jO=b.createContext(null);function oc(){return b.useContext(zf)!=null}function Bf(){return oc()||et(!1),b.useContext(zf).location}function SO(e){b.useContext(ic).static||b.useLayoutEffect(e)}function fs(){let{isDataRoute:e}=b.useContext(Wa);return e?n4():HD()}function HD(){oc()||et(!1);let e=b.useContext(Ey),{basename:t,future:r,navigator:n}=b.useContext(ic),{matches:a}=b.useContext(Wa),{pathname:i}=Bf(),o=JSON.stringify(xO(a,r.v7_relativeSplatPath)),s=b.useRef(!1);return SO(()=>{s.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=_O(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const WD=b.createContext(null);function FD(e){let t=b.useContext(Wa).outlet;return t&&b.createElement(WD.Provider,{value:e},t)}function VD(e,t){return GD(e,t)}function GD(e,t,r,n){oc()||et(!1);let{navigator:a}=b.useContext(ic),{matches:i}=b.useContext(Wa),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Bf(),d;if(t){var f;let y=typeof t=="string"?ds(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||et(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=yD(e,{pathname:m}),x=JD(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:yi([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:yi([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&x?b.createElement(zf.Provider,{value:{location:Al({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sa.Pop}},x):x}function KD(){let e=r4(),t=LD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,null)}const YD=b.createElement(KD,null);class XD extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Wa.Provider,{value:this.props.routeContext},b.createElement(jO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZD(e){let{routeContext:t,match:r,children:n}=e,a=b.useContext(Ey);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Wa.Provider,{value:t},n)}function JD(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,p=!1,x=null,y=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||YD,c&&(u<0&&h===0?(a4("route-fallback"),p=!0,y=null):u===h&&(p=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),g=()=>{let _;return m?_=x:p?_=y:f.route.Component?_=b.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,b.createElement(ZD,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(XD,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var CO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(CO||{}),EO=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(EO||{});function QD(e){let t=b.useContext(Ey);return t||et(!1),t}function e4(e){let t=b.useContext(qD);return t||et(!1),t}function t4(e){let t=b.useContext(Wa);return t||et(!1),t}function OO(e){let t=t4(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function r4(){var e;let t=b.useContext(jO),r=e4(),n=OO();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function n4(){let{router:e}=QD(CO.UseNavigateStable),t=OO(EO.UseNavigateStable),r=b.useRef(!1);return SO(()=>{r.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Al({fromRouteId:t},i)))},[e,t])}const c1={};function a4(e,t,r){c1[e]||(c1[e]=!0)}function i4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function AO(e){let{to:t,replace:r,state:n,relative:a}=e;oc()||et(!1);let{future:i,static:o}=b.useContext(ic),{matches:s}=b.useContext(Wa),{pathname:c}=Bf(),u=fs(),d=_O(t,xO(s,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function o4(e){return FD(e.context)}function bn(e){et(!1)}function s4(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Sa.Pop,navigator:i,static:o=!1,future:s}=e;oc()&&et(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:Al({v7_relativeSplatPath:!1},s)}),[c,s,i,o]);typeof n=="string"&&(n=ds(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,x=b.useMemo(()=>{let y=bO(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return x==null?null:b.createElement(ic.Provider,{value:u},b.createElement(zf.Provider,{children:r,value:x}))}function l4(e){let{children:t,location:r}=e;return VD(ug(t),r)}new Promise(()=>{});function ug(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,a)=>{if(!b.isValidElement(n))return;let i=[...t,a];if(n.type===b.Fragment){r.push.apply(r,ug(n.props.children,i));return}n.type!==bn&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ug(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function c4(e,t){let r=dg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const u4="6";try{window.__reactRouterVersion=u4}catch{}const d4="startTransition",u1=wS[d4];function f4(e){let{basename:t,children:r,future:n,window:a}=e,i=b.useRef();i.current==null&&(i.current=pD({window:a,v5Compat:!0}));let o=i.current,[s,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&u1?u1(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>i4(n),[n]),b.createElement(s4,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}var d1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(d1||(d1={}));var f1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(f1||(f1={}));function kO(e){let t=b.useRef(dg(e)),r=b.useRef(!1),n=Bf(),a=b.useMemo(()=>c4(n.search,r.current?null:t.current),[n.search]),i=fs(),o=b.useCallback((s,c)=>{const u=dg(typeof s=="function"?s(a):s);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var fg=function(e,t){return fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},fg(e,t)};function TO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var vd=function(){return vd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},vd.apply(this,arguments)};function hs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function RO(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function PO(e,t){return function(r,n){t(r,n,e)}}function NO(e,t,r,n,a,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var p={};for(var x in n)p[x]=x==="access"?{}:n[x];for(var x in n.access)p.access[x]=n.access[x];p.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var y=(0,r[m])(s==="accessor"?{get:d.get,set:d.set}:d[c],p);if(s==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&a.unshift(f)}else(f=o(y))&&(s==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function MO(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function DO(e){return typeof e=="symbol"?e:"".concat(e)}function zO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function BO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function V(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function IO(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var If=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function $O(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&If(t,e,r)}function yd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function LO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Oy(arguments[t]));return e}function UO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function qO(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Wo(e){return this instanceof Wo?(this.v=e,this):new Wo(e)}function HO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(p){return Promise.resolve(p).then(m,f)}}function s(m,p){n[m]&&(a[m]=function(x){return new Promise(function(y,v){i.push([m,x,y,v])>1||c(m,x)})},p&&(a[m]=p(a[m])))}function c(m,p){try{u(n[m](p))}catch(x){h(i[0][3],x)}}function u(m){m.value instanceof Wo?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,p){m(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function WO(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Wo(e[a](o)),done:!1}:i?i(o):o}:i}}function FO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof yd=="function"?yd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,c){o=e[i](o),a(s,c,o.done,o.value)})}}function a(i,o,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},o)}}function VO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var h4=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},hg=function(e){return hg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},hg(e)};function GO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=hg(e),n=0;n<r.length;n++)r[n]!=="default"&&If(t,e,r[n]);return h4(t,e),t}function KO(e){return e&&e.__esModule?e:{default:e}}function YO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function XO(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function ZO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function JO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var m4=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function QO(e){function t(i){e.error=e.hasError?new m4(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function eA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const p4={__extends:TO,__assign:vd,__rest:hs,__decorate:RO,__param:PO,__esDecorate:NO,__runInitializers:MO,__propKey:DO,__setFunctionName:zO,__metadata:BO,__awaiter:V,__generator:IO,__createBinding:If,__exportStar:$O,__values:yd,__read:Oy,__spread:LO,__spreadArrays:UO,__spreadArray:qO,__await:Wo,__asyncGenerator:HO,__asyncDelegator:WO,__asyncValues:FO,__makeTemplateObject:VO,__importStar:GO,__importDefault:KO,__classPrivateFieldGet:YO,__classPrivateFieldSet:XO,__classPrivateFieldIn:ZO,__addDisposableResource:JO,__disposeResources:QO,__rewriteRelativeImportExtension:eA},g4=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:JO,get __assign(){return vd},__asyncDelegator:WO,__asyncGenerator:HO,__asyncValues:FO,__await:Wo,__awaiter:V,__classPrivateFieldGet:YO,__classPrivateFieldIn:ZO,__classPrivateFieldSet:XO,__createBinding:If,__decorate:RO,__disposeResources:QO,__esDecorate:NO,__exportStar:$O,__extends:TO,__generator:IO,__importDefault:KO,__importStar:GO,__makeTemplateObject:VO,__metadata:BO,__param:PO,__propKey:DO,__read:Oy,__rest:hs,__rewriteRelativeImportExtension:eA,__runInitializers:MO,__setFunctionName:zO,__spread:LO,__spreadArray:qO,__spreadArrays:UO,__values:yd,default:p4},Symbol.toStringTag,{value:"Module"})),v4="modulepreload",y4=function(e){return"/"+e},h1={},ms=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=y4(c),c in h1)return;h1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":v4,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},b4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ay extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class m1 extends Ay{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class p1 extends Ay{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class g1 extends Ay{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mg||(mg={}));class x4{constructor(t,{headers:r={},customFetch:n,region:a=mg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=b4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return V(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:s,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(u["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(u["Content-Type"]="application/json",h=JSON.stringify(s)):h=s;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new m1(v)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new p1(m);if(!m.ok)throw new g1(m);let x=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield m.json():x==="application/octet-stream"||x==="application/pdf"?y=yield m.blob():x==="text/event-stream"?y=m:x==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new m1(i)}:{data:null,error:i,response:i instanceof g1||i instanceof p1?i.context:void 0}}})}}var Nt={};const ps=fS(g4);var Kc={},Yc={},Xc={},Zc={},Jc={},_4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fo=_4();const w4=Fo.fetch,tA=Fo.fetch.bind(Fo),rA=Fo.Headers,j4=Fo.Request,S4=Fo.Response,Li=Object.freeze(Object.defineProperty({__proto__:null,Headers:rA,Request:j4,Response:S4,default:tA,fetch:w4},Symbol.toStringTag,{value:"Module"})),C4=fS(Li);var Qc={},v1;function nA(){if(v1)return Qc;v1=1,Object.defineProperty(Qc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Qc.default=e,Qc}var y1;function aA(){if(y1)return Jc;y1=1,Object.defineProperty(Jc,"__esModule",{value:!0});const e=ps,t=e.__importDefault(C4),r=e.__importDefault(nA());class n{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let p=null,x=null,y=null,v=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=S:x=JSON.parse(S))}const w=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,y=null,v=406,g="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const w=await u.text();try{p=JSON.parse(w),Array.isArray(p)&&u.status===404&&(x=[],p=null,v=200,g="OK")}catch{u.status===404&&w===""?(v=204,g="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:x,count:y,status:v,statusText:g}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Jc.default=n,Jc}var b1;function iA(){if(b1)return Zc;b1=1,Object.defineProperty(Zc,"__esModule",{value:!0});const t=ps.__importDefault(aA());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Zc.default=r,Zc}var x1;function ky(){if(x1)return Xc;x1=1,Object.defineProperty(Xc,"__esModule",{value:!0});const t=ps.__importDefault(iA()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}}return Xc.default=n,Xc}var _1;function oA(){if(_1)return Yc;_1=1,Object.defineProperty(Yc,"__esModule",{value:!0});const t=ps.__importDefault(ky());class r{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,i){const{head:o=!1,count:s}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Yc.default=r,Yc}var w1;function E4(){if(w1)return Kc;w1=1,Object.defineProperty(Kc,"__esModule",{value:!0});const e=ps,t=e.__importDefault(oA()),r=e.__importDefault(ky());class n{constructor(i,{headers:o={},schema:s,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;s||c?(f=s?"HEAD":"GET",Object.entries(o).filter(([x,y])=>y!==void 0).map(([x,y])=>[x,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([x,y])=>{h.searchParams.append(x,y)})):(f="POST",m=o);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Kc.default=n,Kc}Object.defineProperty(Nt,"__esModule",{value:!0});var sA=Nt.PostgrestError=vA=Nt.PostgrestBuilder=pA=Nt.PostgrestTransformBuilder=hA=Nt.PostgrestFilterBuilder=dA=Nt.PostgrestQueryBuilder=cA=Nt.PostgrestClient=void 0;const gs=ps,lA=gs.__importDefault(E4());var cA=Nt.PostgrestClient=lA.default;const uA=gs.__importDefault(oA());var dA=Nt.PostgrestQueryBuilder=uA.default;const fA=gs.__importDefault(ky());var hA=Nt.PostgrestFilterBuilder=fA.default;const mA=gs.__importDefault(iA());var pA=Nt.PostgrestTransformBuilder=mA.default;const gA=gs.__importDefault(aA());var vA=Nt.PostgrestBuilder=gA.default;const yA=gs.__importDefault(nA());sA=Nt.PostgrestError=yA.default;var bA=Nt.default={PostgrestClient:lA.default,PostgrestQueryBuilder:uA.default,PostgrestFilterBuilder:fA.default,PostgrestTransformBuilder:mA.default,PostgrestBuilder:gA.default,PostgrestError:yA.default};const O4=dS({__proto__:null,get PostgrestBuilder(){return vA},get PostgrestClient(){return cA},get PostgrestError(){return sA},get PostgrestFilterBuilder(){return hA},get PostgrestQueryBuilder(){return dA},get PostgrestTransformBuilder(){return pA},default:bA},[Nt]),{PostgrestClient:A4,PostgrestQueryBuilder:WZ,PostgrestFilterBuilder:FZ,PostgrestTransformBuilder:VZ,PostgrestBuilder:GZ,PostgrestError:KZ}=bA||O4;class k4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const T4="2.78.0",R4=`realtime-js/${T4}`,P4="1.0.0",pg=1e4,N4=1e3,M4=100;var cl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cl||(cl={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var gg;(function(e){e.websocket="websocket"})(gg||(gg={}));var oi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(oi||(oi={}));class D4{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class xA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const j1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=z4(o,e,t,a),i),{}):{}},z4=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?_A(i,o):vg(o)},_A=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return L4(t,r)}switch(e){case Oe.bool:return B4(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return I4(t);case Oe.json:case Oe.jsonb:return $4(t);case Oe.timestamp:return U4(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return vg(t);default:return vg(t)}},vg=e=>e,B4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},I4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},L4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>_A(t,s))}return e},U4=e=>typeof e=="string"?e.replace(" ","T"):e,wA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nm{constructor(t,r,n={},a=pg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var S1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(S1||(S1={}));class ul{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ul.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ul.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ul.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),p=d.filter(y=>m.indexOf(y.presence_ref)<0),x=f.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(s[u]=p),x.length>0&&(c[u]=x)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,c)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),d.length>0){const f=t[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}n(s,d,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,c),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(C1||(C1={}));var dl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dl||(dl={}));var xn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xn||(xn={}));class Ty{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nm(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new xA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new ul(this),this.broadcastEndpointURL=wA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[dl.PRESENCE]&&this.bindings[dl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(xn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(xn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(xn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,v=[];for(let g=0;g<y;g++){const _=x[g],{filter:{event:w,schema:j,table:S,filter:C}}=_,E=m&&m[g];if(E&&E.event===w&&E.schema===j&&E.table===S&&E.filter===C)v.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(xn.SUBSCRIBED);return}}).receive("error",m=>{this.state=rt.errored,t==null||t(xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rt.joined&&t===dl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const u=await s.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Nm(this,Hr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Nm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>M4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=Hr;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,x,y;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(x=m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,x,y,v,g,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,j=(p=m.filter)===null||p===void 0?void 0:p.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(g=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:x,table:y,commit_timestamp:v,type:g,errors:_}=p;h=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:v,eventType:g,new:{},old:{},errors:_}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ty.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=j1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=j1(t.columns,t.old_record)),r}}const Mm=()=>{},eu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q4=[1e3,2e3,5e3,1e4],H4=1e4,W4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pg,this.transport=null,this.heartbeatIntervalMs=eu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mm,this.ref=0,this.reconnectTimer=null,this.logger=Mm,this.conn=null,this.sendBuffer=[],this.serializer=new D4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>ms(async()=>{const{default:s}=await Promise.resolve().then(()=>Li);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${gg.websocket}`,this.httpEndpoint=wA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=k4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:P4}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cl.connecting:return oi.Connecting;case cl.open:return oi.Open;case cl.closing:return oi.Closing;default:return oi.Closed}}isConnected(){return this.connectionState()===oi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ty(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(N4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},eu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([W4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:R4};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Hr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,s,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:pg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:eu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Mm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>q4[f-1]||H4,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ry extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class V4 extends Ry{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yg extends Ry{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Py=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},G4=()=>V(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ms(()=>Promise.resolve().then(()=>Li),void 0)).Response:Response}),bg=e=>{if(Array.isArray(e))return e.map(r=>bg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=bg(n)}),t},K4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Y4=(e,t,r)=>V(void 0,void 0,void 0,function*(){const n=yield G4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new V4(Dm(a),i,o))}).catch(a=>{t(new yg(Dm(a),a))}):t(new yg(Dm(e),e))}),X4=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(K4(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function sc(e,t,r,n,a,i){return V(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,X4(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Y4(c,s,n))})})}function kl(e,t,r,n){return V(this,void 0,void 0,function*(){return sc(e,"GET",t,r,n)})}function Ur(e,t,r,n,a){return V(this,void 0,void 0,function*(){return sc(e,"POST",t,n,a,r)})}function xg(e,t,r,n,a){return V(this,void 0,void 0,function*(){return sc(e,"PUT",t,n,a,r)})}function Z4(e,t,r,n){return V(this,void 0,void 0,function*(){return sc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ny(e,t,r,n,a){return V(this,void 0,void 0,function*(){return sc(e,"DELETE",t,n,a,r)})}class J4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return V(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}var jA;class Q4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[jA]="BlobDownloadBuilder",this.promise=null}asStream(){return new J4(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return V(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}jA=Symbol.toStringTag;const ez={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},E1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tz{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Py(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return V(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},E1),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?xg:Ur)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return V(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:E1.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield xg(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return V(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new Ry("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return V(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}copy(t,r,n){return V(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return V(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ur(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return V(this,void 0,void 0,function*(){try{const a=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),c=()=>kl(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new Q4(c,this.shouldThrowOnError)}info(t){return V(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield kl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:bg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}exists(t){return V(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Z4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n)&&n instanceof yg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ny(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return V(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ez),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}listV2(t,r){return V(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const SA="2.78.0",CA={"X-Client-Info":`storage-js/${SA}`};class rz{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CA),r),this.fetch=Py(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return V(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield kl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}createBucket(t){return V(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return V(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ny(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class nz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CA),r),this.fetch=Py(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBuckets(t){return V(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield kl(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ny(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}const My={"X-Client-Info":`storage-js/${SA}`,"Content-Type":"application/json"};class EA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ir(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class zm extends EA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class az extends EA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var O1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(O1||(O1={}));const Dy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},iz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},A1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oz=(e,t,r)=>V(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new zm(A1(o),a,s))}).catch(()=>{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new zm(s,a,o))});else{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new zm(s,a,o))}}else t(new az(A1(e),e))}),sz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(iz(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function lz(e,t,r,n,a,i){return V(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,sz(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>oz(c,s,n))})})}function or(e,t,r,n,a){return V(this,void 0,void 0,function*(){return lz(e,"POST",t,n,a,r)})}class cz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},My),r),this.fetch=Dy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getIndex(t,r){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listIndexes(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class uz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},My),r),this.fetch=Dy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return V(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listVectors(t){return V(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield or(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}queryVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteVectors(t){return V(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class dz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},My),r),this.fetch=Dy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBuckets(){return V(this,arguments,void 0,function*(t={}){try{return{data:yield or(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class fz extends dz{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new hz(this.url,this.headers,t,this.fetch)}}class hz extends cz{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return V(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return V(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return V(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return V(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new mz(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class mz extends uz{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return V(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return V(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return V(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return V(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return V(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class pz extends rz{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new tz(this.url,this.headers,t,this.fetch)}get vectors(){return new fz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nz(this.url+"/iceberg",this.headers,this.fetch)}}const gz="2.78.0";let Vs="";typeof Deno<"u"?Vs="deno":typeof document<"u"?Vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vs="react-native":Vs="node";const vz={"X-Client-Info":`supabase-js-${Vs}/${gz}`},yz={headers:vz},bz={schema:"public"},xz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_z={},wz=e=>{let t;return e?t=e:typeof fetch>"u"?t=tA:t=fetch,(...r)=>t(...r)},jz=()=>typeof Headers>"u"?rA:Headers,Sz=(e,t,r)=>{const n=wz(r),a=jz();return async(i,o)=>{var s;const c=(s=await t())!==null&&s!==void 0?s:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Cz(e){return e.endsWith("/")?e:e+"/"}function Ez(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Oz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const OA="2.78.0",io=30*1e3,_g=3,Bm=_g*io,Az="http://localhost:9999",kz="supabase.auth.token",Tz={"X-Client-Info":`gotrue-js/${OA}`},wg="X-Supabase-Api-Version",AA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pz=10*60*1e3;class Tl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Nz extends Tl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Mz(e){return Y(e)&&e.name==="AuthApiError"}class si extends Tl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fa extends Tl{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class $r extends Fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dz(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Ki extends Fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tu extends Fa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ru extends Fa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zz(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class k1 extends Fa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jg extends Fa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Im(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class T1 extends Fa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Sg extends Fa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R1=` 	
\r=`.split(""),Bz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<R1.length;t+=1)e[R1[t].charCodeAt(0)]=-2;for(let t=0;t<bd.length;t+=1)e[bd[t].charCodeAt(0)]=t;return e})();function P1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bd[n]),t.queuedBits-=6}}function kA(e,t,r){const n=Bz[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function N1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Lz(o,n,r)};for(let o=0;o<e.length;o+=1)kA(e.charCodeAt(o),a,i);return t.join("")}function Iz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $z(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Iz(n,t)}}function Lz(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function To(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)kA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Uz(e){const t=[];return $z(e,r=>t.push(r)),new Uint8Array(t)}function li(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>P1(a,r,n)),P1(null,r,n),t.join("")}function qz(e){return Math.round(Date.now()/1e3)+e}function Hz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rt=()=>typeof window<"u"&&typeof document<"u",Xa={tested:!1,writable:!1},TA=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xa.tested)return Xa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xa.tested=!0,Xa.writable=!0}catch{Xa.tested=!0,Xa.writable=!1}return Xa.writable};function Wz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const RA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Fz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Za=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},la=async(e,t)=>{await e.removeItem(t)};class $f{constructor(){this.promise=new $f.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}$f.promiseConstructor=Promise;function $m(e){const t=e.split(".");if(t.length!==3)throw new Sg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Rz.test(t[n]))throw new Sg("JWT not in base64url format");return{header:JSON.parse(N1(t[0])),payload:JSON.parse(N1(t[1])),signature:To(t[2]),raw:{header:t[0],payload:t[1]}}}async function Vz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Gz(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Kz(e){return("0"+e.toString(16)).substr(-2)}function Yz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Kz).join("")}async function Xz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Zz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Xz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yi(e,t,r=!1){const n=Yz();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await oo(e,`${t}-code-verifier`,a);const i=await Zz(n);return[i,n===i?"plain":"s256"]}const Jz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qz(e){const t=e.headers.get(wg);if(!t||!t.match(Jz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function e3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function t3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xi(e){if(!r3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n3(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function M1(e){return JSON.parse(JSON.stringify(e))}const ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),a3=[502,503,504];async function D1(e){var t;if(!Fz(e))throw new jg(ri(e),0);if(a3.includes(e.status))throw new jg(ri(e),e.status);let r;try{r=await e.json()}catch(i){throw new si(ri(i),i)}let n;const a=Qz(e);if(a&&a.getTime()>=AA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new T1(ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new T1(ri(r),e.status,r.weak_password.reasons);throw new Nz(ri(r),e.status||500,n)}const i3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function J(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[wg]||(i[wg]=AA["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await o3(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function o3(e,t,r,n,a,i){const o=i3(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new jg(ri(c),0)}if(s.ok||await D1(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await D1(c)}}function Lr(e){var t;let r=null;c3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qz(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function z1(e){const t=Lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function va(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function s3(e){return{data:e,error:null}}function l3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=hs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function B1(e){return e}function c3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Um=["global","local","others"];class u3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=RA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Um[0]){if(Um.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Um.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:va})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hs(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:l3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:va})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:B1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Xi(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:va})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Xi(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:va})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Xi(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:va})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Xi(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Xi(t.userId),Xi(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:B1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Y(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function I1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Zi={debug:!!(globalThis&&TA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class PA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class d3 extends PA{}async function f3(e,t,r){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new d3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function h3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function NA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function m3(e){return parseInt(e,16)}function p3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function g3(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=NA(e.address),p=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${m}

${x}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(v+=`
Expiration Time: ${a.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);g+=`
- ${_}`}v+=g}return`${y}
${v}`}class Ke extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class xd extends Ke{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function v3({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(MA(o)){if(i.rp.id!==o)return new Ke({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function y3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(MA(n)){if(r.rpId!==n)return new Ke({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class b3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const x3=new b3;function _3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=hs(e,["challenge","user","excludeCredentials"]),i=To(t).buffer,o=Object.assign(Object.assign({},r),{id:To(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:To(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function w3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=hs(e,["challenge","allowCredentials"]),a=To(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:To(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function j3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:li(new Uint8Array(e.response.attestationObject)),clientDataJSON:li(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function S3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:li(new Uint8Array(a.authenticatorData)),clientDataJSON:li(new Uint8Array(a.clientDataJSON)),signature:li(new Uint8Array(a.signature)),userHandle:a.userHandle?li(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function MA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function $1(){var e,t;return!!(Rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function C3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xd("Browser returned unexpected credential type",t)}:{data:null,error:new xd("Empty credential response",t)}}catch(t){return{data:null,error:v3({error:t,options:e})}}}async function E3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xd("Browser returned unexpected credential type",t)}:{data:null,error:new xd("Empty credential response",t)}}catch(t){return{data:null,error:y3({error:t,options:e})}}}const O3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},A3={userVerification:"preferred",hints:["security-key"]};function _d(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const s=n[i];t(s)?n[i]=_d(s,o):n[i]=_d(o)}else n[i]=o}return n}function k3(e,t){return _d(O3,e,t||{})}function T3(e,t){return _d(A3,e,t||{})}class R3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const c=a??x3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=k3(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await C3({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=T3(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await E3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new si("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Tl("rpId is required for WebAuthn authentication")};try{if(!$1())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new si("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Tl("rpId is required for WebAuthn registration")};try{if(!$1())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new si("Unexpected error in register",o)}}}}h3();const P3={url:Az,storageKey:kz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function L1(e,t,r){return await r()}const Ji={};class Rl{get jwks(){var t,r;return(r=(t=Ji[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ji[this.storageKey]=Object.assign(Object.assign({},Ji[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ji[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ji[this.storageKey]=Object.assign(Object.assign({},Ji[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rl.nextInstanceID,Rl.nextInstanceID+=1,this.instanceID>0&&Rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},P3),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new u3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=RA(a.fetch),this.lock=a.lock||L1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Rt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=f3:this.lock=L1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new R3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:TA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=I1(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${OA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Wz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Rt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zz(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?{error:r}:{error:new si("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Lr}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Yi(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Lr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lr})}else throw new tu("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:z1})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:z1})}else throw new tu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ki}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,s,c,u,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:v,options:g}=t;let _;if(Rt())if(typeof y=="object")_=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")_=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const w=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),j=await _.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=NA(j[0]);let C=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const A=await _.request({method:"eth_chainId"});C=m3(A)}const E={domain:w.host,address:S,statement:v,uri:w.href,version:"1",chainId:C,nonce:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=g3(E),p=await _.request({method:"personal_sign",params:[p3(m),S]})}try{const{data:x,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Lr});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ki}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(Y(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var r,n,a,i,o,s,c,u,d,f,h,m;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:y,wallet:v,statement:g,options:_}=t;let w;if(Rt())if(typeof v=="object")w=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const j=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${j.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:y,error:v}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:li(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Lr});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ki}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Y(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Za(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Lr});if(await la(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ki}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Lr}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ki}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yi(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new tu("You must provide either an email or phone number.")}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Lr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Yi(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:s3})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $r;const{error:a}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new tu("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Bm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Za(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Lm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=n3(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:va}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:va})})}catch(r){if(Y(r))return Dz(r)&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new $r;const o=a.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await Yi(this.storage,this.storageKey));const{data:u,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:va});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=$m(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Rt())throw new ru("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ru(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new k1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ru("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new k1("No code detected.");const{data:g,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!i||!s||!o||!u)throw new ru("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=io&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:x,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Za(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(Mz(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Hz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Yi(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Rt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:c,access_token:u,nonce:d}=t,f=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ki}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Gz(async a=>(a>0&&await Vz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Im(i)&&Date.now()+o-n<io})}catch(n){if(this._debug(r,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Rt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Za(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await oo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Lm()}else if(a&&!a.user&&!a.user){const o=await Za(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await la(this.storage,this.storageKey+"-user"),await oo(this.storage,this.storageKey,a)):a.user=Lm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Bm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Im(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $f;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),Y(i)){const o={data:null,error:i};return Im(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await oo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=M1(a);await oo(this.storage,this.storageKey,i)}else{const a=M1(r);await oo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await la(this.storage,this.storageKey),await la(this.storage,this.storageKey+"-code-verifier"),await la(this.storage,this.storageKey+"-user"),this.userStorage&&await la(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),io);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/io);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${io}ms, refresh threshold is ${_g} ticks`),a<=_g&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof PA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Yi(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?j3(t.webauthn.credential_response):S3(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:c}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:_3(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:w3(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=$m(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new $r}})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+Pz>a)return n;const{data:i,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:c}}=$m(n);r!=null&&r.allowExpired||e3(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=t3(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Uz(`${s}.${c}`)))throw new Sg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}Rl.nextInstanceID=0;const N3=Rl;class M3 extends N3{constructor(t){super(t)}}class D3{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const s=Oz(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:bz,realtime:_z,auth:Object.assign(Object.assign({},xz),{storageKey:c}),global:yz},d=Ez(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Sz(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new A4(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new pz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new x4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new F4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const z3=(e,t,r)=>new D3(e,t,r);function B3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}B3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I3="https://abbysvxnnhwvvzhftoms.supabase.co",$3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",B=z3(I3,$3);function L3(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[a,i]=b.useState(!1),o=fs(),s=async c=>{c.preventDefault(),i(!0);const{error:u}=await B.auth.signInWithPassword({email:e,password:r});u?u.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(u.message):o("/dashboard"),i(!1)};return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:l.jsxs("form",{onSubmit:s,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:c=>{c.target.onerror=null,c.target.style.display="none",c.target.nextSibling.style.display="block"}}),l.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),l.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:e,onChange:c=>t(c.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),l.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:c}=await B.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/dashboard?reset=true"});i(!1),alert(c?"Erro ao enviar email: "+c.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),l.jsx("input",{id:"password",type:"password",value:r,onChange:c=>n(c.target.value),className:"input",placeholder:"",required:!0})]}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),l.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[l.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),l.jsx("button",{type:"button",onClick:()=>o("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const Jn=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},zy=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const s=await o.json(),c=s.estabelecimento||{},u=s.socios&&s.socios.length>0?s.socios[0]:null;return{nome:s.razao_social,fantasia:c.nome_fantasia,doc:t,email:c.email,telefone:c.ddd1&&c.telefone1?`(${c.ddd1}) ${c.telefone1}`:"",address:{logradouro:c.tipo_logradouro?`${c.tipo_logradouro} ${c.logradouro}`:c.logradouro,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cep:c.cep,uf:(n=c.estado)==null?void 0:n.sigla,municipio:(a=c.cidade)==null?void 0:a.nome,cidade:(i=c.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:s}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},U3=async e=>{try{const{data:t,error:r}=await B.functions.invoke("manage-asaas-customer",{body:e});if(r)throw r;return t}catch(t){throw console.error("Erro Asaas Customer:",t),t}},lc=async e=>{const{data:t,error:r}=await B.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},Lf=async(e,t="invoice")=>{const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await B.functions.invoke("create-asaas-charge",{body:r});if(a)throw a;return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),U1=e=>{const t=H3(e);return t.charAt(0).toUpperCase()+t.slice(1)},DA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),W3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...s},c)=>b.createElement("svg",{ref:c,...F3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:DA("lucide",a),...!i&&!W3(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const r=b.forwardRef(({className:n,...a},i)=>b.createElement(V3,{ref:i,iconNode:t,className:DA(`lucide-${q3(U1(e))}`,`lucide-${e}`,n),...a}));return r.displayName=U1(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],q1=ne("briefcase",G3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Y3=ne("calculator",K3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Z3=ne("calendar",X3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],Q3=ne("chart-no-axes-column-increasing",J3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zA=ne("chevron-down",e6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],r6=ne("chevron-left",t6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],a6=ne("chevron-right",n6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],BA=ne("chevron-up",i6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],IA=ne("circle-alert",o6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$A=ne("circle-check-big",s6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c6=ne("circle-question-mark",l6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d6=ne("clock",u6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],h6=ne("code",f6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],p6=ne("copy",m6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cc=ne("credit-card",g6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Uf=ne("dollar-sign",v6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],b6=ne("eye-off",y6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_6=ne("eye",x6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],La=ne("file-text",w6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],S6=ne("funnel",j6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],E6=ne("house",C6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],A6=ne("info",O6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qm=ne("layout-dashboard",k6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],R6=ne("log-out",T6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],N6=ne("map-pin",P6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],D6=ne("megaphone",M6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],B6=ne("menu",z6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$6=ne("pen",I6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uc=ne("plus",L6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],By=ne("save",U6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Iy=ne("search",q6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],W6=ne("server",H6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LA=ne("settings",F6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],G6=ne("square-pen",V6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qf=ne("trash-2",K6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],X6=ne("truck",Y6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UA=ne("user-check",Z6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$y=ne("users",J6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hf=ne("x",Q6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ly=ne("zap",e8),qA=b.createContext(),hn=()=>{const e=b.useContext(qA);if(!e)throw new Error("useUI must be used within a UIProvider");return e},t8=({children:e})=>{const[t,r]=b.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=b.useRef(null),a=()=>{r(u=>({...u,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(u=>({...u,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(u,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:u,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},s=(u,d="Confirmao",f="Confirmar",h="Cancelar")=>new Promise(m=>{n.current=m,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:u,confirmText:f,cancelText:h,onConfirm:()=>{},onCancel:()=>{}})}),c=()=>{switch(t.variant){case"error":return l.jsx(IA,{size:32,color:"#ef4444"});case"success":return l.jsx($A,{size:32,color:"#22c55e"});case"warning":return l.jsx(c6,{size:32,color:"#f59e0b"});default:return l.jsx(A6,{size:32,color:"#3b82f6"})}};return l.jsxs(qA.Provider,{value:{showAlert:o,showConfirm:s},children:[e,t.isOpen&&l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:c()}),l.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),l.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:l.jsx(Hf,{size:20})})]}),l.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&l.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:u=>u.currentTarget.style.background="#f9fafb",onMouseOut:u=>u.currentTarget.style.background="white",children:t.cancelText}),l.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:u=>u.currentTarget.style.filter="brightness(0.9)",onMouseOut:u=>u.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),l.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})},HA=b.createContext({}),Jr=()=>b.useContext(HA),r8=({children:e})=>{const[t,r]=b.useState(null),[n,a]=b.useState(null),[i,o]=b.useState(!0);b.useEffect(()=>{B.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?s(d.user.id):o(!1)});const{data:{subscription:u}}=B.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?s(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const s=async u=>{try{const{data:d,error:f}=await B.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},c={signUp:u=>B.auth.signUp(u),signIn:u=>B.auth.signInWithPassword(u),signOut:()=>B.auth.signOut(),user:t,profile:n,loading:i};return l.jsx(HA.Provider,{value:c,children:!i&&e})},vs=e=>e?e.replace(/\D/g,""):"",Wf=e=>{const t=vs(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},Vo=e=>vs(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),n8=e=>{const t=vs(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,s,c;try{for(a=0,c=10,i=0;i<9;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,c=11,i=0;i<10;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},a8=e=>{const t=vs(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);let s=i%11<2?0:11-i%11;if(s!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);return s=i%11<2?0:11-i%11,s==a.charAt(1)},Oi=e=>vs(e).length===11,Ff=e=>{const t=vs(e);return t.length<=11?n8(t):a8(t)},nu=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=b.useState(r);return l.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[l.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[l.jsx("span",{children:e}),n?l.jsx(BA,{size:18}):l.jsx(zA,{size:18})]}),n&&l.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function Uy({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){var Z;const{showAlert:a,showConfirm:i}=hn(),[o,s]=b.useState([]),[c,u]=b.useState([]),[d,f]=b.useState(!1),[h,m]=b.useState(!1),p=O=>{if(!O&&O!==0)return"";const R=Number(O);return isNaN(R)?"":R.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},x=O=>{if(!O||typeof O!="string")return 0;const R=O.replace(/\D/g,"");return Number(R)/1e4},y=(O,R)=>{const N=R.replace(/\D/g,""),U=(Number(N)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});C(ae=>({...ae,[O]:U}))},v=O=>O.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),g=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],_=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],w=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],j=[1,5,10,15,20,25,30],[S,C]=b.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});b.useEffect(()=>{var O,R,N,L,U,ae,ue;E(),A(),e&&C({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:p(e.tarifa_concessionaria),te:p(e.te),tusd:p(e.tusd),fio_b:p(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:v(((O=e.address)==null?void 0:O.cep)||""),rua:((R=e.address)==null?void 0:R.rua)||"",numero:((N=e.address)==null?void 0:N.numero)||"",complemento:((L=e.address)==null?void 0:L.complemento)||"",bairro:((U=e.address)==null?void 0:U.bairro)||"",cidade:((ae=e.address)==null?void 0:ae.cidade)||"",uf:((ue=e.address)==null?void 0:ue.uf)||""})},[e]),b.useEffect(()=>{const O=x(S.tarifa_concessionaria);let R=30;S.tipo_ligacao==="trifasico"?R=100:S.tipo_ligacao==="bifasico"&&(R=50);const L=(O*R).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});C(U=>({...U,tarifa_minima:L}))},[S.tarifa_concessionaria,S.tipo_ligacao]);const E=async()=>{const{data:O}=await B.from("subscribers").select("id, name, cpf_cnpj").order("name");s(O||[])},A=async()=>{const{data:O}=await B.from("usinas").select("id, name").order("name");u(O||[])},T=O=>{const R=v(O.target.value);C(N=>({...N,cep:R}))},P=async()=>{const O=S.cep.replace(/\D/g,"");if(O.length===8){m(!0);try{const R=await Jn(O);if(C(N=>({...N,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||"",concessionaria:N.concessionaria||""})),R.ibge){const N=await lc(R.ibge);if(N){let L=N["Desconto Assinante"]||0;L>1||(L=L*100),C(U=>({...U,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||"",concessionaria:N.Concessionaria||U.concessionaria,tarifa_concessionaria:N["Tarifa Concessionaria"]?p(N["Tarifa Concessionaria"]):U.tarifa_concessionaria,te:N.TE?p(N.TE):U.te,tusd:N.TUSD?p(N.TUSD):U.tusd,fio_b:N["Fio B"]?p(N["Fio B"]):U.fio_b,desconto_assinante:L.toFixed(2)}))}}}catch(R){console.error("Erro CEP",R),a("Erro ao buscar CEP/Ofertas: "+(R.message||"No encontrado"),"error")}finally{m(!1)}}},k=async O=>{O.preventDefault(),f(!0);try{const R={subscriber_id:S.subscriber_id||null,usina_id:S.usina_id||null,status:S.status,numero_uc:S.numero_uc,titular_conta:S.titular_conta,modalidade:S.modalidade,concessionaria:S.concessionaria,tipo_ligacao:S.tipo_ligacao,franquia:Number(S.franquia),tarifa_concessionaria:x(S.tarifa_concessionaria),te:x(S.te),tusd:x(S.tusd),fio_b:x(S.fio_b),desconto_assinante:Number(S.desconto_assinante),dia_vencimento:Number(S.dia_vencimento),address:{cep:S.cep.replace(/\D/g,""),rua:S.rua,numero:S.numero,complemento:S.complemento,bairro:S.bairro,cidade:S.cidade,uf:S.uf}};if(!R.subscriber_id)throw new Error("Assinante  obrigatrio.");let N;if(e!=null&&e.id?N=await B.from("consumer_units").update(R).eq("id",e.id).select().single():N=await B.from("consumer_units").insert(R).select().single(),N.error)throw N.error;r(N.data),t()}catch(R){a("Erro ao salvar UC: "+R.message,"error")}finally{f(!1)}},H=async()=>{if(await i("Excluir esta Unidade Consumidora?")){f(!0);try{const{error:R}=await B.from("consumer_units").delete().eq("id",e.id);if(R)throw R;n&&n(e.id),t()}catch(R){a("Erro ao excluir: "+R.message,"error")}finally{f(!1)}}},W=((Z=o.find(O=>O.id===S.subscriber_id))==null?void 0:Z.name)||"";return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:e?W?`Editar UC - ${W}`:"Editar UC":"Nova Unidade Consumidora"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:k,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[l.jsx("label",{className:"label",children:"Status da Unidade"}),l.jsx("select",{value:S.status,onChange:O=>C({...S,status:O.target.value}),className:"select",style:{maxWidth:"300px"},children:g.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs(nu,{title:"Vnculos",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"label",children:["Assinante ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsxs("select",{required:!0,value:S.subscriber_id,onChange:O=>C({...S,subscriber_id:O.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.cpf_cnpj,")"]},O.id))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Usina (Opcional)"}),l.jsxs("select",{value:S.usina_id,onChange:O=>C({...S,usina_id:O.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),l.jsxs(nu,{title:"Endereo de Instalao",defaultOpen:!0,children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:S.cep,onChange:T,onBlur:P,placeholder:"00000-000",maxLength:9,className:"input"}),h&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Concessionria (Auto)"}),l.jsx("input",{value:S.concessionaria,onChange:O=>C({...S,concessionaria:O.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:S.rua,onChange:O=>C({...S,rua:O.target.value}),className:"input"})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:S.numero,onChange:O=>C({...S,numero:O.target.value}),className:"input"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:S.bairro,onChange:O=>C({...S,bairro:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:S.complemento,onChange:O=>C({...S,complemento:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:S.cidade,onChange:O=>C({...S,cidade:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:S.uf,onChange:O=>C({...S,uf:O.target.value}),className:"input"})]})]}),l.jsxs(nu,{title:"Dados da Unidade",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"label",children:["Nmero da UC ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsx("input",{required:!0,value:S.numero_uc,onChange:O=>C({...S,numero_uc:O.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),l.jsx("input",{required:!0,value:S.titular_conta,onChange:O=>C({...S,titular_conta:O.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]})]}),l.jsxs(nu,{title:"Dados Tcnicos e Comerciais",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Tipo de Ligao"}),l.jsx("select",{value:S.tipo_ligacao,onChange:O=>C({...S,tipo_ligacao:O.target.value}),className:"select",children:w.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Modalidade"}),l.jsx("select",{value:S.modalidade,onChange:O=>C({...S,modalidade:O.target.value}),className:"select",children:_.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),l.jsx("input",{type:"text",value:S.tarifa_concessionaria,onChange:O=>y("tarifa_concessionaria",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),l.jsx("input",{type:"text",value:S.te,onChange:O=>y("te",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),l.jsx("input",{type:"text",value:S.tusd,onChange:O=>y("tusd",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),l.jsx("input",{type:"text",value:S.fio_b,onChange:O=>y("fio_b",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),l.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[l.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:S.tarifa_minima||"R$ 0,00"}),l.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",S.tipo_ligacao,") x Tarifa."]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),l.jsx("input",{type:"number",step:"0.01",value:S.desconto_assinante,onChange:O=>C({...S,desconto_assinante:O.target.value}),placeholder:"%",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),l.jsx("input",{type:"number",value:S.franquia,onChange:O=>C({...S,franquia:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Dia de Vencimento"}),l.jsx("select",{value:S.dia_vencimento,onChange:O=>C({...S,dia_vencimento:O.target.value}),className:"select",children:j.map(O=>l.jsx("option",{value:O,children:O},O))})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&l.jsx("button",{type:"button",onClick:H,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Salvando...":"Salvar UC"})]})]})]})})}function qy({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=hn(),{profile:o}=Jr(),[s,c]=b.useState([]),[u,d]=b.useState([]),[f,h]=b.useState(!1),[m,p]=b.useState(!1),x=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[y,v]=b.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[g,_]=b.useState(!1),[w,j]=b.useState(!1),[S,C]=b.useState(!1);b.useEffect(()=>{E(),e&&(v({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),A(e.id))},[e]);const E=async()=>{const{data:O}=await B.from("originators_v2").select("id, name").order("name");c(O||[])},A=async O=>{const{data:R}=await B.from("consumer_units").select("*").eq("subscriber_id",O);d(R||[])},T=async()=>{const O=y.cep.replace(/\D/g,"");if(O.length===8){j(!0);try{const R=await Jn(O);v(N=>({...N,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||""}))}catch(R){console.error("Erro ao buscar CEP:",R),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{j(!1)}}},P=async()=>{const O=y.cpf_cnpj.replace(/\D/g,"");if(O.length>=11){C(!0);try{const R=await zy(O);R.nome&&v(N=>({...N,name:R.nome}))}catch(R){console.error("Erro buscar doc",R)}finally{C(!1)}}},k=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${y.name}?`)){h(!0);try{const R=await Lf(e.id,"subscriber");R.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(R.url,"_blank"))}catch(R){console.error(R),a("Erro: "+(R.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{h(!1)}}},H=async O=>{if(O.preventDefault(),!Ff(y.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(y.phone&&!Oi(y.phone)){a("Telefone invlido!","warning");return}_(!0);try{const R=y.cpf_cnpj.replace(/\D/g,"");let N=B.from("subscribers").select("id").eq("cpf_cnpj",y.cpf_cnpj);e!=null&&e.id&&(N=N.neq("id",e.id));const{data:L,error:U}=await N;if(U)throw U;if(L&&L.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");let ae=null,ue=!1;try{const de=await U3({id:e==null?void 0:e.asaas_customer_id,name:y.name,cpfCnpj:y.cpf_cnpj,email:y.email,phone:y.phone,postalCode:y.cep,addressNumber:y.numero,address:y.rua,province:y.bairro});if(!de||!de.success)throw new Error((de==null?void 0:de.error)||"Erro desconhecido");ae=de.asaas_id,ue=!0}catch(de){if(console.error("Asaas Sync Error:",de),!await i(`Falha ao sincronizar com Asaas: ${de.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao")){_(!1);return}}const le={...y};ae&&(le.asaas_customer_id=ae),le.originator_id===""&&(le.originator_id=null);let he;if(e!=null&&e.id?he=await B.from("subscribers").update(le).eq("id",e.id).select().single():he=await B.from("subscribers").insert(le).select().single(),he.error)throw he.error;ue?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let de=null;if(le.status==="ativacao"?de="ativacao":le.status==="ativo"&&(de="ativo"),de&&le.email){const{data:z,error:q}=await B.from("leads").select("id, status").eq("email",le.email).order("created_at",{ascending:!1}).limit(1);if(!q&&z&&z.length>0){const ie=z[0];if(ie.status!==de){const{error:D}=await B.from("leads").update({status:de}).eq("id",ie.id);D?console.error("Error auto-updating lead status:",D):console.log(`Lead ${ie.id} auto-updated to ${de}`)}}}}catch(de){console.error("Lead sync error:",de)}r(he.data),t()}catch(R){console.error(R),a("Erro ao salvar assinante: "+R.message,"error")}finally{_(!1)}},W=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){_(!0);try{const{error:R}=await B.from("subscribers").delete().eq("id",e.id);if(R)throw R;n&&n(e.id),t()}catch(R){a("Erro ao excluir: "+R.message,"error")}finally{_(!1)}}},Z=async O=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:N}=await B.from("consumer_units").update({subscriber_id:null}).eq("id",O);if(N)throw N;A(e.id),a("UC desvinculada com sucesso!","success")}catch(N){console.error(N),a("Erro ao desvincular UC: "+N.message,"error")}};return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),l.jsxs("form",{onSubmit:H,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsx("select",{value:y.status,onChange:O=>v({...y,status:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:x.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),l.jsxs("select",{value:y.originator_id,onChange:O=>v({...y,originator_id:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Selecione..."}),s.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),l.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:l.jsx("input",{value:y.cpf_cnpj,onChange:O=>v({...y,cpf_cnpj:Wf(O.target.value)}),onBlur:P,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:S?"#f0f9ff":"white"},required:!0})})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),l.jsx("input",{required:!0,value:y.name,onChange:O=>v({...y,name:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:y.email,onChange:O=>v({...y,email:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{value:y.phone,onChange:O=>v({...y,phone:Vo(O.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),l.jsx("input",{value:y.cep,onChange:O=>v({...y,cep:O.target.value}),onBlur:T,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:w?"#f0f9ff":"white"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),l.jsx("input",{value:`${y.cidade} - ${y.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:y.rua,onChange:O=>v({...y,rua:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:y.numero,onChange:O=>v({...y,numero:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:y.complemento,onChange:O=>v({...y,complemento:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:y.bairro,onChange:O=>v({...y,bairro:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{children:"Unidades Consumidoras (UCs)"}),(e==null?void 0:e.id)&&l.jsxs("button",{type:"button",onClick:()=>p(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:[l.jsx(uc,{size:16})," Cadastrar UCs"]})]}),l.jsx("div",{style:{gridColumn:"1 / -1"},children:u.length>0?l.jsx("ul",{style:{listStyle:"none",padding:0},children:u.map(O=>{var R;return l.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("span",{children:["UC: ",O.numero_uc," - ",O.concessionaria]}),l.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"#666"},children:(R=O.status)==null?void 0:R.replace("_"," ").toUpperCase()})]}),l.jsx("button",{type:"button",onClick:()=>Z(O.id),style:{padding:"0.3rem",background:"transparent",border:"none",color:"#a1a1aa",cursor:"pointer"},title:"Desvincular UC",children:l.jsx(qf,{size:16})})]},O.id)})}):l.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[l.jsx("div",{children:(e==null?void 0:e.id)&&l.jsx("button",{type:"button",onClick:k,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:f?"Processando...":l.jsxs(l.Fragment,{children:[l.jsx(cc,{size:18})," Emitir Fatura Consolidada"]})})}),l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&l.jsx("button",{type:"button",onClick:W,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:g,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:g?"Salvando...":"Salvar Assinante"})]})]})]})]}),m&&e&&l.jsx(Uy,{consumerUnit:{subscriber_id:e.id},onClose:()=>p(!1),onSave:()=>{A(e.id),p(!1)}})]})}function i8(){const[e]=kO(),{showAlert:t}=hn(),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[o,s]=b.useState(!1),[c,u]=b.useState(null),d=e.get("id");e.get("originador");const[f,h]=b.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[m,p]=b.useState(null),x=async()=>{const C=f.cep.replace(/\D/g,"");if(C.length===8){n(!0);try{const E=await Jn(C);if(h(A=>({...A,street:E.rua,neighborhood:E.bairro,city:E.cidade,uf:E.uf})),E.ibge){const A=await lc(E.ibge);A?(p(A),h(T=>({...T,concessionaria:A.Concessionaria||""}))):(p(null),h(T=>({...T,concessionaria:""})))}}catch(E){console.error("Error fetching CEP:",E)}finally{n(!1)}}},y=()=>{if(!m)return 0;const C=Number(m["Tarifa Concessionaria"])||0;let A=Number(m["Desconto Assinante"])||0;return A>1&&(A=A/100),f.consumo*C*A},v=async C=>{C.preventDefault(),n(!0);try{const E=y(),T=d&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(d)?d:null,P={name:f.name,email:f.email,phone:f.phone,cep:f.cep,concessionaria:f.concessionaria,consumo_kwh:f.consumo,calculated_discount:E,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,tarifa_concessionaria:Number(m==null?void 0:m["Tarifa Concessionaria"])||0,desconto_assinante:Number(m==null?void 0:m["Desconto Assinante"])||0,status:"simulacao",originator_id:T},{data:k,error:H}=await B.from("leads").insert(P).select().single();if(H)throw H;k&&u(k),i(!0)}catch(E){console.error("Error saving lead:",E);const A=E.message||"Erro ao processar simulao. Tente novamente.";t(A,"error")}finally{n(!1)}},g=async C=>{if(c!=null&&c.id)try{const{error:E}=await B.from("leads").update({status:"ativacao"}).eq("id",c.id);E?console.error("Failed to update lead status:",E):console.log("Lead status updated to 'ativacao'")}catch(E){console.error("Error updating lead status:",E)}s(!1)},_=C=>C.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),w={primary:"#003366",accent:"#FF6600"},j={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:w.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:w.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:w.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},S=y();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:j.wrapper,children:[l.jsx("h2",{style:j.header,children:"Saiba o valor do seu desconto"}),l.jsxs("form",{onSubmit:v,style:j.formSpace,children:[l.jsx("div",{style:j.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:j.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:f.cep,onChange:C=>{let E=C.target.value.replace(/\D/g,"");E.length>5&&(E=E.replace(/^(\d{5})(\d)/,"$1-$2")),h({...f,cep:E})},onBlur:x,style:j.input,placeholder:"00000-000",required:!0})]})}),l.jsxs("div",{children:[l.jsx("label",{style:j.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:f.name,onChange:C=>h({...f,name:C.target.value}),style:j.input,placeholder:"Como devemos te chamar?",required:!0})]}),l.jsxs("div",{style:j.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:j.label,children:"E-mail"}),l.jsx("input",{type:"email",value:f.email,onChange:C=>h({...f,email:C.target.value}),style:j.input,placeholder:"exemplo@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:j.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:f.phone,onChange:C=>{let E=C.target.value.replace(/\D/g,"");E=E.replace(/^(\d{2})(\d)/g,"($1) $2"),E=E.replace(/(\d)(\d{4})$/,"$1-$2"),h({...f,phone:E})},style:j.input,placeholder:"(00) 00000-0000",required:!0})]})]}),l.jsxs("div",{style:j.rangeContainer,children:[l.jsxs("div",{style:j.rangeLabelRow,children:[l.jsx("label",{style:j.label,children:"Mdia de Gasto Mensal (kWh)"}),l.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:w.accent},children:[f.consumo," kWh"]})]}),l.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:f.consumo,onChange:C=>h({...f,consumo:Number(C.target.value)}),style:j.rangeInput}),l.jsxs("div",{style:j.rangeTicks,children:[l.jsx("span",{children:"0 kWh"}),l.jsx("span",{children:"10.000+ kWh"})]})]}),l.jsx("button",{type:"submit",disabled:r,style:j.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:l.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),l.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),l.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[l.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.name})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.concessionaria})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),l.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[_((c==null?void 0:c.calculated_discount)||S),l.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),l.jsx("button",{onClick:()=>{i(!1),s(!0)},style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:w.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})}),o&&l.jsx(qy,{subscriber:{name:f.name,email:f.email,phone:f.phone,cep:f.cep,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,status:"ativacao",originator_id:d||""},onClose:()=>s(!1),onSave:g})]})}function o8(){return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(i8,{})})})}function s8(){const{showAlert:e}=hn(),[t,r]=b.useState(!1),[n,a]=b.useState(1),[i,o]=b.useState(null);vf.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[s,c]=b.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[u,d]=b.useState(!1),f=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),m=async()=>{const g=s.cep.replace(/\D/g,"");if(g.length===8){r(!0);try{const _=await Jn(g);c(w=>({...w,street:_.rua,neighborhood:_.bairro,city:_.cidade,uf:_.uf}))}catch(_){console.error("Error fetching CEP:",_)}finally{r(!1)}}},p=async g=>{g.preventDefault(),r(!0);try{const{data:_,error:w}=await B.auth.signUp({email:s.email,password:s.password,options:{data:{name:s.name,phone:s.phone}}});if(w)throw w;_!=null&&_.user&&(o(_.user.id),a(2))}catch(_){console.error("Error signing up:",_),e(_.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},x=async g=>{g.preventDefault(),r(!0);try{const _={id:i,name:s.name,email:s.email,phone:s.phone,cpf_cnpj:s.cpf,pix_key:s.pix_key,pix_key_type:s.pix_key_type,profession:s.profession,address:{cep:s.cep,street:s.street,number:s.number,neighborhood:s.neighborhood,city:s.city,uf:s.uf,complement:s.complement}},{error:w}=await B.from("originators_v2").insert(_);if(w)throw w;a(3)}catch(_){console.error("Error saving profile:",_),e(_.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},y={primary:"#003366",accent:"#FF6600"},v={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:y.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:y.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?l.jsxs("div",{style:v.wrapper,children:[l.jsx("h2",{style:v.header,children:"Seja um Parceiro B2W"}),l.jsxs("form",{onSubmit:p,style:v.formSpace,children:[l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:s.name,onChange:g=>c({...s,name:g.target.value}),style:v.input,required:!0})]}),l.jsxs("div",{style:v.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"E-mail"}),l.jsx("input",{type:"email",value:s.email,onChange:g=>c({...s,email:g.target.value}),style:v.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:s.phone,onChange:g=>{let _=g.target.value.replace(/\D/g,"");_=_.replace(/^(\d{2})(\d)/g,"($1) $2"),_=_.replace(/(\d)(\d{4})$/,"$1-$2"),c({...s,phone:_})},style:v.input,required:!0})]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("label",{style:v.label,children:"Senha"}),l.jsx("input",{type:u?"text":"password",value:s.password,onChange:g=>c({...s,password:g.target.value}),style:{...v.input,paddingRight:"2.5rem"},required:!0,minLength:6}),l.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:u?l.jsx(h,{}):l.jsx(f,{})})]}),l.jsx("button",{type:"submit",disabled:t,style:v.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&l.jsxs("form",{onSubmit:x,style:v.formSpace,children:[l.jsx("h3",{style:{...v.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),l.jsx("div",{style:v.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:v.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:s.cep,onChange:g=>{let _=g.target.value.replace(/\D/g,"");_.length>5&&(_=_.replace(/^(\d{5})(\d)/,"$1-$2")),c({...s,cep:_})},onBlur:m,style:v.input,required:!0})]})}),l.jsxs("div",{style:v.grid,children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:v.label,children:"Rua"}),l.jsx("input",{value:s.street,style:v.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"Bairro"}),l.jsx("input",{value:s.neighborhood,style:v.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"Cidade / UF"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:s.city,style:{...v.input,flex:2},readOnly:!0}),l.jsx("input",{value:s.uf,style:{...v.input,flex:1},readOnly:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"Nmero"}),l.jsx("input",{value:s.number,onChange:g=>c({...s,number:g.target.value}),style:v.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"Complemento"}),l.jsx("input",{value:s.complement,onChange:g=>c({...s,complement:g.target.value}),style:v.input,placeholder:"Ap 101, Bloco B"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"Profisso"}),l.jsx("input",{type:"text",value:s.profession,onChange:g=>c({...s,profession:g.target.value}),style:v.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),l.jsxs("div",{style:v.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"CPF (Chave PIX)"}),l.jsx("input",{type:"text",value:s.cpf,onChange:g=>{let _=g.target.value.replace(/\D/g,"");_.length>11&&(_=_.substring(0,11)),_=_.replace(/(\d{3})(\d)/,"$1.$2"),_=_.replace(/(\d{3})(\d)/,"$1.$2"),_=_.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),c(w=>({...w,cpf:_,pix_key:w.pix_key_type==="cpf"?_:w.pix_key}))},style:v.input,required:!0,placeholder:"000.000.000-00"})]}),l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"Tipo Chave PIX"}),l.jsxs("select",{value:s.pix_key_type,onChange:g=>{const _=g.target.value;c(w=>({...w,pix_key_type:_,pix_key:_==="cpf"?w.cpf:""}))},style:v.input,children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"email",children:"E-mail"}),l.jsx("option",{value:"phone",children:"Telefone"}),l.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),s.pix_key_type!=="cpf"&&l.jsxs("div",{children:[l.jsx("label",{style:v.label,children:"Chave PIX"}),l.jsx("input",{value:s.pix_key,onChange:g=>c({...s,pix_key:g.target.value}),style:v.input,required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:v.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h3",{style:{...v.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),l.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:v.button,children:"Ir para Login"})]})]})})}class l8 extends vf.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?l.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[l.jsx("h2",{children:"Algo deu errado."}),l.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),l.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function c8(){return vf.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(l8,{children:l.jsx(s8,{})})})})}function u8(){const e=fs(),[t,r]=b.useState(!1),[n,a]=b.useState(1),[i,o]=b.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),s=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await zy(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},c=async()=>{if(i.cep.length>=8){r(!0);try{const f=await Jn(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await B.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const p=h.user.id,{error:x}=await B.from("profiles").upsert({id:p,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});x&&console.error("Erro ao criar/atualizar perfil:",x);const{data:y,error:v}=await B.from("subscribers").insert({profile_id:p,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(v)throw v;await B.from("consumer_units").insert({subscriber_id:y.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[l.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&l.jsx("form",{onSubmit:u,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CPF/CNPJ"}),l.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nome Completo"}),l.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Email"}),l.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Senha"}),l.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Telefone"}),l.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&l.jsx("form",{onSubmit:d,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CEP da Unidade Consumidora"}),l.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:c,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Rua"}),l.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),l.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nmero da Instalao (UC)"}),l.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}function WA({user:e,onClose:t,onSave:r}){const[n,a]=b.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=b.useState(!1),[s,c]=b.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};b.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await B.from("profiles").select("id, name, role").neq("id",e.id);if(m){const p=u[h]||99,x=m.filter(y=>(u[y.role]||99)<p);c(x)}},f=async h=>{if(h.preventDefault(),n.phone&&!Oi(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:p}=await B.from("profiles").update(m).eq("id",e.id);if(p)throw p;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:"Editar Usurio"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nome"}),l.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:Vo(h.target.value)}),className:"input"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Funo (Role)"}),l.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[l.jsx("option",{value:"lead",children:"Lead"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Superior Imediato"}),l.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Sem superior"}),s.map(h=>l.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),l.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[l.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function d8(){const{user:e}=Jr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(null),[s,c]=b.useState(""),[u,d]=b.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=y=>f[y]||99;b.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:y,error:v}=await B.from("profiles").select("*").order("name");if(v)throw v;r(y||[])}catch(y){console.error("Error fetching users:",y),alert("Erro ao buscar usurios")}finally{a(!1)}},p=y=>{r(t.map(v=>v.id===y.id?y:v)),alert("Perfil atualizado com sucesso!")},x=t.filter(y=>{var _,w;const v=(((_=y.name)==null?void 0:_.toLowerCase())||"").includes(s.toLowerCase())||(((w=y.email)==null?void 0:w.toLowerCase())||"").includes(s.toLowerCase()),g=u?y.role===u:!0;return v&&g}).sort((y,v)=>h(y.role)-h(v.role));return l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:l.jsx("h2",{children:"Painel Administrativo"})}),l.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[l.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[l.jsx("input",{placeholder:"Buscar por nome ou email...",value:s,onChange:y=>c(y.target.value),className:"input",style:{width:"250px"}}),l.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"select",style:{width:"auto"},children:[l.jsx("option",{value:"",children:"Todos os Perfis"}),l.jsx("option",{value:"super_admin",children:"Super Admin"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?l.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Hierarquia"}),l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Perfil (Role)"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:x.map(y=>{var v,g;return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(y.role)]}),l.jsx("td",{children:y.name||"-"}),l.jsx("td",{children:y.email}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:y.role})}),l.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((v=y.commission_split)==null?void 0:v.start)||0,"% / ",((g=y.commission_split)==null?void 0:g.recorrente)||0,"%"]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>o(y),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})]}),i&&l.jsx(WA,{user:i,onClose:()=>o(null),onSave:p})]})}function FA({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=Jr(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),[o,s]=b.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",iluminacao_publica:"",tarifa_minima:"",outros_lancamentos:"",status:"a_vencer",valor_a_pagar:"",economia_reais:"",consumo_reais:""}),[c,u]=b.useState(null),[d,f]=b.useState(!1),[h,m]=b.useState(!1),p=w=>!w&&w!==0?"R$ 0,00":Number(w).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),x=w=>w?typeof w=="number"?w:Number(w.replace(/\D/g,""))/100:0;b.useEffect(()=>{if(e){if(s({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,iluminacao_publica:e.iluminacao_publica?p(e.iluminacao_publica):"",tarifa_minima:e.tarifa_minima?p(e.tarifa_minima):"",outros_lancamentos:e.outros_lancamentos?p(e.outros_lancamentos):"",valor_a_pagar:p(e.valor_a_pagar),economia_reais:p(e.economia_reais),consumo_reais:e.consumo_reais?p(e.consumo_reais):"",status:e.status}),t){const w=t.find(j=>j.id===e.uc_id);u(w)}}else t&&t.length>0&&(s(w=>({...w,uc_id:t[0].id})),u(t[0]))},[e,t]),b.useEffect(()=>{if(o.uc_id&&t){const w=t.find(j=>j.id===o.uc_id);u(w)}},[o.uc_id,t]),b.useEffect(()=>{if(o.consumo_kwh&&c){const w=Number(o.consumo_kwh);x(String(c.tarifa_concessionaria||"0"));const j=Number(c.tarifa_concessionaria)||0,S=Number(c.desconto_assinante)||0,C=w*j;let E=0;const A=S>1?S/100:S;E=C*A;const T=C-E,P=x(o.iluminacao_publica),k=x(o.tarifa_minima),H=x(o.outros_lancamentos),W=T+P+k+H;s(Z=>({...Z,economia_reais:p(E),consumo_reais:p(T),valor_a_pagar:p(W)}))}},[o.consumo_kwh,o.iluminacao_publica,o.tarifa_minima,o.outros_lancamentos,c]);const y=(w,j)=>{const S=j.replace(/\D/g,""),E=(Number(S)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});s(A=>({...A,[w]:E}))},v=(w,j)=>{const S=o.mes_referencia.split("-");let C=S[0]||new Date().getFullYear(),E=S[1]||"01";w==="month"&&(E=j),w==="year"&&(C=j),s(A=>({...A,mes_referencia:`${C}-${E}`}))},g=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const w=await Lf(e.id);w.url&&(alert("Boleto gerado com sucesso!"),window.open(w.url,"_blank"),n(),r())}catch(w){console.error(w),alert("Erro ao gerar boleto: "+w.message)}finally{m(!1)}}},_=async w=>{w.preventDefault(),f(!0);try{const j={uc_id:o.uc_id,mes_referencia:`${o.mes_referencia}-01`,vencimento:o.vencimento,consumo_kwh:Number(o.consumo_kwh),consumo_reais:x(o.consumo_reais),iluminacao_publica:x(o.iluminacao_publica),tarifa_minima:x(o.tarifa_minima),outros_lancamentos:x(o.outros_lancamentos),valor_a_pagar:x(o.valor_a_pagar),economia_reais:x(o.economia_reais),status:o.status};if(!j.uc_id)throw new Error("Selecione uma Unidade Consumidora.");let S;if(e!=null&&e.id?S=await B.from("invoices").update(j).eq("id",e.id).select().single():S=await B.from("invoices").insert(j).select().single(),S.error)throw S.error;n(),r()}catch(j){alert("Erro ao salvar fatura: "+j.message)}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"800px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Fatura":"Nova Fatura"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Preencha os dados de consumo e valores"})]}),l.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8"},children:""})]}),l.jsxs("form",{onSubmit:_,style:{padding:"1.5rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Unidade Consumidora"}),l.jsxs("select",{required:!0,value:o.uc_id,onChange:w=>s({...o,uc_id:w.target.value}),disabled:!!e,style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"0.95rem",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(w=>l.jsxs("option",{value:w.id,children:[w.numero_uc," - ",w.titular_conta]},w.id))]}),c&&l.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#3b82f6",background:"#eff6ff",padding:"0.5rem",borderRadius:"4px",display:"inline-flex",gap:"1rem"},children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Tarifa:"})," R$ ",Number(c.tarifa_concessionaria||0).toFixed(4)]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Desconto:"})," ",c.desconto_assinante||0,"%"]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Ms Referncia"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("select",{value:o.mes_referencia.split("-")[1],onChange:w=>v("month",w.target.value),style:{flex:1,padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((w,j)=>l.jsx("option",{value:w,children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][j]},w))}),l.jsx("select",{value:o.mes_referencia.split("-")[0],onChange:w=>v("year",w.target.value),style:{width:"80px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:Array.from({length:5},(w,j)=>new Date().getFullYear()-1+j).map(w=>l.jsx("option",{value:w,children:w},w))})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Vencimento"}),l.jsx("input",{type:"date",required:!0,value:o.vencimento,onChange:w=>s({...o,vencimento:w.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),i&&l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status"}),l.jsxs("select",{value:o.status,onChange:w=>s({...o,status:w.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:[l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"pago",children:"Pago"}),l.jsx("option",{value:"atrasado",children:"Atrasado"})]})]})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"1rem 0"}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Ly,{size:18})," Dados de Consumo"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo (kWh)"}),l.jsx("input",{type:"number",step:"any",required:!0,value:o.consumo_kwh,onChange:w=>s({...o,consumo_kwh:w.target.value}),placeholder:"0",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Uf,{size:18})," Valores Adicionais"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Iluminao Pblica (R$)"}),l.jsx("input",{type:"text",value:o.iluminacao_publica,onChange:w=>y("iluminacao_publica",w.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa Mnima (R$)"}),l.jsx("input",{type:"text",value:o.tarifa_minima,onChange:w=>y("tarifa_minima",w.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Outros Lanamentos (R$)"}),l.jsx("input",{type:"text",value:o.outros_lancamentos,onChange:w=>y("outros_lancamentos",w.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),l.jsxs("div",{style:{background:"#f1f5f9",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Y3,{size:18})," Resumo do Clculo"]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Bruto:"}),l.jsxs("span",{style:{fontWeight:600},children:["R$ ",(Number(o.consumo_kwh)*(Number(c==null?void 0:c.tarifa_concessionaria)||0)).toFixed(2).replace(".",",")]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#166534",background:"#dcfce7",padding:"0.5rem",borderRadius:"4px"},children:[l.jsx("span",{children:"Economia Gerada:"}),l.jsxs("span",{style:{fontWeight:"bold"},children:["- ",o.economia_reais||"R$ 0,00"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Lquido (R$):"}),l.jsx("span",{style:{fontWeight:600},children:o.consumo_reais||"R$ 0,00"})]}),l.jsx("div",{style:{height:"1px",background:"#cbd5e1",margin:"0.5rem 0"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Ilum. Pblica:"}),l.jsx("span",{children:o.iluminacao_publica||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Tarifa Mnima:"}),l.jsx("span",{children:o.tarifa_minima||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Outros:"}),l.jsx("span",{children:o.outros_lancamentos||"R$ 0,00"})]}),l.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px dashed #cbd5e1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#64748b",marginBottom:"0.2rem"},children:"Total a Pagar"}),l.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:o.valor_a_pagar||"R$ 0,00"})]})]})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[(e==null?void 0:e.id)&&!e.asaas_boleto_url&&l.jsx("button",{type:"button",onClick:g,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:h?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx(cc,{size:18})," Emitir Boleto Agora"]})}),(e==null?void 0:e.asaas_boleto_url)&&l.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534",fontWeight:"bold",textDecoration:"none"},children:[l.jsx(La,{size:18})," Ver Boleto Emitido"]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function f8(){var j;const{user:e,profile:t}=Jr(),[r,n]=b.useState([]),[a,i]=b.useState([]),[o,s]=b.useState(!0),[c,u]=b.useState(null),[d,f]=b.useState(!1),[h,m]=b.useState(null),[p,x]=b.useState(!1),y=["super_admin","admin","manager"].includes(t==null?void 0:t.role);b.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{s(!0);let S;const{data:C}=await B.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(C){S=C.id,u(C.id);const{data:E}=await B.from("consumer_units").select("*").eq("subscriber_id",S);if(n(E||[]),E&&E.length>0){const A=E.map(P=>P.id),{data:T}=await B.from("invoices").select("*").in("uc_id",A).order("vencimento",{ascending:!1});i(T||[])}}else if(y){const{data:E}=await B.from("consumer_units").select("*");if(n(E||[]),E&&E.length>0){const{data:A}=await B.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(A||[])}}}catch(S){console.error("Error fetching dashboard data:",S)}finally{s(!1)}},g=S=>{const C=a.find(E=>E.id===S.id);i(C?a.map(E=>E.id===S.id?S:E):[S,...a]),alert("Fatura salva com sucesso!")},_=a.reduce((S,C)=>S+(C.economia_reais||0),0),w=a[0];return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Viso Geral do Assinante"}),l.jsx("div",{style:{display:"flex",gap:"1rem"},children:y&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),l.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),l.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",_.toFixed(2)]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:w?`R$ ${(j=w.valor_a_pagar)==null?void 0:j.toFixed(2)}`:"-"}),l.jsx("small",{style:{color:"var(--color-text-light)"},children:w?new Date(w.vencimento).toLocaleDateString():""})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),l.jsx("h3",{children:"Minhas Faturas"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),l.jsx("tbody",{children:a.map(S=>{var C,E;return l.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[l.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(S.vencimento).toLocaleDateString()}),l.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[S.consumo_kwh," kWh"]}),l.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(C=S.valor_a_pagar)==null?void 0:C.toFixed(2)]}),l.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=S.economia_reais)==null?void 0:E.toFixed(2)]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{className:`badge ${S.status==="pago"?"badge-success":"badge-error"}`,children:S.status==="pago"?"Pago":"A Vencer"})}),l.jsx("td",{style:{padding:"1rem"},children:y?l.jsx("button",{onClick:()=>{m(S),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):l.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},S.id)})})]})}),d&&l.jsx(FA,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:g}),p&&l.jsx(Uy,{consumerUnit:{subscriber_id:c},onClose:()=>x(!1),onSave:()=>{v(),x(!1)}})]})}function h8(){const{user:e,profile:t}=Jr(),[r,n]=b.useState([]),[a,i]=b.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;b.useEffect(()=>{async function u(){const{data:d}=await B.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await B.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await B.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&u()},[e]);const s=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},c=async u=>{var h;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await B.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:p}=await B.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(p)throw p;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await B.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Originador"}),l.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[l.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[l.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),l.jsx("button",{onClick:s,className:"btn btn-accent",children:"Copiar"})]})]}),l.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data"})]})}),l.jsxs("tbody",{children:[r.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.name}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:u.status})}),l.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),l.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Faturas Proc."}),l.jsx("th",{children:"Valor (R$)"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data Pagt."}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:a.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),l.jsx("td",{children:u.total_invoices}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("td",{children:l.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),l.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),l.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&l.jsx("button",{onClick:()=>c(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function m8(){const{user:e}=Jr(),[t,r]=b.useState([]);return b.useEffect(()=>{async function n(){const{data:a}=await B.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await B.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Fornecedor"}),l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[l.jsx("h3",{children:"Minhas Usinas"}),l.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),l.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>l.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[l.jsx("h4",{children:n.name}),l.jsxs("p",{children:["Status: ",l.jsx("strong",{children:n.status})]}),l.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function p8({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=Jr(),[o,s]=b.useState([]),c=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[u,d]=b.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=b.useState(!1),[m,p]=b.useState(!1);b.useEffect(()=>{x(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(_=>({..._,originator_id:i.id}))},[e,i]);const x=async()=>{const{data:_}=await B.from("originators_v2").select("id, name").order("name");s(_||[])},y=async()=>{const _=u.cep.replace(/\D/g,"");if(_.length===8){p(!0);try{const w=await Jn(_);let j={};if(w.ibge)try{const S=await lc(w.ibge);S&&(j=S)}catch(S){console.error("Erro na oferta",S)}d(S=>({...S,rua:w.rua||"",bairro:w.bairro||"",cidade:w.cidade||"",uf:w.uf||"",concessionaria:(j==null?void 0:j.Concessionaria)||S.concessionaria||"",tarifa_concessionaria:(j==null?void 0:j["Tarifa Concessionaria"])||S.tarifa_concessionaria||"",desconto_assinante:(j==null?void 0:j["Desconto Assinante"])||S.desconto_assinante||""}))}catch(w){console.error("Erro ao buscar CEP:",w),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{p(!1)}}},v=async _=>{if(_.preventDefault(),u.phone&&!Oi(u.phone)){alert("Telefone invlido!");return}h(!0);try{const w={...u};w.tarifa_concessionaria=w.tarifa_concessionaria?Number(w.tarifa_concessionaria):null,w.consumo_kwh=w.consumo_kwh?Number(w.consumo_kwh):null,w.desconto_assinante=w.desconto_assinante?Number(w.desconto_assinante):null,w.originator_id===""&&(w.originator_id=null);let j;if(e!=null&&e.id?j=await B.from("leads").update(w).eq("id",e.id).select().single():j=await B.from("leads").insert(w).select().single(),j.error)throw j.error;r(j.data),t()}catch(w){alert("Erro ao salvar lead: "+w.message)}finally{h(!1)}},g=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:_}=await B.from("leads").delete().eq("id",e.id);if(_)throw _;n&&n(e.id),t()}catch(_){alert("Erro ao excluir lead: "+_.message)}finally{h(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),l.jsxs("form",{onSubmit:v,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsx("select",{value:u.status,onChange:_=>d({...u,status:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:c.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),l.jsxs("select",{value:u.originator_id,onChange:_=>d({...u,originator_id:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),l.jsx("input",{required:!0,value:u.name,onChange:_=>d({...u,name:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:u.phone,onChange:_=>d({...u,phone:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:u.email,onChange:_=>d({...u,email:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),l.jsx("input",{placeholder:"00000-000",value:u.cep,onChange:_=>d({...u,cep:_.target.value}),onBlur:y,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),l.jsx("input",{value:`${u.cidade} - ${u.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:u.rua,onChange:_=>d({...u,rua:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:u.numero,onChange:_=>d({...u,numero:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:u.complemento,onChange:_=>d({...u,complemento:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:u.bairro,onChange:_=>d({...u,bairro:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),l.jsx("input",{type:"number",value:u.consumo_kwh,onChange:_=>d({...u,consumo_kwh:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),l.jsx("input",{value:u.concessionaria,onChange:_=>d({...u,concessionaria:_.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),l.jsx("input",{type:"number",step:"0.0001",value:u.tarifa_concessionaria,onChange:_=>d({...u,tarifa_concessionaria:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),l.jsx("input",{type:"number",step:"0.01",value:u.desconto_assinante,onChange:_=>d({...u,desconto_assinante:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),l.jsx("input",{value:(()=>{const _=Number(u.consumo_kwh)||0,w=Number(u.tarifa_concessionaria)||0,j=Number(u.desconto_assinante)||0;if(_&&w&&j){const C=_*w*(j/100);return isNaN(C)?"R$ 0,00":C.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:g,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&l.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function g8(){const{profile:e}=Jr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(!1),[s,c]=b.useState(!1),[u,d]=b.useState(null),[f,h]=b.useState(null),[m,p]=b.useState("list"),[x,y]=b.useState(""),v=t.filter(E=>{var T,P,k;if(!x)return!0;const A=x.toLowerCase();return((T=E.name)==null?void 0:T.toLowerCase().includes(A))||((P=E.email)==null?void 0:P.toLowerCase().includes(A))||((k=E.phone)==null?void 0:k.includes(A))});b.useEffect(()=>{g()},[]);const g=async()=>{a(!0);try{const{data:E,error:A}=await B.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(A)throw A;r(E||[])}catch(E){console.error("Error fetching leads:",E)}finally{a(!1)}},_=E=>{t.find(T=>T.id===E.id)?(r(t.map(T=>T.id===E.id?{...T,...E}:T)),g()):(r([E,...t]),g())},w=E=>{r(t.filter(A=>A.id!==E))},j=E=>{h(E),c(!0)},S=async E=>{try{await B.from("leads").update({status:"em_negociacao"}).eq("id",f.id),g(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(A){console.error("Erro ao atualizar status do lead",A)}},C={simulacao:"#64748b",indicado:"#0ea5e9",em_negociacao:"#eab308",ativo:"#22c55e",negocio_perdido:"#ef4444",pago:"#8b5cf6"};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Leads"}),l.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:x,onChange:E=>y(E.target.value),className:"input",style:{maxWidth:"350px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>p("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>p("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:m==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:v.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Originador"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:v.map(E=>{var A;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:E.name}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:E.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:E.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:E.status==="simulacao"?"#f1f5f9":E.status==="em_negociacao"?"#fef9c3":E.status==="ativo"?"#dcfce7":"#f1f5f9",color:E.status==="simulacao"?"#64748b":E.status==="em_negociacao"?"#a16207":E.status==="ativo"?"#166534":"#64748b"},children:E.status.toUpperCase().replace("_"," ")})}),l.jsx("td",{children:((A=E.originator)==null?void 0:A.name)||"-"}),l.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>{d(E),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),E.status!=="convertido"&&l.jsx("button",{onClick:()=>j(E),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},E.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["simulacao","indicado","em_negociacao","ativo","negocio_perdido","pago"].map(E=>{const A=v.filter(P=>P.status===E),T=C[E]||"#64748b";return l.jsxs("div",{style:{minWidth:"280px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${T}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:T},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:E.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:T,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:A.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:A.map(P=>{var k,H;return l.jsxs("div",{onClick:()=>{d(P),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:W=>W.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:W=>W.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:P.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:P.phone}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[l.jsx("span",{children:(H=(k=P.originator)==null?void 0:k.name)==null?void 0:H.split(" ")[0]}),l.jsx("span",{children:new Date(P.created_at).toLocaleDateString()})]})]},P.id)})})]},E)})})}),i&&l.jsx(p8,{lead:u,onClose:()=>o(!1),onSave:_,onDelete:w,onConvert:j}),s&&l.jsx(qy,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>c(!1),onSave:S})]})}function v8(){const{profile:e}=Jr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(!1),[s,c]=b.useState(null),[u,d]=b.useState("list"),[f,h]=b.useState(""),[m,p]=b.useState(null),x=t.filter(j=>{var C,E,A,T;if(!f)return!0;const S=f.toLowerCase();return((C=j.name)==null?void 0:C.toLowerCase().includes(S))||((E=j.email)==null?void 0:E.toLowerCase().includes(S))||((A=j.phone)==null?void 0:A.includes(S))||((T=j.cpf_cnpj)==null?void 0:T.includes(S))});b.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const{data:j,error:S}=await B.from("subscribers").select("*").order("created_at",{ascending:!1});if(S)throw S;r(j||[])}catch(j){console.error("Error fetching subscribers:",j)}finally{a(!1)}},v=j=>{const S=t.find(C=>C.id===j.id);r(S?t.map(C=>C.id===j.id?{...C,...j}:C):[j,...t])},g=async j=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${j.name}?`)){p(j.id);try{const S=await Lf(j.id,"subscriber");S.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(S.url,"_blank"))}catch(S){console.error(S),alert("Erro: "+(S.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{p(null)}}},_={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},w=j=>{r(t.filter(S=>S.id!==j))};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Assinantes"}),l.jsx("button",{onClick:()=>{c(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:j=>h(j.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),l.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:u==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:x.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),l.jsx("tbody",{children:x.map(j=>{var S,C,E,A,T;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold"},children:j.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.cpf_cnpj})]}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:j.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.phone})]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(S=j.status)!=null&&S.includes("ativo")?"#dcfce7":(C=j.status)!=null&&C.includes("cancelado")?"#fee2e2":"#dbeafe",color:(E=j.status)!=null&&E.includes("ativo")?"#166534":(A=j.status)!=null&&A.includes("cancelado")?"#dc2626":"#1e40af"},children:(T=j.status)==null?void 0:T.toUpperCase().replace("_"," ")})}),l.jsx("td",{style:{padding:"1rem"},children:j.cidade?`${j.cidade}/${j.uf}`:"-"}),l.jsx("td",{style:{padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>g(j),disabled:m===j.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===j.id?"...":l.jsx(cc,{size:14})}),l.jsx("button",{onClick:()=>{c(j),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},j.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(j=>{const S=x.filter(E=>E.status===j),C=_[j]||"#64748b";return l.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${C}`},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:C},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:j.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:C,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:S.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:S.map(E=>l.jsxs("div",{onClick:()=>{c(E),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:A=>A.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:A=>A.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:E.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.cpf_cnpj}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.email}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[l.jsx("span",{children:E.cidade}),l.jsx("span",{children:new Date(E.created_at).toLocaleDateString()})]})]},E.id))})]},j)})})}),i&&l.jsx(qy,{subscriber:s,onClose:()=>o(!1),onSave:v,onDelete:w})]})}function y8({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=b.useState(!1),[o,s]=b.useState(!1),[c,u]=b.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});b.useEffect(()=>{var p,x,y,v,g,_,w,j,S;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((p=e.split_commission)==null?void 0:p.start)||0,split_recurrent:((x=e.split_commission)==null?void 0:x.recurrent)||0,cep:((y=e.address)==null?void 0:y.cep)||"",rua:((v=e.address)==null?void 0:v.rua)||"",numero:((g=e.address)==null?void 0:g.numero)||"",complemento:((_=e.address)==null?void 0:_.complemento)||"",bairro:((w=e.address)==null?void 0:w.bairro)||"",cidade:((j=e.address)==null?void 0:j.cidade)||"",uf:((S=e.address)==null?void 0:S.uf)||""})},[e]);const d=async()=>{const p=c.cep.replace(/\D/g,"");if(p.length===8){s(!0);try{const x=await Jn(p);u(y=>({...y,rua:x.rua||"",bairro:x.bairro||"",cidade:x.cidade||"",uf:x.uf||""}))}catch(x){console.error("Erro CEP",x),alert("Erro ao buscar CEP")}finally{s(!1)}}};b.useEffect(()=>{if(c.pix_key_type==="aleatoria")return;let p="";c.pix_key_type==="cpf"||c.pix_key_type==="cnpj"?p=c.cpf_cnpj:c.pix_key_type==="email"?p=c.email:c.pix_key_type==="telefone"&&(p=c.phone),p!==c.pix_key&&u(x=>({...x,pix_key:p}))},[c.pix_key_type,c.cpf_cnpj,c.email,c.phone]);const f=async p=>{if(p.preventDefault(),!Ff(c.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!Oi(c.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const x={name:c.name,cpf_cnpj:c.cpf_cnpj,email:c.email,phone:c.phone,pix_key:c.pix_key,pix_key_type:c.pix_key_type,split_commission:{start:Number(c.split_start)||0,recurrent:Number(c.split_recurrent)||0},address:{cep:c.cep,rua:c.rua,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cidade:c.cidade,uf:c.uf}};try{let y;if(e!=null&&e.id?y=await B.from("originators_v2").update(x).eq("id",e.id).select().single():y=await B.from("originators_v2").insert(x).select().single(),y.error)throw y.error;r(y.data),t()}catch(y){alert("Erro ao salvar originador: "+y.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:p}=await B.from("originators_v2").delete().eq("id",e.id);if(p)throw p;n&&n(e.id),t()}catch(p){alert("Erro ao excluir: "+p.message)}finally{i(!1)}}},m=e?`${window.location.origin}/originador?id=${e.id}`:"Salver para gerar URL";return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[l.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:`${window.location.origin}/originador?id=${e.id}`,readOnly:!0,className:"input",style:{color:"#0284c7"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/originador?id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),l.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),l.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[l.jsx("label",{className:"label",children:"Nome Completo"}),l.jsx("input",{value:c.name,onChange:p=>u({...c,name:p.target.value}),className:"input",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CPF/CNPJ"}),l.jsx("input",{value:c.cpf_cnpj,onChange:p=>u({...c,cpf_cnpj:Wf(p.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Email"}),l.jsx("input",{type:"email",value:c.email,onChange:p=>u({...c,email:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:c.phone,onChange:p=>u({...c,phone:Vo(p.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Tipo Chave PIX"}),l.jsxs("select",{value:c.pix_key_type,onChange:p=>u({...c,pix_key_type:p.target.value}),className:"select",children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Chave PIX"}),l.jsx("input",{value:c.pix_key,onChange:p=>u({...c,pix_key:p.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:c.cep,onChange:p=>u({...c,cep:p.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:c.rua,onChange:p=>u({...c,rua:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:c.numero,onChange:p=>u({...c,numero:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:c.complemento,onChange:p=>u({...c,complemento:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:c.bairro,onChange:p=>u({...c,bairro:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:c.cidade,onChange:p=>u({...c,cidade:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:c.uf,onChange:p=>u({...c,uf:p.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_start,onChange:p=>u({...c,split_start:p.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_recurrent,onChange:p=>u({...c,split_recurrent:p.target.value}),className:"input"})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[l.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&l.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function b8(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(""),[o,s]=b.useState(!1),[c,u]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:g,error:_}=await B.from("originators_v2").select("*").order("name");_?console.error("Error fetching originators:",_):t(g||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const g=new Date().toISOString().split("T")[0],{data:_,error:w}=await B.rpc("generate_monthly_commissions",{target_date:g});if(w)throw w;alert(`Processamento concludo!
Faturas processadas: ${_.invoices_processed}
Valor total gerado: R$ ${_.total_commission_value}`)}catch(g){console.error("Error processing commissions:",g),alert("Erro ao processar comisses: "+(g.message||"Erro desconhecido"))}finally{n(!1)}}},h=g=>{u(g),s(!0)},m=()=>{u(null),s(!0)},p=g=>{d()},x=g=>{d()},y=g=>{const _=`${window.location.origin}/clientes?id=${g}`;navigator.clipboard.writeText(_),alert("Link copiado: "+_)},v=e.filter(g=>{var _,w;return((_=g.name)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))||((w=g.email)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))});return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:"Gesto de Originadores"}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),l.jsxs("button",{onClick:m,className:"btn btn-accent",children:[l.jsx(uc,{size:18})," Novo Originador"]})]})]}),l.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[l.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:g=>i(g.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),l.jsx(Iy,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Chave PIX"}),l.jsx("th",{children:"Link"}),l.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),l.jsx("tbody",{children:v.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):v.map(g=>{var _,w;return l.jsxs("tr",{children:[l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:g.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:g.cpf_cnpj})]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:g.email}),l.jsx("div",{style:{fontSize:"0.9rem"},children:g.phone})]}),l.jsx("td",{children:l.jsxs("span",{className:"badge badge-success",children:[((_=g.split_commission)==null?void 0:_.start)||0,"% / ",((w=g.split_commission)==null?void 0:w.recurrent)||0,"%"]})}),l.jsx("td",{style:{fontSize:"0.9rem"},children:g.pix_key||"-"}),l.jsx("td",{children:l.jsx("button",{onClick:()=>y(g.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:l.jsx(p6,{size:16,color:"var(--color-blue)"})})}),l.jsx("td",{style:{textAlign:"right"},children:l.jsx("button",{onClick:()=>h(g),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:l.jsx(G6,{size:18})})})]},g.id)})})]})})}),o&&l.jsx(y8,{originator:c,onClose:()=>s(!1),onSave:p,onDelete:x})]})}function x8({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=hn(),[o,s]=b.useState(!1),[c,u]=b.useState([]),[d,f]=b.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});b.useEffect(()=>{var v,g,_,w,j,S,C,E,A;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((v=e.address)==null?void 0:v.cep)||"",rua:((g=e.address)==null?void 0:g.logradouro)||((_=e.address)==null?void 0:_.rua)||"",numero:((w=e.address)==null?void 0:w.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((S=e.address)==null?void 0:S.bairro)||"",cidade:((C=e.address)==null?void 0:C.municipio)||((E=e.address)==null?void 0:E.cidade)||"",uf:((A=e.address)==null?void 0:A.uf)||""}),h(e.id))},[e]);const h=async v=>{const{data:g}=await B.from("usinas").select("id, name, status").eq("supplier_id",v);u(g||[])},m=async()=>{const v=d.cnpj.replace(/\D/g,"");if(v.length===14){s(!0);try{const g=await zy(v);g&&f(_=>{var w,j,S,C,E,A,T,P,k;return{..._,name:g.nome||_.name,email:g.email||_.email,phone:g.telefone||_.phone,legal_partner_name:((w=g.legal_partner)==null?void 0:w.nome)||_.legal_partner_name,legal_partner_cpf:((j=g.legal_partner)==null?void 0:j.cpf)||_.legal_partner_cpf,cep:((S=g.address)==null?void 0:S.cep)||_.cep,rua:((C=g.address)==null?void 0:C.logradouro)||_.rua,numero:((E=g.address)==null?void 0:E.numero)||_.numero,complemento:((A=g.address)==null?void 0:A.complemento)||_.complemento,bairro:((T=g.address)==null?void 0:T.bairro)||_.bairro,cidade:((P=g.address)==null?void 0:P.municipio)||_.cidade,uf:((k=g.address)==null?void 0:k.uf)||_.uf}})}catch(g){console.error("Erro CNPJ",g),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{s(!1)}}},p=v=>{const g=v.target.value;let _=d.pix_key;switch(g){case"telefone":_=d.phone;break;case"email":_=d.email;break;case"cnpj":_=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(_=d.legal_partner_cpf);break}f(w=>({...w,pix_key_type:g,pix_key:_}))},x=async v=>{if(v.preventDefault(),d.cnpj&&!Ff(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!Oi(d.phone)){a("Telefone invlido!","warning");return}s(!0);try{console.log("Submitting payload:",d);const g={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",g);let _;if(e!=null&&e.id?_=await B.from("suppliers").update(g).eq("id",e.id).select().single():_=await B.from("suppliers").insert(g).select().single(),console.log("Supabase result:",_),_.error)throw _.error;r(_.data),t()}catch(g){console.error("Save error details:",g);const _=g.message||JSON.stringify(g);_.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await B.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+_,"error")}finally{s(!1)}},y=async()=>{if(c.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){s(!0);try{const{error:g}=await B.from("suppliers").delete().eq("id",e.id);if(g)throw g;n&&n(e.id),t()}catch(g){a("Erro ao excluir: "+g.message,"error")}finally{s(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),l.jsxs("form",{onSubmit:x,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),l.jsx("input",{value:d.cnpj,onChange:v=>f({...d,cnpj:v.target.value}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),l.jsx("input",{required:!0,value:d.name,onChange:v=>f({...d,name:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),l.jsx("input",{value:d.legal_partner_name,onChange:v=>f({...d,legal_partner_name:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),l.jsx("input",{value:d.legal_partner_cpf,onChange:v=>f({...d,legal_partner_cpf:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),l.jsx("input",{value:d.cnpj,onChange:v=>f({...d,cnpj:Wf(v.target.value)}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{value:d.phone,onChange:v=>f({...d,phone:Vo(v.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:d.email,onChange:v=>f({...d,email:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),l.jsxs("select",{value:d.pix_key_type,onChange:p,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),l.jsx("input",{value:d.pix_key,onChange:v=>f({...d,pix_key:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:v=>f({...d,status:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"ativacao",children:"Em Ativao"}),l.jsx("option",{value:"ativo",children:"Ativo"}),l.jsx("option",{value:"inativo",children:"Inativo"})]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),l.jsx("input",{value:d.cep,onChange:v=>f({...d,cep:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:d.rua,onChange:v=>f({...d,rua:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:d.numero,onChange:v=>f({...d,numero:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:d.complemento,onChange:v=>f({...d,complemento:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:d.bairro,onChange:v=>f({...d,bairro:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:d.cidade,onChange:v=>f({...d,cidade:v.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsx("input",{value:d.uf,onChange:v=>f({...d,uf:v.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&c.length>0&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),l.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:c.map(v=>l.jsxs("li",{children:[v.name," - ",l.jsx("span",{style:{opacity:.7},children:v.status})]},v.id))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:y,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function _8(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(!1),[o,s]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const{data:f,error:h}=await B.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{c(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Fornecedores (Geradores)"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:e.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome/Razo Social"}),l.jsx("th",{children:"CNPJ"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(f=>{var h;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:f.name}),l.jsx("td",{children:f.cnpj}),l.jsxs("td",{children:[l.jsx("div",{children:f.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{s(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&l.jsx(x8,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function VA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=VA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=VA(e))&&(n&&(n+=" "),n+=t);return n}var w8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Hy(e){if(typeof e!="string")return!1;var t=w8;return t.includes(e)}var j8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],S8=new Set(j8);function GA(e){return typeof e!="string"?!1:S8.has(e)}function KA(e){return typeof e=="string"&&e.startsWith("data-")}function Un(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GA(r)||KA(r))&&(t[r]=e[r]);return t}function Wy(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Un(t)}return typeof e=="object"&&!Array.isArray(e)?Un(e):null}function Nr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GA(r)||KA(r)||Hy(r))&&(t[r]=e[r]);return t}var C8=["children","width","height","viewBox","className","style","title","desc"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(null,arguments)}function E8(e,t){if(e==null)return{};var r,n,a=O8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YA=b.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:s,title:c,desc:u}=e,d=E8(e,C8),f=i||{width:n,height:a,x:0,y:0},h=De("recharts-surface",o);return b.createElement("svg",Cg({},Nr(d),{className:h,width:n,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,c),b.createElement("desc",null,u),r)}),A8=["children","className"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(null,arguments)}function k8(e,t){if(e==null)return{};var r,n,a=T8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qn=b.forwardRef((e,t)=>{var{children:r,className:n}=e,a=k8(e,A8),i=De("recharts-layer",n);return b.createElement("g",Eg({className:i},Nr(a),{ref:t}),r)}),R8=b.createContext(null);function Ae(e){return function(){return e}}const XA=Math.cos,wd=Math.sin,Qr=Math.sqrt,jd=Math.PI,Vf=2*jd,Og=Math.PI,Ag=2*Og,ni=1e-6,P8=Ag-ni;function ZA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function N8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class M8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZA:N8(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,u=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ni)if(!(Math.abs(f*c-u*d)>ni)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-s,x=c*c+u*u,y=m*m+p*p,v=Math.sqrt(x),g=Math.sqrt(h),_=i*Math.tan((Og-Math.acos((x+h-y)/(2*v*g)))/2),w=_/g,j=_/v;Math.abs(w-1)>ni&&this._append`L${t+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),u=t+s,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ni||Math.abs(this._y1-d)>ni)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ag+Ag),h>P8?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ni&&this._append`A${n},${n},0,${+(h>=Og)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Fy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new M8(t)}function Vy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JA(e){this._context=e}JA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gf(e){return new JA(e)}function QA(e){return e[0]}function e2(e){return e[1]}function t2(e,t){var r=Ae(!0),n=null,a=Gf,i=null,o=Fy(s);e=typeof e=="function"?e:e===void 0?QA:Ae(e),t=typeof t=="function"?t:t===void 0?e2:Ae(t);function s(c){var u,d=(c=Vy(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ae(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ae(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ae(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function au(e,t,r){var n=null,a=Ae(!0),i=null,o=Gf,s=null,c=Fy(u);e=typeof e=="function"?e:e===void 0?QA:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?e2:Ae(+r);function u(f){var h,m,p,x=(f=Vy(f)).length,y,v=!1,g,_=new Array(x),w=new Array(x);for(i==null&&(s=o(g=c())),h=0;h<=x;++h){if(!(h<x&&a(y=f[h],h,f))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=m;--p)s.point(_[p],w[p]);s.lineEnd(),s.areaEnd()}v&&(_[h]=+e(y,h,f),w[h]=+t(y,h,f),s.point(n?+n(y,h,f):_[h],r?+r(y,h,f):w[h]))}if(g)return s=null,g+""||null}function d(){return t2().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ae(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class r2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function D8(e){return new r2(e,!0)}function z8(e){return new r2(e,!1)}const Gy={draw(e,t){const r=Qr(t/jd);e.moveTo(r,0),e.arc(0,0,r,0,Vf)}},B8={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},n2=Qr(1/3),I8=n2*2,$8={draw(e,t){const r=Qr(t/I8),n=r*n2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},L8={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},U8=.8908130915292852,a2=wd(jd/10)/wd(7*jd/10),q8=wd(Vf/10)*a2,H8=-XA(Vf/10)*a2,W8={draw(e,t){const r=Qr(t*U8),n=q8*r,a=H8*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Vf*i/5,s=XA(o),c=wd(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},Hm=Qr(3),F8={draw(e,t){const r=-Qr(t/(Hm*3));e.moveTo(0,r*2),e.lineTo(-Hm*r,-r),e.lineTo(Hm*r,-r),e.closePath()}},br=-.5,xr=Qr(3)/2,kg=1/Qr(12),V8=(kg/2+1)*3,G8={draw(e,t){const r=Qr(t/V8),n=r/2,a=r*kg,i=n,o=r*kg+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(br*n-xr*a,xr*n+br*a),e.lineTo(br*i-xr*o,xr*i+br*o),e.lineTo(br*s-xr*c,xr*s+br*c),e.lineTo(br*n+xr*a,br*a-xr*n),e.lineTo(br*i+xr*o,br*o-xr*i),e.lineTo(br*s+xr*c,br*c-xr*s),e.closePath()}};function K8(e,t){let r=null,n=Fy(a);e=typeof e=="function"?e:Ae(e||Gy),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Sd(){}function Cd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function i2(e){this._context=e}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y8(e){return new i2(e)}function o2(e){this._context=e}o2.prototype={areaStart:Sd,areaEnd:Sd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X8(e){return new o2(e)}function s2(e){this._context=e}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z8(e){return new s2(e)}function l2(e){this._context=e}l2.prototype={areaStart:Sd,areaEnd:Sd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function J8(e){return new l2(e)}function H1(e){return e<0?-1:1}function W1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(H1(i)+H1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function F1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Ed(e){this._context=e}Ed.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wm(this,this._t0,F1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wm(this,F1(this,r=W1(this,e,t)),r);break;default:Wm(this,this._t0,r=W1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function c2(e){this._context=new u2(e)}(c2.prototype=Object.create(Ed.prototype)).point=function(e,t){Ed.prototype.point.call(this,t,e)};function u2(e){this._context=e}u2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Q8(e){return new Ed(e)}function eB(e){return new c2(e)}function d2(e){this._context=e}d2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=V1(e),a=V1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function V1(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function tB(e){return new d2(e)}function Kf(e,t){this._context=e,this._t=t}Kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rB(e){return new Kf(e,.5)}function nB(e){return new Kf(e,0)}function aB(e){return new Kf(e,1)}function Ai(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Tg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function iB(e,t){return e[t]}function oB(e){const t=[];return t.key=e,t}function sB(){var e=Ae([]),t=Tg,r=Ai,n=iB;function a(i){var o=Array.from(e.apply(this,arguments),oB),s,c=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=Vy(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Tg:typeof i=="function"?i:Ae(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ai,a):r},a}function lB(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Ai(e,t)}}function cB(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ai(e,t)}}function uB(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<s;++p){var x=e[t[p]],y=x[n][1]||0,v=x[n-1][1]||0;m+=y-v}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ai(e,t)}}var Yf={},f2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(f2);var Ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ky);var Xf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Xf);var Zf={},h2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(h2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h2,r=Xf;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,c+=a[s]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,s++}return c&&i.push(c),i}e.toPath=n})(Zf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f2,r=Ky,n=Xf,a=Zf;function i(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?r.isDeepKey(c)?i(s,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?u:d}}}function o(s,c,u){if(c.length===0)return u;let d=s;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Yf);var dB=Yf.get;const Go=Xn(dB);var fB=4;function Ca(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fB,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function qe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var s=r[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Ca(s)+i:a+i},"")}var Vt=e=>e===0?0:e>0?1:-1,Kr=e=>typeof e=="number"&&e!=+e,Hn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,G=e=>(typeof e=="number"||e instanceof Number)&&!Kr(e),ln=e=>G(e)||typeof e=="string",hB=0,Pl=e=>{var t=++hB;return"".concat(e||"").concat(t)},Yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!G(t)&&typeof t!="string")return n;var i;if(Hn(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Kr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},m2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function wt(e,t,r){return G(e)&&G(t)?Ca(e+r*(t-e)):t}function mB(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Go(n,t))===r)}var gt=e=>e===null||typeof e>"u",dc=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function pB(e){return e!=null}function fc(){}var gB=["type","size","sizeType"];function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(null,arguments)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){vB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vB(e,t,r){return(t=yB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=bB(e,"string");return typeof t=="symbol"?t:t+""}function bB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xB(e,t){if(e==null)return{};var r,n,a=_B(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _B(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p2={symbolCircle:Gy,symbolCross:B8,symbolDiamond:$8,symbolSquare:L8,symbolStar:W8,symbolTriangle:F8,symbolWye:G8},wB=Math.PI/180,jB=e=>{var t="symbol".concat(dc(e));return p2[t]||Gy},SB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*wB;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},CB=(e,t)=>{p2["symbol".concat(dc(e))]=t},g2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=xB(e,gB),i=K1(K1({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=jB(o),m=K8().type(h).size(SB(r,n,o)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=i,f=Nr(i);return G(u)&&G(d)&&G(r)?b.createElement("path",Rg({},f,{className:De("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};g2.registerSymbol=CB;var v2=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,EB=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Hy(a)&&(n[a]=i=>r[a](r,i))}),n},OB=(e,t,r)=>n=>(e(t,r,n),null),Yy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Hy(a)&&typeof i=="function"&&(n||(n={}),n[a]=OB(i,t,r))}),n};function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){kB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kB(e,t,r){return(t=TB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TB(e){var t=RB(e,"string");return typeof t=="symbol"?t:t+""}function RB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=AB({},e),n=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return i}var y2={},b2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],s=n(o,i,r);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(b2);var x2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(x2);var Xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Xy);var _2={},Jf={},w2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(w2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Jf);var j2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(j2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jf,r=j2;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(_2);var S2={},C2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(C2);var E2={},Zy={},O2={},Jy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Jy);var Qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Qy);var e0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(e0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy,r=Qy,n=e0;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(p,x,y,v,g,_){const w=h(p,x,y,v,g,_);return w!==void 0?!!w:i(p,x,m,_)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return s(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null||r.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<p.length;x++){const y=p[x];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const y=d.get(p);if(h(y,x,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const y=f[x];let v=!1;for(let g=0;g<d.length;g++){if(p.has(g))continue;const _=d[g];let w=!1;if(h(_,y,x,d,f,m)&&(w=!0),w){p.add(g),v=!0;break}}if(!v)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(O2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O2;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Zy);var A2={},t0={},k2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(k2);var Qf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Qf);var r0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",g="[object Uint16Array]",_="[object Uint32Array]",w="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",E="[object BigInt64Array]",A="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=w,e.booleanTag=a,e.dataViewTag=x,e.dateTag=s,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=C,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=g,e.uint32ArrayTag=_,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(r0);var T2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(T2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k2,r=Qf,n=r0,a=Qy,i=T2;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=s(d[v],v,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[v,g]of d)y.set(v,s(g,v,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const v of d)y.add(s(v,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=s(d[v],v,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),c(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),c(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),c(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),c(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),c(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),c(y,d,h,m,p),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),c(y,d,h,m,p),y}return d}function c(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<x.length;y++){const v=x[y],g=Object.getOwnPropertyDescriptor(d,v);(g==null||g.writable)&&(d[v]=s(f[v],v,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(t0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(A2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy,r=A2;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(E2);var R2={},P2={},N2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t0,r=Qf,n=r0;function a(i,o){return t.cloneDeepWith(i,(s,c,u,d)=>{const f=o==null?void 0:o(s,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(N2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(P2);var M2={},n0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(n0);var D2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(D2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=n0,n=D2,a=Zf;function i(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?c=a.toPath(s):c=[s],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(M2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy,r=Xf,n=P2,a=Yf,i=M2;function o(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(R2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xy,r=C2,n=E2,a=R2;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(S2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b2,r=x2,n=Xy,a=_2,i=S2;function o(s,c=n.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(y2);var PB=y2.uniqBy;const X1=Xn(PB);function NB(e,t,r){return t===!0?X1(e,r):typeof t=="function"?X1(e,t):e}var z2={exports:{}},B2={},I2={exports:{}},$2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=b;function MB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DB=typeof Object.is=="function"?Object.is:MB,zB=Ko.useState,BB=Ko.useEffect,IB=Ko.useLayoutEffect,$B=Ko.useDebugValue;function LB(e,t){var r=t(),n=zB({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return IB(function(){a.value=r,a.getSnapshot=t,Fm(a)&&i({inst:a})},[e,r,t]),BB(function(){return Fm(a)&&i({inst:a}),e(function(){Fm(a)&&i({inst:a})})},[e]),$B(r),r}function Fm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!DB(e,r)}catch{return!0}}function UB(e,t){return t()}var qB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UB:LB;$2.useSyncExternalStore=Ko.useSyncExternalStore!==void 0?Ko.useSyncExternalStore:qB;I2.exports=$2;var HB=I2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=b,WB=HB;function FB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VB=typeof Object.is=="function"?Object.is:FB,GB=WB.useSyncExternalStore,KB=eh.useRef,YB=eh.useEffect,XB=eh.useMemo,ZB=eh.useDebugValue;B2.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=KB(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=XB(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return f=p}return f=m}if(p=f,VB(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var s=GB(e,i[0],i[1]);return YB(function(){o.hasValue=!0,o.value=s},[s]),ZB(s),s};z2.exports=B2;var JB=z2.exports,a0=b.createContext(null),QB=e=>e,Ge=()=>{var e=b.useContext(a0);return e?e.store.dispatch:QB},Bu=()=>{},eI=()=>Bu,tI=(e,t)=>e===t;function X(e){var t=b.useContext(a0);return JB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:eI,t?t.store.getState:Bu,t?t.store.getState:Bu,t?e:Bu,tI)}function rI(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function nI(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function aI(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Z1=e=>Array.isArray(e)?e:[e];function iI(e){const t=Array.isArray(e[0])?e[0]:e;return aI(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function oI(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var sI=class{constructor(e){this.value=e}deref(){return this.value}},lI=typeof WeakRef<"u"?WeakRef:sI,cI=0,J1=1;function iu(){return{s:cI,v:void 0,o:null,p:null}}function L2(e,t={}){let r=iu();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let s=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=s.o;x===null&&(s.o=x=new WeakMap);const y=x.get(p);y===void 0?(s=iu(),x.set(p,s)):s=y}else{let x=s.p;x===null&&(s.p=x=new Map);const y=x.get(p);y===void 0?(s=iu(),x.set(p,s)):s=y}}const u=s;let d;if(s.s===J1)d=s.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new lI(d):d}return u.s=J1,u.v=d,d}return o.clearCache=()=>{r=iu(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function uI(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,s,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),rI(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=L2,argsMemoizeOptions:p=[]}=d,x=Z1(h),y=Z1(p),v=iI(a),g=f(function(){return i++,u.apply(null,arguments)},...x),_=m(function(){o++;const j=oI(v,arguments);return s=g.apply(null,j),s},...y);return Object.assign(_,{resultFunc:u,memoizedResultFunc:g,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var M=uI(L2),dI=Object.assign((e,t=M)=>{nI(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>dI}),U2={},q2={},H2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),s=t(a);if(o===s&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=r})(H2);var W2={},i0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(i0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(W2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2,r=W2,n=Zf;function a(i,o,s,c){if(i==null)return[];s=c?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,p)=>{let x=m;for(let y=0;y<p.length&&x!=null;++y)x=x[p[y]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const y=t.compareValues(m.criteria[x],p.criteria[x],s[x]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=a})(q2);var F2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(s,c)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(F2);var o0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n0,r=Jf,n=Jy,a=e0;function i(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?a.isEqualsSameValueZero(c[s],o):!1}e.isIterateeCall=i})(o0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q2,r=F2,n=o0;function a(i,...o){const s=o.length;return s>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(U2);var fI=U2.sortBy;const th=Xn(fI);var V2=e=>e.legend.settings,hI=e=>e.legend.size,mI=e=>e.legend.payload;M([mI,V2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?th(n,r):n});var ou=1;function pI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ou||Math.abs(o.left-t.left)>ou||Math.abs(o.top-t.top)>ou||Math.abs(o.width-t.width)>ou)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gI=typeof Symbol=="function"&&Symbol.observable||"@@observable",Q1=gI,Vm=()=>Math.random().toString(36).substring(7).split("").join("."),vI={INIT:`@@redux/INIT${Vm()}`,REPLACE:`@@redux/REPLACE${Vm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vm()}`},Od=vI;function s0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function G2(e,t,r){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(bt(1));return r(G2)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((y,v)=>{o.set(v,y)}))}function d(){if(c)throw new Error(bt(3));return a}function f(y){if(typeof y!="function")throw new Error(bt(4));if(c)throw new Error(bt(5));let v=!0;u();const g=s++;return o.set(g,y),function(){if(v){if(c)throw new Error(bt(6));v=!1,u(),o.delete(g),i=null}}}function h(y){if(!s0(y))throw new Error(bt(7));if(typeof y.type>"u")throw new Error(bt(8));if(typeof y.type!="string")throw new Error(bt(17));if(c)throw new Error(bt(9));try{c=!0,a=n(a,y)}finally{c=!1}return(i=o).forEach(g=>{g()}),y}function m(y){if(typeof y!="function")throw new Error(bt(10));n=y,h({type:Od.REPLACE})}function p(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(bt(11));function g(){const w=v;w.next&&w.next(d())}return g(),{unsubscribe:y(g)}},[Q1](){return this}}}return h({type:Od.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Q1]:p}}function yI(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Od.INIT})>"u")throw new Error(bt(12));if(typeof r(void 0,{type:Od.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function K2(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{yI(r)}catch(i){a=i}return function(o={},s){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],p=h(m,s);if(typeof p>"u")throw s&&s.type,new Error(bt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Ad(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function bI(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(bt(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},s=e.map(c=>c(o));return i=Ad(...s)(a.dispatch),{...a,dispatch:i}}}function Y2(e){return s0(e)&&"type"in e&&typeof e.type=="string"}var X2=Symbol.for("immer-nothing"),e_=Symbol.for("immer-draftable"),It=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cr=Object,Yo=cr.getPrototypeOf,kd="constructor",rh="prototype",Pg="configurable",Td="enumerable",Iu="writable",Nl="value",Wn=e=>!!e&&!!e[It];function Xr(e){var t;return e?Z2(e)||ah(e)||!!e[e_]||!!((t=e[kd])!=null&&t[e_])||ih(e)||oh(e):!1}var xI=cr[rh][kd].toString(),t_=new WeakMap;function Z2(e){if(!e||!l0(e))return!1;const t=Yo(e);if(t===null||t===cr[rh])return!0;const r=cr.hasOwnProperty.call(t,kd)&&t[kd];if(r===Object)return!0;if(!so(r))return!1;let n=t_.get(r);return n===void 0&&(n=Function.toString.call(r),t_.set(r,n)),n===xI}function nh(e,t,r=!0){hc(e)===0?(r?Reflect.ownKeys(e):cr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function hc(e){const t=e[It];return t?t.type_:ah(e)?1:ih(e)?2:oh(e)?3:0}var r_=(e,t,r=hc(e))=>r===2?e.has(t):cr[rh].hasOwnProperty.call(e,t),Ng=(e,t,r=hc(e))=>r===2?e.get(t):e[t],Rd=(e,t,r,n=hc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function _I(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ah=Array.isArray,ih=e=>e instanceof Map,oh=e=>e instanceof Set,l0=e=>typeof e=="object",so=e=>typeof e=="function",Gm=e=>typeof e=="boolean";function wI(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var wn=e=>e.copy_||e.base_,c0=e=>e.modified_?e.copy_:e.base_;function Mg(e,t){if(ih(e))return new Map(e);if(oh(e))return new Set(e);if(ah(e))return Array[rh].slice.call(e);const r=Z2(e);if(t===!0||t==="class_only"&&!r){const n=cr.getOwnPropertyDescriptors(e);delete n[It];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s[Iu]===!1&&(s[Iu]=!0,s[Pg]=!0),(s.get||s.set)&&(n[o]={[Pg]:!0,[Iu]:!0,[Td]:s[Td],[Nl]:e[o]})}return cr.create(Yo(e),n)}else{const n=Yo(e);if(n!==null&&r)return{...e};const a=cr.create(n);return cr.assign(a,e)}}function u0(e,t=!1){return sh(e)||Wn(e)||!Xr(e)||(hc(e)>1&&cr.defineProperties(e,{set:su,add:su,clear:su,delete:su}),cr.freeze(e),t&&nh(e,(r,n)=>{u0(n,!0)},!1)),e}function jI(){Wr(2)}var su={[Nl]:jI};function sh(e){return e===null||!l0(e)?!0:cr.isFrozen(e)}var Pd="MapSet",Dg="Patches",n_="ArrayMethods",J2={};function ki(e){const t=J2[e];return t||Wr(0,e),t}var a_=e=>!!J2[e],Ml,Q2=()=>Ml,SI=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:a_(Pd)?ki(Pd):void 0,arrayMethodsPlugin_:a_(n_)?ki(n_):void 0});function i_(e,t){t&&(e.patchPlugin_=ki(Dg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zg(e){Bg(e),e.drafts_.forEach(CI),e.drafts_=null}function Bg(e){e===Ml&&(Ml=e.parent_)}var o_=e=>Ml=SI(Ml,e);function CI(e){const t=e[It];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function s_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[It].modified_&&(zg(t),Wr(4)),Xr(e)&&(e=l_(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[It].base_,e,t)}else e=l_(t,r);return EI(t,e,!0),zg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==X2?e:void 0}function l_(e,t){if(sh(t))return t;const r=t[It];if(!r)return Nd(t,e.handledSet_,e);if(!lh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);rk(r,e)}return r.copy_}function EI(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&u0(t,r)}function ek(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var lh=(e,t)=>e.scope_===t,OI=[];function tk(e,t,r,n){const a=wn(e),i=e.type_;if(n!==void 0&&Ng(a,n,i)===t){Rd(a,n,r,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;nh(a,(c,u)=>{if(Wn(u)){const d=s.get(u)||[];d.push(c),s.set(u,d)}})}const o=e.draftLocations_.get(t)??OI;for(const s of o)Rd(a,s,r,i)}function AI(e,t,r){e.callbacks_.push(function(a){var s;const i=t;if(!i||!lh(i,a))return;(s=a.mapSetPlugin_)==null||s.fixSetContents(i);const o=c0(i);tk(e,i.draft_??i,o,r),rk(i,a)})}function rk(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}ek(e)}}function kI(e,t,r){const{scope_:n}=e;if(Wn(r)){const a=r[It];lh(a,n)&&a.callbacks_.push(function(){$u(e);const o=c0(a);tk(e,r,o,t)})}else Xr(r)&&e.callbacks_.push(function(){const i=wn(e);e.type_===3?i.has(r)&&Nd(r,n.handledSet_,n):Ng(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Nd(Ng(e.copy_,t,e.type_),n.handledSet_,n)})}function Nd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Wn(e)||t.has(e)||!Xr(e)||sh(e)||(t.add(e),nh(e,(n,a)=>{if(Wn(a)){const i=a[It];if(lh(i,r)){const o=c0(i);Rd(e,n,o,e.type_),ek(i)}}else Xr(a)&&Nd(a,t,r)})),e}function TI(e,t){const r=ah(e),n={type_:r?1:0,scope_:t?t.scope_:Q2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Md;r&&(a=[n],i=Dl);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,[s,n]}var Md={get(e,t){if(t===It)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=wn(e);if(!r_(a,t,e.type_))return RI(e,a,t);const i=a[t];if(e.finalized_||!Xr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&wI(t))return i;if(i===Km(e.base_,t)){$u(e);const o=e.type_===1?+t:t,s=$g(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,r){const n=nk(wn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Km(wn(e),t),i=a==null?void 0:a[It];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(_I(r,a)&&(r!==void 0||r_(e.base_,t,e.type_)))return!0;$u(e),Ig(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),kI(e,t,r)),!0},deleteProperty(e,t){return $u(e),Km(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ig(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Iu]:!0,[Pg]:e.type_!==1||t!=="length",[Td]:n[Td],[Nl]:r[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return Yo(e.base_)},setPrototypeOf(){Wr(12)}},Dl={};for(let e in Md){let t=Md[e];Dl[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Dl.deleteProperty=function(e,t){return Dl.set.call(this,e,t,void 0)};Dl.set=function(e,t,r){return Md.set.call(this,e[0],t,r,e[0])};function Km(e,t){const r=e[It];return(r?wn(r):e)[t]}function RI(e,t,r){var a;const n=nk(t,r);return n?Nl in n?n[Nl]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function nk(e,t){if(!(t in e))return;let r=Yo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Yo(r)}}function Ig(e){e.modified_||(e.modified_=!0,e.parent_&&Ig(e.parent_))}function $u(e){e.copy_||(e.assigned_=new Map,e.copy_=Mg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var PI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(so(r)&&!so(n)){const o=n;n=r;const s=this;return function(u=o,...d){return s.produce(u,f=>n.call(this,f,...d))}}so(n)||Wr(6),a!==void 0&&!so(a)&&Wr(7);let i;if(Xr(r)){const o=o_(this),s=$g(o,r,void 0);let c=!0;try{i=n(s),c=!1}finally{c?zg(o):Bg(o)}return i_(o,a),s_(i,o)}else if(!r||!l0(r)){if(i=n(r),i===void 0&&(i=r),i===X2&&(i=void 0),this.autoFreeze_&&u0(i,!0),a){const o=[],s=[];ki(Dg).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:s}),a(o,s)}return i}else Wr(1,r)},this.produceWithPatches=(r,n)=>{if(so(r))return(s,...c)=>this.produceWithPatches(s,u=>r(u,...c));let a,i;return[this.produce(r,n,(s,c)=>{a=s,i=c}),a,i]},Gm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Gm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Gm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xr(t)||Wr(8),Wn(t)&&(t=Gr(t));const r=o_(this),n=$g(r,t,void 0);return n[It].isManual_=!0,Bg(r),n}finishDraft(t,r){const n=t&&t[It];(!n||!n.isManual_)&&Wr(9);const{scope_:a}=n;return i_(a,r),s_(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=ki(Dg).applyPatches_;return Wn(t)?a(t,r):this.produce(t,i=>a(i,r))}};function $g(e,t,r,n){const[a,i]=ih(t)?ki(Pd).proxyMap_(t,r):oh(t)?ki(Pd).proxySet_(t,r):TI(t,r);return((r==null?void 0:r.scope_)??Q2()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?AI(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function Gr(e){return Wn(e)||Wr(10,e),ak(e)}function ak(e){if(!Xr(e)||sh(e))return e;const t=e[It];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Mg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Mg(e,!0);return nh(r,(a,i)=>{Rd(r,a,ak(i))},n),t&&(t.finalized_=!1),r}var NI=new PI,ik=NI.produce;function ok(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var MI=ok(),DI=ok,zI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ad:Ad.apply(null,arguments)};function Mr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(mr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Y2(n)&&n.type===e,r}var sk=class Gs extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gs.prototype)}static get[Symbol.species](){return Gs}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gs(...t[0].concat(this)):new Gs(...t.concat(this))}};function c_(e){return Xr(e)?ik(e,()=>{}):e}function lu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function BI(e){return typeof e=="boolean"}var II=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new sk;return r&&(BI(r)?o.push(MI):o.push(DI(r.extraArgument))),o},lk="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[lk]:!0}}),u_=e=>t=>{setTimeout(t,e)},ck=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:u_(10):e.type==="callback"?e.queueNotification:u_(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return s.add(d),()=>{h(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[lk]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},$I=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new sk(e);return n&&a.push(ck(typeof n=="object"?n:void 0)),a};function LI(e){const t=II(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(s0(r))s=K2(r);else throw new Error(mr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Ad;a&&(u=zI({trace:!1,...typeof a=="object"&&a}));const d=bI(...c),f=$I(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return G2(s,i,m)}function uk(e){const t={},r=[];let n;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(mr(28));if(s in t)throw new Error(mr(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function UI(e){return typeof e=="function"}function qI(e,t){let[r,n,a]=uk(t),i;if(UI(e))i=()=>c_(e());else{const s=c_(e);i=()=>s}function o(s=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Wn(d)){const m=f(d,c);return m===void 0?d:m}else{if(Xr(d))return ik(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},s)}return o.getInitialState=i,o}var HI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WI=(e=21)=>{let t="",r=e;for(;r--;)t+=HI[Math.random()*64|0];return t},FI=Symbol.for("rtk-slice-createasyncthunk");function VI(e,t){return`${e}/${t}`}function GI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[FI];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(mr(11));const s=(typeof a.reducers=="function"?a.reducers(YI()):a.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,j){const S=typeof w=="string"?w:w.type;if(!S)throw new Error(mr(12));if(S in u.sliceCaseReducersByType)throw new Error(mr(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(w,j){return u.sliceMatchers.push({matcher:w,reducer:j}),d},exposeAction(w,j){return u.actionCreators[w]=j,d},exposeCaseReducer(w,j){return u.sliceCaseReducersByName[w]=j,d}};c.forEach(w=>{const j=s[w],S={reducerName:w,type:VI(i,w),createNotation:typeof a.reducers=="function"};ZI(j)?QI(S,j,d,t):XI(S,j,d)});function f(){const[w={},j=[],S=void 0]=typeof a.extraReducers=="function"?uk(a.extraReducers):[a.extraReducers],C={...w,...u.sliceCaseReducersByType};return qI(a.initialState,E=>{for(let A in C)E.addCase(A,C[A]);for(let A of u.sliceMatchers)E.addMatcher(A.matcher,A.reducer);for(let A of j)E.addMatcher(A.matcher,A.reducer);S&&E.addDefaultCase(S)})}const h=w=>w,m=new Map,p=new WeakMap;let x;function y(w,j){return x||(x=f()),x(w,j)}function v(){return x||(x=f()),x.getInitialState()}function g(w,j=!1){function S(E){let A=E[w];return typeof A>"u"&&j&&(A=lu(p,S,v)),A}function C(E=h){const A=lu(m,j,()=>new WeakMap);return lu(A,E,()=>{const T={};for(const[P,k]of Object.entries(a.selectors??{}))T[P]=KI(k,E,()=>lu(p,E,v),j);return T})}return{reducerPath:w,getSelectors:C,get selectors(){return C(S)},selectSlice:S}}const _={name:i,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...g(o),injectInto(w,{reducerPath:j,...S}={}){const C=j??o;return w.inject({reducerPath:C,reducer:y},S),{..._,...g(C,!0)}}};return _}}function KI(e,t,r,n){function a(i,...o){let s=t(i);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return a.unwrapped=e,a}var Zt=GI();function YI(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function XI({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!JI(n))throw new Error(mr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Mr(e,o):Mr(e))}function ZI(e){return e._reducerDefinitionType==="asyncThunk"}function JI(e){return e._reducerDefinitionType==="reducerWithPrepare"}function QI({type:e,reducerName:t},r,n,a){if(!a)throw new Error(mr(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),s&&n.addCase(f.pending,s),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||cu,pending:s||cu,rejected:c||cu,settled:u||cu})}function cu(){}var e$="task",dk="listener",fk="completed",d0="cancelled",t$=`task-${d0}`,r$=`task-${fk}`,Lg=`${dk}-${d0}`,n$=`${dk}-${fk}`,ch=class{constructor(e){Kh(this,"name","TaskAbortError");Kh(this,"message");this.code=e,this.message=`${e$} ${d0} (reason: ${e})`}},f0=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},Dd=()=>{},hk=(e,t=Dd)=>(e.catch(t),e),mk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bi=e=>{if(e.aborted)throw new ch(e.reason)};function pk(e,t){let r=Dd;return new Promise((n,a)=>{const i=()=>a(new ch(e.reason));if(e.aborted){i();return}r=mk(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Dd})}var a$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ch?"cancelled":"rejected",error:r}}finally{t==null||t()}},zd=e=>t=>hk(pk(e,t).then(r=>(bi(e),r))),gk=e=>{const t=zd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ro}=Object,d_={},uh="listenerMiddleware",i$=(e,t)=>{const r=n=>mk(e,()=>n.abort(e.reason));return(n,a)=>{f0(n);const i=new AbortController;r(i);const o=a$(async()=>{bi(e),bi(i.signal);const s=await n({pause:zd(i.signal),delay:gk(i.signal),signal:i.signal});return bi(i.signal),s},()=>i.abort(r$));return a!=null&&a.autoJoin&&t.push(o.catch(Dd)),{result:zd(e)(o),cancel(){i.abort(t$)}}}},o$=(e,t)=>{const r=async(n,a)=>{bi(t);let i=()=>{};const s=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&s.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await pk(t,Promise.race(s));return bi(t),c}finally{i()}};return(n,a)=>hk(r(n,a))},vk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Mr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(mr(21));return f0(i),{predicate:a,type:t,effect:i}},yk=Ro(e=>{const{type:t,predicate:r,effect:n}=vk(e);return{id:WI(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>yk}),f_=(e,t)=>{const{type:r,effect:n,predicate:a}=vk(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Ug=e=>{e.pending.forEach(t=>{t.abort(Lg)})},s$=(e,t)=>()=>{for(const r of t.keys())Ug(r);e.clear()},h_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},bk=Ro(Mr(`${uh}/add`),{withTypes:()=>bk}),l$=Mr(`${uh}/removeAll`),xk=Ro(Mr(`${uh}/remove`),{withTypes:()=>xk}),c$=(...e)=>{console.error(`${uh}/error`,...e)},mc=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:i,onError:o=c$}=e;f0(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&Ug(m)}),c=m=>{const p=f_(t,m)??yk(m);return s(p)};Ro(c,{withTypes:()=>c});const u=m=>{const p=f_(t,m);return p&&(p.unsubscribe(),m.cancelActive&&Ug(p)),!!p};Ro(u,{withTypes:()=>u});const d=async(m,p,x,y)=>{const v=new AbortController,g=o$(c,v.signal),_=[];try{m.pending.add(v),n(m),await Promise.resolve(m.effect(p,Ro({},x,{getOriginalState:y,condition:(w,j)=>g(w,j).then(Boolean),take:g,delay:gk(v.signal),pause:zd(v.signal),extra:i,signal:v.signal,fork:i$(v.signal,_),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((w,j,S)=>{w!==v&&(w.abort(Lg),S.delete(w))})},cancel:()=>{v.abort(Lg),m.pending.delete(v)},throwIfCancelled:()=>{bi(v.signal)}})))}catch(w){w instanceof ch||h_(o,w,{raisedBy:"effect"})}finally{await Promise.all(_),v.abort(n$),a(m),m.pending.delete(v)}},f=s$(t,r);return{middleware:m=>p=>x=>{if(!Y2(x))return p(x);if(bk.match(x))return c(x.payload);if(l$.match(x)){f();return}if(xk.match(x))return u(x.payload);let y=m.getState();const v=()=>{if(y===d_)throw new Error(mr(23));return y};let g;try{if(g=p(x),t.size>0){const _=m.getState(),w=Array.from(t.values());for(const j of w){let S=!1;try{S=j.predicate(x,_,y)}catch(C){S=!1,h_(o,C,{raisedBy:"predicate"})}S&&d(j,x,m,v)}}}finally{y=d_}return g},startListening:c,stopListening:u,clearListeners:f}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var u$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_k=Zt({name:"chartLayout",initialState:u$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:d$,setLayout:f$,setChartSize:h$,setScale:m$}=_k.actions,p$=_k.reducer;function wk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Le(e){return Number.isFinite(e)}function cn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){g$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g$(e,t,r){return(t=v$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v$(e){var t=y$(e,"string");return typeof t=="symbol"?t:t+""}function y$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return gt(e)||gt(t)?r:ln(t)?Go(e,t,r):typeof t=="function"?t(e):r}var b$=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&G(e[i]))return _o(_o({},e),{},{[i]:e[i]+(n||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&G(e[o]))return _o(_o({},e),{},{[o]:e[o]+(a||0)})}return e},Ui=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",jk=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===r&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(r),o},Sk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var p=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/p:0;if(x=m==="angleAxis"&&i&&i.length>=2?Vt(i[0]-i[1])*2*x:x,f||h){var y=(f||h||[]).map((v,g)=>{var _=n?n.indexOf(v):v;return{coordinate:o(_)+x,value:v,offset:x,index:g}});return y.filter(v=>!Kr(v.coordinate))}return c&&u?u.map((v,g)=>({coordinate:o(v)+x,value:v,index:g,offset:x})):o.ticks&&d!=null?o.ticks(d).map((v,g)=>({coordinate:o(v)+x,value:v,offset:x,index:g})):o.domain().map((v,g)=>({coordinate:o(v)+x,value:n?n[v]:v,index:g,offset:x}))},p_=1e-4,x$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-p_,i=Math.max(n[0],n[1])+p_,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},_$=(e,t)=>{if(!t||t.length!==2||!G(t[0])||!G(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!G(e[0])||e[0]<r)&&(a[0]=r),(!G(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},w$=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,s=0;s<r;++s){var c=e[s],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=Kr(d)?f:d;h>=0?(u[0]=i,u[1]=i+h,i=d):(u[0]=o,u[1]=o+h,o=d)}}}},j$=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var s=e[o],c=s==null?void 0:s[a];if(c!=null){var u=Kr(c[1])?c[0]:c[1];u>=0?(c[0]=i,c[1]=i+u,i=c[1]):(c[0]=0,c[1]=0)}}}},S$={sign:w$,expand:lB,none:Ai,silhouette:cB,wiggle:uB,positive:j$},C$=(e,t,r)=>{var n,a=(n=S$[r])!==null&&n!==void 0?n:Ai,i=sB().keys(t).value((s,c)=>Number(At(s,c,0))).order(Tg).offset(a),o=i(e);return o.forEach((s,c)=>{s.forEach((u,d)=>{var f=At(e[d],t[c],0);Array.isArray(f)&&f.length===2&&G(f[0])&&G(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function E$(e){return e==null?void 0:String(e)}var g_=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=At(i,t.dataKey,t.scale.domain()[o]);return gt(s)?null:t.scale(s)-a/2+n},O$=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},A$=e=>{var t=e.flat(2).filter(G);return[Math.min(...t),Math.max(...t)]},k$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],T$=(e,t,r)=>{if(e!=null)return k$(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,s=o.reduce((c,u)=>{var d=wk(u,t,r),f=A$(d);return!Le(f[0])||!Le(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},v_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=th(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var c=a[o],u=a[o-1];i=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function b_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return _o(_o({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Ck(e,t){if(e)return String(e);if(typeof t=="string")return t}var R$=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},P$=(e,t)=>t==="centric"?e.angle:e.radius,Qn=e=>e.layout.width,ea=e=>e.layout.height,N$=e=>e.layout.scale,Ek=e=>e.layout.margin,dh=M(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),fh=M(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),M$="data-recharts-item-index",D$="data-recharts-item-id",pc=60;function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){z$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$(e,t,r){return(t=B$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B$(e){var t=I$(e,"string");return typeof t=="symbol"?t:t+""}function I$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $$=e=>e.brush.height;function L$(e){var t=fh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:pc;return r+a}return r},0)}function U$(e){var t=fh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:pc;return r+a}return r},0)}function q$(e){var t=dh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function H$(e){var t=dh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vt=M([Qn,ea,Ek,$$,L$,U$,q$,H$,V2,hI],(e,t,r,n,a,i,o,s,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+s},h=uu(uu({},f),d),m=h.bottom;h.bottom+=n,h=b$(h,c,u);var p=e-h.left-h.right,x=t-h.top-h.bottom;return uu(uu({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(x,0)})}),W$=M(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),h0=M(Qn,ea,(e,t)=>({x:0,y:0,width:e,height:t})),F$=b.createContext(null),Jt=()=>b.useContext(F$)!=null,hh=e=>e.brush,mh=M([hh,vt,Ek],(e,t,r)=>({height:e.height,x:G(e.x)?e.x:t.left,y:G(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:G(e.width)?e.width:t.width})),Ok={},Ak={},kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,s=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),o=void 0,s=null},y=()=>{d()},v=function(...g){if(a!=null&&a.aborted)return;o=this,s=g;const _=h==null;m(),c&&_&&d()};return v.schedule=m,v.cancel=x,v.flush=y,a==null||a.addEventListener("abort",x,{once:!0}),v}e.debounce=t})(kk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kk;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(Ak);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ak;function r(n,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:s})}e.throttle=r})(Ok);var V$=Ok.throttle;const G$=Xn(V$);var Id=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},Tk=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,s=Hn(n)?e:Number(n),c=Hn(a)?t:Number(a);return i&&i>0&&(s?c=s/i:c&&(s=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},K$={width:0,height:0,overflow:"visible"},Y$={width:0,overflowX:"visible"},X$={height:0,overflowY:"visible"},Z$={},J$=e=>{var{width:t,height:r}=e,n=Hn(t),a=Hn(r);return n&&a?K$:n?Y$:a?X$:Z$};function Q$(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(null,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){eL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eL(e,t,r){return(t=tL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tL(e){var t=rL(e,"string");return typeof t=="symbol"?t:t+""}function rL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rk=b.createContext({width:-1,height:-1});function nL(e){return cn(e.width)&&cn(e.height)}function Pk(e){var{children:t,width:r,height:n}=e,a=b.useMemo(()=>({width:r,height:n}),[r,n]);return nL(a)?b.createElement(Rk.Provider,{value:a},t):null}var m0=()=>b.useContext(Rk),aL=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=b.useRef(null),y=b.useRef();y.current=m,b.useImperativeHandle(t,()=>x.current);var[v,g]=b.useState({containerWidth:n.width,containerHeight:n.height}),_=b.useCallback((E,A)=>{g(T=>{var P=Math.round(E),k=Math.round(A);return T.containerWidth===P&&T.containerHeight===k?T:{containerWidth:P,containerHeight:k}})},[]);b.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return fc;var E=k=>{var H,{width:W,height:Z}=k[0].contentRect;_(W,Z),(H=y.current)===null||H===void 0||H.call(y,W,Z)};d>0&&(E=G$(E,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(E),{width:T,height:P}=x.current.getBoundingClientRect();return _(T,P),A.observe(x.current),()=>{A.disconnect()}},[_,d]);var{containerWidth:w,containerHeight:j}=v;Id(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:C}=Tk(w,j,{width:a,height:i,aspect:r,maxHeight:c});return Id(S!=null&&S>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,C,a,i,o,s,r),b.createElement("div",{id:f?"".concat(f):void 0,className:De("recharts-responsive-container",h),style:w_(w_({},p),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:c}),ref:x},b.createElement("div",{style:J$({width:a,height:i})},b.createElement(Pk,{width:S,height:C},u)))}),iL=b.forwardRef((e,t)=>{var r=m0();if(cn(r.width)&&cn(r.height))return e.children;var{width:n,height:a}=Q$({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=Tk(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return G(i)&&G(o)?b.createElement(Pk,{width:i,height:o},e.children):b.createElement(aL,qg({},e,{width:n,height:a,ref:t}))});function Nk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ph=()=>{var e,t=Jt(),r=X(W$),n=X(mh),a=(e=X(hh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},oL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Mk=()=>{var e;return(e=X(vt))!==null&&e!==void 0?e:oL},Dk=()=>X(Qn),zk=()=>X(ea),xe=e=>e.layout.layoutType,gc=()=>X(xe),sL=()=>{var e=gc();return e!==void 0},gh=e=>{var t=Ge(),r=Jt(),{width:n,height:a}=e,i=m0(),o=n,s=a;return i&&(o=i.width>0?i.width:n,s=i.height>0?i.height:a),b.useEffect(()=>{!r&&cn(o)&&cn(s)&&t(h$({width:o,height:s}))},[t,r,o,s]),null},Bk=Symbol.for("immer-nothing"),j_=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function Fr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zl=Object.getPrototypeOf;function Xo(e){return!!e&&!!e[vr]}function Ti(e){var t;return e?Ik(e)||Array.isArray(e)||!!e[j_]||!!((t=e.constructor)!=null&&t[j_])||vc(e)||yh(e):!1}var lL=Object.prototype.constructor.toString(),S_=new WeakMap;function Ik(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=S_.get(r);return n===void 0&&(n=Function.toString.call(r),S_.set(r,n)),n===lL}function $d(e,t,r=!0){vh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function vh(e){const t=e[vr];return t?t.type_:Array.isArray(e)?1:vc(e)?2:yh(e)?3:0}function Hg(e,t){return vh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $k(e,t,r){const n=vh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function cL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vc(e){return e instanceof Map}function yh(e){return e instanceof Set}function ai(e){return e.copy_||e.base_}function Wg(e,t){if(vc(e))return new Map(e);if(yh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Ik(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[vr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(zl(e),n)}else{const n=zl(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function p0(e,t=!1){return bh(e)||Xo(e)||!Ti(e)||(vh(e)>1&&Object.defineProperties(e,{set:du,add:du,clear:du,delete:du}),Object.freeze(e),t&&Object.values(e).forEach(r=>p0(r,!0))),e}function uL(){Fr(2)}var du={value:uL};function bh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var dL={};function Ri(e){const t=dL[e];return t||Fr(0,e),t}var Bl;function Lk(){return Bl}function fL(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function C_(e,t){t&&(Ri("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fg(e){Vg(e),e.drafts_.forEach(hL),e.drafts_=null}function Vg(e){e===Bl&&(Bl=e.parent_)}function E_(e){return Bl=fL(Bl,e)}function hL(e){const t=e[vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function O_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[vr].modified_&&(Fg(t),Fr(4)),Ti(e)&&(e=Ld(t,e),t.parent_||Ud(t,e)),t.patches_&&Ri("Patches").generateReplacementPatches_(r[vr].base_,e,t.patches_,t.inversePatches_)):e=Ld(t,r,[]),Fg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Bk?e:void 0}function Ld(e,t,r){if(bh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[vr];if(!a)return $d(t,(i,o)=>A_(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Ud(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),$d(o,(c,u)=>A_(e,a,i,c,u,r,s),n),Ud(e,i,!1),r&&e.patches_&&Ri("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function A_(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=bh(a);if(!(s&&!o)){if(Xo(a)){const c=i&&t&&t.type_!==3&&!Hg(t.assigned_,n)?i.concat(n):void 0,u=Ld(e,a,c);if($k(r,n,u),Xo(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ti(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&s)return;Ld(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(vc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ud(e,a)}}}function Ud(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&p0(t,r)}function mL(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Lk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=g0;r&&(a=[n],i=Il);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}var g0={get(e,t){if(t===vr)return e;const r=ai(e);if(!Hg(r,t))return pL(e,r,t);const n=r[t];return e.finalized_||!Ti(n)?n:n===Ym(e.base_,t)?(Xm(e),e.copy_[t]=Kg(n,e)):n},has(e,t){return t in ai(e)},ownKeys(e){return Reflect.ownKeys(ai(e))},set(e,t,r){const n=Uk(ai(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Ym(ai(e),t),i=a==null?void 0:a[vr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(cL(r,a)&&(r!==void 0||Hg(e.base_,t)))return!0;Xm(e),Gg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ym(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xm(e),Gg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ai(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Fr(11)},getPrototypeOf(e){return zl(e.base_)},setPrototypeOf(){Fr(12)}},Il={};$d(g0,(e,t)=>{Il[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Il.deleteProperty=function(e,t){return Il.set.call(this,e,t,void 0)};Il.set=function(e,t,r){return g0.set.call(this,e[0],t,r,e[0])};function Ym(e,t){const r=e[vr];return(r?ai(r):e)[t]}function pL(e,t,r){var a;const n=Uk(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Uk(e,t){if(!(t in e))return;let r=zl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zl(r)}}function Gg(e){e.modified_||(e.modified_=!0,e.parent_&&Gg(e.parent_))}function Xm(e){e.copy_||(e.copy_=Wg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gL=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Fr(6),n!==void 0&&typeof n!="function"&&Fr(7);let a;if(Ti(t)){const i=E_(this),o=Kg(t,void 0);let s=!0;try{a=r(o),s=!1}finally{s?Fg(i):Vg(i)}return C_(i,n),O_(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Bk&&(a=void 0),this.autoFreeze_&&p0(a,!0),n){const i=[],o=[];Ri("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Fr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,a;return[this.produce(t,r,(o,s)=>{n=o,a=s}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ti(e)||Fr(8),Xo(e)&&(e=vL(e));const t=E_(this),r=Kg(e,void 0);return r[vr].isManual_=!0,Vg(t),r}finishDraft(e,t){const r=e&&e[vr];(!r||!r.isManual_)&&Fr(9);const{scope_:n}=r;return C_(n,t),O_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ri("Patches").applyPatches_;return Xo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Kg(e,t){const r=vc(e)?Ri("MapSet").proxyMap_(e,t):yh(e)?Ri("MapSet").proxySet_(e,t):mL(e,t);return(t?t.scope_:Lk()).drafts_.push(r),r}function vL(e){return Xo(e)||Fr(10,e),qk(e)}function qk(e){if(!Ti(e)||bh(e))return e;const t=e[vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Wg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Wg(e,!0);return $d(r,(a,i)=>{$k(r,a,qk(i))},n),t&&(t.finalized_=!1),r}var yL=new gL;yL.produce;var bL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Hk=Zt({name:"legend",initialState:bL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=Gr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:XZ,setLegendSettings:ZZ,addLegendPayload:xL,replaceLegendPayload:_L,removeLegendPayload:wL}=Hk.actions,jL=Hk.reducer;function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(null,arguments)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){SL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SL(e,t,r){return(t=CL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CL(e){var t=EL(e,"string");return typeof t=="symbol"?t:t+""}function EL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OL(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var AL=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(s?th(i,s):i).map((C,E)=>{if(C.type==="none")return null;var A=C.formatter||o||OL,{value:T,name:P}=C,k=T,H=P;if(A){var W=A(T,P,C,E,i);if(Array.isArray(W))[k,H]=W;else if(W!=null)k=W;else return null}var Z=Zm({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:Z},ln(H)?b.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ln(H)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},k),b.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},p=Zm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Zm({margin:0},a),y=!gt(d),v=y?d:"",g=De("recharts-default-tooltip",c),_=De("recharts-tooltip-label",u);y&&f&&i!==void 0&&i!==null&&(v=f(d,i));var w=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Yg({className:g,style:p},w),b.createElement("p",{className:_,style:x},b.isValidElement(v)?v:"".concat(v)),m())},Ns="recharts-tooltip-wrapper",kL={visibility:"hidden"};function TL(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(Ns,{["".concat(Ns,"-right")]:G(r)&&t&&G(t.x)&&r>=t.x,["".concat(Ns,"-left")]:G(r)&&t&&G(t.x)&&r<t.x,["".concat(Ns,"-bottom")]:G(n)&&t&&G(t.y)&&n>=t.y,["".concat(Ns,"-top")]:G(n)&&t&&G(t.y)&&n<t.y})}function T_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(i&&G(i[n]))return i[n];var d=r[n]-s-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+s,y=h+u;return x>y?Math.max(d,h):Math.max(f,h)}function RL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function PL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=T_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=T_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=RL({translateX:d,translateY:f,useTranslate3d:s})):u=kL,{cssProperties:u,cssClasses:TL({translateX:d,translateY:f,coordinate:r})}}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){Xg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xg(e,t,r){return(t=NL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=ML(e,"string");return typeof t=="symbol"?t:t+""}function ML(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DL extends b.PureComponent{constructor(){super(...arguments),Xg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Xg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:g,cssProperties:_}=PL({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),w=v?{}:fu(fu({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=fu(fu({},w),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},p);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:j,ref:y},i)}}var Wk=()=>{var e;return(e=X(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(null,arguments)}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){zL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zL(e,t,r){return(t=BL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BL(e){var t=IL(e,"string");return typeof t=="symbol"?t:t+""}function IL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M_={curveBasisClosed:X8,curveBasisOpen:Z8,curveBasis:Y8,curveBumpX:D8,curveBumpY:z8,curveLinearClosed:J8,curveLinear:Gf,curveMonotoneX:Q8,curveMonotoneY:eB,curveNatural:tB,curveStep:rB,curveStepAfter:aB,curveStepBefore:nB},qd=e=>Le(e.x)&&Le(e.y),D_=e=>e.base!=null&&qd(e.base)&&qd(e),Ms=e=>e.x,Ds=e=>e.y,$L=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(dc(e));return(r==="curveMonotone"||r==="curveBump")&&t?M_["".concat(r).concat(t==="vertical"?"Y":"X")]:M_[r]||Gf},LL=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=$L(t,a),s=i?r.filter(qd):r,c;if(Array.isArray(n)){var u=r.map((m,p)=>N_(N_({},m),{},{base:n[p]}));a==="vertical"?c=au().y(Ds).x1(Ms).x0(m=>m.base.x):c=au().x(Ms).y1(Ds).y0(m=>m.base.y);var d=c.defined(D_).curve(o),f=i?u.filter(D_):u;return d(f)}a==="vertical"&&G(n)?c=au().y(Ds).x1(Ms).x0(n):G(n)?c=au().x(Ms).y1(Ds).y0(n):c=t2().x(Ms).y(Ds);var h=c.defined(qd).curve(o);return h(s)},Fk=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=gc();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=r&&r.length?LL(o):n;return b.createElement("path",Zg({},Un(e),EB(e),{className:De("recharts-curve",t),d:s===null?void 0:s,ref:a}))},UL=["x","y","top","left","width","height","className"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){HL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HL(e,t,r){return(t=WL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=FL(e,"string");return typeof t=="symbol"?t:t+""}function FL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VL(e,t){if(e==null)return{};var r,n,a=GL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KL=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),YL=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:s}=e,c=VL(e,UL),u=qL({x:t,y:r,top:n,left:a,width:i,height:o},c);return!G(t)||!G(r)||!G(i)||!G(o)||!G(n)||!G(a)?null:b.createElement("path",Jg({},Nr(u),{className:De("recharts-cross",s),d:KL(t,r,i,o,n,a)}))};function XL(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){ZL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZL(e,t,r){return(t=JL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JL(e){var t=QL(e,"string");return typeof t=="symbol"?t:t+""}function QL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Vk=(e,t,r)=>e.map(n=>"".concat(eU(n)," ").concat(t,"ms ").concat(r)).join(","),tU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),$l=(e,t)=>Object.keys(t).reduce((r,n)=>I_(I_({},r),{},{[n]:e(n,t[n])}),{});function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){rU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rU(e,t,r){return(t=nU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nU(e){var t=aU(e,"string");return typeof t=="symbol"?t:t+""}function aU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hd=(e,t,r)=>e+(t-e)*r,Qg=e=>{var{from:t,to:r}=e;return t!==r},Gk=(e,t,r)=>{var n=$l((a,i)=>{if(Qg(i)){var[o,s]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:o,velocity:s})}return i},t);return r<1?$l((a,i)=>Qg(i)&&n[a]!=null?nt(nt({},i),{},{velocity:Hd(i.velocity,n[a].velocity,r),from:Hd(i.from,n[a].from,r)}):i,t):Gk(e,n,r-1)};function iU(e,t,r,n,a,i){var o,s=n.reduce((h,m)=>nt(nt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>$l((h,m)=>m.from,s),u=()=>!Object.values(s).filter(Qg).length,d=null,f=h=>{o||(o=h);var m=h-o,p=m/r.dt;s=Gk(r,s,p),a(nt(nt(nt({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function oU(e,t,r,n,a,i,o){var s=null,c=a.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:nt(nt({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=$l((x,y)=>Hd(...y,r(h)),c);if(i(nt(nt(nt({},e),t),m)),h<1)s=o.setTimeout(d);else{var p=$l((x,y)=>Hd(...y,r(1)),c);i(nt(nt(nt({},e),t),p))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const sU=(e,t,r,n,a,i)=>{var o=tU(e,t);return r==null?()=>(a(nt(nt({},e),t)),()=>{}):r.isStepper===!0?iU(e,t,r,o,a,i):oU(e,t,r,n,o,a,i)};var Wd=1e-4,Kk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Yk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),L_=(e,t)=>r=>{var n=Kk(e,t);return Yk(n,r)},lU=(e,t)=>r=>{var n=Kk(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return Yk(a,r)},cU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},uU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=cU(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},dU=(e,t,r,n)=>{var a=L_(e,r),i=L_(t,n),o=lU(e,r),s=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=o(f);if(Math.abs(m-d)<Wd||p<Wd)return i(f);f=s(f-m/p)}return i(f)};return c.isStepper=!1,c},U_=function(){return dU(...uU(...arguments))},fU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,s,c)=>{var u=-(o-s)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-s)<Wd&&Math.abs(f)<Wd?[s,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},hU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return U_(e);case"spring":return fU();default:if(e.split("(")[0]==="cubic-bezier")return U_(e)}return typeof e=="function"?e:null};function mU(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...u]=s;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class pU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function gU(){return mU(new pU)}var vU=b.createContext(gU);function yU(e,t){var r=b.useContext(vU);return b.useMemo(()=>t??r(e),[e,t,r])}var bU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xh={isSsr:bU()},xU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},q_={t:0},Jm={t:1};function v0(e){var t=yr(e,xU),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:c,children:u}=t,d=r==="auto"?!xh.isSsr:r,f=yU(t.animationId,t.animationManager),[h,m]=b.useState(d?q_:Jm),p=b.useRef(null);return b.useEffect(()=>{d||m(Jm)},[d]),b.useEffect(()=>{if(!d||!n)return fc;var x=sU(q_,Jm,hU(i),a,m,f.getTimeoutController()),y=()=>{p.current=x()};return f.start([c,o,y,a,s]),()=>{f.stop(),p.current&&p.current(),s()}},[d,n,a,i,o,c,s,f]),u(h.t)}function y0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(Pl(t)),n=b.useRef(e);return n.current!==e&&(r.current=Pl(t),n.current=e),r.current}var _U=["radius"],wU=["radius"],H_,W_,F_,V_,G_,K_,Y_,X_,Z_,J_;function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return(t=SU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SU(e){var t=CU(e,"string");return typeof t=="symbol"?t:t+""}function CU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(null,arguments)}function tw(e,t){if(e==null)return{};var r,n,a=EU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function en(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var rw=(e,t,r,n,a)=>{var i=Ca(r),o=Ca(n),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=a[m]>s?s:a[m];f=qe(H_||(H_=en(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=qe(W_||(W_=en(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=qe(F_||(F_=en(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=qe(V_||(V_=en(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+c*h[1])),f+=qe(G_||(G_=en(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=qe(K_||(K_=en(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=qe(Y_||(Y_=en(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=qe(X_||(X_=en(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-c*h[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);f=qe(Z_||(Z_=en(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*x,x,x,d,e+u*x,t,e+r-u*x,t,x,x,d,e+r,t+c*x,e+r,t+n-c*x,x,x,d,e+r-u*x,t+n,e+u*x,t+n,x,x,d,e,t+n-c*x)}else f=qe(J_||(J_=en(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},nw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xk=e=>{var t=yr(e,nw),r=b.useRef(null),[n,a]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:i,y:o,width:s,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t,y=b.useRef(s),v=b.useRef(c),g=b.useRef(i),_=b.useRef(o),w=b.useMemo(()=>({x:i,y:o,width:s,height:c,radius:u}),[i,o,s,c,u]),j=y0(w,"rectangle-");if(i!==+i||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var S=De("recharts-rectangle",d);if(!x){var C=Nr(t),{radius:E}=C,A=tw(C,_U);return b.createElement("path",Fd({},A,{x:Ca(i),y:Ca(o),width:Ca(s),height:Ca(c),radius:typeof u=="number"?u:void 0,className:S,d:rw(i,o,s,c,u)}))}var T=y.current,P=v.current,k=g.current,H=_.current,W="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),O=Vk(["strokeDasharray"],h,typeof f=="string"?f:nw.animationEasing);return b.createElement(v0,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},R=>{var N=wt(T,s,R),L=wt(P,c,R),U=wt(k,i,R),ae=wt(H,o,R);r.current&&(y.current=N,v.current=L,g.current=U,_.current=ae);var ue;p?R>0?ue={transition:O,strokeDasharray:Z}:ue={strokeDasharray:W}:ue={strokeDasharray:Z};var le=Nr(t),{radius:he}=le,de=tw(le,wU);return b.createElement("path",Fd({},de,{radius:typeof u=="number"?u:void 0,className:S,d:rw(U,ae,N,L,u),ref:r,style:ew(ew({},ue),t.style)}))})};function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){OU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OU(e,t,r){return(t=AU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vd=Math.PI/180,TU=e=>e*180/Math.PI,Et=(e,t,r,n)=>({x:e+Math.cos(-Vd*n)*r,y:t+Math.sin(-Vd*n)*r}),RU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},PU=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},NU=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=PU({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(r-a)/o,c=Math.acos(s);return n>i&&(c=2*Math.PI-c),{radius:o,angle:TU(c),angleInRadian:c}},MU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},DU=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},zU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=NU({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:c,endAngle:u}=MU(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?iw(iw({},t),{},{radius:a,angle:DU(d,t)}):null};function Zk(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Et(t,r,n,a),s=Et(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var ow,sw,lw,cw,uw,dw,fw;function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}function ci(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var BU=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},hu=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,u=s*(o?1:-1)+n,d=Math.asin(s/u)/Vd,f=c?a:a+i*d,h=Et(t,r,u,f),m=Et(t,r,n,f),p=c?a-i*d:a,x=Et(t,r,u*Math.cos(d*Vd),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},Jk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,s=BU(i,o),c=i+s,u=Et(t,r,a,i),d=Et(t,r,a,c),f=qe(ow||(ow=ci(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>c),d.x,d.y);if(n>0){var h=Et(t,r,n,i),m=Et(t,r,n,c);f+=qe(sw||(sw=ci(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(s)>180),+(i<=c),h.x,h.y)}else f+=qe(lw||(lw=ci(["L ",","," Z"])),t,r);return f},IU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:u}=e,d=Vt(u-c),{circleTangency:f,lineTangency:h,theta:m}=hu({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:p,lineTangency:x,theta:y}=hu({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),v=s?Math.abs(c-u):Math.abs(c-u)-m-y;if(v<0)return o?qe(cw||(cw=ci(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):Jk({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var g=qe(uw||(uw=ci(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(v>180),+(d<0),p.x,p.y,i,i,+(d<0),x.x,x.y);if(n>0){var{circleTangency:_,lineTangency:w,theta:j}=hu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:S,lineTangency:C,theta:E}=hu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),A=s?Math.abs(c-u):Math.abs(c-u)-j-E;if(A<0&&i===0)return"".concat(g,"L").concat(t,",").concat(r,"Z");g+=qe(dw||(dw=ci(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,i,i,+(d<0),S.x,S.y,n,n,+(A>180),+(d>0),_.x,_.y,i,i,+(d<0),w.x,w.y)}else g+=qe(fw||(fw=ci(["L",",","Z"])),t,r);return g},$U={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Qk=e=>{var t=yr(e,$U),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=De("recharts-sector",f),m=i-a,p=Yr(o,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=IU({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):x=Jk({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),b.createElement("path",ev({},Nr(t),{className:h,d:x}))};function LU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(v2(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,c=Et(n,a,i,s),u=Et(n,a,o,s);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return Zk(t)}}var eT={},tT={},rT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rT;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o0,r=tT;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=a,a+=o;return c}e.range=n})(eT);var UU=eT.range;const nT=Xn(UU);function Da(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function b0(e){let t,r,n;e.length!==2?(t=Da,r=(s,c)=>Da(e(s),c),n=(s,c)=>e(s)-c):(t=e===Da||e===qU?e:HU,r=e,n=e);function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=a(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:o,right:i}}function HU(){return 0}function aT(e){return e===null?NaN:+e}function*WU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const FU=b0(Da),yc=FU.right;b0(aT).center;class hw extends Map{constructor(t,r=KU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(mw(this,t))}has(t){return super.has(mw(this,t))}set(t,r){return super.set(VU(this,t),r)}delete(t){return super.delete(GU(this,t))}}function mw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function VU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function GU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function KU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function YU(e=Da){if(e===Da)return iT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const XU=Math.sqrt(50),ZU=Math.sqrt(10),JU=Math.sqrt(2);function Gd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=XU?10:i>=ZU?5:i>=JU?2:1;let s,c,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?Gd(e,t,r*2):[s,c,u]}function tv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Gd(t,e,r):Gd(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(i-u)/-o;else for(let u=0;u<s;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(a+u)/-o;else for(let u=0;u<s;++u)c[u]=(a+u)*o;return c}function rv(e,t,r){return t=+t,e=+e,r=+r,Gd(e,t,r)[2]}function nv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?rv(t,e,r):rv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function pw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function oT(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?iT:YU(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));oT(e,t,m,p,a)}const i=e[t];let o=r,s=n;for(zs(e,r,t),a(e[n],i)>0&&zs(e,r,n);o<s;){for(zs(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?zs(e,r,s):(++s,zs(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function zs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function QU(e,t,r){if(e=Float64Array.from(WU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return gw(e);if(t>=1)return pw(e);var n,a=(n-1)*t,i=Math.floor(a),o=pw(oT(e,i).subarray(0,i+1)),s=gw(e.subarray(i+1));return o+(s-o)*(a-i)}}function e9(e,t,r=aT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function t9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ta(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const av=Symbol("implicit");function x0(){var e=new hw,t=[],r=[],n=av;function a(i){let o=e.get(i);if(o===void 0){if(n!==av)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new hw;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return x0(t,r).unknown(n)},zr.apply(a,arguments),a}function _0(){var e=x0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,x=m?n:a;i=(x-p)/Math.max(1,h-c+u*2),s&&(i=Math.floor(i)),p+=(x-p-i*(h-c))*d,o=i*(1-c),s&&(p=Math.round(p),o=Math.round(o));var y=t9(h).map(function(v){return p+i*v});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return _0(t(),[n,a]).round(s).paddingInner(c).paddingOuter(u).align(d)},zr.apply(f(),arguments)}function sT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sT(t())},e}function r9(){return sT(_0.apply(null,arguments).paddingInner(1))}function w0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function bc(){}var Ll=.7,Kd=1/Ll,Po="\\s*([+-]?\\d+)\\s*",Ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n9=/^#([0-9a-f]{3,8})$/,a9=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),i9=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),o9=new RegExp(`^rgba\\(${Po},${Po},${Po},${Ul}\\)$`),s9=new RegExp(`^rgba\\(${sn},${sn},${sn},${Ul}\\)$`),l9=new RegExp(`^hsl\\(${Ul},${sn},${sn}\\)$`),c9=new RegExp(`^hsla\\(${Ul},${sn},${sn},${Ul}\\)$`),vw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w0(bc,ql,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yw,formatHex:yw,formatHex8:u9,formatHsl:d9,formatRgb:bw,toString:bw});function yw(){return this.rgb().formatHex()}function u9(){return this.rgb().formatHex8()}function d9(){return cT(this).formatHsl()}function bw(){return this.rgb().formatRgb()}function ql(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=n9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?xw(t):r===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=a9.exec(e))?new Gt(t[1],t[2],t[3],1):(t=i9.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=o9.exec(e))?mu(t[1],t[2],t[3],t[4]):(t=s9.exec(e))?mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=l9.exec(e))?jw(t[1],t[2]/100,t[3]/100,1):(t=c9.exec(e))?jw(t[1],t[2]/100,t[3]/100,t[4]):vw.hasOwnProperty(e)?xw(vw[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function xw(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function mu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gt(e,t,r,n)}function f9(e){return e instanceof bc||(e=ql(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function iv(e,t,r,n){return arguments.length===1?f9(e):new Gt(e,t,r,n??1)}function Gt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}w0(Gt,iv,lT(bc,{brighter(e){return e=e==null?Kd:Math.pow(Kd,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(xi(this.r),xi(this.g),xi(this.b),Yd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_w,formatHex:_w,formatHex8:h9,formatRgb:ww,toString:ww}));function _w(){return`#${ui(this.r)}${ui(this.g)}${ui(this.b)}`}function h9(){return`#${ui(this.r)}${ui(this.g)}${ui(this.b)}${ui((isNaN(this.opacity)?1:this.opacity)*255)}`}function ww(){const e=Yd(this.opacity);return`${e===1?"rgb(":"rgba("}${xi(this.r)}, ${xi(this.g)}, ${xi(this.b)}${e===1?")":`, ${e})`}`}function Yd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ui(e){return e=xi(e),(e<16?"0":"")+e.toString(16)}function jw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,r,n)}function cT(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof bc||(e=ql(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new Vr(o,s,c,e.opacity)}function m9(e,t,r,n){return arguments.length===1?cT(e):new Vr(e,t,r,n??1)}function Vr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}w0(Vr,m9,lT(bc,{brighter(e){return e=e==null?Kd:Math.pow(Kd,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Gt(Qm(e>=240?e-240:e+120,a,n),Qm(e,a,n),Qm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Vr(Sw(this.h),pu(this.s),pu(this.l),Yd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yd(this.opacity);return`${e===1?"hsl(":"hsla("}${Sw(this.h)}, ${pu(this.s)*100}%, ${pu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Sw(e){return e=(e||0)%360,e<0?e+360:e}function pu(e){return Math.max(0,Math.min(1,e||0))}function Qm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const j0=e=>()=>e;function p9(e,t){return function(r){return e+r*t}}function g9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function v9(e){return(e=+e)==1?uT:function(t,r){return r-t?g9(t,r,e):j0(isNaN(t)?r:t)}}function uT(e,t){var r=t-e;return r?p9(e,r):j0(isNaN(e)?t:e)}const Cw=function e(t){var r=v9(t);function n(a,i){var o=r((a=iv(a)).r,(i=iv(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),u=uT(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function y9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function b9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function x9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=ys(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function _9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function w9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ys(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ov=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ep=new RegExp(ov.source,"g");function j9(e){return function(){return e}}function S9(e){return function(t){return e(t)+""}}function C9(e,t){var r=ov.lastIndex=ep.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=ov.exec(e))&&(a=ep.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:Xd(n,a)})),r=ep.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?S9(c[0].x):j9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function ys(e,t){var r=typeof t,n;return t==null||r==="boolean"?j0(t):(r==="number"?Xd:r==="string"?(n=ql(t))?(t=n,Cw):C9:t instanceof ql?Cw:t instanceof Date?_9:b9(t)?y9:Array.isArray(t)?x9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?w9:Xd)(e,t)}function S0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function E9(e,t){t===void 0&&(t=e,e=ys);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function O9(e){return function(){return e}}function Zd(e){return+e}var Ew=[0,1];function zt(e){return e}function sv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:O9(isNaN(t)?NaN:.5)}function A9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function k9(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=sv(a,n),i=r(o,i)):(n=sv(n,a),i=r(i,o)),function(s){return i(n(s))}}function T9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=sv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=yc(e,s,1,n)-1;return i[c](a[c](s))}}function xc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _h(){var e=Ew,t=Ew,r=ys,n,a,i,o=zt,s,c,u;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=A9(e[0],e[h-1])),s=h>2?T9:k9,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(n),Xd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Zd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=S0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function C0(){return _h()(zt,zt)}function R9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zo(e){return e=Jd(Math.abs(e)),e?e[1]:NaN}function P9(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function N9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var M9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hl(e){if(!(t=M9.exec(e)))throw new Error("invalid format: "+e);var t;return new E0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hl.prototype=E0.prototype;function E0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}E0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Qd;function z9(e,t){var r=Jd(e,t);if(!r)return Qd=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Qd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jd(e,Math.max(0,t+i-1))[0]}function Ow(e,t){var r=Jd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Aw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:R9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ow(e*100,t),r:Ow,s:z9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kw(e){return e}var Tw=Array.prototype.map,Rw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function B9(e){var t=e.grouping===void 0||e.thousands===void 0?kw:P9(Tw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?kw:N9(Tw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Hl(f);var m=f.fill,p=f.align,x=f.sign,y=f.symbol,v=f.zero,g=f.width,_=f.comma,w=f.precision,j=f.trim,S=f.type;S==="n"?(_=!0,S="g"):Aw[S]||(w===void 0&&(w=12),j=!0,S="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var C=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),E=(y==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=Aw[S],T=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(k){var H=C,W=E,Z,O,R;if(S==="c")W=A(k)+W,k="";else{k=+k;var N=k<0||1/k<0;if(k=isNaN(k)?c:A(Math.abs(k),w),j&&(k=D9(k)),N&&+k==0&&x!=="+"&&(N=!1),H=(N?x==="("?x:s:x==="-"||x==="("?"":x)+H,W=(S==="s"&&!isNaN(k)&&Qd!==void 0?Rw[8+Qd/3]:"")+W+(N&&x==="("?")":""),T){for(Z=-1,O=k.length;++Z<O;)if(R=k.charCodeAt(Z),48>R||R>57){W=(R===46?a+k.slice(Z+1):k.slice(Z))+W,k=k.slice(0,Z);break}}}_&&!v&&(k=t(k,1/0));var L=H.length+k.length+W.length,U=L<g?new Array(g-L+1).join(m):"";switch(_&&v&&(k=t(U+k,U.length?g-W.length:1/0),U=""),p){case"<":k=H+k+W+U;break;case"=":k=H+U+k+W;break;case"^":k=U.slice(0,L=U.length>>1)+H+k+W+U.slice(L);break;default:k=U+H+k+W;break}return i(k)}return P.toString=function(){return f+""},P}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Zo(h)/3)))*3,p=Math.pow(10,-m),x=u((f=Hl(f),f.type="f",f),{suffix:Rw[8+m/3]});return function(y){return x(p*y)}}return{format:u,formatPrefix:d}}var gu,O0,dT;I9({thousands:",",grouping:[3],currency:["$",""]});function I9(e){return gu=B9(e),O0=gu.format,dT=gu.formatPrefix,gu}function $9(e){return Math.max(0,-Zo(Math.abs(e)))}function L9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zo(t)/3)))*3-Zo(Math.abs(e)))}function U9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zo(t)-Zo(e))+1}function fT(e,t,r,n){var a=nv(e,t,r),i;switch(n=Hl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=L9(a,o))&&(n.precision=i),dT(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=U9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=$9(a))&&(n.precision=i-(n.type==="%")*2);break}}return O0(n)}function Va(e){var t=e.domain;return e.ticks=function(r){var n=t();return tv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return fT(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=rv(o,s,r),u===c)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function hT(){var e=C0();return e.copy=function(){return xc(e,hT())},zr.apply(e,arguments),Va(e)}function mT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mT(e).unknown(t)},e=arguments.length?Array.from(e,Zd):[0,1],Va(r)}function pT(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Pw(e){return Math.log(e)}function Nw(e){return Math.exp(e)}function q9(e){return-Math.log(-e)}function H9(e){return-Math.exp(-e)}function W9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function F9(e){return e===10?W9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function V9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Mw(e){return(t,r)=>-e(-t,r)}function A0(e){const t=e(Pw,Nw),r=t.domain;let n=10,a,i;function o(){return a=V9(n),i=F9(n),r()[0]<0?(a=Mw(a),i=Mw(i),e(q9,H9)):e(Pw,Nw),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,x;const y=s==null?10:+s;let v=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(x=h<0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;v.push(x)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(x=h>0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;v.push(x)}v.length*2<y&&(v=tv(u,d,y))}else v=tv(h,m,Math.min(m-h,y)).map(i);return f?v.reverse():v},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Hl(c)).precision==null&&(c.trim=!0),c=O0(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(pT(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function gT(){const e=A0(_h()).domain([1,10]);return e.copy=()=>xc(e,gT()).base(e.base()),zr.apply(e,arguments),e}function Dw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function k0(e){var t=1,r=e(Dw(t),zw(t));return r.constant=function(n){return arguments.length?e(Dw(t=+n),zw(t)):t},Va(r)}function vT(){var e=k0(_h());return e.copy=function(){return xc(e,vT()).constant(e.constant())},zr.apply(e,arguments)}function Bw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function G9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function K9(e){return e<0?-e*e:e*e}function T0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(G9,K9):e(Bw(r),Bw(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Va(t)}function R0(){var e=T0(_h());return e.copy=function(){return xc(e,R0()).exponent(e.exponent())},zr.apply(e,arguments),e}function Y9(){return R0.apply(null,arguments).exponent(.5)}function Iw(e){return Math.sign(e)*e*e}function X9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yT(){var e=C0(),t=[0,1],r=!1,n;function a(i){var o=X9(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(Iw(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Zd)).map(Iw)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return yT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zr.apply(a,arguments),Va(a)}function bT(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=e9(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[yc(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Da),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return bT().domain(e).range(t).unknown(n)},zr.apply(i,arguments)}function xT(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[yc(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return xT().domain([e,t]).range(a).unknown(i)},zr.apply(Va(o),arguments)}function _T(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[yc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return _T().domain(e).range(t).unknown(r)},zr.apply(a,arguments)}const tp=new Date,rp=new Date;function ot(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let u;do c.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return c},a.filter=i=>ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(tp.setTime(+i),rp.setTime(+o),e(tp),e(rp),Math.floor(r(tp,rp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ef=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ef.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ef);ef.range;const kn=1e3,kr=kn*60,Tn=kr*60,Fn=Tn*24,P0=Fn*7,$w=Fn*30,np=Fn*365,di=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCSeconds());di.range;const N0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getMinutes());N0.range;const M0=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getUTCMinutes());M0.range;const D0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn-e.getMinutes()*kr)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getHours());D0.range;const z0=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCHours());z0.range;const _c=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kr)/Fn,e=>e.getDate()-1);_c.range;const wh=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fn,e=>e.getUTCDate()-1);wh.range;const wT=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fn,e=>Math.floor(e/Fn));wT.range;function qi(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*kr)/P0)}const jh=qi(0),tf=qi(1),Z9=qi(2),J9=qi(3),Jo=qi(4),Q9=qi(5),e7=qi(6);jh.range;tf.range;Z9.range;J9.range;Jo.range;Q9.range;e7.range;function Hi(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/P0)}const Sh=Hi(0),rf=Hi(1),t7=Hi(2),r7=Hi(3),Qo=Hi(4),n7=Hi(5),a7=Hi(6);Sh.range;rf.range;t7.range;r7.range;Qo.range;n7.range;a7.range;const B0=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());B0.range;const I0=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());I0.range;const Vn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vn.range;const Gn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gn.range;function jT(e,t,r,n,a,i){const o=[[di,1,kn],[di,5,5*kn],[di,15,15*kn],[di,30,30*kn],[i,1,kr],[i,5,5*kr],[i,15,15*kr],[i,30,30*kr],[a,1,Tn],[a,3,3*Tn],[a,6,6*Tn],[a,12,12*Tn],[n,1,Fn],[n,2,2*Fn],[r,1,P0],[t,1,$w],[t,3,3*$w],[e,1,np]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=b0(([,,y])=>y).right(o,h);if(m===o.length)return e.every(nv(u/np,d/np,f));if(m===0)return ef.every(Math.max(nv(u,d,f),1));const[p,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(x)}return[s,c]}const[i7,o7]=jT(Gn,I0,Sh,wT,z0,M0),[s7,l7]=jT(Vn,B0,jh,_c,D0,N0);function ap(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ip(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function c7(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=Is(a),d=$s(a),f=Is(i),h=$s(i),m=Is(o),p=$s(o),x=Is(s),y=$s(s),v=Is(c),g=$s(c),_={a:R,A:N,b:L,B:U,c:null,d:Fw,e:Fw,f:P7,g:q7,G:W7,H:k7,I:T7,j:R7,L:ST,m:N7,M:M7,p:ae,q:ue,Q:Kw,s:Yw,S:D7,u:z7,U:B7,V:I7,w:$7,W:L7,x:null,X:null,y:U7,Y:H7,Z:F7,"%":Gw},w={a:le,A:he,b:de,B:z,c:null,d:Vw,e:Vw,f:Y7,g:iq,G:sq,H:V7,I:G7,j:K7,L:ET,m:X7,M:Z7,p:q,q:ie,Q:Kw,s:Yw,S:J7,u:Q7,U:eq,V:tq,w:rq,W:nq,x:null,X:null,y:aq,Y:oq,Z:lq,"%":Gw},j={a:T,A:P,b:k,B:H,c:W,d:Hw,e:Hw,f:C7,g:qw,G:Uw,H:Ww,I:Ww,j:_7,L:S7,m:x7,M:w7,p:A,q:b7,Q:O7,s:A7,S:j7,u:m7,U:p7,V:g7,w:h7,W:v7,x:Z,X:O,y:qw,Y:Uw,Z:y7,"%":E7};_.x=S(r,_),_.X=S(n,_),_.c=S(t,_),w.x=S(r,w),w.X=S(n,w),w.c=S(t,w);function S(D,K){return function(ee){var $=[],Ut=-1,Ee=0,Qt=D.length,er,Ka,kb;for(ee instanceof Date||(ee=new Date(+ee));++Ut<Qt;)D.charCodeAt(Ut)===37&&($.push(D.slice(Ee,Ut)),(Ka=Lw[er=D.charAt(++Ut)])!=null?er=D.charAt(++Ut):Ka=er==="e"?" ":"0",(kb=K[er])&&(er=kb(ee,Ka)),$.push(er),Ee=Ut+1);return $.push(D.slice(Ee,Ut)),$.join("")}}function C(D,K){return function(ee){var $=Bs(1900,void 0,1),Ut=E($,D,ee+="",0),Ee,Qt;if(Ut!=ee.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(K&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(Ee=ip(Bs($.y,0,1)),Qt=Ee.getUTCDay(),Ee=Qt>4||Qt===0?rf.ceil(Ee):rf(Ee),Ee=wh.offset(Ee,($.V-1)*7),$.y=Ee.getUTCFullYear(),$.m=Ee.getUTCMonth(),$.d=Ee.getUTCDate()+($.w+6)%7):(Ee=ap(Bs($.y,0,1)),Qt=Ee.getDay(),Ee=Qt>4||Qt===0?tf.ceil(Ee):tf(Ee),Ee=_c.offset(Ee,($.V-1)*7),$.y=Ee.getFullYear(),$.m=Ee.getMonth(),$.d=Ee.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),Qt="Z"in $?ip(Bs($.y,0,1)).getUTCDay():ap(Bs($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(Qt+5)%7:$.w+$.U*7-(Qt+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,ip($)):ap($)}}function E(D,K,ee,$){for(var Ut=0,Ee=K.length,Qt=ee.length,er,Ka;Ut<Ee;){if($>=Qt)return-1;if(er=K.charCodeAt(Ut++),er===37){if(er=K.charAt(Ut++),Ka=j[er in Lw?K.charAt(Ut++):er],!Ka||($=Ka(D,ee,$))<0)return-1}else if(er!=ee.charCodeAt($++))return-1}return $}function A(D,K,ee){var $=u.exec(K.slice(ee));return $?(D.p=d.get($[0].toLowerCase()),ee+$[0].length):-1}function T(D,K,ee){var $=m.exec(K.slice(ee));return $?(D.w=p.get($[0].toLowerCase()),ee+$[0].length):-1}function P(D,K,ee){var $=f.exec(K.slice(ee));return $?(D.w=h.get($[0].toLowerCase()),ee+$[0].length):-1}function k(D,K,ee){var $=v.exec(K.slice(ee));return $?(D.m=g.get($[0].toLowerCase()),ee+$[0].length):-1}function H(D,K,ee){var $=x.exec(K.slice(ee));return $?(D.m=y.get($[0].toLowerCase()),ee+$[0].length):-1}function W(D,K,ee){return E(D,t,K,ee)}function Z(D,K,ee){return E(D,r,K,ee)}function O(D,K,ee){return E(D,n,K,ee)}function R(D){return o[D.getDay()]}function N(D){return i[D.getDay()]}function L(D){return c[D.getMonth()]}function U(D){return s[D.getMonth()]}function ae(D){return a[+(D.getHours()>=12)]}function ue(D){return 1+~~(D.getMonth()/3)}function le(D){return o[D.getUTCDay()]}function he(D){return i[D.getUTCDay()]}function de(D){return c[D.getUTCMonth()]}function z(D){return s[D.getUTCMonth()]}function q(D){return a[+(D.getUTCHours()>=12)]}function ie(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var K=S(D+="",_);return K.toString=function(){return D},K},parse:function(D){var K=C(D+="",!1);return K.toString=function(){return D},K},utcFormat:function(D){var K=S(D+="",w);return K.toString=function(){return D},K},utcParse:function(D){var K=C(D+="",!0);return K.toString=function(){return D},K}}}var Lw={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,u7=/^%/,d7=/[\\^$*+?|[\]().{}]/g;function me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function f7(e){return e.replace(d7,"\\$&")}function Is(e){return new RegExp("^(?:"+e.map(f7).join("|")+")","i")}function $s(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function h7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function m7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function g7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function v7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Uw(e,t,r){var n=yt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qw(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function y7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function b7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function x7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Hw(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function _7(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ww(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function w7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function j7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function S7(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function C7(e,t,r){var n=yt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function E7(e,t,r){var n=u7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function O7(e,t,r){var n=yt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function A7(e,t,r){var n=yt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Fw(e,t){return me(e.getDate(),t,2)}function k7(e,t){return me(e.getHours(),t,2)}function T7(e,t){return me(e.getHours()%12||12,t,2)}function R7(e,t){return me(1+_c.count(Vn(e),e),t,3)}function ST(e,t){return me(e.getMilliseconds(),t,3)}function P7(e,t){return ST(e,t)+"000"}function N7(e,t){return me(e.getMonth()+1,t,2)}function M7(e,t){return me(e.getMinutes(),t,2)}function D7(e,t){return me(e.getSeconds(),t,2)}function z7(e){var t=e.getDay();return t===0?7:t}function B7(e,t){return me(jh.count(Vn(e)-1,e),t,2)}function CT(e){var t=e.getDay();return t>=4||t===0?Jo(e):Jo.ceil(e)}function I7(e,t){return e=CT(e),me(Jo.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function $7(e){return e.getDay()}function L7(e,t){return me(tf.count(Vn(e)-1,e),t,2)}function U7(e,t){return me(e.getFullYear()%100,t,2)}function q7(e,t){return e=CT(e),me(e.getFullYear()%100,t,2)}function H7(e,t){return me(e.getFullYear()%1e4,t,4)}function W7(e,t){var r=e.getDay();return e=r>=4||r===0?Jo(e):Jo.ceil(e),me(e.getFullYear()%1e4,t,4)}function F7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+me(t/60|0,"0",2)+me(t%60,"0",2)}function Vw(e,t){return me(e.getUTCDate(),t,2)}function V7(e,t){return me(e.getUTCHours(),t,2)}function G7(e,t){return me(e.getUTCHours()%12||12,t,2)}function K7(e,t){return me(1+wh.count(Gn(e),e),t,3)}function ET(e,t){return me(e.getUTCMilliseconds(),t,3)}function Y7(e,t){return ET(e,t)+"000"}function X7(e,t){return me(e.getUTCMonth()+1,t,2)}function Z7(e,t){return me(e.getUTCMinutes(),t,2)}function J7(e,t){return me(e.getUTCSeconds(),t,2)}function Q7(e){var t=e.getUTCDay();return t===0?7:t}function eq(e,t){return me(Sh.count(Gn(e)-1,e),t,2)}function OT(e){var t=e.getUTCDay();return t>=4||t===0?Qo(e):Qo.ceil(e)}function tq(e,t){return e=OT(e),me(Qo.count(Gn(e),e)+(Gn(e).getUTCDay()===4),t,2)}function rq(e){return e.getUTCDay()}function nq(e,t){return me(rf.count(Gn(e)-1,e),t,2)}function aq(e,t){return me(e.getUTCFullYear()%100,t,2)}function iq(e,t){return e=OT(e),me(e.getUTCFullYear()%100,t,2)}function oq(e,t){return me(e.getUTCFullYear()%1e4,t,4)}function sq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Qo(e):Qo.ceil(e),me(e.getUTCFullYear()%1e4,t,4)}function lq(){return"+0000"}function Gw(){return"%"}function Kw(e){return+e}function Yw(e){return Math.floor(+e/1e3)}var Qi,AT,kT;cq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cq(e){return Qi=c7(e),AT=Qi.format,Qi.parse,kT=Qi.utcFormat,Qi.utcParse,Qi}function uq(e){return new Date(e)}function dq(e){return e instanceof Date?+e:+new Date(+e)}function $0(e,t,r,n,a,i,o,s,c,u){var d=C0(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),g=u("%b %d"),_=u("%B"),w=u("%Y");function j(S){return(c(S)<S?m:s(S)<S?p:o(S)<S?x:i(S)<S?y:n(S)<S?a(S)<S?v:g:r(S)<S?_:w)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,dq)):h().map(uq)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?j:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(pT(C,S)):d},d.copy=function(){return xc(d,$0(e,t,r,n,a,i,o,s,c,u))},d}function fq(){return zr.apply($0(s7,l7,Vn,B0,jh,_c,D0,N0,di,AT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hq(){return zr.apply($0(i7,o7,Gn,I0,Sh,wh,z0,M0,di,kT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ch(){var e=0,t=1,r,n,a,i,o=zt,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),u):[o(0),o(1)]}}return u.range=d(ys),u.rangeRound=d(S0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ga(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TT(){var e=Va(Ch()(zt));return e.copy=function(){return Ga(e,TT())},ta.apply(e,arguments)}function RT(){var e=A0(Ch()).domain([1,10]);return e.copy=function(){return Ga(e,RT()).base(e.base())},ta.apply(e,arguments)}function PT(){var e=k0(Ch());return e.copy=function(){return Ga(e,PT()).constant(e.constant())},ta.apply(e,arguments)}function L0(){var e=T0(Ch());return e.copy=function(){return Ga(e,L0()).exponent(e.exponent())},ta.apply(e,arguments)}function mq(){return L0.apply(null,arguments).exponent(.5)}function NT(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((yc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Da),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>QU(e,i/n))},r.copy=function(){return NT(t).domain(e)},ta.apply(r,arguments)}function Eh(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,u=zt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?s:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(y){var v,g,_;return arguments.length?([v,g,_]=y,u=E9(x,[v,g,_]),m):[u(0),u(.5),u(1)]}}return m.range=p(ys),m.rangeRound=p(S0),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),i=x(t),o=x(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function MT(){var e=Va(Eh()(zt));return e.copy=function(){return Ga(e,MT())},ta.apply(e,arguments)}function DT(){var e=A0(Eh()).domain([.1,1,10]);return e.copy=function(){return Ga(e,DT()).base(e.base())},ta.apply(e,arguments)}function zT(){var e=k0(Eh());return e.copy=function(){return Ga(e,zT()).constant(e.constant())},ta.apply(e,arguments)}function U0(){var e=T0(Eh());return e.copy=function(){return Ga(e,U0()).exponent(e.exponent())},ta.apply(e,arguments)}function pq(){return U0.apply(null,arguments).exponent(.5)}const Ks=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_0,scaleDiverging:MT,scaleDivergingLog:DT,scaleDivergingPow:U0,scaleDivergingSqrt:pq,scaleDivergingSymlog:zT,scaleIdentity:mT,scaleImplicit:av,scaleLinear:hT,scaleLog:gT,scaleOrdinal:x0,scalePoint:r9,scalePow:R0,scaleQuantile:bT,scaleQuantize:xT,scaleRadial:yT,scaleSequential:TT,scaleSequentialLog:RT,scaleSequentialPow:L0,scaleSequentialQuantile:NT,scaleSequentialSqrt:mq,scaleSequentialSymlog:PT,scaleSqrt:Y9,scaleSymlog:vT,scaleThreshold:_T,scaleTime:fq,scaleUtc:hq,tickFormat:fT},Symbol.toStringTag,{value:"Module"}));var ra=e=>e.chartData,BT=M([ra],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),IT=(e,t,r,n)=>n?BT(e):ra(e),gq=(e,t,r)=>r?BT(e):ra(e);function Ua(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Le(t)&&Le(r))return!0}return!1}function Xw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $T(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Le(r))a=r;else if(typeof r=="function")return;if(Le(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Ua(o))return o}}function vq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ua(n))return Xw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(G(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&v_.test(a)){var c=v_.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(G(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&y_.test(i)){var d=y_.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[o,s];if(Ua(h))return t==null?h:Xw(h,t,r)}}}var bs=1e9,yq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},H0,Ie=!0,Dr="[DecimalError] ",_i=Dr+"Invalid argument: ",q0=Dr+"Exponent out of range: ",xs=Math.floor,ii=Math.pow,bq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,ft=1e7,Re=7,LT=9007199254740991,nf=xs(LT/Re),F={};F.absoluteValue=F.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};F.comparedTo=F.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};F.decimalPlaces=F.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Re;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};F.dividedBy=F.div=function(e){return Mn(this,new this.constructor(e))};F.dividedToIntegerBy=F.idiv=function(e){var t=this,r=t.constructor;return je(Mn(t,new r(e),0,1),r.precision)};F.equals=F.eq=function(e){return!this.cmp(e)};F.exponent=function(){return tt(this)};F.greaterThan=F.gt=function(e){return this.cmp(e)>0};F.greaterThanOrEqualTo=F.gte=function(e){return this.cmp(e)>=0};F.isInteger=F.isint=function(){return this.e>this.d.length-2};F.isNegative=F.isneg=function(){return this.s<0};F.isPositive=F.ispos=function(){return this.s>0};F.isZero=function(){return this.s===0};F.lessThan=F.lt=function(e){return this.cmp(e)<0};F.lessThanOrEqualTo=F.lte=function(e){return this.cmp(e)<1};F.logarithm=F.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(sr)?new n(0):(Ie=!1,t=Mn(Wl(r,i),Wl(e,i),i),Ie=!0,je(t,a))};F.minus=F.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HT(t,e):UT(t,(e.s=-e.s,e))};F.modulo=F.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Dr+"NaN");return r.s?(Ie=!1,t=Mn(r,e,0,1).times(e),Ie=!0,r.minus(t)):je(new n(r),a)};F.naturalExponential=F.exp=function(){return qT(this)};F.naturalLogarithm=F.ln=function(){return Wl(this)};F.negated=F.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};F.plus=F.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UT(t,e):HT(t,(e.s=-e.s,e))};F.precision=F.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_i+e);if(t=tt(a)+1,n=a.d.length-1,r=n*Re+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};F.squareRoot=F.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Dr+"NaN")}for(e=tt(s),Ie=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=an(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=xs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Mn(s,i,o+2)).times(.5),an(i.d).slice(0,o)===(t=an(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(je(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Ie=!0,je(n,r)};F.times=F.mul=function(e){var t,r,n,a,i,o,s,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+m[n]*h[a-n-1]+t,i[a--]=s%ft|0,t=s/ft|0;i[a]=(i[a]+t)%ft|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ie?je(e,f.precision):e};F.toDecimalPlaces=F.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(un(e,0,bs),t===void 0?t=n.rounding:un(t,0,8),je(r,e+tt(r)+1,t))};F.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Pi(n,!0):(un(e,0,bs),t===void 0?t=a.rounding:un(t,0,8),n=je(new a(n),e+1,t),r=Pi(n,!0,e+1)),r};F.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Pi(a):(un(e,0,bs),t===void 0?t=i.rounding:un(t,0,8),n=je(new i(a),e+tt(a)+1,t),r=Pi(n.abs(),!1,e+tt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};F.toInteger=F.toint=function(){var e=this,t=e.constructor;return je(new t(e),tt(e)+1,t.rounding)};F.toNumber=function(){return+this};F.toPower=F.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(sr);if(s=new c(s),!s.s){if(e.s<1)throw Error(Dr+"Infinity");return s}if(s.eq(sr))return s;if(n=c.precision,e.eq(sr))return je(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=LT){for(a=new c(sr),t=Math.ceil(n/Re+4),Ie=!1;r%2&&(a=a.times(s),Jw(a.d,t)),r=xs(r/2),r!==0;)s=s.times(s),Jw(s.d,t);return Ie=!0,e.s<0?new c(sr).div(a):je(a,n)}}else if(i<0)throw Error(Dr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ie=!1,a=e.times(Wl(s,n+u)),Ie=!0,a=qT(a),a.s=i,a};F.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=tt(a),n=Pi(a,r<=i.toExpNeg||r>=i.toExpPos)):(un(e,1,bs),t===void 0?t=i.rounding:un(t,0,8),a=je(new i(a),e,t),r=tt(a),n=Pi(a,e<=r||r<=i.toExpNeg,e)),n};F.toSignificantDigits=F.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(un(e,1,bs),t===void 0?t=n.rounding:un(t,0,8)),je(new n(r),e,t)};F.toString=F.valueOf=F.val=F.toJSON=F[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),r=e.constructor;return Pi(e,t<=r.toExpNeg||t>=r.toExpPos)};function UT(e,t){var r,n,a,i,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ie?je(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=u.length):(n=u,a=o,s=c.length),o=Math.ceil(f/Re),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=u.length,s-i<0&&(i=s,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ft|0,c[i]%=ft;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Ie?je(t,f):t}function un(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_i+e)}function an(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Re-n.length,r&&(i+=da(r)),i+=n;o=e[t],n=o+"",r=Re-n.length,r&&(i+=da(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Mn=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%ft|0,o=i/ft|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ft+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,u,d,f,h,m,p,x,y,v,g,_,w,j,S,C,E,A=n.constructor,T=n.s==a.s?1:-1,P=n.d,k=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Dr+"Division by zero");for(c=n.e-a.e,C=k.length,j=P.length,m=new A(T),p=m.d=[],u=0;k[u]==(P[u]||0);)++u;if(k[u]>(P[u]||0)&&--c,i==null?g=i=A.precision:o?g=i+(tt(n)-tt(a))+1:g=i,g<0)return new A(0);if(g=g/Re+2|0,u=0,C==1)for(d=0,k=k[0],g++;(u<j||d)&&g--;u++)_=d*ft+(P[u]||0),p[u]=_/k|0,d=_%k|0;else{for(d=ft/(k[0]+1)|0,d>1&&(k=e(k,d),P=e(P,d),C=k.length,j=P.length),w=C,x=P.slice(0,C),y=x.length;y<C;)x[y++]=0;E=k.slice(),E.unshift(0),S=k[0],k[1]>=ft/2&&++S;do d=0,s=t(k,x,C,y),s<0?(v=x[0],C!=y&&(v=v*ft+(x[1]||0)),d=v/S|0,d>1?(d>=ft&&(d=ft-1),f=e(k,d),h=f.length,y=x.length,s=t(f,x,h,y),s==1&&(d--,r(f,C<h?E:k,h))):(d==0&&(s=d=1),f=k.slice()),h=f.length,h<y&&f.unshift(0),r(x,f,y),s==-1&&(y=x.length,s=t(k,x,C,y),s<1&&(d++,r(x,C<y?E:k,y))),y=x.length):s===0&&(d++,x=[0]),p[u++]=d,s&&x[0]?x[y++]=P[w]||0:(x=[P[w]],y=1);while((w++<j||x[0]!==void 0)&&g--)}return p[0]||p.shift(),m.e=c,je(m,o?i+tt(m)+1:i)}}();function qT(e,t){var r,n,a,i,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(tt(e)>16)throw Error(q0+tt(e));if(!e.s)return new d(sr);for(Ie=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ii(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(sr),d.precision=s;;){if(a=je(a.times(e),s),r=r.times(++c),o=i.plus(Mn(a,r,s)),an(o.d).slice(0,s)===an(i.d).slice(0,s)){for(;u--;)i=je(i.times(i),s);return d.precision=f,t==null?(Ie=!0,je(i,f)):i}i=o}}function tt(e){for(var t=e.e*Re,r=e.d[0];r>=10;r/=10)t++;return t}function op(e,t,r){if(t>e.LN10.sd())throw Ie=!0,r&&(e.precision=r),Error(Dr+"LN10 precision limit exceeded");return je(new e(e.LN10),t)}function da(e){for(var t="";e--;)t+="0";return t}function Wl(e,t){var r,n,a,i,o,s,c,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,y=x.precision;if(m.s<1)throw Error(Dr+(m.s?"NaN":"-Infinity"));if(m.eq(sr))return new x(0);if(t==null?(Ie=!1,u=y):u=t,m.eq(10))return t==null&&(Ie=!0),op(x,u);if(u+=h,x.precision=u,r=an(p),n=r.charAt(0),i=tt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=an(m.d),n=r.charAt(0),f++;i=tt(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return c=op(x,u+2,y).times(i+""),m=Wl(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=y,t==null?(Ie=!0,je(m,y)):m;for(s=o=m=Mn(m.minus(sr),m.plus(sr),u),d=je(m.times(m),u),a=3;;){if(o=je(o.times(d),u),c=s.plus(Mn(o,new x(a),u)),an(c.d).slice(0,u)===an(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(op(x,u+2,y).times(i+""))),s=Mn(s,new x(f),u),x.precision=y,t==null?(Ie=!0,je(s,y)):s;s=c,a+=2}}function Zw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=xs(r/Re),e.d=[],n=(r+1)%Re,r<0&&(n+=Re),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Re;n<a;)e.d.push(+t.slice(n,n+=Re));t=t.slice(n),n=Re-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ie&&(e.e>nf||e.e<-nf))throw Error(q0+r)}else e.s=0,e.e=0,e.d=[0];return e}function je(e,t,r){var n,a,i,o,s,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Re,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Re),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Re,a=n-Re+o}if(r!==void 0&&(i=ii(10,o-a-1),s=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?u/ii(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=tt(e),f.length=1,t=t-i-1,f[0]=ii(10,(Re-t%Re)%Re),e.e=xs(-t/Re)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ii(10,Re-n),f[d]=a>0?(u/ii(10,o-a)%ii(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ft&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ft)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ie&&(e.e>nf||e.e<-nf))throw Error(q0+tt(e));return e}function HT(e,t){var r,n,a,i,o,s,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ie?je(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),a=Math.max(Math.ceil(m/Re),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ft-1;--c[i],c[a]+=ft}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ie?je(t,m):t):new h(0)}function Pi(e,t,r){var n,a=tt(e),i=an(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+da(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+da(-a-1)+i,r&&(n=r-o)>0&&(i+=da(n))):a>=o?(i+=da(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+da(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=da(n))),e.s<0?"-"+i:i}function Jw(e,t){if(e.length>t)return e.length=t,!0}function WT(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(_i+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Zw(o,i.toString())}else if(typeof i!="string")throw Error(_i+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,bq.test(i))Zw(o,i);else throw Error(_i+i)}if(a.prototype=F,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=WT,a.config=a.set=xq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function xq(e){if(!e||typeof e!="object")throw Error(Dr+"Object expected");var t,r,n,a=["precision",1,bs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(xs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(_i+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_i+r+": "+n);return this}var H0=WT(yq);sr=new H0(1);const ye=H0;var _q=e=>e,FT={},VT=e=>e===FT,Qw=e=>function t(){return arguments.length===0||arguments.length===1&&VT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},GT=(e,t)=>e===1?t:Qw(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==FT).length;return i>=e?t(...n):GT(e-i,Qw(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=n.map(d=>VT(d)?s.shift():d);return t(...u,...s)}))}),wq=e=>GT(e.length,e),lv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},jq=wq((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Sq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return _q;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((s,c)=>c(s),i(...arguments))}};function KT(e){var t;return e===0?t=1:t=Math.floor(new ye(e).abs().log(10).toNumber())+1,t}function YT(e,t,r){for(var n=new ye(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var XT=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},ZT=(e,t,r)=>{if(e.lte(0))return new ye(0);var n=KT(e.toNumber()),a=new ye(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new ye(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?new ye(c.toNumber()):new ye(Math.ceil(c.toNumber()))},Cq=(e,t,r)=>{var n=new ye(1),a=new ye(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ye(10).pow(KT(e)-1),a=new ye(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ye(Math.floor(e)))}else e===0?a=new ye(Math.floor((t-1)/2)):r||(a=new ye(Math.floor(e)));var o=Math.floor((t-1)/2),s=Sq(jq(c=>a.add(new ye(c-o).mul(n)).toNumber()),lv);return s(0,t)},JT=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ye(0),tickMin:new ye(0),tickMax:new ye(0)};var o=ZT(new ye(r).sub(t).div(n-1),a,i),s;t<=0&&r>=0?s=new ye(0):(s=new ye(t).add(r).div(2),s=s.sub(new ye(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new ye(r).sub(s).div(o).toNumber()),d=c+u+1;return d>n?JT(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:s.sub(new ye(c).mul(o)),tickMax:s.add(new ye(u).mul(o))})},Eq=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[s,c]=XT([r,n]);if(s===-1/0||c===1/0){var u=c===1/0?[s,...lv(0,a-1).map(()=>1/0)]:[...lv(0,a-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(s===c)return Cq(s,a,i);var{step:d,tickMin:f,tickMax:h}=JT(s,c,o,i,0),m=YT(f,h.add(new ye(.1).mul(d)),d);return r>n?m.reverse():m},Oq=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=XT([n,a]);if(o===-1/0||s===1/0)return[n,a];if(o===s)return[o];var c=Math.max(r,2),u=ZT(new ye(s).sub(o).div(c-1),i,0),d=[...YT(new ye(o),new ye(s),u),s];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},QT=e=>e.rootProps.maxBarSize,Aq=e=>e.rootProps.barGap,eR=e=>e.rootProps.barCategoryGap,kq=e=>e.rootProps.barSize,Oh=e=>e.rootProps.stackOffset,tR=e=>e.rootProps.reverseStackOrder,W0=e=>e.options.chartName,F0=e=>e.rootProps.syncId,rR=e=>e.rootProps.syncMethod,V0=e=>e.options.eventEmitter,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Sn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ah=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Tq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:Sn.reversed,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:Sn.type,unit:void 0},Rq={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:rr.type,unit:void 0},Pq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Nq={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:"category",unit:void 0},G0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Pq:Tq,K0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Nq:Rq,kh=e=>e.polarOptions,Y0=M([Qn,ea,vt],RU),nR=M([kh,Y0],(e,t)=>{if(e!=null)return Yr(e.innerRadius,t,0)}),aR=M([kh,Y0],(e,t)=>{if(e!=null)return Yr(e.outerRadius,t,t*.8)}),Mq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},iR=M([kh],Mq);M([G0,iR],Ah);var oR=M([Y0,nR,aR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});M([K0,oR],Ah);var sR=M([xe,kh,nR,aR,Qn,ea],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:u}=t;return{cx:Yr(o,a,a/2),cy:Yr(s,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),st=(e,t)=>t,Th=(e,t,r)=>r;function X0(e){return e==null?void 0:e.id}function lR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(s=>{var c,u=(c=s.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=X0(s);u.forEach((f,h)=>{var m=i==null||a?h:String(At(f,i,null)),p=At(f,s.dataKey,0),x;o.has(m)?x=o.get(m):x={},Object.assign(x,{[d]:p}),o.set(m,x)})}}),Array.from(o.values())}function Rh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ph=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Nh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Dq(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var lt=e=>{var t=xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_s=e=>e.tooltip.settings.axisId;function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zq(e,t,r){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cv=[0,"auto"],ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},cR=(e,t)=>e.cartesianAxis.xAxis[t],na=(e,t)=>{var r=cR(e,t);return r??ut},dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:cv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:pc},uR=(e,t)=>e.cartesianAxis.yAxis[t],aa=(e,t)=>{var r=uR(e,t);return r??dt},$q={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Z0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??$q},Lt=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);case"zAxis":return Z0(e,r);case"angleAxis":return G0(e,r);case"radiusAxis":return K0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lq=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wc=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);case"angleAxis":return G0(e,r);case"radiusAxis":return K0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},dR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function fR(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var J0=e=>e.graphicalItems.cartesianItems,Uq=M([st,Th],fR),hR=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),jc=M([J0,Lt,Uq],hR,{memoizeOptions:{resultEqualityCheck:Nh}}),mR=M([jc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Rh)),pR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),qq=M([jc],pR),gR=e=>e.map(t=>t.data).filter(Boolean).flat(1),Hq=M([jc],gR,{memoizeOptions:{resultEqualityCheck:Nh}}),vR=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Q0=M([Hq,IT],vR),yR=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:At(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:At(a,n)}))):e.map(n=>({value:n})),Mh=M([Q0,Lt,jc],yR);function bR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Lu(e){if(ln(e)||e instanceof Date){var t=Number(e);if(Le(t))return t}}function tj(e){if(Array.isArray(e)){var t=[Lu(e[0]),Lu(e[1])];return Ua(t)?t:void 0}var r=Lu(e);if(r!=null)return[r,r]}function Kn(e){return e.map(Lu).filter(pB)}function Wq(e,t,r){return!r||typeof t!="number"||Kr(t)?[]:r.length?Kn(r.flatMap(n=>{var a=At(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Le(i)||!Le(o)))return[t-i,t+o]})):[]}var ct=e=>{var t=lt(e),r=_s(e);return wc(e,t,r)},Sc=M([ct],e=>e==null?void 0:e.dataKey),Fq=M([mR,IT,ct],lR),xR=(e,t,r,n)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var c=o[s.stackId];return c==null&&(c=[]),c.push(s),o[s.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,c]=o,u=n?[...c].reverse():c,d=u.map(X0);return[s,{stackedData:C$(e,d,r),graphicalItems:u}]}))},uv=M([Fq,mR,Oh,tR],xR),_R=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=T$(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Vq=M([Lt],e=>e.allowDataOverflow),eb=e=>{var t;if(e==null||!("domain"in e))return cv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Kn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:cv},wR=M([Lt],eb),jR=M([wR,Vq],$T),Gq=M([uv,ra,st,jR],_R,{memoizeOptions:{resultEqualityCheck:Ph}}),tb=e=>e.errorBars,Kq=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>bR(r,n)),of=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),s=Math.max(...i);return[o,s]}},SR=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(s=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(v=>bR(a,v)),h=At(s,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=Wq(s,h,f);if(m.length>=2){var p=Math.min(...m),x=Math.max(...m);(i==null||p<i)&&(i=p),(o==null||x>o)&&(o=x)}var y=tj(h);y!=null&&(i=i==null?y[0]:Math.min(i,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var c=tj(At(s,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),Le(i)&&Le(o))return[i,o]},Yq=M([Q0,Lt,qq,tb,st],SR,{memoizeOptions:{resultEqualityCheck:Ph}});function Xq(e){var{value:t}=e;if(ln(t)||t instanceof Date)return t}var Zq=(e,t,r)=>{var n=e.map(Xq).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&m2(n))?nT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},CR=e=>e.referenceElements.dots,ws=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Jq=M([CR,st,Th],ws),ER=e=>e.referenceElements.areas,Qq=M([ER,st,Th],ws),OR=e=>e.referenceElements.lines,eH=M([OR,st,Th],ws),AR=(e,t)=>{if(e!=null){var r=Kn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},tH=M(Jq,st,AR),kR=(e,t)=>{if(e!=null){var r=Kn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},rH=M([Qq,st],kR);function nH(e){var t;if(e.x!=null)return Kn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Kn(r)}function aH(e){var t;if(e.y!=null)return Kn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Kn(r)}var TR=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?nH(n):aH(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},iH=M([eH,st],TR),oH=M(tH,iH,rH,(e,t,r)=>of(e,r,t)),RR=(e,t,r,n,a,i,o,s)=>{if(r!=null)return r;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=c?of(n,i,a):of(i,a);return vq(t,u,e.allowDataOverflow)},sH=M([Lt,wR,jR,Gq,Yq,oH,xe,st],RR,{memoizeOptions:{resultEqualityCheck:Ph}}),lH=[0,1],PR=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,u=Ui(t,i);if(u&&s==null){var d;return nT(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?Zq(n,e,u):a==="expand"?lH:o}},rb=M([Lt,xe,Q0,Mh,Oh,st,sH],PR),NR=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(dc(i));return s in Ks?s:"point"}}},Cc=M([Lt,xe,dR,W0,st],NR);function cH(e){if(e!=null){if(e in Ks)return Ks[e]();var t="scale".concat(dc(e));if(t in Ks)return Ks[t]()}}function nb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=cH(t);if(a!=null){var i=a.domain(r).range(n);return x$(i),i}}}var MR=(e,t,r)=>{var n=eb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ua(e))return Eq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ua(e))return Oq(e,t.tickCount,t.allowDecimals)}},ab=M([rb,wc,Cc],MR),DR=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ua(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],s=r[r.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},uH=M([Lt,rb,ab,st],DR),dH=M(Mh,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Kn(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var c=n[s],u=n[s+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),zR=M(dH,xe,eR,vt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Le(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Yr(r,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),fH=(e,t,r)=>{var n=na(e,t);return n==null||typeof n.padding!="string"?0:zR(e,"xAxis",t,r,n.padding)},hH=(e,t,r)=>{var n=aa(e,t);return n==null||typeof n.padding!="string"?0:zR(e,"yAxis",t,r,n.padding)},mH=M(na,fH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),pH=M(aa,hH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),gH=M([vt,mH,mh,hh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),vH=M([vt,xe,pH,mh,hh,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ec=(e,t,r,n)=>{var a;switch(t){case"xAxis":return gH(e,r,n);case"yAxis":return vH(e,r,n);case"zAxis":return(a=Z0(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return iR(e);case"radiusAxis":return oR(e,r);default:return}},BR=M([Lt,Ec],Ah),Dh=M([Lt,Cc,uH,BR],nb);M([jc,tb,st],Kq);function IR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zh=(e,t)=>t,Bh=(e,t,r)=>r,yH=M(dh,zh,Bh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IR)),bH=M(fh,zh,Bh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IR)),$R=(e,t)=>({width:e.width,height:t.height}),xH=(e,t)=>{var r=typeof t.width=="number"?t.width:pc;return{width:r,height:e.height}},LR=M(vt,na,$R),_H=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},wH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},jH=M(ea,vt,yH,zh,Bh,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=$R(t,s);o==null&&(o=_H(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[s.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),SH=M(Qn,vt,bH,zh,Bh,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=xH(t,s);o==null&&(o=wH(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[s.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),CH=(e,t)=>{var r=na(e,t);if(r!=null)return jH(e,r.orientation,r.mirror)},EH=M([vt,na,CH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),OH=(e,t)=>{var r=aa(e,t);if(r!=null)return SH(e,r.orientation,r.mirror)},AH=M([vt,aa,OH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),UR=M(vt,aa,(e,t)=>{var r=typeof t.width=="number"?t.width:pc;return{width:r,height:e.height}}),rj=(e,t,r)=>{switch(t){case"xAxis":return LR(e,r).width;case"yAxis":return UR(e,r).height;default:return}},qR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,s=Ui(e,n),c=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&m2(c))return c}},ib=M([xe,Mh,Lt,st],qR),HR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Ui(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},ob=M([xe,Mh,wc,st],HR),nj=M([xe,Lq,Cc,Dh,ib,ob,Ec,ab,st],(e,t,r,n,a,i,o,s,c)=>{if(t!=null){var u=Ui(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),kH=(e,t,r,n,a,i,o,s,c)=>{if(!(t==null||n==null)){var u=Ui(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?Vt(i[0]-i[1])*2*p:p;var x=f||a;if(x){var y=x.map((v,g)=>{var _=o?o.indexOf(v):v;return{index:g,coordinate:n(_)+p,value:v,offset:p}});return y.filter(v=>Le(v.coordinate))}return u&&s?s.map((v,g)=>({coordinate:n(v)+p,value:v,index:g,offset:p})).filter(v=>Le(v.coordinate)):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,g)=>({coordinate:n(v)+p,value:o?o[v]:v,index:g,offset:p}))}},WR=M([xe,wc,Cc,Dh,ab,Ec,ib,ob,st],kH),TH=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=Ui(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Vt(n[0]-n[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},es=M([xe,wc,Dh,Ec,ib,ob,st],TH),ts=M(Lt,Dh,(e,t)=>{if(!(e==null||t==null))return af(af({},e),{},{scale:t})}),RH=M([Lt,Cc,rb,BR],nb);M((e,t,r)=>Z0(e,r),RH,(e,t)=>{if(!(e==null||t==null))return af(af({},e),{},{scale:t})});var PH=M([xe,dh,fh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FR=e=>e.options.defaultTooltipEventType,VR=e=>e.options.validateTooltipEventTypes;function GR(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function sb(e,t){var r=FR(e),n=VR(e);return GR(t,r,n)}function NH(e){return X(t=>sb(t,e))}var KR=(e,t)=>{var r,n=Number(t);if(!(Kr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},MH=e=>e.tooltip.settings,ya={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},DH={itemInteraction:{click:ya,hover:ya},axisInteraction:{click:ya,hover:ya},keyboardInteraction:ya,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},YR=Zt({name:"tooltip",initialState:DH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=Gr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:zH,replaceTooltipEntrySettings:BH,removeTooltipEntrySettings:IH,setTooltipSettingsState:$H,setActiveMouseOverItemIndex:XR,mouseLeaveItem:LH,mouseLeaveChart:ZR,setActiveClickItemIndex:UH,setMouseOverAxisIndex:JR,setMouseClickAxisIndex:qH,setSyncInteraction:dv,setKeyboardInteraction:fv}=YR.actions,HH=YR.reducer;function aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(r),!0).forEach(function(n){WH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WH(e,t,r){return(t=FH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function KH(e){return e.index!=null}var QR=(e,t,r,n)=>{if(t==null)return ya;var a=GH(e,t,r);if(a==null)return ya;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(KH(a)){if(i)return vu(vu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return vu(vu({},ya),{},{coordinate:a.coordinate})};function YH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function XH(e,t){var r=YH(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function ZH(e,t,r){if(r==null||t==null)return!0;var n=At(e,t);return n==null||!Ua(r)?!0:XH(n,r)}var lb=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Le(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(o,Math.min(i,s)),u=t[c];return u==null||ZH(u,r,n)?String(c):null},eP=(e,t,r,n,a,i,o,s)=>{if(!(i==null||s==null)){var c=o[0],u=c==null?void 0:s(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},tP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Oc=e=>e.options.tooltipPayloadSearcher,js=e=>e.tooltip;function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){JH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JH(e,t,r){return(t=QH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tW(e,t){return e??t}var rP=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:y}=m,v=tW(x,s),g=Array.isArray(v)?wk(v,u,d):v,_=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:n,w=y==null?void 0:y.nameKey,j;if(n&&Array.isArray(g)&&!Array.isArray(g[0])&&o==="axis"?j=mB(g,n,a):j=i(g,t,c,w),Array.isArray(j))j.forEach(C=>{var E=oj(oj({},y),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});h.push(b_({tooltipEntrySettings:E,dataKey:C.dataKey,payload:C.payload,value:At(C.payload,C.dataKey),name:C.name}))});else{var S;h.push(b_({tooltipEntrySettings:y,dataKey:_,payload:j,value:At(j,_),name:(S=At(j,w))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},cb=M([ct,xe,dR,W0,lt],NR),rW=M([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),nW=M([lt,_s],fR),Ss=M([rW,ct,nW],hR,{memoizeOptions:{resultEqualityCheck:Nh}}),aW=M([Ss],e=>e.filter(Rh)),iW=M([Ss],gR,{memoizeOptions:{resultEqualityCheck:Nh}}),Cs=M([iW,ra],vR),oW=M([aW,ra,ct],lR),ub=M([Cs,ct,Ss],yR),nP=M([ct],eb),sW=M([ct],e=>e.allowDataOverflow),aP=M([nP,sW],$T),lW=M([Ss],e=>e.filter(Rh)),cW=M([oW,lW,Oh,tR],xR),uW=M([cW,ra,lt,aP],_R),dW=M([Ss],pR),fW=M([Cs,ct,dW,tb,lt],SR,{memoizeOptions:{resultEqualityCheck:Ph}}),hW=M([CR,lt,_s],ws),mW=M([hW,lt],AR),pW=M([ER,lt,_s],ws),gW=M([pW,lt],kR),vW=M([OR,lt,_s],ws),yW=M([vW,lt],TR),bW=M([mW,yW,gW],of),xW=M([ct,nP,aP,uW,fW,bW,xe,lt],RR),Ac=M([ct,xe,Cs,ub,Oh,lt,xW],PR),_W=M([Ac,ct,cb],MR),wW=M([ct,Ac,_W,lt],DR),iP=e=>{var t=lt(e),r=_s(e),n=!1;return Ec(e,t,r,n)},oP=M([ct,iP],Ah),sP=M([ct,cb,wW,oP],nb),jW=M([xe,ub,ct,lt],qR),SW=M([xe,ub,ct,lt],HR),CW=(e,t,r,n,a,i,o,s)=>{if(t){var{type:c}=t,u=Ui(e,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Vt(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},ia=M([xe,ct,cb,sP,iP,jW,SW,lt],CW),db=M([FR,VR,MH],(e,t,r)=>GR(r.shared,e,t)),lP=e=>e.tooltip.settings.trigger,fb=e=>e.tooltip.settings.defaultIndex,kc=M([js,db,lP,fb],QR),rs=M([kc,Cs,Sc,Ac],lb),cP=M([ia,rs],KR),uP=M([kc],e=>{if(e)return e.dataKey});M([kc],e=>{if(e)return e.graphicalItemId});var dP=M([js,db,lP,fb],tP),EW=M([Qn,ea,xe,vt,ia,fb,dP,Oc],eP),OW=M([kc,EW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),AW=M([kc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),kW=M([dP,rs,ra,Sc,cP,Oc,db],rP);M([kW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){TW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TW(e,t,r){return(t=RW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NW=()=>X(ct),MW=()=>{var e=NW(),t=X(ia),r=X(sP);return Bd(!e||!r?void 0:lj(lj({},e),{},{scale:r}),t)};function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return(t=zW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IW=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},$W=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return eo(eo(eo({},n),Et(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:c}=n;return eo(eo(eo({},n),Et(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function LW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var fP=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var c,u,d,f,h,m=s>0?(c=r[s-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,p=(d=r[s])===null||d===void 0?void 0:d.coordinate,x=s>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[s+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||x==null))if(Vt(p-m)!==Vt(x-p)){var v=[];if(Vt(x-p)===Vt(a[1]-a[0])){y=x;var g=p+a[1]-a[0];v[0]=Math.min(g,(g+m)/2),v[1]=Math.max(g,(g+m)/2)}else{y=m;var _=x+a[1]-a[0];v[0]=Math.min(p,(_+p)/2),v[1]=Math.max(p,(_+p)/2)}var w=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){var j;return(j=r[s])===null||j===void 0?void 0:j.index}}else{var S=Math.min(m,x),C=Math.max(m,x);if(e>(S+p)/2&&e<=(C+p)/2){var E;return(E=r[s])===null||E===void 0?void 0:E.index}}}else if(t)for(var A=0;A<o;A++){var T=t[A];if(T!=null){var P=t[A+1],k=t[A-1];if(A===0&&P!=null&&e<=(T.coordinate+P.coordinate)/2||A===o-1&&k!=null&&e>(T.coordinate+k.coordinate)/2||A>0&&A<o-1&&k!=null&&P!=null&&e>(T.coordinate+k.coordinate)/2&&e<=(T.coordinate+P.coordinate)/2)return T.index}}return-1},UW=()=>X(W0),hb=(e,t)=>t,hP=(e,t,r)=>r,mb=(e,t,r,n)=>n,qW=M(ia,e=>th(e,t=>t.coordinate)),pb=M([js,hb,hP,mb],QR),gb=M([pb,Cs,Sc,Ac],lb),HW=(e,t,r)=>{if(t!=null){var n=js(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},mP=M([js,hb,hP,mb],tP),sf=M([Qn,ea,xe,vt,ia,mb,mP,Oc],eP),WW=M([pb,sf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),pP=M([ia,gb],KR),FW=M([mP,gb,ra,Sc,pP,Oc,hb],rP),VW=M([pb,gb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),GW=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&LW(e,o)){var s=R$(e,t),c=fP(s,i,a,r,n),u=IW(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},KW=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var s=zU(e,r);if(s){var c=P$(s,t),u=fP(c,o,i,n,a),d=$W(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},YW=(e,t,r,n,a,i,o,s)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?GW(e,t,n,a,i,o,s):KW(e,t,r,n,a,i,o)},XW=M(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),ZW=M(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Bt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Dq}});function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return(t=QW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=eF(e,"string");return typeof t=="symbol"?t:t+""}function eF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tF={},rF={zIndexMap:Object.values(Bt).reduce((e,t)=>dj(dj({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),tF)},nF=new Set(Object.values(Bt));function aF(e){return nF.has(e)}var gP=Zt({name:"zIndex",initialState:rF,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!aF(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Be()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Be()}}}),{registerZIndexPortal:iF,unregisterZIndexPortal:oF,registerZIndexPortalElement:sF,unregisterZIndexPortalElement:lF}=gP.actions,cF=gP.reducer;function oa(e){var{zIndex:t,children:r}=e,n=sL(),a=n&&t!==void 0&&t!==0,i=Jt(),o=Ge();b.useLayoutEffect(()=>a?(o(iF({zIndex:t})),()=>{o(oF({zIndex:t}))}):fc,[o,t,a]);var s=X(c=>XW(c,t,i));return a?s?Av.createPortal(r,s):null:r}function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){uF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uF(e,t,r){return(t=dF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=fF(e,"string");return typeof t=="symbol"?t:t+""}function fF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hF(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return b.isValidElement(t)?b.cloneElement(t,n):b.createElement(r,n)}function mF(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,y;if(d==="ScatterChart")p=f,x=YL,y=Bt.cursorLine;else if(d==="BarChart")p=XL(s,f,i,o),x=Xk,y=Bt.cursorRectangle;else if(s==="radial"&&v2(f)){var{cx:v,cy:g,radius:_,startAngle:w,endAngle:j}=Zk(f);p={cx:v,cy:g,startAngle:w,endAngle:j,innerRadius:_,outerRadius:_},x=Qk,y=Bt.cursorLine}else p={points:LU(s,f,i)},x=Fk,y=Bt.cursorLine;var S=typeof c=="object"&&"className"in c?c.className:void 0,C=yu(yu(yu(yu({stroke:"#ccc",pointerEvents:"none"},i),p),Wy(c)),{},{payload:h,payloadIndex:m,className:De("recharts-tooltip-cursor",S)});return b.createElement(oa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},b.createElement(hF,{cursor:c,cursorComp:x,cursorProps:C}))}function pF(e){var t=MW(),r=Mk(),n=gc(),a=UW();return t==null||r==null||n==null||a==null?null:b.createElement(mF,hv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var vP=b.createContext(null),gF=()=>b.useContext(vP),yP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,p){var x=r?r+u:u;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,g,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(_=1,g=new Array(v-1);_<v;_++)g[_-1]=arguments[_];y.fn.apply(y.context,g)}else{var w=y.length,j;for(_=0;_<w;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),v){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,f);break;case 4:y[_].fn.call(y[_].context,d,f,h);break;default:if(!g)for(j=1,g=new Array(v-1);j<v;j++)g[j-1]=arguments[j];y[_].fn.apply(y[_].context,g)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var x=0,y=[],v=p.length;x<v;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&y.push(p[x]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(yP);var vF=yP.exports;const yF=Xn(vF);var Fl=new yF,mv="recharts.syncEvent.tooltip",hj="recharts.syncEvent.brush";function bF(e,t){if(t){var r=Number.parseInt(t,10);if(!Kr(r))return e==null?void 0:e[r]}}var xF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},bP=Zt({name:"options",initialState:xF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),_F=bP.reducer,{createEventEmitter:wF}=bP.actions;function jF(e){return e.tooltip.syncInteraction}var SF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xP=Zt({name:"chartData",initialState:SF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:mj,setDataStartEndIndexes:CF,setComputedData:JZ}=xP.actions,EF=xP.reducer,OF=["x","y"];function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){AF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AF(e,t,r){return(t=kF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=TF(e,"string");return typeof t=="symbol"?t:t+""}function TF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RF(e,t){if(e==null)return{};var r,n,a=PF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NF(){var e=X(F0),t=X(V0),r=Ge(),n=X(rR),a=X(ia),i=gc(),o=ph(),s=X(c=>c.rootProps.className);b.useEffect(()=>{if(e==null)return fc;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:x}=m,y=RF(m,OF),{x:v,y:g,width:_,height:w}=d.payload.sourceViewBox,j=to(to({},y),{},{x:o.x+(_?(p-v)/_:0)*o.width,y:o.y+(w?(x-g)/w:0)*o.height});r(to(to({},d),{},{payload:to(to({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(a,C);S=a[E]}else n==="value"&&(S=a.find(O=>String(O.value)===d.payload.label));var{coordinate:A}=d.payload;if(S==null||d.payload.active===!1||A==null||o==null){r(dv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:P}=A,k=Math.min(T,o.x+o.width),H=Math.min(P,o.y+o.height),W={x:i==="horizontal"?S.coordinate:k,y:i==="horizontal"?H:S.coordinate},Z=dv({active:d.payload.active,coordinate:W,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(Z)}}};return Fl.on(mv,c),()=>{Fl.off(mv,c)}},[s,r,t,e,n,a,i,o])}function MF(){var e=X(F0),t=X(V0),r=Ge();b.useEffect(()=>{if(e==null)return fc;var n=(a,i,o)=>{t!==o&&e===a&&r(CF(i))};return Fl.on(hj,n),()=>{Fl.off(hj,n)}},[r,t,e])}function DF(){var e=Ge();b.useEffect(()=>{e(wF())},[e]),NF(),MF()}function zF(e,t,r,n,a,i){var o=X(m=>HW(m,e,t)),s=X(V0),c=X(F0),u=X(rR),d=X(jF),f=d==null?void 0:d.active,h=ph();b.useEffect(()=>{if(!f&&c!=null&&s!=null){var m=dv({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Fl.emit(mv,c,m,s)}},[f,r,o,a,n,s,c,u,i,h])}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){BF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BF(e,t,r){return(t=IF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=$F(e,"string");return typeof t=="symbol"?t:t+""}function $F(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LF(e){return e.dataKey}function UF(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(AL,t)}var yj=[],qF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function HF(e){var t,r,n=yr(e,qF),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:x,wrapperStyle:y,cursor:v,shared:g,trigger:_,defaultIndex:w,portal:j,axisId:S}=n,C=Ge(),E=typeof w=="number"?String(w):w;b.useEffect(()=>{C($H({shared:g,trigger:_,axisId:S,active:a,defaultIndex:E}))},[C,g,_,S,a,E]);var A=ph(),T=Wk(),P=NH(g),{activeIndex:k,isActive:H}=(t=X(q=>VW(q,P,_,E)))!==null&&t!==void 0?t:{},W=X(q=>FW(q,P,_,E)),Z=X(q=>pP(q,P,_,E)),O=X(q=>WW(q,P,_,E)),R=W,N=gF(),L=(r=a??H)!==null&&r!==void 0?r:!1,[U,ae]=pI([R,L]),ue=P==="axis"?Z:void 0;zF(P,_,O,ue,k,L);var le=j??N;if(le==null||A==null||P==null)return null;var he=R??yj;L||(he=yj),u&&he.length&&(he=NB(he.filter(q=>q.value!=null&&(q.hide!==!0||n.includeHidden)),h,LF));var de=he.length>0,z=b.createElement(DL,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:L,coordinate:O,hasPayload:de,offset:f,position:m,reverseDirection:p,useTranslate3d:x,viewBox:A,wrapperStyle:y,lastBoundingBox:U,innerRef:ae,hasPortalFromProps:!!j},UF(c,vj(vj({},n),{},{payload:he,label:ue,active:L,activeIndex:k,coordinate:O,accessibilityLayer:T})));return b.createElement(b.Fragment,null,Av.createPortal(z,le),L&&b.createElement(pF,{cursor:v,tooltipEventType:P,coordinate:O,payload:he,index:k}))}var vb=e=>null;vb.displayName="Cell";function WF(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=VF(e,"string");return typeof t=="symbol"?t:t+""}function VF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GF{constructor(t){WF(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){YF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YF(e,t,r){return(t=XF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=ZF(e,"string");return typeof t=="symbol"?t:t+""}function ZF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JF={cacheSize:2e3,enableCache:!0},_P=KF({},JF),xj=new GF(_P.cacheSize),QF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_j="recharts_measurement_span";function eV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var wj=(e,t)=>{try{var r=document.getElementById(_j);r||(r=document.createElement("span"),r.setAttribute("id",_j),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,QF,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},fl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xh.isSsr)return{width:0,height:0};if(!_P.enableCache)return wj(t,r);var n=eV(t,r),a=xj.get(n);if(a)return a;var i=wj(t,r);return xj.set(n,i),i},wP;function tV(e,t,r){return(t=rV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sV=["cm","mm","pt","pc","in","Q","px"];function lV(e){return sV.includes(e)}var wo="NaN";function cV(e,t){return e*oV[t]}class _t{static parse(t){var r,[,n,a]=(r=iV.exec(t))!==null&&r!==void 0?r:[];return n==null?_t.NaN:new _t(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Kr(t)&&(this.unit=""),r!==""&&!aV.test(r)&&(this.num=NaN,this.unit=""),lV(r)&&(this.num=cV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new _t(NaN,""):new _t(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new _t(NaN,""):new _t(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _t(NaN,""):new _t(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _t(NaN,""):new _t(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Kr(this.num)}}wP=_t;tV(_t,"NaN",new wP(NaN,""));function jP(e){if(e==null||e.includes(wo))return wo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=jj.exec(t))!==null&&r!==void 0?r:[],o=_t.parse(n??""),s=_t.parse(i??""),c=a==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return wo;t=t.replace(jj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=Sj.exec(t))!==null&&u!==void 0?u:[],m=_t.parse(d??""),p=_t.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return wo;t=t.replace(Sj,x.toString())}return t}var Cj=/\(([^()]*)\)/;function uV(e){for(var t=e,r;(r=Cj.exec(t))!=null;){var[,n]=r;t=t.replace(Cj,jP(n))}return t}function dV(e){var t=e.replace(/\s+/g,"");return t=uV(t),t=jP(t),t}function fV(e){try{return dV(e)}catch{return wo}}function sp(e){var t=fV(e.slice(5,-1));return t===wo?"":t}var hV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],mV=["dx","dy","angle","className","breakAll"];function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function Ej(e,t){if(e==null)return{};var r,n,a=pV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SP=/[ \f\n\r\t\v\u2028\u2029]+/,CP=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gt(t)||(r?a=t.toString().split(""):a=t.toString().split(SP));var i=a.map(s=>({word:s,width:fl(s,n).width})),o=r?0:fl("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function gV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var EP=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:s}=i,c=a[a.length-1];if(c&&s!=null&&(t==null||n||c.width+s+r<Number(t)))c.words.push(o),c.width+=s+r;else{var u={words:[o],width:s};a.push(u)}return a},[]),OP=e=>e.reduce((t,r)=>t.width>r.width?t:r),vV="",Oj=(e,t,r,n,a,i,o,s)=>{var c=e.slice(0,t),u=CP({breakAll:r,style:n,children:c+vV});if(!u)return[!1,[]];var d=EP(u.wordsWithComputedWidth,i,o,s),f=d.length>a||OP(d).width>Number(i);return[f,d]},yV=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:s,breakAll:c}=e,u=G(i),d=String(o),f=EP(t,n,r,a);if(!u||a)return f;var h=f.length>i||OP(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,x=0,y;m<=p&&x<=d.length-1;){var v=Math.floor((m+p)/2),g=v-1,[_,w]=Oj(d,g,c,s,i,n,r,a),[j]=Oj(d,v,c,s,i,n,r,a);if(!_&&!j&&(m=v+1),_&&j&&(p=v-1),!_&&j){y=w;break}x++}return y||f},Aj=e=>{var t=gt(e)?[]:e.toString().split(SP);return[{words:t,width:void 0}]},bV=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!xh.isSsr){var s,c,u=CP({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,c=f}else return Aj(n);return yV({breakAll:i,children:n,maxLines:o,style:a},s,c,t,!!r)}return Aj(n)},AP="#808080",xV={angle:0,breakAll:!1,capHeight:"0.71em",fill:AP,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},yb=b.forwardRef((e,t)=>{var r=yr(e,xV),{x:n,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=Ej(r,hV),h=b.useMemo(()=>bV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:x,className:y,breakAll:v}=f,g=Ej(f,mV);if(!ln(n)||!ln(a)||h.length===0)return null;var _=Number(n)+(G(m)?m:0),w=Number(a)+(G(p)?p:0);if(!Le(_)||!Le(w))return null;var j;switch(d){case"start":j=sp("calc(".concat(o,")"));break;case"middle":j=sp("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=sp("calc(".concat(h.length-1," * -").concat(i,")"));break}var S=[];if(c){var C=h[0].width,{width:E}=f;S.push("scale(".concat(G(E)&&G(C)?E/C:1,")"))}return x&&S.push("rotate(".concat(x,", ").concat(_,", ").concat(w,")")),S.length&&(g.transform=S.join(" ")),b.createElement("text",pv({},Nr(g),{ref:t,x:_,y:w,className:De("recharts-text",y),textAnchor:u,fill:s.includes("url")?AP:s}),h.map((A,T)=>{var P=A.words.join(v?"":" ");return b.createElement("tspan",{x:_,dy:T===0?j:i,key:"".concat(P,"-").concat(T)},P)}))});yb.displayName="Text";var _V=["labelRef"],wV=["content"];function kj(e,t){if(e==null)return{};var r,n,a=jV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){SV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SV(e,t,r){return(t=CV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cn.apply(null,arguments)}var kP=b.createContext(null),OV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:s}=e,c=b.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return b.createElement(kP.Provider,{value:c},s)},TP=()=>{var e=b.useContext(kP),t=ph();return e||Nk(t)},AV=b.createContext(null),kV=()=>{var e=b.useContext(AV),t=X(sR);return e||t},TV=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},bb=e=>e!=null&&typeof e=="function",RV=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},PV=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:s,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,x=RV(f,h),y=x>=0?1:-1,v,g;switch(t){case"insideStart":v=f+y*i,g=m;break;case"insideEnd":v=h-y*i,g=!m;break;case"end":v=h+y*i,g=m;break;default:throw new Error("Unsupported position ".concat(t))}g=x<=0?g:!g;var _=Et(s,c,p,v),w=Et(s,c,p,v+(g?1:-1)*359),j="M".concat(_.x,",").concat(_.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(g?0:1,`,
    `).concat(w.x,",").concat(w.y),S=gt(e.id)?Pl("recharts-radial-line-"):e.id;return b.createElement("text",Cn({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:S,d:j})),b.createElement("textPath",{xlinkHref:"#".concat(S)},r))},NV=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:d,y:f}=Et(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:p}=Et(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},gv=e=>"cx"in e&&G(e.cx),MV=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!gv(r)&&(i=r);var{x:o,y:s,upperWidth:c,lowerWidth:u,height:d}=t,f=o,h=o+(c-u)/2,m=(f+h)/2,p=(c+u)/2,x=f+c/2,y=d>=0?1:-1,v=y*n,g=y>0?"end":"start",_=y>0?"start":"end",w=c>=0?1:-1,j=w*n,S=w>0?"end":"start",C=w>0?"start":"end";if(a==="top"){var E={x:f+c/2,y:s-v,textAnchor:"middle",verticalAnchor:g};return We(We({},E),i?{height:Math.max(s-i.y,0),width:c}:{})}if(a==="bottom"){var A={x:h+u/2,y:s+d+v,textAnchor:"middle",verticalAnchor:_};return We(We({},A),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var T={x:m-j,y:s+d/2,textAnchor:S,verticalAnchor:"middle"};return We(We({},T),i?{width:Math.max(T.x-i.x,0),height:d}:{})}if(a==="right"){var P={x:m+p+j,y:s+d/2,textAnchor:C,verticalAnchor:"middle"};return We(We({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var k=i?{width:p,height:d}:{};return a==="insideLeft"?We({x:m+j,y:s+d/2,textAnchor:C,verticalAnchor:"middle"},k):a==="insideRight"?We({x:m+p-j,y:s+d/2,textAnchor:S,verticalAnchor:"middle"},k):a==="insideTop"?We({x:f+c/2,y:s+v,textAnchor:"middle",verticalAnchor:_},k):a==="insideBottom"?We({x:h+u/2,y:s+d-v,textAnchor:"middle",verticalAnchor:g},k):a==="insideTopLeft"?We({x:f+j,y:s+v,textAnchor:C,verticalAnchor:_},k):a==="insideTopRight"?We({x:f+c-j,y:s+v,textAnchor:S,verticalAnchor:_},k):a==="insideBottomLeft"?We({x:h+j,y:s+d-v,textAnchor:C,verticalAnchor:g},k):a==="insideBottomRight"?We({x:h+u-j,y:s+d-v,textAnchor:S,verticalAnchor:g},k):a&&typeof a=="object"&&(G(a.x)||Hn(a.x))&&(G(a.y)||Hn(a.y))?We({x:o+Yr(a.x,p),y:s+Yr(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):We({x,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},DV={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function fa(e){var t=yr(e,DV),{viewBox:r,position:n,value:a,children:i,content:o,className:s="",textBreakAll:c,labelRef:u}=t,d=kV(),f=TP(),h=n==="center"?f:d??f,m,p,x;if(r==null?m=h:gv(r)?m=r:m=Nk(r),!m||gt(a)&&gt(i)&&!b.isValidElement(o)&&typeof o!="function")return null;var y=We(We({},t),{},{viewBox:m});if(b.isValidElement(o)){var{labelRef:v}=y,g=kj(y,_V);return b.cloneElement(o,g)}if(typeof o=="function"){var{content:_}=y,w=kj(y,wV);if(p=b.createElement(o,w),b.isValidElement(p))return p}else p=TV(t);var j=Nr(t);if(gv(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return PV(t,n,p,j,m);x=NV(m,t.offset,t.position)}else x=MV(t,m);return b.createElement(oa,{zIndex:t.zIndex},b.createElement(yb,Cn({ref:u,className:De("recharts-label",s)},j,x,{textAnchor:gV(j.textAnchor)?j.textAnchor:x.textAnchor,breakAll:c}),p))}fa.displayName="Label";var zV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(fa,Cn({key:"label-implicit"},n)):ln(e)?b.createElement(fa,Cn({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===fa?b.cloneElement(e,We({key:"label-implicit"},n)):b.createElement(fa,Cn({key:"label-implicit",content:e},n)):bb(e)?b.createElement(fa,Cn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(fa,Cn({},e,{key:"label-implicit"},n)):null};function BV(e){var{label:t,labelRef:r}=e,n=TP();return zV(t,n,r)||null}var RP={},PP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(PP);var NP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(NP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP,r=NP,n=Jf;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(RP);var IV=RP.last;const $V=Xn(IV);var LV=["valueAccessor"],UV=["dataKey","clockWise","id","textBreakAll","zIndex"];function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(null,arguments)}function Rj(e,t){if(e==null)return{};var r,n,a=qV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HV=e=>Array.isArray(e.value)?$V(e.value):e.value,MP=b.createContext(void 0),WV=MP.Provider,DP=b.createContext(void 0);DP.Provider;function FV(){return b.useContext(MP)}function VV(){return b.useContext(DP)}function Uu(e){var{valueAccessor:t=HV}=e,r=Rj(e,LV),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:s}=r,c=Rj(r,UV),u=FV(),d=VV(),f=u||d;return!f||!f.length?null:b.createElement(oa,{zIndex:s??Bt.label},b.createElement(qn,{className:"recharts-label-list"},f.map((h,m)=>{var p,x=gt(n)?t(h,m):At(h&&h.payload,n),y=gt(i)?{}:{id:"".concat(i,"-").concat(m)};return b.createElement(fa,lf({key:"label-".concat(m)},Nr(h),c,y,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Uu.displayName="LabelList";function GV(e){var{label:t}=e;return t?t===!0?b.createElement(Uu,{key:"labelList-implicit"}):b.isValidElement(t)||bb(t)?b.createElement(Uu,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Uu,lf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var KV={radiusAxis:{},angleAxis:{}},zP=Zt({name:"polarAxis",initialState:KV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:QZ,removeRadiusAxis:eJ,addAngleAxis:tJ,removeAngleAxis:rJ}=zP.actions,YV=zP.reducer,BP={exports:{}},Ce={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb=Symbol.for("react.transitional.element"),_b=Symbol.for("react.portal"),Ih=Symbol.for("react.fragment"),$h=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Uh=Symbol.for("react.consumer"),qh=Symbol.for("react.context"),Hh=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Fh=Symbol.for("react.suspense_list"),Vh=Symbol.for("react.memo"),Gh=Symbol.for("react.lazy"),XV=Symbol.for("react.view_transition"),ZV=Symbol.for("react.client.reference");function Br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xb:switch(e=e.type,e){case Ih:case Lh:case $h:case Wh:case Fh:case XV:return e;default:switch(e=e&&e.$$typeof,e){case qh:case Hh:case Gh:case Vh:return e;case Uh:return e;default:return t}}case _b:return t}}}Ce.ContextConsumer=Uh;Ce.ContextProvider=qh;Ce.Element=xb;Ce.ForwardRef=Hh;Ce.Fragment=Ih;Ce.Lazy=Gh;Ce.Memo=Vh;Ce.Portal=_b;Ce.Profiler=Lh;Ce.StrictMode=$h;Ce.Suspense=Wh;Ce.SuspenseList=Fh;Ce.isContextConsumer=function(e){return Br(e)===Uh};Ce.isContextProvider=function(e){return Br(e)===qh};Ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xb};Ce.isForwardRef=function(e){return Br(e)===Hh};Ce.isFragment=function(e){return Br(e)===Ih};Ce.isLazy=function(e){return Br(e)===Gh};Ce.isMemo=function(e){return Br(e)===Vh};Ce.isPortal=function(e){return Br(e)===_b};Ce.isProfiler=function(e){return Br(e)===Lh};Ce.isStrictMode=function(e){return Br(e)===$h};Ce.isSuspense=function(e){return Br(e)===Wh};Ce.isSuspenseList=function(e){return Br(e)===Fh};Ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ih||e===Lh||e===$h||e===Wh||e===Fh||typeof e=="object"&&e!==null&&(e.$$typeof===Gh||e.$$typeof===Vh||e.$$typeof===qh||e.$$typeof===Uh||e.$$typeof===Hh||e.$$typeof===ZV||e.getModuleId!==void 0)};Ce.typeOf=Br;BP.exports=Ce;var JV=BP.exports,Pj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Nj=null,lp=null,IP=e=>{if(e===Nj&&Array.isArray(lp))return lp;var t=[];return b.Children.forEach(e,r=>{gt(r)||(JV.isFragment(r)?t=t.concat(IP(r.props.children)):t.push(r))}),lp=t,Nj=e,t};function QV(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Pj(a)):n=[Pj(t)],IP(e).forEach(a=>{var i=Go(a,"type.displayName")||Go(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var $P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})($P);var eG=$P.isPlainObject;const tG=Xn(eG);var Mj,Dj,zj,Bj,Ij;function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return(t=nG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(null,arguments)}function Ls(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Uj=(e,t,r,n,a)=>{var i=r-n,o;return o=qe(Mj||(Mj=Ls(["M ",",",""])),e,t),o+=qe(Dj||(Dj=Ls(["L ",",",""])),e+r,t),o+=qe(zj||(zj=Ls(["L ",",",""])),e+r-i/2,t+a),o+=qe(Bj||(Bj=Ls(["L ",",",""])),e+r-i/2-n,t+a),o+=qe(Ij||(Ij=Ls(["L ",","," Z"])),e,t),o},iG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oG=e=>{var t=yr(e,iG),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=b.useRef(null),[m,p]=b.useState(-1),x=b.useRef(a),y=b.useRef(i),v=b.useRef(o),g=b.useRef(r),_=b.useRef(n),w=y0(e,"trapezoid-");if(b.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var W=h.current.getTotalLength();W&&p(W)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=De("recharts-trapezoid",s);if(!f)return b.createElement("g",null,b.createElement("path",cf({},Nr(t),{className:j,d:Uj(r,n,a,i,o)})));var S=x.current,C=y.current,E=v.current,A=g.current,T=_.current,P="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),H=Vk(["strokeDasharray"],u,c);return b.createElement(v0,{animationId:w,key:w,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},W=>{var Z=wt(S,a,W),O=wt(C,i,W),R=wt(E,o,W),N=wt(A,r,W),L=wt(T,n,W);h.current&&(x.current=Z,y.current=O,v.current=R,g.current=N,_.current=L);var U=W>0?{transition:H,strokeDasharray:k}:{strokeDasharray:P};return b.createElement("path",cf({},Nr(t),{className:j,d:Uj(N,L,Z,O,R),ref:h,style:Lj(Lj({},U),t.style)}))})},sG=["option","shapeType","activeClassName"];function lG(e,t){if(e==null)return{};var r,n,a=cG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return(t=dG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=fG(e,"string");return typeof t=="symbol"?t:t+""}function fG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hG(e,t){return uf(uf({},t),e)}function mG(e,t){return e==="symbols"}function Hj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(Xk,r);case"trapezoid":return b.createElement(oG,r);case"sector":return b.createElement(Qk,r);case"symbols":if(mG(t))return b.createElement(g2,r);break;case"curve":return b.createElement(Fk,r);default:return null}}function pG(e){return b.isValidElement(e)?e.props:e}function gG(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=lG(e,sG),i;if(b.isValidElement(t))i=b.cloneElement(t,uf(uf({},a),pG(t)));else if(typeof t=="function")i=t(a,a.index);else if(tG(t)&&typeof t!="boolean"){var o=hG(t,a);i=b.createElement(Hj,{shapeType:r,elementProps:o})}else{var s=a;i=b.createElement(Hj,{shapeType:r,elementProps:s})}return a.isActive?b.createElement(qn,{className:n},i):i}var LP=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(XR({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},UP=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(LH())}},qP=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(UH({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function vG(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=Jt(),a=b.useRef(null);return b.useLayoutEffect(()=>{n||(a.current===null?r(zH(t)):a.current!==t&&r(BH({prev:a.current,next:t})),a.current=t)},[t,r,n]),b.useLayoutEffect(()=>()=>{a.current&&(r(IH(a.current)),a.current=null)},[r]),null}function yG(e){var{legendPayload:t}=e,r=Ge(),n=Jt(),a=b.useRef(null);return b.useLayoutEffect(()=>{n||(a.current===null?r(xL(t)):a.current!==t&&r(_L({prev:a.current,next:t})),a.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{a.current&&(r(wL(a.current)),a.current=null)},[r]),null}var cp,bG=()=>{var[e]=b.useState(()=>Pl("uid-"));return e},xG=(cp=wS.useId)!==null&&cp!==void 0?cp:bG;function _G(e,t){var r=xG();return t||(e?"".concat(e,"-").concat(r):r)}var wG=b.createContext(void 0),jG=e=>{var{id:t,type:r,children:n}=e,a=_G("recharts-".concat(r),t);return b.createElement(wG.Provider,{value:a},n(a))},SG={cartesianItems:[],polarItems:[]},HP=Zt({name:"graphicalItems",initialState:SG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=Gr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=Gr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:CG,replaceCartesianGraphicalItem:EG,removeCartesianGraphicalItem:OG,addPolarGraphicalItem:nJ,removePolarGraphicalItem:aJ}=HP.actions,AG=HP.reducer,kG=e=>{var t=Ge(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(CG(e)):r.current!==e&&t(EG({prev:r.current,next:e})),r.current=e},[t,e]),b.useLayoutEffect(()=>()=>{r.current&&(t(OG(r.current)),r.current=null)},[t]),null},TG=b.memo(kG);function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){RG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t,r){return(t=PG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WP=0,MG={xAxis:{},yAxis:{},zAxis:{}},FP=Zt({name:"cartesianAxis",initialState:MG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=Fj(Fj({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:DG,replaceXAxis:zG,removeXAxis:BG,addYAxis:IG,replaceYAxis:$G,removeYAxis:LG,addZAxis:iJ,replaceZAxis:oJ,removeZAxis:sJ,updateYAxisWidth:UG}=FP.actions,qG=FP.reducer,HG=M([vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),WG=M([HG,Qn,ea],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),VP=()=>X(WG),Vj=(e,t,r)=>{var n=r??e;if(!gt(n))return Yr(n,t,0)},FG=(e,t,r)=>{var n={},a=e.filter(Rh),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),s=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=Vj(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=Vj(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...s,...c]};function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){VG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VG(e,t,r){return(t=GG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YG(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Yr(e,r,0,!0),s,c=[];if(Le(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((v,g)=>v+(g.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};s=n.reduce((v,g)=>{var _,w={stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(_=g.barSize)!==null&&_!==void 0?_:0}},j=[...v,w];return m=j[j.length-1].position,j},c)}else{var p=Yr(t,r,0,!0);r-2*p-(i-1)*o<=0&&(o=0);var x=(r-2*p-(i-1)*o)/i;x>1&&(x>>=0);var y=Le(a)?Math.min(x,a):x;s=n.reduce((v,g,_)=>[...v,{stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:p+(x+o)*_+(x-y)/2,size:y}}],c)}return s}}var XG=(e,t,r,n,a,i,o)=>{var s=gt(o)?t:o,c=YG(r,n,a!==i?a:i,e,s);return a!==i&&c!=null&&(c=c.map(u=>bu(bu({},u),{},{position:bu(bu({},u.position),{},{offset:u.position.offset-a/2})}))),c},ZG=(e,t)=>{var r=X0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function JG(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Le(e.zIndex)?e.zIndex:t}var QG=e=>{var{chartData:t}=e,r=Ge(),n=Jt();return b.useEffect(()=>n?()=>{}:(r(mj(t)),()=>{r(mj(void 0))}),[t,r,n]),null},Kj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},GP=Zt({name:"brush",initialState:Kj,reducers:{setBrushSettings(e,t){return t.payload==null?Kj:t.payload}}}),{setBrushSettings:lJ}=GP.actions,eK=GP.reducer;function tK(e,t,r){return(t=rK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=nK(e,"string");return typeof t=="symbol"?t:t+""}function nK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wb{static create(t){return new wb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}tK(wb,"EPS",1e-4);function aK(e){return(e%180+180)%180}var iK=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=aK(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},oK={dots:[],areas:[],lines:[]},KP=Zt({name:"referenceElements",initialState:oK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Gr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Gr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Gr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:cJ,removeDot:uJ,addArea:dJ,removeArea:fJ,addLine:hJ,removeLine:mJ}=KP.actions,sK=KP.reducer,lK=b.createContext(void 0),cK=e=>{var{children:t}=e,[r]=b.useState("".concat(Pl("recharts"),"-clip")),n=VP();if(n==null)return null;var{x:a,y:i,width:o,height:s}=n;return b.createElement(lK.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function YP(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function uK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return iK(n,r)}function dK(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Vl(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function fK(e,t){return YP(e,t+1)}function hK(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:s}=t,c=0,u=1,d=o,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:YP(n,u)};var x=c,y,v=()=>(y===void 0&&(y=r(p,x)),y),g=p.coordinate,_=c===0||Vl(e,g,v,d,s);_||(c=0,d=o,u+=1),_&&(d=g+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function mK(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,h=!0,m=function(){var g=n[p],_=p,w,j=()=>(w===void 0&&(w=r(g,_)),w),S=g.coordinate,C=p===d||Vl(e,S,j,f,c);if(!C)return h=!1,1;C&&(f=S+e*(j()/2+a))},p=d;p<o&&!m();p+=u);if(h){for(var x=[],y=d;y<o;y+=u)x.push(n[y]);return x}}return[]}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return(t=gK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yK(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:s}=t,{end:c}=t,u=function(h){var m=i[h],p,x=()=>(p===void 0&&(p=r(m,h)),p);if(h===o-1){var y=e*(m.coordinate+e*x()/2-c);i[h]=m=kt(kt({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=kt(kt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=Vl(e,m.tickCoord,x,s,c);v&&(c=m.tickCoord-e*(x()/2+a),i[h]=kt(kt({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function bK(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,{start:c,end:u}=t;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=kt(kt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Vl(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=kt(kt({},d),{},{isShow:!0}))}}for(var p=i?s-1:s,x=function(g){var _=o[g],w,j=()=>(w===void 0&&(w=r(_,g)),w);if(g===0){var S=e*(_.coordinate-e*j()/2-c);o[g]=_=kt(kt({},_),{},{tickCoord:S<0?_.coordinate-S*e:_.coordinate})}else o[g]=_=kt(kt({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var C=Vl(e,_.tickCoord,j,c,u);C&&(c=_.tickCoord+e*(j()/2+a),o[g]=kt(kt({},_),{},{isShow:!0}))}},y=0;y<p;y++)x(y);return o}function jb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(G(c)||xh.isSsr){var h;return(h=fK(a,G(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=s==="top"||s==="bottom"?"width":"height",x=d&&p==="width"?fl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(_,w)=>{var j=typeof u=="function"?u(_.value,w):_.value;return p==="width"?uK(fl(j,{fontSize:t,letterSpacing:r}),x,f):fl(j,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Vt(a[1].coordinate-a[0].coordinate):1,g=dK(i,v,p);return c==="equidistantPreserveStart"?hK(v,g,y,a,o):c==="equidistantPreserveEnd"?mK(v,g,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=bK(v,g,y,a,o,c==="preserveStartEnd"):m=yK(v,g,y,a,o),m.filter(_=>_.isShow))}var xK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+s+(r?n:0);return Math.round(u)}return 0},_K=["axisLine","width","height","className","hide","ticks","axisType"];function wK(e,t){if(e==null)return{};var r,n,a=jK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(null,arguments)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function OK(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var u=Ye(Ye(Ye({},c),Un(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Ye(Ye({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Ye(Ye({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return b.createElement("line",Ni({},u,{className:De("recharts-cartesian-axis-line",Go(s,"className"))}))}function AK(e,t,r,n,a,i,o,s,c){var u,d,f,h,m,p,x=s?-1:1,y=e.tickSize||o,v=G(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!s*a,f=h-x*y,p=f-x*c,m=v;break;case"left":f=h=e.coordinate,d=t+ +!s*n,u=d-x*y,m=u-x*c,p=v;break;case"right":f=h=e.coordinate,d=t+ +s*n,u=d+x*y,m=u+x*c,p=v;break;default:u=d=e.coordinate,h=r+ +s*a,f=h+x*y,p=f+x*c,m=v;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function kK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function TK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function RK(e){var{option:t,tickProps:r,value:n}=e,a,i=De(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))a=b.cloneElement(t,Ye(Ye({},r),{},{className:i}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t==null?void 0:t.className)),a=b.createElement(yb,Ni({},r,{className:o}),n)}return a}var PK=b.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:x,tickSize:y,tickMargin:v,fontSize:g,letterSpacing:_,getTicksConfig:w,events:j,axisType:S}=e,C=jb(Ye(Ye({},w),{},{ticks:r}),g,_),E=kK(d,f),A=TK(d,f),T=Un(w),P=Wy(n),k={};typeof a=="object"&&(k=a);var H=Ye(Ye({},T),{},{fill:"none"},k),W=C.map(R=>Ye({entry:R},AK(R,h,m,p,x,d,y,f,v))),Z=W.map(R=>{var{entry:N,line:L}=R;return b.createElement(qn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},a&&b.createElement("line",Ni({},H,L,{className:De("recharts-cartesian-axis-tick-line",Go(a,"className"))})))}),O=W.map((R,N)=>{var{entry:L,tick:U}=R,ae=Ye(Ye(Ye(Ye({textAnchor:E,verticalAnchor:A},T),{},{stroke:"none",fill:i},P),U),{},{index:N,payload:L,visibleTicksCount:C.length,tickFormatter:o,padding:c},u);return b.createElement(qn,Ni({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},Yy(j,L,N)),n&&b.createElement(RK,{option:n,tickProps:ae,value:"".concat(typeof o=="function"?o(L.value,N):L.value).concat(s||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},O.length>0&&b.createElement(oa,{zIndex:Bt.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},O)),Z.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},Z))}),NK=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:s,axisType:c}=e,u=wK(e,_K),[d,f]=b.useState(""),[h,m]=b.useState(""),p=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return xK({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=b.useCallback(y=>{if(y){var v=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=v;var g=v[0];if(g){var _=window.getComputedStyle(g),w=_.fontSize,j=_.letterSpacing;(w!==d||j!==h)&&(f(w),m(j))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:b.createElement(oa,{zIndex:e.zIndex},b.createElement(qn,{className:De("recharts-cartesian-axis",i)},b.createElement(OK,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Un(e)}),b.createElement(PK,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(OV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(BV,{label:e.label,labelRef:e.labelRef}),e.children)))}),Sb=b.forwardRef((e,t)=>{var r=yr(e,Dn);return b.createElement(NK,Ni({},r,{ref:t}))});Sb.displayName="CartesianAxis";var MK=["x1","y1","x2","y2","key"],DK=["offset"],zK=["xAxisId","yAxisId"],BK=["xAxisId","yAxisId"];function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){IK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t,r){return(t=$K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fi.apply(null,arguments)}function df(e,t){if(e==null)return{};var r,n,a=UK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:s}=e;return b.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function XP(e){var{option:t,lineItemProps:r}=e,n;if(b.isValidElement(t))n=b.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:s,y2:c,key:u}=r,d=df(r,MK),f=(a=Un(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=df(f,DK);n=b.createElement("line",fi({},m,{x1:i,y1:o,x2:s,y2:c,fill:"none",key:u}))}return n}function HK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=df(e,zK),c=a.map((u,d)=>{var f=Tt(Tt({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return b.createElement(XP,{key:"line-".concat(d),option:n,lineItemProps:f})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function WK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=df(e,BK),c=a.map((u,d)=>{var f=Tt(Tt({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return b.createElement(XP,{option:n,lineItemProps:f,key:"line-".concat(d)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function FK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+o-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return b.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function VK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+o-f:u[h+1]-f;if(p<=0)return null;var x=h%r.length;return b.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:s,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var GK=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return jk(jb(Tt(Tt(Tt({},Dn),r),{},{ticks:Sk(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},KK=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return jk(jb(Tt(Tt(Tt({},Dn),r),{},{ticks:Sk(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},YK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function ZP(e){var t=Dk(),r=zk(),n=Mk(),a=Tt(Tt({},yr(e,YK)),{},{x:G(e.x)?e.x:n.left,y:G(e.y)?e.y:n.top,width:G(e.width)?e.width:n.width,height:G(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:s,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=Jt(),x=X(A=>nj(A,"xAxis",i,p)),y=X(A=>nj(A,"yAxis",o,p));if(!cn(u)||!cn(d)||!G(s)||!G(c))return null;var v=a.verticalCoordinatesGenerator||GK,g=a.horizontalCoordinatesGenerator||KK,{horizontalPoints:_,verticalPoints:w}=a;if((!_||!_.length)&&typeof g=="function"){var j=h&&h.length,S=g({yAxis:y?Tt(Tt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);Id(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(_=S)}if((!w||!w.length)&&typeof v=="function"){var C=m&&m.length,E=v({xAxis:x?Tt(Tt({},x),{},{ticks:C?m:x.ticks}):void 0,width:t??u,height:r??d,offset:n},C?!0:f);Id(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(w=E)}return b.createElement(oa,{zIndex:a.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(qK,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),b.createElement(FK,fi({},a,{horizontalPoints:_})),b.createElement(VK,fi({},a,{verticalPoints:w})),b.createElement(HK,fi({},a,{offset:n,horizontalPoints:_,xAxis:x,yAxis:y})),b.createElement(WK,fi({},a,{offset:n,verticalPoints:w,xAxis:x,yAxis:y}))))}ZP.displayName="CartesianGrid";var XK={},JP=Zt({name:"errorBars",initialState:XK,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:pJ,replaceErrorBar:gJ,removeErrorBar:vJ}=JP.actions,ZK=JP.reducer,JK=["children"];function QK(e,t){if(e==null)return{};var r,n,a=eY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rY=b.createContext(tY);function nY(e){var{children:t}=e,r=QK(e,JK);return b.createElement(rY.Provider,{value:r},t)}function QP(e,t){var r,n,a=X(u=>na(u,e)),i=X(u=>aa(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ut.allowDataOverflow,s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:dt.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function aY(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=VP(),{needClipX:i,needClipY:o,needClip:s}=QP(t,r);if(!s||!a)return null;var{x:c,y:u,width:d,height:f}=a;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var iY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=b;function oY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sY=typeof Object.is=="function"?Object.is:oY,lY=Tc.useSyncExternalStore,cY=Tc.useRef,uY=Tc.useEffect,dY=Tc.useMemo,fY=Tc.useDebugValue;iY.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=cY(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=dY(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return f=p}return f=m}if(p=f,sY(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var s=lY(e,i[0],i[1]);return uY(function(){o.hasValue=!0,o.value=s},[s]),fY(s),s};function hY(e){e()}function mY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Jj={notify(){},get:()=>[]};function pY(e,t){let r,n=Jj,a=0,i=!1;function o(x){d();const y=n.subscribe(x);let v=!1;return()=>{v||(v=!0,y(),f())}}function s(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=mY())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=Jj)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var gY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vY=gY(),yY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bY=yY(),xY=()=>vY||bY?b.useLayoutEffect:b.useEffect,_Y=xY();function Qj(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function wY(e,t){if(Qj(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Qj(e[r[a]],t[r[a]]))return!1;return!0}var up=Symbol.for("react-redux-context"),dp=typeof globalThis<"u"?globalThis:{};function jY(){if(!b.createContext)return{};const e=dp[up]??(dp[up]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var SY=jY();function CY(e){const{children:t,context:r,serverState:n,store:a}=e,i=b.useMemo(()=>{const c=pY(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=b.useMemo(()=>a.getState(),[a]);_Y(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const s=r||SY;return b.createElement(s.Provider,{value:i},t)}var EY=CY,OY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function AY(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Cb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(OY.has(n)){if(e[n]==null&&t[n]==null)continue;if(!wY(e[n],t[n]))return!1}else if(!AY(e[n],t[n]))return!1;return!0}function Wi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:WP}function Fi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:WP}var kY="Invariant failed";function TY(e,t){throw new Error(kY)}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}function ff(e){return b.createElement(gG,vv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var RY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(G(t))return t;var i=G(n)||gt(n);return i?t(n,a):(i||TY(),r)}},PY=(e,t,r)=>r,NY=(e,t)=>t,Rc=M([J0,NY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),MY=M([Rc],e=>e==null?void 0:e.maxBarSize),DY=(e,t,r,n)=>n,zY=M([xe,J0,Wi,Fi,PY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),BY=(e,t,r)=>{var n=xe(e),a=Wi(e,t),i=Fi(e,t);if(!(a==null||i==null))return n==="horizontal"?uv(e,"yAxis",i,r):uv(e,"xAxis",a,r)},IY=(e,t)=>{var r=xe(e),n=Wi(e,t),a=Fi(e,t);if(!(n==null||a==null))return r==="horizontal"?rj(e,"xAxis",n):rj(e,"yAxis",a)},$Y=M([zY,kq,IY],FG),LY=(e,t,r)=>{var n,a,i=Rc(e,t);if(i!=null){var o=Wi(e,t),s=Fi(e,t);if(!(o==null||s==null)){var c=xe(e),u=QT(e),{maxBarSize:d}=i,f=gt(d)?u:d,h,m;return c==="horizontal"?(h=ts(e,"xAxis",o,r),m=es(e,"xAxis",o,r)):(h=ts(e,"yAxis",s,r),m=es(e,"yAxis",s,r)),(n=(a=Bd(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},eN=(e,t,r)=>{var n=xe(e),a=Wi(e,t),i=Fi(e,t);if(!(a==null||i==null)){var o,s;return n==="horizontal"?(o=ts(e,"xAxis",a,r),s=es(e,"xAxis",a,r)):(o=ts(e,"yAxis",i,r),s=es(e,"yAxis",i,r)),Bd(o,s)}},UY=M([$Y,QT,Aq,eR,LY,eN,MY],XG),qY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return ts(e,"xAxis",n,r)},HY=(e,t,r)=>{var n=Fi(e,t);if(n!=null)return ts(e,"yAxis",n,r)},WY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return es(e,"xAxis",n,r)},FY=(e,t,r)=>{var n=Fi(e,t);if(n!=null)return es(e,"yAxis",n,r)},VY=M([UY,Rc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),GY=M([BY,Rc],ZG),KY=M([vt,h0,qY,HY,WY,FY,VY,xe,gq,eN,GY,Rc,DY],(e,t,r,n,a,i,o,s,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=c;if(!(f==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:y}=f,v;if(y!=null&&y.length>0?v=y:v=m==null?void 0:m.slice(p,x+1),v!=null)return jX({layout:s,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:v,offset:e,cells:h,dataStartIndex:p})}}),YY=["index"];function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(null,arguments)}function XY(e,t){if(e==null)return{};var r,n,a=ZY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tN=b.createContext(void 0),JY=e=>{var t=b.useContext(tN);if(t!=null)return t.stackId;if(e!=null)return E$(e)},QY=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),eX=e=>{var t=b.useContext(tN);if(t!=null){var{stackId:r}=t;return"url(#".concat(QY(r,e),")")}},tX=e=>{var{index:t}=e,r=XY(e,YY),n=eX(t);return b.createElement(qn,yv({className:"recharts-bar-stack-layer",clipPath:n},r))},rX=["onMouseEnter","onMouseLeave","onClick"],nX=["value","background","tooltipPosition"],aX=["id"],iX=["onMouseEnter","onClick","onMouseLeave"];function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yn.apply(null,arguments)}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){oX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oX(e,t,r){return(t=sX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hf(e,t){if(e==null)return{};var r,n,a=cX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uX=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Ck(r,t),payload:e}]},dX=b.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:s,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Ck(i,t),hide:o,type:c,color:a,unit:s,graphicalItemId:u}};return b.createElement(vG,{tooltipEntrySettings:d})});function fX(e){var t=X(rs),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=i,u=hf(i,rX),d=LP(o,n,i.id),f=UP(s),h=qP(c,n,i.id);if(!a||r==null)return null;var m=Wy(a);return b.createElement(oa,{zIndex:JG(a,Bt.barBackground)},r.map((p,x)=>{var{value:y,background:v,tooltipPosition:g}=p,_=hf(p,nX);if(!v)return null;var w=d(p,x),j=f(p,x),S=h(p,x),C=Mt(Mt(Mt(Mt(Mt({option:a,isActive:String(x)===t},_),{},{fill:"#eee"},v),m),Yy(u,p,x)),{},{onMouseEnter:w,onMouseLeave:j,onClick:S,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return b.createElement(ff,Yn({key:"background-bar-".concat(x)},C))}))}function hX(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mt(Mt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return b.createElement(WV,{value:t?a:void 0},r)}function mX(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,s=X(rs),c=X(uP),u=r&&String(i)===s&&(c==null||o===c),d=u?r:t;return u?b.createElement(oa,{zIndex:Bt.activeBar},b.createElement(ff,Yn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):b.createElement(ff,Yn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function pX(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return b.createElement(ff,Yn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function gX(e){var t,{data:r,props:n}=e,a=(t=Un(n))!==null&&t!==void 0?t:{},{id:i}=a,o=hf(a,aX),{shape:s,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=hf(n,iX),p=LP(d,c,i),x=UP(h),y=qP(f,c,i);return r?b.createElement(b.Fragment,null,r.map((v,g)=>b.createElement(tX,Yn({index:g,key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(g),className:"recharts-bar-rectangle"},Yy(m,v,g),{onMouseEnter:p(v,g),onMouseLeave:x(v,g),onClick:y(v,g)}),u?b.createElement(mX,{shape:s,activeBar:u,baseProps:o,entry:v,index:g,dataKey:c}):b.createElement(pX,{shape:s,baseProps:o,entry:v,index:g,dataKey:c})))):null}function vX(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=y0(t,"recharts-bar-"),[m,p]=b.useState(!1),x=!m,y=b.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),v=b.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return b.createElement(hX,{showLabels:x,rects:n},b.createElement(v0,{animationId:h,begin:o,duration:s,isActive:i,easing:c,onAnimationEnd:y,onAnimationStart:v,key:h},g=>{var _=g===1?n:n==null?void 0:n.map((w,j)=>{var S=f&&f[j];if(S)return Mt(Mt({},w),{},{x:wt(S.x,w.x,g),y:wt(S.y,w.y,g),width:wt(S.width,w.width,g),height:wt(S.height,w.height,g)});if(a==="horizontal"){var C=wt(0,w.height,g),E=wt(w.stackedBarStart,w.y,g);return Mt(Mt({},w),{},{y:E,height:C})}var A=wt(0,w.width,g),T=wt(w.stackedBarStart,w.x,g);return Mt(Mt({},w),{},{width:A,x:T})});return g>0&&(r.current=_??null),_==null?null:b.createElement(qn,null,b.createElement(gX,{props:t,data:_}))}),b.createElement(GV,{label:t.label}),t.children)}function yX(e){var t=b.useRef(null);return b.createElement(vX,{previousRectanglesRef:t,props:e})}var rN=0,bX=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:At(e,t)}};class xX extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:s,background:c,id:u}=this.props;if(t||r==null)return null;var d=De("recharts-bar",a),f=u;return b.createElement(qn,{className:d,id:u},s&&b.createElement("defs",null,b.createElement(aY,{clipPathId:f,xAxisId:i,yAxisId:o})),b.createElement(qn,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},b.createElement(fX,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),b.createElement(yX,this.props)))}}var _X={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:rN,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function wX(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=QP(t,r),h=gc(),m=Jt(),p=QV(e.children,vb),x=X(g=>KY(g,e.id,m,p));if(h!=="vertical"&&h!=="horizontal")return null;var y,v=x==null?void 0:x[0];return v==null||v.height==null||v.width==null?y=0:y=h==="vertical"?v.height/2:v.width/2,b.createElement(nY,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:bX,errorBarOffset:y},b.createElement(xX,Yn({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function jX(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:x}=e,y=t==="horizontal"?s:o,v=d?y.scale.domain():null,g=O$({numericAxis:y}),_=y.scale(g);return f.map((w,j)=>{var S,C,E,A,T,P;if(d){var k=d[j+x];if(k==null)return null;S=_$(k,v)}else S=At(w,r),Array.isArray(S)||(S=[g,S]);var H=RY(n,rN)(S[1],j);if(t==="horizontal"){var W,[Z,O]=[s.scale(S[0]),s.scale(S[1])];C=g_({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:w,index:j}),E=(W=O??Z)!==null&&W!==void 0?W:void 0,A=a.size;var R=Z-O;if(T=Kr(R)?0:R,P={x:C,y:h.top,width:A,height:h.height},Math.abs(H)>0&&Math.abs(T)<Math.abs(H)){var N=Vt(T||H)*(Math.abs(H)-Math.abs(T));E-=N,T+=N}}else{var[L,U]=[o.scale(S[0]),o.scale(S[1])];if(C=L,E=g_({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:w,index:j}),A=U-L,T=a.size,P={x:h.left,y:E,width:h.width,height:T},Math.abs(H)>0&&Math.abs(A)<Math.abs(H)){var ae=Vt(A||H)*(Math.abs(H)-Math.abs(A));A+=ae}}if(C==null||E==null||A==null||T==null)return null;var ue=Mt(Mt({},w),{},{stackedBarStart:_,x:C,y:E,width:A,height:T,value:d?S:S[1],payload:w,background:P,tooltipPosition:{x:C+A/2,y:E+T/2},parentViewBox:p},m&&m[j]&&m[j].props);return ue}).filter(Boolean)}function SX(e){var t=yr(e,_X),r=JY(t.stackId),n=Jt();return b.createElement(jG,{id:t.id,type:"bar"},a=>b.createElement(b.Fragment,null,b.createElement(yG,{legendPayload:uX(t)}),b.createElement(dX,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),b.createElement(TG,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(oa,{zIndex:t.zIndex},b.createElement(wX,Yn({},t,{id:a})))))}var nN=b.memo(SX,Cb);nN.displayName="Bar";var CX=["domain","range"],EX=["domain","range"];function tS(e,t){if(e==null)return{};var r,n,a=OX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function aN(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=tS(e,CX),{domain:i,range:o}=t,s=tS(t,EX);return!rS(r,i)||!rS(n,o)?!1:Cb(a,s)}var AX=["dangerouslySetInnerHTML","ticks","scale"],kX=["id","scale"];function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(null,arguments)}function nS(e,t){if(e==null)return{};var r,n,a=TX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RX(e){var t=Ge(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(DG(e)):r.current!==e&&t(zG({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(BG(r.current)),r.current=null)},[t]),null}var PX=e=>{var{xAxisId:t,className:r}=e,n=X(h0),a=Jt(),i="xAxis",o=X(v=>WR(v,i,t,a)),s=X(v=>LR(v,t)),c=X(v=>EH(v,t)),u=X(v=>cR(v,t));if(s==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=nS(e,AX),{id:p,scale:x}=u,y=nS(u,kX);return b.createElement(Sb,bv({},m,y,{x:c.x,y:c.y,width:s.width,height:s.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},NX={allowDataOverflow:ut.allowDataOverflow,allowDecimals:ut.allowDecimals,allowDuplicatedCategory:ut.allowDuplicatedCategory,angle:ut.angle,axisLine:Dn.axisLine,height:ut.height,hide:!1,includeHidden:ut.includeHidden,interval:ut.interval,minTickGap:ut.minTickGap,mirror:ut.mirror,orientation:ut.orientation,padding:ut.padding,reversed:ut.reversed,scale:ut.scale,tick:ut.tick,tickCount:ut.tickCount,tickLine:Dn.tickLine,tickSize:Dn.tickSize,type:ut.type,xAxisId:0},MX=e=>{var t=yr(e,NX);return b.createElement(b.Fragment,null,b.createElement(RX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(PX,t))},iN=b.memo(MX,aN);iN.displayName="XAxis";var DX=["dangerouslySetInnerHTML","ticks","scale"],zX=["id","scale"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(null,arguments)}function aS(e,t){if(e==null)return{};var r,n,a=BX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IX(e){var t=Ge(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(IG(e)):r.current!==e&&t($G({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(LG(r.current)),r.current=null)},[t]),null}var $X=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=b.useRef(null),o=b.useRef(null),s=X(h0),c=Jt(),u=Ge(),d="yAxis",f=X(S=>UR(S,t)),h=X(S=>AH(S,t)),m=X(S=>WR(S,d,t,c)),p=X(S=>uR(S,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!f||bb(a)||b.isValidElement(a)||p==null)){var S=i.current;if(S){var C=S.getCalculatedWidth();Math.round(f.width)!==Math.round(C)&&u(UG({id:t,width:C}))}}},[m,f,u,a,t,n,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:x,ticks:y,scale:v}=e,g=aS(e,DX),{id:_,scale:w}=p,j=aS(p,zX);return b.createElement(Sb,xv({},g,j,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:De("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:m,axisType:d}))},LX={allowDataOverflow:dt.allowDataOverflow,allowDecimals:dt.allowDecimals,allowDuplicatedCategory:dt.allowDuplicatedCategory,angle:dt.angle,axisLine:Dn.axisLine,hide:!1,includeHidden:dt.includeHidden,interval:dt.interval,minTickGap:dt.minTickGap,mirror:dt.mirror,orientation:dt.orientation,padding:dt.padding,reversed:dt.reversed,scale:dt.scale,tick:dt.tick,tickCount:dt.tickCount,tickLine:Dn.tickLine,tickSize:Dn.tickSize,type:dt.type,width:dt.width,yAxisId:0},UX=e=>{var t=yr(e,LX);return b.createElement(b.Fragment,null,b.createElement(IX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement($X,t))},oN=b.memo(UX,aN);oN.displayName="YAxis";var qX=(e,t)=>t,Eb=M([qX,xe,sR,lt,oP,ia,qW,vt],YW),Ob=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},sN=Mr("mouseClick"),lN=mc();lN.startListening({actionCreator:sN,effect:(e,t)=>{var r=e.payload,n=Eb(t.getState(),Ob(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(qH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _v=Mr("mouseMove"),cN=mc(),xu=null;cN.startListening({actionCreator:_v,effect:(e,t)=>{var r=e.payload;xu!==null&&cancelAnimationFrame(xu);var n=Ob(r);xu=requestAnimationFrame(()=>{var a=t.getState(),i=sb(a,a.tooltip.settings.shared);if(i==="axis"){var o=Eb(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(JR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(ZR())}xu=null})}});function HX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var iS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},uN=Zt({name:"rootProps",initialState:iS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:iS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),WX=uN.reducer,{updateOptions:FX}=uN.actions,dN=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:yJ}=dN.actions,VX=dN.reducer,fN=Mr("keyDown"),hN=Mr("focus"),Ab=mc();Ab.startListening({actionCreator:fN,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=lb(a,Cs(r),Sc(r),Ac(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var c=ia(r);if(i==="Enter"){var u=sf(r,"axis","hover",String(a.index));t.dispatch(fv({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=PH(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=s+h*f;if(!(c==null||m>=c.length||m<0)){var p=sf(r,"axis","hover",String(m));t.dispatch(fv({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});Ab.startListening({actionCreator:hN,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=sf(r,"axis","hover",String(i));t.dispatch(fv({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var _r=Mr("externalEvent"),mN=mc(),fp=new Map;mN.startListening({actionCreator:_r,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=fp.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),c={activeCoordinate:OW(s),activeDataKey:uP(s),activeIndex:rs(s),activeLabel:cP(s),activeTooltipIndex:rs(s),isTooltipActive:AW(s)};r(c,n)}finally{fp.delete(a)}});fp.set(a,o)}}});var GX=M([js],e=>e.tooltipItemPayloads),KX=M([GX,Oc,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(s=>s.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),pN=Mr("touchMove"),gN=mc();gN.startListening({actionCreator:pN,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=sb(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=Eb(n,Ob({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(JR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(M$),f=(s=u.getAttribute(D$))!==null&&s!==void 0?s:void 0,h=Ss(n).find(x=>x.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=KX(n,d,f);t.dispatch(XR({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var YX=K2({brush:eK,cartesianAxis:qG,chartData:EF,errorBars:ZK,graphicalItems:AG,layout:p$,legend:jL,options:_F,polarAxis:YV,polarOptions:VX,referenceElements:sK,rootProps:WX,tooltip:HH,zIndex:cF}),XX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return LI({reducer:YX,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([lN.middleware,cN.middleware,Ab.middleware,mN.middleware,gN.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(ck({type:"raf"}))},devTools:{serialize:{replacer:HX},name:"recharts-".concat(r)}})};function ZX(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Jt(),i=b.useRef(null);if(a)return r;i.current==null&&(i.current=XX(t,n));var o=a0;return b.createElement(EY,{context:o,store:i.current},r)}function JX(e){var{layout:t,margin:r}=e,n=Ge(),a=Jt();return b.useEffect(()=>{a||(n(f$(t)),n(d$(r)))},[n,a,t,r]),null}var QX=b.memo(JX,Cb);function eZ(e){var t=Ge();return b.useEffect(()=>{t(FX(e))},[t,e]),null}function oS(e){var{zIndex:t,isPanorama:r}=e,n=b.useRef(null),a=Ge();return b.useLayoutEffect(()=>(n.current&&a(sF({zIndex:t,element:n.current,isPanorama:r})),()=>{a(lF({zIndex:t,isPanorama:r}))}),[a,t,r]),b.createElement("g",{tabIndex:-1,ref:n})}function sS(e){var{children:t,isPanorama:r}=e,n=X(ZW);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return b.createElement(b.Fragment,null,a.map(o=>b.createElement(oS,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>b.createElement(oS,{key:o,zIndex:o,isPanorama:r})))}var tZ=["children"];function rZ(e,t){if(e==null)return{};var r,n,a=nZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(null,arguments)}var aZ={width:"100%",height:"100%",display:"block"},iZ=b.forwardRef((e,t)=>{var r=Dk(),n=zk(),a=Wk();if(!cn(r)||!cn(n))return null;var{children:i,otherAttributes:o,title:s,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),b.createElement(YA,mf({},o,{title:s,desc:c,role:d,tabIndex:u,width:r,height:n,style:aZ,ref:t}),i)}),oZ=e=>{var{children:t}=e,r=X(mh);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return b.createElement(YA,{width:n,height:a,x:o,y:i},t)},lS=b.forwardRef((e,t)=>{var{children:r}=e,n=rZ(e,tZ),a=Jt();return a?b.createElement(oZ,null,b.createElement(sS,{isPanorama:!0},r)):b.createElement(iZ,mf({ref:t},n),b.createElement(sS,{isPanorama:!1},r))});function sZ(){var e=Ge(),[t,r]=b.useState(null),n=X(N$);return b.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Le(i)&&i!==n&&e(m$(i))}},[t,e,n]),r}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){cZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cZ(e,t,r){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(null,arguments)}var fZ=()=>(DF(),null);function pf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var hZ=b.forwardRef((e,t)=>{var r,n,a=b.useRef(null),[i,o]=b.useState({containerWidth:pf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:pf((n=e.style)===null||n===void 0?void 0:n.height)}),s=b.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var h=p=>{var{width:x,height:y}=p[0].contentRect;s(x,y)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,s]);return b.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),b.createElement(b.Fragment,null,b.createElement(gh,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",Mi({ref:c},e)))}),mZ=b.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=b.useState({containerWidth:pf(r),containerHeight:pf(n)}),o=b.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),s=b.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return b.createElement(b.Fragment,null,b.createElement(gh,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",Mi({ref:s},e)))}),pZ=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return b.createElement(b.Fragment,null,b.createElement(gh,{width:r,height:n}),b.createElement("div",Mi({ref:t},e)))}),gZ=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return Hn(r)||Hn(n)?b.createElement(mZ,Mi({},e,{ref:t})):b.createElement(pZ,Mi({},e,{ref:t}))});function vZ(e){return e===!0?hZ:gZ}var yZ=b.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:y,width:v,responsive:g,dispatchTouchEvents:_=!0}=e,w=b.useRef(null),j=Ge(),[S,C]=b.useState(null),[E,A]=b.useState(null),T=sZ(),P=m0(),k=(P==null?void 0:P.width)>0?P.width:v,H=(P==null?void 0:P.height)>0?P.height:a,W=b.useCallback(D=>{T(D),typeof t=="function"&&t(D),C(D),A(D),D!=null&&(w.current=D)},[T,t,C,A]),Z=b.useCallback(D=>{j(sN(D)),j(_r({handler:i,reactEvent:D}))},[j,i]),O=b.useCallback(D=>{j(_v(D)),j(_r({handler:u,reactEvent:D}))},[j,u]),R=b.useCallback(D=>{j(ZR()),j(_r({handler:d,reactEvent:D}))},[j,d]),N=b.useCallback(D=>{j(_v(D)),j(_r({handler:f,reactEvent:D}))},[j,f]),L=b.useCallback(()=>{j(hN())},[j]),U=b.useCallback(D=>{j(fN(D.key))},[j]),ae=b.useCallback(D=>{j(_r({handler:o,reactEvent:D}))},[j,o]),ue=b.useCallback(D=>{j(_r({handler:s,reactEvent:D}))},[j,s]),le=b.useCallback(D=>{j(_r({handler:c,reactEvent:D}))},[j,c]),he=b.useCallback(D=>{j(_r({handler:h,reactEvent:D}))},[j,h]),de=b.useCallback(D=>{j(_r({handler:x,reactEvent:D}))},[j,x]),z=b.useCallback(D=>{_&&j(pN(D)),j(_r({handler:p,reactEvent:D}))},[j,_,p]),q=b.useCallback(D=>{j(_r({handler:m,reactEvent:D}))},[j,m]),ie=vZ(g);return b.createElement(vP.Provider,{value:S},b.createElement(R8.Provider,{value:E},b.createElement(ie,{width:k??(y==null?void 0:y.width),height:H??(y==null?void 0:y.height),className:De("recharts-wrapper",n),style:lZ({position:"relative",cursor:"default",width:k,height:H},y),onClick:Z,onContextMenu:ae,onDoubleClick:ue,onFocus:L,onKeyDown:U,onMouseDown:le,onMouseEnter:O,onMouseLeave:R,onMouseMove:N,onMouseUp:he,onTouchEnd:q,onTouchMove:z,onTouchStart:de,ref:W},b.createElement(fZ,null),r)))}),bZ=["width","height","responsive","children","className","style","compact","title","desc"];function xZ(e,t){if(e==null)return{};var r,n,a=_Z(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _Z(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wZ=b.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:s,compact:c,title:u,desc:d}=e,f=xZ(e,bZ),h=Un(f);return c?b.createElement(b.Fragment,null,b.createElement(gh,{width:r,height:n}),b.createElement(lS,{otherAttributes:h,title:u,desc:d},i)):b.createElement(yZ,{className:o,style:s,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(lS,{otherAttributes:h,title:u,desc:d,ref:t},b.createElement(cK,null,i)))});function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(null,arguments)}var jZ={top:5,right:5,bottom:5,left:5},SZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:jZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},CZ=b.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,SZ),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return b.createElement(ZX,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},b.createElement(QG,{chartData:u.data}),b.createElement(QX,{layout:a.layout,margin:a.margin}),b.createElement(eZ,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(wZ,wv({},a,{ref:r})))}),EZ=["axis","item"],OZ=b.forwardRef((e,t)=>b.createElement(CZ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:EZ,tooltipPayloadSearcher:bF,categoricalChartProps:e,ref:t}));function AZ({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=b.useState([]),[i,o]=b.useState(!1),[s,c]=b.useState(null);b.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),c(null);try{const{data:h,error:m}=await B.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const x=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(y=>{const v=Number(h[y.key]),g=v?t*v:0;return{name:y.name,geracao:Math.round(g),factor:v}});a(x)}catch(h){console.error("Irradiance error:",h),c("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return b.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?l.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):l.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Estimativa de Gerao Mensal"}),l.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",l.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),l.jsx("div",{style:{width:"100%",height:300},children:l.jsx(iL,{children:l.jsxs(OZ,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[l.jsx(ZP,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),l.jsx(iN,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),l.jsx(oN,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),l.jsx(HF,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),l.jsx(nN,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>l.jsx(vb,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),l.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}const _u=({title:e,icon:t,children:r,defaultOpen:n=!1,color:a="var(--color-blue)"})=>{const[i,o]=b.useState(n);return l.jsxs("div",{style:{marginBottom:"1rem",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",background:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{onClick:()=>o(!i),style:{padding:"1rem",background:i?`${a}10`:"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:i?"1px solid #e2e8f0":"none",transition:"background 0.2s"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontWeight:"bold",color:a},children:[t&&l.jsx(t,{size:20}),l.jsx("span",{style:{fontSize:"1rem"},children:e})]}),i?l.jsx(BA,{size:20,color:"#64748b"}):l.jsx(zA,{size:20,color:"#64748b"})]}),i&&l.jsx("div",{style:{padding:"1.5rem",animation:"fadeIn 0.3s ease-in-out"},children:r})]})};function kZ({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=hn(),[o,s]=b.useState([]),[c,u]=b.useState([]),[d,f]=b.useState(!1),[h,m]=b.useState(!1),p=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],x=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],y=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],v=(z,q,ie)=>{let D=[];for(let K=z;K<=q;K+=ie)D.push(K);return D},g=v(460,800,5),_=[...v(1e3,7e3,1e3),7500,9e3,1e4,12500,...v(15e3,75e3,5e3),...v(1e5,3e5,25e3)],[w,j]=b.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[S,C]=b.useState([]),[E,A]=b.useState([]),[T,P]=b.useState(0),k=E.reduce((z,q)=>z+(Number(q.consumo_medio_kwh)||Number(q.franquia)||0),0);b.useEffect(()=>{const z=Number(w.qtd_modulos)||0,q=Number(w.potencia_modulos_w)||0,ie=z*q/1e3;P(Number(ie.toFixed(2)))},[w.qtd_modulos,w.potencia_modulos_w]),b.useEffect(()=>{var z,q,ie,D,K,ee,$;Z(),O(),e&&(j({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?R(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((z=e.address)==null?void 0:z.cep)||"",rua:((q=e.address)==null?void 0:q.rua)||"",numero:((ie=e.address)==null?void 0:ie.numero)||"",bairro:((D=e.address)==null?void 0:D.bairro)||"",cidade:((K=e.address)==null?void 0:K.cidade)||"",uf:((ee=e.address)==null?void 0:ee.uf)||"",ibge_code:e.ibge_code||(($=e.address)==null?void 0:$.ibge)||"",concessionaria:e.concessionaria||""}),H(e.id))},[e]),b.useEffect(()=>{W()},[e==null?void 0:e.id]);const H=async z=>{const{data:q}=await B.from("consumer_units").select("*").eq("usina_id",z);q&&A(q)},W=async()=>{let z=B.from("consumer_units").select("id, numero_uc, titular_conta, usina_id, concessionaria, status, consumo_medio_kwh");const{data:q,error:ie}=await z;if(q){const D=q.filter(K=>{const ee=e&&K.usina_id===e.id,$=K.usina_id===null;return ee||$});C(D)}},Z=async()=>{const{data:z}=await B.from("suppliers").select("id, name").order("name");s(z||[])},O=async()=>{const{data:z}=await B.from("inverter_brands").select("name").order("name");u(z||[])},R=z=>z===""||z===void 0||z===null?"":typeof z=="number"?z.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(z.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),N=z=>{const q=z.target.value.replace(/\D/g,"");if(!q){j({...w,valor_investido:""});return}const D=(Number(q)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});j({...w,valor_investido:D})},L=z=>{if(!z)return 0;const q=z.replace(/[^\d,]/g,"").replace(",",".");return Number(q)||0},U=z=>{j(q=>{const ie=q.servicos_contratados||[];return ie.includes(z)?{...q,servicos_contratados:ie.filter(D=>D!==z)}:{...q,servicos_contratados:[...ie,z]}})},ae=(z,q)=>{const ie=q.replace(/\D/g,""),D=Number(ie)/100;j(K=>({...K,service_values:{...K.service_values,[z]:D}}))},ue=async()=>{const z=w.cep.replace(/\D/g,"");if(z.length===8){m(!0);try{const q=await Jn(z);if(j(ie=>({...ie,rua:q.rua||"",bairro:q.bairro||"",cidade:q.cidade||"",uf:q.uf||"",ibge_code:q.ibge||""})),q.ibge){const ie=await lc(q.ibge);ie&&ie.Concessionaria&&j(D=>({...D,concessionaria:ie.Concessionaria}))}}catch(q){console.error("Erro CEP",q)}finally{m(!1)}}},le=b.useCallback(z=>{z&&j(q=>z!==Number(q.geracao_estimada_kwh)?{...q,geracao_estimada_kwh:z}:q)},[]),he=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:q}=await B.from("usinas").delete().eq("id",e.id);if(q)throw q;n&&n(e.id),t()}catch(q){a("Erro ao excluir: "+q.message,"error")}finally{f(!1)}}},de=async z=>{z.preventDefault(),f(!0);try{const q=L(w.valor_investido),ie={supplier_id:w.supplier_id||null,name:w.name,concessionaria:w.concessionaria,status:w.status,modalidade:w.modalidade,valor_investido:q,potencia_kwp:Number(T),qtd_modulos:Number(w.qtd_modulos),potencia_modulos_w:Number(w.potencia_modulos_w),fabricante_inversor:w.fabricante_inversor,potencia_inversor_w:Number(w.potencia_inversor_w),geracao_estimada_kwh:Number(w.geracao_estimada_kwh),servicos_contratados:w.servicos_contratados,service_values:w.service_values,gestao_percentual:Number(w.gestao_percentual),ibge_code:w.ibge_code,address:{cep:w.cep,rua:w.rua,numero:w.numero,bairro:w.bairro,cidade:w.cidade,uf:w.uf,ibge:w.ibge_code}};let D=e==null?void 0:e.id,K=null;if(e!=null&&e.id){const{data:ee,error:$}=await B.from("usinas").update(ie).eq("id",e.id).select().single();$?K=$:ee&&(D=ee.id)}else{const{data:ee,error:$}=await B.from("usinas").insert(ie).select().single();$?K=$:ee&&(D=ee.id)}if(K)throw K;if(D&&(await B.from("consumer_units").update({usina_id:null}).eq("usina_id",D),E.length>0)){const ee=E.map($=>$.id);await B.from("consumer_units").update({usina_id:D}).in("id",ee)}r({id:D}),t(),a("Usina salva com sucesso!","success")}catch(q){console.error("Save error:",q),a("Erro ao salvar usina: "+(q.message||JSON.stringify(q)),"error")}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"850px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.5rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Usina":"Nova Usina"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem",marginTop:"0.2rem"},children:"Configure os dados tcnicos e comerciais da usina"})]}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8",padding:"0.5rem"},children:l.jsx(Hf,{size:24})})]}),l.jsxs("form",{onSubmit:de,style:{padding:"1.5rem"},children:[l.jsx(_u,{title:"Identificao e Localizao",icon:N6,defaultOpen:!0,color:"#2563eb",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Nome da Usina"}),l.jsx("input",{required:!0,value:w.name,onChange:z=>j({...w,name:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"},placeholder:"Ex: Usina Solar Norte 01"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fornecedor / Proprietrio"}),l.jsxs("select",{required:!0,value:w.supplier_id,onChange:z=>j({...w,supplier_id:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:w.cep,onChange:z=>j({...w,cep:z.target.value}),onBlur:ue,placeholder:"00000-000",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:h?"#f0f9ff":"white"}}),h&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"0.8rem",color:"#3b82f6"},children:"..."})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Cidade / UF"}),l.jsx("input",{value:w.cidade&&w.uf?`${w.cidade} / ${w.uf}`:"",disabled:!0,placeholder:"Preenchimento automtico",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f1f5f9",color:"#64748b"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Concessionria"}),l.jsx("input",{value:w.concessionaria,onChange:z=>j({...w,concessionaria:z.target.value}),placeholder:"Ex: Cemig",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]})]})}),l.jsx(_u,{title:"Caractersticas Tcnicas",icon:LA,defaultOpen:!0,color:"#ea580c",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status Operacional"}),l.jsx("select",{value:w.status,onChange:z=>j({...w,status:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:p.map(z=>l.jsx("option",{value:z.value,children:z.label},z.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Modalidade"}),l.jsx("select",{value:w.modalidade,onChange:z=>j({...w,modalidade:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:x.map(z=>l.jsx("option",{value:z.value,children:z.label},z.value))})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.5rem 0",gridColumn:"1 / -1"}}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Qtd. Mdulos"}),l.jsx("input",{type:"number",value:w.qtd_modulos,onChange:z=>j({...w,qtd_modulos:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Mdulo (W)"}),l.jsxs("select",{value:w.potencia_modulos_w,onChange:z=>j({...w,potencia_modulos_w:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),g.map(z=>l.jsxs("option",{value:z,children:[z," W"]},z))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fabricante Inversor"}),l.jsxs("select",{value:w.fabricante_inversor,onChange:z=>j({...w,fabricante_inversor:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(z=>l.jsx("option",{value:z.name,children:z.name},z.name))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Inversor (W)"}),l.jsxs("select",{value:w.potencia_inversor_w,onChange:z=>j({...w,potencia_inversor_w:z.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),_.map(z=>l.jsxs("option",{value:z,children:[z," W"]},z))]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"0.5rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",background:"#fff7ed",padding:"1rem",borderRadius:"8px",border:"1px solid #ffedd5"},children:[l.jsx("div",{style:{background:"#ea580c",color:"white",padding:"0.5rem",borderRadius:"50%"},children:l.jsx(Ly,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#ea580c",fontWeight:600,textTransform:"uppercase"},children:"Potncia Total do Sistema (Calculada)"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#9a3412"},children:[T," kWp"]})]})]})})]})}),l.jsxs(_u,{title:"Gerao e Financeiro",icon:Uf,color:"#16a34a",children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Valor Investido"}),l.jsx("input",{value:w.valor_investido,onChange:N,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Gerao Estimada (Mdia Mensal)"}),l.jsx("input",{type:"number",value:w.geracao_estimada_kwh,onChange:z=>j({...w,geracao_estimada_kwh:z.target.value}),placeholder:"Use o grfico para calcular",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f0fdf4"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Servios Contratados"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:y.map(z=>{var ie;const q=w.servicos_contratados.includes(z);return l.jsxs("div",{style:{border:q?"1px solid #16a34a":"1px solid #e2e8f0",borderRadius:"6px",padding:"0.5rem",background:q?"#f0fdf4":"white",transition:"0.2s"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",marginBottom:q?"0.5rem":"0"},children:[l.jsx("input",{type:"checkbox",checked:q,onChange:()=>U(z)}),l.jsx("span",{style:{fontSize:"0.9rem",fontWeight:q?600:400,color:q?"#166534":"#64748b"},children:z})]}),q&&l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",animation:"fadeIn 0.2s"},children:l.jsx("input",{placeholder:"Valor (R$)",value:R((ie=w.service_values)==null?void 0:ie[z]),onChange:D=>ae(z,D.target.value),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}})}),q&&z==="Gesto"&&l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("input",{type:"number",step:"0.01",placeholder:"%",value:w.gestao_percentual,onChange:D=>j({...w,gestao_percentual:D.target.value}),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#166534"},children:"%"})]})]},z)})})]})]}),l.jsxs("div",{style:{marginTop:"1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#059669",fontWeight:600,marginBottom:"0.5rem"},children:[l.jsx(Q3,{size:18}),l.jsx("span",{children:"Estimativa de Gerao (Irradincia)"})]}),l.jsx(AZ,{ibgeCode:w.ibge_code,potenciaKwp:T,onCalculate:le})]})]}),l.jsx(_u,{title:"Vnculos com UCs",icon:$y,color:"#7c3aed",children:l.jsxs("div",{style:{background:"#f5f3ff",padding:"1rem",borderRadius:"8px",border:"1px solid #ede9fe"},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.8rem"},children:l.jsxs("div",{style:{fontSize:"0.9rem",color:"#5b21b6"},children:["Capacidade Comprometida: ",l.jsxs("strong",{children:[k.toFixed(2)," kWh"]}),w.geracao_estimada_kwh>0&&l.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",color:k>w.geracao_estimada_kwh?"#ef4444":"#166534"},children:["(",Math.round(k/w.geracao_estimada_kwh*100),"% da Gerao)"]})]})}),S.length===0?l.jsx("p",{style:{fontSize:"0.8rem",color:"#666",textAlign:"center",padding:"1rem"},children:"Nenhuma UC disponvel encontrada."}):l.jsx("div",{style:{maxHeight:"250px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"0.8rem"},children:S.map(z=>{var ie;const q=E.some(D=>D.id===z.id);return l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.85rem",padding:"0.8rem",border:q?"1px solid #8b5cf6":"1px solid #ddd",borderRadius:"6px",background:q?"white":"rgba(255,255,255,0.6)",cursor:"pointer",transition:"0.2s",boxShadow:q?"0 2px 4px rgba(139, 92, 246, 0.1)":"none"},children:[l.jsx("input",{type:"checkbox",checked:q,onChange:D=>{D.target.checked?A([...E,z]):A(E.filter(K=>K.id!==z.id))},style:{transform:"scale(1.1)",accentColor:"#7c3aed"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:z.numero_uc}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:(ie=z.titular_conta)==null?void 0:ie.substring(0,20)})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("span",{style:{display:"block",fontSize:"0.65rem",color:"#94a3b8"},children:z.concessionaria}),z.consumo_medio_kwh&&l.jsxs("strong",{style:{fontSize:"0.8rem",color:"#059669"},children:[Math.round(z.consumo_medio_kwh)," kWh"]})]})]},z.id)})})]})}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsx("div",{children:e&&n&&l.jsxs("button",{type:"button",onClick:he,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.7rem 1.2rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:[l.jsx(qf,{size:18})," Excluir Usina"]})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(By,{size:18})," Salvar Usina"]})})]})]})]})]})})}function TZ({usina:e,closingId:t,onClose:r,onSave:n}){const{showAlert:a}=hn(),[i,o]=b.useState(!1),s=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],c=new Date().getFullYear(),u=[c-1,c,c+1],[d,f]=b.useState({ref_month:s[new Date().getMonth()],ref_year:c,closing_date:new Date().toISOString().split("T")[0],status:"rascunho",energia_gerada:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas_base:"",custo_disponibilidade:"",manutencao:"",arrendamento:"",servicos_total:"",taxa_gestao_percentual:"",taxa_gestao_valor:"",total_despesas:"",saldo_liquido:""}),h=j=>!j&&j!==0?"":Number(j).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),m=j=>j?typeof j=="number"?j:Number(j.replace(/[^\d,]/g,"").replace(",","."))||0:0;b.useEffect(()=>{if(t)p();else if(e){const j=e.service_values||{},S=j.Internet||0,C=j.Segurana||0,E=j.gua||0,A=S+C+E;f(T=>({...T,custo_disponibilidade:j.Energia||0,manutencao:j.Manuteno||0,arrendamento:j.Arrendamento||0,servicos_total:A,taxa_gestao_percentual:e.gestao_percentual||0}))}},[e,t]),b.useEffect(()=>{!t&&e&&x()},[d.ref_month,d.ref_year]),b.useEffect(()=>{y()},[d.faturas_pagas_base,d.taxa_gestao_percentual,d.custo_disponibilidade,d.manutencao,d.arrendamento,d.servicos_total]);const p=async()=>{o(!0);const{data:j,error:S}=await B.from("plant_closings").select("*").eq("id",t).single();j&&f(j),o(!1)},x=async()=>{const{data:j}=await B.from("consumer_units").select("id").eq("usina_id",e.id),S=(j==null?void 0:j.map(E=>E.id))||[];if(S.length===0)return;`${d.ref_month}${d.ref_year}`;const{data:C}=await B.from("invoices").select("consumo_kwh, valor_total, status, economia_reais, consumo_reais").in("uc_id",S).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year);if(C){const E=C.reduce((k,H)=>k+(Number(H.consumo_kwh)||0),0),T=C.filter(k=>k.status==="paga").reduce((k,H)=>k+(Number(H.valor_total)||0),0),P=C.reduce((k,H)=>k+(Number(H.valor_total)||0),0);f(k=>({...k,energia_compensada:E,faturamento_mensal:P,faturas_pagas_base:T}))}},y=()=>{const j=m(d.faturas_pagas_base),S=Number(d.taxa_gestao_percentual)||0,C=j*(S/100),E=m(d.custo_disponibilidade),A=m(d.manutencao),T=m(d.arrendamento),P=m(d.servicos_total),k=E+A+T+P,H=j-(C+k);f(W=>({...W,taxa_gestao_valor:C,total_despesas:k,saldo_liquido:H}))},v=(j,S)=>{f(C=>({...C,[j]:S}))},g=(j,S)=>{const C=Number(S.replace(/\D/g,""))/100;f(E=>({...E,[j]:C}))},_=async()=>{if(!e.pix_key){a("Usina sem chave PIX cadastrada!","error");return}if(confirm("Confirma o repasse de "+h(d.saldo_liquido)+" para a usina? Essa ao  irreversvel.")){o(!0);try{const{data:j,error:S}=await B.functions.invoke("transfer-asaas-pix",{body:{amount:d.saldo_liquido,pixKey:e.pix_key,pixKeyType:e.pix_key_type||"CPF",description:`Repasse Mensal Usina ${e.name} - ${d.ref_month}/${d.ref_year}`,usinaId:e.id}});if(S)throw new Error(S.message||"Erro na comunicao com Asaas");if(j!=null&&j.error)throw new Error(j.error);await B.from("plant_closings").update({status:"liquidado"}).eq("id",t);const C=`${d.ref_month}/${d.ref_year}`,{data:E}=await B.from("consumer_units").select("id").eq("usina_id",e.id),A=(E==null?void 0:E.map(k=>k.id))||[];A.length>0&&await B.from("invoices").update({status:"liquidado"}).in("uc_id",A).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year).eq("status","paga");const P=[{cat:"manutencao",val:d.manutencao,desc:"Manuteno"},{cat:"arrendamento",val:d.arrendamento,desc:"Arrendamento"},{cat:"taxa_gestao",val:d.taxa_gestao_valor,desc:"Taxa de Gesto"},{cat:"servicos",val:d.servicos_total,desc:"Servios Gerais"}].filter(k=>Number(k.val)>0).map(k=>({usina_id:e.id,type:"saida",category:k.cat,amount:Number(k.val),description:`${k.desc} - Ref. ${d.ref_month}/${d.ref_year}`,origin_id:t,origin_type:"plant_closing",status:"liquidado",transaction_date:new Date().toISOString()}));P.length>0&&await B.from("cashbook").insert(P),A.length>0&&await B.from("cashbook").update({status:"liquidado"}).eq("usina_id",e.id).eq("type","entrada").eq("status","provisionado").textSearch("description",`${d.ref_month} ${d.ref_year}`),a("Pagamento realizado e despesas liquidadas!","success"),n(),r()}catch(j){console.error(j),a("Erro no processamento: "+j.message,"error")}finally{o(!1)}}},w=async j=>{j.preventDefault(),o(!0);const S={usina_id:e.id,...d,taxa_gestao_valor:Number(d.taxa_gestao_valor),total_despesas:Number(d.total_despesas),saldo_liquido:Number(d.saldo_liquido)};delete S.created_at;let C;t?C=await B.from("plant_closings").update(S).eq("id",t):C=await B.from("plant_closings").insert(S),o(!1),C.error?a("Erro ao salvar: "+C.error.message,"error"):(a("Fechamento salvo com sucesso!","success"),n(),r())};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"900px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Novo Fechamento"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Usina: ",e.name]})]}),l.jsx("button",{onClick:r,children:l.jsx(Hf,{size:24,color:"#94a3b8"})})]}),l.jsxs("form",{onSubmit:w,style:{padding:"2rem",display:"grid",gap:"2rem"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",background:"white",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ms Ref."}),l.jsx("select",{value:d.ref_month,onChange:j=>v("ref_month",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:s.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ano"}),l.jsx("select",{value:d.ref_year,onChange:j=>v("ref_year",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:u.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",value:d.closing_date,onChange:j=>v("closing_date",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:j=>v("status",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontWeight:"bold",color:d.status==="fechado"?"#166534":"#ea580c"},children:[l.jsx("option",{value:"rascunho",children:"EM PRODUO"}),l.jsx("option",{value:"fechado",children:"FECHADO"})]})]}),l.jsx("div",{style:{display:"flex",alignItems:"end"},children:l.jsx("button",{type:"button",onClick:x,style:{width:"100%",padding:"0.6rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:"Buscar Faturas"})})]}),l.jsxs("div",{children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Z3,{size:18})," Produo e Receita"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",value:d.energia_gerada,onChange:j=>v("energia_gerada",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Energia Compensada (kWh) - Soma Faturas"}),l.jsx("input",{type:"number",value:d.energia_compensada,disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",background:"#f1f5f9"}})]})]}),l.jsxs("div",{style:{background:"#f0fdf4",padding:"1.5rem",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"bold",color:"#166534",marginBottom:"0.5rem"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{value:h(d.faturas_pagas_base),onChange:j=>g("faturas_pagas_base",j.target.value),style:{width:"100%",fontSize:"1.5rem",fontWeight:"bold",color:"#166534",padding:"0.5rem",background:"transparent",border:"none",outline:"none",borderBottom:"2px solid #16a34a"}}),l.jsx("p",{style:{fontSize:"0.8rem",color:"#15803d",marginTop:"0.5rem"},children:"Valor efetivamente recebido dos assinantes."})]})]}),l.jsxs("div",{style:{border:"1px solid #fb923c",borderRadius:"8px",padding:"1.5rem",background:"#fff7ed",position:"relative"},children:[l.jsxs("div",{style:{position:"absolute",top:"-12px",left:"20px",background:"#fff7ed",padding:"0 10px",color:"#c2410c",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(La,{size:18})," Despesas Operacionais"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginTop:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{value:h(d.custo_disponibilidade),onChange:j=>g("custo_disponibilidade",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Manuteno (R$)"}),l.jsx("input",{value:h(d.manutencao),onChange:j=>g("manutencao",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Arrendamento (R$)"}),l.jsx("input",{value:h(d.arrendamento),onChange:j=>g("arrendamento",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Servios (Net/Seg/gua) (R$)"}),l.jsx("input",{value:h(d.servicos_total),onChange:j=>g("servicos_total",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]})]})]}),l.jsx("div",{style:{background:"#fefce8",borderRadius:"8px",padding:"1.5rem",border:"1px solid #fde047"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Taxa de Gesto (%)"}),l.jsx("input",{type:"number",step:"0.1",value:d.taxa_gestao_percentual,onChange:j=>v("taxa_gestao_percentual",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"white"}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Valor (R$)"}),l.jsx("input",{value:h(d.taxa_gestao_valor),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Total Despesas Operacionais"}),l.jsx("input",{value:h(d.total_despesas),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]})}),"/* ... existing render logic ... */",l.jsxs("div",{style:{background:"#eff6ff",borderRadius:"8px",padding:"2rem",textAlign:"center",border:"1px solid #bfdbfe"},children:[l.jsx("h3",{style:{color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("p",{style:{color:"#3b82f6",fontSize:"0.9rem",marginBottom:"1rem"},children:"Faturas Pagas - (Taxa Gesto + Total Despesas)"}),l.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"900",color:d.saldo_liquido<0?"#ef4444":"#1e40af"},children:h(d.saldo_liquido)}),d.saldo_liquido>0&&d.status!=="liquidado"&&l.jsxs("button",{type:"button",onClick:_,disabled:i||d.status==="liquidado",style:{marginTop:"1.5rem",background:"#16a34a",color:"white",padding:"0.8rem 2rem",borderRadius:"6px",border:"none",fontWeight:"bold",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 6px -1px rgba(22, 163, 74, 0.3)"},children:[l.jsx(Uf,{size:20})," Pagar e Liquidar via Pix"]}),d.status==="liquidado"&&l.jsxs("div",{style:{marginTop:"1rem",color:"#166534",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#166534"}}),"Repasse Realizado"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:i?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(By,{size:18})," Salvar Fechamento"]})})]})]})]})})}function RZ({usina:e,onClose:t}){const{showAlert:r}=hn(),[n,a]=b.useState([]),[i,o]=b.useState(!0),[s,c]=b.useState(null),[u,d]=b.useState(!1);b.useEffect(()=>{e&&f()},[e]);const f=async()=>{o(!0);const{data:y,error:v}=await B.from("plant_closings").select("*").eq("usina_id",e.id).order("created_at",{ascending:!1});v?console.error("Error fetching closings",v):a(y||[]),o(!1)},h=y=>{c(y),d(!0)},m=()=>{c(null),d(!0)},p=()=>{f()},x=y=>Number(y||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},children:[u&&l.jsx(TZ,{usina:e,closingId:s,onClose:()=>d(!1),onSave:p}),l.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Fechamentos Mensais"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Histrico financeiro da usina ",e.name]})]}),l.jsx("button",{onClick:t,children:l.jsx(Hf,{size:24,color:"#94a3b8"})})]}),l.jsx("div",{style:{padding:"1rem 1.5rem",background:"#f8fafc",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end"},children:l.jsxs("button",{onClick:m,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-blue)",color:"white",padding:"0.6rem 1.2rem",borderRadius:"6px",border:"none",fontWeight:600,cursor:"pointer"},children:[l.jsx(uc,{size:18})," Novo Fechamento"]})}),l.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1,background:"#f1f5f9"},children:i?l.jsx("p",{children:"Carregando..."}):n.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8",background:"white",borderRadius:"8px",border:"1px dashed #cbd5e1"},children:[l.jsx(La,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),l.jsx("p",{children:"Nenhum fechamento registrado para esta usina."})]}):l.jsx("div",{style:{display:"grid",gap:"1rem"},children:n.map(y=>l.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[l.jsxs("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",textAlign:"center",minWidth:"80px"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b",textTransform:"uppercase"},children:"Ms/Ano"}),l.jsxs("div",{style:{fontWeight:"bold",color:"#1e40af"},children:[y.ref_month,"/",y.ref_year]})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.3rem"},children:[l.jsx("span",{style:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:"bold",padding:"0.2rem 0.5rem",borderRadius:"99px",background:y.status==="fechado"?"#dcfce7":"#ffedd5",color:y.status==="fechado"?"#166534":"#9a3412"},children:y.status}),l.jsxs("span",{style:{fontSize:"0.8rem",color:"#94a3b8"},children:["Criado em ",new Date(y.created_at).toLocaleDateString()]})]}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#475569"},children:["Faturas: ",l.jsx("strong",{children:x(y.faturas_pagas_base)})," | Despesas: ",l.jsx("strong",{children:x(y.total_despesas)})]})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:"Saldo Lquido"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:y.saldo_liquido<0?"#ef4444":"#166534"},children:x(y.saldo_liquido)}),l.jsx("button",{onClick:()=>h(y.id),style:{marginTop:"0.5rem",background:"none",border:"none",color:"#3b82f6",fontSize:"0.85rem",cursor:"pointer",textDecoration:"underline"},children:"Ver Detalhes"})]})]},y.id))})})]})]})}function PZ(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(!1),[o,s]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(null),[h,m]=b.useState(""),[p,x]=b.useState("kanban"),y=e.filter(j=>{var C,E,A,T,P,k,H;if(!h)return!0;const S=h.toLowerCase();return((C=j.name)==null?void 0:C.toLowerCase().includes(S))||((E=j.concessionaria)==null?void 0:E.toLowerCase().includes(S))||((T=(A=j.supplier)==null?void 0:A.name)==null?void 0:T.toLowerCase().includes(S))||((P=j.status)==null?void 0:P.toLowerCase().includes(S))||((H=(k=j.address)==null?void 0:k.cidade)==null?void 0:H.toLowerCase().includes(S))});b.useEffect(()=>{v()},[]);const v=async()=>{n(!0);try{const{data:j,error:S}=await B.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(S)throw S;t(j||[])}catch(j){console.error("Erro usinas",j)}finally{n(!1)}},g=()=>{v(),i(!1)},_=j=>{t(e.filter(S=>S.id!==j)),i(!1)},w=j=>{switch(j){case"gerando":return{bg:"#dcfce7",color:"#166534"};case"em_conexao":return{bg:"#ffedd5",color:"#9a3412"};case"manutencao":return{bg:"#fee2e2",color:"#991b1b"};case"inativa":return{bg:"#f1f5f9",color:"#64748b"};case"cancelada":return{bg:"#f1f5f9",color:"#94a3b8"};default:return{bg:"#f1f5f9",color:"#64748b"}}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Usinas Geradoras"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:h,onChange:j=>m(j.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>x("list"),className:`btn ${p==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>x("kanban"),className:`btn ${p==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:p==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:y.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome / Concessionria"}),l.jsx("th",{children:"Fornecedor"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Gerao / Potncia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:y.map(j=>{var C,E,A,T;const S=w(j.status);return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold"},children:[l.jsx("div",{children:j.name}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:j.concessionaria||"-"})]}),l.jsx("td",{children:((C=j.supplier)==null?void 0:C.name)||"-"}),l.jsxs("td",{children:[(E=j.address)==null?void 0:E.cidade,"/",(A=j.address)==null?void 0:A.uf]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:j.geracao_estimada_kwh?`${j.geracao_estimada_kwh} kWh/ms`:"-"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",j.potencia_kwp," kWp"]})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:S.bg,color:S.color,textTransform:"uppercase"},children:(T=j.status)==null?void 0:T.replace("_"," ")})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>{s(j),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",marginRight:"0.5rem"},children:"Editar"}),l.jsx("button",{onClick:()=>{f(j),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",background:"#e0f2fe",color:"#0369a1",border:"1px solid #bae6fd"},title:"Fechamentos Financeiros",children:l.jsx(La,{size:14})})]})]},j.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["em_conexao","gerando","manutencao","inativa","cancelada"].map(j=>{const S=y.filter(E=>E.status===j),C=w(j);return l.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${C.color}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:C.color},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:j.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:C.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:S.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:S.map(E=>{var A,T,P;return l.jsxs("div",{onClick:()=>{s(E),i(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s",position:"relative",overflow:"hidden"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:k=>k.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:C.bg,color:C.color,marginBottom:"0.5rem"},children:j.replace("_"," ")}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:E.name})}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:E.concessionaria||"Sem conc."}),l.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((A=E.supplier)==null?void 0:A.name)||"Sem Fornecedor"})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),l.jsxs("div",{style:{fontWeight:"bold"},children:[E.potencia_kwp," kWp"]})]}),l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),l.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[E.geracao_estimada_kwh," kWh"]})]})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(T=E.address)==null?void 0:T.cidade,"/",(P=E.address)==null?void 0:P.uf]}),l.jsxs("button",{onClick:k=>{k.stopPropagation(),f(E),u(!0)},style:{background:"none",border:"none",color:"#3b82f6",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.2rem"},children:[l.jsx(La,{size:14})," Fechamentos"]})]})]},E.id)})})]},j)})})}),a&&l.jsx(kZ,{usina:o,onClose:()=>i(!1),onSave:g,onDelete:_}),c&&l.jsx(RZ,{usina:d,onClose:()=>u(!1)})]})}function NZ(){const{showAlert:e,showConfirm:t}=hn(),[r,n]=b.useState([]),[a,i]=b.useState([]),[o,s]=b.useState(!0),[c,u]=b.useState("kanban"),[d,f]=b.useState(null),[h,m]=b.useState(!1),[p,x]=b.useState(new Date().toISOString().substring(0,7)),[y,v]=b.useState(""),[g,_]=b.useState(""),[w,j]=b.useState(null),S=r.filter(O=>{var R,N,L,U,ae,ue,le;if(y&&O.status!==y)return!1;if(g){const he=g.toLowerCase(),de=((N=(R=O.consumer_units)==null?void 0:R.titular_conta)==null?void 0:N.toLowerCase())||"",z=((ae=(U=(L=O.consumer_units)==null?void 0:L.subscribers)==null?void 0:U.name)==null?void 0:ae.toLowerCase())||"",q=((le=(ue=O.consumer_units)==null?void 0:ue.numero_uc)==null?void 0:le.toLowerCase())||"";if(!de.includes(he)&&!z.includes(he)&&!q.includes(he))return!1}return!0});b.useEffect(()=>{C(),E()},[p]);const C=async()=>{s(!0);try{const[O,R]=p.split("-"),N=`${O}-${R}-01`,L=new Date(O,R,0).getDate(),U=`${O}-${R}-${L}`,{data:ae,error:ue}=await B.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",N).lte("mes_referencia",U).order("vencimento",{ascending:!0});if(ue)throw ue;n(ae||[])}catch(O){console.error("Error fetching invoices:",O),e("Erro ao carregar faturas.","error")}finally{s(!1)}},E=async()=>{const{data:O,error:R}=await B.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta, tarifa_concessionaria, desconto_assinante, tipo_ligacao").eq("status","ativo").order("titular_conta");R||i(O||[])},A=()=>{f(null),m(!0)},T=O=>{f(O),m(!0)},P=()=>{C(),m(!1)},k=async O=>{var N;if(await t(`Gerar boleto Asaas para a fatura de ${(N=O.consumer_units)==null?void 0:N.titular_conta}?`)){j(O.id);try{const L=await Lf(O.id);L.url&&(e("Boleto gerado com sucesso!","success"),window.open(L.url,"_blank"),C())}catch(L){console.error(L),e("Erro ao gerar boleto: "+L.message,"error")}finally{j(null)}}},H=async O=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:N}=await B.from("invoices").delete().eq("id",O);if(N)throw N;C()}catch(N){console.error("Erro ao excluir fatura:",N),e("Erro ao excluir fatura: "+N.message,"error")}},W=O=>Number(O||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Z=O=>{const R={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:$A},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:d6},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:IA}},N=R[O]||R.a_vencer,L=N.icon;return l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:N.bg,color:N.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[l.jsx(L,{size:12})," ",N.label]})};return l.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),l.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),l.jsxs("button",{onClick:A,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(uc,{size:18})," Nova Fatura"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[l.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[l.jsx(S6,{size:18}),l.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),l.jsx("input",{type:"month",value:p,onChange:O=>x(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),l.jsxs("select",{value:y,onChange:O=>v(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"atrasado",children:"Atrasado"}),l.jsx("option",{value:"pago",children:"Pago"})]}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx(Iy,{size:18})}),l.jsx("input",{placeholder:"Buscar por Nome...",value:g,onChange:O=>_(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>u("list"),className:`btn ${c==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>u("kanban"),className:`btn ${c==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:c==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{background:"#f8fafc"},children:l.jsxs("tr",{children:[l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),l.jsx("tbody",{children:S.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):S.map(O=>{var R,N,L;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsx("td",{style:{padding:"1rem"},children:Z(O.status)}),l.jsx("td",{style:{padding:"1rem",color:"#334155"},children:O.vencimento?new Date(O.vencimento).toLocaleDateString("pt-BR"):"-"}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((R=O.consumer_units)==null?void 0:R.numero_uc)||"N/A"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(N=O.consumer_units)==null?void 0:N.titular_conta," (",(L=O.consumer_units)==null?void 0:L.concessionaria,")"]})]}),l.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(O.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:W(O.valor_a_pagar)}),l.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[O.asaas_boleto_url?l.jsxs("a",{href:O.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(La,{size:14})," Boleto"]}):l.jsx("button",{onClick:()=>k(O),disabled:w===O.id,style:{background:w===O.id?"#f1f5f9":"#fff7ed",color:w===O.id?"#94a3b8":"#c2410c",border:w===O.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:w===O.id?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx(cc,{size:14})," Emitir"]})}),l.jsx("button",{onClick:()=>T(O),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),l.jsx("button",{onClick:()=>H(O.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:l.jsx(qf,{size:16})})]})})]},O.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(O=>{const R=S.filter(U=>U.status===O),N={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},L=N[O]||N.a_vencer;return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${L.color}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:L.color},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:L.label}),l.jsx("span",{style:{fontSize:"0.8rem",background:L.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:W(R.reduce((U,ae)=>U+(Number(ae.valor_a_pagar)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:R.map(U=>{var ae,ue;return l.jsxs("div",{onClick:()=>T(U),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:le=>le.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:le=>le.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(ae=U.consumer_units)==null?void 0:ae.numero_uc}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",U.vencimento?new Date(U.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(ue=U.consumer_units)==null?void 0:ue.titular_conta}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),l.jsxs("div",{children:[Number(U.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:W(U.valor_a_pagar)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:U.asaas_boleto_url?l.jsxs("a",{href:U.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:le=>le.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(La,{size:14})," Boleto"]}):l.jsx("button",{onClick:le=>{le.stopPropagation(),k(U)},className:"btn",disabled:w===U.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:w===U.id?"...":"Emitir"})})]},U.id)})})]},O)})})}),h&&l.jsx(FA,{invoice:d,ucs:a,onClose:()=>m(!1),onSave:P})]})}function MZ(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(""),[o,s]=b.useState("kanban"),[c,u]=b.useState(!1),[d,f]=b.useState(null),h=e.filter(y=>{var g,_,w,j,S,C,E;if(!a)return!0;const v=a.toLowerCase();return((g=y.numero_uc)==null?void 0:g.toLowerCase().includes(v))||((w=(_=y.subscriber)==null?void 0:_.name)==null?void 0:w.toLowerCase().includes(v))||((j=y.concessionaria)==null?void 0:j.toLowerCase().includes(v))||((C=(S=y.address)==null?void 0:S.cidade)==null?void 0:C.toLowerCase().includes(v))||((E=y.status)==null?void 0:E.toLowerCase().includes(v))});b.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:y,error:v}=await B.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(v)throw v;t(y||[])}catch(y){console.error("Error fetching UCs:",y)}finally{n(!1)}},p=y=>{m(),u(!1)},x=y=>{t(e.filter(v=>v.id!==y)),u(!1)};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),l.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:y=>i(y.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>s("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>s("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:o==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:h.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"UC"}),l.jsx("th",{children:"Concessionria"}),l.jsx("th",{children:"Assinante"}),l.jsx("th",{children:"Franquia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:h.map(y=>{var v,g,_,w,j;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:y.numero_uc}),l.jsx("td",{style:{color:"var(--color-text-medium)"},children:y.concessionaria||"-"}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold"},children:((v=y.subscriber)==null?void 0:v.name)||"-"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(g=y.subscriber)==null?void 0:g.cpf_cnpj})]}),l.jsx("td",{children:y.franquia?`${Number(y.franquia).toLocaleString("pt-BR")} kWh`:"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:y.status==="ativo"?"var(--color-success-light)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:y.status==="ativo"?"var(--color-success)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(_=y.status)==null?void 0:_.replace("_"," ").toUpperCase()})}),l.jsxs("td",{children:[(w=y.address)==null?void 0:w.cidade," / ",(j=y.address)==null?void 0:j.uf]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{f(y),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}].map(({status:y,label:v,color:g})=>{const _=h.filter(w=>(w.status||"em_ativacao")===y);return l.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${g}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:g},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:v}),l.jsx("span",{style:{fontSize:"0.8rem",background:g,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:_.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:_.map(w=>{var j,S,C;return l.jsxs("div",{onClick:()=>{f(w),u(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:E=>E.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:E=>E.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:w.numero_uc}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:w.concessionaria})]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((j=w.subscriber)==null?void 0:j.name)||"Sem Assinante"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(S=w.address)==null?void 0:S.cidade,"/",(C=w.address)==null?void 0:C.uf]}),l.jsx("span",{children:w.franquia?`${Number(w.franquia).toLocaleString("pt-BR")} kWh`:""})]})]},w.id)})})]},y)})})}),c&&l.jsx(Uy,{consumerUnit:d,onClose:()=>u(!1),onSave:p,onDelete:x})]})}function DZ({billing:e,onClose:t,onSave:r}){const[n,a]=b.useState([]),[i,o]=b.useState(!1),[s,c]=b.useState(!1),[u,d]=b.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=b.useState(0),m=["em_producao","fechado","liquidado"],p=C=>{if(!C&&C!==0)return"";const E=Number(C);return isNaN(E)?"":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},x=C=>{if(!C||typeof C!="string")return 0;const E=C.replace(/\D/g,"");return Number(E)/100},y=(C,E)=>{const A=E.replace(/\D/g,""),P=(Number(A)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(k=>({...k,[C]:P}))};b.useEffect(()=>{v(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:p(e.faturamento_mensal),faturas_pagas:p(e.faturas_pagas),custo_disponibilidade:p(e.custo_disponibilidade),manutencao:p(e.manutencao),gestao_reais:p(e.gestao_reais),arrendamento:p(e.arrendamento),servicos:p(e.servicos),total_despesas:p(e.total_despesas),saldo_receber:p(e.saldo_receber)}),g(e.usina_id))},[e]),b.useEffect(()=>{w()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const v=async()=>{const{data:C}=await B.from("usinas").select("id, name");a(C||[])},g=async C=>{if(!C)return;const{data:E}=await B.from("usinas").select("gestao_percentual").eq("id",C).single();E&&h(Number(E.gestao_percentual)||0)},_=async C=>{const E=C.target.value;d(A=>({...A,usina_id:E})),await g(E)},w=()=>{const C=x(u.faturas_pagas),E=x(u.custo_disponibilidade),A=x(u.manutencao),T=x(u.arrendamento),P=x(u.servicos);let k=0;f>0&&(k=C*(f/100));const H=E+A+k+T+P,W=C-H,Z=x(u.gestao_reais),O=x(u.total_despesas),R=x(u.saldo_receber);Math.abs(Z-k)<.01&&Math.abs(O-H)<.01&&Math.abs(R-W)<.01||d(N=>({...N,gestao_reais:p(k),total_despesas:p(H),saldo_receber:p(W)}))},j=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}c(!0);try{const{data:C,error:E}=await B.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(E)throw E;if(!C||C.length===0){alert("Nenhuma UC vinculada a esta usina."),c(!1);return}const A=C.map(L=>L.id),[T,P]=u.mes_referencia.split("-"),k=`${T}-${P}-01`,H=new Date(T,P,0).getDate(),W=`${T}-${P}-${H}`,{data:Z,error:O}=await B.from("invoices").select("valor_a_pagar, status").in("uc_id",A).gte("mes_referencia",k).lte("mes_referencia",W);if(O)throw O;let R=0,N=0;Z.forEach(L=>{const U=Number(L.valor_a_pagar)||0;R+=U,L.status==="pago"&&(N+=U)}),d(L=>({...L,faturamento_mensal:p(R),faturas_pagas:p(N)}))}catch(C){console.error("Reconciliation error:",C),alert("Erro ao buscar faturas: "+C.message)}finally{c(!1)}},S=async C=>{C.preventDefault(),o(!0);try{const E={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:x(u.faturamento_mensal),faturas_pagas:x(u.faturas_pagas),custo_disponibilidade:x(u.custo_disponibilidade),manutencao:x(u.manutencao),gestao_reais:x(u.gestao_reais),arrendamento:x(u.arrendamento),servicos:x(u.servicos),total_despesas:x(u.total_despesas),saldo_receber:x(u.saldo_receber)};let A;if(e!=null&&e.id?A=await B.from("generation_production").update(E).eq("id",e.id):A=await B.from("generation_production").insert(E),A.error)throw A.error;r(),t()}catch(E){console.error("Save error:",E),alert("Erro ao salvar: "+(E.message||JSON.stringify(E)))}finally{o(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),l.jsxs("form",{onSubmit:S,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),l.jsxs("select",{required:!0,value:u.usina_id,onChange:_,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[l.jsx("option",{value:"",children:"Selecione..."}),n.map(C=>l.jsx("option",{value:C.id,children:C.name},C.id))]})]}),l.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),l.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:C=>{const E=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${E}-${C.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((C,E)=>l.jsx("option",{value:C,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][E]},C))})]}),l.jsxs("div",{style:{width:"80px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),l.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:C=>{const E=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${C.target.value}-${E}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(C,E)=>new Date().getFullYear()-2+E).map(C=>l.jsx("option",{value:C,children:C},C))})]})]}),l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:C=>d({...u,fechamento:C.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{width:"120px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),l.jsx("select",{value:u.status,onChange:C=>d({...u,status:C.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(C=>l.jsx("option",{value:C,children:C.replace("_"," ").toUpperCase()},C))})]}),l.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:l.jsx("button",{type:"button",onClick:j,disabled:s||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:s?.7:1},children:s?"Buscando...":"Buscar Faturas"})})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:C=>d({...u,geracao_mensal_kwh:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),l.jsx("input",{type:"number",value:u.energia_compensada,onChange:C=>d({...u,energia_compensada:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),l.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:C=>y("faturamento_mensal",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{type:"text",value:u.faturas_pagas,onChange:C=>y("faturas_pagas",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:C=>y("custo_disponibilidade",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),l.jsx("input",{type:"text",value:u.manutencao,onChange:C=>y("manutencao",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),l.jsx("input",{type:"text",value:u.arrendamento,onChange:C=>y("arrendamento",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),l.jsx("input",{type:"text",value:u.servicos,onChange:C=>y("servicos",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),l.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),l.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[l.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function zZ(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState("kanban"),[o,s]=b.useState(!1),[c,u]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:g,error:_}=await B.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});_?console.error("Error fetching billing:",_):t(g||[]),n(!1)},f=g=>{u(g),s(!0)},h=()=>{u(null),s(!0)},m=async g=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:_}=await B.from("generation_production").delete().eq("id",g);_?alert("Erro ao excluir"):d()},p=async g=>{var _;if(!g.saldo_receber||g.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${g.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:w,error:j}=await B.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",g.usina_id).single();if(j||!w||!w.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const S=w.supplier;if(!S.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:C,error:E}=await B.functions.invoke("transfer-asaas-pix",{body:{value:g.saldo_receber,pix_key:S.pix_key,pix_key_type:S.pix_key_type,description:`Pagamento Energia - ${g.mes_referencia} - ${w.name}`,operationType:"PIX"}});if(E)throw E;if(!C.success)throw new Error(C.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((_=C.data)==null?void 0:_.id)),d(),await B.from("generation_production").update({status:"liquidado"}).eq("id",g.id),d()}catch(w){console.error("Payment Error:",w),alert("Erro no pagamento: "+w.message)}finally{n(!1)}}},x=()=>{d(),s(!1)},y=g=>{if(!g)return"-";const[_,w]=g.split("-"),j=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=parseInt(w,10)-1;return`${j[S]||"-"} ${_}`},v=g=>Number(g||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),l.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:a==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Usina"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Gerao (kWh)"}),l.jsx("th",{children:"Compensado (kWh)"}),l.jsx("th",{children:"Faturado (R$)"}),l.jsx("th",{children:"Saldo a Receber (R$)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(g=>{var _;return l.jsxs("tr",{children:[l.jsx("td",{children:y(g.mes_referencia)}),l.jsx("td",{children:((_=g.usinas)==null?void 0:_.name)||"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:g.status==="liquidado"?"#dcfce7":g.status==="fechado"?"#e0f2fe":"#fef9c3",color:g.status==="liquidado"?"#166534":g.status==="fechado"?"#0369a1":"#854d0e"},children:g.status})}),l.jsxs("td",{children:[Number(g.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsxs("td",{children:[Number(g.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{children:v(g.faturamento_mensal)}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:v(g.saldo_receber)}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>f(g),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),l.jsx("button",{onClick:()=>m(g.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),l.jsx("button",{onClick:()=>p(g),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},g.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(g=>{const _=e.filter(S=>S.status===g),j={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[g]||"#64748b";return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${j}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:j},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:g}),l.jsx("span",{style:{fontSize:"0.8rem",background:j,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:v(_.reduce((S,C)=>S+(Number(C.saldo_receber)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:_.map(S=>{var C;return l.jsxs("div",{onClick:()=>f(S),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:E=>E.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:E=>E.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(C=S.usinas)==null?void 0:C.name}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:y(S.mes_referencia)})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),l.jsxs("div",{children:[Number(S.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:v(S.saldo_receber)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:S.status!=="liquidado"&&l.jsx("button",{onClick:E=>{E.stopPropagation(),p(S)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},S.id)})})]},g)})})}),o&&l.jsx(DZ,{billing:c,onClose:()=>s(!1),onSave:x})]})}function BZ(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState("all"),[o,s]=b.useState(""),[c,u]=b.useState(null),d=[{id:"all",label:"Todos",color:"#64748b"},{id:"super_admin",label:"Super Admin",color:"#0f172a"},{id:"admin",label:"Admin",color:"#1e293b"},{id:"manager",label:"Gerente",color:"#334155"},{id:"coordinator",label:"Coord.",color:"#475569"},{id:"supplier",label:"Fornecedor",color:"#ea580c"},{id:"originator",label:"Originador",color:"#059669"},{id:"subscriber",label:"Assinante",color:"#2563eb"},{id:"lead",label:"Lead",color:"#94a3b8"}],f=g=>{var _;return((_=d.find(w=>w.id===g))==null?void 0:_.label)||g},h=g=>{var _;return((_=d.find(w=>w.id===g))==null?void 0:_.color)||"#94a3b8"};b.useEffect(()=>{m()},[]);const m=async()=>{n(!0);const{data:g}=await B.from("profiles").select("*").order("name");g&&t(g),n(!1)},p=g=>{t(e.map(_=>_.id===g.id?g:_))},x=e.filter(g=>{var j,S;const _=(((j=g.name)==null?void 0:j.toLowerCase())||"").includes(o.toLowerCase())||(((S=g.email)==null?void 0:S.toLowerCase())||"").includes(o.toLowerCase()),w=a==="all"?!0:g.role===a;return _&&w}),y=e.length,v=e.filter(g=>g.role!=="lead").length;return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",color:"#2563eb"},children:l.jsx($y,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:y}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Total de Usurios"})]})]}),l.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{background:"#f0fdf4",padding:"0.8rem",borderRadius:"8px",color:"#16a34a"},children:l.jsx(UA,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:v}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Perfis Ativos"})]})]})]}),l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsxs("div",{style:{borderBottom:"1px solid #e2e8f0"},children:[l.jsxs("div",{style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[l.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#334155"},children:"Lista de Usurios"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(Iy,{size:16,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),l.jsx("input",{placeholder:"Buscar usurio...",value:o,onChange:g=>s(g.target.value),style:{padding:"0.5rem 1rem 0.5rem 2.2rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem",width:"250px"}})]})]}),l.jsx("div",{style:{display:"flex",gap:"2rem",padding:"0 1rem",overflowX:"auto"},children:d.map(g=>l.jsxs("button",{onClick:()=>i(g.id),style:{background:"none",border:"none",padding:"1rem 0",color:a===g.id?"#0284c7":"#64748b",fontWeight:a===g.id?600:400,borderBottom:a===g.id?"2px solid #0284c7":"2px solid transparent",cursor:"pointer",whiteSpace:"nowrap",fontSize:"0.9rem"},children:[g.label,l.jsx("span",{style:{marginLeft:"6px",background:a===g.id?"#e0f2fe":"#f1f5f9",padding:"2px 6px",borderRadius:"99px",fontSize:"0.75rem"},children:g.id==="all"?e.length:e.filter(_=>_.role===g.id).length})]},g.id))})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[l.jsx("thead",{style:{background:"#f8fafc",borderBottom:"1px solid #e2e8f0",fontSize:"0.8rem",textTransform:"uppercase",color:"#64748b"},children:l.jsxs("tr",{children:[l.jsx("th",{style:{padding:"1rem"},children:"Usurio"}),l.jsx("th",{style:{padding:"1rem"},children:"Perfil (Role)"}),l.jsx("th",{style:{padding:"1rem"},children:"Contato"}),l.jsx("th",{style:{padding:"1rem"},children:"Comisses"}),l.jsx("th",{style:{padding:"1rem",textAlign:"right"},children:"Aes"})]})}),l.jsx("tbody",{children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center"},children:"Carregando..."})}):x.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhum usurio encontrado."})}):x.map(g=>{var _;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsx("td",{style:{padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem"},children:[l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b",fontWeight:"bold"},children:((_=g.name)==null?void 0:_.charAt(0).toUpperCase())||"?"}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:g.name||"Sem Nome"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:g.email})]})]})}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:600,background:h(g.role)+"20",color:h(g.role),border:`1px solid ${h(g.role)}40`},children:f(g.role)})}),l.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem",color:"#475569"},children:g.phone||"-"}),l.jsx("td",{style:{padding:"1rem",fontSize:"0.85rem"},children:g.commission_split?l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8"},children:"Start:"})," ",l.jsxs("strong",{children:[g.commission_split.start,"%"]})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8"},children:"Rec.:"})," ",l.jsxs("strong",{children:[g.commission_split.recorrente,"%"]})]})]}):"-"}),l.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:l.jsxs("button",{onClick:()=>u(g),style:{background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",padding:"0.4rem 0.8rem",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.4rem",color:"#475569",fontSize:"0.8rem",fontWeight:500},children:[l.jsx($6,{size:14})," Editar"]})})]},g.id)})})]})})]}),c&&l.jsx(WA,{user:c,onClose:()=>u(null),onSave:p})]})}function uS({serviceName:e,title:t,description:r}){var S;const{showAlert:n}=hn(),[a,i]=b.useState(!1),[o,s]=b.useState(!1),[c,u]=b.useState({endpoint_url:"",api_key:"",secret_key:"",variables:[]});b.useEffect(()=>{d()},[e]);const d=async()=>{i(!0);const{data:C,error:E}=await B.from("integrations_config").select("*").eq("service_name",e).single();if(C){const A=C.variables?Object.entries(C.variables).map(([T,P])=>({key:T,value:P})):[];u({endpoint_url:C.endpoint_url||"",api_key:C.api_key||"",secret_key:C.secret_key||"",variables:A})}else E&&E.code!=="PGRST116"&&console.error("Error fetching config:",E);i(!1)},f=async C=>{C.preventDefault(),i(!0);const E=c.variables.reduce((P,k)=>(k.key&&(P[k.key]=k.value),P),{}),A={service_name:e,endpoint_url:c.endpoint_url,api_key:c.api_key,secret_key:c.secret_key,variables:E,updated_at:new Date().toISOString()},{error:T}=await B.from("integrations_config").upsert(A,{onConflict:"service_name"});i(!1),T?n("Erro ao salvar configuraes: "+T.message,"error"):n("Configuraes salvas com sucesso!","success")},h=()=>{u(C=>({...C,variables:[...C.variables,{key:"",value:""}]}))},m=C=>{u(E=>({...E,variables:E.variables.filter((A,T)=>T!==C)}))},p=(C,E,A)=>{const T=[...c.variables];T[C][E]=A,u(P=>({...P,variables:T}))},[x,y]=b.useState(""),[v,g]=b.useState("Teste de conexo Evolution API"),[_,w]=b.useState(!1),j=async()=>{if(!x){n("Informe um nmero de telefone para teste.","error");return}w(!0);try{const{data:C,error:E}=await B.functions.invoke("send-whatsapp",{body:{text:v,phone:x}});if(E)throw new Error(E.message);if(C!=null&&C.error)throw new Error(C.error);n("Mensagem de teste enviada com sucesso!","success")}catch(C){console.error(C),n("Falha no teste: "+C.message,"error")}finally{w(!1)}};return l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",background:"#f8fafc"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{padding:"0.5rem",background:"#fff",borderRadius:"6px",border:"1px solid #cbd5e1"},children:l.jsx(W6,{size:20,color:"#475569"})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"#1e293b"},children:t}),l.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#64748b"},children:r})]})]})}),l.jsxs("form",{onSubmit:f,style:{padding:"2rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Endpoint URL"}),l.jsx("input",{type:"url",placeholder:"https://api.exemplo.com/v1",value:c.endpoint_url,onChange:C=>u({...c,endpoint_url:C.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"API Key / Token"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:o?"text":"password",value:c.api_key,onChange:C=>u({...c,api_key:C.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("button",{type:"button",onClick:()=>s(!o),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o?l.jsx(b6,{size:18}):l.jsx(_6,{size:18})})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Secret Key (Opcional)"}),l.jsx("input",{type:"password",value:c.secret_key,onChange:C=>u({...c,secret_key:C.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]})]}),e==="evolution_api"&&l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Nome da Instncia"}),l.jsx("input",{placeholder:"Nome da Instncia (ex: minha-instancia)",value:((S=c.variables.find(C=>C.key==="instance_name"))==null?void 0:S.value)||"",onChange:C=>{const E=C.target.value;u(A=>{const T=A.variables.some(k=>k.key==="instance_name");let P;return T?P=A.variables.map(k=>k.key==="instance_name"?{...k,value:E}:k):P=[...A.variables,{key:"instance_name",value:E}],{...A,variables:P}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Nome da instncia criada na Evolution API."})]}),l.jsxs("div",{style:{borderTop:"1px solid #e2e8f0",paddingTop:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("label",{style:{fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Variveis de Ambiente / Parmetros Extras"}),l.jsxs("button",{type:"button",onClick:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.8rem",color:"#2563eb",background:"#eff6ff",padding:"0.4rem 0.8rem",borderRadius:"99px",border:"none",cursor:"pointer",fontWeight:600},children:[l.jsx(uc,{size:14})," Adicionar Varivel"]})]}),c.variables.length===0&&l.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"6px",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #cbd5e1"},children:"Nenhuma varivel configurada."}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:c.variables.map((C,E)=>e==="evolution_api"&&C.key==="instance_name"?null:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:"1rem",alignItems:"center"},children:[l.jsx("input",{placeholder:"Nome da Varivel (ex: instance_name)",value:C.key,onChange:A=>p(E,"key",A.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),l.jsx("input",{placeholder:"Valor",value:C.value,onChange:A=>p(E,"value",A.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),l.jsx("button",{type:"button",onClick:()=>m(E),style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer",padding:"0.4rem"},title:"Remover",children:l.jsx(qf,{size:18})})]},E))})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:l.jsx("button",{type:"submit",disabled:a,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"#0284c7",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(2, 132, 199, 0.2)"},children:a?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(By,{size:18})," Salvar Configuraes"]})})}),e==="evolution_api"&&l.jsxs("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:[l.jsx("h4",{style:{margin:"0 0 1rem 0",color:"#334155"},children:"Teste de Conexo"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr auto",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Nmero (com DDI)"}),l.jsx("input",{placeholder:"5511999999999",value:x,onChange:C=>y(C.target.value.replace(/\D/g,"")),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Mensagem"}),l.jsx("input",{value:v,onChange:C=>g(C.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsx("button",{type:"button",onClick:j,disabled:_||!x,style:{padding:"0.7rem 1.5rem",background:_?"#94a3b8":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:_?"default":"pointer",fontWeight:600},children:_?"Enviando...":"Enviar Teste"})]})]})]})]})}function IZ(){const[e,t]=b.useState("users"),r=[{id:"users",label:"Perfil de Usurios",icon:$y,desc:"Gerenciar usurios e acesso"},{id:"evolution",label:"Evolution API",icon:h6,desc:"Configurao da API WhatsApp"},{id:"financial",label:"Integrao Financeira",icon:cc,desc:"Gateways de Pagamento"}],n=()=>{switch(e){case"users":return l.jsx(BZ,{});case"evolution":return l.jsx(uS,{serviceName:"evolution_api",title:"Evolution API",description:"Configurao da API de WhatsApp"});case"financial":return l.jsx(uS,{serviceName:"financial_api",title:"Integrao Financeira",description:"Gateways de Pagamento (Asaas, etc)"});default:return null}};return l.jsxs("div",{style:{padding:"2rem",height:"100%"},children:[l.jsx("h2",{style:{marginBottom:"0.5rem",color:"#1e293b"},children:"Configuraes"}),l.jsx("p",{style:{color:"#64748b",marginBottom:"2rem"},children:"Gerencie as configuraes gerais e integraes do sistema."}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"260px 1fr",gap:"2rem",alignItems:"start"},children:[l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsx("div",{style:{padding:"1rem",borderBottom:"1px solid #f1f5f9",background:"#f8fafc"},children:l.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Menu"})}),l.jsx("div",{children:r.map(a=>l.jsxs("button",{onClick:()=>t(a.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem 1.5rem",border:"none",textAlign:"left",cursor:"pointer",color:e===a.id?"#0284c7":"#475569",background:e===a.id?"#f0f9ff":"transparent",borderLeft:e===a.id?"3px solid #0284c7":"3px solid transparent",transition:"all 0.2s"},children:[l.jsx(a.icon,{size:18}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:a.label}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:a.desc})]})]},a.id))})]}),l.jsx("div",{style:{minHeight:"500px"},children:n()})]})]})}function $Z(){var m;const{profile:e,signOut:t}=Jr(),r=fs(),[n,a]=b.useState("default"),[i,o]=b.useState(!1),[s,c]=b.useState(!1);b.useEffect(()=>{e&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e]);const u=async()=>{await t(),r("/login")},f=(p=>{if(!p)return[];const x=[];p!=="subscriber"&&x.push({id:"leads",label:"Leads",icon:D6}),["originator","coordinator","manager","admin","super_admin"].includes(p)&&(p==="originator"?(x.push({id:"originator_dashboard",label:"Minhas Comisses",icon:qm}),x.push({id:"originators_list",label:"Equipe",icon:q1})):x.push({id:"originators_list",label:"Originadores",icon:q1})),p!=="lead"&&(p==="subscriber"?x.push({id:"subscriber_dashboard",label:"Meu Painel",icon:qm}):x.push({id:"subscribers_list",label:"Assinantes",icon:UA})),p!=="lead"&&p!=="subscriber"&&x.push({id:"consumer_units",label:"Unidades Consumidoras",icon:E6}),x.push({id:"invoices",label:"Faturas",icon:La});const v=["supplier","manager","admin","super_admin"];return v.includes(p)&&(p==="supplier"?x.push({id:"supplier_dashboard",label:"Meu Painel",icon:qm}):x.push({id:"suppliers_list",label:"Fornecedores",icon:X6})),v.includes(p)&&x.push({id:"power_plants",label:"Usinas",icon:Ly}),["supplier","manager","admin","super_admin"].includes(p)&&x.push({id:"billing",label:"Billing",icon:Uf}),["admin","super_admin"].includes(p)&&x.push({id:"settings",label:"Configuraes",icon:LA}),x})(e==null?void 0:e.role),h=()=>{if(!e)return l.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return l.jsx(d8,{});case"subscriber_dashboard":return l.jsx(f8,{});case"originator_dashboard":return l.jsx(h8,{});case"supplier_dashboard":return l.jsx(m8,{});case"leads":return l.jsx(g8,{});case"subscribers_list":return l.jsx(v8,{});case"originators_list":return l.jsx(b8,{});case"suppliers_list":return l.jsx(_8,{});case"power_plants":return l.jsx(PZ,{});case"consumer_units":return l.jsx(MZ,{});case"invoices":return l.jsx(NZ,{});case"billing":return l.jsx(zZ,{});case"settings":return l.jsx(IZ,{});default:return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),l.jsx("p",{children:"Selecione uma opo no menu."})]})}};return l.jsxs("div",{className:"dashboard-container",children:[l.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:l.jsx(B6,{size:24})}),i&&l.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),l.jsxs("aside",{className:`sidebar ${i?"open":""} ${s?"collapsed":""}`,children:[l.jsxs("div",{className:"sidebar-header",style:{justifyContent:s?"center":"space-between"},children:[!s&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),l.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),l.jsx("button",{onClick:()=>c(!s),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:s?l.jsx(a6,{size:20}):l.jsx(r6,{size:20})})]}),l.jsx("nav",{style:{flex:1,overflowY:"auto"},children:l.jsx("ul",{style:{listStyle:"none"},children:f.map(p=>{const x=p.icon;return l.jsx("li",{style:{marginBottom:"0.25rem"},children:l.jsxs("button",{onClick:()=>{a(p.id),o(!1)},title:s?p.label:"",className:`sidebar-link ${n===p.id?"active":""}`,style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(x,{size:20,style:{marginRight:s?0:"0.75rem",flexShrink:0}}),!s&&l.jsx("span",{children:p.label})]})},p.id)})})}),l.jsxs("div",{className:"sidebar-footer",children:[!s&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[l.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),l.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),l.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(R6,{size:20,style:{marginRight:s?0:"0.5rem"}}),!s&&l.jsx("span",{children:"Sair"})]})]})]}),l.jsx("main",{className:"main-content",children:h()})]})}function LZ(){const[e]=kO(),t=fs(),r=e.get("id"),[n,a]=b.useState("simulation"),[i,o]=b.useState(!1),[s,c]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[m,p]=b.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),x=async()=>{if(m.cep.length>=8)try{o(!0);const g=await Jn(m.cep);if(p(_=>({..._,rua:g.rua||"",bairro:g.bairro||"",cidade:g.cidade||"",uf:g.uf||""})),g.ibge){const _=await lc(g.ibge);d(_)}}catch(g){console.error(g),alert("Erro ao buscar CEP")}finally{o(!1)}},y=async g=>{if(g.preventDefault(),!Oi(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const _=u&&u["Tarifa Concessionaria"]||.85,w=u&&u["Desconto Assinante"]||.1,j=parseFloat(m.consumo)*_,S=j*w;c({contaAtual:j,economiaMensal:S,anual:S*12});const{data:C,error:E}=await B.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:_,desconto_assinante:w,originator_id:r,status:"indicado"}).select().single();if(E)throw E;h(C.id),a("signup")}catch(_){alert("Erro na simulao: "+_.message)}finally{o(!1)}},v=async g=>{if(g.preventDefault(),!Ff(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!Oi(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:_,error:w}=await B.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(w)throw w;const{error:j}=await B.from("consumer_units").insert({subscriber_id:_.id,numero_uc:m.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(j)throw j;f&&await B.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(_){alert("Erro ao finalizar cadastro: "+_.message)}finally{o(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),l.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?l.jsxs("form",{onSubmit:y,children:[l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),l.jsx("input",{value:m.cep,onChange:g=>p({...m,cep:g.target.value}),onBlur:x,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,u&&l.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),l.jsx("input",{value:m.nome,onChange:g=>p({...m,nome:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),l.jsx("input",{type:"email",value:m.email,onChange:g=>p({...m,email:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),l.jsx("input",{value:m.telefone,onChange:g=>p({...m,telefone:Vo(g.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),l.jsx("input",{type:"number",value:m.consumo,onChange:g=>p({...m,consumo:g.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):l.jsxs("form",{onSubmit:v,children:[s&&l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[l.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",s.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),l.jsx("input",{value:m.cpf_cnpj,onChange:g=>p({...m,cpf_cnpj:Wf(g.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),l.jsx("input",{value:m.nome,onChange:g=>p({...m,nome:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),l.jsx("input",{type:"email",value:m.email,onChange:g=>p({...m,email:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),l.jsx("input",{value:m.telefone,onChange:g=>p({...m,telefone:Vo(g.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),l.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),l.jsx("input",{value:m.numero,onChange:g=>p({...m,numero:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),l.jsx("input",{value:m.numero_uc,onChange:g=>p({...m,numero_uc:g.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const UZ=()=>{const{user:e}=Jr();return e?l.jsx(o4,{}):l.jsx(AO,{to:"/login",replace:!0})};function qZ(){return l.jsx(f4,{children:l.jsx(t8,{children:l.jsx(r8,{children:l.jsxs(l4,{children:[l.jsx(bn,{path:"/login",element:l.jsx(L3,{})}),l.jsx(bn,{path:"/simulacao",element:l.jsx(o8,{})}),l.jsx(bn,{path:"/cadastro-parceiro",element:l.jsx(c8,{})}),l.jsx(bn,{path:"/assine",element:l.jsx(u8,{})}),l.jsx(bn,{path:"/originador",element:l.jsx(LZ,{})}),l.jsx(bn,{element:l.jsx(UZ,{}),children:l.jsx(bn,{path:"/dashboard",element:l.jsx($Z,{})})}),l.jsx(bn,{path:"/",element:l.jsx(AO,{to:"/login",replace:!0})})]})})})})}mD.createRoot(document.getElementById("root")).render(l.jsx(b.StrictMode,{children:l.jsx(qZ,{})}));
