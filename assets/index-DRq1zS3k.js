var fR=Object.defineProperty;var hR=(e,t,r)=>t in e?fR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Wh=(e,t,r)=>hR(e,typeof t!="symbol"?t+"":t,r);function oj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Yn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var sj={exports:{}},mf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR=Symbol.for("react.transitional.element"),pR=Symbol.for("react.fragment");function cj(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:mR,type:e,key:n,ref:t!==void 0?t:null,props:r}}mf.Fragment=pR;mf.jsx=cj;mf.jsxs=cj;sj.exports=mf;var c=sj.exports,uj={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv=Symbol.for("react.transitional.element"),gR=Symbol.for("react.portal"),vR=Symbol.for("react.fragment"),yR=Symbol.for("react.strict_mode"),bR=Symbol.for("react.profiler"),xR=Symbol.for("react.consumer"),wR=Symbol.for("react.context"),_R=Symbol.for("react.forward_ref"),SR=Symbol.for("react.suspense"),jR=Symbol.for("react.memo"),dj=Symbol.for("react.lazy"),ER=Symbol.for("react.activity"),Ob=Symbol.iterator;function OR(e){return e===null||typeof e!="object"?null:(e=Ob&&e[Ob]||e["@@iterator"],typeof e=="function"?e:null)}var fj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hj=Object.assign,mj={};function rl(e,t,r){this.props=e,this.context=t,this.refs=mj,this.updater=r||fj}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pj(){}pj.prototype=rl.prototype;function xv(e,t,r){this.props=e,this.context=t,this.refs=mj,this.updater=r||fj}var wv=xv.prototype=new pj;wv.constructor=xv;hj(wv,rl.prototype);wv.isPureReactComponent=!0;var Cb=Array.isArray;function cp(){}var Re={H:null,A:null,T:null,S:null},gj=Object.prototype.hasOwnProperty;function _v(e,t,r){var n=r.ref;return{$$typeof:bv,type:e,key:t,ref:n!==void 0?n:null,props:r}}function CR(e,t){return _v(e.type,t,e.props)}function Sv(e){return typeof e=="object"&&e!==null&&e.$$typeof===bv}function AR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ab=/\/+/g;function Vh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AR(""+e.key):t.toString(36)}function TR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(cp,cp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function to(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bv:case gR:o=!0;break;case dj:return o=e._init,to(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+Vh(e,0):n,Cb(a)?(r="",o!=null&&(r=o.replace(Ab,"$&/")+"/"),to(a,t,r,"",function(u){return u})):a!=null&&(Sv(a)&&(a=CR(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Ab,"$&/")+"/")+o)),t.push(a)),1;o=0;var l=n===""?".":n+":";if(Cb(e))for(var s=0;s<e.length;s++)n=e[s],i=l+Vh(n,s),o+=to(n,t,r,i,a);else if(s=OR(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=l+Vh(n,s++),o+=to(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return to(TR(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Tc(e,t,r){if(e==null)return e;var n=[],a=0;return to(e,n,"","",function(i){return t.call(r,i,a++)}),n}function kR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tb=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},PR={map:Tc,forEach:function(e,t,r){Tc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tc(e,function(){t++}),t},toArray:function(e){return Tc(e,function(t){return t})||[]},only:function(e){if(!Sv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Activity=ER;te.Children=PR;te.Component=rl;te.Fragment=vR;te.Profiler=bR;te.PureComponent=xv;te.StrictMode=yR;te.Suspense=SR;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;te.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Re.H.useMemoCache(e)}};te.cache=function(e){return function(){return e.apply(null,arguments)}};te.cacheSignal=function(){return null};te.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=hj({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!gj.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];n.children=o}return _v(e.type,a,n)};te.createContext=function(e){return e={$$typeof:wR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:xR,_context:e},e};te.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)gj.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),s=0;s<o;s++)l[s]=arguments[s+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return _v(e,i,a)};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:_R,render:e}};te.isValidElement=Sv;te.lazy=function(e){return{$$typeof:dj,_payload:{_status:-1,_result:e},_init:kR}};te.memo=function(e,t){return{$$typeof:jR,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Re.T,r={};Re.T=r;try{var n=e(),a=Re.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(cp,Tb)}catch(i){Tb(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Re.T=t}};te.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};te.use=function(e){return Re.H.use(e)};te.useActionState=function(e,t,r){return Re.H.useActionState(e,t,r)};te.useCallback=function(e,t){return Re.H.useCallback(e,t)};te.useContext=function(e){return Re.H.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e,t){return Re.H.useDeferredValue(e,t)};te.useEffect=function(e,t){return Re.H.useEffect(e,t)};te.useEffectEvent=function(e){return Re.H.useEffectEvent(e)};te.useId=function(){return Re.H.useId()};te.useImperativeHandle=function(e,t,r){return Re.H.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Re.H.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Re.H.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Re.H.useMemo(e,t)};te.useOptimistic=function(e,t){return Re.H.useOptimistic(e,t)};te.useReducer=function(e,t,r){return Re.H.useReducer(e,t,r)};te.useRef=function(e){return Re.H.useRef(e)};te.useState=function(e){return Re.H.useState(e)};te.useSyncExternalStore=function(e,t,r){return Re.H.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Re.H.useTransition()};te.version="19.2.3";uj.exports=te;var w=uj.exports;const pf=Yn(w),vj=oj({__proto__:null,default:pf},[w]);var yj={exports:{}},gf={},bj={exports:{}},xj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,T){var N=C.length;C.push(T);e:for(;0<N;){var $=N-1>>>1,U=C[$];if(0<a(U,T))C[$]=T,C[N]=U,N=$;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var T=C[0],N=C.pop();if(N!==T){C[0]=N;e:for(var $=0,U=C.length,ne=U>>>1;$<ne;){var ce=2*($+1)-1,le=C[ce],he=ce+1,ue=C[he];if(0>a(le,N))he<U&&0>a(ue,le)?(C[$]=ue,C[he]=N,$=he):(C[$]=le,C[ce]=N,$=ce);else if(he<U&&0>a(ue,N))C[$]=ue,C[he]=N,$=he;else break e}}return T}function a(C,T){var N=C.sortIndex-T.sortIndex;return N!==0?N:C.id-T.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],u=[],d=1,f=null,h=3,m=!1,g=!1,b=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function _(C){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=C)n(u),T.sortIndex=T.expirationTime,t(s,T);else break;T=r(u)}}function j(C){if(b=!1,_(C),!g)if(r(s)!==null)g=!0,S||(S=!0,P());else{var T=r(u);T!==null&&Z(j,T.startTime-C)}}var S=!1,E=-1,O=5,A=-1;function k(){return y?!0:!(e.unstable_now()-A<O)}function z(){if(y=!1,S){var C=e.unstable_now();A=C;var T=!0;try{e:{g=!1,b&&(b=!1,v(E),E=-1),m=!0;var N=h;try{t:{for(_(C),f=r(s);f!==null&&!(f.expirationTime>C&&k());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var U=$(f.expirationTime<=C);if(C=e.unstable_now(),typeof U=="function"){f.callback=U,_(C),T=!0;break t}f===r(s)&&n(s),_(C)}else n(s);f=r(s)}if(f!==null)T=!0;else{var ne=r(u);ne!==null&&Z(j,ne.startTime-C),T=!1}}break e}finally{f=null,h=N,m=!1}T=void 0}}finally{T?P():S=!1}}}var P;if(typeof x=="function")P=function(){x(z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=z,P=function(){H.postMessage(null)}}else P=function(){p(z,0)};function Z(C,T){E=p(function(){C(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var N=h;h=T;try{return C()}finally{h=N}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var N=h;h=C;try{return T()}finally{h=N}},e.unstable_scheduleCallback=function(C,T,N){var $=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?$+N:$):N=$,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,C={id:d++,callback:T,priorityLevel:C,startTime:N,expirationTime:U,sortIndex:-1},N>$?(C.sortIndex=N,t(u,C),r(s)===null&&C===r(u)&&(b?(v(E),E=-1):b=!0,Z(j,N-$))):(C.sortIndex=U,t(s,C),g||m||(g=!0,S||(S=!0,P()))),C},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(C){var T=h;return function(){var N=h;h=T;try{return C.apply(this,arguments)}finally{h=N}}}})(xj);bj.exports=xj;var NR=bj.exports,wj={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR=w;function _j(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function oa(){}var Dt={d:{f:oa,r:function(){throw Error(_j(522))},D:oa,C:oa,L:oa,m:oa,X:oa,S:oa,M:oa},p:0,findDOMNode:null},MR=Symbol.for("react.portal");function DR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:MR,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Fl=RR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function vf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(_j(299));return DR(e,t,null,r)};$t.flushSync=function(e){var t=Fl.T,r=Dt.p;try{if(Fl.T=null,Dt.p=2,e)return e()}finally{Fl.T=t,Dt.p=r,Dt.d.f()}};$t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dt.d.C(e,t))};$t.prefetchDNS=function(e){typeof e=="string"&&Dt.d.D(e)};$t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=vf(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Dt.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=vf(t.as,t.crossOrigin);Dt.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dt.d.M(e)};$t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=vf(r,t.crossOrigin);Dt.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$t.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=vf(t.as,t.crossOrigin);Dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dt.d.m(e)};$t.requestFormReset=function(e){Dt.d.r(e)};$t.unstable_batchedUpdates=function(e,t){return e(t)};$t.useFormState=function(e,t,r){return Fl.H.useFormState(e,t,r)};$t.useFormStatus=function(){return Fl.H.useHostTransitionStatus()};$t.version="19.2.3";function Sj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sj)}catch(e){console.error(e)}}Sj(),wj.exports=$t;var jv=wj.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=NR,jj=w,zR=jv;function B(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ej(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Oj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cj(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kb(e){if(Gs(e)!==e)throw Error(B(188))}function BR(e){var t=e.alternate;if(!t){if(t=Gs(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return kb(a),e;if(i===n)return kb(a),t;i=i.sibling}throw Error(B(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function Aj(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Aj(e),t!==null)return t;e=e.sibling}return null}var Me=Object.assign,IR=Symbol.for("react.element"),kc=Symbol.for("react.transitional.element"),Ll=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),Tj=Symbol.for("react.strict_mode"),up=Symbol.for("react.profiler"),kj=Symbol.for("react.consumer"),En=Symbol.for("react.context"),Ev=Symbol.for("react.forward_ref"),dp=Symbol.for("react.suspense"),fp=Symbol.for("react.suspense_list"),Ov=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),hp=Symbol.for("react.activity"),$R=Symbol.for("react.memo_cache_sentinel"),Pb=Symbol.iterator;function El(e){return e===null||typeof e!="object"?null:(e=Pb&&e[Pb]||e["@@iterator"],typeof e=="function"?e:null)}var LR=Symbol.for("react.client.reference");function mp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===LR?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lo:return"Fragment";case up:return"Profiler";case Tj:return"StrictMode";case dp:return"Suspense";case fp:return"SuspenseList";case hp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ll:return"Portal";case En:return e.displayName||"Context";case kj:return(e._context.displayName||"Context")+".Consumer";case Ev:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ov:return t=e.displayName||null,t!==null?t:mp(e.type)||"Memo";case sa:t=e._payload,e=e._init;try{return mp(e(t))}catch{}}return null}var Ul=Array.isArray,Q=jj.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=zR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,di={pending:!1,data:null,method:null,action:null},pp=[],so=-1;function dn(e){return{current:e}}function pt(e){0>so||(e.current=pp[so],pp[so]=null,so--)}function Te(e,t){so++,pp[so]=e.current,e.current=t}var on=dn(null),fs=dn(null),Ea=dn(null),$u=dn(null);function Lu(e,t){switch(Te(Ea,t),Te(fs,e),Te(on,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bx(t),e=XO(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pt(on),Te(on,e)}function No(){pt(on),pt(fs),pt(Ea)}function gp(e){e.memoizedState!==null&&Te($u,e);var t=on.current,r=XO(t,e.type);t!==r&&(Te(fs,e),Te(on,r))}function Uu(e){fs.current===e&&(pt(on),pt(fs)),$u.current===e&&(pt($u),Ss._currentValue=di)}var Gh,Nb;function Xa(e){if(Gh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gh=t&&t[1]||"",Nb=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gh+e+Nb}var Kh=!1;function Fh(e,t){if(!e||Kh)return"";Kh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var s=o.split(`
`),u=l.split(`
`);for(a=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===s.length||a===u.length)for(n=s.length-1,a=u.length-1;1<=n&&0<=a&&s[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(s[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||s[n]!==u[a]){var d=`
`+s[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{Kh=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Xa(r):""}function UR(e,t){switch(e.tag){case 26:case 27:case 5:return Xa(e.type);case 16:return Xa("Lazy");case 13:return e.child!==t&&t!==null?Xa("Suspense Fallback"):Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return Fh(e.type,!1);case 11:return Fh(e.type.render,!1);case 1:return Fh(e.type,!0);case 31:return Xa("Activity");default:return""}}function Rb(e){try{var t="",r=null;do t+=UR(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var vp=Object.prototype.hasOwnProperty,Cv=it.unstable_scheduleCallback,Yh=it.unstable_cancelCallback,qR=it.unstable_shouldYield,HR=it.unstable_requestPaint,ur=it.unstable_now,WR=it.unstable_getCurrentPriorityLevel,Pj=it.unstable_ImmediatePriority,Nj=it.unstable_UserBlockingPriority,qu=it.unstable_NormalPriority,VR=it.unstable_LowPriority,Rj=it.unstable_IdlePriority,GR=it.log,KR=it.unstable_setDisableYieldValue,Ks=null,dr=null;function ya(e){if(typeof GR=="function"&&KR(e),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(Ks,e)}catch{}}var fr=Math.clz32?Math.clz32:XR,FR=Math.log,YR=Math.LN2;function XR(e){return e>>>=0,e===0?32:31-(FR(e)/YR|0)|0}var Pc=256,Nc=262144,Rc=4194304;function Za(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yf(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~i,n!==0?a=Za(n):(o&=l,o!==0?a=Za(o):r||(r=l&~e,r!==0&&(a=Za(r))))):(l=n&~i,l!==0?a=Za(l):o!==0?a=Za(o):r||(r=n&~e,r!==0&&(a=Za(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Fs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ZR(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mj(){var e=Rc;return Rc<<=1,!(Rc&62914560)&&(Rc=4194304),e}function Xh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ys(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function JR(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-fr(r),f=1<<d;l[d]=0,s[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&Dj(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function Dj(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function zj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Bj(e,t){var r=t&-t;return r=r&42?1:Av(r),r&(e.suspendedLanes|t)?0:r}function Av(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ij(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:lC(e.type))}function Mb(e,t){var r=ge.p;try{return ge.p=e,t()}finally{ge.p=r}}var La=Math.random().toString(36).slice(2),St="__reactFiber$"+La,Yt="__reactProps$"+La,nl="__reactContainer$"+La,yp="__reactEvents$"+La,QR="__reactListeners$"+La,eM="__reactHandles$"+La,Db="__reactResources$"+La,Xs="__reactMarker$"+La;function kv(e){delete e[St],delete e[Yt],delete e[yp],delete e[QR],delete e[eM]}function co(e){var t=e[St];if(t)return t;for(var r=e.parentNode;r;){if(t=r[nl]||r[St]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qx(e);e!==null;){if(r=e[St])return r;e=qx(e)}return t}e=r,r=e.parentNode}return null}function al(e){if(e=e[St]||e[nl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(B(33))}function _o(e){var t=e[Db];return t||(t=e[Db]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Xs]=!0}var $j=new Set,Lj={};function Ri(e,t){Ro(e,t),Ro(e+"Capture",t)}function Ro(e,t){for(Lj[e]=t,e=0;e<t.length;e++)$j.add(t[e])}var tM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zb={},Bb={};function rM(e){return vp.call(Bb,e)?!0:vp.call(zb,e)?!1:tM.test(e)?Bb[e]=!0:(zb[e]=!0,!1)}function bu(e,t,r){if(rM(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Mc(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function hn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Sr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nM(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bp(e){if(!e._valueTracker){var t=Uj(e)?"checked":"value";e._valueTracker=nM(e,t,""+e[t])}}function qj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Uj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var aM=/[\n"\\]/g;function Or(e){return e.replace(aM,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xp(e,t,r,n,a,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sr(t)):e.value!==""+Sr(t)&&(e.value=""+Sr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?wp(e,o,Sr(t)):r!=null?wp(e,o,Sr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Sr(l):e.removeAttribute("name")}function Hj(e,t,r,n,a,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){bp(e);return}r=r!=null?""+Sr(r):"",t=t!=null?""+Sr(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),bp(e)}function wp(e,t,r){t==="number"&&Hu(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function So(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Wj(e,t,r){if(t!=null&&(t=""+Sr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Sr(r):""}function Vj(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(B(92));if(Ul(n)){if(1<n.length)throw Error(B(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Sr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),bp(e)}function Mo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var iM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ib(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||iM.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Gj(e,t,r){if(t!=null&&typeof t!="object")throw Error(B(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&Ib(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&Ib(e,i,t[i])}function Pv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(e){return lM.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function On(){}var _p=null;function Nv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uo=null,jo=null;function $b(e){var t=al(e);if(t&&(e=t.stateNode)){var r=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xp(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Or(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Yt]||null;if(!a)throw Error(B(90));xp(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&qj(n)}break e;case"textarea":Wj(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&So(e,!!r.multiple,t,!1)}}}var Zh=!1;function Kj(e,t,r){if(Zh)return e(t,r);Zh=!0;try{var n=e(t);return n}finally{if(Zh=!1,(uo!==null||jo!==null)&&(kf(),uo&&(t=uo,e=jo,jo=uo=null,$b(t),e)))for(t=0;t<e.length;t++)$b(e[t])}}function hs(e,t){var r=e.stateNode;if(r===null)return null;var n=r[Yt]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sp=!1;if(Dn)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){Sp=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{Sp=!1}var ba=null,Rv=null,wu=null;function Fj(){if(wu)return wu;var e,t=Rv,r=t.length,n,a="value"in ba?ba.value:ba.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return wu=a.slice(e,1<n?1-n:void 0)}function _u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dc(){return!0}function Lb(){return!1}function Xt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dc:Lb,this.isPropagationStopped=Lb,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),t}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bf=Xt(Mi),Zs=Me({},Mi,{view:0,detail:0}),sM=Xt(Zs),Jh,Qh,Cl,xf=Me({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cl&&(Cl&&e.type==="mousemove"?(Jh=e.screenX-Cl.screenX,Qh=e.screenY-Cl.screenY):Qh=Jh=0,Cl=e),Jh)},movementY:function(e){return"movementY"in e?e.movementY:Qh}}),Ub=Xt(xf),cM=Me({},xf,{dataTransfer:0}),uM=Xt(cM),dM=Me({},Zs,{relatedTarget:0}),em=Xt(dM),fM=Me({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),hM=Xt(fM),mM=Me({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pM=Xt(mM),gM=Me({},Mi,{data:0}),qb=Xt(gM),vM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bM[e])?!!t[e]:!1}function Mv(){return xM}var wM=Me({},Zs,{key:function(e){if(e.key){var t=vM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mv,charCode:function(e){return e.type==="keypress"?_u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_M=Xt(wM),SM=Me({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hb=Xt(SM),jM=Me({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mv}),EM=Xt(jM),OM=Me({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),CM=Xt(OM),AM=Me({},xf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TM=Xt(AM),kM=Me({},Mi,{newState:0,oldState:0}),PM=Xt(kM),NM=[9,13,27,32],Dv=Dn&&"CompositionEvent"in window,Yl=null;Dn&&"documentMode"in document&&(Yl=document.documentMode);var RM=Dn&&"TextEvent"in window&&!Yl,Yj=Dn&&(!Dv||Yl&&8<Yl&&11>=Yl),Wb=" ",Vb=!1;function Xj(e,t){switch(e){case"keyup":return NM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fo=!1;function MM(e,t){switch(e){case"compositionend":return Zj(t);case"keypress":return t.which!==32?null:(Vb=!0,Wb);case"textInput":return e=t.data,e===Wb&&Vb?null:e;default:return null}}function DM(e,t){if(fo)return e==="compositionend"||!Dv&&Xj(e,t)?(e=Fj(),wu=Rv=ba=null,fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yj&&t.locale!=="ko"?null:t.data;default:return null}}var zM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zM[e.type]:t==="textarea"}function Jj(e,t,r,n){uo?jo?jo.push(n):jo=[n]:uo=n,t=ld(t,"onChange"),0<t.length&&(r=new bf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xl=null,ms=null;function BM(e){KO(e,0)}function wf(e){var t=ql(e);if(qj(t))return e}function Kb(e,t){if(e==="change")return t}var Qj=!1;if(Dn){var tm;if(Dn){var rm="oninput"in document;if(!rm){var Fb=document.createElement("div");Fb.setAttribute("oninput","return;"),rm=typeof Fb.oninput=="function"}tm=rm}else tm=!1;Qj=tm&&(!document.documentMode||9<document.documentMode)}function Yb(){Xl&&(Xl.detachEvent("onpropertychange",eE),ms=Xl=null)}function eE(e){if(e.propertyName==="value"&&wf(ms)){var t=[];Jj(t,ms,e,Nv(e)),Kj(BM,t)}}function IM(e,t,r){e==="focusin"?(Yb(),Xl=t,ms=r,Xl.attachEvent("onpropertychange",eE)):e==="focusout"&&Yb()}function $M(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wf(ms)}function LM(e,t){if(e==="click")return wf(t)}function UM(e,t){if(e==="input"||e==="change")return wf(t)}function qM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:qM;function ps(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!vp.call(t,a)||!pr(e[a],t[a]))return!1}return!0}function Xb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zb(e,t){var r=Xb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xb(r)}}function tE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hu(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hu(e.document)}return t}function zv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var HM=Dn&&"documentMode"in document&&11>=document.documentMode,ho=null,jp=null,Zl=null,Ep=!1;function Jb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ep||ho==null||ho!==Hu(n)||(n=ho,"selectionStart"in n&&zv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zl&&ps(Zl,n)||(Zl=n,n=ld(jp,"onSelect"),0<n.length&&(t=new bf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ho)))}function Ka(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mo={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},nm={},nE={};Dn&&(nE=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Di(e){if(nm[e])return nm[e];if(!mo[e])return e;var t=mo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in nE)return nm[e]=t[r];return e}var aE=Di("animationend"),iE=Di("animationiteration"),oE=Di("animationstart"),WM=Di("transitionrun"),VM=Di("transitionstart"),GM=Di("transitioncancel"),lE=Di("transitionend"),sE=new Map,Op="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Op.push("scrollEnd");function Zr(e,t){sE.set(e,t),Ri(t,[e])}var Wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_r=[],po=0,Bv=0;function _f(){for(var e=po,t=Bv=po=0;t<e;){var r=_r[t];_r[t++]=null;var n=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&cE(r,a,i)}}function Sf(e,t,r,n){_r[po++]=e,_r[po++]=t,_r[po++]=r,_r[po++]=n,Bv|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Iv(e,t,r,n){return Sf(e,t,r,n),Vu(e)}function zi(e,t){return Sf(e,null,null,t),Vu(e)}function cE(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-fr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Vu(e){if(50<os)throw os=0,Kp=null,Error(B(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var go={};function KM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new KM(e,t,r,n)}function $v(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function uE(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Su(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")$v(e)&&(o=1);else if(typeof e=="string")o=JD(e,r,on.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case hp:return e=ar(31,r,t,a),e.elementType=hp,e.lanes=i,e;case lo:return fi(r.children,a,i,t);case Tj:o=8,a|=24;break;case up:return e=ar(12,r,t,a|2),e.elementType=up,e.lanes=i,e;case dp:return e=ar(13,r,t,a),e.elementType=dp,e.lanes=i,e;case fp:return e=ar(19,r,t,a),e.elementType=fp,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case En:o=10;break e;case kj:o=9;break e;case Ev:o=11;break e;case Ov:o=14;break e;case sa:o=16,n=null;break e}o=29,r=Error(B(130,e===null?"null":typeof e,"")),n=null}return t=ar(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function fi(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function am(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function dE(e){var t=ar(18,null,null,0);return t.stateNode=e,t}function im(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qb=new WeakMap;function Cr(e,t){if(typeof e=="object"&&e!==null){var r=Qb.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Rb(t)},Qb.set(e,t),t)}return{value:e,source:t,stack:Rb(t)}}var vo=[],yo=0,Gu=null,gs=0,jr=[],Er=0,Da=null,tn=1,rn="";function xn(e,t){vo[yo++]=gs,vo[yo++]=Gu,Gu=e,gs=t}function fE(e,t,r){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Da,Da=e;var n=tn;e=rn;var a=32-fr(n)-1;n&=~(1<<a),r+=1;var i=32-fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,tn=1<<32-fr(t)+a|r<<a|n,rn=i+e}else tn=1<<i|r<<a|n,rn=e}function Lv(e){e.return!==null&&(xn(e,1),fE(e,1,0))}function Uv(e){for(;e===Gu;)Gu=vo[--yo],vo[yo]=null,gs=vo[--yo],vo[yo]=null;for(;e===Da;)Da=jr[--Er],jr[Er]=null,rn=jr[--Er],jr[Er]=null,tn=jr[--Er],jr[Er]=null}function hE(e,t){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Da,tn=t.id,rn=t.overflow,Da=e}var jt=null,Ne=null,de=!1,Oa=null,Ar=!1,Cp=Error(B(519));function za(e){var t=Error(B(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vs(Cr(t,e)),Cp}function ex(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[St]=e,t[Yt]=n,r){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(r=0;r<ws.length;r++)ie(ws[r],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),Hj(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),Vj(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||YO(t.textContent,r)?(n.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),n.onScroll!=null&&ie("scroll",t),n.onScrollEnd!=null&&ie("scrollend",t),n.onClick!=null&&(t.onclick=On),t=!0):t=!1,t||za(e,!0)}function tx(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:jt=jt.return}}function Vi(e){if(e!==jt)return!1;if(!de)return tx(e),de=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Jp(e.type,e.memoizedProps)),r=!r),r&&Ne&&za(e),tx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));Ne=Ux(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));Ne=Ux(e)}else t===27?(t=Ne,Ua(e.type)?(e=rg,rg=null,Ne=e):Ne=t):Ne=jt?Pr(e.stateNode.nextSibling):null;return!0}function xi(){Ne=jt=null,de=!1}function om(){var e=Oa;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),Oa=null),e}function vs(e){Oa===null?Oa=[e]:Oa.push(e)}var Ap=dn(null),Bi=null,Cn=null;function fa(e,t,r){Te(Ap,t._currentValue),t._currentValue=r}function Pn(e){e._currentValue=Ap.current,pt(Ap)}function Tp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function kp(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=a;for(var s=0;s<t.length;s++)if(l.context===t[s]){i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Tp(i.return,r,e),n||(o=null);break e}i=l.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Tp(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function il(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(B(387));if(o=o.memoizedProps,o!==null){var l=a.type;pr(a.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(a===$u.current){if(o=a.alternate,o===null)throw Error(B(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Ss):e=[Ss])}a=a.return}e!==null&&kp(t,e,r,n),t.flags|=262144}function Ku(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Bi=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return mE(Bi,e)}function zc(e,t){return Bi===null&&wi(e),mE(e,t)}function mE(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Cn===null){if(e===null)throw Error(B(308));Cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cn=Cn.next=t;return r}var FM=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},YM=it.unstable_scheduleCallback,XM=it.unstable_NormalPriority,Je={$$typeof:En,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qv(){return{controller:new FM,data:new Map,refCount:0}}function Js(e){e.refCount--,e.refCount===0&&YM(XM,function(){e.controller.abort()})}var Jl=null,Pp=0,Do=0,Eo=null;function ZM(e,t){if(Jl===null){var r=Jl=[];Pp=0,Do=hy(),Eo={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Pp++,t.then(rx,rx),t}function rx(){if(--Pp===0&&Jl!==null){Eo!==null&&(Eo.status="fulfilled");var e=Jl;Jl=null,Do=0,Eo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function JM(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var nx=Q.S;Q.S=function(e,t){AO=ur(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ZM(e,t),nx!==null&&nx(e,t)};var hi=dn(null);function Hv(){var e=hi.current;return e!==null?e:je.pooledCache}function ju(e,t){t===null?Te(hi,hi.current):Te(hi,t.pool)}function pE(){var e=Hv();return e===null?null:{parent:Je._currentValue,pool:e}}var ol=Error(B(460)),Wv=Error(B(474)),jf=Error(B(542)),Fu={then:function(){}};function ax(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gE(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(On,On),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ox(e),e;default:if(typeof t.status=="string")t.then(On,On);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(B(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ox(e),e}throw mi=t,ol}}function Ja(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(mi=r,ol):r}}var mi=null;function ix(){if(mi===null)throw Error(B(459));var e=mi;return mi=null,e}function ox(e){if(e===ol||e===jf)throw Error(B(483))}var Oo=null,ys=0;function Bc(e){var t=ys;return ys+=1,Oo===null&&(Oo=[]),gE(Oo,e,t)}function Al(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ic(e,t){throw t.$$typeof===IR?Error(B(525)):(e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vE(e){function t(p,v){if(e){var x=p.deletions;x===null?(p.deletions=[v],p.flags|=16):x.push(v)}}function r(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function n(p){for(var v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function a(p,v){return p=kn(p,v),p.index=0,p.sibling=null,p}function i(p,v,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<v?(p.flags|=67108866,v):x):(p.flags|=67108866,v)):(p.flags|=1048576,v)}function o(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,v,x,_){return v===null||v.tag!==6?(v=am(x,p.mode,_),v.return=p,v):(v=a(v,x),v.return=p,v)}function s(p,v,x,_){var j=x.type;return j===lo?d(p,v,x.props.children,_,x.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sa&&Ja(j)===v.type)?(v=a(v,x.props),Al(v,x),v.return=p,v):(v=Su(x.type,x.key,x.props,null,p.mode,_),Al(v,x),v.return=p,v)}function u(p,v,x,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=im(x,p.mode,_),v.return=p,v):(v=a(v,x.children||[]),v.return=p,v)}function d(p,v,x,_,j){return v===null||v.tag!==7?(v=fi(x,p.mode,_,j),v.return=p,v):(v=a(v,x),v.return=p,v)}function f(p,v,x){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=am(""+v,p.mode,x),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kc:return x=Su(v.type,v.key,v.props,null,p.mode,x),Al(x,v),x.return=p,x;case Ll:return v=im(v,p.mode,x),v.return=p,v;case sa:return v=Ja(v),f(p,v,x)}if(Ul(v)||El(v))return v=fi(v,p.mode,x,null),v.return=p,v;if(typeof v.then=="function")return f(p,Bc(v),x);if(v.$$typeof===En)return f(p,zc(p,v),x);Ic(p,v)}return null}function h(p,v,x,_){var j=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return j!==null?null:l(p,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kc:return x.key===j?s(p,v,x,_):null;case Ll:return x.key===j?u(p,v,x,_):null;case sa:return x=Ja(x),h(p,v,x,_)}if(Ul(x)||El(x))return j!==null?null:d(p,v,x,_,null);if(typeof x.then=="function")return h(p,v,Bc(x),_);if(x.$$typeof===En)return h(p,v,zc(p,x),_);Ic(p,x)}return null}function m(p,v,x,_,j){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return p=p.get(x)||null,l(v,p,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kc:return p=p.get(_.key===null?x:_.key)||null,s(v,p,_,j);case Ll:return p=p.get(_.key===null?x:_.key)||null,u(v,p,_,j);case sa:return _=Ja(_),m(p,v,x,_,j)}if(Ul(_)||El(_))return p=p.get(x)||null,d(v,p,_,j,null);if(typeof _.then=="function")return m(p,v,x,Bc(_),j);if(_.$$typeof===En)return m(p,v,x,zc(v,_),j);Ic(v,_)}return null}function g(p,v,x,_){for(var j=null,S=null,E=v,O=v=0,A=null;E!==null&&O<x.length;O++){E.index>O?(A=E,E=null):A=E.sibling;var k=h(p,E,x[O],_);if(k===null){E===null&&(E=A);break}e&&E&&k.alternate===null&&t(p,E),v=i(k,v,O),S===null?j=k:S.sibling=k,S=k,E=A}if(O===x.length)return r(p,E),de&&xn(p,O),j;if(E===null){for(;O<x.length;O++)E=f(p,x[O],_),E!==null&&(v=i(E,v,O),S===null?j=E:S.sibling=E,S=E);return de&&xn(p,O),j}for(E=n(E);O<x.length;O++)A=m(E,p,O,x[O],_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?O:A.key),v=i(A,v,O),S===null?j=A:S.sibling=A,S=A);return e&&E.forEach(function(z){return t(p,z)}),de&&xn(p,O),j}function b(p,v,x,_){if(x==null)throw Error(B(151));for(var j=null,S=null,E=v,O=v=0,A=null,k=x.next();E!==null&&!k.done;O++,k=x.next()){E.index>O?(A=E,E=null):A=E.sibling;var z=h(p,E,k.value,_);if(z===null){E===null&&(E=A);break}e&&E&&z.alternate===null&&t(p,E),v=i(z,v,O),S===null?j=z:S.sibling=z,S=z,E=A}if(k.done)return r(p,E),de&&xn(p,O),j;if(E===null){for(;!k.done;O++,k=x.next())k=f(p,k.value,_),k!==null&&(v=i(k,v,O),S===null?j=k:S.sibling=k,S=k);return de&&xn(p,O),j}for(E=n(E);!k.done;O++,k=x.next())k=m(E,p,O,k.value,_),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?O:k.key),v=i(k,v,O),S===null?j=k:S.sibling=k,S=k);return e&&E.forEach(function(P){return t(p,P)}),de&&xn(p,O),j}function y(p,v,x,_){if(typeof x=="object"&&x!==null&&x.type===lo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case kc:e:{for(var j=x.key;v!==null;){if(v.key===j){if(j=x.type,j===lo){if(v.tag===7){r(p,v.sibling),_=a(v,x.props.children),_.return=p,p=_;break e}}else if(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sa&&Ja(j)===v.type){r(p,v.sibling),_=a(v,x.props),Al(_,x),_.return=p,p=_;break e}r(p,v);break}else t(p,v);v=v.sibling}x.type===lo?(_=fi(x.props.children,p.mode,_,x.key),_.return=p,p=_):(_=Su(x.type,x.key,x.props,null,p.mode,_),Al(_,x),_.return=p,p=_)}return o(p);case Ll:e:{for(j=x.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(p,v.sibling),_=a(v,x.children||[]),_.return=p,p=_;break e}else{r(p,v);break}else t(p,v);v=v.sibling}_=im(x,p.mode,_),_.return=p,p=_}return o(p);case sa:return x=Ja(x),y(p,v,x,_)}if(Ul(x))return g(p,v,x,_);if(El(x)){if(j=El(x),typeof j!="function")throw Error(B(150));return x=j.call(x),b(p,v,x,_)}if(typeof x.then=="function")return y(p,v,Bc(x),_);if(x.$$typeof===En)return y(p,v,zc(p,x),_);Ic(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,v!==null&&v.tag===6?(r(p,v.sibling),_=a(v,x),_.return=p,p=_):(r(p,v),_=am(x,p.mode,_),_.return=p,p=_),o(p)):r(p,v)}return function(p,v,x,_){try{ys=0;var j=y(p,v,x,_);return Oo=null,j}catch(E){if(E===ol||E===jf)throw E;var S=ar(29,E,null,p.mode);return S.lanes=_,S.return=p,S}finally{}}}var _i=vE(!0),yE=vE(!1),ca=!1;function Vv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Np(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Vu(e),cE(e,null,r),t}return Sf(e,n,t,r),Vu(e)}function Ql(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zj(e,r)}}function lm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Rp=!1;function es(){if(Rp){var e=Eo;if(e!==null)throw e}}function ts(e,t,r,n){Rp=!1;var a=e.updateQueue;ca=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,u=s.next;s.next=null,o===null?i=u:o.next=u,o=s;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=s))}if(i!==null){var f=a.baseState;o=0,d=u=s=null,l=i;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(se&h)===h:(n&h)===h){h!==0&&h===Do&&(Rp=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=e,b=l;h=t;var y=r;switch(b.tag){case 1:if(g=b.payload,typeof g=="function"){f=g.call(y,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(y,f,h):g,h==null)break e;f=Me({},f,h);break e;case 2:ca=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,s=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(s=f),a.baseState=s,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),Ia|=o,e.lanes=o,e.memoizedState=f}}function bE(e,t){if(typeof e!="function")throw Error(B(191,e));e.call(t)}function xE(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)bE(r[e],t)}var zo=dn(null),Yu=dn(0);function lx(e,t){e=$n,Te(Yu,e),Te(zo,t),$n=e|t.baseLanes}function Mp(){Te(Yu,$n),Te(zo,zo.current)}function Gv(){$n=Yu.current,pt(zo),pt(Yu)}var gr=dn(null),kr=null;function ha(e){var t=e.alternate;Te(Ve,Ve.current&1),Te(gr,e),kr===null&&(t===null||zo.current!==null||t.memoizedState!==null)&&(kr=e)}function Dp(e){Te(Ve,Ve.current),Te(gr,e),kr===null&&(kr=e)}function wE(e){e.tag===22?(Te(Ve,Ve.current),Te(gr,e),kr===null&&(kr=e)):ma()}function ma(){Te(Ve,Ve.current),Te(gr,gr.current)}function nr(e){pt(gr),kr===e&&(kr=null),pt(Ve)}var Ve=dn(0);function Xu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||eg(r)||tg(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zn=0,re=null,_e=null,Xe=null,Zu=!1,Co=!1,Si=!1,Ju=0,bs=0,Ao=null,QM=0;function Ue(){throw Error(B(321))}function Kv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pr(e[r],t[r]))return!1;return!0}function Fv(e,t,r,n,a,i){return zn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?JE:iy,Si=!1,i=r(n,a),Si=!1,Co&&(i=SE(t,r,n,a)),_E(e),i}function _E(e){Q.H=xs;var t=_e!==null&&_e.next!==null;if(zn=0,Xe=_e=re=null,Zu=!1,bs=0,Ao=null,t)throw Error(B(300));e===null||Qe||(e=e.dependencies,e!==null&&Ku(e)&&(Qe=!0))}function SE(e,t,r,n){re=e;var a=0;do{if(Co&&(Ao=null),bs=0,Co=!1,25<=a)throw Error(B(301));if(a+=1,Xe=_e=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Q.H=QE,i=t(r,n)}while(Co);return i}function eD(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?Qs(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(re.flags|=1024),t}function Yv(){var e=Ju!==0;return Ju=0,e}function Xv(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Zv(e){if(Zu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zu=!1}zn=0,Xe=_e=re=null,Co=!1,bs=Ju=0,Ao=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ge(){if(_e===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Xe===null?re.memoizedState:Xe.next;if(t!==null)Xe=t,_e=e;else{if(e===null)throw re.alternate===null?Error(B(467)):Error(B(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(e){var t=bs;return bs+=1,Ao===null&&(Ao=[]),e=gE(Ao,e,t),t=re,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?JE:iy),e}function Of(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qs(e);if(e.$$typeof===En)return Et(e)}throw Error(B(438,String(e)))}function Jv(e){var t=null,r=re.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=re.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Ef(),re.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=$R;return t.index++,r}function Bn(e,t){return typeof t=="function"?t(e):t}function Eu(e){var t=Ge();return Qv(t,_e,e)}function Qv(e,t,r){var n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var l=o=null,s=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(se&f)===f:(zn&f)===f){var h=u.revertLane;if(h===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Do&&(d=!0);else if((zn&h)===h){u=u.next,h===Do&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(l=s=f,o=i):s=s.next=f,re.lanes|=h,Ia|=h;f=u.action,Si&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(l=s=h,o=i):s=s.next=h,re.lanes|=f,Ia|=f;u=u.next}while(u!==null&&u!==t);if(s===null?o=i:s.next=l,!pr(i,e.memoizedState)&&(Qe=!0,d&&(r=Eo,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=s,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function sm(e){var t=Ge(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pr(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function jE(e,t,r){var n=re,a=Ge(),i=de;if(i){if(r===void 0)throw Error(B(407));r=r()}else r=t();var o=!pr((_e||a).memoizedState,r);if(o&&(a.memoizedState=r,Qe=!0),a=a.queue,ey(CE.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Bo(9,{destroy:void 0},OE.bind(null,n,a,r,t),null),je===null)throw Error(B(349));i||zn&127||EE(n,t,r)}return r}function EE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=re.updateQueue,t===null?(t=Ef(),re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function OE(e,t,r,n){t.value=r,t.getSnapshot=n,AE(t)&&TE(e)}function CE(e,t,r){return r(function(){AE(t)&&TE(e)})}function AE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pr(e,r)}catch{return!0}}function TE(e){var t=zi(e,2);t!==null&&Ft(t,e,2)}function zp(e){var t=Nt();if(typeof e=="function"){var r=e;if(e=r(),Si){ya(!0);try{r()}finally{ya(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function kE(e,t,r,n){return e.baseState=r,Qv(e,_e,typeof n=="function"?n:Bn)}function tD(e,t,r,n,a){if(Af(e))throw Error(B(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Q.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,PE(t,i)):(i.next=r.next,t.pending=r.next=i)}}function PE(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=Q.T,o={};Q.T=o;try{var l=r(a,n),s=Q.S;s!==null&&s(o,l),sx(e,t,l)}catch(u){Bp(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),Q.T=i}}else try{i=r(a,n),sx(e,t,i)}catch(u){Bp(e,t,u)}}function sx(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){cx(e,t,n)},function(n){return Bp(e,t,n)}):cx(e,t,r)}function cx(e,t,r){t.status="fulfilled",t.value=r,NE(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,PE(e,r)))}function Bp(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,NE(t),t=t.next;while(t!==n)}e.action=null}function NE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function RE(e,t){return t}function ux(e,t){if(de){var r=je.formState;if(r!==null){e:{var n=re;if(de){if(Ne){t:{for(var a=Ne,i=Ar;a.nodeType!==8;){if(!i){a=null;break t}if(a=Pr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ne=Pr(a.nextSibling),n=a.data==="F!";break e}}za(n)}n=!1}n&&(t=r[0])}}return r=Nt(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RE,lastRenderedState:t},r.queue=n,r=YE.bind(null,re,n),n.dispatch=r,n=zp(!1),i=ay.bind(null,re,!1,n.queue),n=Nt(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=tD.bind(null,re,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function dx(e){var t=Ge();return ME(t,_e,e)}function ME(e,t,r){if(t=Qv(e,t,RE)[0],e=Eu(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Qs(t)}catch(o){throw o===ol?jf:o}else n=t;t=Ge();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(re.flags|=2048,Bo(9,{destroy:void 0},rD.bind(null,a,r),null)),[n,i,e]}function rD(e,t){e.action=t}function fx(e){var t=Ge(),r=_e;if(r!==null)return ME(t,r,e);Ge(),t=t.memoizedState,r=Ge();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Bo(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=re.updateQueue,t===null&&(t=Ef(),re.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function DE(){return Ge().memoizedState}function Ou(e,t,r,n){var a=Nt();re.flags|=e,a.memoizedState=Bo(1|t,{destroy:void 0},r,n===void 0?null:n)}function Cf(e,t,r,n){var a=Ge();n=n===void 0?null:n;var i=a.memoizedState.inst;_e!==null&&n!==null&&Kv(n,_e.memoizedState.deps)?a.memoizedState=Bo(t,i,r,n):(re.flags|=e,a.memoizedState=Bo(1|t,i,r,n))}function hx(e,t){Ou(8390656,8,e,t)}function ey(e,t){Cf(2048,8,e,t)}function nD(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Ef(),re.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function zE(e){var t=Ge().memoizedState;return nD({ref:t,nextImpl:e}),function(){if(pe&2)throw Error(B(440));return t.impl.apply(void 0,arguments)}}function BE(e,t){return Cf(4,2,e,t)}function IE(e,t){return Cf(4,4,e,t)}function $E(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function LE(e,t,r){r=r!=null?r.concat([e]):null,Cf(4,4,$E.bind(null,t,e),r)}function ty(){}function UE(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&Kv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qE(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&Kv(t,n[1]))return n[0];if(n=e(),Si){ya(!0);try{e()}finally{ya(!1)}}return r.memoizedState=[n,t],n}function ry(e,t,r){return r===void 0||zn&1073741824&&!(se&261930)?e.memoizedState=t:(e.memoizedState=r,e=kO(),re.lanes|=e,Ia|=e,r)}function HE(e,t,r,n){return pr(r,t)?r:zo.current!==null?(e=ry(e,r,n),pr(e,t)||(Qe=!0),e):!(zn&42)||zn&1073741824&&!(se&261930)?(Qe=!0,e.memoizedState=r):(e=kO(),re.lanes|=e,Ia|=e,t)}function WE(e,t,r,n,a){var i=ge.p;ge.p=i!==0&&8>i?i:8;var o=Q.T,l={};Q.T=l,ay(e,!1,t,r);try{var s=a(),u=Q.S;if(u!==null&&u(l,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var d=JM(s,n);rs(e,t,d,hr(e))}else rs(e,t,n,hr(e))}catch(f){rs(e,t,{then:function(){},status:"rejected",reason:f},hr())}finally{ge.p=i,o!==null&&l.types!==null&&(o.types=l.types),Q.T=o}}function aD(){}function Ip(e,t,r,n){if(e.tag!==5)throw Error(B(476));var a=VE(e).queue;WE(e,a,t,di,r===null?aD:function(){return GE(e),r(n)})}function VE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:di,baseState:di,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:di},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function GE(e){var t=VE(e);t.next===null&&(t=e.alternate.memoizedState),rs(e,t.next.queue,{},hr())}function ny(){return Et(Ss)}function KE(){return Ge().memoizedState}function FE(){return Ge().memoizedState}function iD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hr();e=Ca(r);var n=Aa(t,e,r);n!==null&&(Ft(n,t,r),Ql(n,t,r)),t={cache:qv()},e.payload=t;return}t=t.return}}function oD(e,t,r){var n=hr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Af(e)?XE(t,r):(r=Iv(e,t,r,n),r!==null&&(Ft(r,e,n),ZE(r,t,n)))}function YE(e,t,r){var n=hr();rs(e,t,r,n)}function rs(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Af(e))XE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,pr(l,o))return Sf(e,t,a,0),je===null&&_f(),!1}catch{}finally{}if(r=Iv(e,t,a,n),r!==null)return Ft(r,e,n),ZE(r,t,n),!0}return!1}function ay(e,t,r,n){if(n={lane:2,revertLane:hy(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Af(e)){if(t)throw Error(B(479))}else t=Iv(e,r,n,2),t!==null&&Ft(t,e,2)}function Af(e){var t=e.alternate;return e===re||t!==null&&t===re}function XE(e,t){Co=Zu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ZE(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zj(e,r)}}var xs={readContext:Et,use:Of,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};xs.useEffectEvent=Ue;var JE={readContext:Et,use:Of,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:hx,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Ou(4194308,4,$E.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ou(4194308,4,e,t)},useInsertionEffect:function(e,t){Ou(4,2,e,t)},useMemo:function(e,t){var r=Nt();t=t===void 0?null:t;var n=e();if(Si){ya(!0);try{e()}finally{ya(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Nt();if(r!==void 0){var a=r(t);if(Si){ya(!0);try{r(t)}finally{ya(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=oD.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=zp(e);var t=e.queue,r=YE.bind(null,re,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ty,useDeferredValue:function(e,t){var r=Nt();return ry(r,e,t)},useTransition:function(){var e=zp(!1);return e=WE.bind(null,re,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=re,a=Nt();if(de){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),je===null)throw Error(B(349));se&127||EE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,hx(CE.bind(null,n,i,e),[e]),n.flags|=2048,Bo(9,{destroy:void 0},OE.bind(null,n,i,r,t),null),r},useId:function(){var e=Nt(),t=je.identifierPrefix;if(de){var r=rn,n=tn;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Ju++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=QM++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ny,useFormState:ux,useActionState:ux,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=ay.bind(null,re,!0,r),r.dispatch=t,[e,t]},useMemoCache:Jv,useCacheRefresh:function(){return Nt().memoizedState=iD.bind(null,re)},useEffectEvent:function(e){var t=Nt(),r={impl:e};return t.memoizedState=r,function(){if(pe&2)throw Error(B(440));return r.impl.apply(void 0,arguments)}}},iy={readContext:Et,use:Of,useCallback:UE,useContext:Et,useEffect:ey,useImperativeHandle:LE,useInsertionEffect:BE,useLayoutEffect:IE,useMemo:qE,useReducer:Eu,useRef:DE,useState:function(){return Eu(Bn)},useDebugValue:ty,useDeferredValue:function(e,t){var r=Ge();return HE(r,_e.memoizedState,e,t)},useTransition:function(){var e=Eu(Bn)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:jE,useId:KE,useHostTransitionStatus:ny,useFormState:dx,useActionState:dx,useOptimistic:function(e,t){var r=Ge();return kE(r,_e,e,t)},useMemoCache:Jv,useCacheRefresh:FE};iy.useEffectEvent=zE;var QE={readContext:Et,use:Of,useCallback:UE,useContext:Et,useEffect:ey,useImperativeHandle:LE,useInsertionEffect:BE,useLayoutEffect:IE,useMemo:qE,useReducer:sm,useRef:DE,useState:function(){return sm(Bn)},useDebugValue:ty,useDeferredValue:function(e,t){var r=Ge();return _e===null?ry(r,e,t):HE(r,_e.memoizedState,e,t)},useTransition:function(){var e=sm(Bn)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:jE,useId:KE,useHostTransitionStatus:ny,useFormState:fx,useActionState:fx,useOptimistic:function(e,t){var r=Ge();return _e!==null?kE(r,_e,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Jv,useCacheRefresh:FE};QE.useEffectEvent=zE;function cm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $p={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Ca(n);a.payload=t,r!=null&&(a.callback=r),t=Aa(e,a,n),t!==null&&(Ft(t,e,n),Ql(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Ca(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Aa(e,a,n),t!==null&&(Ft(t,e,n),Ql(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Ca(r);n.tag=2,t!=null&&(n.callback=t),t=Aa(e,n,r),t!==null&&(Ft(t,e,r),Ql(t,e,r))}};function mx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ps(r,n)||!ps(a,i):!0}function px(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&$p.enqueueReplaceState(t,t.state,null)}function ji(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Me({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function eO(e){Wu(e)}function tO(e){console.error(e)}function rO(e){Wu(e)}function Qu(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function gx(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Lp(e,t,r){return r=Ca(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(e,t)},r}function nO(e){return e=Ca(e),e.tag=3,e}function aO(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){gx(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){gx(t,r,n),typeof a!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function lD(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&il(t,r,a,!0),r=gr.current,r!==null){switch(r.tag){case 31:case 13:return kr===null?ad():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Fu?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),xm(e,n,a)),!1;case 22:return r.flags|=65536,n===Fu?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),xm(e,n,a)),!1}throw Error(B(435,r.tag))}return xm(e,n,a),ad(),!1}if(de)return t=gr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Cp&&(e=Error(B(422),{cause:n}),vs(Cr(e,r)))):(n!==Cp&&(t=Error(B(423),{cause:n}),vs(Cr(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Cr(n,r),a=Lp(e.stateNode,n,a),lm(e,a),He!==4&&(He=2)),!1;var i=Error(B(520),{cause:n});if(i=Cr(i,r),is===null?is=[i]:is.push(i),He!==4&&(He=2),t===null)return!0;n=Cr(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=Lp(r.stateNode,n,e),lm(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ta===null||!Ta.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=nO(a),aO(a,e,r,n),lm(r,a),!1}r=r.return}while(r!==null);return!1}var oy=Error(B(461)),Qe=!1;function xt(e,t,r,n){t.child=e===null?yE(t,null,r,n):_i(t,e.child,r,n)}function vx(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}else o=n;return wi(t),n=Fv(e,t,r,o,i,a),l=Yv(),e!==null&&!Qe?(Xv(e,t,a),In(e,t,a)):(de&&l&&Lv(t),t.flags|=1,xt(e,t,n,a),t.child)}function yx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!$v(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,iO(e,t,i,n,a)):(e=Su(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!ly(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ps,r(o,n)&&e.ref===t.ref)return In(e,t,a)}return t.flags|=1,e=kn(i,n),e.ref=t.ref,e.return=t,t.child=e}function iO(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ps(i,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=i,ly(e,a))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,In(e,t,a)}return Up(e,t,r,n,a)}function oO(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return bx(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(t,i!==null?i.cachePool:null),i!==null?lx(t,i):Mp(),wE(t);else return n=t.lanes=536870912,bx(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(ju(t,i.cachePool),lx(t,i),ma(),t.memoizedState=null):(e!==null&&ju(t,null),Mp(),ma());return xt(e,t,a,r),t.child}function Hl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bx(e,t,r,n,a){var i=Hv();return i=i===null?null:{parent:Je._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&ju(t,null),Mp(),wE(t),e!==null&&il(e,t,n,!0),t.childLanes=a,null}function Cu(e,t){return t=ed({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xx(e,t,r){return _i(t,e.child,null,r),e=Cu(t,t.pendingProps),e.flags|=2,nr(t),t.memoizedState=null,e}function sD(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(n.mode==="hidden")return e=Cu(t,n),t.lanes=536870912,Hl(null,e);if(Dp(t),(e=Ne)?(e=JO(e,Ar),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Da!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=dE(e),r.return=t,t.child=r,jt=t,Ne=null)):e=null,e===null)throw za(t);return t.lanes=536870912,null}return Cu(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Dp(t),a)if(t.flags&256)t.flags&=-257,t=xx(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(B(558));else if(Qe||il(e,t,r,!1),a=(r&e.childLanes)!==0,Qe||a){if(n=je,n!==null&&(o=Bj(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,zi(e,o),Ft(n,e,o),oy;ad(),t=xx(e,t,r)}else e=i.treeContext,Ne=Pr(o.nextSibling),jt=t,de=!0,Oa=null,Ar=!1,e!==null&&hE(t,e),t=Cu(t,n),t.flags|=4096;return t}return e=kn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Au(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(B(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Up(e,t,r,n,a){return wi(t),r=Fv(e,t,r,n,void 0,a),n=Yv(),e!==null&&!Qe?(Xv(e,t,a),In(e,t,a)):(de&&n&&Lv(t),t.flags|=1,xt(e,t,r,a),t.child)}function wx(e,t,r,n,a,i){return wi(t),t.updateQueue=null,r=SE(t,n,r,a),_E(e),n=Yv(),e!==null&&!Qe?(Xv(e,t,i),In(e,t,i)):(de&&n&&Lv(t),t.flags|=1,xt(e,t,r,i),t.child)}function _x(e,t,r,n,a){if(wi(t),t.stateNode===null){var i=go,o=r.contextType;typeof o=="object"&&o!==null&&(i=Et(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=$p,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Vv(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Et(o):go,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(cm(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&$p.enqueueReplaceState(i,i.state,null),ts(t,n,i,a),es(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,s=ji(r,l);i.props=s;var u=i.context,d=r.contextType;o=go,typeof d=="object"&&d!==null&&(o=Et(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&px(t,i,n,o),ca=!1;var h=t.memoizedState;i.state=h,ts(t,n,i,a),es(),u=t.memoizedState,l||h!==u||ca?(typeof f=="function"&&(cm(t,r,f,n),u=t.memoizedState),(s=ca||mx(t,r,s,n,h,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Np(e,t),o=t.memoizedProps,d=ji(r,o),i.props=d,f=t.pendingProps,h=i.context,u=r.contextType,s=go,typeof u=="object"&&u!==null&&(s=Et(u)),l=r.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==s)&&px(t,i,n,s),ca=!1,h=t.memoizedState,i.state=h,ts(t,n,i,a),es();var m=t.memoizedState;o!==f||h!==m||ca||e!==null&&e.dependencies!==null&&Ku(e.dependencies)?(typeof l=="function"&&(cm(t,r,l,n),m=t.memoizedState),(d=ca||mx(t,r,d,n,h,m,s)||e!==null&&e.dependencies!==null&&Ku(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=s,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Au(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=_i(t,e.child,null,a),t.child=_i(t,null,r,a)):xt(e,t,r,a),t.memoizedState=i.state,e=t.child):e=In(e,t,a),e}function Sx(e,t,r,n){return xi(),t.flags|=256,xt(e,t,r,n),t.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dm(e){return{baseLanes:e,cachePool:pE()}}function fm(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=sr),e}function lO(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(a?ha(t):ma(),(e=Ne)?(e=JO(e,Ar),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Da!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=dE(e),r.return=t,t.child=r,jt=t,Ne=null)):e=null,e===null)throw za(t);return tg(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,a?(ma(),a=t.mode,l=ed({mode:"hidden",children:l},a),n=fi(n,a,r,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=dm(r),n.childLanes=fm(e,o,r),t.memoizedState=um,Hl(null,n)):(ha(t),qp(t,l))}var s=e.memoizedState;if(s!==null&&(l=s.dehydrated,l!==null)){if(i)t.flags&256?(ha(t),t.flags&=-257,t=hm(e,t,r)):t.memoizedState!==null?(ma(),t.child=e.child,t.flags|=128,t=null):(ma(),l=n.fallback,a=t.mode,n=ed({mode:"visible",children:n.children},a),l=fi(l,a,r,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,_i(t,e.child,null,r),n=t.child,n.memoizedState=dm(r),n.childLanes=fm(e,o,r),t.memoizedState=um,t=Hl(null,n));else if(ha(t),tg(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(B(419)),n.stack="",n.digest=o,vs({value:n,source:null,stack:null}),t=hm(e,t,r)}else if(Qe||il(e,t,r,!1),o=(r&e.childLanes)!==0,Qe||o){if(o=je,o!==null&&(n=Bj(o,r),n!==0&&n!==s.retryLane))throw s.retryLane=n,zi(e,n),Ft(o,e,n),oy;eg(l)||ad(),t=hm(e,t,r)}else eg(l)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,Ne=Pr(l.nextSibling),jt=t,de=!0,Oa=null,Ar=!1,e!==null&&hE(t,e),t=qp(t,n.children),t.flags|=4096);return t}return a?(ma(),l=n.fallback,a=t.mode,s=e.child,u=s.sibling,n=kn(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,u!==null?l=kn(u,l):(l=fi(l,a,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,Hl(null,n),n=t.child,l=e.child.memoizedState,l===null?l=dm(r):(a=l.cachePool,a!==null?(s=Je._currentValue,a=a.parent!==s?{parent:s,pool:s}:a):a=pE(),l={baseLanes:l.baseLanes|r,cachePool:a}),n.memoizedState=l,n.childLanes=fm(e,o,r),t.memoizedState=um,Hl(e.child,n)):(ha(t),r=e.child,e=r.sibling,r=kn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function qp(e,t){return t=ed({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ed(e,t){return e=ar(22,e,null,t),e.lanes=0,e}function hm(e,t,r){return _i(t,e.child,null,r),e=qp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tp(e.return,t,r)}function mm(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function sO(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Ve.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,Te(Ve,o),xt(e,t,n,r),n=de?gs:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jx(e,r,t);else if(e.tag===19)jx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Xu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),mm(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}mm(t,!0,r,null,i,n);break;case"together":mm(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function In(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,!(r&t.childLanes))if(e!==null){if(il(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ly(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ku(e)))}function cD(e,t,r){switch(t.tag){case 3:Lu(t,t.stateNode.containerInfo),fa(t,Je,e.memoizedState.cache),xi();break;case 27:case 5:gp(t);break;case 4:Lu(t,t.stateNode.containerInfo);break;case 10:fa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Dp(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ha(t),t.flags|=128,null):r&t.child.childLanes?lO(e,t,r):(ha(t),e=In(e,t,r),e!==null?e.sibling:null);ha(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(il(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return sO(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Te(Ve,Ve.current),n)break;return null;case 22:return t.lanes=0,oO(e,t,r,t.pendingProps);case 24:fa(t,Je,e.memoizedState.cache)}return In(e,t,r)}function cO(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!ly(e,r)&&!(t.flags&128))return Qe=!1,cD(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,de&&t.flags&1048576&&fE(t,gs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Ja(t.elementType),t.type=e,typeof e=="function")$v(e)?(n=ji(e,n),t.tag=1,t=_x(null,t,e,n,r)):(t.tag=0,t=Up(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===Ev){t.tag=11,t=vx(null,t,e,n,r);break e}else if(a===Ov){t.tag=14,t=yx(null,t,e,n,r);break e}}throw t=mp(e)||e,Error(B(306,t,""))}}return t;case 0:return Up(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=ji(n,t.pendingProps),_x(e,t,n,a,r);case 3:e:{if(Lu(t,t.stateNode.containerInfo),e===null)throw Error(B(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,Np(e,t),ts(t,n,null,r);var o=t.memoizedState;if(n=o.cache,fa(t,Je,n),n!==i.cache&&kp(t,[Je],r,!0),es(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Sx(e,t,n,r);break e}else if(n!==a){a=Cr(Error(B(424)),t),vs(a),t=Sx(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=Pr(e.firstChild),jt=t,de=!0,Oa=null,Ar=!0,r=yE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(xi(),n===a){t=In(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 26:return Au(e,t),e===null?(r=Wx(t.type,null,t.pendingProps,null))?t.memoizedState=r:de||(r=t.type,e=t.pendingProps,n=sd(Ea.current).createElement(r),n[St]=t,n[Yt]=e,Ct(n,r,e),mt(n),t.stateNode=n):t.memoizedState=Wx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gp(t),e===null&&de&&(n=t.stateNode=QO(t.type,t.pendingProps,Ea.current),jt=t,Ar=!0,a=Ne,Ua(t.type)?(rg=a,Ne=Pr(n.firstChild)):Ne=a),xt(e,t,t.pendingProps.children,r),Au(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((a=n=Ne)&&(n=$D(n,t.type,t.pendingProps,Ar),n!==null?(t.stateNode=n,jt=t,Ne=Pr(n.firstChild),Ar=!1,a=!0):a=!1),a||za(t)),gp(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,Jp(a,i)?n=null:o!==null&&Jp(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=Fv(e,t,eD,null,null,r),Ss._currentValue=a),Au(e,t),xt(e,t,n,r),t.child;case 6:return e===null&&de&&((e=r=Ne)&&(r=LD(r,t.pendingProps,Ar),r!==null?(t.stateNode=r,jt=t,Ne=null,e=!0):e=!1),e||za(t)),null;case 13:return lO(e,t,r);case 4:return Lu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_i(t,null,n,r):xt(e,t,n,r),t.child;case 11:return vx(e,t,t.type,t.pendingProps,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,fa(t,t.type,n.value),xt(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,wi(t),a=Et(a),n=n(a),t.flags|=1,xt(e,t,n,r),t.child;case 14:return yx(e,t,t.type,t.pendingProps,r);case 15:return iO(e,t,t.type,t.pendingProps,r);case 19:return sO(e,t,r);case 31:return sD(e,t,r);case 22:return oO(e,t,r,t.pendingProps);case 24:return wi(t),n=Et(Je),e===null?(a=Hv(),a===null&&(a=je,i=qv(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},Vv(t),fa(t,Je,a)):(e.lanes&r&&(Np(e,t),ts(t,null,null,r),es()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),fa(t,Je,n)):(n=i.cache,fa(t,Je,n),n!==a.cache&&kp(t,[Je],r,!0))),xt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(B(156,t.tag))}function mn(e){e.flags|=4}function pm(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(RO())e.flags|=8192;else throw mi=Fu,Wv}else e.flags&=-16777217}function Ex(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!rC(t))if(RO())e.flags|=8192;else throw mi=Fu,Wv}function $c(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mj():536870912,e.lanes|=t,Io|=t)}function Tl(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uD(e,t,r){var n=t.pendingProps;switch(Uv(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pn(Je),No(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,om())),ke(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(mn(t),i!==null?(ke(t),Ex(t,i)):(ke(t),pm(t,a,null,n,r))):i?i!==e.memoizedState?(mn(t),ke(t),Ex(t,i)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&mn(t),ke(t),pm(t,a,e,n,r)),null;case 27:if(Uu(t),r=Ea.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(B(166));return ke(t),null}e=on.current,Vi(t)?ex(t):(e=QO(a,n,r),t.stateNode=e,mn(t))}return ke(t),null;case 5:if(Uu(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(B(166));return ke(t),null}if(i=on.current,Vi(t))ex(t);else{var o=sd(Ea.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[St]=t,i[Yt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ct(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&mn(t)}}return ke(t),pm(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(e=Ea.current,Vi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=jt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[St]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||YO(e.nodeValue,r)),e||za(t,!0)}else e=sd(e).createTextNode(n),e[St]=t,t.stateNode=e}return ke(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Vi(t),r!==null){if(e===null){if(!n)throw Error(B(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(557));e[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else r=om(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(nr(t),t):(nr(t),null);if(t.flags&128)throw Error(B(558))}return ke(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Vi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),a=!1}else a=om(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(nr(t),t):(nr(t),null)}return nr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),$c(t,t.updateQueue),ke(t),null);case 4:return No(),e===null&&my(t.stateNode.containerInfo),ke(t),null;case 10:return Pn(t.type),ke(t),null;case 19:if(pt(Ve),n=t.memoizedState,n===null)return ke(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Tl(n,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Xu(e),i!==null){for(t.flags|=128,Tl(n,!1),e=i.updateQueue,t.updateQueue=e,$c(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)uE(r,e),r=r.sibling;return Te(Ve,Ve.current&1|2),de&&xn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ur()>rd&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304)}else{if(!a)if(e=Xu(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,$c(t,e),Tl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!de)return ke(t),null}else 2*ur()-n.renderingStartTime>rd&&r!==536870912&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ur(),e.sibling=null,r=Ve.current,Te(Ve,a?r&1|2:r&1),de&&xn(t,n.treeForkCount),e):(ke(t),null);case 22:case 23:return nr(t),Gv(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),r=t.updateQueue,r!==null&&$c(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&pt(hi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Pn(Je),ke(t),null;case 25:return null;case 30:return null}throw Error(B(156,t.tag))}function dD(e,t){switch(Uv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(Je),No(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Uu(t),null;case 31:if(t.memoizedState!==null){if(nr(t),t.alternate===null)throw Error(B(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(Ve),null;case 4:return No(),null;case 10:return Pn(t.type),null;case 22:case 23:return nr(t),Gv(),e!==null&&pt(hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pn(Je),null;case 25:return null;default:return null}}function uO(e,t){switch(Uv(t),t.tag){case 3:Pn(Je),No();break;case 26:case 27:case 5:Uu(t);break;case 4:No();break;case 31:t.memoizedState!==null&&nr(t);break;case 13:nr(t);break;case 19:pt(Ve);break;case 10:Pn(t.type);break;case 22:case 23:nr(t),Gv(),e!==null&&pt(hi);break;case 24:Pn(Je)}}function ec(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(l){be(t,t.return,l)}}function Ba(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,a=t;var s=r,u=l;try{u()}catch(d){be(a,s,d)}}}n=n.next}while(n!==i)}}catch(d){be(t,t.return,d)}}function dO(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{xE(t,r)}catch(n){be(e,e.return,n)}}}function fO(e,t,r){r.props=ji(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){be(e,t,n)}}function ns(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){be(e,t,a)}}function nn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){be(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){be(e,t,a)}else r.current=null}function hO(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){be(e,e.return,a)}}function gm(e,t,r){try{var n=e.stateNode;RD(n,e.type,r,t),n[Yt]=t}catch(a){be(e,e.return,a)}}function mO(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function vm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=On));else if(n!==4&&(n===27&&Ua(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Hp(e,t,r),e=e.sibling;e!==null;)Hp(e,t,r),e=e.sibling}function td(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&Ua(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(td(e,t,r),e=e.sibling;e!==null;)td(e,t,r),e=e.sibling}function pO(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ct(t,n,r),t[St]=e,t[Yt]=r}catch(i){be(e,e.return,i)}}var _n=!1,Ze=!1,ym=!1,Ox=typeof WeakSet=="function"?WeakSet:Set,ht=null;function fD(e,t){if(e=e.containerInfo,Xp=fd,e=rE(e),zv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,s=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(s=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(s=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||s===-1?null:{start:l,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zp={focusedElem:e,selectionRange:r},fd=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var g=ji(r.type,a);e=n.getSnapshotBeforeUpdate(g,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(b){be(r,r.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Qp(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(B(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function gO(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:gn(e,r),n&4&&ec(5,r);break;case 1:if(gn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){be(r,r.return,o)}else{var a=ji(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){be(r,r.return,o)}}n&64&&dO(r),n&512&&ns(r,r.return);break;case 3:if(gn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{xE(e,t)}catch(o){be(r,r.return,o)}}break;case 27:t===null&&n&4&&pO(r);case 26:case 5:gn(e,r),t===null&&n&4&&hO(r),n&512&&ns(r,r.return);break;case 12:gn(e,r);break;case 31:gn(e,r),n&4&&bO(e,r);break;case 13:gn(e,r),n&4&&xO(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=wD.bind(null,r),UD(e,r))));break;case 22:if(n=r.memoizedState!==null||_n,!n){t=t!==null&&t.memoizedState!==null||Ze,a=_n;var i=Ze;_n=n,(Ze=t)&&!i?vn(e,r,(r.subtreeFlags&8772)!==0):gn(e,r),_n=a,Ze=i}break;case 30:break;default:gn(e,r)}}function vO(e){var t=e.alternate;t!==null&&(e.alternate=null,vO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&kv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,Wt=!1;function pn(e,t,r){for(r=r.child;r!==null;)yO(e,t,r),r=r.sibling}function yO(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Ks,r)}catch{}switch(r.tag){case 26:Ze||nn(r,t),pn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||nn(r,t);var n=ze,a=Wt;Ua(r.type)&&(ze=r.stateNode,Wt=!1),pn(e,t,r),ls(r.stateNode),ze=n,Wt=a;break;case 5:Ze||nn(r,t);case 6:if(n=ze,a=Wt,ze=null,pn(e,t,r),ze=n,Wt=a,ze!==null)if(Wt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(r.stateNode)}catch(i){be(r,t,i)}else try{ze.removeChild(r.stateNode)}catch(i){be(r,t,i)}break;case 18:ze!==null&&(Wt?(e=ze,$x(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),qo(e)):$x(ze,r.stateNode));break;case 4:n=ze,a=Wt,ze=r.stateNode.containerInfo,Wt=!0,pn(e,t,r),ze=n,Wt=a;break;case 0:case 11:case 14:case 15:Ba(2,r,t),Ze||Ba(4,r,t),pn(e,t,r);break;case 1:Ze||(nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&fO(r,t,n)),pn(e,t,r);break;case 21:pn(e,t,r);break;case 22:Ze=(n=Ze)||r.memoizedState!==null,pn(e,t,r),Ze=n;break;default:pn(e,t,r)}}function bO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qo(e)}catch(r){be(t,t.return,r)}}}function xO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qo(e)}catch(r){be(t,t.return,r)}}function hD(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ox),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ox),t;default:throw Error(B(435,e.tag))}}function Lc(e,t){var r=hD(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=_D.bind(null,e,n);n.then(a,a)}})}function qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(Ua(l.type)){ze=l.stateNode,Wt=!1;break e}break;case 5:ze=l.stateNode,Wt=!1;break e;case 3:case 4:ze=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(ze===null)throw Error(B(160));yO(i,o,a),ze=null,Wt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)wO(t,e),t=t.sibling}var qr=null;function wO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Ht(e),n&4&&(Ba(3,e,e.return),ec(3,e),Ba(5,e,e.return));break;case 1:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&64&&_n&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=qr;if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Xs]||i[St]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ct(i,n,r),i[St]=e,mt(i),n=i;break e;case"link":var o=Gx("link","href",a).get(n+(r.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;case"meta":if(o=Gx("meta","content",a).get(n+(r.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;default:throw Error(B(468,n))}i[St]=e,mt(i),n=i}e.stateNode=n}else Kx(a,e.type,e.stateNode);else e.stateNode=Vx(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Kx(a,e.type,e.stateNode):Vx(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&gm(e,e.memoizedProps,r.memoizedProps)}break;case 27:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),r!==null&&n&4&&gm(e,e.memoizedProps,r.memoizedProps);break;case 5:if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),e.flags&32){a=e.stateNode;try{Mo(a,"")}catch(g){be(e,e.return,g)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,gm(e,a,r!==null?r.memoizedProps:a)),n&1024&&(ym=!0);break;case 6:if(qt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(B(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(g){be(e,e.return,g)}}break;case 3:if(Pu=null,a=qr,qr=cd(t.containerInfo),qt(t,e),qr=a,Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qo(t.containerInfo)}catch(g){be(e,e.return,g)}ym&&(ym=!1,_O(e));break;case 4:n=qr,qr=cd(e.stateNode.containerInfo),qt(t,e),Ht(e),qr=n;break;case 12:qt(t,e),Ht(e);break;case 31:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lc(e,n)));break;case 13:qt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tf=ur()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lc(e,n)));break;case 22:a=e.memoizedState!==null;var s=r!==null&&r.memoizedState!==null,u=_n,d=Ze;if(_n=u||a,Ze=d||s,qt(t,e),Ze=d,_n=u,Ht(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||s||_n||Ze||Qa(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){s=r=t;try{if(i=s.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=s.stateNode;var f=s.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){be(s,s.return,g)}}}else if(t.tag===6){if(r===null){s=t;try{s.stateNode.nodeValue=a?"":s.memoizedProps}catch(g){be(s,s.return,g)}}}else if(t.tag===18){if(r===null){s=t;try{var m=s.stateNode;a?Lx(m,!0):Lx(s.stateNode,!1)}catch(g){be(s,s.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Lc(e,r))));break;case 19:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lc(e,n)));break;case 30:break;case 21:break;default:qt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(mO(n)){r=n;break}n=n.return}if(r==null)throw Error(B(160));switch(r.tag){case 27:var a=r.stateNode,i=vm(e);td(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(Mo(o,""),r.flags&=-33);var l=vm(e);td(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=vm(e);Hp(e,u,s);break;default:throw Error(B(161))}}catch(d){be(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _O(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_O(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gO(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),Qa(t);break;case 1:nn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&fO(t,t.return,r),Qa(t);break;case 27:ls(t.stateNode);case 26:case 5:nn(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function vn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:vn(a,i,r),ec(4,i);break;case 1:if(vn(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){be(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var l=n.stateNode;try{var s=a.shared.hiddenCallbacks;if(s!==null)for(a.shared.hiddenCallbacks=null,a=0;a<s.length;a++)bE(s[a],l)}catch(u){be(n,n.return,u)}}r&&o&64&&dO(i),ns(i,i.return);break;case 27:pO(i);case 26:case 5:vn(a,i,r),r&&n===null&&o&4&&hO(i),ns(i,i.return);break;case 12:vn(a,i,r);break;case 31:vn(a,i,r),r&&o&4&&bO(a,i);break;case 13:vn(a,i,r),r&&o&4&&xO(a,i);break;case 22:i.memoizedState===null&&vn(a,i,r),ns(i,i.return);break;case 30:break;default:vn(a,i,r)}t=t.sibling}}function sy(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Js(r))}function cy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e))}function Ir(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)SO(e,t,r,n),t=t.sibling}function SO(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ir(e,t,r,n),a&2048&&ec(9,t);break;case 1:Ir(e,t,r,n);break;case 3:Ir(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e)));break;case 12:if(a&2048){Ir(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){be(t,t.return,s)}}else Ir(e,t,r,n);break;case 31:Ir(e,t,r,n);break;case 13:Ir(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Ir(e,t,r,n):as(e,t):i._visibility&2?Ir(e,t,r,n):(i._visibility|=2,ro(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&sy(o,t);break;case 24:Ir(e,t,r,n),a&2048&&cy(t.alternate,t);break;default:Ir(e,t,r,n)}}function ro(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=r,s=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:ro(i,o,l,s,a),ec(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?ro(i,o,l,s,a):as(i,o):(d._visibility|=2,ro(i,o,l,s,a)),a&&u&2048&&sy(o.alternate,o);break;case 24:ro(i,o,l,s,a),a&&u&2048&&cy(o.alternate,o);break;default:ro(i,o,l,s,a)}t=t.sibling}}function as(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:as(r,n),a&2048&&sy(n.alternate,n);break;case 24:as(r,n),a&2048&&cy(n.alternate,n);break;default:as(r,n)}t=t.sibling}}var Wl=8192;function Gi(e,t,r){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)jO(e,t,r),e=e.sibling}function jO(e,t,r){switch(e.tag){case 26:Gi(e,t,r),e.flags&Wl&&e.memoizedState!==null&&QD(r,qr,e.memoizedState,e.memoizedProps);break;case 5:Gi(e,t,r);break;case 3:case 4:var n=qr;qr=cd(e.stateNode.containerInfo),Gi(e,t,r),qr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Wl,Wl=16777216,Gi(e,t,r),Wl=n):Gi(e,t,r));break;default:Gi(e,t,r)}}function EO(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,CO(n,e)}EO(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)OO(e),e=e.sibling}function OO(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&Ba(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Tu(e)):kl(e);break;default:kl(e)}}function Tu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,CO(n,e)}EO(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ba(8,t,t.return),Tu(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Tu(t));break;default:Tu(t)}e=e.sibling}}function CO(e,t){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:Ba(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Js(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ht=n;else e:for(r=e;ht!==null;){n=ht;var a=n.sibling,i=n.return;if(vO(n),n===r){ht=null;break e}if(a!==null){a.return=i,ht=a;break e}ht=i}}}var mD={getCacheForType:function(e){var t=Et(Je),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Et(Je).controller.signal}},pD=typeof WeakMap=="function"?WeakMap:Map,pe=0,je=null,oe=null,se=0,ve=0,tr=null,xa=!1,ll=!1,uy=!1,$n=0,He=0,Ia=0,pi=0,dy=0,sr=0,Io=0,is=null,Vt=null,Wp=!1,Tf=0,AO=0,rd=1/0,nd=null,Ta=null,at=0,ka=null,$o=null,Nn=0,Vp=0,Gp=null,TO=null,os=0,Kp=null;function hr(){return pe&2&&se!==0?se&-se:Q.T!==null?hy():Ij()}function kO(){if(sr===0)if(!(se&536870912)||de){var e=Nc;Nc<<=1,!(Nc&3932160)&&(Nc=262144),sr=e}else sr=536870912;return e=gr.current,e!==null&&(e.flags|=32),sr}function Ft(e,t,r){(e===je&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Lo(e,0),wa(e,se,sr,!1)),Ys(e,r),(!(pe&2)||e!==je)&&(e===je&&(!(pe&2)&&(pi|=r),He===4&&wa(e,se,sr,!1)),fn(e))}function PO(e,t,r){if(pe&6)throw Error(B(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Fs(e,t),a=n?yD(e,t):bm(e,t,!0),i=n;do{if(a===0){ll&&!n&&wa(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!gD(r)){a=bm(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;a=is;var s=l.current.memoizedState.isDehydrated;if(s&&(Lo(l,o).flags|=256),o=bm(l,o,!1),o!==2){if(uy&&!s){l.errorRecoveryDisabledLanes|=i,pi|=i,a=4;break e}i=Vt,Vt=a,i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){Lo(e,0),wa(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(B(345));case 4:if((t&4194048)!==t)break;case 6:wa(n,t,sr,!xa);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(B(329))}if((t&62914560)===t&&(a=Tf+300-ur(),10<a)){if(wa(n,t,sr,!xa),yf(n,0,!0)!==0)break e;Nn=t,n.timeoutHandle=ZO(Cx.bind(null,n,r,Vt,nd,Wp,t,sr,pi,Io,xa,i,"Throttled",-0,0),a);break e}Cx(n,r,Vt,nd,Wp,t,sr,pi,Io,xa,i,null,-0,0)}}break}while(!0);fn(e)}function Cx(e,t,r,n,a,i,o,l,s,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},jO(t,i,f);var g=(i&62914560)===i?Tf-ur():(i&4194048)===i?AO-ur():0;if(g=e5(f,g),g!==null){Nn=i,e.cancelPendingCommit=g(Tx.bind(null,e,t,i,r,n,a,o,l,s,d,f,null,h,m)),wa(e,i,o,!u);return}}Tx(e,t,i,r,n,a,o,l,s)}function gD(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wa(e,t,r,n){t&=~dy,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&Dj(e,r,t)}function kf(){return pe&6?!0:(tc(0),!1)}function fy(){if(oe!==null){if(ve===0)var e=oe.return;else e=oe,Cn=Bi=null,Zv(e),Oo=null,ys=0,e=oe;for(;e!==null;)uO(e.alternate,e),e=e.return;oe=null}}function Lo(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,zD(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Nn=0,fy(),je=e,oe=r=kn(e.current,null),se=t,ve=0,tr=null,xa=!1,ll=Fs(e,t),uy=!1,Io=sr=dy=pi=Ia=He=0,Vt=is=null,Wp=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-fr(n),i=1<<a;t|=e[a],n&=~i}return $n=t,_f(),r}function NO(e,t){re=null,Q.H=xs,t===ol||t===jf?(t=ix(),ve=3):t===Wv?(t=ix(),ve=4):ve=t===oy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tr=t,oe===null&&(He=1,Qu(e,Cr(t,e.current)))}function RO(){var e=gr.current;return e===null?!0:(se&4194048)===se?kr===null:(se&62914560)===se||se&536870912?e===kr:!1}function MO(){var e=Q.H;return Q.H=xs,e===null?xs:e}function DO(){var e=Q.A;return Q.A=mD,e}function ad(){He=4,xa||(se&4194048)!==se&&gr.current!==null||(ll=!0),!(Ia&134217727)&&!(pi&134217727)||je===null||wa(je,se,sr,!1)}function bm(e,t,r){var n=pe;pe|=2;var a=MO(),i=DO();(je!==e||se!==t)&&(nd=null,Lo(e,t)),t=!1;var o=He;e:do try{if(ve!==0&&oe!==null){var l=oe,s=tr;switch(ve){case 8:fy(),o=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(t=!0);var u=ve;if(ve=0,tr=null,bo(e,l,s,u),r&&ll){o=0;break e}break;default:u=ve,ve=0,tr=null,bo(e,l,s,u)}}vD(),o=He;break}catch(d){NO(e,d)}while(!0);return t&&e.shellSuspendCounter++,Cn=Bi=null,pe=n,Q.H=a,Q.A=i,oe===null&&(je=null,se=0,_f()),o}function vD(){for(;oe!==null;)zO(oe)}function yD(e,t){var r=pe;pe|=2;var n=MO(),a=DO();je!==e||se!==t?(nd=null,rd=ur()+500,Lo(e,t)):ll=Fs(e,t);e:do try{if(ve!==0&&oe!==null){t=oe;var i=tr;t:switch(ve){case 1:ve=0,tr=null,bo(e,t,i,1);break;case 2:case 9:if(ax(i)){ve=0,tr=null,Ax(t);break}t=function(){ve!==2&&ve!==9||je!==e||(ve=7),fn(e)},i.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:ax(i)?(ve=0,tr=null,Ax(t)):(ve=0,tr=null,bo(e,t,i,7));break;case 5:var o=null;switch(oe.tag){case 26:o=oe.memoizedState;case 5:case 27:var l=oe;if(o?rC(o):l.stateNode.complete){ve=0,tr=null;var s=l.sibling;if(s!==null)oe=s;else{var u=l.return;u!==null?(oe=u,Pf(u)):oe=null}break t}}ve=0,tr=null,bo(e,t,i,5);break;case 6:ve=0,tr=null,bo(e,t,i,6);break;case 8:fy(),He=6;break e;default:throw Error(B(462))}}bD();break}catch(d){NO(e,d)}while(!0);return Cn=Bi=null,Q.H=n,Q.A=a,pe=r,oe!==null?0:(je=null,se=0,_f(),He)}function bD(){for(;oe!==null&&!qR();)zO(oe)}function zO(e){var t=cO(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?Pf(e):oe=t}function Ax(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=wx(r,t,t.pendingProps,t.type,void 0,se);break;case 11:t=wx(r,t,t.pendingProps,t.type.render,t.ref,se);break;case 5:Zv(t);default:uO(r,t),t=oe=uE(t,$n),t=cO(r,t,$n)}e.memoizedProps=e.pendingProps,t===null?Pf(e):oe=t}function bo(e,t,r,n){Cn=Bi=null,Zv(t),Oo=null,ys=0;var a=t.return;try{if(lD(e,a,t,r,se)){He=1,Qu(e,Cr(r,e.current)),oe=null;return}}catch(i){if(a!==null)throw oe=a,i;He=1,Qu(e,Cr(r,e.current)),oe=null;return}t.flags&32768?(de||n===1?e=!0:ll||se&536870912?e=!1:(xa=e=!0,(n===2||n===9||n===3||n===6)&&(n=gr.current,n!==null&&n.tag===13&&(n.flags|=16384))),BO(t,e)):Pf(t)}function Pf(e){var t=e;do{if(t.flags&32768){BO(t,xa);return}e=t.return;var r=uD(t.alternate,t,$n);if(r!==null){oe=r;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);He===0&&(He=5)}function BO(e,t){do{var r=dD(e.alternate,e);if(r!==null){r.flags&=32767,oe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=r}while(e!==null);He=6,oe=null}function Tx(e,t,r,n,a,i,o,l,s){e.cancelPendingCommit=null;do Nf();while(at!==0);if(pe&6)throw Error(B(327));if(t!==null){if(t===e.current)throw Error(B(177));if(i=t.lanes|t.childLanes,i|=Bv,JR(e,r,i,o,l,s),e===je&&(oe=je=null,se=0),$o=t,ka=e,Nn=r,Vp=i,Gp=a,TO=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,SD(qu,function(){return qO(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=Q.T,Q.T=null,a=ge.p,ge.p=2,o=pe,pe|=4;try{fD(e,t,r)}finally{pe=o,ge.p=a,Q.T=n}}at=1,IO(),$O(),LO()}}function IO(){if(at===1){at=0;var e=ka,t=$o,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=Q.T,Q.T=null;var n=ge.p;ge.p=2;var a=pe;pe|=4;try{wO(t,e);var i=Zp,o=rE(e.containerInfo),l=i.focusedElem,s=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&tE(l.ownerDocument.documentElement,l)){if(s!==null&&zv(l)){var u=s.start,d=s.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),g=l.textContent.length,b=Math.min(s.start,g),y=s.end===void 0?b:Math.min(s.end,g);!m.extend&&b>y&&(o=y,y=b,b=o);var p=Zb(l,b),v=Zb(l,y);if(p&&v&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var x=f.createRange();x.setStart(p.node,p.offset),m.removeAllRanges(),b>y?(m.addRange(x),m.extend(v.node,v.offset)):(x.setEnd(v.node,v.offset),m.addRange(x))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var _=f[l];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}fd=!!Xp,Zp=Xp=null}finally{pe=a,ge.p=n,Q.T=r}}e.current=t,at=2}}function $O(){if(at===2){at=0;var e=ka,t=$o,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=Q.T,Q.T=null;var n=ge.p;ge.p=2;var a=pe;pe|=4;try{gO(e,t.alternate,t)}finally{pe=a,ge.p=n,Q.T=r}}at=3}}function LO(){if(at===4||at===3){at=0,HR();var e=ka,t=$o,r=Nn,n=TO;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,$o=ka=null,UO(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ta=null),Tv(r),t=t.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Ks,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=Q.T,a=ge.p,ge.p=2,Q.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var l=n[o];i(l.value,{componentStack:l.stack})}}finally{Q.T=t,ge.p=a}}Nn&3&&Nf(),fn(e),a=e.pendingLanes,r&261930&&a&42?e===Kp?os++:(os=0,Kp=e):os=0,tc(0)}}function UO(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Js(t)))}function Nf(){return IO(),$O(),LO(),qO()}function qO(){if(at!==5)return!1;var e=ka,t=Vp;Vp=0;var r=Tv(Nn),n=Q.T,a=ge.p;try{ge.p=32>r?32:r,Q.T=null,r=Gp,Gp=null;var i=ka,o=Nn;if(at=0,$o=ka=null,Nn=0,pe&6)throw Error(B(331));var l=pe;if(pe|=4,OO(i.current),SO(i,i.current,o,r),pe=l,tc(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Ks,i)}catch{}return!0}finally{ge.p=a,Q.T=n,UO(e,t)}}function kx(e,t,r){t=Cr(r,t),t=Lp(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(Ys(e,2),fn(e))}function be(e,t,r){if(e.tag===3)kx(e,e,r);else for(;t!==null;){if(t.tag===3){kx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ta===null||!Ta.has(n))){e=Cr(r,e),r=nO(2),n=Aa(t,r,2),n!==null&&(aO(r,n,t,e),Ys(n,2),fn(n));break}}t=t.return}}function xm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pD;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(uy=!0,a.add(r),e=xD.bind(null,e,t,r),t.then(e,e))}function xD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,je===e&&(se&r)===r&&(He===4||He===3&&(se&62914560)===se&&300>ur()-Tf?!(pe&2)&&Lo(e,0):dy|=r,Io===se&&(Io=0)),fn(e)}function HO(e,t){t===0&&(t=Mj()),e=zi(e,t),e!==null&&(Ys(e,t),fn(e))}function wD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),HO(e,r)}function _D(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(B(314))}n!==null&&n.delete(t),HO(e,r)}function SD(e,t){return Cv(e,t)}var id=null,no=null,Fp=!1,od=!1,wm=!1,_a=0;function fn(e){e!==no&&e.next===null&&(no===null?id=no=e:no=no.next=e),od=!0,Fp||(Fp=!0,ED())}function tc(e,t){if(!wm&&od){wm=!0;do for(var r=!1,n=id;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,l=n.pingedLanes;i=(1<<31-fr(42|e)+1)-1,i&=a&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Px(n,i))}else i=se,i=yf(n,n===je?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Fs(n,i)||(r=!0,Px(n,i));n=n.next}while(r);wm=!1}}function jD(){WO()}function WO(){od=Fp=!1;var e=0;_a!==0&&DD()&&(e=_a);for(var t=ur(),r=null,n=id;n!==null;){var a=n.next,i=VO(n,t);i===0?(n.next=null,r===null?id=a:r.next=a,a===null&&(no=r)):(r=n,(e!==0||i&3)&&(od=!0)),n=a}at!==0&&at!==5||tc(e),_a!==0&&(_a=0)}function VO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-fr(i),l=1<<o,s=a[o];s===-1?(!(l&r)||l&n)&&(a[o]=ZR(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}if(t=je,r=se,r=yf(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Yh(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Fs(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&Yh(n),Tv(r)){case 2:case 8:r=Nj;break;case 32:r=qu;break;case 268435456:r=Rj;break;default:r=qu}return n=GO.bind(null,e),r=Cv(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&Yh(n),e.callbackPriority=2,e.callbackNode=null,2}function GO(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Nf()&&e.callbackNode!==r)return null;var n=se;return n=yf(e,e===je?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(PO(e,n,t),VO(e,ur()),e.callbackNode!=null&&e.callbackNode===r?GO.bind(null,e):null)}function Px(e,t){if(Nf())return null;PO(e,t,!0)}function ED(){BD(function(){pe&6?Cv(Pj,jD):WO()})}function hy(){if(_a===0){var e=Do;e===0&&(e=Pc,Pc<<=1,!(Pc&261888)&&(Pc=256)),_a=e}return _a}function Nx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xu(""+e)}function Rx(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function OD(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=Nx((a[Yt]||null).action),o=n.submitter;o&&(t=(t=o[Yt]||null)?Nx(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new bf("action","action",null,n,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(_a!==0){var s=o?Rx(a,o):new FormData(a);Ip(r,{pending:!0,data:s,method:a.method,action:i},null,s)}}else typeof i=="function"&&(l.preventDefault(),s=o?Rx(a,o):new FormData(a),Ip(r,{pending:!0,data:s,method:a.method,action:i},i,s))},currentTarget:a}]})}}for(var _m=0;_m<Op.length;_m++){var Sm=Op[_m],CD=Sm.toLowerCase(),AD=Sm[0].toUpperCase()+Sm.slice(1);Zr(CD,"on"+AD)}Zr(aE,"onAnimationEnd");Zr(iE,"onAnimationIteration");Zr(oE,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(WM,"onTransitionRun");Zr(VM,"onTransitionStart");Zr(GM,"onTransitionCancel");Zr(lE,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ws));function KO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){Wu(d)}a.currentTarget=null,i=s}else for(o=0;o<n.length;o++){if(l=n[o],s=l.instance,u=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){Wu(d)}a.currentTarget=null,i=s}}}}function ie(e,t){var r=t[yp];r===void 0&&(r=t[yp]=new Set);var n=e+"__bubble";r.has(n)||(FO(t,e,2,!1),r.add(n))}function jm(e,t,r){var n=0;t&&(n|=4),FO(r,e,n,t)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function my(e){if(!e[Uc]){e[Uc]=!0,$j.forEach(function(r){r!=="selectionchange"&&(TD.has(r)||jm(r,!1,e),jm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uc]||(t[Uc]=!0,jm("selectionchange",!1,t))}}function FO(e,t,r,n){switch(lC(t)){case 2:var a=n5;break;case 8:a=a5;break;default:a=yy}r=a.bind(null,t,r,e),a=void 0,!Sp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Em(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;l!==null;){if(o=co(l),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){n=i=o;continue e}l=l.parentNode}}n=n.return}Kj(function(){var u=i,d=Nv(r),f=[];e:{var h=sE.get(e);if(h!==void 0){var m=bf,g=e;switch(e){case"keypress":if(_u(r)===0)break e;case"keydown":case"keyup":m=_M;break;case"focusin":g="focus",m=em;break;case"focusout":g="blur",m=em;break;case"beforeblur":case"afterblur":m=em;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=EM;break;case aE:case iE:case oE:m=hM;break;case lE:m=CM;break;case"scroll":case"scrollend":m=sM;break;case"wheel":m=TM;break;case"copy":case"cut":case"paste":m=pM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hb;break;case"toggle":case"beforetoggle":m=PM}var b=(t&4)!==0,y=!b&&(e==="scroll"||e==="scrollend"),p=b?h!==null?h+"Capture":null:h;b=[];for(var v=u,x;v!==null;){var _=v;if(x=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||x===null||p===null||(_=hs(v,p),_!=null&&b.push(_s(v,_,x))),y)break;v=v.return}0<b.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==_p&&(g=r.relatedTarget||r.fromElement)&&(co(g)||g[nl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?co(g):null,g!==null&&(y=Gs(g),b=g.tag,g!==y||b!==5&&b!==27&&b!==6)&&(g=null)):(m=null,g=u),m!==g)){if(b=Ub,_="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(b=Hb,_="onPointerLeave",p="onPointerEnter",v="pointer"),y=m==null?h:ql(m),x=g==null?h:ql(g),h=new b(_,v+"leave",m,r,d),h.target=y,h.relatedTarget=x,_=null,co(d)===u&&(b=new b(p,v+"enter",g,r,d),b.target=x,b.relatedTarget=y,_=b),y=_,m&&g)t:{for(b=kD,p=m,v=g,x=0,_=p;_;_=b(_))x++;_=0;for(var j=v;j;j=b(j))_++;for(;0<x-_;)p=b(p),x--;for(;0<_-x;)v=b(v),_--;for(;x--;){if(p===v||v!==null&&p===v.alternate){b=p;break t}p=b(p),v=b(v)}b=null}else b=null;m!==null&&Mx(f,h,m,b,!1),g!==null&&y!==null&&Mx(f,y,g,b,!0)}}e:{if(h=u?ql(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=Kb;else if(Gb(h))if(Qj)S=UM;else{S=$M;var E=IM}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Pv(u.elementType)&&(S=Kb):S=LM;if(S&&(S=S(e,u))){Jj(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&wp(h,"number",h.value)}switch(E=u?ql(u):window,e){case"focusin":(Gb(E)||E.contentEditable==="true")&&(ho=E,jp=u,Zl=null);break;case"focusout":Zl=jp=ho=null;break;case"mousedown":Ep=!0;break;case"contextmenu":case"mouseup":case"dragend":Ep=!1,Jb(f,r,d);break;case"selectionchange":if(HM)break;case"keydown":case"keyup":Jb(f,r,d)}var O;if(Dv)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fo?Xj(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Yj&&r.locale!=="ko"&&(fo||A!=="onCompositionStart"?A==="onCompositionEnd"&&fo&&(O=Fj()):(ba=d,Rv="value"in ba?ba.value:ba.textContent,fo=!0)),E=ld(u,A),0<E.length&&(A=new qb(A,e,null,r,d),f.push({event:A,listeners:E}),O?A.data=O:(O=Zj(r),O!==null&&(A.data=O)))),(O=RM?MM(e,r):DM(e,r))&&(A=ld(u,"onBeforeInput"),0<A.length&&(E=new qb("onBeforeInput","beforeinput",null,r,d),f.push({event:E,listeners:A}),E.data=O)),OD(f,e,u,r,d)}KO(f,t)})}function _s(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ld(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=hs(e,r),a!=null&&n.unshift(_s(e,a,i)),a=hs(e,t),a!=null&&n.push(_s(e,a,i))),e.tag===3)return n;e=e.return}return[]}function kD(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,s=l.alternate,u=l.stateNode;if(l=l.tag,s!==null&&s===n)break;l!==5&&l!==26&&l!==27||u===null||(s=u,a?(u=hs(r,i),u!=null&&o.unshift(_s(r,u,s))):a||(u=hs(r,i),u!=null&&o.push(_s(r,u,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var PD=/\r\n?/g,ND=/\u0000|\uFFFD/g;function Dx(e){return(typeof e=="string"?e:""+e).replace(PD,`
`).replace(ND,"")}function YO(e,t){return t=Dx(t),Dx(e)===t}function we(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Mo(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Mo(e,""+n);break;case"className":Mc(e,"class",n);break;case"tabIndex":Mc(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Mc(e,r,n);break;case"style":Gj(e,n,i);break;case"data":if(t!=="object"){Mc(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=xu(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&we(e,t,"name",a.name,a,null),we(e,t,"formEncType",a.formEncType,a,null),we(e,t,"formMethod",a.formMethod,a,null),we(e,t,"formTarget",a.formTarget,a,null)):(we(e,t,"encType",a.encType,a,null),we(e,t,"method",a.method,a,null),we(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=xu(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=On);break;case"onScroll":n!=null&&ie("scroll",e);break;case"onScrollEnd":n!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(B(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=xu(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ie("beforetoggle",e),ie("toggle",e),bu(e,"popover",n);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":bu(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=oM.get(r)||r,bu(e,r,n))}}function Yp(e,t,r,n,a,i){switch(r){case"style":Gj(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(B(60));e.innerHTML=r}}break;case"children":typeof n=="string"?Mo(e,n):(typeof n=="number"||typeof n=="bigint")&&Mo(e,""+n);break;case"onScroll":n!=null&&ie("scroll",e);break;case"onScrollEnd":n!=null&&ie("scrollend",e);break;case"onClick":n!=null&&(e.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lj.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[Yt]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):bu(e,r,n)}}}function Ct(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:we(e,t,i,o,r,null)}}a&&we(e,t,"srcSet",r.srcSet,r,null),n&&we(e,t,"src",r.src,r,null);return;case"input":ie("invalid",e);var l=i=o=a=null,s=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":s=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(B(137,t));break;default:we(e,t,n,d,r,null)}}Hj(e,i,l,s,u,o,a,!1);return;case"select":ie("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(l=r[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":n=l;default:we(e,t,a,l,r,null)}t=i,r=o,e.multiple=!!n,t!=null?So(e,!!n,t,!1):r!=null&&So(e,!!n,r,!0);return;case"textarea":ie("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(l=r[o],l!=null))switch(o){case"value":n=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(B(91));break;default:we(e,t,o,l,r,null)}Vj(e,n,a,i);return;case"option":for(s in r)if(r.hasOwnProperty(s)&&(n=r[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:we(e,t,s,n,r,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(n=0;n<ws.length;n++)ie(ws[n],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:we(e,t,u,n,r,null)}return;default:if(Pv(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&Yp(e,t,d,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(n=r[l],n!=null&&we(e,t,l,n,r,null))}function RD(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,s=null,u=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":s=f;default:n.hasOwnProperty(m)||we(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(B(137,t));break;default:m!==f&&we(e,t,h,m,n,f)}}xp(e,o,l,s,u,d,i,a);return;case"select":m=o=l=h=null;for(i in r)if(s=r[i],r.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":m=s;default:n.hasOwnProperty(i)||we(e,t,i,null,n,s)}for(a in n)if(i=n[a],s=r[a],n.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==s&&we(e,t,a,i,n,s)}t=l,r=o,n=m,h!=null?So(e,!!r,h,!1):!!n!=!!r&&(t!=null?So(e,!!r,t,!0):So(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(l in r)if(a=r[l],r.hasOwnProperty(l)&&a!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:we(e,t,l,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(B(91));break;default:a!==i&&we(e,t,o,a,n,i)}Wj(e,h,m);return;case"option":for(var g in r)if(h=r[g],r.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:we(e,t,g,null,n,h)}for(s in n)if(h=n[s],m=r[s],n.hasOwnProperty(s)&&h!==m&&(h!=null||m!=null))switch(s){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:we(e,t,s,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in r)h=r[b],r.hasOwnProperty(b)&&h!=null&&!n.hasOwnProperty(b)&&we(e,t,b,null,n,h);for(u in n)if(h=n[u],m=r[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(B(137,t));break;default:we(e,t,u,h,n,m)}return;default:if(Pv(t)){for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!==void 0&&!n.hasOwnProperty(y)&&Yp(e,t,y,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Yp(e,t,d,h,n,m);return}}for(var p in r)h=r[p],r.hasOwnProperty(p)&&h!=null&&!n.hasOwnProperty(p)&&we(e,t,p,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||we(e,t,f,h,n,m)}function zx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MD(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,l=a.duration;if(i&&l&&zx(o)){for(o=0,l=a.responseEnd,n+=1;n<r.length;n++){var s=r[n],u=s.startTime;if(u>l)break;var d=s.transferSize,f=s.initiatorType;d&&zx(f)&&(s=s.responseEnd,o+=d*(s<l?1:(l-u)/(s-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xp=null,Zp=null;function sd(e){return e.nodeType===9?e:e.ownerDocument}function Bx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XO(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Om=null;function DD(){var e=window.event;return e&&e.type==="popstate"?e===Om?!1:(Om=e,!0):(Om=null,!1)}var ZO=typeof setTimeout=="function"?setTimeout:void 0,zD=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,BD=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(e){return Ix.resolve(null).then(e).catch(ID)}:ZO;function ID(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function $x(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),qo(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")ls(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ls(r);for(var i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Xs]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&ls(e.ownerDocument.body);r=a}while(r);qo(t)}function Lx(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function Qp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Qp(r),kv(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function $D(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Xs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Pr(e.nextSibling),e===null)break}return null}function LD(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Pr(e.nextSibling),e===null))return null;return e}function JO(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pr(e.nextSibling),e===null))return null;return e}function eg(e){return e.data==="$?"||e.data==="$~"}function tg(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function UD(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rg=null;function Ux(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Pr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function qx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function QO(e,t,r){switch(t=sd(r),e){case"html":if(e=t.documentElement,!e)throw Error(B(452));return e;case"head":if(e=t.head,!e)throw Error(B(453));return e;case"body":if(e=t.body,!e)throw Error(B(454));return e;default:throw Error(B(451))}}function ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);kv(e)}var Nr=new Map,Hx=new Set;function cd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=ge.d;ge.d={f:qD,r:HD,D:WD,C:VD,L:GD,m:KD,X:YD,S:FD,M:XD};function qD(){var e=Xn.f(),t=kf();return e||t}function HD(e){var t=al(e);t!==null&&t.tag===5&&t.type==="form"?GE(t):Xn.r(e)}var sl=typeof document>"u"?null:document;function eC(e,t,r){var n=sl;if(n&&typeof t=="string"&&t){var a=Or(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Hx.has(a)||(Hx.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Ct(t,"link",e),mt(t),n.head.appendChild(t)))}}function WD(e){Xn.D(e),eC("dns-prefetch",e,null)}function VD(e,t){Xn.C(e,t),eC("preconnect",e,t)}function GD(e,t,r){Xn.L(e,t,r);var n=sl;if(n&&e&&t){var a='link[rel="preload"][as="'+Or(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Or(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Or(r.imageSizes)+'"]')):a+='[href="'+Or(e)+'"]';var i=a;switch(t){case"style":i=Uo(e);break;case"script":i=cl(e)}Nr.has(i)||(e=Me({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Nr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(rc(i))||t==="script"&&n.querySelector(nc(i))||(t=n.createElement("link"),Ct(t,"link",e),mt(t),n.head.appendChild(t)))}}function KD(e,t){Xn.m(e,t);var r=sl;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Or(n)+'"][href="'+Or(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=cl(e)}if(!Nr.has(i)&&(e=Me({rel:"modulepreload",href:e},t),Nr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(nc(i)))return}n=r.createElement("link"),Ct(n,"link",e),mt(n),r.head.appendChild(n)}}}function FD(e,t,r){Xn.S(e,t,r);var n=sl;if(n&&e){var a=_o(n).hoistableStyles,i=Uo(e);t=t||"default";var o=a.get(i);if(!o){var l={loading:0,preload:null};if(o=n.querySelector(rc(i)))l.loading=5;else{e=Me({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Nr.get(i))&&py(e,r);var s=o=n.createElement("link");mt(s),Ct(s,"link",e),s._p=new Promise(function(u,d){s.onload=u,s.onerror=d}),s.addEventListener("load",function(){l.loading|=1}),s.addEventListener("error",function(){l.loading|=2}),l.loading|=4,ku(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:l},a.set(i,o)}}}function YD(e,t){Xn.X(e,t);var r=sl;if(r&&e){var n=_o(r).hoistableScripts,a=cl(e),i=n.get(a);i||(i=r.querySelector(nc(a)),i||(e=Me({src:e,async:!0},t),(t=Nr.get(a))&&gy(e,t),i=r.createElement("script"),mt(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function XD(e,t){Xn.M(e,t);var r=sl;if(r&&e){var n=_o(r).hoistableScripts,a=cl(e),i=n.get(a);i||(i=r.querySelector(nc(a)),i||(e=Me({src:e,async:!0,type:"module"},t),(t=Nr.get(a))&&gy(e,t),i=r.createElement("script"),mt(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Wx(e,t,r,n){var a=(a=Ea.current)?cd(a):null;if(!a)throw Error(B(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Uo(r.href),r=_o(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Uo(r.href);var i=_o(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(rc(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Nr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nr.set(e,r),i||ZD(a,e,r,o.state))),t&&n===null)throw Error(B(528,""));return o}if(t&&n!==null)throw Error(B(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cl(r),r=_o(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,e))}}function Uo(e){return'href="'+Or(e)+'"'}function rc(e){return'link[rel="stylesheet"]['+e+"]"}function tC(e){return Me({},e,{"data-precedence":e.precedence,precedence:null})}function ZD(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ct(t,"link",r),mt(t),e.head.appendChild(t))}function cl(e){return'[src="'+Or(e)+'"]'}function nc(e){return"script[async]"+e}function Vx(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Or(r.href)+'"]');if(n)return t.instance=n,mt(n),n;var a=Me({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),mt(n),Ct(n,"style",a),ku(n,r.precedence,e),t.instance=n;case"stylesheet":a=Uo(r.href);var i=e.querySelector(rc(a));if(i)return t.state.loading|=4,t.instance=i,mt(i),i;n=tC(r),(a=Nr.get(a))&&py(n,a),i=(e.ownerDocument||e).createElement("link"),mt(i);var o=i;return o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),t.state.loading|=4,ku(i,r.precedence,e),t.instance=i;case"script":return i=cl(r.src),(a=e.querySelector(nc(i)))?(t.instance=a,mt(a),a):(n=r,(a=Nr.get(i))&&(n=Me({},r),gy(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),mt(a),Ct(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(B(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,ku(n,r.precedence,e));return t.instance}function ku(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var l=n[o];if(l.dataset.precedence===t)i=l;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function py(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pu=null;function Gx(e,t,r){if(Pu===null){var n=new Map,a=Pu=new Map;a.set(r,n)}else a=Pu,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Xs]||i[St]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=n.get(o);l?l.push(i):n.set(o,[i])}}return n}function Kx(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function JD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function rC(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function QD(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=Uo(n.href),i=t.querySelector(rc(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ud.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,mt(i);return}i=t.ownerDocument||t,n=tC(n),(a=Nr.get(a))&&py(n,a),i=i.createElement("link"),mt(i);var o=i;o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=ud.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Cm=0;function e5(e,t){return e.stylesheets&&e.count===0&&Nu(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&Nu(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Cm===0&&(Cm=62500*MD());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Nu(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Cm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function ud(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dd=null;function Nu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dd=new Map,t.forEach(t5,e),dd=null,ud.call(e))}function t5(e,t){if(!(t.state.loading&4)){var r=dd.get(e);if(r)var n=r.get(null);else{r=new Map,dd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=ud.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Ss={$$typeof:En,Provider:null,Consumer:null,_currentValue:di,_currentValue2:di,_threadCount:0};function r5(e,t,r,n,a,i,o,l,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xh(0),this.hiddenUpdates=Xh(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function nC(e,t,r,n,a,i,o,l,s,u,d,f){return e=new r5(e,t,r,o,s,u,d,f,l),t=1,i===!0&&(t|=24),i=ar(3,null,null,t),e.current=i,i.stateNode=e,t=qv(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},Vv(i),e}function aC(e){return e?(e=go,e):go}function iC(e,t,r,n,a,i){a=aC(a),n.context===null?n.context=a:n.pendingContext=a,n=Ca(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=Aa(e,n,t),r!==null&&(Ft(r,e,t),Ql(r,e,t))}function Fx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vy(e,t){Fx(e,t),(e=e.alternate)&&Fx(e,t)}function oC(e){if(e.tag===13||e.tag===31){var t=zi(e,67108864);t!==null&&Ft(t,e,67108864),vy(e,67108864)}}function Yx(e){if(e.tag===13||e.tag===31){var t=hr();t=Av(t);var r=zi(e,t);r!==null&&Ft(r,e,t),vy(e,t)}}var fd=!0;function n5(e,t,r,n){var a=Q.T;Q.T=null;var i=ge.p;try{ge.p=2,yy(e,t,r,n)}finally{ge.p=i,Q.T=a}}function a5(e,t,r,n){var a=Q.T;Q.T=null;var i=ge.p;try{ge.p=8,yy(e,t,r,n)}finally{ge.p=i,Q.T=a}}function yy(e,t,r,n){if(fd){var a=ng(n);if(a===null)Em(e,t,n,hd,r),Xx(e,n);else if(o5(a,e,t,r,n))n.stopPropagation();else if(Xx(e,n),t&4&&-1<i5.indexOf(e)){for(;a!==null;){var i=al(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Za(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var s=1<<31-fr(o);l.entanglements[1]|=s,o&=~s}fn(i),!(pe&6)&&(rd=ur()+500,tc(0))}}break;case 31:case 13:l=zi(i,2),l!==null&&Ft(l,i,2),kf(),vy(i,2)}if(i=ng(n),i===null&&Em(e,t,n,hd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Em(e,t,n,null,r)}}function ng(e){return e=Nv(e),by(e)}var hd=null;function by(e){if(hd=null,e=co(e),e!==null){var t=Gs(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=Oj(t),e!==null)return e;e=null}else if(r===31){if(e=Cj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hd=e,null}function lC(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(WR()){case Pj:return 2;case Nj:return 8;case qu:case VR:return 32;case Rj:return 268435456;default:return 32}default:return 32}}var ag=!1,Pa=null,Na=null,Ra=null,js=new Map,Es=new Map,pa=[],i5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xx(e,t){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Pl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=al(t),t!==null&&oC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function o5(e,t,r,n,a){switch(t){case"focusin":return Pa=Pl(Pa,e,t,r,n,a),!0;case"dragenter":return Na=Pl(Na,e,t,r,n,a),!0;case"mouseover":return Ra=Pl(Ra,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return js.set(i,Pl(js.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Es.set(i,Pl(Es.get(i)||null,e,t,r,n,a)),!0}return!1}function sC(e){var t=co(e.target);if(t!==null){var r=Gs(t);if(r!==null){if(t=r.tag,t===13){if(t=Oj(r),t!==null){e.blockedOn=t,Mb(e.priority,function(){Yx(r)});return}}else if(t===31){if(t=Cj(r),t!==null){e.blockedOn=t,Mb(e.priority,function(){Yx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ru(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ng(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_p=n,r.target.dispatchEvent(n),_p=null}else return t=al(r),t!==null&&oC(t),e.blockedOn=r,!1;t.shift()}return!0}function Zx(e,t,r){Ru(e)&&r.delete(t)}function l5(){ag=!1,Pa!==null&&Ru(Pa)&&(Pa=null),Na!==null&&Ru(Na)&&(Na=null),Ra!==null&&Ru(Ra)&&(Ra=null),js.forEach(Zx),Es.forEach(Zx)}function qc(e,t){e.blockedOn===t&&(e.blockedOn=null,ag||(ag=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,l5)))}var Hc=null;function Jx(e){Hc!==e&&(Hc=e,it.unstable_scheduleCallback(it.unstable_NormalPriority,function(){Hc===e&&(Hc=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(by(n||r)===null)continue;break}var i=al(r);i!==null&&(e.splice(t,3),t-=3,Ip(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function qo(e){function t(s){return qc(s,e)}Pa!==null&&qc(Pa,e),Na!==null&&qc(Na,e),Ra!==null&&qc(Ra,e),js.forEach(t),Es.forEach(t);for(var r=0;r<pa.length;r++){var n=pa[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<pa.length&&(r=pa[0],r.blockedOn===null);)sC(r),r.blockedOn===null&&pa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[Yt]||null;if(typeof i=="function")o||Jx(r);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Yt]||null)l=o.formAction;else if(by(a)!==null)continue}else l=o.action;typeof l=="function"?r[n+1]=l:(r.splice(n,3),n-=3),Jx(r)}}}function cC(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function xy(e){this._internalRoot=e}Rf.prototype.render=xy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));var r=t.current,n=hr();iC(r,n,e,t,null,null)};Rf.prototype.unmount=xy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;iC(e.current,2,null,e,null,null),kf(),t[nl]=null}};function Rf(e){this._internalRoot=e}Rf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ij();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pa.length&&t!==0&&t<pa[r].priority;r++);pa.splice(r,0,e),r===0&&sC(e)}};var Qx=jj.version;if(Qx!=="19.2.3")throw Error(B(527,Qx,"19.2.3"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=BR(t),e=e!==null?Aj(e):null,e=e===null?null:e.stateNode,e};var s5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Ks=Wc.inject(s5),dr=Wc}catch{}}gf.createRoot=function(e,t){if(!Ej(e))throw Error(B(299));var r=!1,n="",a=eO,i=tO,o=rO;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=nC(e,1,!1,null,null,r,n,null,a,i,o,cC),e[nl]=t.current,my(e),new xy(t)};gf.hydrateRoot=function(e,t,r){if(!Ej(e))throw Error(B(299));var n=!1,a="",i=eO,o=tO,l=rO,s=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(s=r.formState)),t=nC(e,1,!0,t,r??null,n,a,s,i,o,l,cC),t.context=aC(null),r=t.current,n=hr(),n=Av(n),a=Ca(n),a.callback=null,Aa(r,a,n),r=n,t.current.lanes=r,Ys(t,r),fn(t),e[nl]=t.current,my(e),new Rf(t)};gf.version="19.2.3";function uC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uC)}catch(e){console.error(e)}}uC(),yj.exports=gf;var c5=yj.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(this,arguments)}var Sa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sa||(Sa={}));const e1="popstate";function u5(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return ig("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:dC(a)}return f5(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d5(){return Math.random().toString(36).substr(2,8)}function t1(e,t){return{usr:e.state,key:e.key,idx:t}}function ig(e,t,r,n){return r===void 0&&(r=null),Os({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ul(t):t,{state:r,key:t&&t.key||n||d5()})}function dC(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ul(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function f5(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Sa.Pop,s=null,u=d();u==null&&(u=0,o.replaceState(Os({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Sa.Pop;let y=d(),p=y==null?null:y-u;u=y,s&&s({action:l,location:b.location,delta:p})}function h(y,p){l=Sa.Push;let v=ig(b.location,y,p);u=d()+1;let x=t1(v,u),_=b.createHref(v);try{o.pushState(x,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&s&&s({action:l,location:b.location,delta:1})}function m(y,p){l=Sa.Replace;let v=ig(b.location,y,p);u=d();let x=t1(v,u),_=b.createHref(v);o.replaceState(x,"",_),i&&s&&s({action:l,location:b.location,delta:0})}function g(y){let p=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof y=="string"?y:dC(y);return v=v.replace(/ $/,"%20"),et(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let b={get action(){return l},get location(){return e(a,o)},listen(y){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(e1,f),s=y,()=>{a.removeEventListener(e1,f),s=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let p=g(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(y){return o.go(y)}};return b}var r1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(r1||(r1={}));function h5(e,t,r){return r===void 0&&(r="/"),m5(e,t,r)}function m5(e,t,r,n){let a=typeof t=="string"?ul(t):t,i=mC(a.pathname||"/",r);if(i==null)return null;let o=fC(e);p5(o);let l=null;for(let s=0;l==null&&s<o.length;++s){let u=C5(i);l=j5(o[s],u)}return l}function fC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let s={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(et(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(n.length));let u=gi([n,s.relativePath]),d=r.concat(s);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fC(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:_5(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let s of hC(i.path))a(i,o,s)}),t}function hC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=hC(n.join("/")),l=[];return l.push(...o.map(s=>s===""?i:[i,s].join("/"))),a&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function p5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:S5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const g5=/^:[\w-]+$/,v5=3,y5=2,b5=1,x5=10,w5=-2,n1=e=>e==="*";function _5(e,t){let r=e.split("/"),n=r.length;return r.some(n1)&&(n+=w5),t&&(n+=y5),r.filter(a=>!n1(a)).reduce((a,i)=>a+(g5.test(i)?v5:i===""?b5:x5),n)}function S5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function j5(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let s=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=E5({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},d),h=s.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:gi([i,f.pathname]),pathnameBase:N5(gi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=gi([i,f.pathnameBase]))}return o}function E5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=O5(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let b=l[f]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function O5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),wy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,s)=>(n.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function C5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const A5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T5=e=>A5.test(e);function k5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ul(e):e,i;if(r)if(T5(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),wy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=a1(r.substring(1),"/"):i=a1(r,t)}else i=t;return{pathname:i,search:R5(n),hash:M5(a)}}function a1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Am(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pC(e,t){let r=P5(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gC(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ul(e):(a=Os({},e),et(!a.pathname||!a.pathname.includes("?"),Am("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Am("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Am("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let s=k5(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(u||d)&&(s.pathname+="/"),s}const gi=e=>e.join("/").replace(/\/\/+/g,"/"),N5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,M5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function D5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vC=["post","put","patch","delete"];new Set(vC);const z5=["get",...vC];new Set(z5);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}const _y=w.createContext(null),B5=w.createContext(null),ac=w.createContext(null),Mf=w.createContext(null),qa=w.createContext({outlet:null,matches:[],isDataRoute:!1}),yC=w.createContext(null);function ic(){return w.useContext(Mf)!=null}function Df(){return ic()||et(!1),w.useContext(Mf).location}function bC(e){w.useContext(ac).static||w.useLayoutEffect(e)}function dl(){let{isDataRoute:e}=w.useContext(qa);return e?J5():I5()}function I5(){ic()||et(!1);let e=w.useContext(_y),{basename:t,future:r,navigator:n}=w.useContext(ac),{matches:a}=w.useContext(qa),{pathname:i}=Df(),o=JSON.stringify(pC(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return bC(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=gC(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const $5=w.createContext(null);function L5(e){let t=w.useContext(qa).outlet;return t&&w.createElement($5.Provider,{value:e},t)}function U5(e,t){return q5(e,t)}function q5(e,t,r,n){ic()||et(!1);let{navigator:a}=w.useContext(ac),{matches:i}=w.useContext(qa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let u=Df(),d;if(t){var f;let y=typeof t=="string"?ul(t):t;s==="/"||(f=y.pathname)!=null&&f.startsWith(s)||et(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(s!=="/"){let y=s.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=h5(e,{pathname:m}),b=K5(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gi([s,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?s:gi([s,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&b?w.createElement(Mf.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sa.Pop}},b):b}function H5(){let e=Z5(),t=D5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const W5=w.createElement(H5,null);class V5 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(qa.Provider,{value:this.props.routeContext},w.createElement(yC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G5(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(_y);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(qa.Provider,{value:t},n)}function K5(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let s=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){s=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,b=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||W5,s&&(u<0&&h===0?(Q5("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),v=()=>{let x;return m?x=b:g?x=y:f.route.Component?x=w.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,w.createElement(G5,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(V5,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var xC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xC||{}),wC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wC||{});function F5(e){let t=w.useContext(_y);return t||et(!1),t}function Y5(e){let t=w.useContext(B5);return t||et(!1),t}function X5(e){let t=w.useContext(qa);return t||et(!1),t}function _C(e){let t=X5(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function Z5(){var e;let t=w.useContext(yC),r=Y5(),n=_C();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function J5(){let{router:e}=F5(xC.UseNavigateStable),t=_C(wC.UseNavigateStable),r=w.useRef(!1);return bC(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Cs({fromRouteId:t},i)))},[e,t])}const i1={};function Q5(e,t,r){i1[e]||(i1[e]=!0)}function ez(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function SC(e){let{to:t,replace:r,state:n,relative:a}=e;ic()||et(!1);let{future:i,static:o}=w.useContext(ac),{matches:l}=w.useContext(qa),{pathname:s}=Df(),u=dl(),d=gC(t,pC(l,i.v7_relativeSplatPath),s,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function tz(e){return L5(e.context)}function yn(e){et(!1)}function rz(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Sa.Pop,navigator:i,static:o=!1,future:l}=e;ic()&&et(!1);let s=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:s,navigator:i,static:o,future:Cs({v7_relativeSplatPath:!1},l)}),[s,l,i,o]);typeof n=="string"&&(n=ul(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,b=w.useMemo(()=>{let y=mC(d,s);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:a}},[s,d,f,h,m,g,a]);return b==null?null:w.createElement(ac.Provider,{value:u},w.createElement(Mf.Provider,{children:r,value:b}))}function nz(e){let{children:t,location:r}=e;return U5(og(t),r)}new Promise(()=>{});function og(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,og(n.props.children,i));return}n.type!==yn&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=og(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function az(e,t){let r=lg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const iz="6";try{window.__reactRouterVersion=iz}catch{}const oz="startTransition",o1=vj[oz];function lz(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=u5({window:a,v5Compat:!0}));let o=i.current,[l,s]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&o1?o1(()=>s(f)):s(f)},[s,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>ez(n),[n]),w.createElement(rz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var l1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(l1||(l1={}));var s1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(s1||(s1={}));function jC(e){let t=w.useRef(lg(e)),r=w.useRef(!1),n=Df(),a=w.useMemo(()=>az(n.search,r.current?null:t.current),[n.search]),i=dl(),o=w.useCallback((l,s)=>{const u=lg(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,s)},[i,a]);return[a,o]}var sg=function(e,t){return sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},sg(e,t)};function EC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");sg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var md=function(){return md=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},md.apply(this,arguments)};function fl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function OC(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function CC(e,t){return function(r,n){t(r,n,e)}}function AC(e,t,r,n,a,i){function o(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var l=n.kind,s=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var g={};for(var b in n)g[b]=b==="access"?{}:n[b];for(var b in n.access)g.access[b]=n.access[b];g.addInitializer=function(p){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(p||null))};var y=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[s],g);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&a.unshift(f)}else(f=o(y))&&(l==="field"?a.unshift(f):d[s]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function TC(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function kC(e){return typeof e=="symbol"?e:"".concat(e)}function PC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function NC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function G(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function s(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,s)}u((n=n.apply(e,t||[])).next())})}function RC(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return s([u,d])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var zf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function MC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zf(t,e,r)}function pd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function DC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sy(arguments[t]));return e}function zC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function BC(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ho(e){return this instanceof Ho?(this.v=e,this):new Ho(e)}function IC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(g){return Promise.resolve(g).then(m,f)}}function l(m,g){n[m]&&(a[m]=function(b){return new Promise(function(y,p){i.push([m,b,y,p])>1||s(m,b)})},g&&(a[m]=g(a[m])))}function s(m,g){try{u(n[m](g))}catch(b){h(i[0][3],b)}}function u(m){m.value instanceof Ho?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){s("next",m)}function f(m){s("throw",m)}function h(m,g){m(g),i.shift(),i.length&&s(i[0][0],i[0][1])}}function $C(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Ho(e[a](o)),done:!1}:i?i(o):o}:i}}function LC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof pd=="function"?pd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,s){o=e[i](o),a(l,s,o.done,o.value)})}}function a(i,o,l,s){Promise.resolve(s).then(function(u){i({value:u,done:l})},o)}}function UC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var sz=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},cg=function(e){return cg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},cg(e)};function qC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=cg(e),n=0;n<r.length;n++)r[n]!=="default"&&zf(t,e,r[n]);return sz(t,e),t}function HC(e){return e&&e.__esModule?e:{default:e}}function WC(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function VC(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function GC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function KC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var cz=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function FC(e){function t(i){e.error=e.hasError?new cz(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function YC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const uz={__extends:EC,__assign:md,__rest:fl,__decorate:OC,__param:CC,__esDecorate:AC,__runInitializers:TC,__propKey:kC,__setFunctionName:PC,__metadata:NC,__awaiter:G,__generator:RC,__createBinding:zf,__exportStar:MC,__values:pd,__read:Sy,__spread:DC,__spreadArrays:zC,__spreadArray:BC,__await:Ho,__asyncGenerator:IC,__asyncDelegator:$C,__asyncValues:LC,__makeTemplateObject:UC,__importStar:qC,__importDefault:HC,__classPrivateFieldGet:WC,__classPrivateFieldSet:VC,__classPrivateFieldIn:GC,__addDisposableResource:KC,__disposeResources:FC,__rewriteRelativeImportExtension:YC},dz=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:KC,get __assign(){return md},__asyncDelegator:$C,__asyncGenerator:IC,__asyncValues:LC,__await:Ho,__awaiter:G,__classPrivateFieldGet:WC,__classPrivateFieldIn:GC,__classPrivateFieldSet:VC,__createBinding:zf,__decorate:OC,__disposeResources:FC,__esDecorate:AC,__exportStar:MC,__extends:EC,__generator:RC,__importDefault:HC,__importStar:qC,__makeTemplateObject:UC,__metadata:NC,__param:CC,__propKey:kC,__read:Sy,__rest:fl,__rewriteRelativeImportExtension:YC,__runInitializers:TC,__setFunctionName:PC,__spread:DC,__spreadArray:BC,__spreadArrays:zC,__values:pd,default:uz},Symbol.toStringTag,{value:"Module"})),fz="modulepreload",hz=function(e){return"/"+e},c1={},hl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(s=>{if(s=hz(s),s in c1)return;c1[s]=!0;const u=s.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":fz,u||(f.as="script"),f.crossOrigin="",f.href=s,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},mz=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class jy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class u1 extends jy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class d1 extends jy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class f1 extends jy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ug;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ug||(ug={}));class pz{constructor(t,{headers:r={},customFetch:n,region:a=ug.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=mz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return G(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:s}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:s}).catch(p=>{throw p.name==="AbortError"?p:new u1(p)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new d1(m);if(!m.ok)throw new f1(m);let b=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),y;return b==="application/json"?y=yield m.json():b==="application/octet-stream"||b==="application/pdf"?y=yield m.blob():b==="text/event-stream"?y=m:b==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new u1(i)}:{data:null,error:i,response:i instanceof f1||i instanceof d1?i.context:void 0}}})}}var Rt={};const ml=lj(dz);var Vc={},Gc={},Kc={},Fc={},Yc={},gz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wo=gz();const vz=Wo.fetch,XC=Wo.fetch.bind(Wo),ZC=Wo.Headers,yz=Wo.Request,bz=Wo.Response,Ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZC,Request:yz,Response:bz,default:XC,fetch:vz},Symbol.toStringTag,{value:"Module"})),xz=lj(Ii);var Xc={},h1;function JC(){if(h1)return Xc;h1=1,Object.defineProperty(Xc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Xc.default=e,Xc}var m1;function QC(){if(m1)return Yc;m1=1,Object.defineProperty(Yc,"__esModule",{value:!0});const e=ml,t=e.__importDefault(xz),r=e.__importDefault(JC());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let s=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let g=null,b=null,y=null,p=u.status,v=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=S:b=JSON.parse(S))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,p=406,v="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(b=[],g=null,p=200,v="OK")}catch{u.status===404&&_===""?(p=204,v="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((m=g==null?void 0:g.details)===null||m===void 0)&&m.includes("0 rows"))&&(g=null,p=200,v="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:b,count:y,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return Yc.default=n,Yc}var p1;function eA(){if(p1)return Fc;p1=1,Object.defineProperty(Fc,"__esModule",{value:!0});const t=ml.__importDefault(QC());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:s=l}={}){const u=s?`${s}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const s=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(s,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:s=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Fc.default=r,Fc}var g1;function Ey(){if(g1)return Kc;g1=1,Object.defineProperty(Kc,"__esModule",{value:!0});const t=ml.__importDefault(eA()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(s=>typeof s=="string"&&r.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const s=l?`${l}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Kc.default=n,Kc}var v1;function tA(){if(v1)return Gc;v1=1,Object.defineProperty(Gc,"__esModule",{value:!0});const t=ml.__importDefault(Ey());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},s=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const s="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:s=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Gc.default=r,Gc}var y1;function wz(){if(y1)return Vc;y1=1,Object.defineProperty(Vc,"__esModule",{value:!0});const e=ml,t=e.__importDefault(tA()),r=e.__importDefault(Ey());class n{constructor(i,{headers:o={},schema:l,fetch:s}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=s}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:s=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;l||s?(f=l?"HEAD":"GET",Object.entries(o).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{h.searchParams.append(b,y)})):(f="POST",m=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Vc.default=n,Vc}Object.defineProperty(Rt,"__esModule",{value:!0});var rA=Rt.PostgrestError=fA=Rt.PostgrestBuilder=uA=Rt.PostgrestTransformBuilder=sA=Rt.PostgrestFilterBuilder=oA=Rt.PostgrestQueryBuilder=aA=Rt.PostgrestClient=void 0;const pl=ml,nA=pl.__importDefault(wz());var aA=Rt.PostgrestClient=nA.default;const iA=pl.__importDefault(tA());var oA=Rt.PostgrestQueryBuilder=iA.default;const lA=pl.__importDefault(Ey());var sA=Rt.PostgrestFilterBuilder=lA.default;const cA=pl.__importDefault(eA());var uA=Rt.PostgrestTransformBuilder=cA.default;const dA=pl.__importDefault(QC());var fA=Rt.PostgrestBuilder=dA.default;const hA=pl.__importDefault(JC());rA=Rt.PostgrestError=hA.default;var mA=Rt.default={PostgrestClient:nA.default,PostgrestQueryBuilder:iA.default,PostgrestFilterBuilder:lA.default,PostgrestTransformBuilder:cA.default,PostgrestBuilder:dA.default,PostgrestError:hA.default};const _z=oj({__proto__:null,get PostgrestBuilder(){return fA},get PostgrestClient(){return aA},get PostgrestError(){return rA},get PostgrestFilterBuilder(){return sA},get PostgrestQueryBuilder(){return oA},get PostgrestTransformBuilder(){return uA},default:mA},[Rt]),{PostgrestClient:Sz,PostgrestQueryBuilder:CZ,PostgrestFilterBuilder:AZ,PostgrestTransformBuilder:TZ,PostgrestBuilder:kZ,PostgrestError:PZ}=mA||_z;class jz{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ez="2.78.0",Oz=`realtime-js/${Ez}`,Cz="1.0.0",dg=1e4,Az=1e3,Tz=100;var ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ss||(ss={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var fg;(function(e){e.websocket="websocket"})(fg||(fg={}));var ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ai||(ai={}));class kz{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const s=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:s,payload:u}}}class pA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const b1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Pz(o,e,t,a),i),{}):{}},Pz=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?gA(i,o):hg(o)},gA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Dz(t,r)}switch(e){case Ce.bool:return Nz(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return Rz(t);case Ce.json:case Ce.jsonb:return Mz(t);case Ce.timestamp:return zz(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return hg(t);default:return hg(t)}},hg=e=>e,Nz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Dz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>gA(t,l))}return e},zz=e=>typeof e=="string"?e.replace(" ","T"):e,vA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Tm{constructor(t,r,n={},a=dg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var x1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(x1||(x1={}));class cs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cs.syncState(this.state,a,i,o),this.pendingDiffs.forEach(s=>{this.state=cs.syncDiff(this.state,s,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=cs.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},s={};return this.map(i,(u,d)=>{o[u]||(s[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),b=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),b.length>0&&(s[u]=b)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:s},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,s)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(s),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,s)}),this.map(o,(l,s)=>{let u=t[l];if(!u)return;const d=s.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,s),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(w1||(w1={}));var us;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(us||(us={}));var bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));class Oy{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tm(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new pA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new cs(this),this.broadcastEndpointURL=vA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:l,private:s}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[us.PRESENCE]&&this.bindings[us.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:s};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(bn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(bn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(bn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(g=b==null?void 0:b.length)!==null&&g!==void 0?g:0,p=[];for(let v=0;v<y;v++){const x=b[v],{filter:{event:_,schema:j,table:S,filter:E}}=x,O=m&&m[v];if(O&&O.event===_&&O.schema===j&&O.table===S&&O.filter===E)p.push(Object.assign(Object.assign({},x),{id:O.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(bn.SUBSCRIBED);return}}).receive("error",m=>{this.state=rt.errored,t==null||t(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rt.joined&&t===us.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let s=l.statusText;try{const u=await l.json();s=u.error||u.message||s}catch{}return Promise.reject(new Error(s))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,s;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((s=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||s===void 0)&&s.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Tm(this,Hr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Tm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Tz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:s,leave:u,join:d}=Hr;if(n&&[l,s,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,b,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(b=m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,b,y,p,v,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((b=r.ids)===null||b===void 0?void 0:b.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(v=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:b,table:y,commit_timestamp:p,type:v,errors:x}=g;h=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:p,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Oy.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=b1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=b1(t.columns,t.old_record)),r}}const km=()=>{},Zc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bz=[1e3,2e3,5e3,1e4],Iz=1e4,$z=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dg,this.transport=null,this.heartbeatIntervalMs=Zc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=km,this.ref=0,this.reconnectTimer=null,this.logger=km,this.conn=null,this.sendBuffer=[],this.serializer=new kz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>hl(async()=>{const{default:l}=await Promise.resolve().then(()=>Ii);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fg.websocket}`,this.httpEndpoint=vA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Cz}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return ai.Connecting;case ss.open:return ai.Open;case ss.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Oy(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var s;(s=this.conn)===null||s===void 0||s.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Az,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Zc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",s=i.status||"";this.log("receive",`${s} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$z],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Oz};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Hr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new pA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,s,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:dg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Zc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:km,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(s=t==null?void 0:t.reconnectAfterMs)!==null&&s!==void 0?s:f=>Bz[f-1]||Iz,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Cy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Uz extends Cy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mg extends Cy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Ay=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qz=()=>G(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hl(()=>Promise.resolve().then(()=>Ii),void 0)).Response:Response}),pg=e=>{if(Array.isArray(e))return e.map(r=>pg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=pg(n)}),t},Hz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Pm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Wz=(e,t,r)=>G(void 0,void 0,void 0,function*(){const n=yield qz();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new Uz(Pm(a),i,o))}).catch(a=>{t(new mg(Pm(a),a))}):t(new mg(Pm(e),e))}),Vz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(Hz(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function oc(e,t,r,n,a,i){return G(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Vz(t,n,a,i)).then(s=>{if(!s.ok)throw s;return n!=null&&n.noResolveJson?s:s.json()}).then(s=>o(s)).catch(s=>Wz(s,l,n))})})}function As(e,t,r,n){return G(this,void 0,void 0,function*(){return oc(e,"GET",t,r,n)})}function Ur(e,t,r,n,a){return G(this,void 0,void 0,function*(){return oc(e,"POST",t,n,a,r)})}function gg(e,t,r,n,a){return G(this,void 0,void 0,function*(){return oc(e,"PUT",t,n,a,r)})}function Gz(e,t,r,n){return G(this,void 0,void 0,function*(){return oc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ty(e,t,r,n,a){return G(this,void 0,void 0,function*(){return oc(e,"DELETE",t,n,a,r)})}class Kz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return G(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}var yA;class Fz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[yA]="BlobDownloadBuilder",this.promise=null}asStream(){return new Kz(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return G(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}yA=Symbol.toStringTag;const Yz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xz{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ay(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return G(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},_1),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const s=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,s&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?gg:Ur)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return G(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let s;const u=Object.assign({upsert:_1.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",u.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",u.cacheControl)):(s=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield gg(this.fetch,l.toString(),s,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(t,r){return G(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Cy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return G(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}copy(t,r,n){return G(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return G(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ur(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return G(this,void 0,void 0,function*(){try{const a=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),s=()=>As(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Fz(s,this.shouldThrowOnError)}info(t){return G(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield As(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}exists(t){return G(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Gz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n)&&n instanceof mg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});s!==""&&a.push(s);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return G(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return G(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Yz),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}listV2(t,r){return G(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const bA="2.78.0",xA={"X-Client-Info":`storage-js/${bA}`};class Zz{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xA),r),this.fetch=Ay(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return G(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield As(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}getBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}createBucket(t){return G(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return G(this,void 0,void 0,function*(){try{return{data:yield gg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Jz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xA),r),this.fetch=Ay(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBuckets(t){return G(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield As(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}const ky={"X-Client-Info":`storage-js/${bA}`,"Content-Type":"application/json"};class wA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ir(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Nm extends wA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qz extends wA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var S1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(S1||(S1={}));const Py=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},e4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},j1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t4=(e,t,r)=>G(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Nm(j1(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Nm(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Nm(l,a,o))}}else t(new Qz(j1(e),e))}),r4=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(e4(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function n4(e,t,r,n,a,i){return G(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,r4(t,n,a,i)).then(s=>{if(!s.ok)throw s;if(n!=null&&n.noResolveJson)return s;const u=s.headers.get("content-type");return!u||!u.includes("application/json")?{}:s.json()}).then(s=>o(s)).catch(s=>t4(s,l,n))})})}function or(e,t,r,n,a){return G(this,void 0,void 0,function*(){return n4(e,"POST",t,n,a,r)})}class a4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ky),r),this.fetch=Py(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getIndex(t,r){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listIndexes(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class i4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ky),r),this.fetch=Py(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return G(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getVectors(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listVectors(t){return G(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield or(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}queryVectors(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteVectors(t){return G(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class o4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ky),r),this.fetch=Py(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBuckets(){return G(this,arguments,void 0,function*(t={}){try{return{data:yield or(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class l4 extends o4{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new s4(this.url,this.headers,t,this.fetch)}}class s4 extends a4{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return G(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return G(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return G(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return G(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new c4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class c4 extends i4{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return G(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return G(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return G(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return G(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return G(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class u4 extends Zz{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Xz(this.url,this.headers,t,this.fetch)}get vectors(){return new l4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jz(this.url+"/iceberg",this.headers,this.fetch)}}const d4="2.78.0";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const f4={"X-Client-Info":`supabase-js-${Vl}/${d4}`},h4={headers:f4},m4={schema:"public"},p4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g4={},v4=e=>{let t;return e?t=e:typeof fetch>"u"?t=XC:t=fetch,(...r)=>t(...r)},y4=()=>typeof Headers>"u"?ZC:Headers,b4=(e,t,r)=>{const n=v4(r),a=y4();return async(i,o)=>{var l;const s=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${s}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function x4(e){return e.endsWith("/")?e:e+"/"}function w4(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:s,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},s),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function _4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _A="2.78.0",ao=30*1e3,vg=3,Rm=vg*ao,S4="http://localhost:9999",j4="supabase.auth.token",E4={"X-Client-Info":`gotrue-js/${_A}`},yg="X-Supabase-Api-Version",SA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},O4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C4=10*60*1e3;class Ts extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class A4 extends Ts{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function T4(e){return Y(e)&&e.name==="AuthApiError"}class ii extends Ts{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ha extends Ts{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class $r extends Ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k4(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Ki extends Ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jc extends Ha{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qc extends Ha{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function P4(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class E1 extends Ha{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bg extends Ha{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Mm(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class O1 extends Ha{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xg extends Ha{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C1=` 	
\r=`.split(""),N4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<C1.length;t+=1)e[C1[t].charCodeAt(0)]=-2;for(let t=0;t<gd.length;t+=1)e[gd[t].charCodeAt(0)]=t;return e})();function A1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gd[n]),t.queuedBits-=6}}function jA(e,t,r){const n=N4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function T1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{D4(o,n,r)};for(let o=0;o<e.length;o+=1)jA(e.charCodeAt(o),a,i);return t.join("")}function R4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function M4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}R4(n,t)}}function D4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function To(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)jA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function z4(e){const t=[];return M4(e,r=>t.push(r)),new Uint8Array(t)}function oi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>A1(a,r,n)),A1(null,r,n),t.join("")}function B4(e){return Math.round(Date.now()/1e3)+e}function I4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pt=()=>typeof window<"u"&&typeof document<"u",Fa={tested:!1,writable:!1},EA=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fa.tested)return Fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fa.tested=!0,Fa.writable=!0}catch{Fa.tested=!0,Fa.writable=!1}return Fa.writable};function $4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const OA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},L4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",io=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ya=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},la=async(e,t)=>{await e.removeItem(t)};class Bf{constructor(){this.promise=new Bf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bf.promiseConstructor=Promise;function Dm(e){const t=e.split(".");if(t.length!==3)throw new xg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!O4.test(t[n]))throw new xg("JWT not in base64url format");return{header:JSON.parse(T1(t[0])),payload:JSON.parse(T1(t[1])),signature:To(t[2]),raw:{header:t[0],payload:t[1]}}}async function U4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function q4(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function H4(e){return("0"+e.toString(16)).substr(-2)}function W4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,H4).join("")}async function V4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function G4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await V4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fi(e,t,r=!1){const n=W4();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await io(e,`${t}-code-verifier`,a);const i=await G4(n);return[i,n===i?"plain":"s256"]}const K4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F4(e){const t=e.headers.get(yg);if(!t||!t.match(K4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Y4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function X4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yi(e){if(!Z4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function J4(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function k1(e){return JSON.parse(JSON.stringify(e))}const ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Q4=[502,503,504];async function P1(e){var t;if(!L4(e))throw new bg(ei(e),0);if(Q4.includes(e.status))throw new bg(ei(e),e.status);let r;try{r=await e.json()}catch(i){throw new ii(ei(i),i)}let n;const a=F4(e);if(a&&a.getTime()>=SA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new O1(ei(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new O1(ei(r),e.status,r.weak_password.reasons);throw new A4(ei(r),e.status||500,n)}const e3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function J(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[yg]||(i[yg]=SA["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",s=await t3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(s):{data:Object.assign({},s),error:null}}async function t3(e,t,r,n,a,i){const o=e3(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(s){throw console.error(s),new bg(ei(s),0)}if(l.ok||await P1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(s){await P1(s)}}function Lr(e){var t;let r=null;a3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=B4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function N1(e){const t=Lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ga(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function r3(e){return{data:e,error:null}}function n3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=fl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},s=Object.assign({},o);return{data:{properties:l,user:s},error:null}}function R1(e){return e}function a3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bm=["global","local","others"];class i3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=OA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Bm[0]){if(Bm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bm.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ga})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:n3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ga})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,s;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:R1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Yi(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ga})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yi(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ga})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yi(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ga})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yi(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yi(t.userId),Yi(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,s;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:R1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Y(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function M1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xi={debug:!!(globalThis&&EA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class o3 extends CA{}async function l3(e,t,r){Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function s3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function AA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function c3(e){return parseInt(e,16)}function u3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function d3(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:s,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=AA(e.address),g=d?`${d}://${n}`:n,b=e.statement?`${e.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${m}

${b}`;let p=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(p+=`
Expiration Time: ${a.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),s&&(p+=`
Request ID: ${s}`),u){let v=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}p+=v}return`${y}
${p}`}class Fe extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class vd extends Fe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function f3({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(TA(o)){if(i.rp.id!==o)return new Fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function h3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(TA(n)){if(r.rpId!==n)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class m3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const p3=new m3;function g3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=fl(e,["challenge","user","excludeCredentials"]),i=To(t).buffer,o=Object.assign(Object.assign({},r),{id:To(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const u=n[s];l.excludeCredentials[s]=Object.assign(Object.assign({},u),{id:To(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function v3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=fl(e,["challenge","allowCredentials"]),a=To(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:To(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function y3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:oi(new Uint8Array(e.response.attestationObject)),clientDataJSON:oi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function b3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oi(new Uint8Array(a.authenticatorData)),clientDataJSON:oi(new Uint8Array(a.clientDataJSON)),signature:oi(new Uint8Array(a.signature)),userHandle:a.userHandle?oi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function D1(){var e,t;return!!(Pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function x3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",t)}:{data:null,error:new vd("Empty credential response",t)}}catch(t){return{data:null,error:f3({error:t,options:e})}}}async function w3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",t)}:{data:null,error:new vd("Empty credential response",t)}}catch(t){return{data:null,error:h3({error:t,options:e})}}}const _3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},S3={userVerification:"preferred",hints:["security-key"]};function yd(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=yd(l,o):n[i]=yd(o)}else n[i]=o}return n}function j3(e,t){return yd(_3,e,t||{})}function E3(e,t){return yd(S3,e,t||{})}class O3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const s=a??p3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=j3(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await x3({publicKey:u,signal:s});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=E3(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await w3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:s}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Ts("rpId is required for WebAuthn authentication")};try{if(!D1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:s}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:s.type,rpId:r,rpOrigins:n,credential_response:s.credential_response}})}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Ts("rpId is required for WebAuthn registration")};try{if(!D1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:s,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return s?this._verify({factorId:o.id,challengeId:s.challengeId,webauthn:{rpId:r,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in register",o)}}}}s3();const C3={url:S4,storageKey:j4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function z1(e,t,r){return await r()}const Zi={};class ks{get jwks(){var t,r;return(r=(t=Zi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zi[this.storageKey]=Object.assign(Object.assign({},Zi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zi[this.storageKey]=Object.assign(Object.assign({},Zi[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ks.nextInstanceID,ks.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},C3),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new i3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=OA(a.fetch),this.lock=a.lock||z1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=l3:this.lock=z1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new O3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:EA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=M1(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_A}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=$4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),P4(i)){const s=(t=i.details)===null||t===void 0?void 0:t.code;if(s==="identity_already_exists"||s==="identity_not_found"||s==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?{error:r}:{error:new ii("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Lr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:u,session:s},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Fi(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Lr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lr})}else throw new Jc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:u,session:s},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:N1})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:N1})}else throw new Jc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ki}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,s,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:b,wallet:y,statement:p,options:v}=t;let x;if(Pt())if(typeof y=="object")x=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")x=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),j=await x.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=AA(j[0]);let E=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await x.request({method:"eth_chainId"});E=c3(A)}const O={domain:_.host,address:S,statement:p,uri:_.href,version:"1",chainId:E,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=d3(O),g=await x.request({method:"personal_sign",params:[u3(m),S]})}try{const{data:b,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Lr});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ki}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(Y(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var r,n,a,i,o,l,s,u,d,f,h,m;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:y,wallet:p,statement:v,options:x}=t;let _;if(Pt())if(typeof p=="object")_=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:y,error:p}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:oi(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Lr});if(p)throw p;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ki}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:p})}catch(y){if(Y(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Lr});if(await la(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ki}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Lr}),{data:s,error:u}=l;return u?{data:{user:null,session:null},error:u}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ki}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:u})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:s}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fi(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=s==null?void 0:s.data)!==null&&r!==void 0?r:{},create_user:(n=s==null?void 0:s.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:s}=t,{data:u,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=s==null?void 0:s.data)!==null&&a!==void 0?a:{},create_user:(i=s==null?void 0:s.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},channel:(o=s==null?void 0:s.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Jc("You must provide either an email or phone number.")}catch(l){if(Y(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Lr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const s=o.session,u=o.user;return s!=null&&s.access_token&&(await this._saveSession(s),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:u,session:s},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fi(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:r3})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $r;const{error:a}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Jc("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Rm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ya(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=zm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=J4(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ga}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ga})})}catch(r){if(Y(r))return k4(r)&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new $r;const o=a.session;let l=null,s=null;this.flowType==="pkce"&&t.email!=null&&([l,s]=await Fi(this.storage,this.storageKey));const{data:u,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:s}),jwt:o.access_token,xform:ga});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Dm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:s}=await this._callRefreshToken(t.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:s}=await this._getUser(t.access_token);if(s)throw s;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Pt())throw new Qc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new E1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new E1("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:s,token_type:u}=t;if(!i||!l||!o||!u)throw new Qc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;s&&(h=parseInt(s));const m=h-d;m*1e3<=ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:b,error:y}=await this._getUser(i);if(y)throw y;const p={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(T4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=I4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Fi(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,s,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Pt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:s,access_token:u,nonce:d}=t,f=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:s,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ki}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await q4(async a=>(a>0&&await U4(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Mm(i)&&Date.now()+o-n<ao})}catch(n){if(this._debug(r,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ya(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ya(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await io(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:zm()}else if(a&&!a.user&&!a.user){const o=await Ya(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await la(this.storage,this.storageKey+"-user"),await io(this.storage,this.storageKey,a)):a.user=zm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Rm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Mm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Bf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Y(i)){const o={data:null,error:i};return Mm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(s){i.push(s)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await io(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=k1(a);await io(this.storage,this.storageKey,i)}else{const a=k1(r);await io(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await la(this.storage,this.storageKey),await la(this.storage,this.storageKey+"-code-verifier"),await la(this.storage,this.storageKey+"-user"),this.userStorage&&await la(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ao);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ao}ms, refresh threshold is ${vg} ticks`),a<=vg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof CA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:s,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&s.type==="totp"&&(!((a=s==null?void 0:s.totp)===null||a===void 0)&&a.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?y3(t.webauthn.credential_response):b3(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:s}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:s})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:g3(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:v3(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Dm(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new $r}})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+C4>a)return n;const{data:i,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:s}}=Dm(n);r!=null&&r.allowExpired||Y4(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=X4(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,z4(`${l}.${s}`)))throw new xg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}ks.nextInstanceID=0;const A3=ks;class T3 extends A3{constructor(t){super(t)}}class k3{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=_4(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const s=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:m4,realtime:g4,auth:Object.assign(Object.assign({},p4),{storageKey:s}),global:h4},d=w4(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=b4(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Sz(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new u4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new pz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:s,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new T3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:s,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Lz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const P3=(e,t,r)=>new k3(e,t,r);function N3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}N3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const R3="https://abbysvxnnhwvvzhftoms.supabase.co",M3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",L=P3(R3,M3);function D3(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[a,i]=w.useState(!1),o=dl(),l=async s=>{s.preventDefault(),i(!0);const{error:u}=await L.auth.signInWithPassword({email:e,password:r});u?u.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(u.message):o("/dashboard"),i(!1)};return c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:c.jsxs("form",{onSubmit:l,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[c.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:s=>{s.target.onerror=null,s.target.style.display="none",s.target.nextSibling.style.display="block"}}),c.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),c.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),c.jsx("input",{id:"email",type:"email",value:e,onChange:s=>t(s.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),c.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:s}=await L.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/dashboard?reset=true"});i(!1),alert(s?"Erro ao enviar email: "+s.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),c.jsx("input",{id:"password",type:"password",value:r,onChange:s=>n(s.target.value),className:"input",placeholder:"",required:!0})]}),c.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),c.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[c.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),c.jsx("button",{type:"button",onClick:()=>o("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const Zn=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},Ny=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const l=await o.json(),s=l.estabelecimento||{},u=l.socios&&l.socios.length>0?l.socios[0]:null;return{nome:l.razao_social,fantasia:s.nome_fantasia,doc:t,email:s.email,telefone:s.ddd1&&s.telefone1?`(${s.ddd1}) ${s.telefone1}`:"",address:{logradouro:s.tipo_logradouro?`${s.tipo_logradouro} ${s.logradouro}`:s.logradouro,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cep:s.cep,uf:(n=s.estado)==null?void 0:n.sigla,municipio:(a=s.cidade)==null?void 0:a.nome,cidade:(i=s.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:l}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},z3=async e=>{try{const{data:t,error:r}=await L.functions.invoke("manage-asaas-customer",{body:e});if(r)throw r;return t}catch(t){throw console.error("Erro Asaas Customer:",t),t}},lc=async e=>{const{data:t,error:r}=await L.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},If=async(e,t="invoice")=>{const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await L.functions.invoke("create-asaas-charge",{body:r});if(a)throw a;return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),B1=e=>{const t=I3(e);return t.charAt(0).toUpperCase()+t.slice(1)},kA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),$3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},s)=>w.createElement("svg",{ref:s,...L3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:kA("lucide",a),...!i&&!$3(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(U3,{ref:i,iconNode:t,className:kA(`lucide-${B3(B1(e))}`,`lucide-${e}`,n),...a}));return r.displayName=B1(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],I1=fe("briefcase",q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],W3=fe("calculator",H3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],G3=fe("chart-no-axes-column-increasing",V3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],PA=fe("chevron-down",K3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Y3=fe("chevron-left",F3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Z3=fe("chevron-right",X3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NA=fe("chevron-up",J3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],RA=fe("circle-alert",Q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],MA=fe("circle-check-big",eB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rB=fe("circle-question-mark",tB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aB=fe("clock",nB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],oB=fe("copy",iB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$f=fe("credit-card",lB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ry=fe("dollar-sign",sB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bd=fe("file-text",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],dB=fe("funnel",uB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hB=fe("house",fB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pB=fe("info",mB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Im=fe("layout-dashboard",gB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yB=fe("log-out",vB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xB=fe("map-pin",bB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],_B=fe("megaphone",wB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jB=fe("menu",SB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],My=fe("plus",EB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],CB=fe("save",OB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],DA=fe("search",AB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zA=fe("settings",TB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],PB=fe("square-pen",kB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dy=fe("trash-2",NB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],MB=fe("truck",RB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zB=fe("user-check",DB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],IB=fe("users",BB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BA=fe("x",$B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zy=fe("zap",LB),IA=w.createContext(),$i=()=>{const e=w.useContext(IA);if(!e)throw new Error("useUI must be used within a UIProvider");return e},UB=({children:e})=>{const[t,r]=w.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=w.useRef(null),a=()=>{r(u=>({...u,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(u=>({...u,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(u,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:u,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},l=(u,d="Confirmao",f="Confirmar",h="Cancelar")=>new Promise(m=>{n.current=m,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:u,confirmText:f,cancelText:h,onConfirm:()=>{},onCancel:()=>{}})}),s=()=>{switch(t.variant){case"error":return c.jsx(RA,{size:32,color:"#ef4444"});case"success":return c.jsx(MA,{size:32,color:"#22c55e"});case"warning":return c.jsx(rB,{size:32,color:"#f59e0b"});default:return c.jsx(pB,{size:32,color:"#3b82f6"})}};return c.jsxs(IA.Provider,{value:{showAlert:o,showConfirm:l},children:[e,t.isOpen&&c.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[c.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[c.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:s()}),c.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),c.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:c.jsx(BA,{size:20})})]}),c.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),c.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&c.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:u=>u.currentTarget.style.background="#f9fafb",onMouseOut:u=>u.currentTarget.style.background="white",children:t.cancelText}),c.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:u=>u.currentTarget.style.filter="brightness(0.9)",onMouseOut:u=>u.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),c.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})},$A=w.createContext({}),Jr=()=>w.useContext($A),qB=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[i,o]=w.useState(!0);w.useEffect(()=>{L.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?l(d.user.id):o(!1)});const{data:{subscription:u}}=L.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?l(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const l=async u=>{try{const{data:d,error:f}=await L.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},s={signUp:u=>L.auth.signUp(u),signIn:u=>L.auth.signInWithPassword(u),signOut:()=>L.auth.signOut(),user:t,profile:n,loading:i};return c.jsx($A.Provider,{value:s,children:!i&&e})},gl=e=>e?e.replace(/\D/g,""):"",Lf=e=>{const t=gl(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},Vo=e=>gl(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),HB=e=>{const t=gl(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,l,s;try{for(a=0,s=10,i=0;i<9;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,s=11,i=0;i<10;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},WB=e=>{const t=gl(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);let l=i%11<2?0:11-i%11;if(l!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);return l=i%11<2?0:11-i%11,l==a.charAt(1)},Ei=e=>gl(e).length===11,Uf=e=>{const t=gl(e);return t.length<=11?HB(t):WB(t)},eu=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=w.useState(r);return c.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[c.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[c.jsx("span",{children:e}),n?c.jsx(NA,{size:18}):c.jsx(PA,{size:18})]}),n&&c.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function By({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){var Z;const{showAlert:a,showConfirm:i}=$i(),[o,l]=w.useState([]),[s,u]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(!1),g=C=>{if(!C&&C!==0)return"";const T=Number(C);return isNaN(T)?"":T.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},b=C=>{if(!C||typeof C!="string")return 0;const T=C.replace(/\D/g,"");return Number(T)/1e4},y=(C,T)=>{const N=T.replace(/\D/g,""),U=(Number(N)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});E(ne=>({...ne,[C]:U}))},p=C=>C.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),v=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],x=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],_=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],j=[1,5,10,15,20,25,30],[S,E]=w.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var C,T,N,$,U,ne,ce;O(),A(),e&&E({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:g(e.tarifa_concessionaria),te:g(e.te),tusd:g(e.tusd),fio_b:g(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:p(((C=e.address)==null?void 0:C.cep)||""),rua:((T=e.address)==null?void 0:T.rua)||"",numero:((N=e.address)==null?void 0:N.numero)||"",complemento:(($=e.address)==null?void 0:$.complemento)||"",bairro:((U=e.address)==null?void 0:U.bairro)||"",cidade:((ne=e.address)==null?void 0:ne.cidade)||"",uf:((ce=e.address)==null?void 0:ce.uf)||""})},[e]),w.useEffect(()=>{const C=b(S.tarifa_concessionaria);let T=30;S.tipo_ligacao==="trifasico"?T=100:S.tipo_ligacao==="bifasico"&&(T=50);const $=(C*T).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});E(U=>({...U,tarifa_minima:$}))},[S.tarifa_concessionaria,S.tipo_ligacao]);const O=async()=>{const{data:C}=await L.from("subscribers").select("id, name, cpf_cnpj").order("name");l(C||[])},A=async()=>{const{data:C}=await L.from("usinas").select("id, name").order("name");u(C||[])},k=C=>{const T=p(C.target.value);E(N=>({...N,cep:T}))},z=async()=>{const C=S.cep.replace(/\D/g,"");if(C.length===8){m(!0);try{const T=await Zn(C);if(E(N=>({...N,rua:T.rua||"",bairro:T.bairro||"",cidade:T.cidade||"",uf:T.uf||"",concessionaria:N.concessionaria||""})),T.ibge){const N=await lc(T.ibge);if(N){let $=N["Desconto Assinante"]||0;$>1||($=$*100),E(U=>({...U,rua:T.rua||"",bairro:T.bairro||"",cidade:T.cidade||"",uf:T.uf||"",concessionaria:N.Concessionaria||U.concessionaria,tarifa_concessionaria:N["Tarifa Concessionaria"]?g(N["Tarifa Concessionaria"]):U.tarifa_concessionaria,te:N.TE?g(N.TE):U.te,tusd:N.TUSD?g(N.TUSD):U.tusd,fio_b:N["Fio B"]?g(N["Fio B"]):U.fio_b,desconto_assinante:$.toFixed(2)}))}}}catch(T){console.error("Erro CEP",T),a("Erro ao buscar CEP/Ofertas: "+(T.message||"No encontrado"),"error")}finally{m(!1)}}},P=async C=>{C.preventDefault(),f(!0);try{const T={subscriber_id:S.subscriber_id||null,usina_id:S.usina_id||null,status:S.status,numero_uc:S.numero_uc,titular_conta:S.titular_conta,modalidade:S.modalidade,concessionaria:S.concessionaria,tipo_ligacao:S.tipo_ligacao,franquia:Number(S.franquia),tarifa_concessionaria:b(S.tarifa_concessionaria),te:b(S.te),tusd:b(S.tusd),fio_b:b(S.fio_b),desconto_assinante:Number(S.desconto_assinante),dia_vencimento:Number(S.dia_vencimento),address:{cep:S.cep.replace(/\D/g,""),rua:S.rua,numero:S.numero,complemento:S.complemento,bairro:S.bairro,cidade:S.cidade,uf:S.uf}};if(!T.subscriber_id)throw new Error("Assinante  obrigatrio.");let N;if(e!=null&&e.id?N=await L.from("consumer_units").update(T).eq("id",e.id).select().single():N=await L.from("consumer_units").insert(T).select().single(),N.error)throw N.error;r(N.data),t()}catch(T){a("Erro ao salvar UC: "+T.message,"error")}finally{f(!1)}},W=async()=>{if(await i("Excluir esta Unidade Consumidora?")){f(!0);try{const{error:T}=await L.from("consumer_units").delete().eq("id",e.id);if(T)throw T;n&&n(e.id),t()}catch(T){a("Erro ao excluir: "+T.message,"error")}finally{f(!1)}}},H=((Z=o.find(C=>C.id===S.subscriber_id))==null?void 0:Z.name)||"";return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:e?H?`Editar UC - ${H}`:"Editar UC":"Nova Unidade Consumidora"}),c.jsx("button",{onClick:t,className:"modal-close",children:""})]}),c.jsxs("form",{onSubmit:P,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[c.jsx("label",{className:"label",children:"Status da Unidade"}),c.jsx("select",{value:S.status,onChange:C=>E({...S,status:C.target.value}),className:"select",style:{maxWidth:"300px"},children:v.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs(eu,{title:"Vnculos",defaultOpen:!0,children:[c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"label",children:["Assinante ",c.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),c.jsxs("select",{required:!0,value:S.subscriber_id,onChange:C=>E({...S,subscriber_id:C.target.value}),className:"select",children:[c.jsx("option",{value:"",children:"Selecione..."}),o.map(C=>c.jsxs("option",{value:C.id,children:[C.name," (",C.cpf_cnpj,")"]},C.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Usina (Opcional)"}),c.jsxs("select",{value:S.usina_id,onChange:C=>E({...S,usina_id:C.target.value}),className:"select",children:[c.jsx("option",{value:"",children:"Selecione..."}),s.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))]})]})]}),c.jsxs(eu,{title:"Endereo de Instalao",defaultOpen:!0,children:[c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{width:"150px"},children:[c.jsx("label",{className:"label",children:"CEP"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{value:S.cep,onChange:k,onBlur:z,placeholder:"00000-000",maxLength:9,className:"input"}),h&&c.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{className:"label",children:"Concessionria (Auto)"}),c.jsx("input",{value:S.concessionaria,onChange:C=>E({...S,concessionaria:C.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),c.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{className:"label",children:"Rua"}),c.jsx("input",{value:S.rua,onChange:C=>E({...S,rua:C.target.value}),className:"input"})]}),c.jsxs("div",{style:{width:"100px"},children:[c.jsx("label",{className:"label",children:"Nmero"}),c.jsx("input",{value:S.numero,onChange:C=>E({...S,numero:C.target.value}),className:"input"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Bairro"}),c.jsx("input",{value:S.bairro,onChange:C=>E({...S,bairro:C.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Complemento"}),c.jsx("input",{value:S.complemento,onChange:C=>E({...S,complemento:C.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Cidade"}),c.jsx("input",{value:S.cidade,onChange:C=>E({...S,cidade:C.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"UF"}),c.jsx("input",{value:S.uf,onChange:C=>E({...S,uf:C.target.value}),className:"input"})]})]}),c.jsxs(eu,{title:"Dados da Unidade",defaultOpen:!0,children:[c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"label",children:["Nmero da UC ",c.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),c.jsx("input",{required:!0,value:S.numero_uc,onChange:C=>E({...S,numero_uc:C.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),c.jsx("input",{required:!0,value:S.titular_conta,onChange:C=>E({...S,titular_conta:C.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]})]}),c.jsxs(eu,{title:"Dados Tcnicos e Comerciais",defaultOpen:!0,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Tipo de Ligao"}),c.jsx("select",{value:S.tipo_ligacao,onChange:C=>E({...S,tipo_ligacao:C.target.value}),className:"select",children:_.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Modalidade"}),c.jsx("select",{value:S.modalidade,onChange:C=>E({...S,modalidade:C.target.value}),className:"select",children:x.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),c.jsx("input",{type:"text",value:S.tarifa_concessionaria,onChange:C=>y("tarifa_concessionaria",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),c.jsx("input",{type:"text",value:S.te,onChange:C=>y("te",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),c.jsx("input",{type:"text",value:S.tusd,onChange:C=>y("tusd",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),c.jsx("input",{type:"text",value:S.fio_b,onChange:C=>y("fio_b",C.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),c.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[c.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),c.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:S.tarifa_minima||"R$ 0,00"}),c.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",S.tipo_ligacao,") x Tarifa."]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),c.jsx("input",{type:"number",step:"0.01",value:S.desconto_assinante,onChange:C=>E({...S,desconto_assinante:C.target.value}),placeholder:"%",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),c.jsx("input",{type:"number",value:S.franquia,onChange:C=>E({...S,franquia:C.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Dia de Vencimento"}),c.jsx("select",{value:S.dia_vencimento,onChange:C=>E({...S,dia_vencimento:C.target.value}),className:"select",children:j.map(C=>c.jsx("option",{value:C,children:C},C))})]})]}),c.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&c.jsx("button",{type:"button",onClick:W,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Salvando...":"Salvar UC"})]})]})]})})}function Iy({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),{profile:o}=Jr(),[l,s]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState(!1),[m,g]=w.useState(!1),b=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[y,p]=w.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[v,x]=w.useState(!1),[_,j]=w.useState(!1),[S,E]=w.useState(!1);w.useEffect(()=>{O(),e&&(p({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),A(e.id))},[e]);const O=async()=>{const{data:C}=await L.from("originators_v2").select("id, name").order("name");s(C||[])},A=async C=>{const{data:T}=await L.from("consumer_units").select("*").eq("subscriber_id",C);d(T||[])},k=async()=>{const C=y.cep.replace(/\D/g,"");if(C.length===8){j(!0);try{const T=await Zn(C);p(N=>({...N,rua:T.rua||"",bairro:T.bairro||"",cidade:T.cidade||"",uf:T.uf||""}))}catch(T){console.error("Erro ao buscar CEP:",T),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{j(!1)}}},z=async()=>{const C=y.cpf_cnpj.replace(/\D/g,"");if(C.length>=11){E(!0);try{const T=await Ny(C);T.nome&&p(N=>({...N,name:T.nome}))}catch(T){console.error("Erro buscar doc",T)}finally{E(!1)}}},P=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${y.name}?`)){h(!0);try{const T=await If(e.id,"subscriber");T.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(T.url,"_blank"))}catch(T){console.error(T),a("Erro: "+(T.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{h(!1)}}},W=async C=>{if(C.preventDefault(),!Uf(y.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(y.phone&&!Ei(y.phone)){a("Telefone invlido!","warning");return}x(!0);try{const T=y.cpf_cnpj.replace(/\D/g,"");let N=L.from("subscribers").select("id").eq("cpf_cnpj",y.cpf_cnpj);e!=null&&e.id&&(N=N.neq("id",e.id));const{data:$,error:U}=await N;if(U)throw U;if($&&$.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");let ne=null,ce=!1;try{const ue=await z3({id:e==null?void 0:e.asaas_customer_id,name:y.name,cpfCnpj:y.cpf_cnpj,email:y.email,phone:y.phone,postalCode:y.cep,addressNumber:y.numero,address:y.rua,province:y.bairro});if(!ue||!ue.success)throw new Error((ue==null?void 0:ue.error)||"Erro desconhecido");ne=ue.asaas_id,ce=!0}catch(ue){if(console.error("Asaas Sync Error:",ue),!await i(`Falha ao sincronizar com Asaas: ${ue.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao")){x(!1);return}}const le={...y};ne&&(le.asaas_customer_id=ne),le.originator_id===""&&(le.originator_id=null);let he;if(e!=null&&e.id?he=await L.from("subscribers").update(le).eq("id",e.id).select().single():he=await L.from("subscribers").insert(le).select().single(),he.error)throw he.error;ce?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let ue=null;if(le.status==="ativacao"?ue="ativacao":le.status==="ativo"&&(ue="ativo"),ue&&le.email){const{data:D,error:q}=await L.from("leads").select("id, status").eq("email",le.email).order("created_at",{ascending:!1}).limit(1);if(!q&&D&&D.length>0){const ae=D[0];if(ae.status!==ue){const{error:M}=await L.from("leads").update({status:ue}).eq("id",ae.id);M?console.error("Error auto-updating lead status:",M):console.log(`Lead ${ae.id} auto-updated to ${ue}`)}}}}catch(ue){console.error("Lead sync error:",ue)}r(he.data),t()}catch(T){console.error(T),a("Erro ao salvar assinante: "+T.message,"error")}finally{x(!1)}},H=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){x(!0);try{const{error:T}=await L.from("subscribers").delete().eq("id",e.id);if(T)throw T;n&&n(e.id),t()}catch(T){a("Erro ao excluir: "+T.message,"error")}finally{x(!1)}}},Z=async C=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:N}=await L.from("consumer_units").update({subscriber_id:null}).eq("id",C);if(N)throw N;A(e.id),a("UC desvinculada com sucesso!","success")}catch(N){console.error(N),a("Erro ao desvincular UC: "+N.message,"error")}};return c.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),c.jsxs("form",{onSubmit:W,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsx("select",{value:y.status,onChange:C=>p({...y,status:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:b.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),c.jsxs("select",{value:y.originator_id,onChange:C=>p({...y,originator_id:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),l.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),c.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:c.jsx("input",{value:y.cpf_cnpj,onChange:C=>p({...y,cpf_cnpj:Lf(C.target.value)}),onBlur:z,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:S?"#f0f9ff":"white"},required:!0})})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),c.jsx("input",{required:!0,value:y.name,onChange:C=>p({...y,name:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),c.jsx("input",{type:"email",value:y.email,onChange:C=>p({...y,email:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),c.jsx("input",{value:y.phone,onChange:C=>p({...y,phone:Vo(C.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),c.jsx("input",{value:y.cep,onChange:C=>p({...y,cep:C.target.value}),onBlur:k,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:_?"#f0f9ff":"white"}})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),c.jsx("input",{value:`${y.cidade} - ${y.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),c.jsx("input",{value:y.rua,onChange:C=>p({...y,rua:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),c.jsx("input",{value:y.numero,onChange:C=>p({...y,numero:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),c.jsx("input",{value:y.complemento,onChange:C=>p({...y,complemento:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),c.jsx("input",{value:y.bairro,onChange:C=>p({...y,bairro:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx("span",{children:"Unidades Consumidoras (UCs)"}),(e==null?void 0:e.id)&&c.jsxs("button",{type:"button",onClick:()=>g(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:[c.jsx(My,{size:16})," Cadastrar UCs"]})]}),c.jsx("div",{style:{gridColumn:"1 / -1"},children:u.length>0?c.jsx("ul",{style:{listStyle:"none",padding:0},children:u.map(C=>{var T;return c.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsxs("span",{children:["UC: ",C.numero_uc," - ",C.concessionaria]}),c.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"#666"},children:(T=C.status)==null?void 0:T.replace("_"," ").toUpperCase()})]}),c.jsx("button",{type:"button",onClick:()=>Z(C.id),style:{padding:"0.3rem",background:"transparent",border:"none",color:"#a1a1aa",cursor:"pointer"},title:"Desvincular UC",children:c.jsx(Dy,{size:16})})]},C.id)})}):c.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[c.jsx("div",{children:(e==null?void 0:e.id)&&c.jsx("button",{type:"button",onClick:P,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:f?"Processando...":c.jsxs(c.Fragment,{children:[c.jsx($f,{size:18})," Emitir Fatura Consolidada"]})})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&c.jsx("button",{type:"button",onClick:H,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:v,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:v?"Salvando...":"Salvar Assinante"})]})]})]})]}),m&&e&&c.jsx(By,{consumerUnit:{subscriber_id:e.id},onClose:()=>g(!1),onSave:()=>{A(e.id),g(!1)}})]})}function VB(){const[e]=jC(),{showAlert:t}=$i(),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,l]=w.useState(!1),[s,u]=w.useState(null),d=e.get("id");e.get("originador");const[f,h]=w.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[m,g]=w.useState(null),b=async()=>{const E=f.cep.replace(/\D/g,"");if(E.length===8){n(!0);try{const O=await Zn(E);if(h(A=>({...A,street:O.rua,neighborhood:O.bairro,city:O.cidade,uf:O.uf})),O.ibge){const A=await lc(O.ibge);A?(g(A),h(k=>({...k,concessionaria:A.Concessionaria||""}))):(g(null),h(k=>({...k,concessionaria:""})))}}catch(O){console.error("Error fetching CEP:",O)}finally{n(!1)}}},y=()=>{if(!m)return 0;const E=Number(m["Tarifa Concessionaria"])||0;let A=Number(m["Desconto Assinante"])||0;return A>1&&(A=A/100),f.consumo*E*A},p=async E=>{E.preventDefault(),n(!0);try{const O=y(),k=d&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(d)?d:null,z={name:f.name,email:f.email,phone:f.phone,cep:f.cep,concessionaria:f.concessionaria,consumo_kwh:f.consumo,calculated_discount:O,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,tarifa_concessionaria:Number(m==null?void 0:m["Tarifa Concessionaria"])||0,desconto_assinante:Number(m==null?void 0:m["Desconto Assinante"])||0,status:"simulacao",originator_id:k},{data:P,error:W}=await L.from("leads").insert(z).select().single();if(W)throw W;P&&u(P),i(!0)}catch(O){console.error("Error saving lead:",O);const A=O.message||"Erro ao processar simulao. Tente novamente.";t(A,"error")}finally{n(!1)}},v=async E=>{if(s!=null&&s.id)try{const{error:O}=await L.from("leads").update({status:"ativacao"}).eq("id",s.id);O?console.error("Failed to update lead status:",O):console.log("Lead status updated to 'ativacao'")}catch(O){console.error("Error updating lead status:",O)}l(!1)},x=E=>E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),_={primary:"#003366",accent:"#FF6600"},j={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:_.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:_.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:_.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},S=y();return c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:j.wrapper,children:[c.jsx("h2",{style:j.header,children:"Saiba o valor do seu desconto"}),c.jsxs("form",{onSubmit:p,style:j.formSpace,children:[c.jsx("div",{style:j.grid,children:c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:j.label,children:"CEP"}),c.jsx("input",{type:"text",maxLength:"9",value:f.cep,onChange:E=>{let O=E.target.value.replace(/\D/g,"");O.length>5&&(O=O.replace(/^(\d{5})(\d)/,"$1-$2")),h({...f,cep:O})},onBlur:b,style:j.input,placeholder:"00000-000",required:!0})]})}),c.jsxs("div",{children:[c.jsx("label",{style:j.label,children:"Nome Completo"}),c.jsx("input",{type:"text",value:f.name,onChange:E=>h({...f,name:E.target.value}),style:j.input,placeholder:"Como devemos te chamar?",required:!0})]}),c.jsxs("div",{style:j.grid,children:[c.jsxs("div",{children:[c.jsx("label",{style:j.label,children:"E-mail"}),c.jsx("input",{type:"email",value:f.email,onChange:E=>h({...f,email:E.target.value}),style:j.input,placeholder:"exemplo@email.com",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{style:j.label,children:"WhatsApp"}),c.jsx("input",{type:"tel",maxLength:"15",value:f.phone,onChange:E=>{let O=E.target.value.replace(/\D/g,"");O=O.replace(/^(\d{2})(\d)/g,"($1) $2"),O=O.replace(/(\d)(\d{4})$/,"$1-$2"),h({...f,phone:O})},style:j.input,placeholder:"(00) 00000-0000",required:!0})]})]}),c.jsxs("div",{style:j.rangeContainer,children:[c.jsxs("div",{style:j.rangeLabelRow,children:[c.jsx("label",{style:j.label,children:"Mdia de Gasto Mensal (kWh)"}),c.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:_.accent},children:[f.consumo," kWh"]})]}),c.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:f.consumo,onChange:E=>h({...f,consumo:Number(E.target.value)}),style:j.rangeInput}),c.jsxs("div",{style:j.rangeTicks,children:[c.jsx("span",{children:"0 kWh"}),c.jsx("span",{children:"10.000+ kWh"})]})]}),c.jsx("button",{type:"submit",disabled:r,style:j.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:c.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[c.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:c.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),c.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),c.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[c.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),c.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),c.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.name})]}),c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),c.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:f.concessionaria})]}),c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),c.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[x((s==null?void 0:s.calculated_discount)||S),c.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),c.jsx("button",{onClick:()=>{i(!1),l(!0)},style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:_.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})}),o&&c.jsx(Iy,{subscriber:{name:f.name,email:f.email,phone:f.phone,cep:f.cep,rua:f.street,numero:f.number,bairro:f.neighborhood,cidade:f.city,uf:f.uf,status:"ativacao",originator_id:d||""},onClose:()=>l(!1),onSave:v})]})}function GB(){return c.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:c.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:c.jsx(VB,{})})})}function KB(){const{showAlert:e}=$i(),[t,r]=w.useState(!1),[n,a]=w.useState(1),[i,o]=w.useState(null);pf.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[l,s]=w.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[u,d]=w.useState(!1),f=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),m=async()=>{const v=l.cep.replace(/\D/g,"");if(v.length===8){r(!0);try{const x=await Zn(v);s(_=>({..._,street:x.rua,neighborhood:x.bairro,city:x.cidade,uf:x.uf}))}catch(x){console.error("Error fetching CEP:",x)}finally{r(!1)}}},g=async v=>{v.preventDefault(),r(!0);try{const{data:x,error:_}=await L.auth.signUp({email:l.email,password:l.password,options:{data:{name:l.name,phone:l.phone}}});if(_)throw _;x!=null&&x.user&&(o(x.user.id),a(2))}catch(x){console.error("Error signing up:",x),e(x.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},b=async v=>{v.preventDefault(),r(!0);try{const x={id:i,name:l.name,email:l.email,phone:l.phone,cpf_cnpj:l.cpf,pix_key:l.pix_key,pix_key_type:l.pix_key_type,profession:l.profession,address:{cep:l.cep,street:l.street,number:l.number,neighborhood:l.neighborhood,city:l.city,uf:l.uf,complement:l.complement}},{error:_}=await L.from("originators_v2").insert(x);if(_)throw _;a(3)}catch(x){console.error("Error saving profile:",x),e(x.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},y={primary:"#003366",accent:"#FF6600"},p={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:y.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:y.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?c.jsxs("div",{style:p.wrapper,children:[c.jsx("h2",{style:p.header,children:"Seja um Parceiro B2W"}),c.jsxs("form",{onSubmit:g,style:p.formSpace,children:[c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"Nome Completo"}),c.jsx("input",{type:"text",value:l.name,onChange:v=>s({...l,name:v.target.value}),style:p.input,required:!0})]}),c.jsxs("div",{style:p.grid,children:[c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"E-mail"}),c.jsx("input",{type:"email",value:l.email,onChange:v=>s({...l,email:v.target.value}),style:p.input,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"WhatsApp"}),c.jsx("input",{type:"tel",maxLength:"15",value:l.phone,onChange:v=>{let x=v.target.value.replace(/\D/g,"");x=x.replace(/^(\d{2})(\d)/g,"($1) $2"),x=x.replace(/(\d)(\d{4})$/,"$1-$2"),s({...l,phone:x})},style:p.input,required:!0})]})]}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx("label",{style:p.label,children:"Senha"}),c.jsx("input",{type:u?"text":"password",value:l.password,onChange:v=>s({...l,password:v.target.value}),style:{...p.input,paddingRight:"2.5rem"},required:!0,minLength:6}),c.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:u?c.jsx(h,{}):c.jsx(f,{})})]}),c.jsx("button",{type:"submit",disabled:t,style:p.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:c.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&c.jsxs("form",{onSubmit:b,style:p.formSpace,children:[c.jsx("h3",{style:{...p.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),c.jsx("div",{style:p.grid,children:c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:p.label,children:"CEP"}),c.jsx("input",{type:"text",maxLength:"9",value:l.cep,onChange:v=>{let x=v.target.value.replace(/\D/g,"");x.length>5&&(x=x.replace(/^(\d{5})(\d)/,"$1-$2")),s({...l,cep:x})},onBlur:m,style:p.input,required:!0})]})}),c.jsxs("div",{style:p.grid,children:[c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:p.label,children:"Rua"}),c.jsx("input",{value:l.street,style:p.input,readOnly:!0})]}),c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"Bairro"}),c.jsx("input",{value:l.neighborhood,style:p.input,readOnly:!0})]}),c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"Cidade / UF"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{value:l.city,style:{...p.input,flex:2},readOnly:!0}),c.jsx("input",{value:l.uf,style:{...p.input,flex:1},readOnly:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"Nmero"}),c.jsx("input",{value:l.number,onChange:v=>s({...l,number:v.target.value}),style:p.input,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"Complemento"}),c.jsx("input",{value:l.complement,onChange:v=>s({...l,complement:v.target.value}),style:p.input,placeholder:"Ap 101, Bloco B"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"Profisso"}),c.jsx("input",{type:"text",value:l.profession,onChange:v=>s({...l,profession:v.target.value}),style:p.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),c.jsxs("div",{style:p.grid,children:[c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"CPF (Chave PIX)"}),c.jsx("input",{type:"text",value:l.cpf,onChange:v=>{let x=v.target.value.replace(/\D/g,"");x.length>11&&(x=x.substring(0,11)),x=x.replace(/(\d{3})(\d)/,"$1.$2"),x=x.replace(/(\d{3})(\d)/,"$1.$2"),x=x.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),s(_=>({..._,cpf:x,pix_key:_.pix_key_type==="cpf"?x:_.pix_key}))},style:p.input,required:!0,placeholder:"000.000.000-00"})]}),c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"Tipo Chave PIX"}),c.jsxs("select",{value:l.pix_key_type,onChange:v=>{const x=v.target.value;s(_=>({..._,pix_key_type:x,pix_key:x==="cpf"?_.cpf:""}))},style:p.input,children:[c.jsx("option",{value:"cpf",children:"CPF"}),c.jsx("option",{value:"email",children:"E-mail"}),c.jsx("option",{value:"phone",children:"Telefone"}),c.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),l.pix_key_type!=="cpf"&&c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"Chave PIX"}),c.jsx("input",{value:l.pix_key,onChange:v=>s({...l,pix_key:v.target.value}),style:p.input,required:!0})]}),c.jsx("button",{type:"submit",disabled:t,style:p.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h3",{style:{...p.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),c.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),c.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:p.button,children:"Ir para Login"})]})]})})}class FB extends pf.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?c.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[c.jsx("h2",{children:"Algo deu errado."}),c.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),c.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function YB(){return pf.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),c.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:c.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:c.jsx(FB,{children:c.jsx(KB,{})})})})}function XB(){const e=dl(),[t,r]=w.useState(!1),[n,a]=w.useState(1),[i,o]=w.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),l=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await Ny(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},s=async()=>{if(i.cep.length>=8){r(!0);try{const f=await Zn(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await L.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const g=h.user.id,{error:b}=await L.from("profiles").upsert({id:g,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});b&&console.error("Erro ao criar/atualizar perfil:",b);const{data:y,error:p}=await L.from("subscribers").insert({profile_id:g,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(p)throw p;await L.from("consumer_units").insert({subscriber_id:y.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return c.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:c.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[c.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&c.jsx("form",{onSubmit:u,children:c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{children:"CPF/CNPJ"}),c.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:l,style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Nome Completo"}),c.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Senha"}),c.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Telefone"}),c.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&c.jsx("form",{onSubmit:d,children:c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{children:"CEP da Unidade Consumidora"}),c.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Rua"}),c.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),c.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Nmero da Instalao (UC)"}),c.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}function ZB({user:e,onClose:t,onSave:r}){const[n,a]=w.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=w.useState(!1),[l,s]=w.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};w.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await L.from("profiles").select("id, name, role").neq("id",e.id);if(m){const g=u[h]||99,b=m.filter(y=>(u[y.role]||99)<g);s(b)}},f=async h=>{if(h.preventDefault(),n.phone&&!Ei(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:g}=await L.from("profiles").update(m).eq("id",e.id);if(g)throw g;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:"Editar Usurio"}),c.jsx("button",{onClick:t,className:"modal-close",children:""})]}),c.jsxs("form",{onSubmit:f,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Nome"}),c.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Telefone"}),c.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:Vo(h.target.value)}),className:"input"})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Funo (Role)"}),c.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[c.jsx("option",{value:"lead",children:"Lead"}),c.jsx("option",{value:"subscriber",children:"Assinante"}),c.jsx("option",{value:"originator",children:"Originador"}),c.jsx("option",{value:"supplier",children:"Fornecedor"}),c.jsx("option",{value:"coordinator",children:"Coordenador"}),c.jsx("option",{value:"manager",children:"Gerente"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Superior Imediato"}),c.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[c.jsx("option",{value:"",children:"Sem superior"}),l.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),c.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[c.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),c.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),c.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function JB(){const{user:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(null),[l,s]=w.useState(""),[u,d]=w.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=y=>f[y]||99;w.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:y,error:p}=await L.from("profiles").select("*").order("name");if(p)throw p;r(y||[])}catch(y){console.error("Error fetching users:",y),alert("Erro ao buscar usurios")}finally{a(!1)}},g=y=>{r(t.map(p=>p.id===y.id?y:p)),alert("Perfil atualizado com sucesso!")},b=t.filter(y=>{var x,_;const p=(((x=y.name)==null?void 0:x.toLowerCase())||"").includes(l.toLowerCase())||(((_=y.email)==null?void 0:_.toLowerCase())||"").includes(l.toLowerCase()),v=u?y.role===u:!0;return p&&v}).sort((y,p)=>h(y.role)-h(p.role));return c.jsxs("div",{children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:c.jsx("h2",{children:"Painel Administrativo"})}),c.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[c.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[c.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[c.jsx("input",{placeholder:"Buscar por nome ou email...",value:l,onChange:y=>s(y.target.value),className:"input",style:{width:"250px"}}),c.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"select",style:{width:"auto"},children:[c.jsx("option",{value:"",children:"Todos os Perfis"}),c.jsx("option",{value:"super_admin",children:"Super Admin"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"manager",children:"Gerente"}),c.jsx("option",{value:"coordinator",children:"Coordenador"}),c.jsx("option",{value:"supplier",children:"Fornecedor"}),c.jsx("option",{value:"originator",children:"Originador"}),c.jsx("option",{value:"subscriber",children:"Assinante"}),c.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?c.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Hierarquia"}),c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Perfil (Role)"}),c.jsx("th",{children:"Comisso (Start/Rec.)"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:b.map(y=>{var p,v;return c.jsxs("tr",{children:[c.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(y.role)]}),c.jsx("td",{children:y.name||"-"}),c.jsx("td",{children:y.email}),c.jsx("td",{children:c.jsx("span",{className:"badge badge-neutral",children:y.role})}),c.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((p=y.commission_split)==null?void 0:p.start)||0,"% / ",((v=y.commission_split)==null?void 0:v.recorrente)||0,"%"]}),c.jsx("td",{children:c.jsx("button",{onClick:()=>o(y),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})]}),i&&c.jsx(ZB,{user:i,onClose:()=>o(null),onSave:g})]})}function LA({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=Jr(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),[o,l]=w.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",iluminacao_publica:"",tarifa_minima:"",outros_lancamentos:"",status:"a_vencer",valor_a_pagar:"",economia_reais:"",consumo_reais:""}),[s,u]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState(!1),g=_=>!_&&_!==0?"R$ 0,00":Number(_).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),b=_=>_?typeof _=="number"?_:Number(_.replace(/\D/g,""))/100:0;w.useEffect(()=>{if(e){if(l({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,iluminacao_publica:e.iluminacao_publica?g(e.iluminacao_publica):"",tarifa_minima:e.tarifa_minima?g(e.tarifa_minima):"",outros_lancamentos:e.outros_lancamentos?g(e.outros_lancamentos):"",valor_a_pagar:g(e.valor_a_pagar),economia_reais:g(e.economia_reais),consumo_reais:e.consumo_reais?g(e.consumo_reais):"",status:e.status}),t){const _=t.find(j=>j.id===e.uc_id);u(_)}}else t&&t.length>0&&(l(_=>({..._,uc_id:t[0].id})),u(t[0]))},[e,t]),w.useEffect(()=>{if(o.uc_id&&t){const _=t.find(j=>j.id===o.uc_id);u(_)}},[o.uc_id,t]),w.useEffect(()=>{if(o.consumo_kwh&&s){const _=Number(o.consumo_kwh);b(String(s.tarifa_concessionaria||"0"));const j=Number(s.tarifa_concessionaria)||0,S=Number(s.desconto_assinante)||0,E=_*j;let O=0;const A=S>1?S/100:S;O=E*A;const k=E-O,z=b(o.iluminacao_publica),P=b(o.tarifa_minima),W=b(o.outros_lancamentos),H=k+z+P+W;l(Z=>({...Z,economia_reais:g(O),consumo_reais:g(k),valor_a_pagar:g(H)}))}},[o.consumo_kwh,o.iluminacao_publica,o.tarifa_minima,o.outros_lancamentos,s]);const y=(_,j)=>{const S=j.replace(/\D/g,""),O=(Number(S)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});l(A=>({...A,[_]:O}))},p=(_,j)=>{const S=o.mes_referencia.split("-");let E=S[0]||new Date().getFullYear(),O=S[1]||"01";_==="month"&&(O=j),_==="year"&&(E=j),l(A=>({...A,mes_referencia:`${E}-${O}`}))},v=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const _=await If(e.id);_.url&&(alert("Boleto gerado com sucesso!"),window.open(_.url,"_blank"),n(),r())}catch(_){console.error(_),alert("Erro ao gerar boleto: "+_.message)}finally{m(!1)}}},x=async _=>{_.preventDefault(),f(!0);try{const j={uc_id:o.uc_id,mes_referencia:`${o.mes_referencia}-01`,vencimento:o.vencimento,consumo_kwh:Number(o.consumo_kwh),consumo_reais:b(o.consumo_reais),iluminacao_publica:b(o.iluminacao_publica),tarifa_minima:b(o.tarifa_minima),outros_lancamentos:b(o.outros_lancamentos),valor_a_pagar:b(o.valor_a_pagar),economia_reais:b(o.economia_reais),status:o.status};if(!j.uc_id)throw new Error("Selecione uma Unidade Consumidora.");let S;if(e!=null&&e.id?S=await L.from("invoices").update(j).eq("id",e.id).select().single():S=await L.from("invoices").insert(j).select().single(),S.error)throw S.error;n(),r()}catch(j){alert("Erro ao salvar fatura: "+j.message)}finally{f(!1)}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:c.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"800px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[c.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"1.25rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Fatura":"Nova Fatura"}),c.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Preencha os dados de consumo e valores"})]}),c.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8"},children:""})]}),c.jsxs("form",{onSubmit:x,style:{padding:"1.5rem"},children:[c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Unidade Consumidora"}),c.jsxs("select",{required:!0,value:o.uc_id,onChange:_=>l({...o,uc_id:_.target.value}),disabled:!!e,style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"0.95rem",background:"white"},children:[c.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(_=>c.jsxs("option",{value:_.id,children:[_.numero_uc," - ",_.titular_conta]},_.id))]}),s&&c.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#3b82f6",background:"#eff6ff",padding:"0.5rem",borderRadius:"4px",display:"inline-flex",gap:"1rem"},children:[c.jsxs("span",{children:[c.jsx("strong",{children:"Tarifa:"})," R$ ",Number(s.tarifa_concessionaria||0).toFixed(4)]}),c.jsxs("span",{children:[c.jsx("strong",{children:"Desconto:"})," ",s.desconto_assinante||0,"%"]})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Ms Referncia"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("select",{value:o.mes_referencia.split("-")[1],onChange:_=>p("month",_.target.value),style:{flex:1,padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((_,j)=>c.jsx("option",{value:_,children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][j]},_))}),c.jsx("select",{value:o.mes_referencia.split("-")[0],onChange:_=>p("year",_.target.value),style:{width:"80px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:Array.from({length:5},(_,j)=>new Date().getFullYear()-1+j).map(_=>c.jsx("option",{value:_,children:_},_))})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Vencimento"}),c.jsx("input",{type:"date",required:!0,value:o.vencimento,onChange:_=>l({...o,vencimento:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),i&&c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status"}),c.jsxs("select",{value:o.status,onChange:_=>l({...o,status:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:[c.jsx("option",{value:"a_vencer",children:"A Vencer"}),c.jsx("option",{value:"pago",children:"Pago"}),c.jsx("option",{value:"atrasado",children:"Atrasado"})]})]})]}),c.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"1rem 0"}}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[c.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(zy,{size:18})," Dados de Consumo"]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo (kWh)"}),c.jsx("input",{type:"number",step:"any",required:!0,value:o.consumo_kwh,onChange:_=>l({...o,consumo_kwh:_.target.value}),placeholder:"0",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),c.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(Ry,{size:18})," Valores Adicionais"]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Iluminao Pblica (R$)"}),c.jsx("input",{type:"text",value:o.iluminacao_publica,onChange:_=>y("iluminacao_publica",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa Mnima (R$)"}),c.jsx("input",{type:"text",value:o.tarifa_minima,onChange:_=>y("tarifa_minima",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Outros Lanamentos (R$)"}),c.jsx("input",{type:"text",value:o.outros_lancamentos,onChange:_=>y("outros_lancamentos",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),c.jsxs("div",{style:{background:"#f1f5f9",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[c.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(W3,{size:18})," Resumo do Clculo"]}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[c.jsx("span",{style:{color:"#64748b"},children:"Consumo Bruto:"}),c.jsxs("span",{style:{fontWeight:600},children:["R$ ",(Number(o.consumo_kwh)*(Number(s==null?void 0:s.tarifa_concessionaria)||0)).toFixed(2).replace(".",",")]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#166534",background:"#dcfce7",padding:"0.5rem",borderRadius:"4px"},children:[c.jsx("span",{children:"Economia Gerada:"}),c.jsxs("span",{style:{fontWeight:"bold"},children:["- ",o.economia_reais||"R$ 0,00"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[c.jsx("span",{style:{color:"#64748b"},children:"Consumo Lquido (R$):"}),c.jsx("span",{style:{fontWeight:600},children:o.consumo_reais||"R$ 0,00"})]}),c.jsx("div",{style:{height:"1px",background:"#cbd5e1",margin:"0.5rem 0"}}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[c.jsx("span",{style:{color:"#64748b"},children:"+ Ilum. Pblica:"}),c.jsx("span",{children:o.iluminacao_publica||"R$ 0,00"})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[c.jsx("span",{style:{color:"#64748b"},children:"+ Tarifa Mnima:"}),c.jsx("span",{children:o.tarifa_minima||"R$ 0,00"})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[c.jsx("span",{style:{color:"#64748b"},children:"+ Outros:"}),c.jsx("span",{children:o.outros_lancamentos||"R$ 0,00"})]}),c.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px dashed #cbd5e1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#64748b",marginBottom:"0.2rem"},children:"Total a Pagar"}),c.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:o.valor_a_pagar||"R$ 0,00"})]})]})]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[c.jsxs("div",{children:[(e==null?void 0:e.id)&&!e.asaas_boleto_url&&c.jsx("button",{type:"button",onClick:v,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:h?"Gerando...":c.jsxs(c.Fragment,{children:[c.jsx($f,{size:18})," Emitir Boleto Agora"]})}),(e==null?void 0:e.asaas_boleto_url)&&c.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534",fontWeight:"bold",textDecoration:"none"},children:[c.jsx(bd,{size:18})," Ver Boleto Emitido"]})]}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function QB(){var j;const{user:e,profile:t}=Jr(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),[s,u]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState(null),[g,b]=w.useState(!1),y=["super_admin","admin","manager"].includes(t==null?void 0:t.role);w.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{l(!0);let S;const{data:E}=await L.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(E){S=E.id,u(E.id);const{data:O}=await L.from("consumer_units").select("*").eq("subscriber_id",S);if(n(O||[]),O&&O.length>0){const A=O.map(z=>z.id),{data:k}=await L.from("invoices").select("*").in("uc_id",A).order("vencimento",{ascending:!1});i(k||[])}}else if(y){const{data:O}=await L.from("consumer_units").select("*");if(n(O||[]),O&&O.length>0){const{data:A}=await L.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(A||[])}}}catch(S){console.error("Error fetching dashboard data:",S)}finally{l(!1)}},v=S=>{const E=a.find(O=>O.id===S.id);i(E?a.map(O=>O.id===S.id?S:O):[S,...a]),alert("Fatura salva com sucesso!")},x=a.reduce((S,E)=>S+(E.economia_reais||0),0),_=a[0];return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Viso Geral do Assinante"}),c.jsx("div",{style:{display:"flex",gap:"1rem"},children:y&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>b(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),c.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),c.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",x.toFixed(2)]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),c.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:_?`R$ ${(j=_.valor_a_pagar)==null?void 0:j.toFixed(2)}`:"-"}),c.jsx("small",{style:{color:"var(--color-text-light)"},children:_?new Date(_.vencimento).toLocaleDateString():""})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),c.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),c.jsx("h3",{children:"Minhas Faturas"}),c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),c.jsx("tbody",{children:a.map(S=>{var E,O;return c.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[c.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(S.vencimento).toLocaleDateString()}),c.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[S.consumo_kwh," kWh"]}),c.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=S.valor_a_pagar)==null?void 0:E.toFixed(2)]}),c.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(O=S.economia_reais)==null?void 0:O.toFixed(2)]}),c.jsx("td",{style:{padding:"1rem"},children:c.jsx("span",{className:`badge ${S.status==="pago"?"badge-success":"badge-error"}`,children:S.status==="pago"?"Pago":"A Vencer"})}),c.jsx("td",{style:{padding:"1rem"},children:y?c.jsx("button",{onClick:()=>{m(S),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):c.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},S.id)})})]})}),d&&c.jsx(LA,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:v}),g&&c.jsx(By,{consumerUnit:{subscriber_id:s},onClose:()=>b(!1),onSave:()=>{p(),b(!1)}})]})}function e6(){const{user:e,profile:t}=Jr(),[r,n]=w.useState([]),[a,i]=w.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;w.useEffect(()=>{async function u(){const{data:d}=await L.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await L.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await L.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&u()},[e]);const l=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},s=async u=>{var h;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await L.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:g}=await L.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(g)throw g;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await L.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return c.jsxs("div",{children:[c.jsx("h2",{children:"Painel do Originador"}),c.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[c.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[c.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),c.jsx("button",{onClick:l,className:"btn btn-accent",children:"Copiar"})]})]}),c.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Data"})]})}),c.jsxs("tbody",{children:[r.map(u=>c.jsxs("tr",{children:[c.jsx("td",{children:u.name}),c.jsx("td",{children:c.jsx("span",{className:"badge badge-neutral",children:u.status})}),c.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),c.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Ms Ref."}),c.jsx("th",{children:"Faturas Proc."}),c.jsx("th",{children:"Valor (R$)"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Data Pagt."}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:a.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>c.jsxs("tr",{children:[c.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),c.jsx("td",{children:u.total_invoices}),c.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),c.jsx("td",{children:c.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),c.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),c.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&c.jsx("button",{onClick:()=>s(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function t6(){const{user:e}=Jr(),[t,r]=w.useState([]);return w.useEffect(()=>{async function n(){const{data:a}=await L.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await L.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),c.jsxs("div",{children:[c.jsx("h2",{children:"Painel do Fornecedor"}),c.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[c.jsx("h3",{children:"Minhas Usinas"}),c.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),c.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>c.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[c.jsx("h4",{children:n.name}),c.jsxs("p",{children:["Status: ",c.jsx("strong",{children:n.status})]}),c.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function r6({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=Jr(),[o,l]=w.useState([]),s=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[u,d]=w.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=w.useState(!1),[m,g]=w.useState(!1);w.useEffect(()=>{b(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(x=>({...x,originator_id:i.id}))},[e,i]);const b=async()=>{const{data:x}=await L.from("originators_v2").select("id, name").order("name");l(x||[])},y=async()=>{const x=u.cep.replace(/\D/g,"");if(x.length===8){g(!0);try{const _=await Zn(x);let j={};if(_.ibge)try{const S=await lc(_.ibge);S&&(j=S)}catch(S){console.error("Erro na oferta",S)}d(S=>({...S,rua:_.rua||"",bairro:_.bairro||"",cidade:_.cidade||"",uf:_.uf||"",concessionaria:(j==null?void 0:j.Concessionaria)||S.concessionaria||"",tarifa_concessionaria:(j==null?void 0:j["Tarifa Concessionaria"])||S.tarifa_concessionaria||"",desconto_assinante:(j==null?void 0:j["Desconto Assinante"])||S.desconto_assinante||""}))}catch(_){console.error("Erro ao buscar CEP:",_),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{g(!1)}}},p=async x=>{if(x.preventDefault(),u.phone&&!Ei(u.phone)){alert("Telefone invlido!");return}h(!0);try{const _={...u};_.tarifa_concessionaria=_.tarifa_concessionaria?Number(_.tarifa_concessionaria):null,_.consumo_kwh=_.consumo_kwh?Number(_.consumo_kwh):null,_.desconto_assinante=_.desconto_assinante?Number(_.desconto_assinante):null,_.originator_id===""&&(_.originator_id=null);let j;if(e!=null&&e.id?j=await L.from("leads").update(_).eq("id",e.id).select().single():j=await L.from("leads").insert(_).select().single(),j.error)throw j.error;r(j.data),t()}catch(_){alert("Erro ao salvar lead: "+_.message)}finally{h(!1)}},v=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:x}=await L.from("leads").delete().eq("id",e.id);if(x)throw x;n&&n(e.id),t()}catch(x){alert("Erro ao excluir lead: "+x.message)}finally{h(!1)}}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),c.jsxs("form",{onSubmit:p,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsx("select",{value:u.status,onChange:x=>d({...u,status:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:s.map(x=>c.jsx("option",{value:x.value,children:x.label},x.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),c.jsxs("select",{value:u.originator_id,onChange:x=>d({...u,originator_id:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),o.map(x=>c.jsx("option",{value:x.id,children:x.name},x.id))]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),c.jsx("input",{required:!0,value:u.name,onChange:x=>d({...u,name:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),c.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:u.phone,onChange:x=>d({...u,phone:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),c.jsx("input",{type:"email",value:u.email,onChange:x=>d({...u,email:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),c.jsx("input",{placeholder:"00000-000",value:u.cep,onChange:x=>d({...u,cep:x.target.value}),onBlur:y,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),c.jsx("input",{value:`${u.cidade} - ${u.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),c.jsx("input",{value:u.rua,onChange:x=>d({...u,rua:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),c.jsx("input",{value:u.numero,onChange:x=>d({...u,numero:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),c.jsx("input",{value:u.complemento,onChange:x=>d({...u,complemento:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),c.jsx("input",{value:u.bairro,onChange:x=>d({...u,bairro:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),c.jsx("input",{type:"number",value:u.consumo_kwh,onChange:x=>d({...u,consumo_kwh:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),c.jsx("input",{value:u.concessionaria,onChange:x=>d({...u,concessionaria:x.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),c.jsx("input",{type:"number",step:"0.0001",value:u.tarifa_concessionaria,onChange:x=>d({...u,tarifa_concessionaria:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),c.jsx("input",{type:"number",step:"0.01",value:u.desconto_assinante,onChange:x=>d({...u,desconto_assinante:x.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),c.jsx("input",{value:(()=>{const x=Number(u.consumo_kwh)||0,_=Number(u.tarifa_concessionaria)||0,j=Number(u.desconto_assinante)||0;if(x&&_&&j){const E=x*_*(j/100);return isNaN(E)?"R$ 0,00":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[c.jsx("div",{children:e&&n&&c.jsx("button",{type:"button",onClick:v,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&c.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function n6(){const{profile:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(!1),[l,s]=w.useState(!1),[u,d]=w.useState(null),[f,h]=w.useState(null),[m,g]=w.useState("list"),[b,y]=w.useState(""),p=t.filter(O=>{var k,z,P;if(!b)return!0;const A=b.toLowerCase();return((k=O.name)==null?void 0:k.toLowerCase().includes(A))||((z=O.email)==null?void 0:z.toLowerCase().includes(A))||((P=O.phone)==null?void 0:P.includes(A))});w.useEffect(()=>{v()},[]);const v=async()=>{a(!0);try{const{data:O,error:A}=await L.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(A)throw A;r(O||[])}catch(O){console.error("Error fetching leads:",O)}finally{a(!1)}},x=O=>{t.find(k=>k.id===O.id)?(r(t.map(k=>k.id===O.id?{...k,...O}:k)),v()):(r([O,...t]),v())},_=O=>{r(t.filter(A=>A.id!==O))},j=O=>{h(O),s(!0)},S=async O=>{try{await L.from("leads").update({status:"em_negociacao"}).eq("id",f.id),v(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(A){console.error("Erro ao atualizar status do lead",A)}},E={simulacao:"#64748b",indicado:"#0ea5e9",em_negociacao:"#eab308",ativo:"#22c55e",negocio_perdido:"#ef4444",pago:"#8b5cf6"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Gesto de Leads"}),c.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[c.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:b,onChange:O=>y(O.target.value),className:"input",style:{maxWidth:"350px"}}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>g("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>g("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:m==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:p.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Contato"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Originador"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:p.map(O=>{var A;return c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold"},children:O.name}),c.jsxs("td",{children:[c.jsx("div",{style:{fontSize:"0.9rem"},children:O.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:O.phone})]}),c.jsx("td",{children:c.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:O.status==="simulacao"?"#f1f5f9":O.status==="em_negociacao"?"#fef9c3":O.status==="ativo"?"#dcfce7":"#f1f5f9",color:O.status==="simulacao"?"#64748b":O.status==="em_negociacao"?"#a16207":O.status==="ativo"?"#166534":"#64748b"},children:O.status.toUpperCase().replace("_"," ")})}),c.jsx("td",{children:((A=O.originator)==null?void 0:A.name)||"-"}),c.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{d(O),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),O.status!=="convertido"&&c.jsx("button",{onClick:()=>j(O),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},O.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["simulacao","indicado","em_negociacao","ativo","negocio_perdido","pago"].map(O=>{const A=p.filter(z=>z.status===O),k=E[O]||"#64748b";return c.jsxs("div",{style:{minWidth:"280px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${k}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:k},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:O.replace("_"," ")}),c.jsx("span",{style:{fontSize:"0.8rem",background:k,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:A.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:A.map(z=>{var P,W;return c.jsxs("div",{onClick:()=>{d(z),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:H=>H.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:H=>H.currentTarget.style.borderColor="transparent",children:[c.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:z.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:z.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:z.phone}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[c.jsx("span",{children:(W=(P=z.originator)==null?void 0:P.name)==null?void 0:W.split(" ")[0]}),c.jsx("span",{children:new Date(z.created_at).toLocaleDateString()})]})]},z.id)})})]},O)})})}),i&&c.jsx(r6,{lead:u,onClose:()=>o(!1),onSave:x,onDelete:_,onConvert:j}),l&&c.jsx(Iy,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>s(!1),onSave:S})]})}function a6(){const{profile:e}=Jr(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(!1),[l,s]=w.useState(null),[u,d]=w.useState("list"),[f,h]=w.useState(""),[m,g]=w.useState(null),b=t.filter(j=>{var E,O,A,k;if(!f)return!0;const S=f.toLowerCase();return((E=j.name)==null?void 0:E.toLowerCase().includes(S))||((O=j.email)==null?void 0:O.toLowerCase().includes(S))||((A=j.phone)==null?void 0:A.includes(S))||((k=j.cpf_cnpj)==null?void 0:k.includes(S))});w.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const{data:j,error:S}=await L.from("subscribers").select("*").order("created_at",{ascending:!1});if(S)throw S;r(j||[])}catch(j){console.error("Error fetching subscribers:",j)}finally{a(!1)}},p=j=>{const S=t.find(E=>E.id===j.id);r(S?t.map(E=>E.id===j.id?{...E,...j}:E):[j,...t])},v=async j=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${j.name}?`)){g(j.id);try{const S=await If(j.id,"subscriber");S.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(S.url,"_blank"))}catch(S){console.error(S),alert("Erro: "+(S.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{g(null)}}},x={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},_=j=>{r(t.filter(S=>S.id!==j))};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Gesto de Assinantes"}),c.jsx("button",{onClick:()=>{s(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[c.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:j=>h(j.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),c.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),c.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:u==="list"?c.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:b.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),c.jsx("tbody",{children:b.map(j=>{var S,E,O,A,k;return c.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[c.jsxs("td",{style:{padding:"1rem"},children:[c.jsx("div",{style:{fontWeight:"bold"},children:j.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.cpf_cnpj})]}),c.jsxs("td",{style:{padding:"1rem"},children:[c.jsx("div",{style:{fontSize:"0.9rem"},children:j.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.phone})]}),c.jsx("td",{style:{padding:"1rem"},children:c.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(S=j.status)!=null&&S.includes("ativo")?"#dcfce7":(E=j.status)!=null&&E.includes("cancelado")?"#fee2e2":"#dbeafe",color:(O=j.status)!=null&&O.includes("ativo")?"#166534":(A=j.status)!=null&&A.includes("cancelado")?"#dc2626":"#1e40af"},children:(k=j.status)==null?void 0:k.toUpperCase().replace("_"," ")})}),c.jsx("td",{style:{padding:"1rem"},children:j.cidade?`${j.cidade}/${j.uf}`:"-"}),c.jsx("td",{style:{padding:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>v(j),disabled:m===j.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===j.id?"...":c.jsx($f,{size:14})}),c.jsx("button",{onClick:()=>{s(j),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},j.id)})})]})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(j=>{const S=b.filter(O=>O.status===j),E=x[j]||"#64748b";return c.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${E}`},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:E},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:j.replace("_"," ")}),c.jsx("span",{style:{fontSize:"0.8rem",background:E,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:S.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:S.map(O=>c.jsxs("div",{onClick:()=>{s(O),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:A=>A.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:A=>A.currentTarget.style.borderColor="transparent",children:[c.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:O.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.cpf_cnpj}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.email}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[c.jsx("span",{children:O.cidade}),c.jsx("span",{children:new Date(O.created_at).toLocaleDateString()})]})]},O.id))})]},j)})})}),i&&c.jsx(Iy,{subscriber:l,onClose:()=>o(!1),onSave:p,onDelete:_})]})}function i6({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(!1),[s,u]=w.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var g,b,y,p,v,x,_,j,S;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((g=e.split_commission)==null?void 0:g.start)||0,split_recurrent:((b=e.split_commission)==null?void 0:b.recurrent)||0,cep:((y=e.address)==null?void 0:y.cep)||"",rua:((p=e.address)==null?void 0:p.rua)||"",numero:((v=e.address)==null?void 0:v.numero)||"",complemento:((x=e.address)==null?void 0:x.complemento)||"",bairro:((_=e.address)==null?void 0:_.bairro)||"",cidade:((j=e.address)==null?void 0:j.cidade)||"",uf:((S=e.address)==null?void 0:S.uf)||""})},[e]);const d=async()=>{const g=s.cep.replace(/\D/g,"");if(g.length===8){l(!0);try{const b=await Zn(g);u(y=>({...y,rua:b.rua||"",bairro:b.bairro||"",cidade:b.cidade||"",uf:b.uf||""}))}catch(b){console.error("Erro CEP",b),alert("Erro ao buscar CEP")}finally{l(!1)}}};w.useEffect(()=>{if(s.pix_key_type==="aleatoria")return;let g="";s.pix_key_type==="cpf"||s.pix_key_type==="cnpj"?g=s.cpf_cnpj:s.pix_key_type==="email"?g=s.email:s.pix_key_type==="telefone"&&(g=s.phone),g!==s.pix_key&&u(b=>({...b,pix_key:g}))},[s.pix_key_type,s.cpf_cnpj,s.email,s.phone]);const f=async g=>{if(g.preventDefault(),!Uf(s.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!Ei(s.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const b={name:s.name,cpf_cnpj:s.cpf_cnpj,email:s.email,phone:s.phone,pix_key:s.pix_key,pix_key_type:s.pix_key_type,split_commission:{start:Number(s.split_start)||0,recurrent:Number(s.split_recurrent)||0},address:{cep:s.cep,rua:s.rua,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cidade:s.cidade,uf:s.uf}};try{let y;if(e!=null&&e.id?y=await L.from("originators_v2").update(b).eq("id",e.id).select().single():y=await L.from("originators_v2").insert(b).select().single(),y.error)throw y.error;r(y.data),t()}catch(y){alert("Erro ao salvar originador: "+y.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:g}=await L.from("originators_v2").delete().eq("id",e.id);if(g)throw g;n&&n(e.id),t()}catch(g){alert("Erro ao excluir: "+g.message)}finally{i(!1)}}},m=e?`${window.location.origin}/originador?id=${e.id}`:"Salver para gerar URL";return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),c.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&c.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[c.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{value:`${window.location.origin}/originador?id=${e.id}`,readOnly:!0,className:"input",style:{color:"#0284c7"}}),c.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/originador?id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),c.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1"},children:c.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),c.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[c.jsx("label",{className:"label",children:"Nome Completo"}),c.jsx("input",{value:s.name,onChange:g=>u({...s,name:g.target.value}),className:"input",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"CPF/CNPJ"}),c.jsx("input",{value:s.cpf_cnpj,onChange:g=>u({...s,cpf_cnpj:Lf(g.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Email"}),c.jsx("input",{type:"email",value:s.email,onChange:g=>u({...s,email:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Telefone"}),c.jsx("input",{value:s.phone,onChange:g=>u({...s,phone:Vo(g.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Tipo Chave PIX"}),c.jsxs("select",{value:s.pix_key_type,onChange:g=>u({...s,pix_key_type:g.target.value}),className:"select",children:[c.jsx("option",{value:"cpf",children:"CPF"}),c.jsx("option",{value:"cnpj",children:"CNPJ"}),c.jsx("option",{value:"email",children:"Email"}),c.jsx("option",{value:"telefone",children:"Telefone"}),c.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Chave PIX"}),c.jsx("input",{value:s.pix_key,onChange:g=>u({...s,pix_key:g.target.value}),className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"CEP"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{value:s.cep,onChange:g=>u({...s,cep:g.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&c.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Rua"}),c.jsx("input",{value:s.rua,onChange:g=>u({...s,rua:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Nmero"}),c.jsx("input",{value:s.numero,onChange:g=>u({...s,numero:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Complemento"}),c.jsx("input",{value:s.complemento,onChange:g=>u({...s,complemento:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Bairro"}),c.jsx("input",{value:s.bairro,onChange:g=>u({...s,bairro:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Cidade"}),c.jsx("input",{value:s.cidade,onChange:g=>u({...s,cidade:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"UF"}),c.jsx("input",{value:s.uf,onChange:g=>u({...s,uf:g.target.value}),className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),c.jsx("input",{type:"number",step:"0.01",value:s.split_start,onChange:g=>u({...s,split_start:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),c.jsx("input",{type:"number",step:"0.01",value:s.split_recurrent,onChange:g=>u({...s,split_recurrent:g.target.value}),className:"input"})]}),e&&c.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[c.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),c.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),c.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&c.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function o6(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(""),[o,l]=w.useState(!1),[s,u]=w.useState(null);w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:v,error:x}=await L.from("originators_v2").select("*").order("name");x?console.error("Error fetching originators:",x):t(v||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const v=new Date().toISOString().split("T")[0],{data:x,error:_}=await L.rpc("generate_monthly_commissions",{target_date:v});if(_)throw _;alert(`Processamento concludo!
Faturas processadas: ${x.invoices_processed}
Valor total gerado: R$ ${x.total_commission_value}`)}catch(v){console.error("Error processing commissions:",v),alert("Erro ao processar comisses: "+(v.message||"Erro desconhecido"))}finally{n(!1)}}},h=v=>{u(v),l(!0)},m=()=>{u(null),l(!0)},g=v=>{d()},b=v=>{d()},y=v=>{const x=`${window.location.origin}/clientes?id=${v}`;navigator.clipboard.writeText(x),alert("Link copiado: "+x)},p=e.filter(v=>{var x,_;return((x=v.name)==null?void 0:x.toLowerCase().includes(a.toLowerCase()))||((_=v.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))});return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[c.jsx("h2",{children:"Gesto de Originadores"}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),c.jsxs("button",{onClick:m,className:"btn btn-accent",children:[c.jsx(My,{size:18})," Novo Originador"]})]})]}),c.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[c.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:v=>i(v.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),c.jsx(DA,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?c.jsx("p",{children:"Carregando..."}):c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Contato"}),c.jsx("th",{children:"Comisso (Start/Rec.)"}),c.jsx("th",{children:"Chave PIX"}),c.jsx("th",{children:"Link"}),c.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),c.jsx("tbody",{children:p.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):p.map(v=>{var x,_;return c.jsxs("tr",{children:[c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:v.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:v.cpf_cnpj})]}),c.jsxs("td",{children:[c.jsx("div",{style:{fontSize:"0.9rem"},children:v.email}),c.jsx("div",{style:{fontSize:"0.9rem"},children:v.phone})]}),c.jsx("td",{children:c.jsxs("span",{className:"badge badge-success",children:[((x=v.split_commission)==null?void 0:x.start)||0,"% / ",((_=v.split_commission)==null?void 0:_.recurrent)||0,"%"]})}),c.jsx("td",{style:{fontSize:"0.9rem"},children:v.pix_key||"-"}),c.jsx("td",{children:c.jsx("button",{onClick:()=>y(v.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:c.jsx(oB,{size:16,color:"var(--color-blue)"})})}),c.jsx("td",{style:{textAlign:"right"},children:c.jsx("button",{onClick:()=>h(v),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:c.jsx(PB,{size:18})})})]},v.id)})})]})})}),o&&c.jsx(i6,{originator:s,onClose:()=>l(!1),onSave:g,onDelete:b})]})}function l6({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),[o,l]=w.useState(!1),[s,u]=w.useState([]),[d,f]=w.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});w.useEffect(()=>{var p,v,x,_,j,S,E,O,A;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((p=e.address)==null?void 0:p.cep)||"",rua:((v=e.address)==null?void 0:v.logradouro)||((x=e.address)==null?void 0:x.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((S=e.address)==null?void 0:S.bairro)||"",cidade:((E=e.address)==null?void 0:E.municipio)||((O=e.address)==null?void 0:O.cidade)||"",uf:((A=e.address)==null?void 0:A.uf)||""}),h(e.id))},[e]);const h=async p=>{const{data:v}=await L.from("usinas").select("id, name, status").eq("supplier_id",p);u(v||[])},m=async()=>{const p=d.cnpj.replace(/\D/g,"");if(p.length===14){l(!0);try{const v=await Ny(p);v&&f(x=>{var _,j,S,E,O,A,k,z,P;return{...x,name:v.nome||x.name,email:v.email||x.email,phone:v.telefone||x.phone,legal_partner_name:((_=v.legal_partner)==null?void 0:_.nome)||x.legal_partner_name,legal_partner_cpf:((j=v.legal_partner)==null?void 0:j.cpf)||x.legal_partner_cpf,cep:((S=v.address)==null?void 0:S.cep)||x.cep,rua:((E=v.address)==null?void 0:E.logradouro)||x.rua,numero:((O=v.address)==null?void 0:O.numero)||x.numero,complemento:((A=v.address)==null?void 0:A.complemento)||x.complemento,bairro:((k=v.address)==null?void 0:k.bairro)||x.bairro,cidade:((z=v.address)==null?void 0:z.municipio)||x.cidade,uf:((P=v.address)==null?void 0:P.uf)||x.uf}})}catch(v){console.error("Erro CNPJ",v),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{l(!1)}}},g=p=>{const v=p.target.value;let x=d.pix_key;switch(v){case"telefone":x=d.phone;break;case"email":x=d.email;break;case"cnpj":x=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(x=d.legal_partner_cpf);break}f(_=>({..._,pix_key_type:v,pix_key:x}))},b=async p=>{if(p.preventDefault(),d.cnpj&&!Uf(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!Ei(d.phone)){a("Telefone invlido!","warning");return}l(!0);try{console.log("Submitting payload:",d);const v={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",v);let x;if(e!=null&&e.id?x=await L.from("suppliers").update(v).eq("id",e.id).select().single():x=await L.from("suppliers").insert(v).select().single(),console.log("Supabase result:",x),x.error)throw x.error;r(x.data),t()}catch(v){console.error("Save error details:",v);const x=v.message||JSON.stringify(v);x.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await L.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+x,"error")}finally{l(!1)}},y=async()=>{if(s.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){l(!0);try{const{error:v}=await L.from("suppliers").delete().eq("id",e.id);if(v)throw v;n&&n(e.id),t()}catch(v){a("Erro ao excluir: "+v.message,"error")}finally{l(!1)}}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),c.jsxs("form",{onSubmit:b,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),c.jsx("input",{value:d.cnpj,onChange:p=>f({...d,cnpj:p.target.value}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),c.jsx("input",{required:!0,value:d.name,onChange:p=>f({...d,name:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),c.jsx("input",{value:d.legal_partner_name,onChange:p=>f({...d,legal_partner_name:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),c.jsx("input",{value:d.legal_partner_cpf,onChange:p=>f({...d,legal_partner_cpf:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),c.jsx("input",{value:d.cnpj,onChange:p=>f({...d,cnpj:Lf(p.target.value)}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),c.jsx("input",{value:d.phone,onChange:p=>f({...d,phone:Vo(p.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),c.jsx("input",{type:"email",value:d.email,onChange:p=>f({...d,email:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),c.jsxs("select",{value:d.pix_key_type,onChange:g,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"cpf",children:"CPF"}),c.jsx("option",{value:"cnpj",children:"CNPJ"}),c.jsx("option",{value:"email",children:"Email"}),c.jsx("option",{value:"telefone",children:"Telefone"}),c.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),c.jsx("input",{value:d.pix_key,onChange:p=>f({...d,pix_key:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsxs("select",{value:d.status,onChange:p=>f({...d,status:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"ativacao",children:"Em Ativao"}),c.jsx("option",{value:"ativo",children:"Ativo"}),c.jsx("option",{value:"inativo",children:"Inativo"})]})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),c.jsx("input",{value:d.cep,onChange:p=>f({...d,cep:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),c.jsx("input",{value:d.rua,onChange:p=>f({...d,rua:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),c.jsx("input",{value:d.numero,onChange:p=>f({...d,numero:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),c.jsx("input",{value:d.complemento,onChange:p=>f({...d,complemento:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),c.jsx("input",{value:d.bairro,onChange:p=>f({...d,bairro:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{value:d.cidade,onChange:p=>f({...d,cidade:p.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),c.jsx("input",{value:d.uf,onChange:p=>f({...d,uf:p.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&s.length>0&&c.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[c.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),c.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:s.map(p=>c.jsxs("li",{children:[p.name," - ",c.jsx("span",{style:{opacity:.7},children:p.status})]},p.id))})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[c.jsx("div",{children:e&&n&&c.jsx("button",{type:"button",onClick:y,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function s6(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState(null);w.useEffect(()=>{s()},[]);const s=async()=>{n(!0);try{const{data:f,error:h}=await L.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{s(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Fornecedores (Geradores)"}),c.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?c.jsx("p",{children:"Carregando..."}):c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:e.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome/Razo Social"}),c.jsx("th",{children:"CNPJ"}),c.jsx("th",{children:"Contato"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:e.map(f=>{var h;return c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold"},children:f.name}),c.jsx("td",{children:f.cnpj}),c.jsxs("td",{children:[c.jsx("div",{children:f.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),c.jsx("td",{children:c.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),c.jsx("td",{children:c.jsx("button",{onClick:()=>{l(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&c.jsx(l6,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function UA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=UA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=UA(e))&&(n&&(n+=" "),n+=t);return n}var c6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $y(e){if(typeof e!="string")return!1;var t=c6;return t.includes(e)}var u6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],d6=new Set(u6);function qA(e){return typeof e!="string"?!1:d6.has(e)}function HA(e){return typeof e=="string"&&e.startsWith("data-")}function Ln(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(qA(r)||HA(r))&&(t[r]=e[r]);return t}function Ly(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ln(t)}return typeof e=="object"&&!Array.isArray(e)?Ln(e):null}function Rr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(qA(r)||HA(r)||$y(r))&&(t[r]=e[r]);return t}var f6=["children","width","height","viewBox","className","style","title","desc"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function h6(e,t){if(e==null)return{};var r,n,a=m6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WA=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:s,desc:u}=e,d=h6(e,f6),f=i||{width:n,height:a,x:0,y:0},h=De("recharts-surface",o);return w.createElement("svg",wg({},Rr(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,s),w.createElement("desc",null,u),r)}),p6=["children","className"];function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(null,arguments)}function g6(e,t){if(e==null)return{};var r,n,a=v6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function v6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Un=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=g6(e,p6),i=De("recharts-layer",n);return w.createElement("g",_g({className:i},Rr(a),{ref:t}),r)}),y6=w.createContext(null);function Ae(e){return function(){return e}}const VA=Math.cos,xd=Math.sin,Qr=Math.sqrt,wd=Math.PI,qf=2*wd,Sg=Math.PI,jg=2*Sg,ti=1e-6,b6=jg-ti;function GA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function x6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return GA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class w6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?GA:x6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,s=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ti)if(!(Math.abs(f*s-u*d)>ti)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,b=s*s+u*u,y=m*m+g*g,p=Math.sqrt(b),v=Math.sqrt(h),x=i*Math.tan((Sg-Math.acos((b+h-y)/(2*p*v)))/2),_=x/v,j=x/p;Math.abs(_-1)>ti&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*s},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),s=n*Math.sin(a),u=t+l,d=r+s,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ti||Math.abs(this._y1-d)>ti)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%jg+jg),h>b6?this._append`A${n},${n},0,1,${f},${t-l},${r-s}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ti&&this._append`A${n},${n},0,${+(h>=Sg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Uy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new w6(t)}function qy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KA(e){this._context=e}KA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hf(e){return new KA(e)}function FA(e){return e[0]}function YA(e){return e[1]}function XA(e,t){var r=Ae(!0),n=null,a=Hf,i=null,o=Uy(l);e=typeof e=="function"?e:e===void 0?FA:Ae(e),t=typeof t=="function"?t:t===void 0?YA:Ae(t);function l(s){var u,d=(s=qy(s)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=s[u],u,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,s),+t(f,u,s));if(m)return i=null,m+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Ae(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ae(+s),l):t},l.defined=function(s){return arguments.length?(r=typeof s=="function"?s:Ae(!!s),l):r},l.curve=function(s){return arguments.length?(a=s,n!=null&&(i=a(n)),l):a},l.context=function(s){return arguments.length?(s==null?n=i=null:i=a(n=s),l):n},l}function tu(e,t,r){var n=null,a=Ae(!0),i=null,o=Hf,l=null,s=Uy(u);e=typeof e=="function"?e:e===void 0?FA:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?YA:Ae(+r);function u(f){var h,m,g,b=(f=qy(f)).length,y,p=!1,v,x=new Array(b),_=new Array(b);for(i==null&&(l=o(v=s())),h=0;h<=b;++h){if(!(h<b&&a(y=f[h],h,f))===p)if(p=!p)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(x[g],_[g]);l.lineEnd(),l.areaEnd()}p&&(x[h]=+e(y,h,f),_[h]=+t(y,h,f),l.point(n?+n(y,h,f):x[h],r?+r(y,h,f):_[h]))}if(v)return l=null,v+""||null}function d(){return XA().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ae(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class ZA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _6(e){return new ZA(e,!0)}function S6(e){return new ZA(e,!1)}const Hy={draw(e,t){const r=Qr(t/wd);e.moveTo(r,0),e.arc(0,0,r,0,qf)}},j6={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},JA=Qr(1/3),E6=JA*2,O6={draw(e,t){const r=Qr(t/E6),n=r*JA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},C6={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},A6=.8908130915292852,QA=xd(wd/10)/xd(7*wd/10),T6=xd(qf/10)*QA,k6=-VA(qf/10)*QA,P6={draw(e,t){const r=Qr(t*A6),n=T6*r,a=k6*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=qf*i/5,l=VA(o),s=xd(o);e.lineTo(s*r,-l*r),e.lineTo(l*n-s*a,s*n+l*a)}e.closePath()}},$m=Qr(3),N6={draw(e,t){const r=-Qr(t/($m*3));e.moveTo(0,r*2),e.lineTo(-$m*r,-r),e.lineTo($m*r,-r),e.closePath()}},br=-.5,xr=Qr(3)/2,Eg=1/Qr(12),R6=(Eg/2+1)*3,M6={draw(e,t){const r=Qr(t/R6),n=r/2,a=r*Eg,i=n,o=r*Eg+r,l=-i,s=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,s),e.lineTo(br*n-xr*a,xr*n+br*a),e.lineTo(br*i-xr*o,xr*i+br*o),e.lineTo(br*l-xr*s,xr*l+br*s),e.lineTo(br*n+xr*a,br*a-xr*n),e.lineTo(br*i+xr*o,br*o-xr*i),e.lineTo(br*l+xr*s,br*s-xr*l),e.closePath()}};function D6(e,t){let r=null,n=Uy(a);e=typeof e=="function"?e:Ae(e||Hy),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function _d(){}function Sd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function e2(e){this._context=e}e2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z6(e){return new e2(e)}function t2(e){this._context=e}t2.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B6(e){return new t2(e)}function r2(e){this._context=e}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I6(e){return new r2(e)}function n2(e){this._context=e}n2.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $6(e){return new n2(e)}function $1(e){return e<0?-1:1}function L1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return($1(i)+$1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function U1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Lm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function jd(e){this._context=e}jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lm(this,this._t0,U1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lm(this,U1(this,r=L1(this,e,t)),r);break;default:Lm(this,this._t0,r=L1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function a2(e){this._context=new i2(e)}(a2.prototype=Object.create(jd.prototype)).point=function(e,t){jd.prototype.point.call(this,t,e)};function i2(e){this._context=e}i2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function L6(e){return new jd(e)}function U6(e){return new a2(e)}function o2(e){this._context=e}o2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=q1(e),a=q1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function q1(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function q6(e){return new o2(e)}function Wf(e,t){this._context=e,this._t=t}Wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function H6(e){return new Wf(e,.5)}function W6(e){return new Wf(e,0)}function V6(e){return new Wf(e,1)}function Oi(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Og(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function G6(e,t){return e[t]}function K6(e){const t=[];return t.key=e,t}function F6(){var e=Ae([]),t=Og,r=Oi,n=G6;function a(i){var o=Array.from(e.apply(this,arguments),K6),l,s=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<s;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=qy(t(o));l<s;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Og:typeof i=="function"?i:Ae(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Oi,a):r},a}function Y6(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Oi(e,t)}}function X6(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Oi(e,t)}}function Z6(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,s=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var b=e[t[g]],y=b[n][1]||0,p=b[n-1][1]||0;m+=y-p}s+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,s&&(r-=u/s)}a[n-1][1]+=a[n-1][0]=r,Oi(e,t)}}var Vf={},l2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(l2);var Wy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Wy);var Gf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Gf);var Kf={},s2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(s2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s2,r=Gf;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,s="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,s+=a[l]):f===u?u="":s+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(s),s=""):s+=f:f==="["?(d=!0,s&&(i.push(s),s="")):f==="."?s&&(i.push(s),s=""):s+=f,l++}return s&&i.push(s),i}e.toPath=n})(Kf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l2,r=Wy,n=Gf,a=Kf;function i(l,s,u){if(l==null)return u;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return u;const d=l[s];return d===void 0?r.isDeepKey(s)?i(l,a.toPath(s),u):u:d}case"number":case"symbol":{typeof s=="number"&&(s=n.toKey(s));const d=l[s];return d===void 0?u:d}default:{if(Array.isArray(s))return o(l,s,u);if(Object.is(s==null?void 0:s.valueOf(),-0)?s="-0":s=String(s),t.isUnsafeProperty(s))return u;const d=l[s];return d===void 0?u:d}}}function o(l,s,u){if(s.length===0)return u;let d=l;for(let f=0;f<s.length;f++){if(d==null||t.isUnsafeProperty(s[f]))return u;d=d[s[f]]}return d===void 0?u:d}e.get=i})(Vf);var J6=Vf.get;const Go=Yn(J6);var Q6=4;function ja(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q6,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function qe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var l=r[o-1];return typeof l=="string"?a+l+i:l!==void 0?a+ja(l)+i:a+i},"")}var Gt=e=>e===0?0:e>0?1:-1,Fr=e=>typeof e=="number"&&e!=+e,qn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,K=e=>(typeof e=="number"||e instanceof Number)&&!Fr(e),sn=e=>K(e)||typeof e=="string",eI=0,Ps=e=>{var t=++eI;return"".concat(e||"").concat(t)},Yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!K(t)&&typeof t!="string")return n;var i;if(qn(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Fr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},c2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function _t(e,t,r){return K(e)&&K(t)?ja(e+r*(t-e)):t}function tI(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Go(n,t))===r)}var gt=e=>e===null||typeof e>"u",sc=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function rI(e){return e!=null}function cc(){}var nI=["type","size","sizeType"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(null,arguments)}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){aI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aI(e,t,r){return(t=iI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iI(e){var t=oI(e,"string");return typeof t=="symbol"?t:t+""}function oI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lI(e,t){if(e==null)return{};var r,n,a=sI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var u2={symbolCircle:Hy,symbolCross:j6,symbolDiamond:O6,symbolSquare:C6,symbolStar:P6,symbolTriangle:N6,symbolWye:M6},cI=Math.PI/180,uI=e=>{var t="symbol".concat(sc(e));return u2[t]||Hy},dI=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*cI;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fI=(e,t)=>{u2["symbol".concat(sc(e))]=t},d2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=lI(e,nI),i=W1(W1({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=uI(o),m=D6().type(h).size(dI(r,n,o)),g=m();if(g!==null)return g},{className:s,cx:u,cy:d}=i,f=Rr(i);return K(u)&&K(d)&&K(r)?w.createElement("path",Cg({},f,{className:De("recharts-symbols",s),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};d2.registerSymbol=fI;var f2=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,hI=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{$y(a)&&(n[a]=i=>r[a](r,i))}),n},mI=(e,t,r)=>n=>(e(t,r,n),null),Vy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];$y(a)&&typeof i=="function"&&(n||(n={}),n[a]=mI(i,t,r))}),n};function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){gI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gI(e,t,r){return(t=vI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vI(e){var t=yI(e,"string");return typeof t=="symbol"?t:t+""}function yI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=pI({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var h2={},m2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o,i,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(m2);var p2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(p2);var Gy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Gy);var g2={},Ff={},v2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(v2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ff);var y2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(y2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ff,r=y2;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(g2);var b2={},x2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(x2);var w2={},Ky={},_2={},Fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Fy);var Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Yy);var Xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Xy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fy,r=Yy,n=Xy;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(g,b,y,p,v,x){const _=h(g,b,y,p,v,x);return _!==void 0?!!_:i(g,b,m,x)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return s(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const g=Object.keys(f);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let b=0;b<g.length;b++){const y=g[b];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,b]of f.entries()){const y=d.get(g);if(h(y,b,g,d,f,m)===!1)return!1}return!0}function s(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let b=0;b<f.length;b++){const y=f[b];let p=!1;for(let v=0;v<d.length;v++){if(g.has(v))continue;const x=d[v];let _=!1;if(h(x,y,b,d,f,m)&&(_=!0),_){g.add(v),p=!0;break}}if(!p)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?s([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(_2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_2;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Ky);var S2={},Zy={},j2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(j2);var Yf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Yf);var Jy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",s="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",b="[object DataView]",y="[object Uint8Array]",p="[object Uint8ClampedArray]",v="[object Uint16Array]",x="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",O="[object BigInt64Array]",A="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=b,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=A,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=E,e.int8ArrayTag=j,e.mapTag=s,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=v,e.uint32ArrayTag=x,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=p})(Jy);var E2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(E2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j2,r=Yf,n=Jy,a=Yy,i=E2;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const b=g==null?void 0:g(d,f,h,m);if(b!==void 0)return b;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let p=0;p<d.length;p++)y[p]=l(d[p],p,h,m,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[p,v]of d)y.set(p,l(v,p,h,m,g));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const p of d)y.add(l(p,void 0,h,m,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let p=0;p<d.length;p++)y[p]=l(d[p],p,h,m,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),s(y,d,h,m,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),s(y,d,h,m,g),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),s(y,d,h,m,g),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,s(y,d,h,m,g),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),s(y,d,h,m,g),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),s(y,d,h,m,g),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),s(y,d,h,m,g),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),s(y,d,h,m,g),y}return d}function s(d,f,h=d,m,g){const b=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<b.length;y++){const p=b[y],v=Object.getOwnPropertyDescriptor(d,p);(v==null||v.writable)&&(d[p]=l(f[p],p,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=s})(Zy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(S2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=S2;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(w2);var O2={},C2={},A2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy,r=Yf,n=Jy;function a(i,o){return t.cloneDeepWith(i,(l,s,u,d)=>{const f=o==null?void 0:o(l,s,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(A2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(C2);var T2={},Qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Qy);var k2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(k2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy,r=Qy,n=k2,a=Kf;function i(o,l){let s;if(Array.isArray(l)?s=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?s=a.toPath(l):s=[l],s.length===0)return!1;let u=o;for(let d=0;d<s.length;d++){const f=s[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(T2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=Gf,n=C2,a=Vf,i=T2;function o(l,s){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return s=n.cloneDeep(s),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):s===void 0?d===void 0:t.isMatch(d,s)}}e.matchesProperty=o})(O2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy,r=x2,n=w2,a=O2;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(b2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m2,r=p2,n=Gy,a=g2,i=b2;function o(l,s=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(i.iteratee(s),1)):[]}e.uniqBy=o})(h2);var bI=h2.uniqBy;const G1=Yn(bI);function xI(e,t,r){return t===!0?G1(e,r):typeof t=="function"?G1(e,t):e}var P2={exports:{}},N2={},R2={exports:{}},M2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=w;function wI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _I=typeof Object.is=="function"?Object.is:wI,SI=Ko.useState,jI=Ko.useEffect,EI=Ko.useLayoutEffect,OI=Ko.useDebugValue;function CI(e,t){var r=t(),n=SI({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return EI(function(){a.value=r,a.getSnapshot=t,Um(a)&&i({inst:a})},[e,r,t]),jI(function(){return Um(a)&&i({inst:a}),e(function(){Um(a)&&i({inst:a})})},[e]),OI(r),r}function Um(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_I(e,r)}catch{return!0}}function AI(e,t){return t()}var TI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AI:CI;M2.useSyncExternalStore=Ko.useSyncExternalStore!==void 0?Ko.useSyncExternalStore:TI;R2.exports=M2;var kI=R2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=w,PI=kI;function NI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RI=typeof Object.is=="function"?Object.is:NI,MI=PI.useSyncExternalStore,DI=Xf.useRef,zI=Xf.useEffect,BI=Xf.useMemo,II=Xf.useDebugValue;N2.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=DI(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=BI(function(){function s(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,RI(d,m))return g;var b=n(m);return a!==void 0&&a(g,b)?(d=m,g):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=MI(e,i[0],i[1]);return zI(function(){o.hasValue=!0,o.value=l},[l]),II(l),l};P2.exports=N2;var $I=P2.exports,e0=w.createContext(null),LI=e=>e,Ke=()=>{var e=w.useContext(e0);return e?e.store.dispatch:LI},Mu=()=>{},UI=()=>Mu,qI=(e,t)=>e===t;function X(e){var t=w.useContext(e0);return $I.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:UI,t?t.store.getState:Mu,t?t.store.getState:Mu,t?e:Mu,qI)}function HI(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function WI(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function VI(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var K1=e=>Array.isArray(e)?e:[e];function GI(e){const t=Array.isArray(e[0])?e[0]:e;return VI(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function KI(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var FI=class{constructor(e){this.value=e}deref(){return this.value}},YI=typeof WeakRef<"u"?WeakRef:FI,XI=0,F1=1;function ru(){return{s:XI,v:void 0,o:null,p:null}}function D2(e,t={}){let r=ru();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:s}=arguments;for(let h=0,m=s;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const y=b.get(g);y===void 0?(l=ru(),b.set(g,l)):l=y}else{let b=l.p;b===null&&(l.p=b=new Map);const y=b.get(g);y===void 0?(l=ru(),b.set(g,l)):l=y}}const u=l;let d;if(l.s===F1)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new YI(d):d}return u.s=F1,u.v=d,d}return o.clearCache=()=>{r=ru(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function ZI(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,s={},u=a.pop();typeof u=="object"&&(s=u,u=a.pop()),HI(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...s},{memoize:f,memoizeOptions:h=[],argsMemoize:m=D2,argsMemoizeOptions:g=[]}=d,b=K1(h),y=K1(g),p=GI(a),v=f(function(){return i++,u.apply(null,arguments)},...b),x=m(function(){o++;const j=KI(p,arguments);return l=v.apply(null,j),l},...y);return Object.assign(x,{resultFunc:u,memoizedResultFunc:v,dependencies:p,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var R=ZI(D2),JI=Object.assign((e,t=R)=>{WI(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,s)=>(o[r[s]]=l,o),{}))},{withTypes:()=>JI}),z2={},B2={},I2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(I2);var $2={},t0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(t0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})($2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I2,r=$2,n=Kf;function a(i,o,l,s){if(i==null)return[];l=s?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let b=m;for(let y=0;y<g.length&&b!=null;++y)b=b[g[y]];return b},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let b=0;b<f.length;b++){const y=t.compareValues(m.criteria[b],g.criteria[b],l[b]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=a})(B2);var L2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,s)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&s<i?o(d,s+1):a.push(d)}};return o(r,0),a}e.flatten=t})(L2);var r0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qy,r=Ff,n=Fy,a=Xy;function i(o,l,s){return n.isObject(s)&&(typeof l=="number"&&r.isArrayLike(s)&&t.isIndex(l)&&l<s.length||typeof l=="string"&&l in s)?a.isEqualsSameValueZero(s[l],o):!1}e.isIterateeCall=i})(r0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B2,r=L2,n=r0;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(z2);var QI=z2.sortBy;const Zf=Yn(QI);var U2=e=>e.legend.settings,e$=e=>e.legend.size,t$=e=>e.legend.payload;R([t$,U2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Zf(n,r):n});var nu=1;function r$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>nu||Math.abs(o.left-t.left)>nu||Math.abs(o.top-t.top)>nu||Math.abs(o.width-t.width)>nu)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var n$=typeof Symbol=="function"&&Symbol.observable||"@@observable",Y1=n$,qm=()=>Math.random().toString(36).substring(7).split("").join("."),a$={INIT:`@@redux/INIT${qm()}`,REPLACE:`@@redux/REPLACE${qm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qm()}`},Ed=a$;function n0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function q2(e,t,r){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(bt(1));return r(q2)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,s=!1;function u(){o===i&&(o=new Map,i.forEach((y,p)=>{o.set(p,y)}))}function d(){if(s)throw new Error(bt(3));return a}function f(y){if(typeof y!="function")throw new Error(bt(4));if(s)throw new Error(bt(5));let p=!0;u();const v=l++;return o.set(v,y),function(){if(p){if(s)throw new Error(bt(6));p=!1,u(),o.delete(v),i=null}}}function h(y){if(!n0(y))throw new Error(bt(7));if(typeof y.type>"u")throw new Error(bt(8));if(typeof y.type!="string")throw new Error(bt(17));if(s)throw new Error(bt(9));try{s=!0,a=n(a,y)}finally{s=!1}return(i=o).forEach(v=>{v()}),y}function m(y){if(typeof y!="function")throw new Error(bt(10));n=y,h({type:Ed.REPLACE})}function g(){const y=f;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(bt(11));function v(){const _=p;_.next&&_.next(d())}return v(),{unsubscribe:y(v)}},[Y1](){return this}}}return h({type:Ed.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Y1]:g}}function i$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ed.INIT})>"u")throw new Error(bt(12));if(typeof r(void 0,{type:Ed.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function H2(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{i$(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let s=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(bt(14));u[f]=g,s=s||g!==m}return s=s||n.length!==Object.keys(o).length,s?u:o}}function Od(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function o$(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(bt(15))};const o={getState:a.getState,dispatch:(s,...u)=>i(s,...u)},l=e.map(s=>s(o));return i=Od(...l)(a.dispatch),{...a,dispatch:i}}}function W2(e){return n0(e)&&"type"in e&&typeof e.type=="string"}var V2=Symbol.for("immer-nothing"),X1=Symbol.for("immer-draftable"),It=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cr=Object,Fo=cr.getPrototypeOf,Cd="constructor",Jf="prototype",Ag="configurable",Ad="enumerable",Du="writable",Ns="value",Hn=e=>!!e&&!!e[It];function Xr(e){var t;return e?G2(e)||eh(e)||!!e[X1]||!!((t=e[Cd])!=null&&t[X1])||th(e)||rh(e):!1}var l$=cr[Jf][Cd].toString(),Z1=new WeakMap;function G2(e){if(!e||!a0(e))return!1;const t=Fo(e);if(t===null||t===cr[Jf])return!0;const r=cr.hasOwnProperty.call(t,Cd)&&t[Cd];if(r===Object)return!0;if(!oo(r))return!1;let n=Z1.get(r);return n===void 0&&(n=Function.toString.call(r),Z1.set(r,n)),n===l$}function Qf(e,t,r=!0){uc(e)===0?(r?Reflect.ownKeys(e):cr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function uc(e){const t=e[It];return t?t.type_:eh(e)?1:th(e)?2:rh(e)?3:0}var J1=(e,t,r=uc(e))=>r===2?e.has(t):cr[Jf].hasOwnProperty.call(e,t),Tg=(e,t,r=uc(e))=>r===2?e.get(t):e[t],Td=(e,t,r,n=uc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function s$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var eh=Array.isArray,th=e=>e instanceof Map,rh=e=>e instanceof Set,a0=e=>typeof e=="object",oo=e=>typeof e=="function",Hm=e=>typeof e=="boolean";function c$(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var wn=e=>e.copy_||e.base_,i0=e=>e.modified_?e.copy_:e.base_;function kg(e,t){if(th(e))return new Map(e);if(rh(e))return new Set(e);if(eh(e))return Array[Jf].slice.call(e);const r=G2(e);if(t===!0||t==="class_only"&&!r){const n=cr.getOwnPropertyDescriptors(e);delete n[It];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[Du]===!1&&(l[Du]=!0,l[Ag]=!0),(l.get||l.set)&&(n[o]={[Ag]:!0,[Du]:!0,[Ad]:l[Ad],[Ns]:e[o]})}return cr.create(Fo(e),n)}else{const n=Fo(e);if(n!==null&&r)return{...e};const a=cr.create(n);return cr.assign(a,e)}}function o0(e,t=!1){return nh(e)||Hn(e)||!Xr(e)||(uc(e)>1&&cr.defineProperties(e,{set:au,add:au,clear:au,delete:au}),cr.freeze(e),t&&Qf(e,(r,n)=>{o0(n,!0)},!1)),e}function u$(){Wr(2)}var au={[Ns]:u$};function nh(e){return e===null||!a0(e)?!0:cr.isFrozen(e)}var kd="MapSet",Pg="Patches",Q1="ArrayMethods",K2={};function Ci(e){const t=K2[e];return t||Wr(0,e),t}var ew=e=>!!K2[e],Rs,F2=()=>Rs,d$=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ew(kd)?Ci(kd):void 0,arrayMethodsPlugin_:ew(Q1)?Ci(Q1):void 0});function tw(e,t){t&&(e.patchPlugin_=Ci(Pg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ng(e){Rg(e),e.drafts_.forEach(f$),e.drafts_=null}function Rg(e){e===Rs&&(Rs=e.parent_)}var rw=e=>Rs=d$(Rs,e);function f$(e){const t=e[It];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function nw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[It].modified_&&(Ng(t),Wr(4)),Xr(e)&&(e=aw(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[It].base_,e,t)}else e=aw(t,r);return h$(t,e,!0),Ng(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==V2?e:void 0}function aw(e,t){if(nh(t))return t;const r=t[It];if(!r)return Pd(t,e.handledSet_,e);if(!ah(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Z2(r,e)}return r.copy_}function h$(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&o0(t,r)}function Y2(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ah=(e,t)=>e.scope_===t,m$=[];function X2(e,t,r,n){const a=wn(e),i=e.type_;if(n!==void 0&&Tg(a,n,i)===t){Td(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Qf(a,(s,u)=>{if(Hn(u)){const d=l.get(u)||[];d.push(s),l.set(u,d)}})}const o=e.draftLocations_.get(t)??m$;for(const l of o)Td(a,l,r,i)}function p$(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!ah(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=i0(i);X2(e,i.draft_??i,o,r),Z2(i,a)})}function Z2(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}Y2(e)}}function g$(e,t,r){const{scope_:n}=e;if(Hn(r)){const a=r[It];ah(a,n)&&a.callbacks_.push(function(){zu(e);const o=i0(a);X2(e,r,o,t)})}else Xr(r)&&e.callbacks_.push(function(){const i=wn(e);e.type_===3?i.has(r)&&Pd(r,n.handledSet_,n):Tg(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Pd(Tg(e.copy_,t,e.type_),n.handledSet_,n)})}function Pd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Hn(e)||t.has(e)||!Xr(e)||nh(e)||(t.add(e),Qf(e,(n,a)=>{if(Hn(a)){const i=a[It];if(ah(i,r)){const o=i0(i);Td(e,n,o,e.type_),Y2(i)}}else Xr(a)&&Pd(a,t,r)})),e}function v$(e,t){const r=eh(e),n={type_:r?1:0,scope_:t?t.scope_:F2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Nd;r&&(a=[n],i=Ms);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var Nd={get(e,t){if(t===It)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=wn(e);if(!J1(a,t,e.type_))return y$(e,a,t);const i=a[t];if(e.finalized_||!Xr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&c$(t))return i;if(i===Wm(e.base_,t)){zu(e);const o=e.type_===1?+t:t,l=Dg(e.scope_,i,e,o);return e.copy_[o]=l}return i},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,r){const n=J2(wn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Wm(wn(e),t),i=a==null?void 0:a[It];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(s$(r,a)&&(r!==void 0||J1(e.base_,t,e.type_)))return!0;zu(e),Mg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),g$(e,t,r)),!0},deleteProperty(e,t){return zu(e),Wm(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Mg(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Du]:!0,[Ag]:e.type_!==1||t!=="length",[Ad]:n[Ad],[Ns]:r[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return Fo(e.base_)},setPrototypeOf(){Wr(12)}},Ms={};for(let e in Nd){let t=Nd[e];Ms[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Ms.deleteProperty=function(e,t){return Ms.set.call(this,e,t,void 0)};Ms.set=function(e,t,r){return Nd.set.call(this,e[0],t,r,e[0])};function Wm(e,t){const r=e[It];return(r?wn(r):e)[t]}function y$(e,t,r){var a;const n=J2(t,r);return n?Ns in n?n[Ns]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function J2(e,t){if(!(t in e))return;let r=Fo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Fo(r)}}function Mg(e){e.modified_||(e.modified_=!0,e.parent_&&Mg(e.parent_))}function zu(e){e.copy_||(e.assigned_=new Map,e.copy_=kg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var b$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(oo(r)&&!oo(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}oo(n)||Wr(6),a!==void 0&&!oo(a)&&Wr(7);let i;if(Xr(r)){const o=rw(this),l=Dg(o,r,void 0);let s=!0;try{i=n(l),s=!1}finally{s?Ng(o):Rg(o)}return tw(o,a),nw(i,o)}else if(!r||!a0(r)){if(i=n(r),i===void 0&&(i=r),i===V2&&(i=void 0),this.autoFreeze_&&o0(i,!0),a){const o=[],l=[];Ci(Pg).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else Wr(1,r)},this.produceWithPatches=(r,n)=>{if(oo(r))return(l,...s)=>this.produceWithPatches(l,u=>r(u,...s));let a,i;return[this.produce(r,n,(l,s)=>{a=l,i=s}),a,i]},Hm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Hm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Hm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xr(t)||Wr(8),Hn(t)&&(t=Kr(t));const r=rw(this),n=Dg(r,t,void 0);return n[It].isManual_=!0,Rg(r),n}finishDraft(t,r){const n=t&&t[It];(!n||!n.isManual_)&&Wr(9);const{scope_:a}=n;return tw(a,r),nw(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Ci(Pg).applyPatches_;return Hn(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Dg(e,t,r,n){const[a,i]=th(t)?Ci(kd).proxyMap_(t,r):rh(t)?Ci(kd).proxySet_(t,r):v$(t,r);return((r==null?void 0:r.scope_)??F2()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?p$(r,i,n):i.callbacks_.push(function(s){var d;(d=s.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=s;i.modified_&&u&&u.generatePatches_(i,[],s)}),a}function Kr(e){return Hn(e)||Wr(10,e),Q2(e)}function Q2(e){if(!Xr(e)||nh(e))return e;const t=e[It];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=kg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=kg(e,!0);return Qf(r,(a,i)=>{Td(r,a,Q2(i))},n),t&&(t.finalized_=!1),r}var x$=new b$,eT=x$.produce;function tT(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var w$=tT(),_$=tT,S$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Od:Od.apply(null,arguments)};function Mr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(mr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>W2(n)&&n.type===e,r}var rT=class Gl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gl.prototype)}static get[Symbol.species](){return Gl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gl(...t[0].concat(this)):new Gl(...t.concat(this))}};function iw(e){return Xr(e)?eT(e,()=>{}):e}function iu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function j$(e){return typeof e=="boolean"}var E$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new rT;return r&&(j$(r)?o.push(w$):o.push(_$(r.extraArgument))),o},nT="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[nT]:!0}}),ow=e=>t=>{setTimeout(t,e)},aT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,s=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ow(10):e.type==="callback"?e.queueNotification:ow(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[nT]),i=!a,i&&(o||(o=!0,s(u))),n.dispatch(d)}finally{a=!0}}})},O$=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new rT(e);return n&&a.push(aT(typeof n=="object"?n:void 0)),a};function C$(e){const t=E$(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(n0(r))l=H2(r);else throw new Error(mr(1));let s;typeof n=="function"?s=n(t):s=t();let u=Od;a&&(u=S$({trace:!1,...typeof a=="object"&&a}));const d=o$(...s),f=O$(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return q2(l,i,m)}function iT(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(mr(28));if(l in t)throw new Error(mr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function A$(e){return typeof e=="function"}function T$(e,t){let[r,n,a]=iT(t),i;if(A$(e))i=()=>iw(e());else{const l=iw(e);i=()=>l}function o(l=i(),s){let u=[r[s.type],...n.filter(({matcher:d})=>d(s)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Hn(d)){const m=f(d,s);return m===void 0?d:m}else{if(Xr(d))return eT(d,h=>f(h,s));{const h=f(d,s);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var k$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P$=(e=21)=>{let t="",r=e;for(;r--;)t+=k$[Math.random()*64|0];return t},N$=Symbol.for("rtk-slice-createasyncthunk");function R$(e,t){return`${e}/${t}`}function M$({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[N$];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(mr(11));const l=(typeof a.reducers=="function"?a.reducers(z$()):a.reducers)||{},s=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(mr(12));if(S in u.sliceCaseReducersByType)throw new Error(mr(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};s.forEach(_=>{const j=l[_],S={reducerName:_,type:R$(i,_),createNotation:typeof a.reducers=="function"};I$(j)?L$(S,j,d,t):B$(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof a.extraReducers=="function"?iT(a.extraReducers):[a.extraReducers],E={..._,...u.sliceCaseReducersByType};return T$(a.initialState,O=>{for(let A in E)O.addCase(A,E[A]);for(let A of u.sliceMatchers)O.addMatcher(A.matcher,A.reducer);for(let A of j)O.addMatcher(A.matcher,A.reducer);S&&O.addDefaultCase(S)})}const h=_=>_,m=new Map,g=new WeakMap;let b;function y(_,j){return b||(b=f()),b(_,j)}function p(){return b||(b=f()),b.getInitialState()}function v(_,j=!1){function S(O){let A=O[_];return typeof A>"u"&&j&&(A=iu(g,S,p)),A}function E(O=h){const A=iu(m,j,()=>new WeakMap);return iu(A,O,()=>{const k={};for(const[z,P]of Object.entries(a.selectors??{}))k[z]=D$(P,O,()=>iu(g,O,p),j);return k})}return{reducerPath:_,getSelectors:E,get selectors(){return E(S)},selectSlice:S}}const x={name:i,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:p,...v(o),injectInto(_,{reducerPath:j,...S}={}){const E=j??o;return _.inject({reducerPath:E,reducer:y},S),{...x,...v(E,!0)}}};return x}}function D$(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Zt=M$();function z$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function B$({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!$$(n))throw new Error(mr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Mr(e,o):Mr(e))}function I$(e){return e._reducerDefinitionType==="asyncThunk"}function $$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function L$({type:e,reducerName:t},r,n,a){if(!a)throw new Error(mr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:s,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),s&&n.addCase(f.rejected,s),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||ou,pending:l||ou,rejected:s||ou,settled:u||ou})}function ou(){}var U$="task",oT="listener",lT="completed",l0="cancelled",q$=`task-${l0}`,H$=`task-${lT}`,zg=`${oT}-${l0}`,W$=`${oT}-${lT}`,ih=class{constructor(e){Wh(this,"name","TaskAbortError");Wh(this,"message");this.code=e,this.message=`${U$} ${l0} (reason: ${e})`}},s0=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},Rd=()=>{},sT=(e,t=Rd)=>(e.catch(t),e),cT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),vi=e=>{if(e.aborted)throw new ih(e.reason)};function uT(e,t){let r=Rd;return new Promise((n,a)=>{const i=()=>a(new ih(e.reason));if(e.aborted){i();return}r=cT(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Rd})}var V$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ih?"cancelled":"rejected",error:r}}finally{t==null||t()}},Md=e=>t=>sT(uT(e,t).then(r=>(vi(e),r))),dT=e=>{const t=Md(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ko}=Object,lw={},oh="listenerMiddleware",G$=(e,t)=>{const r=n=>cT(e,()=>n.abort(e.reason));return(n,a)=>{s0(n);const i=new AbortController;r(i);const o=V$(async()=>{vi(e),vi(i.signal);const l=await n({pause:Md(i.signal),delay:dT(i.signal),signal:i.signal});return vi(i.signal),l},()=>i.abort(H$));return a!=null&&a.autoJoin&&t.push(o.catch(Rd)),{result:Md(e)(o),cancel(){i.abort(q$)}}}},K$=(e,t)=>{const r=async(n,a)=>{vi(t);let i=()=>{};const l=[new Promise((s,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),s([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await uT(t,Promise.race(l));return vi(t),s}finally{i()}};return(n,a)=>sT(r(n,a))},fT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Mr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(mr(21));return s0(i),{predicate:a,type:t,effect:i}},hT=ko(e=>{const{type:t,predicate:r,effect:n}=fT(e);return{id:P$(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>hT}),sw=(e,t)=>{const{type:r,effect:n,predicate:a}=fT(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Bg=e=>{e.pending.forEach(t=>{t.abort(zg)})},F$=(e,t)=>()=>{for(const r of t.keys())Bg(r);e.clear()},cw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},mT=ko(Mr(`${oh}/add`),{withTypes:()=>mT}),Y$=Mr(`${oh}/removeAll`),pT=ko(Mr(`${oh}/remove`),{withTypes:()=>pT}),X$=(...e)=>{console.error(`${oh}/error`,...e)},dc=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},a=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:i,onError:o=X$}=e;s0(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&Bg(m)}),s=m=>{const g=sw(t,m)??hT(m);return l(g)};ko(s,{withTypes:()=>s});const u=m=>{const g=sw(t,m);return g&&(g.unsubscribe(),m.cancelActive&&Bg(g)),!!g};ko(u,{withTypes:()=>u});const d=async(m,g,b,y)=>{const p=new AbortController,v=K$(s,p.signal),x=[];try{m.pending.add(p),n(m),await Promise.resolve(m.effect(g,ko({},b,{getOriginalState:y,condition:(_,j)=>v(_,j).then(Boolean),take:v,delay:dT(p.signal),pause:Md(p.signal),extra:i,signal:p.signal,fork:G$(p.signal,x),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,j,S)=>{_!==p&&(_.abort(zg),S.delete(_))})},cancel:()=>{p.abort(zg),m.pending.delete(p)},throwIfCancelled:()=>{vi(p.signal)}})))}catch(_){_ instanceof ih||cw(o,_,{raisedBy:"effect"})}finally{await Promise.all(x),p.abort(W$),a(m),m.pending.delete(p)}},f=F$(t,r);return{middleware:m=>g=>b=>{if(!W2(b))return g(b);if(mT.match(b))return s(b.payload);if(Y$.match(b)){f();return}if(pT.match(b))return u(b.payload);let y=m.getState();const p=()=>{if(y===lw)throw new Error(mr(23));return y};let v;try{if(v=g(b),t.size>0){const x=m.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(b,x,y)}catch(E){S=!1,cw(o,E,{raisedBy:"predicate"})}S&&d(j,b,m,p)}}}finally{y=lw}return v},startListening:s,stopListening:u,clearListeners:f}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gT=Zt({name:"chartLayout",initialState:Z$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:J$,setLayout:Q$,setChartSize:e8,setScale:t8}=gT.actions,r8=gT.reducer;function vT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Le(e){return Number.isFinite(e)}function cn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){n8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n8(e,t,r){return(t=a8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a8(e){var t=i8(e,"string");return typeof t=="symbol"?t:t+""}function i8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return gt(e)||gt(t)?r:sn(t)?Go(e,t,r):typeof t=="function"?t(e):r}var o8=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&K(e[i]))return xo(xo({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&K(e[o]))return xo(xo({},e),{},{[o]:e[o]+(a||0)})}return e},Li=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",yT=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},bT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:s,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(b=m==="angleAxis"&&i&&i.length>=2?Gt(i[0]-i[1])*2*b:b,f||h){var y=(f||h||[]).map((p,v)=>{var x=n?n.indexOf(p):p;return{coordinate:o(x)+b,value:p,offset:b,index:v}});return y.filter(p=>!Fr(p.coordinate))}return s&&u?u.map((p,v)=>({coordinate:o(p)+b,value:p,index:v,offset:b})):o.ticks&&d!=null?o.ticks(d).map((p,v)=>({coordinate:o(p)+b,value:p,offset:b,index:v})):o.domain().map((p,v)=>({coordinate:o(p)+b,value:n?n[p]:p,index:v,offset:b}))},dw=1e-4,l8=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-dw,i=Math.max(n[0],n[1])+dw,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},s8=(e,t)=>{if(!t||t.length!==2||!K(t[0])||!K(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!K(e[0])||e[0]<r)&&(a[0]=r),(!K(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},c8=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var s=e[l],u=s==null?void 0:s[a];if(u!=null){var d=u[1],f=u[0],h=Fr(d)?f:d;h>=0?(u[0]=i,u[1]=i+h,i=d):(u[0]=o,u[1]=o+h,o=d)}}}},u8=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var l=e[o],s=l==null?void 0:l[a];if(s!=null){var u=Fr(s[1])?s[0]:s[1];u>=0?(s[0]=i,s[1]=i+u,i=s[1]):(s[0]=0,s[1]=0)}}}},d8={sign:c8,expand:Y6,none:Oi,silhouette:X6,wiggle:Z6,positive:u8},f8=(e,t,r)=>{var n,a=(n=d8[r])!==null&&n!==void 0?n:Oi,i=F6().keys(t).value((l,s)=>Number(At(l,s,0))).order(Og).offset(a),o=i(e);return o.forEach((l,s)=>{l.forEach((u,d)=>{var f=At(e[d],t[s],0);Array.isArray(f)&&f.length===2&&K(f[0])&&K(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function h8(e){return e==null?void 0:String(e)}var fw=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=At(i,t.dataKey,t.scale.domain()[o]);return gt(l)?null:t.scale(l)-a/2+n},m8=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},p8=e=>{var t=e.flat(2).filter(K);return[Math.min(...t),Math.max(...t)]},g8=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],v8=(e,t,r)=>{if(e!=null)return g8(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,l=o.reduce((s,u)=>{var d=vT(u,t,r),f=p8(d);return!Le(f[0])||!Le(f[1])?s:[Math.min(s[0],f[0]),Math.max(s[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},hw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Zf(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var s=a[o],u=a[o-1];i=Math.min(((s==null?void 0:s.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function pw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return xo(xo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function xT(e,t){if(e)return String(e);if(typeof t=="string")return t}var y8=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},b8=(e,t)=>t==="centric"?e.angle:e.radius,Jn=e=>e.layout.width,Qn=e=>e.layout.height,x8=e=>e.layout.scale,wT=e=>e.layout.margin,lh=R(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sh=R(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),w8="data-recharts-item-index",_8="data-recharts-item-id",fc=60;function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){S8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S8(e,t,r){return(t=j8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8(e){var t=E8(e,"string");return typeof t=="symbol"?t:t+""}function E8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O8=e=>e.brush.height;function C8(e){var t=sh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fc;return r+a}return r},0)}function A8(e){var t=sh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fc;return r+a}return r},0)}function T8(e){var t=lh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function k8(e){var t=lh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vt=R([Jn,Qn,wT,O8,C8,A8,T8,k8,U2,e$],(e,t,r,n,a,i,o,l,s,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=lu(lu({},f),d),m=h.bottom;h.bottom+=n,h=o8(h,s,u);var g=e-h.left-h.right,b=t-h.top-h.bottom;return lu(lu({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(b,0)})}),P8=R(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),c0=R(Jn,Qn,(e,t)=>({x:0,y:0,width:e,height:t})),N8=w.createContext(null),Jt=()=>w.useContext(N8)!=null,ch=e=>e.brush,uh=R([ch,vt,wT],(e,t,r)=>({height:e.height,x:K(e.x)?e.x:t.left,y:K(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:K(e.width)?e.width:t.width})),_T={},ST={},jT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const s=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{g(),o=void 0,l=null},y=()=>{d()},p=function(...v){if(a!=null&&a.aborted)return;o=this,l=v;const x=h==null;m(),s&&x&&d()};return p.schedule=m,p.cancel=b,p.flush=y,a==null||a.addEventListener("abort",b,{once:!0}),p}e.debounce=t})(jT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jT;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:s}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...b){d=n.apply(this,b),f=null},a,{edges:u}),m=function(...b){return s!=null&&(f===null&&(f=Date.now()),Date.now()-f>=s)?(d=n.apply(this,b),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,b),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(ST);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ST;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(_T);var R8=_T.throttle;const M8=Yn(R8);var zd=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},ET=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=qn(n)?e:Number(n),s=qn(a)?t:Number(a);return i&&i>0&&(l?s=l/i:s&&(l=s*i),o&&s!=null&&s>o&&(s=o)),{calculatedWidth:l,calculatedHeight:s}},D8={width:0,height:0,overflow:"visible"},z8={width:0,overflowX:"visible"},B8={height:0,overflowY:"visible"},I8={},$8=e=>{var{width:t,height:r}=e,n=qn(t),a=qn(r);return n&&a?D8:n?z8:a?B8:I8};function L8(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(null,arguments)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){U8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U8(e,t,r){return(t=q8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8(e){var t=H8(e,"string");return typeof t=="symbol"?t:t+""}function H8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OT=w.createContext({width:-1,height:-1});function W8(e){return cn(e.width)&&cn(e.height)}function CT(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return W8(a)?w.createElement(OT.Provider,{value:a},t):null}var u0=()=>w.useContext(OT),V8=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:s,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,b=w.useRef(null),y=w.useRef();y.current=m,w.useImperativeHandle(t,()=>b.current);var[p,v]=w.useState({containerWidth:n.width,containerHeight:n.height}),x=w.useCallback((O,A)=>{v(k=>{var z=Math.round(O),P=Math.round(A);return k.containerWidth===z&&k.containerHeight===P?k:{containerWidth:z,containerHeight:P}})},[]);w.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return cc;var O=P=>{var W,{width:H,height:Z}=P[0].contentRect;x(H,Z),(W=y.current)===null||W===void 0||W.call(y,H,Z)};d>0&&(O=M8(O,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(O),{width:k,height:z}=b.current.getBoundingClientRect();return x(k,z),A.observe(b.current),()=>{A.disconnect()}},[x,d]);var{containerWidth:_,containerHeight:j}=p;zd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:E}=ET(_,j,{width:a,height:i,aspect:r,maxHeight:s});return zd(S!=null&&S>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,E,a,i,o,l,r),w.createElement("div",{id:f?"".concat(f):void 0,className:De("recharts-responsive-container",h),style:yw(yw({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:s}),ref:b},w.createElement("div",{style:$8({width:a,height:i})},w.createElement(CT,{width:S,height:E},u)))}),G8=w.forwardRef((e,t)=>{var r=u0();if(cn(r.width)&&cn(r.height))return e.children;var{width:n,height:a}=L8({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=ET(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return K(i)&&K(o)?w.createElement(CT,{width:i,height:o},e.children):w.createElement(V8,Ig({},e,{width:n,height:a,ref:t}))});function AT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var dh=()=>{var e,t=Jt(),r=X(P8),n=X(uh),a=(e=X(ch))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},K8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TT=()=>{var e;return(e=X(vt))!==null&&e!==void 0?e:K8},kT=()=>X(Jn),PT=()=>X(Qn),xe=e=>e.layout.layoutType,hc=()=>X(xe),F8=()=>{var e=hc();return e!==void 0},fh=e=>{var t=Ke(),r=Jt(),{width:n,height:a}=e,i=u0(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),w.useEffect(()=>{!r&&cn(o)&&cn(l)&&t(e8({width:o,height:l}))},[t,r,o,l]),null},NT=Symbol.for("immer-nothing"),bw=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ds=Object.getPrototypeOf;function Yo(e){return!!e&&!!e[vr]}function Ai(e){var t;return e?RT(e)||Array.isArray(e)||!!e[bw]||!!((t=e.constructor)!=null&&t[bw])||mc(e)||mh(e):!1}var Y8=Object.prototype.constructor.toString(),xw=new WeakMap;function RT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=xw.get(r);return n===void 0&&(n=Function.toString.call(r),xw.set(r,n)),n===Y8}function Bd(e,t,r=!0){hh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function hh(e){const t=e[vr];return t?t.type_:Array.isArray(e)?1:mc(e)?2:mh(e)?3:0}function $g(e,t){return hh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function MT(e,t,r){const n=hh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function X8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mc(e){return e instanceof Map}function mh(e){return e instanceof Set}function ri(e){return e.copy_||e.base_}function Lg(e,t){if(mc(e))return new Map(e);if(mh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=RT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[vr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Ds(e),n)}else{const n=Ds(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function d0(e,t=!1){return ph(e)||Yo(e)||!Ai(e)||(hh(e)>1&&Object.defineProperties(e,{set:su,add:su,clear:su,delete:su}),Object.freeze(e),t&&Object.values(e).forEach(r=>d0(r,!0))),e}function Z8(){Vr(2)}var su={value:Z8};function ph(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var J8={};function Ti(e){const t=J8[e];return t||Vr(0,e),t}var zs;function DT(){return zs}function Q8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ww(e,t){t&&(Ti("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ug(e){qg(e),e.drafts_.forEach(eL),e.drafts_=null}function qg(e){e===zs&&(zs=e.parent_)}function _w(e){return zs=Q8(zs,e)}function eL(e){const t=e[vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Sw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[vr].modified_&&(Ug(t),Vr(4)),Ai(e)&&(e=Id(t,e),t.parent_||$d(t,e)),t.patches_&&Ti("Patches").generateReplacementPatches_(r[vr].base_,e,t.patches_,t.inversePatches_)):e=Id(t,r,[]),Ug(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NT?e:void 0}function Id(e,t,r){if(ph(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[vr];if(!a)return Bd(t,(i,o)=>jw(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return $d(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),Bd(o,(s,u)=>jw(e,a,i,s,u,r,l),n),$d(e,i,!1),r&&e.patches_&&Ti("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function jw(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=ph(a);if(!(l&&!o)){if(Yo(a)){const s=i&&t&&t.type_!==3&&!$g(t.assigned_,n)?i.concat(n):void 0,u=Id(e,a,s);if(MT(r,n,u),Yo(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ai(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Id(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(mc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&$d(e,a)}}}function $d(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&d0(t,r)}function tL(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:DT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=f0;r&&(a=[n],i=Bs);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var f0={get(e,t){if(t===vr)return e;const r=ri(e);if(!$g(r,t))return rL(e,r,t);const n=r[t];return e.finalized_||!Ai(n)?n:n===Vm(e.base_,t)?(Gm(e),e.copy_[t]=Wg(n,e)):n},has(e,t){return t in ri(e)},ownKeys(e){return Reflect.ownKeys(ri(e))},set(e,t,r){const n=zT(ri(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Vm(ri(e),t),i=a==null?void 0:a[vr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(X8(r,a)&&(r!==void 0||$g(e.base_,t)))return!0;Gm(e),Hg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Vm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Gm(e),Hg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ri(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Ds(e.base_)},setPrototypeOf(){Vr(12)}},Bs={};Bd(f0,(e,t)=>{Bs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bs.deleteProperty=function(e,t){return Bs.set.call(this,e,t,void 0)};Bs.set=function(e,t,r){return f0.set.call(this,e[0],t,r,e[0])};function Vm(e,t){const r=e[vr];return(r?ri(r):e)[t]}function rL(e,t,r){var a;const n=zT(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function zT(e,t){if(!(t in e))return;let r=Ds(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ds(r)}}function Hg(e){e.modified_||(e.modified_=!0,e.parent_&&Hg(e.parent_))}function Gm(e){e.copy_||(e.copy_=Lg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nL=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(s=i,...u){return o.produce(s,d=>r.call(this,d,...u))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let a;if(Ai(t)){const i=_w(this),o=Wg(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Ug(i):qg(i)}return ww(i,n),Sw(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===NT&&(a=void 0),this.autoFreeze_&&d0(a,!0),n){const i=[],o=[];Ti("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,s=>t(s,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ai(e)||Vr(8),Yo(e)&&(e=aL(e));const t=_w(this),r=Wg(e,void 0);return r[vr].isManual_=!0,qg(t),r}finishDraft(e,t){const r=e&&e[vr];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return ww(n,t),Sw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ti("Patches").applyPatches_;return Yo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Wg(e,t){const r=mc(e)?Ti("MapSet").proxyMap_(e,t):mh(e)?Ti("MapSet").proxySet_(e,t):tL(e,t);return(t?t.scope_:DT()).drafts_.push(r),r}function aL(e){return Yo(e)||Vr(10,e),BT(e)}function BT(e){if(!Ai(e)||ph(e))return e;const t=e[vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Lg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Lg(e,!0);return Bd(r,(a,i)=>{MT(r,a,BT(i))},n),t&&(t.finalized_=!1),r}var iL=new nL;iL.produce;var oL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},IT=Zt({name:"legend",initialState:oL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Kr(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=Kr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:RZ,setLegendSettings:MZ,addLegendPayload:lL,replaceLegendPayload:sL,removeLegendPayload:cL}=IT.actions,uL=IT.reducer;function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(null,arguments)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){dL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dL(e,t,r){return(t=fL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fL(e){var t=hL(e,"string");return typeof t=="symbol"?t:t+""}function hL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mL(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var pL=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:s,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(l?Zf(i,l):i).map((E,O)=>{if(E.type==="none")return null;var A=E.formatter||o||mL,{value:k,name:z}=E,P=k,W=z;if(A){var H=A(k,z,E,O,i);if(Array.isArray(H))[P,W]=H;else if(H!=null)P=H;else return null}var Z=Km({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Z},sn(W)?w.createElement("span",{className:"recharts-tooltip-item-name"},W):null,sn(W)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},P),w.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},g=Km({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Km({margin:0},a),y=!gt(d),p=y?d:"",v=De("recharts-default-tooltip",s),x=De("recharts-tooltip-label",u);y&&f&&i!==void 0&&i!==null&&(p=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Vg({className:v,style:g},_),w.createElement("p",{className:x,style:b},w.isValidElement(p)?p:"".concat(p)),m())},Nl="recharts-tooltip-wrapper",gL={visibility:"hidden"};function vL(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(Nl,{["".concat(Nl,"-right")]:K(r)&&t&&K(t.x)&&r>=t.x,["".concat(Nl,"-left")]:K(r)&&t&&K(t.x)&&r<t.x,["".concat(Nl,"-bottom")]:K(n)&&t&&K(t.y)&&n>=t.y,["".concat(Nl,"-top")]:K(n)&&t&&K(t.y)&&n<t.y})}function Ow(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:s,viewBoxDimension:u}=e;if(i&&K(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=s[n];if(h==null)return 0;if(o[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var b=f+l,y=h+u;return b>y?Math.max(d,h):Math.max(f,h)}function yL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:s}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=Ow({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:s,viewBoxDimension:s.width}),f=Ow({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:s,viewBoxDimension:s.height}),u=yL({translateX:d,translateY:f,useTranslate3d:l})):u=gL,{cssProperties:u,cssClasses:vL({translateX:d,translateY:f,coordinate:r})}}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){Gg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gg(e,t,r){return(t=xL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xL(e){var t=wL(e,"string");return typeof t=="symbol"?t:t+""}function wL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _L extends w.PureComponent{constructor(){super(...arguments),Gg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Gg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:s,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:b,innerRef:y,hasPortalFromProps:p}=this.props,{cssClasses:v,cssProperties:x}=bL({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),_=p?{}:cu(cu({transition:s&&t?"transform ".concat(n,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=cu(cu({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:j,ref:y},i)}}var $T=()=>{var e;return(e=X(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(null,arguments)}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){SL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SL(e,t,r){return(t=jL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=EL(e,"string");return typeof t=="symbol"?t:t+""}function EL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kw={curveBasisClosed:B6,curveBasisOpen:I6,curveBasis:z6,curveBumpX:_6,curveBumpY:S6,curveLinearClosed:$6,curveLinear:Hf,curveMonotoneX:L6,curveMonotoneY:U6,curveNatural:q6,curveStep:H6,curveStepAfter:V6,curveStepBefore:W6},Ld=e=>Le(e.x)&&Le(e.y),Pw=e=>e.base!=null&&Ld(e.base)&&Ld(e),Rl=e=>e.x,Ml=e=>e.y,OL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(sc(e));return(r==="curveMonotone"||r==="curveBump")&&t?kw["".concat(r).concat(t==="vertical"?"Y":"X")]:kw[r]||Hf},CL=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=OL(t,a),l=i?r.filter(Ld):r,s;if(Array.isArray(n)){var u=r.map((m,g)=>Tw(Tw({},m),{},{base:n[g]}));a==="vertical"?s=tu().y(Ml).x1(Rl).x0(m=>m.base.x):s=tu().x(Rl).y1(Ml).y0(m=>m.base.y);var d=s.defined(Pw).curve(o),f=i?u.filter(Pw):u;return d(f)}a==="vertical"&&K(n)?s=tu().y(Ml).x1(Rl).x0(n):K(n)?s=tu().x(Rl).y1(Ml).y0(n):s=XA().x(Rl).y(Ml);var h=s.defined(Ld).curve(o);return h(l)},LT=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=hc();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?CL(o):n;return w.createElement("path",Kg({},Ln(e),hI(e),{className:De("recharts-curve",t),d:l===null?void 0:l,ref:a}))},AL=["x","y","top","left","width","height","className"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(null,arguments)}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){kL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kL(e,t,r){return(t=PL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PL(e){var t=NL(e,"string");return typeof t=="symbol"?t:t+""}function NL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RL(e,t){if(e==null)return{};var r,n,a=ML(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ML(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DL=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),zL=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,s=RL(e,AL),u=TL({x:t,y:r,top:n,left:a,width:i,height:o},s);return!K(t)||!K(r)||!K(i)||!K(o)||!K(n)||!K(a)?null:w.createElement("path",Fg({},Rr(u),{className:De("recharts-cross",l),d:DL(t,r,i,o,n,a)}))};function BL(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){IL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IL(e,t,r){return(t=$L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=LL(e,"string");return typeof t=="symbol"?t:t+""}function LL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UL=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),UT=(e,t,r)=>e.map(n=>"".concat(UL(n)," ").concat(t,"ms ").concat(r)).join(","),qL=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Is=(e,t)=>Object.keys(t).reduce((r,n)=>Mw(Mw({},r),{},{[n]:e(n,t[n])}),{});function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){HL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HL(e,t,r){return(t=WL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=VL(e,"string");return typeof t=="symbol"?t:t+""}function VL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ud=(e,t,r)=>e+(t-e)*r,Yg=e=>{var{from:t,to:r}=e;return t!==r},qT=(e,t,r)=>{var n=Is((a,i)=>{if(Yg(i)){var[o,l]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Is((a,i)=>Yg(i)&&n[a]!=null?nt(nt({},i),{},{velocity:Ud(i.velocity,n[a].velocity,r),from:Ud(i.from,n[a].from,r)}):i,t):qT(e,n,r-1)};function GL(e,t,r,n,a,i){var o,l=n.reduce((h,m)=>nt(nt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),s=()=>Is((h,m)=>m.from,l),u=()=>!Object.values(l).filter(Yg).length,d=null,f=h=>{o||(o=h);var m=h-o,g=m/r.dt;l=qT(r,l,g),a(nt(nt(nt({},e),t),s())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function KL(e,t,r,n,a,i,o){var l=null,s=a.reduce((f,h)=>{var m=e[h],g=t[h];return m==null||g==null?f:nt(nt({},f),{},{[h]:[m,g]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Is((b,y)=>Ud(...y,r(h)),s);if(i(nt(nt(nt({},e),t),m)),h<1)l=o.setTimeout(d);else{var g=Is((b,y)=>Ud(...y,r(1)),s);i(nt(nt(nt({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const FL=(e,t,r,n,a,i)=>{var o=qL(e,t);return r==null?()=>(a(nt(nt({},e),t)),()=>{}):r.isStepper===!0?GL(e,t,r,o,a,i):KL(e,t,r,n,o,a,i)};var qd=1e-4,HT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],WT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),zw=(e,t)=>r=>{var n=HT(e,t);return WT(n,r)},YL=(e,t)=>r=>{var n=HT(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return WT(a,r)},XL=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},ZL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=XL(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},JL=(e,t,r,n)=>{var a=zw(e,r),i=zw(t,n),o=YL(e,r),l=u=>u>1?1:u<0?0:u,s=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,g=o(f);if(Math.abs(m-d)<qd||g<qd)return i(f);f=l(f-m/g)}return i(f)};return s.isStepper=!1,s},Bw=function(){return JL(...ZL(...arguments))},QL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,s)=>{var u=-(o-l)*r,d=s*n,f=s+(u-d)*a/1e3,h=s*a/1e3+o;return Math.abs(h-l)<qd&&Math.abs(f)<qd?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},eU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Bw(e);case"spring":return QL();default:if(e.split("(")[0]==="cubic-bezier")return Bw(e)}return typeof e=="function"?e:null};function tU(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[s,...u]=l;if(typeof s=="number"){a=e.setTimeout(i.bind(null,u),s);return}i(s),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class rU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function nU(){return tU(new rU)}var aU=w.createContext(nU);function iU(e,t){var r=w.useContext(aU);return w.useMemo(()=>t??r(e),[e,t,r])}var oU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gh={isSsr:oU()},lU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Iw={t:0},Fm={t:1};function h0(e){var t=yr(e,lU),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:s,children:u}=t,d=r==="auto"?!gh.isSsr:r,f=iU(t.animationId,t.animationManager),[h,m]=w.useState(d?Iw:Fm),g=w.useRef(null);return w.useEffect(()=>{d||m(Fm)},[d]),w.useEffect(()=>{if(!d||!n)return cc;var b=FL(Iw,Fm,eU(i),a,m,f.getTimeoutController()),y=()=>{g.current=b()};return f.start([s,o,y,a,l]),()=>{f.stop(),g.current&&g.current(),l()}},[d,n,a,i,o,s,l,f]),u(h.t)}function m0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Ps(t)),n=w.useRef(e);return n.current!==e&&(r.current=Ps(t),n.current=e),r.current}var sU=["radius"],cU=["radius"],$w,Lw,Uw,qw,Hw,Ww,Vw,Gw,Kw,Fw;function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){uU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uU(e,t,r){return(t=dU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dU(e){var t=fU(e,"string");return typeof t=="symbol"?t:t+""}function fU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(null,arguments)}function Zw(e,t){if(e==null)return{};var r,n,a=hU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function en(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Jw=(e,t,r,n,a)=>{var i=ja(r),o=ja(n),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),s=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>l?l:a[m];f=qe($w||($w=en(["M",",",""])),e,t+s*h[0]),h[0]>0&&(f+=qe(Lw||(Lw=en(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=qe(Uw||(Uw=en(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=qe(qw||(qw=en(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+s*h[1])),f+=qe(Hw||(Hw=en(["L ",",",""])),e+r,t+n-s*h[2]),h[2]>0&&(f+=qe(Ww||(Ww=en(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=qe(Vw||(Vw=en(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=qe(Gw||(Gw=en(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-s*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var b=Math.min(l,a);f=qe(Kw||(Kw=en(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+s*b,b,b,d,e+u*b,t,e+r-u*b,t,b,b,d,e+r,t+s*b,e+r,t+n-s*b,b,b,d,e+r-u*b,t+n,e+u*b,t+n,b,b,d,e,t+n-s*b)}else f=qe(Fw||(Fw=en(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},Qw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VT=e=>{var t=yr(e,Qw),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var{x:i,y:o,width:l,height:s,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:b}=t,y=w.useRef(l),p=w.useRef(s),v=w.useRef(i),x=w.useRef(o),_=w.useMemo(()=>({x:i,y:o,width:l,height:s,radius:u}),[i,o,l,s,u]),j=m0(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||s!==+s||l===0||s===0)return null;var S=De("recharts-rectangle",d);if(!b){var E=Rr(t),{radius:O}=E,A=Zw(E,sU);return w.createElement("path",Hd({},A,{x:ja(i),y:ja(o),width:ja(l),height:ja(s),radius:typeof u=="number"?u:void 0,className:S,d:Jw(i,o,l,s,u)}))}var k=y.current,z=p.current,P=v.current,W=x.current,H="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),C=UT(["strokeDasharray"],h,typeof f=="string"?f:Qw.animationEasing);return w.createElement(h0,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:b,begin:m},T=>{var N=_t(k,l,T),$=_t(z,s,T),U=_t(P,i,T),ne=_t(W,o,T);r.current&&(y.current=N,p.current=$,v.current=U,x.current=ne);var ce;g?T>0?ce={transition:C,strokeDasharray:Z}:ce={strokeDasharray:H}:ce={strokeDasharray:Z};var le=Rr(t),{radius:he}=le,ue=Zw(le,cU);return w.createElement("path",Hd({},ue,{radius:typeof u=="number"?u:void 0,className:S,d:Jw(U,ne,N,$,u),ref:r,style:Xw(Xw({},ce),t.style)}))})};function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){mU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mU(e,t,r){return(t=pU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wd=Math.PI/180,vU=e=>e*180/Math.PI,Ot=(e,t,r,n)=>({x:e+Math.cos(-Wd*n)*r,y:t+Math.sin(-Wd*n)*r}),yU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bU=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},xU=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=bU({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,s=Math.acos(l);return n>i&&(s=2*Math.PI-s),{radius:o,angle:vU(s),angleInRadian:s}},wU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},_U=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},SU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=xU({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:s,endAngle:u}=wU(t),d=i,f;if(s<=u){for(;d>u;)d-=360;for(;d<s;)d+=360;f=d>=s&&d<=u}else{for(;d>s;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=s}return f?t_(t_({},t),{},{radius:a,angle:_U(d,t)}):null};function GT(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Ot(t,r,n,a),l=Ot(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var r_,n_,a_,i_,o_,l_,s_;function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(null,arguments)}function li(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var jU=(e,t)=>{var r=Gt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},uu=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:s}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Wd,f=s?a:a+i*d,h=Ot(t,r,u,f),m=Ot(t,r,n,f),g=s?a-i*d:a,b=Ot(t,r,u*Math.cos(d*Wd),g);return{center:h,circleTangency:m,lineTangency:b,theta:d}},KT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=jU(i,o),s=i+l,u=Ot(t,r,a,i),d=Ot(t,r,a,s),f=qe(r_||(r_=li(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(i>s),d.x,d.y);if(n>0){var h=Ot(t,r,n,i),m=Ot(t,r,n,s);f+=qe(n_||(n_=li(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(i<=s),h.x,h.y)}else f+=qe(a_||(a_=li(["L ",","," Z"])),t,r);return f},EU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:s,endAngle:u}=e,d=Gt(u-s),{circleTangency:f,lineTangency:h,theta:m}=uu({cx:t,cy:r,radius:a,angle:s,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:b,theta:y}=uu({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),p=l?Math.abs(s-u):Math.abs(s-u)-m-y;if(p<0)return o?qe(i_||(i_=li(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):KT({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:u});var v=qe(o_||(o_=li(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(p>180),+(d<0),g.x,g.y,i,i,+(d<0),b.x,b.y);if(n>0){var{circleTangency:x,lineTangency:_,theta:j}=uu({cx:t,cy:r,radius:n,angle:s,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:E,theta:O}=uu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(s-u):Math.abs(s-u)-j-O;if(A<0&&i===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+=qe(l_||(l_=li(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,i,i,+(d<0),S.x,S.y,n,n,+(A>180),+(d>0),x.x,x.y,i,i,+(d<0),_.x,_.y)}else v+=qe(s_||(s_=li(["L",",","Z"])),t,r);return v},OU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FT=e=>{var t=yr(e,OU),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:s,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=De("recharts-sector",f),m=i-a,g=Yr(o,m,0,!0),b;return g>0&&Math.abs(u-d)<360?b=EU({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:s,startAngle:u,endAngle:d}):b=KT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),w.createElement("path",Xg({},Rr(t),{className:h,d:b}))};function CU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(f2(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,s=Ot(n,a,i,l),u=Ot(n,a,o,l);return[{x:s.x,y:s.y},{x:u.x,y:u.y}]}return GT(t)}}var YT={},XT={},ZT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ZT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZT;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(XT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r0,r=XT;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),s=new Array(l);for(let u=0;u<l;u++)s[u]=a,a+=o;return s}e.range=n})(YT);var AU=YT.range;const JT=Yn(AU);function Ma(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function p0(e){let t,r,n;e.length!==2?(t=Ma,r=(l,s)=>Ma(e(l),s),n=(l,s)=>e(l)-s):(t=e===Ma||e===TU?e:kU,r=e,n=e);function a(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const f=u+d>>>1;r(l[f],s)<0?u=f+1:d=f}while(u<d)}return u}function i(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const f=u+d>>>1;r(l[f],s)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,s,u=0,d=l.length){const f=a(l,s,u,d-1);return f>u&&n(l[f-1],s)>-n(l[f],s)?f-1:f}return{left:a,center:o,right:i}}function kU(){return 0}function QT(e){return e===null?NaN:+e}function*PU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const NU=p0(Ma),pc=NU.right;p0(QT).center;class c_ extends Map{constructor(t,r=DU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(u_(this,t))}has(t){return super.has(u_(this,t))}set(t,r){return super.set(RU(this,t),r)}delete(t){return super.delete(MU(this,t))}}function u_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function RU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function MU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function DU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zU(e=Ma){if(e===Ma)return ek;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ek(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BU=Math.sqrt(50),IU=Math.sqrt(10),$U=Math.sqrt(2);function Vd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=BU?10:i>=IU?5:i>=$U?2:1;let l,s,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=r&&r<2?Vd(e,t,r*2):[l,s,u]}function Zg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Vd(t,e,r):Vd(e,t,r);if(!(i>=a))return[];const l=i-a+1,s=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)s[u]=(i-u)/-o;else for(let u=0;u<l;++u)s[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)s[u]=(a+u)/-o;else for(let u=0;u<l;++u)s[u]=(a+u)*o;return s}function Jg(e,t,r){return t=+t,e=+e,r=+r,Vd(e,t,r)[2]}function Qg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Jg(t,e,r):Jg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function d_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function f_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tk(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ek:zU(a);n>r;){if(n-r>600){const s=n-r+1,u=t-r+1,d=Math.log(s),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(s-f)/s)*(u-s/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/s+h)),g=Math.min(n,Math.floor(t+(s-u)*f/s+h));tk(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Dl(e,r,t),a(e[n],i)>0&&Dl(e,r,n);o<l;){for(Dl(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Dl(e,r,l):(++l,Dl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Dl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function LU(e,t,r){if(e=Float64Array.from(PU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return f_(e);if(t>=1)return d_(e);var n,a=(n-1)*t,i=Math.floor(a),o=d_(tk(e,i).subarray(0,i+1)),l=f_(e.subarray(i+1));return o+(l-o)*(a-i)}}function UU(e,t,r=QT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function qU(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ea(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ev=Symbol("implicit");function g0(){var e=new c_,t=[],r=[],n=ev;function a(i){let o=e.get(i);if(o===void 0){if(n!==ev)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new c_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return g0(t,r).unknown(n)},zr.apply(a,arguments),a}function v0(){var e=g0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,s=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,b=m?n:a;i=(b-g)/Math.max(1,h-s+u*2),l&&(i=Math.floor(i)),g+=(b-g-i*(h-s))*d,o=i*(1-s),l&&(g=Math.round(g),o=Math.round(o));var y=qU(h).map(function(p){return g+i*p});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(s=Math.min(1,u=+h),f()):s},e.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),f()):s},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return v0(t(),[n,a]).round(l).paddingInner(s).paddingOuter(u).align(d)},zr.apply(f(),arguments)}function rk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rk(t())},e}function HU(){return rk(v0.apply(null,arguments).paddingInner(1))}function y0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function nk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function gc(){}var $s=.7,Gd=1/$s,Po="\\s*([+-]?\\d+)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WU=/^#([0-9a-f]{3,8})$/,VU=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),GU=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),KU=new RegExp(`^rgba\\(${Po},${Po},${Po},${Ls}\\)$`),FU=new RegExp(`^rgba\\(${ln},${ln},${ln},${Ls}\\)$`),YU=new RegExp(`^hsl\\(${Ls},${ln},${ln}\\)$`),XU=new RegExp(`^hsla\\(${Ls},${ln},${ln},${Ls}\\)$`),h_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y0(gc,Us,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:m_,formatHex:m_,formatHex8:ZU,formatHsl:JU,formatRgb:p_,toString:p_});function m_(){return this.rgb().formatHex()}function ZU(){return this.rgb().formatHex8()}function JU(){return ak(this).formatHsl()}function p_(){return this.rgb().formatRgb()}function Us(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=WU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?g_(t):r===3?new Kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?du(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?du(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VU.exec(e))?new Kt(t[1],t[2],t[3],1):(t=GU.exec(e))?new Kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KU.exec(e))?du(t[1],t[2],t[3],t[4]):(t=FU.exec(e))?du(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YU.exec(e))?b_(t[1],t[2]/100,t[3]/100,1):(t=XU.exec(e))?b_(t[1],t[2]/100,t[3]/100,t[4]):h_.hasOwnProperty(e)?g_(h_[e]):e==="transparent"?new Kt(NaN,NaN,NaN,0):null}function g_(e){return new Kt(e>>16&255,e>>8&255,e&255,1)}function du(e,t,r,n){return n<=0&&(e=t=r=NaN),new Kt(e,t,r,n)}function QU(e){return e instanceof gc||(e=Us(e)),e?(e=e.rgb(),new Kt(e.r,e.g,e.b,e.opacity)):new Kt}function tv(e,t,r,n){return arguments.length===1?QU(e):new Kt(e,t,r,n??1)}function Kt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}y0(Kt,tv,nk(gc,{brighter(e){return e=e==null?Gd:Math.pow(Gd,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(yi(this.r),yi(this.g),yi(this.b),Kd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v_,formatHex:v_,formatHex8:e9,formatRgb:y_,toString:y_}));function v_(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function e9(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si((isNaN(this.opacity)?1:this.opacity)*255)}`}function y_(){const e=Kd(this.opacity);return`${e===1?"rgb(":"rgba("}${yi(this.r)}, ${yi(this.g)}, ${yi(this.b)}${e===1?")":`, ${e})`}`}function Kd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function si(e){return e=yi(e),(e<16?"0":"")+e.toString(16)}function b_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gr(e,t,r,n)}function ak(e){if(e instanceof Gr)return new Gr(e.h,e.s,e.l,e.opacity);if(e instanceof gc||(e=Us(e)),!e)return new Gr;if(e instanceof Gr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,s=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new Gr(o,l,s,e.opacity)}function t9(e,t,r,n){return arguments.length===1?ak(e):new Gr(e,t,r,n??1)}function Gr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}y0(Gr,t9,nk(gc,{brighter(e){return e=e==null?Gd:Math.pow(Gd,e),new Gr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Gr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Kt(Ym(e>=240?e-240:e+120,a,n),Ym(e,a,n),Ym(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Gr(x_(this.h),fu(this.s),fu(this.l),Kd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kd(this.opacity);return`${e===1?"hsl(":"hsla("}${x_(this.h)}, ${fu(this.s)*100}%, ${fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x_(e){return e=(e||0)%360,e<0?e+360:e}function fu(e){return Math.max(0,Math.min(1,e||0))}function Ym(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const b0=e=>()=>e;function r9(e,t){return function(r){return e+r*t}}function n9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function a9(e){return(e=+e)==1?ik:function(t,r){return r-t?n9(t,r,e):b0(isNaN(t)?r:t)}}function ik(e,t){var r=t-e;return r?r9(e,r):b0(isNaN(e)?t:e)}const w_=function e(t){var r=a9(t);function n(a,i){var o=r((a=tv(a)).r,(i=tv(i)).r),l=r(a.g,i.g),s=r(a.b,i.b),u=ik(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=s(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function i9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function o9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function l9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=vl(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function s9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function c9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=vl(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xm=new RegExp(rv.source,"g");function u9(e){return function(){return e}}function d9(e){return function(t){return e(t)+""}}function f9(e,t){var r=rv.lastIndex=Xm.lastIndex=0,n,a,i,o=-1,l=[],s=[];for(e=e+"",t=t+"";(n=rv.exec(e))&&(a=Xm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:Fd(n,a)})),r=Xm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?d9(s[0].x):u9(t):(t=s.length,function(u){for(var d=0,f;d<t;++d)l[(f=s[d]).i]=f.x(u);return l.join("")})}function vl(e,t){var r=typeof t,n;return t==null||r==="boolean"?b0(t):(r==="number"?Fd:r==="string"?(n=Us(t))?(t=n,w_):f9:t instanceof Us?w_:t instanceof Date?s9:o9(t)?i9:Array.isArray(t)?l9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?c9:Fd)(e,t)}function x0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function h9(e,t){t===void 0&&(t=e,e=vl);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function m9(e){return function(){return e}}function Yd(e){return+e}var __=[0,1];function zt(e){return e}function nv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:m9(isNaN(t)?NaN:.5)}function p9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function g9(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=nv(a,n),i=r(o,i)):(n=nv(n,a),i=r(i,o)),function(l){return i(n(l))}}function v9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=nv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var s=pc(e,l,1,n)-1;return i[s](a[s](l))}}function vc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vh(){var e=__,t=__,r=vl,n,a,i,o=zt,l,s,u;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=p9(e[0],e[h-1])),l=h>2?v9:g9,s=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(s||(s=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Fd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=x0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function w0(){return vh()(zt,zt)}function y9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Xo(e){return e=Xd(Math.abs(e)),e?e[1]:NaN}function b9(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>n&&(l=Math.max(1,n-s)),i.push(r.substring(a-=l,a+l)),!((s+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function x9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var w9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qs(e){if(!(t=w9.exec(e)))throw new Error("invalid format: "+e);var t;return new _0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qs.prototype=_0.prototype;function _0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Zd;function S9(e,t){var r=Xd(e,t);if(!r)return Zd=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Zd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Xd(e,Math.max(0,t+i-1))[0]}function S_(e,t){var r=Xd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const j_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:y9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>S_(e*100,t),r:S_,s:S9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function E_(e){return e}var O_=Array.prototype.map,C_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function j9(e){var t=e.grouping===void 0||e.thousands===void 0?E_:b9(O_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?E_:x9(O_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=qs(f);var m=f.fill,g=f.align,b=f.sign,y=f.symbol,p=f.zero,v=f.width,x=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(x=!0,S="g"):j_[S]||(_===void 0&&(_=12),j=!0,S="g"),(p||m==="0"&&g==="=")&&(p=!0,m="0",g="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),O=(y==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=j_[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function z(P){var W=E,H=O,Z,C,T;if(S==="c")H=A(P)+H,P="";else{P=+P;var N=P<0||1/P<0;if(P=isNaN(P)?s:A(Math.abs(P),_),j&&(P=_9(P)),N&&+P==0&&b!=="+"&&(N=!1),W=(N?b==="("?b:l:b==="-"||b==="("?"":b)+W,H=(S==="s"&&!isNaN(P)&&Zd!==void 0?C_[8+Zd/3]:"")+H+(N&&b==="("?")":""),k){for(Z=-1,C=P.length;++Z<C;)if(T=P.charCodeAt(Z),48>T||T>57){H=(T===46?a+P.slice(Z+1):P.slice(Z))+H,P=P.slice(0,Z);break}}}x&&!p&&(P=t(P,1/0));var $=W.length+P.length+H.length,U=$<v?new Array(v-$+1).join(m):"";switch(x&&p&&(P=t(U+P,U.length?v-H.length:1/0),U=""),g){case"<":P=W+P+H+U;break;case"=":P=W+U+P+H;break;case"^":P=U.slice(0,$=U.length>>1)+W+P+H+U.slice($);break;default:P=U+W+P+H;break}return i(P)}return z.toString=function(){return f+""},z}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Xo(h)/3)))*3,g=Math.pow(10,-m),b=u((f=qs(f),f.type="f",f),{suffix:C_[8+m/3]});return function(y){return b(g*y)}}return{format:u,formatPrefix:d}}var hu,S0,ok;E9({thousands:",",grouping:[3],currency:["$",""]});function E9(e){return hu=j9(e),S0=hu.format,ok=hu.formatPrefix,hu}function O9(e){return Math.max(0,-Xo(Math.abs(e)))}function C9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xo(t)/3)))*3-Xo(Math.abs(e)))}function A9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xo(t)-Xo(e))+1}function lk(e,t,r,n){var a=Qg(e,t,r),i;switch(n=qs(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=C9(a,o))&&(n.precision=i),ok(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=A9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=O9(a))&&(n.precision=i-(n.type==="%")*2);break}}return S0(n)}function Wa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Zg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return lk(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],s,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Jg(o,l,r),u===s)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function sk(){var e=w0();return e.copy=function(){return vc(e,sk())},zr.apply(e,arguments),Wa(e)}function ck(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ck(e).unknown(t)},e=arguments.length?Array.from(e,Yd):[0,1],Wa(r)}function uk(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function A_(e){return Math.log(e)}function T_(e){return Math.exp(e)}function T9(e){return-Math.log(-e)}function k9(e){return-Math.exp(-e)}function P9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function N9(e){return e===10?P9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function R9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function k_(e){return(t,r)=>-e(-t,r)}function j0(e){const t=e(A_,T_),r=t.domain;let n=10,a,i;function o(){return a=R9(n),i=N9(n),r()[0]<0?(a=k_(a),i=k_(i),e(T9,k9)):e(A_,T_),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const s=r();let u=s[0],d=s[s.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,b;const y=l==null?10:+l;let p=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(b=h<0?g/i(-h):g*i(h),!(b<u)){if(b>d)break;p.push(b)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(b=h>0?g/i(-h):g*i(h),!(b<u)){if(b>d)break;p.push(b)}p.length*2<y&&(p=Zg(u,d,y))}else p=Zg(h,m,Math.min(m-h,y)).map(i);return f?p.reverse():p},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=n===10?"s":","),typeof s!="function"&&(!(n%1)&&(s=qs(s)).precision==null&&(s.trim=!0),s=S0(s)),l===1/0)return s;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?s(d):""}},t.nice=()=>r(uk(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function dk(){const e=j0(vh()).domain([1,10]);return e.copy=()=>vc(e,dk()).base(e.base()),zr.apply(e,arguments),e}function P_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function N_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function E0(e){var t=1,r=e(P_(t),N_(t));return r.constant=function(n){return arguments.length?e(P_(t=+n),N_(t)):t},Wa(r)}function fk(){var e=E0(vh());return e.copy=function(){return vc(e,fk()).constant(e.constant())},zr.apply(e,arguments)}function R_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function M9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function D9(e){return e<0?-e*e:e*e}function O0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(M9,D9):e(R_(r),R_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wa(t)}function C0(){var e=O0(vh());return e.copy=function(){return vc(e,C0()).exponent(e.exponent())},zr.apply(e,arguments),e}function z9(){return C0.apply(null,arguments).exponent(.5)}function M_(e){return Math.sign(e)*e*e}function B9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hk(){var e=w0(),t=[0,1],r=!1,n;function a(i){var o=B9(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(M_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yd)).map(M_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return hk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zr.apply(a,arguments),Wa(a)}function mk(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=UU(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[pc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ma),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return mk().domain(e).range(t).unknown(n)},zr.apply(i,arguments)}function pk(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(s){return s!=null&&s<=s?a[pc(n,s,0,r)]:i}function l(){var s=-1;for(n=new Array(r);++s<r;)n[s]=((s+1)*t-(s-r)*e)/(r+1);return o}return o.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,l()):[e,t]},o.range=function(s){return arguments.length?(r=(a=Array.from(s)).length-1,l()):a.slice()},o.invertExtent=function(s){var u=a.indexOf(s);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(s){return arguments.length&&(i=s),o},o.thresholds=function(){return n.slice()},o.copy=function(){return pk().domain([e,t]).range(a).unknown(i)},zr.apply(Wa(o),arguments)}function gk(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[pc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return gk().domain(e).range(t).unknown(r)},zr.apply(a,arguments)}const Zm=new Date,Jm=new Date;function ot(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const s=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return s;let u;do s.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return s},a.filter=i=>ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Zm.setTime(+i),Jm.setTime(+o),e(Zm),e(Jm),Math.floor(r(Zm,Jm))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Jd=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jd);Jd.range;const An=1e3,Tr=An*60,Tn=Tr*60,Wn=Tn*24,A0=Wn*7,D_=Wn*30,Qm=Wn*365,ci=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCSeconds());ci.range;const T0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());T0.range;const k0=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());k0.range;const P0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getHours());P0.range;const N0=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCHours());N0.range;const yc=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Wn,e=>e.getDate()-1);yc.range;const yh=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>e.getUTCDate()-1);yh.range;const vk=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>Math.floor(e/Wn));vk.range;function Ui(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/A0)}const bh=Ui(0),Qd=Ui(1),I9=Ui(2),$9=Ui(3),Zo=Ui(4),L9=Ui(5),U9=Ui(6);bh.range;Qd.range;I9.range;$9.range;Zo.range;L9.range;U9.range;function qi(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/A0)}const xh=qi(0),ef=qi(1),q9=qi(2),H9=qi(3),Jo=qi(4),W9=qi(5),V9=qi(6);xh.range;ef.range;q9.range;H9.range;Jo.range;W9.range;V9.range;const R0=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());R0.range;const M0=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());M0.range;const Vn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vn.range;const Gn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gn.range;function yk(e,t,r,n,a,i){const o=[[ci,1,An],[ci,5,5*An],[ci,15,15*An],[ci,30,30*An],[i,1,Tr],[i,5,5*Tr],[i,15,15*Tr],[i,30,30*Tr],[a,1,Tn],[a,3,3*Tn],[a,6,6*Tn],[a,12,12*Tn],[n,1,Wn],[n,2,2*Wn],[r,1,A0],[t,1,D_],[t,3,3*D_],[e,1,Qm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:s(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function s(u,d,f){const h=Math.abs(d-u)/f,m=p0(([,,y])=>y).right(o,h);if(m===o.length)return e.every(Qg(u/Qm,d/Qm,f));if(m===0)return Jd.every(Math.max(Qg(u,d,f),1));const[g,b]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(b)}return[l,s]}const[G9,K9]=yk(Gn,M0,xh,vk,N0,k0),[F9,Y9]=yk(Vn,R0,bh,yc,P0,T0);function ep(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function X9(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,u=Bl(a),d=Il(a),f=Bl(i),h=Il(i),m=Bl(o),g=Il(o),b=Bl(l),y=Il(l),p=Bl(s),v=Il(s),x={a:T,A:N,b:$,B:U,c:null,d:U_,e:U_,f:b7,g:T7,G:P7,H:g7,I:v7,j:y7,L:bk,m:x7,M:w7,p:ne,q:ce,Q:W_,s:V_,S:_7,u:S7,U:j7,V:E7,w:O7,W:C7,x:null,X:null,y:A7,Y:k7,Z:N7,"%":H_},_={a:le,A:he,b:ue,B:D,c:null,d:q_,e:q_,f:z7,g:G7,G:F7,H:R7,I:M7,j:D7,L:wk,m:B7,M:I7,p:q,q:ae,Q:W_,s:V_,S:$7,u:L7,U:U7,V:q7,w:H7,W:W7,x:null,X:null,y:V7,Y:K7,Z:Y7,"%":H_},j={a:k,A:z,b:P,B:W,c:H,d:$_,e:$_,f:f7,g:I_,G:B_,H:L_,I:L_,j:s7,L:d7,m:l7,M:c7,p:A,q:o7,Q:m7,s:p7,S:u7,u:t7,U:r7,V:n7,w:e7,W:a7,x:Z,X:C,y:I_,Y:B_,Z:i7,"%":h7};x.x=S(r,x),x.X=S(n,x),x.c=S(t,x),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(M,F){return function(ee){var I=[],Ut=-1,Oe=0,Qt=M.length,er,Ga,Eb;for(ee instanceof Date||(ee=new Date(+ee));++Ut<Qt;)M.charCodeAt(Ut)===37&&(I.push(M.slice(Oe,Ut)),(Ga=z_[er=M.charAt(++Ut)])!=null?er=M.charAt(++Ut):Ga=er==="e"?" ":"0",(Eb=F[er])&&(er=Eb(ee,Ga)),I.push(er),Oe=Ut+1);return I.push(M.slice(Oe,Ut)),I.join("")}}function E(M,F){return function(ee){var I=zl(1900,void 0,1),Ut=O(I,M,ee+="",0),Oe,Qt;if(Ut!=ee.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(F&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(Oe=tp(zl(I.y,0,1)),Qt=Oe.getUTCDay(),Oe=Qt>4||Qt===0?ef.ceil(Oe):ef(Oe),Oe=yh.offset(Oe,(I.V-1)*7),I.y=Oe.getUTCFullYear(),I.m=Oe.getUTCMonth(),I.d=Oe.getUTCDate()+(I.w+6)%7):(Oe=ep(zl(I.y,0,1)),Qt=Oe.getDay(),Oe=Qt>4||Qt===0?Qd.ceil(Oe):Qd(Oe),Oe=yc.offset(Oe,(I.V-1)*7),I.y=Oe.getFullYear(),I.m=Oe.getMonth(),I.d=Oe.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Qt="Z"in I?tp(zl(I.y,0,1)).getUTCDay():ep(zl(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Qt+5)%7:I.w+I.U*7-(Qt+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,tp(I)):ep(I)}}function O(M,F,ee,I){for(var Ut=0,Oe=F.length,Qt=ee.length,er,Ga;Ut<Oe;){if(I>=Qt)return-1;if(er=F.charCodeAt(Ut++),er===37){if(er=F.charAt(Ut++),Ga=j[er in z_?F.charAt(Ut++):er],!Ga||(I=Ga(M,ee,I))<0)return-1}else if(er!=ee.charCodeAt(I++))return-1}return I}function A(M,F,ee){var I=u.exec(F.slice(ee));return I?(M.p=d.get(I[0].toLowerCase()),ee+I[0].length):-1}function k(M,F,ee){var I=m.exec(F.slice(ee));return I?(M.w=g.get(I[0].toLowerCase()),ee+I[0].length):-1}function z(M,F,ee){var I=f.exec(F.slice(ee));return I?(M.w=h.get(I[0].toLowerCase()),ee+I[0].length):-1}function P(M,F,ee){var I=p.exec(F.slice(ee));return I?(M.m=v.get(I[0].toLowerCase()),ee+I[0].length):-1}function W(M,F,ee){var I=b.exec(F.slice(ee));return I?(M.m=y.get(I[0].toLowerCase()),ee+I[0].length):-1}function H(M,F,ee){return O(M,t,F,ee)}function Z(M,F,ee){return O(M,r,F,ee)}function C(M,F,ee){return O(M,n,F,ee)}function T(M){return o[M.getDay()]}function N(M){return i[M.getDay()]}function $(M){return s[M.getMonth()]}function U(M){return l[M.getMonth()]}function ne(M){return a[+(M.getHours()>=12)]}function ce(M){return 1+~~(M.getMonth()/3)}function le(M){return o[M.getUTCDay()]}function he(M){return i[M.getUTCDay()]}function ue(M){return s[M.getUTCMonth()]}function D(M){return l[M.getUTCMonth()]}function q(M){return a[+(M.getUTCHours()>=12)]}function ae(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var F=S(M+="",x);return F.toString=function(){return M},F},parse:function(M){var F=E(M+="",!1);return F.toString=function(){return M},F},utcFormat:function(M){var F=S(M+="",_);return F.toString=function(){return M},F},utcParse:function(M){var F=E(M+="",!0);return F.toString=function(){return M},F}}}var z_={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,Z9=/^%/,J9=/[\\^$*+?|[\]().{}]/g;function me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Q9(e){return e.replace(J9,"\\$&")}function Bl(e){return new RegExp("^(?:"+e.map(Q9).join("|")+")","i")}function Il(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function e7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function t7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function r7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function n7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function a7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function B_(e,t,r){var n=yt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function I_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function i7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function o7(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function l7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function $_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function s7(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function L_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function c7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function u7(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function d7(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function f7(e,t,r){var n=yt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function h7(e,t,r){var n=Z9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function m7(e,t,r){var n=yt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=yt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function U_(e,t){return me(e.getDate(),t,2)}function g7(e,t){return me(e.getHours(),t,2)}function v7(e,t){return me(e.getHours()%12||12,t,2)}function y7(e,t){return me(1+yc.count(Vn(e),e),t,3)}function bk(e,t){return me(e.getMilliseconds(),t,3)}function b7(e,t){return bk(e,t)+"000"}function x7(e,t){return me(e.getMonth()+1,t,2)}function w7(e,t){return me(e.getMinutes(),t,2)}function _7(e,t){return me(e.getSeconds(),t,2)}function S7(e){var t=e.getDay();return t===0?7:t}function j7(e,t){return me(bh.count(Vn(e)-1,e),t,2)}function xk(e){var t=e.getDay();return t>=4||t===0?Zo(e):Zo.ceil(e)}function E7(e,t){return e=xk(e),me(Zo.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function O7(e){return e.getDay()}function C7(e,t){return me(Qd.count(Vn(e)-1,e),t,2)}function A7(e,t){return me(e.getFullYear()%100,t,2)}function T7(e,t){return e=xk(e),me(e.getFullYear()%100,t,2)}function k7(e,t){return me(e.getFullYear()%1e4,t,4)}function P7(e,t){var r=e.getDay();return e=r>=4||r===0?Zo(e):Zo.ceil(e),me(e.getFullYear()%1e4,t,4)}function N7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+me(t/60|0,"0",2)+me(t%60,"0",2)}function q_(e,t){return me(e.getUTCDate(),t,2)}function R7(e,t){return me(e.getUTCHours(),t,2)}function M7(e,t){return me(e.getUTCHours()%12||12,t,2)}function D7(e,t){return me(1+yh.count(Gn(e),e),t,3)}function wk(e,t){return me(e.getUTCMilliseconds(),t,3)}function z7(e,t){return wk(e,t)+"000"}function B7(e,t){return me(e.getUTCMonth()+1,t,2)}function I7(e,t){return me(e.getUTCMinutes(),t,2)}function $7(e,t){return me(e.getUTCSeconds(),t,2)}function L7(e){var t=e.getUTCDay();return t===0?7:t}function U7(e,t){return me(xh.count(Gn(e)-1,e),t,2)}function _k(e){var t=e.getUTCDay();return t>=4||t===0?Jo(e):Jo.ceil(e)}function q7(e,t){return e=_k(e),me(Jo.count(Gn(e),e)+(Gn(e).getUTCDay()===4),t,2)}function H7(e){return e.getUTCDay()}function W7(e,t){return me(ef.count(Gn(e)-1,e),t,2)}function V7(e,t){return me(e.getUTCFullYear()%100,t,2)}function G7(e,t){return e=_k(e),me(e.getUTCFullYear()%100,t,2)}function K7(e,t){return me(e.getUTCFullYear()%1e4,t,4)}function F7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jo(e):Jo.ceil(e),me(e.getUTCFullYear()%1e4,t,4)}function Y7(){return"+0000"}function H_(){return"%"}function W_(e){return+e}function V_(e){return Math.floor(+e/1e3)}var Ji,Sk,jk;X7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function X7(e){return Ji=X9(e),Sk=Ji.format,Ji.parse,jk=Ji.utcFormat,Ji.utcParse,Ji}function Z7(e){return new Date(e)}function J7(e){return e instanceof Date?+e:+new Date(+e)}function D0(e,t,r,n,a,i,o,l,s,u){var d=w0(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),b=u("%I:%M"),y=u("%I %p"),p=u("%a %d"),v=u("%b %d"),x=u("%B"),_=u("%Y");function j(S){return(s(S)<S?m:l(S)<S?g:o(S)<S?b:i(S)<S?y:n(S)<S?a(S)<S?p:v:r(S)<S?x:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,J7)):h().map(Z7)},d.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},d.tickFormat=function(S,E){return E==null?j:u(E)},d.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(uk(E,S)):d},d.copy=function(){return vc(d,D0(e,t,r,n,a,i,o,l,s,u))},d}function Q7(){return zr.apply(D0(F9,Y9,Vn,R0,bh,yc,P0,T0,ci,Sk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eq(){return zr.apply(D0(G9,K9,Gn,M0,xh,yh,N0,k0,ci,jk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wh(){var e=0,t=1,r,n,a,i,o=zt,l=!1,s;function u(f){return f==null||isNaN(f=+f)?s:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(vl),u.rangeRound=d(x0),u.unknown=function(f){return arguments.length?(s=f,u):s},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Va(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ek(){var e=Wa(wh()(zt));return e.copy=function(){return Va(e,Ek())},ea.apply(e,arguments)}function Ok(){var e=j0(wh()).domain([1,10]);return e.copy=function(){return Va(e,Ok()).base(e.base())},ea.apply(e,arguments)}function Ck(){var e=E0(wh());return e.copy=function(){return Va(e,Ck()).constant(e.constant())},ea.apply(e,arguments)}function z0(){var e=O0(wh());return e.copy=function(){return Va(e,z0()).exponent(e.exponent())},ea.apply(e,arguments)}function tq(){return z0.apply(null,arguments).exponent(.5)}function Ak(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((pc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ma),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>LU(e,i/n))},r.copy=function(){return Ak(t).domain(e)},ea.apply(r,arguments)}function _h(){var e=0,t=.5,r=1,n=1,a,i,o,l,s,u=zt,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-i)*(n*b<n*i?l:s),u(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(u=b,m):u};function g(b){return function(y){var p,v,x;return arguments.length?([p,v,x]=y,u=h9(b,[p,v,x]),m):[u(0),u(.5),u(1)]}}return m.range=g(vl),m.rangeRound=g(x0),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,a=b(e),i=b(t),o=b(r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function Tk(){var e=Wa(_h()(zt));return e.copy=function(){return Va(e,Tk())},ea.apply(e,arguments)}function kk(){var e=j0(_h()).domain([.1,1,10]);return e.copy=function(){return Va(e,kk()).base(e.base())},ea.apply(e,arguments)}function Pk(){var e=E0(_h());return e.copy=function(){return Va(e,Pk()).constant(e.constant())},ea.apply(e,arguments)}function B0(){var e=O0(_h());return e.copy=function(){return Va(e,B0()).exponent(e.exponent())},ea.apply(e,arguments)}function rq(){return B0.apply(null,arguments).exponent(.5)}const Kl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:v0,scaleDiverging:Tk,scaleDivergingLog:kk,scaleDivergingPow:B0,scaleDivergingSqrt:rq,scaleDivergingSymlog:Pk,scaleIdentity:ck,scaleImplicit:ev,scaleLinear:sk,scaleLog:dk,scaleOrdinal:g0,scalePoint:HU,scalePow:C0,scaleQuantile:mk,scaleQuantize:pk,scaleRadial:hk,scaleSequential:Ek,scaleSequentialLog:Ok,scaleSequentialPow:z0,scaleSequentialQuantile:Ak,scaleSequentialSqrt:tq,scaleSequentialSymlog:Ck,scaleSqrt:z9,scaleSymlog:fk,scaleThreshold:gk,scaleTime:Q7,scaleUtc:eq,tickFormat:lk},Symbol.toStringTag,{value:"Module"}));var ta=e=>e.chartData,Nk=R([ta],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Rk=(e,t,r,n)=>n?Nk(e):ta(e),nq=(e,t,r)=>r?Nk(e):ta(e);function $a(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Le(t)&&Le(r))return!0}return!1}function G_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Mk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Le(r))a=r;else if(typeof r=="function")return;if(Le(n))i=n;else if(typeof n=="function")return;var o=[a,i];if($a(o))return o}}function aq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($a(n))return G_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(K(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&hw.test(a)){var s=hw.exec(a);if(s==null||s[1]==null||t==null)o=void 0;else{var u=+s[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(K(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&mw.test(i)){var d=mw.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if($a(h))return t==null?h:G_(h,t,r)}}}var yl=1e9,iq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$0,Ie=!0,Dr="[DecimalError] ",bi=Dr+"Invalid argument: ",I0=Dr+"Exponent out of range: ",bl=Math.floor,ni=Math.pow,oq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,ft=1e7,Pe=7,Dk=9007199254740991,tf=bl(Dk/Pe),V={};V.absoluteValue=V.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};V.comparedTo=V.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};V.decimalPlaces=V.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};V.dividedBy=V.div=function(e){return Rn(this,new this.constructor(e))};V.dividedToIntegerBy=V.idiv=function(e){var t=this,r=t.constructor;return Se(Rn(t,new r(e),0,1),r.precision)};V.equals=V.eq=function(e){return!this.cmp(e)};V.exponent=function(){return tt(this)};V.greaterThan=V.gt=function(e){return this.cmp(e)>0};V.greaterThanOrEqualTo=V.gte=function(e){return this.cmp(e)>=0};V.isInteger=V.isint=function(){return this.e>this.d.length-2};V.isNegative=V.isneg=function(){return this.s<0};V.isPositive=V.ispos=function(){return this.s>0};V.isZero=function(){return this.s===0};V.lessThan=V.lt=function(e){return this.cmp(e)<0};V.lessThanOrEqualTo=V.lte=function(e){return this.cmp(e)<1};V.logarithm=V.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(lr)?new n(0):(Ie=!1,t=Rn(Hs(r,i),Hs(e,i),i),Ie=!0,Se(t,a))};V.minus=V.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ik(t,e):zk(t,(e.s=-e.s,e))};V.modulo=V.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Dr+"NaN");return r.s?(Ie=!1,t=Rn(r,e,0,1).times(e),Ie=!0,r.minus(t)):Se(new n(r),a)};V.naturalExponential=V.exp=function(){return Bk(this)};V.naturalLogarithm=V.ln=function(){return Hs(this)};V.negated=V.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};V.plus=V.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zk(t,e):Ik(t,(e.s=-e.s,e))};V.precision=V.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bi+e);if(t=tt(a)+1,n=a.d.length-1,r=n*Pe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};V.squareRoot=V.sqrt=function(){var e,t,r,n,a,i,o,l=this,s=l.constructor;if(l.s<1){if(!l.s)return new s(0);throw Error(Dr+"NaN")}for(e=tt(l),Ie=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=an(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new s(t)):n=new s(a.toString()),r=s.precision,a=o=r+3;;)if(i=n,n=i.plus(Rn(l,i,o+2)).times(.5),an(i.d).slice(0,o)===(t=an(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Se(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ie=!0,Se(n,r)};V.times=V.mul=function(e){var t,r,n,a,i,o,l,s,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,s=h.length,u=m.length,s<u&&(i=h,h=m,m=i,o=s,s=u,u=o),i=[],o=s+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=s+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%ft|0,t=l/ft|0;i[a]=(i[a]+t)%ft|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ie?Se(e,f.precision):e};V.toDecimalPlaces=V.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(un(e,0,yl),t===void 0?t=n.rounding:un(t,0,8),Se(r,e+tt(r)+1,t))};V.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ki(n,!0):(un(e,0,yl),t===void 0?t=a.rounding:un(t,0,8),n=Se(new a(n),e+1,t),r=ki(n,!0,e+1)),r};V.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ki(a):(un(e,0,yl),t===void 0?t=i.rounding:un(t,0,8),n=Se(new i(a),e+tt(a)+1,t),r=ki(n.abs(),!1,e+tt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};V.toInteger=V.toint=function(){var e=this,t=e.constructor;return Se(new t(e),tt(e)+1,t.rounding)};V.toNumber=function(){return+this};V.toPower=V.pow=function(e){var t,r,n,a,i,o,l=this,s=l.constructor,u=12,d=+(e=new s(e));if(!e.s)return new s(lr);if(l=new s(l),!l.s){if(e.s<1)throw Error(Dr+"Infinity");return l}if(l.eq(lr))return l;if(n=s.precision,e.eq(lr))return Se(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=Dk){for(a=new s(lr),t=Math.ceil(n/Pe+4),Ie=!1;r%2&&(a=a.times(l),F_(a.d,t)),r=bl(r/2),r!==0;)l=l.times(l),F_(l.d,t);return Ie=!0,e.s<0?new s(lr).div(a):Se(a,n)}}else if(i<0)throw Error(Dr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ie=!1,a=e.times(Hs(l,n+u)),Ie=!0,a=Bk(a),a.s=i,a};V.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=tt(a),n=ki(a,r<=i.toExpNeg||r>=i.toExpPos)):(un(e,1,yl),t===void 0?t=i.rounding:un(t,0,8),a=Se(new i(a),e,t),r=tt(a),n=ki(a,e<=r||r<=i.toExpNeg,e)),n};V.toSignificantDigits=V.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(un(e,1,yl),t===void 0?t=n.rounding:un(t,0,8)),Se(new n(r),e,t)};V.toString=V.valueOf=V.val=V.toJSON=V[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),r=e.constructor;return ki(e,t<=r.toExpNeg||t>=r.toExpPos)};function zk(e,t){var r,n,a,i,o,l,s,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ie?Se(t,f):t;if(s=e.d,u=t.d,o=e.e,a=t.e,s=s.slice(),i=o-a,i){for(i<0?(n=s,i=-i,l=u.length):(n=u,a=o,l=s.length),o=Math.ceil(f/Pe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=s.length,i=u.length,l-i<0&&(i=l,n=u,u=s,s=n),r=0;i;)r=(s[--i]=s[i]+u[i]+r)/ft|0,s[i]%=ft;for(r&&(s.unshift(r),++a),l=s.length;s[--l]==0;)s.pop();return t.d=s,t.e=a,Ie?Se(t,f):t}function un(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bi+e)}function an(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Pe-n.length,r&&(i+=ua(r)),i+=n;o=e[t],n=o+"",r=Pe-n.length,r&&(i+=ua(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Rn=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ft|0,o=i/ft|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,s;if(i!=o)s=i>o?1:-1;else for(l=s=0;l<i;l++)if(n[l]!=a[l]){s=n[l]>a[l]?1:-1;break}return s}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ft+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,s,u,d,f,h,m,g,b,y,p,v,x,_,j,S,E,O,A=n.constructor,k=n.s==a.s?1:-1,z=n.d,P=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Dr+"Division by zero");for(s=n.e-a.e,E=P.length,j=z.length,m=new A(k),g=m.d=[],u=0;P[u]==(z[u]||0);)++u;if(P[u]>(z[u]||0)&&--s,i==null?v=i=A.precision:o?v=i+(tt(n)-tt(a))+1:v=i,v<0)return new A(0);if(v=v/Pe+2|0,u=0,E==1)for(d=0,P=P[0],v++;(u<j||d)&&v--;u++)x=d*ft+(z[u]||0),g[u]=x/P|0,d=x%P|0;else{for(d=ft/(P[0]+1)|0,d>1&&(P=e(P,d),z=e(z,d),E=P.length,j=z.length),_=E,b=z.slice(0,E),y=b.length;y<E;)b[y++]=0;O=P.slice(),O.unshift(0),S=P[0],P[1]>=ft/2&&++S;do d=0,l=t(P,b,E,y),l<0?(p=b[0],E!=y&&(p=p*ft+(b[1]||0)),d=p/S|0,d>1?(d>=ft&&(d=ft-1),f=e(P,d),h=f.length,y=b.length,l=t(f,b,h,y),l==1&&(d--,r(f,E<h?O:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<y&&f.unshift(0),r(b,f,y),l==-1&&(y=b.length,l=t(P,b,E,y),l<1&&(d++,r(b,E<y?O:P,y))),y=b.length):l===0&&(d++,b=[0]),g[u++]=d,l&&b[0]?b[y++]=z[_]||0:(b=[z[_]],y=1);while((_++<j||b[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=s,Se(m,o?i+tt(m)+1:i)}}();function Bk(e,t){var r,n,a,i,o,l,s=0,u=0,d=e.constructor,f=d.precision;if(tt(e)>16)throw Error(I0+tt(e));if(!e.s)return new d(lr);for(Ie=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ni(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(lr),d.precision=l;;){if(a=Se(a.times(e),l),r=r.times(++s),o=i.plus(Rn(a,r,l)),an(o.d).slice(0,l)===an(i.d).slice(0,l)){for(;u--;)i=Se(i.times(i),l);return d.precision=f,t==null?(Ie=!0,Se(i,f)):i}i=o}}function tt(e){for(var t=e.e*Pe,r=e.d[0];r>=10;r/=10)t++;return t}function rp(e,t,r){if(t>e.LN10.sd())throw Ie=!0,r&&(e.precision=r),Error(Dr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function ua(e){for(var t="";e--;)t+="0";return t}function Hs(e,t){var r,n,a,i,o,l,s,u,d,f=1,h=10,m=e,g=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(Dr+(m.s?"NaN":"-Infinity"));if(m.eq(lr))return new b(0);if(t==null?(Ie=!1,u=y):u=t,m.eq(10))return t==null&&(Ie=!0),rp(b,u);if(u+=h,b.precision=u,r=an(g),n=r.charAt(0),i=tt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=an(m.d),n=r.charAt(0),f++;i=tt(m),n>1?(m=new b("0."+r),i++):m=new b(n+"."+r.slice(1))}else return s=rp(b,u+2,y).times(i+""),m=Hs(new b(n+"."+r.slice(1)),u-h).plus(s),b.precision=y,t==null?(Ie=!0,Se(m,y)):m;for(l=o=m=Rn(m.minus(lr),m.plus(lr),u),d=Se(m.times(m),u),a=3;;){if(o=Se(o.times(d),u),s=l.plus(Rn(o,new b(a),u)),an(s.d).slice(0,u)===an(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(rp(b,u+2,y).times(i+""))),l=Rn(l,new b(f),u),b.precision=y,t==null?(Ie=!0,Se(l,y)):l;l=s,a+=2}}function K_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bl(r/Pe),e.d=[],n=(r+1)%Pe,r<0&&(n+=Pe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Pe;n<a;)e.d.push(+t.slice(n,n+=Pe));t=t.slice(n),n=Pe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ie&&(e.e>tf||e.e<-tf))throw Error(I0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,a,i,o,l,s,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Pe,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Pe),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Pe,a=n-Pe+o}if(r!==void 0&&(i=ni(10,o-a-1),l=u/i%10|0,s=t<0||f[d+1]!==void 0||u%i,s=r<4?(l||s)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||s||r==6&&(n>0?a>0?u/ni(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return s?(i=tt(e),f.length=1,t=t-i-1,f[0]=ni(10,(Pe-t%Pe)%Pe),e.e=bl(-t/Pe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ni(10,Pe-n),f[d]=a>0?(u/ni(10,o-a)%ni(10,a)|0)*i:0),s)for(;;)if(d==0){(f[0]+=i)==ft&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ft)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ie&&(e.e>tf||e.e<-tf))throw Error(I0+tt(e));return e}function Ik(e,t){var r,n,a,i,o,l,s,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ie?Se(t,m):t;if(s=e.d,f=t.d,n=t.e,u=e.e,s=s.slice(),o=u-n,o){for(d=o<0,d?(r=s,o=-o,l=f.length):(r=f,n=u,l=s.length),a=Math.max(Math.ceil(m/Pe),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=s.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(s[a]!=f[a]){d=s[a]<f[a];break}o=0}for(d&&(r=s,s=f,f=r,t.s=-t.s),l=s.length,a=f.length-l;a>0;--a)s[l++]=0;for(a=f.length;a>o;){if(s[--a]<f[a]){for(i=a;i&&s[--i]===0;)s[i]=ft-1;--s[i],s[a]+=ft}s[a]-=f[a]}for(;s[--l]===0;)s.pop();for(;s[0]===0;s.shift())--n;return s[0]?(t.d=s,t.e=n,Ie?Se(t,m):t):new h(0)}function ki(e,t,r){var n,a=tt(e),i=an(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ua(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ua(-a-1)+i,r&&(n=r-o)>0&&(i+=ua(n))):a>=o?(i+=ua(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ua(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ua(n))),e.s<0?"-"+i:i}function F_(e,t){if(e.length>t)return e.length=t,!0}function $k(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(bi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return K_(o,i.toString())}else if(typeof i!="string")throw Error(bi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,oq.test(i))K_(o,i);else throw Error(bi+i)}if(a.prototype=V,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$k,a.config=a.set=lq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function lq(e){if(!e||typeof e!="object")throw Error(Dr+"Object expected");var t,r,n,a=["precision",1,yl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(bi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bi+r+": "+n);return this}var $0=$k(iq);lr=new $0(1);const ye=$0;var sq=e=>e,Lk={},Uk=e=>e===Lk,Y_=e=>function t(){return arguments.length===0||arguments.length===1&&Uk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},qk=(e,t)=>e===1?t:Y_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==Lk).length;return i>=e?t(...n):qk(e-i,Y_(function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];var u=n.map(d=>Uk(d)?l.shift():d);return t(...u,...l)}))}),cq=e=>qk(e.length,e),av=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},uq=cq((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),dq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return sq;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,s)=>s(l),i(...arguments))}};function Hk(e){var t;return e===0?t=1:t=Math.floor(new ye(e).abs().log(10).toNumber())+1,t}function Wk(e,t,r){for(var n=new ye(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Vk=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Gk=(e,t,r)=>{if(e.lte(0))return new ye(0);var n=Hk(e.toNumber()),a=new ye(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ye(Math.ceil(i.div(o).toNumber())).add(r).mul(o),s=l.mul(a);return t?new ye(s.toNumber()):new ye(Math.ceil(s.toNumber()))},fq=(e,t,r)=>{var n=new ye(1),a=new ye(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ye(10).pow(Hk(e)-1),a=new ye(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ye(Math.floor(e)))}else e===0?a=new ye(Math.floor((t-1)/2)):r||(a=new ye(Math.floor(e)));var o=Math.floor((t-1)/2),l=dq(uq(s=>a.add(new ye(s-o).mul(n)).toNumber()),av);return l(0,t)},Kk=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ye(0),tickMin:new ye(0),tickMax:new ye(0)};var o=Gk(new ye(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new ye(0):(l=new ye(t).add(r).div(2),l=l.sub(new ye(l).mod(o)));var s=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new ye(r).sub(l).div(o).toNumber()),d=s+u+1;return d>n?Kk(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,s=r>0?s:s+(n-d)),{step:o,tickMin:l.sub(new ye(s).mul(o)),tickMax:l.add(new ye(u).mul(o))})},hq=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,s]=Vk([r,n]);if(l===-1/0||s===1/0){var u=s===1/0?[l,...av(0,a-1).map(()=>1/0)]:[...av(0,a-1).map(()=>-1/0),s];return r>n?u.reverse():u}if(l===s)return fq(l,a,i);var{step:d,tickMin:f,tickMax:h}=Kk(l,s,o,i,0),m=Wk(f,h.add(new ye(.1).mul(d)),d);return r>n?m.reverse():m},mq=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Vk([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var s=Math.max(r,2),u=Gk(new ye(l).sub(o).div(s-1),i,0),d=[...Wk(new ye(o),new ye(l),u),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},Fk=e=>e.rootProps.maxBarSize,pq=e=>e.rootProps.barGap,Yk=e=>e.rootProps.barCategoryGap,gq=e=>e.rootProps.barSize,Sh=e=>e.rootProps.stackOffset,Xk=e=>e.rootProps.reverseStackOrder,L0=e=>e.options.chartName,U0=e=>e.rootProps.syncId,Zk=e=>e.rootProps.syncMethod,q0=e=>e.options.eventEmitter,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Sn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},jh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},vq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:Sn.reversed,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:Sn.type,unit:void 0},yq={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:rr.type,unit:void 0},bq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xq={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:"category",unit:void 0},H0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?bq:vq,W0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?xq:yq,Eh=e=>e.polarOptions,V0=R([Jn,Qn,vt],yU),Jk=R([Eh,V0],(e,t)=>{if(e!=null)return Yr(e.innerRadius,t,0)}),Qk=R([Eh,V0],(e,t)=>{if(e!=null)return Yr(e.outerRadius,t,t*.8)}),wq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},eP=R([Eh],wq);R([H0,eP],jh);var tP=R([V0,Jk,Qk],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});R([W0,tP],jh);var rP=R([xe,Eh,Jk,Qk,Jn,Qn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:s,endAngle:u}=t;return{cx:Yr(o,a,a/2),cy:Yr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:s,endAngle:u,clockWise:!1}}}),lt=(e,t)=>t,Oh=(e,t,r)=>r;function G0(e){return e==null?void 0:e.id}function nP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var s,u=(s=l.data)!==null&&s!==void 0?s:n;if(!(u==null||u.length===0)){var d=G0(l);u.forEach((f,h)=>{var m=i==null||a?h:String(At(f,i,null)),g=At(f,l.dataKey,0),b;o.has(m)?b=o.get(m):b={},Object.assign(b,{[d]:g}),o.set(m,b)})}}),Array.from(o.values())}function Ch(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ah=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Th(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _q(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var st=e=>{var t=xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xl=e=>e.tooltip.settings.axisId;function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){Sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sq(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Eq(e,"string");return typeof t=="symbol"?t:t+""}function Eq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iv=[0,"auto"],ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},aP=(e,t)=>e.cartesianAxis.xAxis[t],ra=(e,t)=>{var r=aP(e,t);return r??ut},dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fc},iP=(e,t)=>e.cartesianAxis.yAxis[t],na=(e,t)=>{var r=iP(e,t);return r??dt},Oq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},K0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Oq},Lt=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);case"zAxis":return K0(e,r);case"angleAxis":return H0(e,r);case"radiusAxis":return W0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Cq=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bc=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);case"angleAxis":return H0(e,r);case"radiusAxis":return W0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var F0=e=>e.graphicalItems.cartesianItems,Aq=R([lt,Oh],lP),sP=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),xc=R([F0,Lt,Aq],sP,{memoizeOptions:{resultEqualityCheck:Th}}),cP=R([xc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ch)),uP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Tq=R([xc],uP),dP=e=>e.map(t=>t.data).filter(Boolean).flat(1),kq=R([xc],dP,{memoizeOptions:{resultEqualityCheck:Th}}),fP=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Y0=R([kq,Rk],fP),hP=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:At(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:At(a,n)}))):e.map(n=>({value:n})),kh=R([Y0,Lt,xc],hP);function mP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bu(e){if(sn(e)||e instanceof Date){var t=Number(e);if(Le(t))return t}}function Z_(e){if(Array.isArray(e)){var t=[Bu(e[0]),Bu(e[1])];return $a(t)?t:void 0}var r=Bu(e);if(r!=null)return[r,r]}function Kn(e){return e.map(Bu).filter(rI)}function Pq(e,t,r){return!r||typeof t!="number"||Fr(t)?[]:r.length?Kn(r.flatMap(n=>{var a=At(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Le(i)||!Le(o)))return[t-i,t+o]})):[]}var ct=e=>{var t=st(e),r=xl(e);return bc(e,t,r)},wc=R([ct],e=>e==null?void 0:e.dataKey),Nq=R([cP,Rk,ct],nP),pP=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>{if(l.stackId==null)return o;var s=o[l.stackId];return s==null&&(s=[]),s.push(l),o[l.stackId]=s,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,s]=o,u=n?[...s].reverse():s,d=u.map(G0);return[l,{stackedData:f8(e,d,r),graphicalItems:u}]}))},ov=R([Nq,cP,Sh,Xk],pP),gP=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=v8(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Rq=R([Lt],e=>e.allowDataOverflow),X0=e=>{var t;if(e==null||!("domain"in e))return iv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Kn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:iv},vP=R([Lt],X0),yP=R([vP,Rq],Mk),Mq=R([ov,ta,lt,yP],gP,{memoizeOptions:{resultEqualityCheck:Ah}}),Z0=e=>e.errorBars,Dq=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>mP(r,n)),nf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},bP=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(s=>{var u,d,f=(u=n[s.id])===null||u===void 0?void 0:u.filter(p=>mP(a,p)),h=At(l,(d=t.dataKey)!==null&&d!==void 0?d:s.dataKey),m=Pq(l,h,f);if(m.length>=2){var g=Math.min(...m),b=Math.max(...m);(i==null||g<i)&&(i=g),(o==null||b>o)&&(o=b)}var y=Z_(h);y!=null&&(i=i==null?y[0]:Math.min(i,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var s=Z_(At(l,t.dataKey));s!=null&&(i=i==null?s[0]:Math.min(i,s[0]),o=o==null?s[1]:Math.max(o,s[1]))}),Le(i)&&Le(o))return[i,o]},zq=R([Y0,Lt,Tq,Z0,lt],bP,{memoizeOptions:{resultEqualityCheck:Ah}});function Bq(e){var{value:t}=e;if(sn(t)||t instanceof Date)return t}var Iq=(e,t,r)=>{var n=e.map(Bq).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&c2(n))?JT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},xP=e=>e.referenceElements.dots,wl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),$q=R([xP,lt,Oh],wl),wP=e=>e.referenceElements.areas,Lq=R([wP,lt,Oh],wl),_P=e=>e.referenceElements.lines,Uq=R([_P,lt,Oh],wl),SP=(e,t)=>{if(e!=null){var r=Kn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},qq=R($q,lt,SP),jP=(e,t)=>{if(e!=null){var r=Kn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Hq=R([Lq,lt],jP);function Wq(e){var t;if(e.x!=null)return Kn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Kn(r)}function Vq(e){var t;if(e.y!=null)return Kn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Kn(r)}var EP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Wq(n):Vq(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Gq=R([Uq,lt],EP),Kq=R(qq,Gq,Hq,(e,t,r)=>nf(e,r,t)),OP=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var s=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=s?nf(n,i,a):nf(i,a);return aq(t,u,e.allowDataOverflow)},Fq=R([Lt,vP,yP,Mq,zq,Kq,xe,lt],OP,{memoizeOptions:{resultEqualityCheck:Ah}}),Yq=[0,1],CP=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:s}=e,u=Li(t,i);if(u&&l==null){var d;return JT(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return s==="category"?Iq(n,e,u):a==="expand"?Yq:o}},J0=R([Lt,xe,Y0,kh,Sh,lt,Fq],CP),AP=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(sc(i));return l in Kl?l:"point"}}},_c=R([Lt,xe,oP,L0,lt],AP);function Xq(e){if(e!=null){if(e in Kl)return Kl[e]();var t="scale".concat(sc(e));if(t in Kl)return Kl[t]()}}function Q0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Xq(t);if(a!=null){var i=a.domain(r).range(n);return l8(i),i}}}var TP=(e,t,r)=>{var n=X0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$a(e))return hq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$a(e))return mq(e,t.tickCount,t.allowDecimals)}},eb=R([J0,bc,_c],TP),kP=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$a(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},Zq=R([Lt,J0,eb,lt],kP),Jq=R(kh,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Kn(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var s=n[l],u=n[l+1];if(!(s==null||u==null)){var d=u-s;r=Math.min(r,d)}}return r/o}}),PP=R(Jq,xe,Yk,vt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Le(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Yr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Qq=(e,t,r)=>{var n=ra(e,t);return n==null||typeof n.padding!="string"?0:PP(e,"xAxis",t,r,n.padding)},eH=(e,t,r)=>{var n=na(e,t);return n==null||typeof n.padding!="string"?0:PP(e,"yAxis",t,r,n.padding)},tH=R(ra,Qq,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),rH=R(na,eH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),nH=R([vt,tH,uh,ch,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),aH=R([vt,xe,rH,uh,ch,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Sc=(e,t,r,n)=>{var a;switch(t){case"xAxis":return nH(e,r,n);case"yAxis":return aH(e,r,n);case"zAxis":return(a=K0(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return eP(e);case"radiusAxis":return tP(e,r);default:return}},NP=R([Lt,Sc],jh),Ph=R([Lt,_c,Zq,NP],Q0);R([xc,Z0,lt],Dq);function RP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Nh=(e,t)=>t,Rh=(e,t,r)=>r,iH=R(lh,Nh,Rh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(RP)),oH=R(sh,Nh,Rh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(RP)),MP=(e,t)=>({width:e.width,height:t.height}),lH=(e,t)=>{var r=typeof t.width=="number"?t.width:fc;return{width:r,height:e.height}},DP=R(vt,ra,MP),sH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},uH=R(Qn,vt,iH,Nh,Rh,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=MP(t,l);o==null&&(o=sH(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*s.height,o+=(u?-1:1)*s.height}),i}),dH=R(Jn,vt,oH,Nh,Rh,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=lH(t,l);o==null&&(o=cH(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*s.width,o+=(u?-1:1)*s.width}),i}),fH=(e,t)=>{var r=ra(e,t);if(r!=null)return uH(e,r.orientation,r.mirror)},hH=R([vt,ra,fH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),mH=(e,t)=>{var r=na(e,t);if(r!=null)return dH(e,r.orientation,r.mirror)},pH=R([vt,na,mH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),zP=R(vt,na,(e,t)=>{var r=typeof t.width=="number"?t.width:fc;return{width:r,height:e.height}}),J_=(e,t,r)=>{switch(t){case"xAxis":return DP(e,r).width;case"yAxis":return zP(e,r).height;default:return}},BP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Li(e,n),s=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&c2(s))return s}},tb=R([xe,kh,Lt,lt],BP),IP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Li(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},rb=R([xe,kh,bc,lt],IP),Q_=R([xe,Cq,_c,Ph,tb,rb,Sc,eb,lt],(e,t,r,n,a,i,o,l,s)=>{if(t!=null){var u=Li(e,s);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:s,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),gH=(e,t,r,n,a,i,o,l,s)=>{if(!(t==null||n==null)){var u=Li(e,s),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=s==="angleAxis"&&i!=null&&i.length>=2?Gt(i[0]-i[1])*2*g:g;var b=f||a;if(b){var y=b.map((p,v)=>{var x=o?o.indexOf(p):p;return{index:v,coordinate:n(x)+g,value:p,offset:g}});return y.filter(p=>Le(p.coordinate))}return u&&l?l.map((p,v)=>({coordinate:n(p)+g,value:p,index:v,offset:g})).filter(p=>Le(p.coordinate)):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+g,value:p,offset:g})):n.domain().map((p,v)=>({coordinate:n(p)+g,value:o?o[p]:p,index:v,offset:g}))}},$P=R([xe,bc,_c,Ph,eb,Sc,tb,rb,lt],gH),vH=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Li(e,o),{tickCount:s}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Gt(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(s).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Qo=R([xe,bc,Ph,Sc,tb,rb,lt],vH),el=R(Lt,Ph,(e,t)=>{if(!(e==null||t==null))return rf(rf({},e),{},{scale:t})}),yH=R([Lt,_c,J0,NP],Q0);R((e,t,r)=>K0(e,r),yH,(e,t)=>{if(!(e==null||t==null))return rf(rf({},e),{},{scale:t})});var bH=R([xe,lh,sh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LP=e=>e.options.defaultTooltipEventType,UP=e=>e.options.validateTooltipEventTypes;function qP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function nb(e,t){var r=LP(e),n=UP(e);return qP(t,r,n)}function xH(e){return X(t=>nb(t,e))}var HP=(e,t)=>{var r,n=Number(t);if(!(Fr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},wH=e=>e.tooltip.settings,va={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_H={itemInteraction:{click:va,hover:va},axisInteraction:{click:va,hover:va},keyboardInteraction:va,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},WP=Zt({name:"tooltip",initialState:_H,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Kr(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=Kr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:SH,replaceTooltipEntrySettings:jH,removeTooltipEntrySettings:EH,setTooltipSettingsState:OH,setActiveMouseOverItemIndex:VP,mouseLeaveItem:CH,mouseLeaveChart:GP,setActiveClickItemIndex:AH,setMouseOverAxisIndex:KP,setMouseClickAxisIndex:TH,setSyncInteraction:lv,setKeyboardInteraction:sv}=WP.actions,kH=WP.reducer;function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return(t=NH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function DH(e){return e.index!=null}var FP=(e,t,r,n)=>{if(t==null)return va;var a=MH(e,t,r);if(a==null)return va;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(DH(a)){if(i)return mu(mu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return mu(mu({},va),{},{coordinate:a.coordinate})};function zH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function BH(e,t){var r=zH(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function IH(e,t,r){if(r==null||t==null)return!0;var n=At(e,t);return n==null||!$a(r)?!0:BH(n,r)}var ab=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Le(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var s=Math.max(o,Math.min(i,l)),u=t[s];return u==null||IH(u,r,n)?String(s):null},YP=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var s=o[0],u=s==null?void 0:l(s.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},XP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},jc=e=>e.options.tooltipPayloadSearcher,_l=e=>e.tooltip;function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qH(e,t){return e??t}var ZP=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:s,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:b,settings:y}=m,p=qH(b,l),v=Array.isArray(p)?vT(p,u,d):p,x=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n,_=y==null?void 0:y.nameKey,j;if(n&&Array.isArray(v)&&!Array.isArray(v[0])&&o==="axis"?j=tI(v,n,a):j=i(v,t,s,_),Array.isArray(j))j.forEach(E=>{var O=rS(rS({},y),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(pw({tooltipEntrySettings:O,dataKey:E.dataKey,payload:E.payload,value:At(E.payload,E.dataKey),name:E.name}))});else{var S;h.push(pw({tooltipEntrySettings:y,dataKey:x,payload:j,value:At(j,x),name:(S=At(j,_))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},ib=R([ct,xe,oP,L0,st],AP),HH=R([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),WH=R([st,xl],lP),Sl=R([HH,ct,WH],sP,{memoizeOptions:{resultEqualityCheck:Th}}),VH=R([Sl],e=>e.filter(Ch)),GH=R([Sl],dP,{memoizeOptions:{resultEqualityCheck:Th}}),jl=R([GH,ta],fP),KH=R([VH,ta,ct],nP),ob=R([jl,ct,Sl],hP),JP=R([ct],X0),FH=R([ct],e=>e.allowDataOverflow),QP=R([JP,FH],Mk),YH=R([Sl],e=>e.filter(Ch)),XH=R([KH,YH,Sh,Xk],pP),ZH=R([XH,ta,st,QP],gP),JH=R([Sl],uP),QH=R([jl,ct,JH,Z0,st],bP,{memoizeOptions:{resultEqualityCheck:Ah}}),eW=R([xP,st,xl],wl),tW=R([eW,st],SP),rW=R([wP,st,xl],wl),nW=R([rW,st],jP),aW=R([_P,st,xl],wl),iW=R([aW,st],EP),oW=R([tW,iW,nW],nf),lW=R([ct,JP,QP,ZH,QH,oW,xe,st],OP),Ec=R([ct,xe,jl,ob,Sh,st,lW],CP),sW=R([Ec,ct,ib],TP),cW=R([ct,Ec,sW,st],kP),eN=e=>{var t=st(e),r=xl(e),n=!1;return Sc(e,t,r,n)},tN=R([ct,eN],jh),rN=R([ct,ib,cW,tN],Q0),uW=R([xe,ob,ct,st],BP),dW=R([xe,ob,ct,st],IP),fW=(e,t,r,n,a,i,o,l)=>{if(t){var{type:s}=t,u=Li(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=s==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Gt(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},aa=R([xe,ct,ib,rN,eN,uW,dW,st],fW),lb=R([LP,UP,wH],(e,t,r)=>qP(r.shared,e,t)),nN=e=>e.tooltip.settings.trigger,sb=e=>e.tooltip.settings.defaultIndex,Oc=R([_l,lb,nN,sb],FP),tl=R([Oc,jl,wc,Ec],ab),aN=R([aa,tl],HP),iN=R([Oc],e=>{if(e)return e.dataKey});R([Oc],e=>{if(e)return e.graphicalItemId});var oN=R([_l,lb,nN,sb],XP),hW=R([Jn,Qn,xe,vt,aa,sb,oN,jc],YP),mW=R([Oc,hW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),pW=R([Oc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),gW=R([oN,tl,ta,wc,aN,jc,lb],ZP);R([gW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xW=()=>X(ct),wW=()=>{var e=xW(),t=X(aa),r=X(rN);return Dd(!e||!r?void 0:aS(aS({},e),{},{scale:r}),t)};function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){_W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _W(e,t,r){return(t=SW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EW=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},OW=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Qi(Qi(Qi({},n),Ot(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:s}=n;return Qi(Qi(Qi({},n),Ot(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function CW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var lN=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var s,u,d,f,h,m=l>0?(s=r[l-1])===null||s===void 0?void 0:s.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,g=(d=r[l])===null||d===void 0?void 0:d.coordinate,b=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||g==null||b==null))if(Gt(g-m)!==Gt(b-g)){var p=[];if(Gt(b-g)===Gt(a[1]-a[0])){y=b;var v=g+a[1]-a[0];p[0]=Math.min(v,(v+m)/2),p[1]=Math.max(v,(v+m)/2)}else{y=m;var x=b+a[1]-a[0];p[0]=Math.min(g,(x+g)/2),p[1]=Math.max(g,(x+g)/2)}var _=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>_[0]&&e<=_[1]||e>=p[0]&&e<=p[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var S=Math.min(m,b),E=Math.max(m,b);if(e>(S+g)/2&&e<=(E+g)/2){var O;return(O=r[l])===null||O===void 0?void 0:O.index}}}else if(t)for(var A=0;A<o;A++){var k=t[A];if(k!=null){var z=t[A+1],P=t[A-1];if(A===0&&z!=null&&e<=(k.coordinate+z.coordinate)/2||A===o-1&&P!=null&&e>(k.coordinate+P.coordinate)/2||A>0&&A<o-1&&P!=null&&z!=null&&e>(k.coordinate+P.coordinate)/2&&e<=(k.coordinate+z.coordinate)/2)return k.index}}return-1},AW=()=>X(L0),cb=(e,t)=>t,sN=(e,t,r)=>r,ub=(e,t,r,n)=>n,TW=R(aa,e=>Zf(e,t=>t.coordinate)),db=R([_l,cb,sN,ub],FP),fb=R([db,jl,wc,Ec],ab),kW=(e,t,r)=>{if(t!=null){var n=_l(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},cN=R([_l,cb,sN,ub],XP),af=R([Jn,Qn,xe,vt,aa,ub,cN,jc],YP),PW=R([db,af],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),uN=R([aa,fb],HP),NW=R([cN,fb,ta,wc,uN,jc,cb],ZP),RW=R([db,fb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),MW=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&CW(e,o)){var l=y8(e,t),s=lN(l,i,a,r,n),u=EW(t,a,s,e);return{activeIndex:String(s),activeCoordinate:u}}},DW=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=SU(e,r);if(l){var s=b8(l,t),u=lN(s,o,i,n,a),d=OW(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},zW=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?MW(e,t,n,a,i,o,l):DW(e,t,r,n,a,i,o)},BW=R(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),IW=R(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Bt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:_q}});function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){$W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $W(e,t,r){return(t=LW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=UW(e,"string");return typeof t=="symbol"?t:t+""}function UW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qW={},HW={zIndexMap:Object.values(Bt).reduce((e,t)=>lS(lS({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),qW)},WW=new Set(Object.values(Bt));function VW(e){return WW.has(e)}var dN=Zt({name:"zIndex",initialState:HW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!VW(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Be()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Be()}}}),{registerZIndexPortal:GW,unregisterZIndexPortal:KW,registerZIndexPortalElement:FW,unregisterZIndexPortalElement:YW}=dN.actions,XW=dN.reducer;function ia(e){var{zIndex:t,children:r}=e,n=F8(),a=n&&t!==void 0&&t!==0,i=Jt(),o=Ke();w.useLayoutEffect(()=>a?(o(GW({zIndex:t})),()=>{o(KW({zIndex:t}))}):cc,[o,t,a]);var l=X(s=>BW(s,t,i));return a?l?jv.createPortal(r,l):null:r}function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(null,arguments)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){ZW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZW(e,t,r){return(t=JW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=QW(e,"string");return typeof t=="symbol"?t:t+""}function QW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eV(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function tV(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:s,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!s||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,b,y;if(d==="ScatterChart")g=f,b=zL,y=Bt.cursorLine;else if(d==="BarChart")g=BL(l,f,i,o),b=VT,y=Bt.cursorRectangle;else if(l==="radial"&&f2(f)){var{cx:p,cy:v,radius:x,startAngle:_,endAngle:j}=GT(f);g={cx:p,cy:v,startAngle:_,endAngle:j,innerRadius:x,outerRadius:x},b=FT,y=Bt.cursorLine}else g={points:CU(l,f,i)},b=LT,y=Bt.cursorLine;var S=typeof s=="object"&&"className"in s?s.className:void 0,E=pu(pu(pu(pu({stroke:"#ccc",pointerEvents:"none"},i),g),Ly(s)),{},{payload:h,payloadIndex:m,className:De("recharts-tooltip-cursor",S)});return w.createElement(ia,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},w.createElement(eV,{cursor:s,cursorComp:b,cursorProps:E}))}function rV(e){var t=wW(),r=TT(),n=hc(),a=AW();return t==null||r==null||n==null||a==null?null:w.createElement(tV,cv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var fN=w.createContext(null),nV=()=>w.useContext(fN),hN={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(s,u,d){this.fn=s,this.context=u,this.once=d||!1}function i(s,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||s,h),g=r?r+u:u;return s._events[g]?s._events[g].fn?s._events[g]=[s._events[g],m]:s._events[g].push(m):(s._events[g]=m,s._eventsCount++),s}function o(s,u){--s._eventsCount===0?s._events=new n:delete s._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],p=arguments.length,v,x;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),p){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(x=1,v=new Array(p-1);x<p;x++)v[x-1]=arguments[x];y.fn.apply(y.context,v)}else{var _=y.length,j;for(x=0;x<_;x++)switch(y[x].once&&this.removeListener(u,y[x].fn,void 0,!0),p){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,d);break;case 3:y[x].fn.call(y[x].context,d,f);break;case 4:y[x].fn.call(y[x].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(p-1);j<p;j++)v[j-1]=arguments[j];y[x].fn.apply(y[x].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var b=0,y=[],p=g.length;b<p;b++)(g[b].fn!==d||h&&!g[b].once||f&&g[b].context!==f)&&y.push(g[b]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(hN);var aV=hN.exports;const iV=Yn(aV);var Ws=new iV,uv="recharts.syncEvent.tooltip",cS="recharts.syncEvent.brush";function oV(e,t){if(t){var r=Number.parseInt(t,10);if(!Fr(r))return e==null?void 0:e[r]}}var lV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mN=Zt({name:"options",initialState:lV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sV=mN.reducer,{createEventEmitter:cV}=mN.actions;function uV(e){return e.tooltip.syncInteraction}var dV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},pN=Zt({name:"chartData",initialState:dV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:uS,setDataStartEndIndexes:fV,setComputedData:DZ}=pN.actions,hV=pN.reducer,mV=["x","y"];function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){pV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pV(e,t,r){return(t=gV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yV(e,t){if(e==null)return{};var r,n,a=bV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xV(){var e=X(U0),t=X(q0),r=Ke(),n=X(Zk),a=X(aa),i=hc(),o=dh(),l=X(s=>s.rootProps.className);w.useEffect(()=>{if(e==null)return cc;var s=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y:b}=m,y=yV(m,mV),{x:p,y:v,width:x,height:_}=d.payload.sourceViewBox,j=eo(eo({},y),{},{x:o.x+(x?(g-p)/x:0)*o.width,y:o.y+(_?(b-v)/_:0)*o.height});r(eo(eo({},d),{},{payload:eo(eo({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=n(a,E);S=a[O]}else n==="value"&&(S=a.find(C=>String(C.value)===d.payload.label));var{coordinate:A}=d.payload;if(S==null||d.payload.active===!1||A==null||o==null){r(lv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:z}=A,P=Math.min(k,o.x+o.width),W=Math.min(z,o.y+o.height),H={x:i==="horizontal"?S.coordinate:P,y:i==="horizontal"?W:S.coordinate},Z=lv({active:d.payload.active,coordinate:H,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(Z)}}};return Ws.on(uv,s),()=>{Ws.off(uv,s)}},[l,r,t,e,n,a,i,o])}function wV(){var e=X(U0),t=X(q0),r=Ke();w.useEffect(()=>{if(e==null)return cc;var n=(a,i,o)=>{t!==o&&e===a&&r(fV(i))};return Ws.on(cS,n),()=>{Ws.off(cS,n)}},[r,t,e])}function _V(){var e=Ke();w.useEffect(()=>{e(cV())},[e]),xV(),wV()}function SV(e,t,r,n,a,i){var o=X(m=>kW(m,e,t)),l=X(q0),s=X(U0),u=X(Zk),d=X(uV),f=d==null?void 0:d.active,h=dh();w.useEffect(()=>{if(!f&&s!=null&&l!=null){var m=lv({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Ws.emit(uv,s,m,l)}},[f,r,o,a,n,l,s,u,i,h])}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){jV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jV(e,t,r){return(t=EV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=OV(e,"string");return typeof t=="symbol"?t:t+""}function OV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CV(e){return e.dataKey}function AV(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(pL,t)}var mS=[],TV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kV(e){var t,r,n=yr(e,TV),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:s,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:b,wrapperStyle:y,cursor:p,shared:v,trigger:x,defaultIndex:_,portal:j,axisId:S}=n,E=Ke(),O=typeof _=="number"?String(_):_;w.useEffect(()=>{E(OH({shared:v,trigger:x,axisId:S,active:a,defaultIndex:O}))},[E,v,x,S,a,O]);var A=dh(),k=$T(),z=xH(v),{activeIndex:P,isActive:W}=(t=X(q=>RW(q,z,x,O)))!==null&&t!==void 0?t:{},H=X(q=>NW(q,z,x,O)),Z=X(q=>uN(q,z,x,O)),C=X(q=>PW(q,z,x,O)),T=H,N=nV(),$=(r=a??W)!==null&&r!==void 0?r:!1,[U,ne]=r$([T,$]),ce=z==="axis"?Z:void 0;SV(z,x,C,ce,P,$);var le=j??N;if(le==null||A==null||z==null)return null;var he=T??mS;$||(he=mS),u&&he.length&&(he=xI(he.filter(q=>q.value!=null&&(q.hide!==!0||n.includeHidden)),h,CV));var ue=he.length>0,D=w.createElement(_L,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:$,coordinate:C,hasPayload:ue,offset:f,position:m,reverseDirection:g,useTranslate3d:b,viewBox:A,wrapperStyle:y,lastBoundingBox:U,innerRef:ne,hasPortalFromProps:!!j},AV(s,hS(hS({},n),{},{payload:he,label:ce,active:$,activeIndex:P,coordinate:C,accessibilityLayer:k})));return w.createElement(w.Fragment,null,jv.createPortal(D,le),$&&w.createElement(rV,{cursor:p,tooltipEventType:z,coordinate:C,payload:he,index:P}))}var hb=e=>null;hb.displayName="Cell";function PV(e,t,r){return(t=NV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=RV(e,"string");return typeof t=="symbol"?t:t+""}function RV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class MV{constructor(t){PV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){zV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zV(e,t,r){return(t=BV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=IV(e,"string");return typeof t=="symbol"?t:t+""}function IV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $V={cacheSize:2e3,enableCache:!0},gN=DV({},$V),gS=new MV(gN.cacheSize),LV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vS="recharts_measurement_span";function UV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var yS=(e,t)=>{try{var r=document.getElementById(vS);r||(r=document.createElement("span"),r.setAttribute("id",vS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,LV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ds=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gh.isSsr)return{width:0,height:0};if(!gN.enableCache)return yS(t,r);var n=UV(t,r),a=gS.get(n);if(a)return a;var i=yS(t,r);return gS.set(n,i),i},vN;function qV(e,t,r){return(t=HV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FV=["cm","mm","pt","pc","in","Q","px"];function YV(e){return FV.includes(e)}var wo="NaN";function XV(e,t){return e*KV[t]}class wt{static parse(t){var r,[,n,a]=(r=GV.exec(t))!==null&&r!==void 0?r:[];return n==null?wt.NaN:new wt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Fr(t)&&(this.unit=""),r!==""&&!VV.test(r)&&(this.num=NaN,this.unit=""),YV(r)&&(this.num=XV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fr(this.num)}}vN=wt;qV(wt,"NaN",new vN(NaN,""));function yN(e){if(e==null||e.includes(wo))return wo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=bS.exec(t))!==null&&r!==void 0?r:[],o=wt.parse(n??""),l=wt.parse(i??""),s=a==="*"?o.multiply(l):o.divide(l);if(s.isNaN())return wo;t=t.replace(bS,s.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=xS.exec(t))!==null&&u!==void 0?u:[],m=wt.parse(d??""),g=wt.parse(h??""),b=f==="+"?m.add(g):m.subtract(g);if(b.isNaN())return wo;t=t.replace(xS,b.toString())}return t}var wS=/\(([^()]*)\)/;function ZV(e){for(var t=e,r;(r=wS.exec(t))!=null;){var[,n]=r;t=t.replace(wS,yN(n))}return t}function JV(e){var t=e.replace(/\s+/g,"");return t=ZV(t),t=yN(t),t}function QV(e){try{return JV(e)}catch{return wo}}function np(e){var t=QV(e.slice(5,-1));return t===wo?"":t}var eG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],tG=["dx","dy","angle","className","breakAll"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function _S(e,t){if(e==null)return{};var r,n,a=rG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bN=/[ \f\n\r\t\v\u2028\u2029]+/,xN=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gt(t)||(r?a=t.toString().split(""):a=t.toString().split(bN));var i=a.map(l=>({word:l,width:ds(l,n).width})),o=r?0:ds("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function nG(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var wN=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,s=a[a.length-1];if(s&&l!=null&&(t==null||n||s.width+l+r<Number(t)))s.words.push(o),s.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),_N=e=>e.reduce((t,r)=>t.width>r.width?t:r),aG="",SS=(e,t,r,n,a,i,o,l)=>{var s=e.slice(0,t),u=xN({breakAll:r,style:n,children:s+aG});if(!u)return[!1,[]];var d=wN(u.wordsWithComputedWidth,i,o,l),f=d.length>a||_N(d).width>Number(i);return[f,d]},iG=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:s}=e,u=K(i),d=String(o),f=wN(t,n,r,a);if(!u||a)return f;var h=f.length>i||_N(f).width>Number(n);if(!h)return f;for(var m=0,g=d.length-1,b=0,y;m<=g&&b<=d.length-1;){var p=Math.floor((m+g)/2),v=p-1,[x,_]=SS(d,v,s,l,i,n,r,a),[j]=SS(d,p,s,l,i,n,r,a);if(!x&&!j&&(m=p+1),x&&j&&(g=p-1),!x&&j){y=_;break}b++}return y||f},jS=e=>{var t=gt(e)?[]:e.toString().split(bN);return[{words:t,width:void 0}]},oG=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!gh.isSsr){var l,s,u=xN({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,s=f}else return jS(n);return iG({breakAll:i,children:n,maxLines:o,style:a},l,s,t,!!r)}return jS(n)},SN="#808080",lG={angle:0,breakAll:!1,capHeight:"0.71em",fill:SN,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},mb=w.forwardRef((e,t)=>{var r=yr(e,lG),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:s,textAnchor:u,verticalAnchor:d}=r,f=_S(r,eG),h=w.useMemo(()=>oG({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:m,dy:g,angle:b,className:y,breakAll:p}=f,v=_S(f,tG);if(!sn(n)||!sn(a)||h.length===0)return null;var x=Number(n)+(K(m)?m:0),_=Number(a)+(K(g)?g:0);if(!Le(x)||!Le(_))return null;var j;switch(d){case"start":j=np("calc(".concat(o,")"));break;case"middle":j=np("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=np("calc(".concat(h.length-1," * -").concat(i,")"));break}var S=[];if(s){var E=h[0].width,{width:O}=f;S.push("scale(".concat(K(O)&&K(E)?O/E:1,")"))}return b&&S.push("rotate(".concat(b,", ").concat(x,", ").concat(_,")")),S.length&&(v.transform=S.join(" ")),w.createElement("text",dv({},Rr(v),{ref:t,x,y:_,className:De("recharts-text",y),textAnchor:u,fill:l.includes("url")?SN:l}),h.map((A,k)=>{var z=A.words.join(p?"":" ");return w.createElement("tspan",{x,dy:k===0?j:i,key:"".concat(z,"-").concat(k)},z)}))});mb.displayName="Text";var sG=["labelRef"],cG=["content"];function ES(e,t){if(e==null)return{};var r,n,a=uG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return(t=fG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jn.apply(null,arguments)}var jN=w.createContext(null),mG=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,s=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return w.createElement(jN.Provider,{value:s},l)},EN=()=>{var e=w.useContext(jN),t=dh();return e||AT(t)},pG=w.createContext(null),gG=()=>{var e=w.useContext(pG),t=X(rP);return e||t},vG=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},pb=e=>e!=null&&typeof e=="function",yG=(e,t)=>{var r=Gt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},bG=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:s,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,g=(u+d)/2,b=yG(f,h),y=b>=0?1:-1,p,v;switch(t){case"insideStart":p=f+y*i,v=m;break;case"insideEnd":p=h-y*i,v=!m;break;case"end":p=h+y*i,v=m;break;default:throw new Error("Unsupported position ".concat(t))}v=b<=0?v:!v;var x=Ot(l,s,g,p),_=Ot(l,s,g,p+(v?1:-1)*359),j="M".concat(x.x,",").concat(x.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(_.x,",").concat(_.y),S=gt(e.id)?Ps("recharts-radial-line-"):e.id;return w.createElement("text",jn({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:S,d:j})),w.createElement("textPath",{xlinkHref:"#".concat(S)},r))},xG=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:s}=e,u=(l+s)/2;if(r==="outside"){var{x:d,y:f}=Ot(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:g}=Ot(n,a,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},fv=e=>"cx"in e&&K(e.cx),wG=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!fv(r)&&(i=r);var{x:o,y:l,upperWidth:s,lowerWidth:u,height:d}=t,f=o,h=o+(s-u)/2,m=(f+h)/2,g=(s+u)/2,b=f+s/2,y=d>=0?1:-1,p=y*n,v=y>0?"end":"start",x=y>0?"start":"end",_=s>=0?1:-1,j=_*n,S=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var O={x:f+s/2,y:l-p,textAnchor:"middle",verticalAnchor:v};return We(We({},O),i?{height:Math.max(l-i.y,0),width:s}:{})}if(a==="bottom"){var A={x:h+u/2,y:l+d+p,textAnchor:"middle",verticalAnchor:x};return We(We({},A),i?{height:Math.max(i.y+i.height-(l+d),0),width:u}:{})}if(a==="left"){var k={x:m-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return We(We({},k),i?{width:Math.max(k.x-i.x,0),height:d}:{})}if(a==="right"){var z={x:m+g+j,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return We(We({},z),i?{width:Math.max(i.x+i.width-z.x,0),height:d}:{})}var P=i?{width:g,height:d}:{};return a==="insideLeft"?We({x:m+j,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},P):a==="insideRight"?We({x:m+g-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},P):a==="insideTop"?We({x:f+s/2,y:l+p,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?We({x:h+u/2,y:l+d-p,textAnchor:"middle",verticalAnchor:v},P):a==="insideTopLeft"?We({x:f+j,y:l+p,textAnchor:E,verticalAnchor:x},P):a==="insideTopRight"?We({x:f+s-j,y:l+p,textAnchor:S,verticalAnchor:x},P):a==="insideBottomLeft"?We({x:h+j,y:l+d-p,textAnchor:E,verticalAnchor:v},P):a==="insideBottomRight"?We({x:h+u-j,y:l+d-p,textAnchor:S,verticalAnchor:v},P):a&&typeof a=="object"&&(K(a.x)||qn(a.x))&&(K(a.y)||qn(a.y))?We({x:o+Yr(a.x,g),y:l+Yr(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):We({x:b,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},_G={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function da(e){var t=yr(e,_G),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:s,labelRef:u}=t,d=gG(),f=EN(),h=n==="center"?f:d??f,m,g,b;if(r==null?m=h:fv(r)?m=r:m=AT(r),!m||gt(a)&&gt(i)&&!w.isValidElement(o)&&typeof o!="function")return null;var y=We(We({},t),{},{viewBox:m});if(w.isValidElement(o)){var{labelRef:p}=y,v=ES(y,sG);return w.cloneElement(o,v)}if(typeof o=="function"){var{content:x}=y,_=ES(y,cG);if(g=w.createElement(o,_),w.isValidElement(g))return g}else g=vG(t);var j=Rr(t);if(fv(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return bG(t,n,g,j,m);b=xG(m,t.offset,t.position)}else b=wG(t,m);return w.createElement(ia,{zIndex:t.zIndex},w.createElement(mb,jn({ref:u,className:De("recharts-label",l)},j,b,{textAnchor:nG(j.textAnchor)?j.textAnchor:b.textAnchor,breakAll:s}),g))}da.displayName="Label";var SG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(da,jn({key:"label-implicit"},n)):sn(e)?w.createElement(da,jn({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===da?w.cloneElement(e,We({key:"label-implicit"},n)):w.createElement(da,jn({key:"label-implicit",content:e},n)):pb(e)?w.createElement(da,jn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(da,jn({},e,{key:"label-implicit"},n)):null};function jG(e){var{label:t,labelRef:r}=e,n=EN();return SG(t,n,r)||null}var ON={},CN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(CN);var AN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(AN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CN,r=AN,n=Ff;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(ON);var EG=ON.last;const OG=Yn(EG);var CG=["valueAccessor"],AG=["dataKey","clockWise","id","textBreakAll","zIndex"];function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(null,arguments)}function CS(e,t){if(e==null)return{};var r,n,a=TG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kG=e=>Array.isArray(e.value)?OG(e.value):e.value,TN=w.createContext(void 0),PG=TN.Provider,kN=w.createContext(void 0);kN.Provider;function NG(){return w.useContext(TN)}function RG(){return w.useContext(kN)}function Iu(e){var{valueAccessor:t=kG}=e,r=CS(e,CG),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,s=CS(r,AG),u=NG(),d=RG(),f=u||d;return!f||!f.length?null:w.createElement(ia,{zIndex:l??Bt.label},w.createElement(Un,{className:"recharts-label-list"},f.map((h,m)=>{var g,b=gt(n)?t(h,m):At(h&&h.payload,n),y=gt(i)?{}:{id:"".concat(i,"-").concat(m)};return w.createElement(da,of({key:"label-".concat(m)},Rr(h),s,y,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:b,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Iu.displayName="LabelList";function MG(e){var{label:t}=e;return t?t===!0?w.createElement(Iu,{key:"labelList-implicit"}):w.isValidElement(t)||pb(t)?w.createElement(Iu,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Iu,of({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var DG={radiusAxis:{},angleAxis:{}},PN=Zt({name:"polarAxis",initialState:DG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:zZ,removeRadiusAxis:BZ,addAngleAxis:IZ,removeAngleAxis:$Z}=PN.actions,zG=PN.reducer,NN={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb=Symbol.for("react.transitional.element"),vb=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),Dh=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Bh=Symbol.for("react.consumer"),Ih=Symbol.for("react.context"),$h=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),Uh=Symbol.for("react.suspense_list"),qh=Symbol.for("react.memo"),Hh=Symbol.for("react.lazy"),BG=Symbol.for("react.view_transition"),IG=Symbol.for("react.client.reference");function Br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gb:switch(e=e.type,e){case Mh:case zh:case Dh:case Lh:case Uh:case BG:return e;default:switch(e=e&&e.$$typeof,e){case Ih:case $h:case Hh:case qh:return e;case Bh:return e;default:return t}}case vb:return t}}}Ee.ContextConsumer=Bh;Ee.ContextProvider=Ih;Ee.Element=gb;Ee.ForwardRef=$h;Ee.Fragment=Mh;Ee.Lazy=Hh;Ee.Memo=qh;Ee.Portal=vb;Ee.Profiler=zh;Ee.StrictMode=Dh;Ee.Suspense=Lh;Ee.SuspenseList=Uh;Ee.isContextConsumer=function(e){return Br(e)===Bh};Ee.isContextProvider=function(e){return Br(e)===Ih};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gb};Ee.isForwardRef=function(e){return Br(e)===$h};Ee.isFragment=function(e){return Br(e)===Mh};Ee.isLazy=function(e){return Br(e)===Hh};Ee.isMemo=function(e){return Br(e)===qh};Ee.isPortal=function(e){return Br(e)===vb};Ee.isProfiler=function(e){return Br(e)===zh};Ee.isStrictMode=function(e){return Br(e)===Dh};Ee.isSuspense=function(e){return Br(e)===Lh};Ee.isSuspenseList=function(e){return Br(e)===Uh};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mh||e===zh||e===Dh||e===Lh||e===Uh||typeof e=="object"&&e!==null&&(e.$$typeof===Hh||e.$$typeof===qh||e.$$typeof===Ih||e.$$typeof===Bh||e.$$typeof===$h||e.$$typeof===IG||e.getModuleId!==void 0)};Ee.typeOf=Br;NN.exports=Ee;var $G=NN.exports,AS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",TS=null,ap=null,RN=e=>{if(e===TS&&Array.isArray(ap))return ap;var t=[];return w.Children.forEach(e,r=>{gt(r)||($G.isFragment(r)?t=t.concat(RN(r.props.children)):t.push(r))}),ap=t,TS=e,t};function LG(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>AS(a)):n=[AS(t)],RN(e).forEach(a=>{var i=Go(a,"type.displayName")||Go(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var MN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(MN);var UG=MN.isPlainObject;const qG=Yn(UG);var kS,PS,NS,RS,MS;function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){HG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HG(e,t,r){return(t=WG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(null,arguments)}function $l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var BS=(e,t,r,n,a)=>{var i=r-n,o;return o=qe(kS||(kS=$l(["M ",",",""])),e,t),o+=qe(PS||(PS=$l(["L ",",",""])),e+r,t),o+=qe(NS||(NS=$l(["L ",",",""])),e+r-i/2,t+a),o+=qe(RS||(RS=$l(["L ",",",""])),e+r-i/2-n,t+a),o+=qe(MS||(MS=$l(["L ",","," Z"])),e,t),o},GG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KG=e=>{var t=yr(e,GG),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:s,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=w.useRef(null),[m,g]=w.useState(-1),b=w.useRef(a),y=w.useRef(i),p=w.useRef(o),v=w.useRef(r),x=w.useRef(n),_=m0(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var H=h.current.getTotalLength();H&&g(H)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=De("recharts-trapezoid",l);if(!f)return w.createElement("g",null,w.createElement("path",lf({},Rr(t),{className:j,d:BS(r,n,a,i,o)})));var S=b.current,E=y.current,O=p.current,A=v.current,k=x.current,z="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),W=UT(["strokeDasharray"],u,s);return w.createElement(h0,{animationId:_,key:_,canBegin:m>0,duration:u,easing:s,isActive:f,begin:d},H=>{var Z=_t(S,a,H),C=_t(E,i,H),T=_t(O,o,H),N=_t(A,r,H),$=_t(k,n,H);h.current&&(b.current=Z,y.current=C,p.current=T,v.current=N,x.current=$);var U=H>0?{transition:W,strokeDasharray:P}:{strokeDasharray:z};return w.createElement("path",lf({},Rr(t),{className:j,d:BS(N,$,Z,C,T),ref:h,style:zS(zS({},U),t.style)}))})},FG=["option","shapeType","activeClassName"];function YG(e,t){if(e==null)return{};var r,n,a=XG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){ZG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZG(e,t,r){return(t=JG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=QG(e,"string");return typeof t=="symbol"?t:t+""}function QG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eK(e,t){return sf(sf({},t),e)}function tK(e,t){return e==="symbols"}function $S(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(VT,r);case"trapezoid":return w.createElement(KG,r);case"sector":return w.createElement(FT,r);case"symbols":if(tK(t))return w.createElement(d2,r);break;case"curve":return w.createElement(LT,r);default:return null}}function rK(e){return w.isValidElement(e)?e.props:e}function nK(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=YG(e,FG),i;if(w.isValidElement(t))i=w.cloneElement(t,sf(sf({},a),rK(t)));else if(typeof t=="function")i=t(a,a.index);else if(qG(t)&&typeof t!="boolean"){var o=eK(t,a);i=w.createElement($S,{shapeType:r,elementProps:o})}else{var l=a;i=w.createElement($S,{shapeType:r,elementProps:l})}return a.isActive?w.createElement(Un,{className:n},i):i}var DN=(e,t,r)=>{var n=Ke();return(a,i)=>o=>{e==null||e(a,i,o),n(VP({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},zN=e=>{var t=Ke();return(r,n)=>a=>{e==null||e(r,n,a),t(CH())}},BN=(e,t,r)=>{var n=Ke();return(a,i)=>o=>{e==null||e(a,i,o),n(AH({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function aK(e){var{tooltipEntrySettings:t}=e,r=Ke(),n=Jt(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(SH(t)):a.current!==t&&r(jH({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(EH(a.current)),a.current=null)},[r]),null}function iK(e){var{legendPayload:t}=e,r=Ke(),n=Jt(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(lL(t)):a.current!==t&&r(sL({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(cL(a.current)),a.current=null)},[r]),null}var ip,oK=()=>{var[e]=w.useState(()=>Ps("uid-"));return e},lK=(ip=vj.useId)!==null&&ip!==void 0?ip:oK;function sK(e,t){var r=lK();return t||(e?"".concat(e,"-").concat(r):r)}var cK=w.createContext(void 0),uK=e=>{var{id:t,type:r,children:n}=e,a=sK("recharts-".concat(r),t);return w.createElement(cK.Provider,{value:a},n(a))},dK={cartesianItems:[],polarItems:[]},IN=Zt({name:"graphicalItems",initialState:dK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Kr(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=Kr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=Kr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:fK,replaceCartesianGraphicalItem:hK,removeCartesianGraphicalItem:mK,addPolarGraphicalItem:LZ,removePolarGraphicalItem:UZ}=IN.actions,pK=IN.reducer,gK=e=>{var t=Ke(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(fK(e)):r.current!==e&&t(hK({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(mK(r.current)),r.current=null)},[t]),null},vK=w.memo(gK);function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){yK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yK(e,t,r){return(t=bK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=xK(e,"string");return typeof t=="symbol"?t:t+""}function xK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $N=0,wK={xAxis:{},yAxis:{},zAxis:{}},LN=Zt({name:"cartesianAxis",initialState:wK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=US(US({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:_K,replaceXAxis:SK,removeXAxis:jK,addYAxis:EK,replaceYAxis:OK,removeYAxis:CK,addZAxis:qZ,replaceZAxis:HZ,removeZAxis:WZ,updateYAxisWidth:AK}=LN.actions,TK=LN.reducer,kK=R([vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),PK=R([kK,Jn,Qn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),UN=()=>X(PK),qS=(e,t,r)=>{var n=r??e;if(!gt(n))return Yr(n,t,0)},NK=(e,t,r)=>{var n={},a=e.filter(Ch),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=qS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),s=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=qS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...s]};function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){RK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RK(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=DK(e,"string");return typeof t=="symbol"?t:t+""}function DK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zK(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Yr(e,r,0,!0),l,s=[];if(Le(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((p,v)=>p+(v.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};l=n.reduce((p,v)=>{var x,_={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(x=v.barSize)!==null&&x!==void 0?x:0}},j=[...p,_];return m=j[j.length-1].position,j},s)}else{var g=Yr(t,r,0,!0);r-2*g-(i-1)*o<=0&&(o=0);var b=(r-2*g-(i-1)*o)/i;b>1&&(b>>=0);var y=Le(a)?Math.min(b,a):b;l=n.reduce((p,v,x)=>[...p,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(b+o)*x+(b-y)/2,size:y}}],s)}return l}}var BK=(e,t,r,n,a,i,o)=>{var l=gt(o)?t:o,s=zK(r,n,a!==i?a:i,e,l);return a!==i&&s!=null&&(s=s.map(u=>gu(gu({},u),{},{position:gu(gu({},u.position),{},{offset:u.position.offset-a/2})}))),s},IK=(e,t)=>{var r=G0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function $K(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Le(e.zIndex)?e.zIndex:t}var LK=e=>{var{chartData:t}=e,r=Ke(),n=Jt();return w.useEffect(()=>n?()=>{}:(r(uS(t)),()=>{r(uS(void 0))}),[t,r,n]),null},WS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qN=Zt({name:"brush",initialState:WS,reducers:{setBrushSettings(e,t){return t.payload==null?WS:t.payload}}}),{setBrushSettings:VZ}=qN.actions,UK=qN.reducer;function qK(e,t,r){return(t=HK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yb{static create(t){return new yb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}qK(yb,"EPS",1e-4);function VK(e){return(e%180+180)%180}var GK=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=VK(a),o=i*Math.PI/180,l=Math.atan(n/r),s=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(s)},KK={dots:[],areas:[],lines:[]},HN=Zt({name:"referenceElements",initialState:KK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Kr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Kr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Kr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:GZ,removeDot:KZ,addArea:FZ,removeArea:YZ,addLine:XZ,removeLine:ZZ}=HN.actions,FK=HN.reducer,YK=w.createContext(void 0),XK=e=>{var{children:t}=e,[r]=w.useState("".concat(Ps("recharts"),"-clip")),n=UN();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return w.createElement(YK.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function WN(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function ZK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return GK(n,r)}function JK(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Vs(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function QK(e,t){return WN(e,t+1)}function eF(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,s=0,u=1,d=o,f=function(){var g=n==null?void 0:n[s];if(g===void 0)return{v:WN(n,u)};var b=s,y,p=()=>(y===void 0&&(y=r(g,b)),y),v=g.coordinate,x=s===0||Vs(e,v,p,d,l);x||(s=0,d=o,u+=1),x&&(d=v+e*(p()/2+a),s+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function tF(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:l,end:s}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,h=!0,m=function(){var v=n[g],x=g,_,j=()=>(_===void 0&&(_=r(v,x)),_),S=v.coordinate,E=g===d||Vs(e,S,j,f,s);if(!E)return h=!1,1;E&&(f=S+e*(j()/2+a))},g=d;g<o&&!m();g+=u);if(h){for(var b=[],y=d;y<o;y+=u)b.push(n[y]);return b}}return[]}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){rF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rF(e,t,r){return(t=nF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nF(e){var t=aF(e,"string");return typeof t=="symbol"?t:t+""}function aF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iF(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:s}=t,u=function(h){var m=i[h],g,b=()=>(g===void 0&&(g=r(m,h)),g);if(h===o-1){var y=e*(m.coordinate+e*b()/2-s);i[h]=m=Tt(Tt({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Tt(Tt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var p=Vs(e,m.tickCoord,b,l,s);p&&(s=m.tickCoord-e*(b()/2+a),i[h]=Tt(Tt({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function oF(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:s,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Vs(e,d.tickCoord,()=>f,s,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Tt(Tt({},d),{},{isShow:!0}))}}for(var g=i?l-1:l,b=function(v){var x=o[v],_,j=()=>(_===void 0&&(_=r(x,v)),_);if(v===0){var S=e*(x.coordinate-e*j()/2-s);o[v]=x=Tt(Tt({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else o[v]=x=Tt(Tt({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var E=Vs(e,x.tickCoord,j,s,u);E&&(s=x.tickCoord+e*(j()/2+a),o[v]=Tt(Tt({},x),{},{isShow:!0}))}},y=0;y<g;y++)b(y);return o}function bb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:s,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(K(s)||gh.isSsr){var h;return(h=QK(a,K(s)?s:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",b=d&&g==="width"?ds(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(x,_)=>{var j=typeof u=="function"?u(x.value,_):x.value;return g==="width"?ZK(ds(j,{fontSize:t,letterSpacing:r}),b,f):ds(j,{fontSize:t,letterSpacing:r})[g]},p=a.length>=2?Gt(a[1].coordinate-a[0].coordinate):1,v=JK(i,p,g);return s==="equidistantPreserveStart"?eF(p,v,y,a,o):s==="equidistantPreserveEnd"?tF(p,v,y,a,o):(s==="preserveStart"||s==="preserveStartEnd"?m=oF(p,v,y,a,o,s==="preserveStartEnd"):m=iF(p,v,y,a,o),m.filter(x=>x.isShow))}var lF=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,s=a+i,u=o+s+l+(r?n:0);return Math.round(u)}return 0},sF=["axisLine","width","height","className","hide","ticks","axisType"];function cF(e,t){if(e==null)return{};var r,n,a=uF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(null,arguments)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){dF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t,r){return(t=fF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function mF(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:s}=e;if(!l)return null;var u=Ye(Ye(Ye({},s),Ln(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Ye(Ye({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Ye(Ye({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",Pi({},u,{className:De("recharts-cartesian-axis-line",Go(l,"className"))}))}function pF(e,t,r,n,a,i,o,l,s){var u,d,f,h,m,g,b=l?-1:1,y=e.tickSize||o,p=K(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-b*y,g=f-b*s,m=p;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-b*y,m=u-b*s,g=p;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+b*y,m=u+b*s,g=p;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+b*y,g=f+b*s,m=p;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function gF(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function vF(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function yF(e){var{option:t,tickProps:r,value:n}=e,a,i=De(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,Ye(Ye({},r),{},{className:i}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t==null?void 0:t.className)),a=w.createElement(mb,Pi({},r,{className:o}),n)}return a}var bF=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:s,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:g,height:b,tickSize:y,tickMargin:p,fontSize:v,letterSpacing:x,getTicksConfig:_,events:j,axisType:S}=e,E=bb(Ye(Ye({},_),{},{ticks:r}),v,x),O=gF(d,f),A=vF(d,f),k=Ln(_),z=Ly(n),P={};typeof a=="object"&&(P=a);var W=Ye(Ye({},k),{},{fill:"none"},P),H=E.map(T=>Ye({entry:T},pF(T,h,m,g,b,d,y,f,p))),Z=H.map(T=>{var{entry:N,line:$}=T;return w.createElement(Un,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},a&&w.createElement("line",Pi({},W,$,{className:De("recharts-cartesian-axis-tick-line",Go(a,"className"))})))}),C=H.map((T,N)=>{var{entry:$,tick:U}=T,ne=Ye(Ye(Ye(Ye({textAnchor:O,verticalAnchor:A},k),{},{stroke:"none",fill:i},z),U),{},{index:N,payload:$,visibleTicksCount:E.length,tickFormatter:o,padding:s},u);return w.createElement(Un,Pi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Vy(j,$,N)),n&&w.createElement(yF,{option:n,tickProps:ne,value:"".concat(typeof o=="function"?o($.value,N):$.value).concat(l||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},C.length>0&&w.createElement(ia,{zIndex:Bt.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},C)),Z.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},Z))}),xF=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:s}=e,u=cF(e,sF),[d,f]=w.useState(""),[h,m]=w.useState(""),g=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return lF({ticks:g.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=w.useCallback(y=>{if(y){var p=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=p;var v=p[0];if(v){var x=window.getComputedStyle(v),_=x.fontSize,j=x.letterSpacing;(_!==d||j!==h)&&(f(_),m(j))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(ia,{zIndex:e.zIndex},w.createElement(Un,{className:De("recharts-cartesian-axis",i)},w.createElement(mF,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ln(e)}),w.createElement(bF,{ref:b,axisType:s,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(mG,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(jG,{label:e.label,labelRef:e.labelRef}),e.children)))}),xb=w.forwardRef((e,t)=>{var r=yr(e,Mn);return w.createElement(xF,Pi({},r,{ref:t}))});xb.displayName="CartesianAxis";var wF=["x1","y1","x2","y2","key"],_F=["offset"],SF=["xAxisId","yAxisId"],jF=["xAxisId","yAxisId"];function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){EF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EF(e,t,r){return(t=OF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=CF(e,"string");return typeof t=="symbol"?t:t+""}function CF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(null,arguments)}function cf(e,t){if(e==null)return{};var r,n,a=AF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TF=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return w.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VN(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:s,key:u}=r,d=cf(r,wF),f=(a=Ln(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=cf(f,_F);n=w.createElement("line",ui({},m,{x1:i,y1:o,x2:l,y2:s,fill:"none",key:u}))}return n}function kF(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=cf(e,SF),s=a.map((u,d)=>{var f=kt(kt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return w.createElement(VN,{key:"line-".concat(d),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function PF(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=cf(e,jF),s=a.map((u,d)=>{var f=kt(kt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return w.createElement(VN,{option:n,lineItemProps:f,key:"line-".concat(d)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function NF(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:s=!0}=e;if(!s||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var b=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function RF(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:s}=e;if(!t||!r||!r.length)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var b=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var MF=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return yT(bb(kt(kt(kt({},Mn),r),{},{ticks:bT(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},DF=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return yT(bb(kt(kt(kt({},Mn),r),{},{ticks:bT(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},zF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function GN(e){var t=kT(),r=PT(),n=TT(),a=kt(kt({},yr(e,zF)),{},{x:K(e.x)?e.x:n.left,y:K(e.y)?e.y:n.top,width:K(e.width)?e.width:n.width,height:K(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:s,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,g=Jt(),b=X(A=>Q_(A,"xAxis",i,g)),y=X(A=>Q_(A,"yAxis",o,g));if(!cn(u)||!cn(d)||!K(l)||!K(s))return null;var p=a.verticalCoordinatesGenerator||MF,v=a.horizontalCoordinatesGenerator||DF,{horizontalPoints:x,verticalPoints:_}=a;if((!x||!x.length)&&typeof v=="function"){var j=h&&h.length,S=v({yAxis:y?kt(kt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);zd(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}if((!_||!_.length)&&typeof p=="function"){var E=m&&m.length,O=p({xAxis:b?kt(kt({},b),{},{ticks:E?m:b.ticks}):void 0,width:t??u,height:r??d,offset:n},E?!0:f);zd(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(_=O)}return w.createElement(ia,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(TF,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(NF,ui({},a,{horizontalPoints:x})),w.createElement(RF,ui({},a,{verticalPoints:_})),w.createElement(kF,ui({},a,{offset:n,horizontalPoints:x,xAxis:b,yAxis:y})),w.createElement(PF,ui({},a,{offset:n,verticalPoints:_,xAxis:b,yAxis:y}))))}GN.displayName="CartesianGrid";var BF={},KN=Zt({name:"errorBars",initialState:BF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:JZ,replaceErrorBar:QZ,removeErrorBar:eJ}=KN.actions,IF=KN.reducer,$F=["children"];function LF(e,t){if(e==null)return{};var r,n,a=UF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},HF=w.createContext(qF);function WF(e){var{children:t}=e,r=LF(e,$F);return w.createElement(HF.Provider,{value:r},t)}function FN(e,t){var r,n,a=X(u=>ra(u,e)),i=X(u=>na(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ut.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:dt.allowDataOverflow,s=o||l;return{needClip:s,needClipX:o,needClipY:l}}function VF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=UN(),{needClipX:i,needClipY:o,needClip:l}=FN(t,r);if(!l||!a)return null;var{x:s,y:u,width:d,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:i?s:s-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var GF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc=w;function KF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FF=typeof Object.is=="function"?Object.is:KF,YF=Cc.useSyncExternalStore,XF=Cc.useRef,ZF=Cc.useEffect,JF=Cc.useMemo,QF=Cc.useDebugValue;GF.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=XF(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=JF(function(){function s(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,FF(d,m))return g;var b=n(m);return a!==void 0&&a(g,b)?(d=m,g):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=YF(e,i[0],i[1]);return ZF(function(){o.hasValue=!0,o.value=l},[l]),QF(l),l};function eY(e){e()}function tY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var FS={notify(){},get:()=>[]};function rY(e,t){let r,n=FS,a=0,i=!1;function o(b){d();const y=n.subscribe(b);let p=!1;return()=>{p||(p=!0,y(),f())}}function l(){n.notify()}function s(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(s),n=tY())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=FS)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:s,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var nY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aY=nY(),iY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oY=iY(),lY=()=>aY||oY?w.useLayoutEffect:w.useEffect,sY=lY();function YS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cY(e,t){if(YS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!YS(e[r[a]],t[r[a]]))return!1;return!0}var op=Symbol.for("react-redux-context"),lp=typeof globalThis<"u"?globalThis:{};function uY(){if(!w.createContext)return{};const e=lp[op]??(lp[op]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var dY=uY();function fY(e){const{children:t,context:r,serverState:n,store:a}=e,i=w.useMemo(()=>{const s=rY(a);return{store:a,subscription:s,getServerState:n?()=>n:void 0}},[a,n]),o=w.useMemo(()=>a.getState(),[a]);sY(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==a.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]);const l=r||dY;return w.createElement(l.Provider,{value:i},t)}var hY=fY,mY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function pY(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function wb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(mY.has(n)){if(e[n]==null&&t[n]==null)continue;if(!cY(e[n],t[n]))return!1}else if(!pY(e[n],t[n]))return!1;return!0}function Hi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:$N}function Wi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:$N}var gY="Invariant failed";function vY(e,t){throw new Error(gY)}function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function uf(e){return w.createElement(nK,hv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var yY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(K(t))return t;var i=K(n)||gt(n);return i?t(n,a):(i||vY(),r)}},bY=(e,t,r)=>r,xY=(e,t)=>t,Ac=R([F0,xY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),wY=R([Ac],e=>e==null?void 0:e.maxBarSize),_Y=(e,t,r,n)=>n,SY=R([xe,F0,Hi,Wi,bY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),jY=(e,t,r)=>{var n=xe(e),a=Hi(e,t),i=Wi(e,t);if(!(a==null||i==null))return n==="horizontal"?ov(e,"yAxis",i,r):ov(e,"xAxis",a,r)},EY=(e,t)=>{var r=xe(e),n=Hi(e,t),a=Wi(e,t);if(!(n==null||a==null))return r==="horizontal"?J_(e,"xAxis",n):J_(e,"yAxis",a)},OY=R([SY,gq,EY],NK),CY=(e,t,r)=>{var n,a,i=Ac(e,t);if(i!=null){var o=Hi(e,t),l=Wi(e,t);if(!(o==null||l==null)){var s=xe(e),u=Fk(e),{maxBarSize:d}=i,f=gt(d)?u:d,h,m;return s==="horizontal"?(h=el(e,"xAxis",o,r),m=Qo(e,"xAxis",o,r)):(h=el(e,"yAxis",l,r),m=Qo(e,"yAxis",l,r)),(n=(a=Dd(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},YN=(e,t,r)=>{var n=xe(e),a=Hi(e,t),i=Wi(e,t);if(!(a==null||i==null)){var o,l;return n==="horizontal"?(o=el(e,"xAxis",a,r),l=Qo(e,"xAxis",a,r)):(o=el(e,"yAxis",i,r),l=Qo(e,"yAxis",i,r)),Dd(o,l)}},AY=R([OY,Fk,pq,Yk,CY,YN,wY],BK),TY=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return el(e,"xAxis",n,r)},kY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return el(e,"yAxis",n,r)},PY=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return Qo(e,"xAxis",n,r)},NY=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return Qo(e,"yAxis",n,r)},RY=R([AY,Ac],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),MY=R([jY,Ac],IK),DY=R([vt,c0,TY,kY,PY,NY,RY,xe,nq,YN,MY,Ac,_Y],(e,t,r,n,a,i,o,l,s,u,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:b}=s;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:y}=f,p;if(y!=null&&y.length>0?p=y:p=m==null?void 0:m.slice(g,b+1),p!=null)return uX({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:p,offset:e,cells:h,dataStartIndex:g})}}),zY=["index"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(null,arguments)}function BY(e,t){if(e==null)return{};var r,n,a=IY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XN=w.createContext(void 0),$Y=e=>{var t=w.useContext(XN);if(t!=null)return t.stackId;if(e!=null)return h8(e)},LY=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),UY=e=>{var t=w.useContext(XN);if(t!=null){var{stackId:r}=t;return"url(#".concat(LY(r,e),")")}},qY=e=>{var{index:t}=e,r=BY(e,zY),n=UY(t);return w.createElement(Un,mv({className:"recharts-bar-stack-layer",clipPath:n},r))},HY=["onMouseEnter","onMouseLeave","onClick"],WY=["value","background","tooltipPosition"],VY=["id"],GY=["onMouseEnter","onClick","onMouseLeave"];function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(null,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return(t=FY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function df(e,t){if(e==null)return{};var r,n,a=XY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZY=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:xT(r,t),payload:e}]},JY=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:s,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:xT(i,t),hide:o,type:s,color:a,unit:l,graphicalItemId:u}};return w.createElement(aK,{tooltipEntrySettings:d})});function QY(e){var t=X(tl),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:s}=i,u=df(i,HY),d=DN(o,n,i.id),f=zN(l),h=BN(s,n,i.id);if(!a||r==null)return null;var m=Ly(a);return w.createElement(ia,{zIndex:$K(a,Bt.barBackground)},r.map((g,b)=>{var{value:y,background:p,tooltipPosition:v}=g,x=df(g,WY);if(!p)return null;var _=d(g,b),j=f(g,b),S=h(g,b),E=Mt(Mt(Mt(Mt(Mt({option:a,isActive:String(b)===t},x),{},{fill:"#eee"},p),m),Vy(u,g,b)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return w.createElement(uf,Fn({key:"background-bar-".concat(b)},E))}))}function eX(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mt(Mt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return w.createElement(PG,{value:t?a:void 0},r)}function tX(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=X(tl),s=X(iN),u=r&&String(i)===l&&(s==null||o===s),d=u?r:t;return u?w.createElement(ia,{zIndex:Bt.activeBar},w.createElement(uf,Fn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):w.createElement(uf,Fn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function rX(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return w.createElement(uf,Fn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function nX(e){var t,{data:r,props:n}=e,a=(t=Ln(n))!==null&&t!==void 0?t:{},{id:i}=a,o=df(a,VY),{shape:l,dataKey:s,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=df(n,GY),g=DN(d,s,i),b=zN(h),y=BN(f,s,i);return r?w.createElement(w.Fragment,null,r.map((p,v)=>w.createElement(qY,Fn({index:v,key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(v),className:"recharts-bar-rectangle"},Vy(m,p,v),{onMouseEnter:g(p,v),onMouseLeave:b(p,v),onClick:y(p,v)}),u?w.createElement(tX,{shape:l,activeBar:u,baseProps:o,entry:p,index:v,dataKey:s}):w.createElement(rX,{shape:l,baseProps:o,entry:p,index:v,dataKey:s})))):null}function aX(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:s,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=m0(t,"recharts-bar-"),[m,g]=w.useState(!1),b=!m,y=w.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),p=w.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return w.createElement(eX,{showLabels:b,rects:n},w.createElement(h0,{animationId:h,begin:o,duration:l,isActive:i,easing:s,onAnimationEnd:y,onAnimationStart:p,key:h},v=>{var x=v===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Mt(Mt({},_),{},{x:_t(S.x,_.x,v),y:_t(S.y,_.y,v),width:_t(S.width,_.width,v),height:_t(S.height,_.height,v)});if(a==="horizontal"){var E=_t(0,_.height,v),O=_t(_.stackedBarStart,_.y,v);return Mt(Mt({},_),{},{y:O,height:E})}var A=_t(0,_.width,v),k=_t(_.stackedBarStart,_.x,v);return Mt(Mt({},_),{},{width:A,x:k})});return v>0&&(r.current=x??null),x==null?null:w.createElement(Un,null,w.createElement(nX,{props:t,data:x}))}),w.createElement(MG,{label:t.label}),t.children)}function iX(e){var t=w.useRef(null);return w.createElement(aX,{previousRectanglesRef:t,props:e})}var ZN=0,oX=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:At(e,t)}};class lX extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:s,id:u}=this.props;if(t||r==null)return null;var d=De("recharts-bar",a),f=u;return w.createElement(Un,{className:d,id:u},l&&w.createElement("defs",null,w.createElement(VF,{clipPathId:f,xAxisId:i,yAxisId:o})),w.createElement(Un,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},w.createElement(QY,{data:r,dataKey:n,background:s,allOtherBarProps:this.props}),w.createElement(iX,this.props)))}}var sX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:ZN,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function cX(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=FN(t,r),h=hc(),m=Jt(),g=LG(e.children,hb),b=X(v=>DY(v,e.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var y,p=b==null?void 0:b[0];return p==null||p.height==null||p.width==null?y=0:y=h==="vertical"?p.height/2:p.width/2,w.createElement(WF,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:oX,errorBarOffset:y},w.createElement(lX,Fn({},e,{layout:h,needClip:f,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:u,isAnimationActive:d})))}function uX(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:s,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g,dataStartIndex:b}=e,y=t==="horizontal"?l:o,p=d?y.scale.domain():null,v=m8({numericAxis:y}),x=y.scale(v);return f.map((_,j)=>{var S,E,O,A,k,z;if(d){var P=d[j+b];if(P==null)return null;S=s8(P,p)}else S=At(_,r),Array.isArray(S)||(S=[v,S]);var W=yY(n,ZN)(S[1],j);if(t==="horizontal"){var H,[Z,C]=[l.scale(S[0]),l.scale(S[1])];E=fw({axis:o,ticks:s,bandSize:i,offset:a.offset,entry:_,index:j}),O=(H=C??Z)!==null&&H!==void 0?H:void 0,A=a.size;var T=Z-C;if(k=Fr(T)?0:T,z={x:E,y:h.top,width:A,height:h.height},Math.abs(W)>0&&Math.abs(k)<Math.abs(W)){var N=Gt(k||W)*(Math.abs(W)-Math.abs(k));O-=N,k+=N}}else{var[$,U]=[o.scale(S[0]),o.scale(S[1])];if(E=$,O=fw({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:_,index:j}),A=U-$,k=a.size,z={x:h.left,y:O,width:h.width,height:k},Math.abs(W)>0&&Math.abs(A)<Math.abs(W)){var ne=Gt(A||W)*(Math.abs(W)-Math.abs(A));A+=ne}}if(E==null||O==null||A==null||k==null)return null;var ce=Mt(Mt({},_),{},{stackedBarStart:x,x:E,y:O,width:A,height:k,value:d?S:S[1],payload:_,background:z,tooltipPosition:{x:E+A/2,y:O+k/2},parentViewBox:g},m&&m[j]&&m[j].props);return ce}).filter(Boolean)}function dX(e){var t=yr(e,sX),r=$Y(t.stackId),n=Jt();return w.createElement(uK,{id:t.id,type:"bar"},a=>w.createElement(w.Fragment,null,w.createElement(iK,{legendPayload:ZY(t)}),w.createElement(JY,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),w.createElement(vK,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),w.createElement(ia,{zIndex:t.zIndex},w.createElement(cX,Fn({},t,{id:a})))))}var JN=w.memo(dX,wb);JN.displayName="Bar";var fX=["domain","range"],hX=["domain","range"];function ZS(e,t){if(e==null)return{};var r,n,a=mX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function QN(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=ZS(e,fX),{domain:i,range:o}=t,l=ZS(t,hX);return!JS(r,i)||!JS(n,o)?!1:wb(a,l)}var pX=["dangerouslySetInnerHTML","ticks","scale"],gX=["id","scale"];function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function QS(e,t){if(e==null)return{};var r,n,a=vX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yX(e){var t=Ke(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(_K(e)):r.current!==e&&t(SK({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(jK(r.current)),r.current=null)},[t]),null}var bX=e=>{var{xAxisId:t,className:r}=e,n=X(c0),a=Jt(),i="xAxis",o=X(p=>$P(p,i,t,a)),l=X(p=>DP(p,t)),s=X(p=>hH(p,t)),u=X(p=>aP(p,t));if(l==null||s==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=QS(e,pX),{id:g,scale:b}=u,y=QS(u,gX);return w.createElement(xb,pv({},m,y,{x:s.x,y:s.y,width:l.width,height:l.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},xX={allowDataOverflow:ut.allowDataOverflow,allowDecimals:ut.allowDecimals,allowDuplicatedCategory:ut.allowDuplicatedCategory,angle:ut.angle,axisLine:Mn.axisLine,height:ut.height,hide:!1,includeHidden:ut.includeHidden,interval:ut.interval,minTickGap:ut.minTickGap,mirror:ut.mirror,orientation:ut.orientation,padding:ut.padding,reversed:ut.reversed,scale:ut.scale,tick:ut.tick,tickCount:ut.tickCount,tickLine:Mn.tickLine,tickSize:Mn.tickSize,type:ut.type,xAxisId:0},wX=e=>{var t=yr(e,xX);return w.createElement(w.Fragment,null,w.createElement(yX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(bX,t))},eR=w.memo(wX,QN);eR.displayName="XAxis";var _X=["dangerouslySetInnerHTML","ticks","scale"],SX=["id","scale"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function ej(e,t){if(e==null)return{};var r,n,a=jX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EX(e){var t=Ke(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(EK(e)):r.current!==e&&t(OK({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(CK(r.current)),r.current=null)},[t]),null}var OX=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=w.useRef(null),o=w.useRef(null),l=X(c0),s=Jt(),u=Ke(),d="yAxis",f=X(S=>zP(S,t)),h=X(S=>pH(S,t)),m=X(S=>$P(S,d,t,s)),g=X(S=>iP(S,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!f||pb(a)||w.isValidElement(a)||g==null)){var S=i.current;if(S){var E=S.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&u(AK({id:t,width:E}))}}},[m,f,u,a,t,n,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:y,scale:p}=e,v=ej(e,_X),{id:x,scale:_}=g,j=ej(g,SX);return w.createElement(xb,gv({},v,j,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:De("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))},CX={allowDataOverflow:dt.allowDataOverflow,allowDecimals:dt.allowDecimals,allowDuplicatedCategory:dt.allowDuplicatedCategory,angle:dt.angle,axisLine:Mn.axisLine,hide:!1,includeHidden:dt.includeHidden,interval:dt.interval,minTickGap:dt.minTickGap,mirror:dt.mirror,orientation:dt.orientation,padding:dt.padding,reversed:dt.reversed,scale:dt.scale,tick:dt.tick,tickCount:dt.tickCount,tickLine:Mn.tickLine,tickSize:Mn.tickSize,type:dt.type,width:dt.width,yAxisId:0},AX=e=>{var t=yr(e,CX);return w.createElement(w.Fragment,null,w.createElement(EX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(OX,t))},tR=w.memo(AX,QN);tR.displayName="YAxis";var TX=(e,t)=>t,_b=R([TX,xe,rP,st,tN,aa,TW,vt],zW),Sb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},rR=Mr("mouseClick"),nR=dc();nR.startListening({actionCreator:rR,effect:(e,t)=>{var r=e.payload,n=_b(t.getState(),Sb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(TH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var vv=Mr("mouseMove"),aR=dc(),vu=null;aR.startListening({actionCreator:vv,effect:(e,t)=>{var r=e.payload;vu!==null&&cancelAnimationFrame(vu);var n=Sb(r);vu=requestAnimationFrame(()=>{var a=t.getState(),i=nb(a,a.tooltip.settings.shared);if(i==="axis"){var o=_b(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(KP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(GP())}vu=null})}});function kX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var tj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},iR=Zt({name:"rootProps",initialState:tj,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:tj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),PX=iR.reducer,{updateOptions:NX}=iR.actions,oR=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tJ}=oR.actions,RX=oR.reducer,lR=Mr("keyDown"),sR=Mr("focus"),jb=dc();jb.startListening({actionCreator:lR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=ab(a,jl(r),wc(r),Ec(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var s=aa(r);if(i==="Enter"){var u=af(r,"axis","hover",String(a.index));t.dispatch(sv({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=bH(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=l+h*f;if(!(s==null||m>=s.length||m<0)){var g=af(r,"axis","hover",String(m));t.dispatch(sv({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});jb.startListening({actionCreator:sR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=af(r,"axis","hover",String(i));t.dispatch(sv({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var wr=Mr("externalEvent"),cR=dc(),sp=new Map;cR.startListening({actionCreator:wr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=sp.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),s={activeCoordinate:mW(l),activeDataKey:iN(l),activeIndex:tl(l),activeLabel:aN(l),activeTooltipIndex:tl(l),isTooltipActive:pW(l)};r(s,n)}finally{sp.delete(a)}});sp.set(a,o)}}});var MX=R([_l],e=>e.tooltipItemPayloads),DX=R([MX,jc,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),uR=Mr("touchMove"),dR=dc();dR.startListening({actionCreator:uR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=nb(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=_b(n,Sb({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(KP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,s=r.touches[0];if(document.elementFromPoint==null||s==null)return;var u=document.elementFromPoint(s.clientX,s.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(w8),f=(l=u.getAttribute(_8))!==null&&l!==void 0?l:void 0,h=Sl(n).find(b=>b.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,g=DX(n,d,f);t.dispatch(VP({activeDataKey:m,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var zX=H2({brush:UK,cartesianAxis:TK,chartData:hV,errorBars:IF,graphicalItems:pK,layout:r8,legend:uL,options:sV,polarAxis:zG,polarOptions:RX,referenceElements:FK,rootProps:PX,tooltip:kH,zIndex:XW}),BX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return C$({reducer:zX,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([nR.middleware,aR.middleware,jb.middleware,cR.middleware,dR.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(aT({type:"raf"}))},devTools:{serialize:{replacer:kX},name:"recharts-".concat(r)}})};function IX(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Jt(),i=w.useRef(null);if(a)return r;i.current==null&&(i.current=BX(t,n));var o=e0;return w.createElement(hY,{context:o,store:i.current},r)}function $X(e){var{layout:t,margin:r}=e,n=Ke(),a=Jt();return w.useEffect(()=>{a||(n(Q$(t)),n(J$(r)))},[n,a,t,r]),null}var LX=w.memo($X,wb);function UX(e){var t=Ke();return w.useEffect(()=>{t(NX(e))},[t,e]),null}function rj(e){var{zIndex:t,isPanorama:r}=e,n=w.useRef(null),a=Ke();return w.useLayoutEffect(()=>(n.current&&a(FW({zIndex:t,element:n.current,isPanorama:r})),()=>{a(YW({zIndex:t,isPanorama:r}))}),[a,t,r]),w.createElement("g",{tabIndex:-1,ref:n})}function nj(e){var{children:t,isPanorama:r}=e,n=X(IW);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return w.createElement(w.Fragment,null,a.map(o=>w.createElement(rj,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>w.createElement(rj,{key:o,zIndex:o,isPanorama:r})))}var qX=["children"];function HX(e,t){if(e==null)return{};var r,n,a=WX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(null,arguments)}var VX={width:"100%",height:"100%",display:"block"},GX=w.forwardRef((e,t)=>{var r=kT(),n=PT(),a=$T();if(!cn(r)||!cn(n))return null;var{children:i,otherAttributes:o,title:l,desc:s}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),w.createElement(WA,ff({},o,{title:l,desc:s,role:d,tabIndex:u,width:r,height:n,style:VX,ref:t}),i)}),KX=e=>{var{children:t}=e,r=X(uh);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return w.createElement(WA,{width:n,height:a,x:o,y:i},t)},aj=w.forwardRef((e,t)=>{var{children:r}=e,n=HX(e,qX),a=Jt();return a?w.createElement(KX,null,w.createElement(nj,{isPanorama:!0},r)):w.createElement(GX,ff({ref:t},n),w.createElement(nj,{isPanorama:!1},r))});function FX(){var e=Ke(),[t,r]=w.useState(null),n=X(x8);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Le(i)&&i!==n&&e(t8(i))}},[t,e,n]),r}function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){XX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XX(e,t,r){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(null,arguments)}var QX=()=>(_V(),null);function hf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var eZ=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[i,o]=w.useState({containerWidth:hf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:hf((n=e.style)===null||n===void 0?void 0:n.height)}),l=w.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),s=w.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=g=>{var{width:b,height:y}=g[0].contentRect;l(b,y)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return w.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),w.createElement(w.Fragment,null,w.createElement(fh,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Ni({ref:s},e)))}),tZ=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=w.useState({containerWidth:hf(r),containerHeight:hf(n)}),o=w.useCallback((s,u)=>{i(d=>{var f=Math.round(s),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=w.useCallback(s=>{if(typeof t=="function"&&t(s),s!=null){var{width:u,height:d}=s.getBoundingClientRect();o(u,d)}},[t,o]);return w.createElement(w.Fragment,null,w.createElement(fh,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Ni({ref:l},e)))}),rZ=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(fh,{width:r,height:n}),w.createElement("div",Ni({ref:t},e)))}),nZ=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return qn(r)||qn(n)?w.createElement(tZ,Ni({},e,{ref:t})):w.createElement(rZ,Ni({},e,{ref:t}))});function aZ(e){return e===!0?eZ:nZ}var iZ=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:s,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:b,style:y,width:p,responsive:v,dispatchTouchEvents:x=!0}=e,_=w.useRef(null),j=Ke(),[S,E]=w.useState(null),[O,A]=w.useState(null),k=FX(),z=u0(),P=(z==null?void 0:z.width)>0?z.width:p,W=(z==null?void 0:z.height)>0?z.height:a,H=w.useCallback(M=>{k(M),typeof t=="function"&&t(M),E(M),A(M),M!=null&&(_.current=M)},[k,t,E,A]),Z=w.useCallback(M=>{j(rR(M)),j(wr({handler:i,reactEvent:M}))},[j,i]),C=w.useCallback(M=>{j(vv(M)),j(wr({handler:u,reactEvent:M}))},[j,u]),T=w.useCallback(M=>{j(GP()),j(wr({handler:d,reactEvent:M}))},[j,d]),N=w.useCallback(M=>{j(vv(M)),j(wr({handler:f,reactEvent:M}))},[j,f]),$=w.useCallback(()=>{j(sR())},[j]),U=w.useCallback(M=>{j(lR(M.key))},[j]),ne=w.useCallback(M=>{j(wr({handler:o,reactEvent:M}))},[j,o]),ce=w.useCallback(M=>{j(wr({handler:l,reactEvent:M}))},[j,l]),le=w.useCallback(M=>{j(wr({handler:s,reactEvent:M}))},[j,s]),he=w.useCallback(M=>{j(wr({handler:h,reactEvent:M}))},[j,h]),ue=w.useCallback(M=>{j(wr({handler:b,reactEvent:M}))},[j,b]),D=w.useCallback(M=>{x&&j(uR(M)),j(wr({handler:g,reactEvent:M}))},[j,x,g]),q=w.useCallback(M=>{j(wr({handler:m,reactEvent:M}))},[j,m]),ae=aZ(v);return w.createElement(fN.Provider,{value:S},w.createElement(y6.Provider,{value:O},w.createElement(ae,{width:P??(y==null?void 0:y.width),height:W??(y==null?void 0:y.height),className:De("recharts-wrapper",n),style:YX({position:"relative",cursor:"default",width:P,height:W},y),onClick:Z,onContextMenu:ne,onDoubleClick:ce,onFocus:$,onKeyDown:U,onMouseDown:le,onMouseEnter:C,onMouseLeave:T,onMouseMove:N,onMouseUp:he,onTouchEnd:q,onTouchMove:D,onTouchStart:ue,ref:H},w.createElement(QX,null),r)))}),oZ=["width","height","responsive","children","className","style","compact","title","desc"];function lZ(e,t){if(e==null)return{};var r,n,a=sZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cZ=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:s,title:u,desc:d}=e,f=lZ(e,oZ),h=Ln(f);return s?w.createElement(w.Fragment,null,w.createElement(fh,{width:r,height:n}),w.createElement(aj,{otherAttributes:h,title:u,desc:d},i)):w.createElement(iZ,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(aj,{otherAttributes:h,title:u,desc:d,ref:t},w.createElement(XK,null,i)))});function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(null,arguments)}var uZ={top:5,right:5,bottom:5,left:5},dZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:uZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},fZ=w.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,dZ),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,eventEmitter:void 0};return w.createElement(IX,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},w.createElement(LK,{chartData:u.data}),w.createElement(LX,{layout:a.layout,margin:a.margin}),w.createElement(UX,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(cZ,yv({},a,{ref:r})))}),hZ=["axis","item"],mZ=w.forwardRef((e,t)=>w.createElement(fZ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hZ,tooltipPayloadSearcher:oV,categoricalChartProps:e,ref:t}));function pZ({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=w.useState([]),[i,o]=w.useState(!1),[l,s]=w.useState(null);w.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),s(null);try{const{data:h,error:m}=await L.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const b=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(y=>{const p=Number(h[y.key]),v=p?t*p:0;return{name:y.name,geracao:Math.round(v),factor:p}});a(b)}catch(h){console.error("Irradiance error:",h),s("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return w.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):c.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[c.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:"Estimativa de Gerao Mensal"}),c.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",c.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),c.jsx("div",{style:{width:"100%",height:300},children:c.jsx(G8,{children:c.jsxs(mZ,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[c.jsx(GN,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),c.jsx(eR,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),c.jsx(tR,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),c.jsx(kV,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),c.jsx(JN,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>c.jsx(hb,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),c.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}const yu=({title:e,icon:t,children:r,defaultOpen:n=!1,color:a="var(--color-blue)"})=>{const[i,o]=w.useState(n);return c.jsxs("div",{style:{marginBottom:"1rem",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",background:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[c.jsxs("div",{onClick:()=>o(!i),style:{padding:"1rem",background:i?`${a}10`:"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:i?"1px solid #e2e8f0":"none",transition:"background 0.2s"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontWeight:"bold",color:a},children:[t&&c.jsx(t,{size:20}),c.jsx("span",{style:{fontSize:"1rem"},children:e})]}),i?c.jsx(NA,{size:20,color:"#64748b"}):c.jsx(PA,{size:20,color:"#64748b"})]}),i&&c.jsx("div",{style:{padding:"1.5rem",animation:"fadeIn 0.3s ease-in-out"},children:r})]})};function gZ({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=$i(),[o,l]=w.useState([]),[s,u]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(!1),g=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],b=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],y=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],p=(D,q,ae)=>{let M=[];for(let F=D;F<=q;F+=ae)M.push(F);return M},v=p(460,800,5),x=[...p(1e3,7e3,1e3),7500,9e3,1e4,12500,...p(15e3,75e3,5e3),...p(1e5,3e5,25e3)],[_,j]=w.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[S,E]=w.useState([]),[O,A]=w.useState([]),[k,z]=w.useState(0),P=O.reduce((D,q)=>D+(Number(q.consumo_medio_kwh)||Number(q.franquia)||0),0);w.useEffect(()=>{const D=Number(_.qtd_modulos)||0,q=Number(_.potencia_modulos_w)||0,ae=D*q/1e3;z(Number(ae.toFixed(2)))},[_.qtd_modulos,_.potencia_modulos_w]),w.useEffect(()=>{var D,q,ae,M,F,ee,I;Z(),C(),e&&(j({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?T(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((D=e.address)==null?void 0:D.cep)||"",rua:((q=e.address)==null?void 0:q.rua)||"",numero:((ae=e.address)==null?void 0:ae.numero)||"",bairro:((M=e.address)==null?void 0:M.bairro)||"",cidade:((F=e.address)==null?void 0:F.cidade)||"",uf:((ee=e.address)==null?void 0:ee.uf)||"",ibge_code:e.ibge_code||((I=e.address)==null?void 0:I.ibge)||"",concessionaria:e.concessionaria||""}),W(e.id))},[e]),w.useEffect(()=>{H()},[e==null?void 0:e.id]);const W=async D=>{const{data:q}=await L.from("consumer_units").select("*").eq("usina_id",D);q&&A(q)},H=async()=>{let D=L.from("consumer_units").select("id, numero_uc, titular_conta, usina_id, concessionaria, status, consumo_medio_kwh");const{data:q,error:ae}=await D;if(q){const M=q.filter(F=>{const ee=e&&F.usina_id===e.id,I=F.usina_id===null;return ee||I});E(M)}},Z=async()=>{const{data:D}=await L.from("suppliers").select("id, name").order("name");l(D||[])},C=async()=>{const{data:D}=await L.from("inverter_brands").select("name").order("name");u(D||[])},T=D=>D===""||D===void 0||D===null?"":typeof D=="number"?D.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(D.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),N=D=>{const q=D.target.value.replace(/\D/g,"");if(!q){j({..._,valor_investido:""});return}const M=(Number(q)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});j({..._,valor_investido:M})},$=D=>{if(!D)return 0;const q=D.replace(/[^\d,]/g,"").replace(",",".");return Number(q)||0},U=D=>{j(q=>{const ae=q.servicos_contratados||[];return ae.includes(D)?{...q,servicos_contratados:ae.filter(M=>M!==D)}:{...q,servicos_contratados:[...ae,D]}})},ne=(D,q)=>{const ae=q.replace(/\D/g,""),M=Number(ae)/100;j(F=>({...F,service_values:{...F.service_values,[D]:M}}))},ce=async()=>{const D=_.cep.replace(/\D/g,"");if(D.length===8){m(!0);try{const q=await Zn(D);if(j(ae=>({...ae,rua:q.rua||"",bairro:q.bairro||"",cidade:q.cidade||"",uf:q.uf||"",ibge_code:q.ibge||""})),q.ibge){const ae=await lc(q.ibge);ae&&ae.Concessionaria&&j(M=>({...M,concessionaria:ae.Concessionaria}))}}catch(q){console.error("Erro CEP",q)}finally{m(!1)}}},le=w.useCallback(D=>{D&&j(q=>D!==Number(q.geracao_estimada_kwh)?{...q,geracao_estimada_kwh:D}:q)},[]),he=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:q}=await L.from("usinas").delete().eq("id",e.id);if(q)throw q;n&&n(e.id),t()}catch(q){a("Erro ao excluir: "+q.message,"error")}finally{f(!1)}}},ue=async D=>{D.preventDefault(),f(!0);try{const q=$(_.valor_investido),ae={supplier_id:_.supplier_id||null,name:_.name,concessionaria:_.concessionaria,status:_.status,modalidade:_.modalidade,valor_investido:q,potencia_kwp:Number(k),qtd_modulos:Number(_.qtd_modulos),potencia_modulos_w:Number(_.potencia_modulos_w),fabricante_inversor:_.fabricante_inversor,potencia_inversor_w:Number(_.potencia_inversor_w),geracao_estimada_kwh:Number(_.geracao_estimada_kwh),servicos_contratados:_.servicos_contratados,service_values:_.service_values,gestao_percentual:Number(_.gestao_percentual),ibge_code:_.ibge_code,address:{cep:_.cep,rua:_.rua,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,ibge:_.ibge_code}};let M=e==null?void 0:e.id,F=null;if(e!=null&&e.id){const{data:ee,error:I}=await L.from("usinas").update(ae).eq("id",e.id).select().single();I?F=I:ee&&(M=ee.id)}else{const{data:ee,error:I}=await L.from("usinas").insert(ae).select().single();I?F=I:ee&&(M=ee.id)}if(F)throw F;if(M&&(await L.from("consumer_units").update({usina_id:null}).eq("usina_id",M),O.length>0)){const ee=O.map(I=>I.id);await L.from("consumer_units").update({usina_id:M}).in("id",ee)}r({id:M}),t(),a("Usina salva com sucesso!","success")}catch(q){console.error("Save error:",q),a("Erro ao salvar usina: "+(q.message||JSON.stringify(q)),"error")}finally{f(!1)}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:c.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"850px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[c.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"1.5rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Usina":"Nova Usina"}),c.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem",marginTop:"0.2rem"},children:"Configure os dados tcnicos e comerciais da usina"})]}),c.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8",padding:"0.5rem"},children:c.jsx(BA,{size:24})})]}),c.jsxs("form",{onSubmit:ue,style:{padding:"1.5rem"},children:[c.jsx(yu,{title:"Identificao e Localizao",icon:xB,defaultOpen:!0,color:"#2563eb",children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Nome da Usina"}),c.jsx("input",{required:!0,value:_.name,onChange:D=>j({..._,name:D.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"},placeholder:"Ex: Usina Solar Norte 01"})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fornecedor / Proprietrio"}),c.jsxs("select",{required:!0,value:_.supplier_id,onChange:D=>j({..._,supplier_id:D.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[c.jsx("option",{value:"",children:"Selecione..."}),o.map(D=>c.jsx("option",{value:D.id,children:D.name},D.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"CEP"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{value:_.cep,onChange:D=>j({..._,cep:D.target.value}),onBlur:ce,placeholder:"00000-000",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:h?"#f0f9ff":"white"}}),h&&c.jsx("span",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"0.8rem",color:"#3b82f6"},children:"..."})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Cidade / UF"}),c.jsx("input",{value:_.cidade&&_.uf?`${_.cidade} / ${_.uf}`:"",disabled:!0,placeholder:"Preenchimento automtico",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f1f5f9",color:"#64748b"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Concessionria"}),c.jsx("input",{value:_.concessionaria,onChange:D=>j({..._,concessionaria:D.target.value}),placeholder:"Ex: Cemig",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]})]})}),c.jsx(yu,{title:"Caractersticas Tcnicas",icon:zA,defaultOpen:!0,color:"#ea580c",children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status Operacional"}),c.jsx("select",{value:_.status,onChange:D=>j({..._,status:D.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:g.map(D=>c.jsx("option",{value:D.value,children:D.label},D.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Modalidade"}),c.jsx("select",{value:_.modalidade,onChange:D=>j({..._,modalidade:D.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:b.map(D=>c.jsx("option",{value:D.value,children:D.label},D.value))})]}),c.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.5rem 0",gridColumn:"1 / -1"}}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Qtd. Mdulos"}),c.jsx("input",{type:"number",value:_.qtd_modulos,onChange:D=>j({..._,qtd_modulos:D.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Mdulo (W)"}),c.jsxs("select",{value:_.potencia_modulos_w,onChange:D=>j({..._,potencia_modulos_w:D.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[c.jsx("option",{value:"",children:"Selecione..."}),v.map(D=>c.jsxs("option",{value:D,children:[D," W"]},D))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fabricante Inversor"}),c.jsxs("select",{value:_.fabricante_inversor,onChange:D=>j({..._,fabricante_inversor:D.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[c.jsx("option",{value:"",children:"Selecione..."}),s.map(D=>c.jsx("option",{value:D.name,children:D.name},D.name))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Inversor (W)"}),c.jsxs("select",{value:_.potencia_inversor_w,onChange:D=>j({..._,potencia_inversor_w:D.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[c.jsx("option",{value:"",children:"Selecione..."}),x.map(D=>c.jsxs("option",{value:D,children:[D," W"]},D))]})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"0.5rem"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",background:"#fff7ed",padding:"1rem",borderRadius:"8px",border:"1px solid #ffedd5"},children:[c.jsx("div",{style:{background:"#ea580c",color:"white",padding:"0.5rem",borderRadius:"50%"},children:c.jsx(zy,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.8rem",color:"#ea580c",fontWeight:600,textTransform:"uppercase"},children:"Potncia Total do Sistema (Calculada)"}),c.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#9a3412"},children:[k," kWp"]})]})]})})]})}),c.jsxs(yu,{title:"Gerao e Financeiro",icon:Ry,color:"#16a34a",children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Valor Investido"}),c.jsx("input",{value:_.valor_investido,onChange:N,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Gerao Estimada (Mdia Mensal)"}),c.jsx("input",{type:"number",value:_.geracao_estimada_kwh,onChange:D=>j({..._,geracao_estimada_kwh:D.target.value}),placeholder:"Use o grfico para calcular",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f0fdf4"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Servios Contratados"}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:y.map(D=>{var ae;const q=_.servicos_contratados.includes(D);return c.jsxs("div",{style:{border:q?"1px solid #16a34a":"1px solid #e2e8f0",borderRadius:"6px",padding:"0.5rem",background:q?"#f0fdf4":"white",transition:"0.2s"},children:[c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",marginBottom:q?"0.5rem":"0"},children:[c.jsx("input",{type:"checkbox",checked:q,onChange:()=>U(D)}),c.jsx("span",{style:{fontSize:"0.9rem",fontWeight:q?600:400,color:q?"#166534":"#64748b"},children:D})]}),q&&c.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",animation:"fadeIn 0.2s"},children:c.jsx("input",{placeholder:"Valor (R$)",value:T((ae=_.service_values)==null?void 0:ae[D]),onChange:M=>ne(D,M.target.value),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}})}),q&&D==="Gesto"&&c.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("input",{type:"number",step:"0.01",placeholder:"%",value:_.gestao_percentual,onChange:M=>j({..._,gestao_percentual:M.target.value}),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#166534"},children:"%"})]})]},D)})})]})]}),c.jsxs("div",{style:{marginTop:"1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#059669",fontWeight:600,marginBottom:"0.5rem"},children:[c.jsx(G3,{size:18}),c.jsx("span",{children:"Estimativa de Gerao (Irradincia)"})]}),c.jsx(pZ,{ibgeCode:_.ibge_code,potenciaKwp:k,onCalculate:le})]})]}),c.jsx(yu,{title:"Vnculos com UCs",icon:IB,color:"#7c3aed",children:c.jsxs("div",{style:{background:"#f5f3ff",padding:"1rem",borderRadius:"8px",border:"1px solid #ede9fe"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.8rem"},children:c.jsxs("div",{style:{fontSize:"0.9rem",color:"#5b21b6"},children:["Capacidade Comprometida: ",c.jsxs("strong",{children:[P.toFixed(2)," kWh"]}),_.geracao_estimada_kwh>0&&c.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",color:P>_.geracao_estimada_kwh?"#ef4444":"#166534"},children:["(",Math.round(P/_.geracao_estimada_kwh*100),"% da Gerao)"]})]})}),S.length===0?c.jsx("p",{style:{fontSize:"0.8rem",color:"#666",textAlign:"center",padding:"1rem"},children:"Nenhuma UC disponvel encontrada."}):c.jsx("div",{style:{maxHeight:"250px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"0.8rem"},children:S.map(D=>{var ae;const q=O.some(M=>M.id===D.id);return c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.85rem",padding:"0.8rem",border:q?"1px solid #8b5cf6":"1px solid #ddd",borderRadius:"6px",background:q?"white":"rgba(255,255,255,0.6)",cursor:"pointer",transition:"0.2s",boxShadow:q?"0 2px 4px rgba(139, 92, 246, 0.1)":"none"},children:[c.jsx("input",{type:"checkbox",checked:q,onChange:M=>{M.target.checked?A([...O,D]):A(O.filter(F=>F.id!==D.id))},style:{transform:"scale(1.1)",accentColor:"#7c3aed"}}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:D.numero_uc}),c.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:(ae=D.titular_conta)==null?void 0:ae.substring(0,20)})]}),c.jsxs("div",{style:{textAlign:"right"},children:[c.jsx("span",{style:{display:"block",fontSize:"0.65rem",color:"#94a3b8"},children:D.concessionaria}),D.consumo_medio_kwh&&c.jsxs("strong",{style:{fontSize:"0.8rem",color:"#059669"},children:[Math.round(D.consumo_medio_kwh)," kWh"]})]})]},D.id)})})]})}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[c.jsx("div",{children:e&&n&&c.jsxs("button",{type:"button",onClick:he,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.7rem 1.2rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:[c.jsx(Dy,{size:18})," Excluir Usina"]})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":c.jsxs(c.Fragment,{children:[c.jsx(CB,{size:18})," Salvar Usina"]})})]})]})]})]})})}function vZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState(null),[s,u]=w.useState(""),[d,f]=w.useState("kanban"),h=e.filter(p=>{var x,_,j,S,E,O,A;if(!s)return!0;const v=s.toLowerCase();return((x=p.name)==null?void 0:x.toLowerCase().includes(v))||((_=p.concessionaria)==null?void 0:_.toLowerCase().includes(v))||((S=(j=p.supplier)==null?void 0:j.name)==null?void 0:S.toLowerCase().includes(v))||((E=p.status)==null?void 0:E.toLowerCase().includes(v))||((A=(O=p.address)==null?void 0:O.cidade)==null?void 0:A.toLowerCase().includes(v))});w.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:p,error:v}=await L.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(v)throw v;t(p||[])}catch(p){console.error("Erro usinas",p)}finally{n(!1)}},g=()=>{m(),i(!1)},b=p=>{t(e.filter(v=>v.id!==p)),i(!1)},y=p=>{switch(p){case"gerando":return{bg:"#dcfce7",color:"#166534"};case"em_conexao":return{bg:"#ffedd5",color:"#9a3412"};case"manutencao":return{bg:"#fee2e2",color:"#991b1b"};case"inativa":return{bg:"#f1f5f9",color:"#64748b"};case"cancelada":return{bg:"#f1f5f9",color:"#94a3b8"};default:return{bg:"#f1f5f9",color:"#64748b"}}};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Usinas Geradoras"}),c.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[c.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:s,onChange:p=>u(p.target.value),className:"input",style:{maxWidth:"400px"}}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>f("list"),className:`btn ${d==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>f("kanban"),className:`btn ${d==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:d==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:h.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome / Concessionria"}),c.jsx("th",{children:"Fornecedor"}),c.jsx("th",{children:"Cidade"}),c.jsx("th",{children:"Gerao / Potncia"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:h.map(p=>{var x,_,j,S;const v=y(p.status);return c.jsxs("tr",{children:[c.jsxs("td",{style:{fontWeight:"bold"},children:[c.jsx("div",{children:p.name}),c.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:p.concessionaria||"-"})]}),c.jsx("td",{children:((x=p.supplier)==null?void 0:x.name)||"-"}),c.jsxs("td",{children:[(_=p.address)==null?void 0:_.cidade,"/",(j=p.address)==null?void 0:j.uf]}),c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:p.geracao_estimada_kwh?`${p.geracao_estimada_kwh} kWh/ms`:"-"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",p.potencia_kwp," kWp"]})]}),c.jsx("td",{children:c.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:v.bg,color:v.color,textTransform:"uppercase"},children:(S=p.status)==null?void 0:S.replace("_"," ")})}),c.jsx("td",{children:c.jsx("button",{onClick:()=>{l(p),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},p.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["em_conexao","gerando","manutencao","inativa","cancelada"].map(p=>{const v=h.filter(_=>_.status===p),x=y(p);return c.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${x.color}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:x.color},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:p.replace("_"," ")}),c.jsx("span",{style:{fontSize:"0.8rem",background:x.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:v.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:v.map(_=>{var j,S,E;return c.jsxs("div",{onClick:()=>{l(_),i(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s",position:"relative",overflow:"hidden"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[c.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:x.bg,color:x.color,marginBottom:"0.5rem"},children:p.replace("_"," ")}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:_.name})}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[c.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria||"Sem conc."}),c.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((j=_.supplier)==null?void 0:j.name)||"Sem Fornecedor"})]}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[c.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[c.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),c.jsxs("div",{style:{fontWeight:"bold"},children:[_.potencia_kwp," kWp"]})]}),c.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[c.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),c.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[_.geracao_estimada_kwh," kWh"]})]})]}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:c.jsxs("span",{children:[(S=_.address)==null?void 0:S.cidade,"/",(E=_.address)==null?void 0:E.uf]})})]},_.id)})})]},p)})})}),a&&c.jsx(gZ,{usina:o,onClose:()=>i(!1),onSave:g,onDelete:b})]})}function yZ(){const{showAlert:e,showConfirm:t}=$i(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),[s,u]=w.useState("kanban"),[d,f]=w.useState(null),[h,m]=w.useState(!1),[g,b]=w.useState(new Date().toISOString().substring(0,7)),[y,p]=w.useState(""),[v,x]=w.useState(""),[_,j]=w.useState(null),S=r.filter(C=>{var T,N,$,U,ne,ce,le;if(y&&C.status!==y)return!1;if(v){const he=v.toLowerCase(),ue=((N=(T=C.consumer_units)==null?void 0:T.titular_conta)==null?void 0:N.toLowerCase())||"",D=((ne=(U=($=C.consumer_units)==null?void 0:$.subscribers)==null?void 0:U.name)==null?void 0:ne.toLowerCase())||"",q=((le=(ce=C.consumer_units)==null?void 0:ce.numero_uc)==null?void 0:le.toLowerCase())||"";if(!ue.includes(he)&&!D.includes(he)&&!q.includes(he))return!1}return!0});w.useEffect(()=>{E(),O()},[g]);const E=async()=>{l(!0);try{const[C,T]=g.split("-"),N=`${C}-${T}-01`,$=new Date(C,T,0).getDate(),U=`${C}-${T}-${$}`,{data:ne,error:ce}=await L.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",N).lte("mes_referencia",U).order("vencimento",{ascending:!0});if(ce)throw ce;n(ne||[])}catch(C){console.error("Error fetching invoices:",C),e("Erro ao carregar faturas.","error")}finally{l(!1)}},O=async()=>{const{data:C,error:T}=await L.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta, tarifa_concessionaria, desconto_assinante, tipo_ligacao").eq("status","ativo").order("titular_conta");T||i(C||[])},A=()=>{f(null),m(!0)},k=C=>{f(C),m(!0)},z=()=>{E(),m(!1)},P=async C=>{var N;if(await t(`Gerar boleto Asaas para a fatura de ${(N=C.consumer_units)==null?void 0:N.titular_conta}?`)){j(C.id);try{const $=await If(C.id);$.url&&(e("Boleto gerado com sucesso!","success"),window.open($.url,"_blank"),E())}catch($){console.error($),e("Erro ao gerar boleto: "+$.message,"error")}finally{j(null)}}},W=async C=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:N}=await L.from("invoices").delete().eq("id",C);if(N)throw N;E()}catch(N){console.error("Erro ao excluir fatura:",N),e("Erro ao excluir fatura: "+N.message,"error")}},H=C=>Number(C||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Z=C=>{const T={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:MA},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:aB},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:RA}},N=T[C]||T.a_vencer,$=N.icon;return c.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:N.bg,color:N.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[c.jsx($,{size:12})," ",N.label]})};return c.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),c.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),c.jsxs("button",{onClick:A,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(My,{size:18})," Nova Fatura"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[c.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[c.jsx(dB,{size:18}),c.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),c.jsx("input",{type:"month",value:g,onChange:C=>b(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),c.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),c.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:c.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),c.jsxs("select",{value:y,onChange:C=>p(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Todos"}),c.jsx("option",{value:"a_vencer",children:"A Vencer"}),c.jsx("option",{value:"atrasado",children:"Atrasado"}),c.jsx("option",{value:"pago",children:"Pago"})]}),c.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),c.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:c.jsx(DA,{size:18})}),c.jsx("input",{placeholder:"Buscar por Nome...",value:v,onChange:C=>x(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>u("list"),className:`btn ${s==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>u("kanban"),className:`btn ${s==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:s==="list"?c.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{style:{background:"#f8fafc"},children:c.jsxs("tr",{children:[c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),c.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),c.jsx("tbody",{children:S.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):S.map(C=>{var T,N,$;return c.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[c.jsx("td",{style:{padding:"1rem"},children:Z(C.status)}),c.jsx("td",{style:{padding:"1rem",color:"#334155"},children:C.vencimento?new Date(C.vencimento).toLocaleDateString("pt-BR"):"-"}),c.jsxs("td",{style:{padding:"1rem"},children:[c.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((T=C.consumer_units)==null?void 0:T.numero_uc)||"N/A"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(N=C.consumer_units)==null?void 0:N.titular_conta," (",($=C.consumer_units)==null?void 0:$.concessionaria,")"]})]}),c.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(C.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),c.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:H(C.valor_a_pagar)}),c.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[C.asaas_boleto_url?c.jsxs("a",{href:C.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[c.jsx(bd,{size:14})," Boleto"]}):c.jsx("button",{onClick:()=>P(C),disabled:_===C.id,style:{background:_===C.id?"#f1f5f9":"#fff7ed",color:_===C.id?"#94a3b8":"#c2410c",border:_===C.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:_===C.id?"Gerando...":c.jsxs(c.Fragment,{children:[c.jsx($f,{size:14})," Emitir"]})}),c.jsx("button",{onClick:()=>k(C),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),c.jsx("button",{onClick:()=>W(C.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:c.jsx(Dy,{size:16})})]})})]},C.id)})})]})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(C=>{const T=S.filter(U=>U.status===C),N={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},$=N[C]||N.a_vencer;return c.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${$.color}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:$.color},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:$.label}),c.jsx("span",{style:{fontSize:"0.8rem",background:$.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:H(T.reduce((U,ne)=>U+(Number(ne.valor_a_pagar)||0),0))})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:T.map(U=>{var ne,ce;return c.jsxs("div",{onClick:()=>k(U),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:le=>le.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:le=>le.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(ne=U.consumer_units)==null?void 0:ne.numero_uc}),c.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",U.vencimento?new Date(U.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),c.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(ce=U.consumer_units)==null?void 0:ce.titular_conta}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),c.jsxs("div",{children:[Number(U.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:H(U.valor_a_pagar)})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:U.asaas_boleto_url?c.jsxs("a",{href:U.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:le=>le.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[c.jsx(bd,{size:14})," Boleto"]}):c.jsx("button",{onClick:le=>{le.stopPropagation(),P(U)},className:"btn",disabled:_===U.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:_===U.id?"...":"Emitir"})})]},U.id)})})]},C)})})}),h&&c.jsx(LA,{invoice:d,ucs:a,onClose:()=>m(!1),onSave:z})]})}function bZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(""),[o,l]=w.useState("kanban"),[s,u]=w.useState(!1),[d,f]=w.useState(null),h=e.filter(y=>{var v,x,_,j,S,E,O;if(!a)return!0;const p=a.toLowerCase();return((v=y.numero_uc)==null?void 0:v.toLowerCase().includes(p))||((_=(x=y.subscriber)==null?void 0:x.name)==null?void 0:_.toLowerCase().includes(p))||((j=y.concessionaria)==null?void 0:j.toLowerCase().includes(p))||((E=(S=y.address)==null?void 0:S.cidade)==null?void 0:E.toLowerCase().includes(p))||((O=y.status)==null?void 0:O.toLowerCase().includes(p))});w.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:y,error:p}=await L.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(p)throw p;t(y||[])}catch(y){console.error("Error fetching UCs:",y)}finally{n(!1)}},g=y=>{m(),u(!1)},b=y=>{t(e.filter(p=>p.id!==y)),u(!1)};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),c.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[c.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:y=>i(y.target.value),className:"input",style:{maxWidth:"400px"}}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>l("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>l("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:o==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:h.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"UC"}),c.jsx("th",{children:"Concessionria"}),c.jsx("th",{children:"Assinante"}),c.jsx("th",{children:"Franquia"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Cidade"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:h.map(y=>{var p,v,x,_,j;return c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold"},children:y.numero_uc}),c.jsx("td",{style:{color:"var(--color-text-medium)"},children:y.concessionaria||"-"}),c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold"},children:((p=y.subscriber)==null?void 0:p.name)||"-"}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(v=y.subscriber)==null?void 0:v.cpf_cnpj})]}),c.jsx("td",{children:y.franquia?`${Number(y.franquia).toLocaleString("pt-BR")} kWh`:"-"}),c.jsx("td",{children:c.jsx("span",{className:"badge",style:{background:y.status==="ativo"?"var(--color-success-light)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:y.status==="ativo"?"var(--color-success)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(x=y.status)==null?void 0:x.replace("_"," ").toUpperCase()})}),c.jsxs("td",{children:[(_=y.address)==null?void 0:_.cidade," / ",(j=y.address)==null?void 0:j.uf]}),c.jsx("td",{children:c.jsx("button",{onClick:()=>{f(y),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}].map(({status:y,label:p,color:v})=>{const x=h.filter(_=>(_.status||"em_ativacao")===y);return c.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${v}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:v},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:p}),c.jsx("span",{style:{fontSize:"0.8rem",background:v,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:x.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:x.map(_=>{var j,S,E;return c.jsxs("div",{onClick:()=>{f(_),u(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:_.numero_uc}),c.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria})]}),c.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((j=_.subscriber)==null?void 0:j.name)||"Sem Assinante"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[c.jsxs("span",{children:[(S=_.address)==null?void 0:S.cidade,"/",(E=_.address)==null?void 0:E.uf]}),c.jsx("span",{children:_.franquia?`${Number(_.franquia).toLocaleString("pt-BR")} kWh`:""})]})]},_.id)})})]},y)})})}),s&&c.jsx(By,{consumerUnit:d,onClose:()=>u(!1),onSave:g,onDelete:b})]})}function xZ({billing:e,onClose:t,onSave:r}){const[n,a]=w.useState([]),[i,o]=w.useState(!1),[l,s]=w.useState(!1),[u,d]=w.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=w.useState(0),m=["em_producao","fechado","liquidado"],g=E=>{if(!E&&E!==0)return"";const O=Number(E);return isNaN(O)?"":O.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},b=E=>{if(!E||typeof E!="string")return 0;const O=E.replace(/\D/g,"");return Number(O)/100},y=(E,O)=>{const A=O.replace(/\D/g,""),z=(Number(A)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(P=>({...P,[E]:z}))};w.useEffect(()=>{p(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:g(e.faturamento_mensal),faturas_pagas:g(e.faturas_pagas),custo_disponibilidade:g(e.custo_disponibilidade),manutencao:g(e.manutencao),gestao_reais:g(e.gestao_reais),arrendamento:g(e.arrendamento),servicos:g(e.servicos),total_despesas:g(e.total_despesas),saldo_receber:g(e.saldo_receber)}),v(e.usina_id))},[e]),w.useEffect(()=>{_()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const p=async()=>{const{data:E}=await L.from("usinas").select("id, name");a(E||[])},v=async E=>{if(!E)return;const{data:O}=await L.from("usinas").select("gestao_percentual").eq("id",E).single();O&&h(Number(O.gestao_percentual)||0)},x=async E=>{const O=E.target.value;d(A=>({...A,usina_id:O})),await v(O)},_=()=>{const E=b(u.faturas_pagas),O=b(u.custo_disponibilidade),A=b(u.manutencao),k=b(u.arrendamento),z=b(u.servicos);let P=0;f>0&&(P=E*(f/100));const W=O+A+P+k+z,H=E-W,Z=b(u.gestao_reais),C=b(u.total_despesas),T=b(u.saldo_receber);Math.abs(Z-P)<.01&&Math.abs(C-W)<.01&&Math.abs(T-H)<.01||d(N=>({...N,gestao_reais:g(P),total_despesas:g(W),saldo_receber:g(H)}))},j=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}s(!0);try{const{data:E,error:O}=await L.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(O)throw O;if(!E||E.length===0){alert("Nenhuma UC vinculada a esta usina."),s(!1);return}const A=E.map($=>$.id),[k,z]=u.mes_referencia.split("-"),P=`${k}-${z}-01`,W=new Date(k,z,0).getDate(),H=`${k}-${z}-${W}`,{data:Z,error:C}=await L.from("invoices").select("valor_a_pagar, status").in("uc_id",A).gte("mes_referencia",P).lte("mes_referencia",H);if(C)throw C;let T=0,N=0;Z.forEach($=>{const U=Number($.valor_a_pagar)||0;T+=U,$.status==="pago"&&(N+=U)}),d($=>({...$,faturamento_mensal:g(T),faturas_pagas:g(N)}))}catch(E){console.error("Reconciliation error:",E),alert("Erro ao buscar faturas: "+E.message)}finally{s(!1)}},S=async E=>{E.preventDefault(),o(!0);try{const O={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:b(u.faturamento_mensal),faturas_pagas:b(u.faturas_pagas),custo_disponibilidade:b(u.custo_disponibilidade),manutencao:b(u.manutencao),gestao_reais:b(u.gestao_reais),arrendamento:b(u.arrendamento),servicos:b(u.servicos),total_despesas:b(u.total_despesas),saldo_receber:b(u.saldo_receber)};let A;if(e!=null&&e.id?A=await L.from("generation_production").update(O).eq("id",e.id):A=await L.from("generation_production").insert(O),A.error)throw A.error;r(),t()}catch(O){console.error("Save error:",O),alert("Erro ao salvar: "+(O.message||JSON.stringify(O)))}finally{o(!1)}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),c.jsxs("form",{onSubmit:S,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),c.jsxs("select",{required:!0,value:u.usina_id,onChange:x,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[c.jsx("option",{value:"",children:"Selecione..."}),n.map(E=>c.jsx("option",{value:E.id,children:E.name},E.id))]})]}),c.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),c.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:E=>{const O=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${O}-${E.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((E,O)=>c.jsx("option",{value:E,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][O]},E))})]}),c.jsxs("div",{style:{width:"80px"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),c.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:E=>{const O=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${E.target.value}-${O}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(E,O)=>new Date().getFullYear()-2+O).map(E=>c.jsx("option",{value:E,children:E},E))})]})]}),c.jsxs("div",{style:{width:"150px"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),c.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:E=>d({...u,fechamento:E.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{width:"120px"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),c.jsx("select",{value:u.status,onChange:E=>d({...u,status:E.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(E=>c.jsx("option",{value:E,children:E.replace("_"," ").toUpperCase()},E))})]}),c.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:c.jsx("button",{type:"button",onClick:j,disabled:l||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:l?.7:1},children:l?"Buscando...":"Buscar Faturas"})})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),c.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:E=>d({...u,geracao_mensal_kwh:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),c.jsx("input",{type:"number",value:u.energia_compensada,onChange:E=>d({...u,energia_compensada:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),c.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:E=>y("faturamento_mensal",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),c.jsx("input",{type:"text",value:u.faturas_pagas,onChange:E=>y("faturas_pagas",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),c.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:E=>y("custo_disponibilidade",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),c.jsx("input",{type:"text",value:u.manutencao,onChange:E=>y("manutencao",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),c.jsx("input",{type:"text",value:u.arrendamento,onChange:E=>y("arrendamento",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),c.jsx("input",{type:"text",value:u.servicos,onChange:E=>y("servicos",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[c.jsxs("div",{children:[c.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),c.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),c.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[c.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),c.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[c.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function wZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState("kanban"),[o,l]=w.useState(!1),[s,u]=w.useState(null);w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:v,error:x}=await L.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});x?console.error("Error fetching billing:",x):t(v||[]),n(!1)},f=v=>{u(v),l(!0)},h=()=>{u(null),l(!0)},m=async v=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:x}=await L.from("generation_production").delete().eq("id",v);x?alert("Erro ao excluir"):d()},g=async v=>{var x;if(!v.saldo_receber||v.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${v.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:_,error:j}=await L.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",v.usina_id).single();if(j||!_||!_.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const S=_.supplier;if(!S.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:E,error:O}=await L.functions.invoke("transfer-asaas-pix",{body:{value:v.saldo_receber,pix_key:S.pix_key,pix_key_type:S.pix_key_type,description:`Pagamento Energia - ${v.mes_referencia} - ${_.name}`,operationType:"PIX"}});if(O)throw O;if(!E.success)throw new Error(E.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((x=E.data)==null?void 0:x.id)),d(),await L.from("generation_production").update({status:"liquidado"}).eq("id",v.id),d()}catch(_){console.error("Payment Error:",_),alert("Erro no pagamento: "+_.message)}finally{n(!1)}}},b=()=>{d(),l(!1)},y=v=>{if(!v)return"-";const[x,_]=v.split("-"),j=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=parseInt(_,10)-1;return`${j[S]||"-"} ${x}`},p=v=>Number(v||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return c.jsxs("div",{style:{padding:"2rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),c.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:a==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Ms Ref."}),c.jsx("th",{children:"Usina"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Gerao (kWh)"}),c.jsx("th",{children:"Compensado (kWh)"}),c.jsx("th",{children:"Faturado (R$)"}),c.jsx("th",{children:"Saldo a Receber (R$)"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:e.map(v=>{var x;return c.jsxs("tr",{children:[c.jsx("td",{children:y(v.mes_referencia)}),c.jsx("td",{children:((x=v.usinas)==null?void 0:x.name)||"-"}),c.jsx("td",{children:c.jsx("span",{className:"badge",style:{background:v.status==="liquidado"?"#dcfce7":v.status==="fechado"?"#e0f2fe":"#fef9c3",color:v.status==="liquidado"?"#166534":v.status==="fechado"?"#0369a1":"#854d0e"},children:v.status})}),c.jsxs("td",{children:[Number(v.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),c.jsxs("td",{children:[Number(v.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),c.jsx("td",{children:p(v.faturamento_mensal)}),c.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:p(v.saldo_receber)}),c.jsx("td",{children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>f(v),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),c.jsx("button",{onClick:()=>m(v.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),c.jsx("button",{onClick:()=>g(v),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},v.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(v=>{const x=e.filter(S=>S.status===v),j={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[v]||"#64748b";return c.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${j}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:j},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:v}),c.jsx("span",{style:{fontSize:"0.8rem",background:j,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:p(x.reduce((S,E)=>S+(Number(E.saldo_receber)||0),0))})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:x.map(S=>{var E;return c.jsxs("div",{onClick:()=>f(S),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(E=S.usinas)==null?void 0:E.name}),c.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:y(S.mes_referencia)})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),c.jsxs("div",{children:[Number(S.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:p(S.saldo_receber)})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:S.status!=="liquidado"&&c.jsx("button",{onClick:O=>{O.stopPropagation(),g(S)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},S.id)})})]},v)})})}),o&&c.jsx(xZ,{billing:s,onClose:()=>l(!1),onSave:b})]})}function _Z(){var m;const{profile:e,signOut:t}=Jr(),r=dl(),[n,a]=w.useState("default"),[i,o]=w.useState(!1),[l,s]=w.useState(!1);w.useEffect(()=>{e&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e]);const u=async()=>{await t(),r("/login")},f=(g=>{if(!g)return[];const b=[];g!=="subscriber"&&b.push({id:"leads",label:"Leads",icon:_B}),["originator","coordinator","manager","admin","super_admin"].includes(g)&&(g==="originator"?(b.push({id:"originator_dashboard",label:"Minhas Comisses",icon:Im}),b.push({id:"originators_list",label:"Equipe",icon:I1})):b.push({id:"originators_list",label:"Originadores",icon:I1})),g!=="lead"&&(g==="subscriber"?b.push({id:"subscriber_dashboard",label:"Meu Painel",icon:Im}):b.push({id:"subscribers_list",label:"Assinantes",icon:zB})),g!=="lead"&&g!=="subscriber"&&b.push({id:"consumer_units",label:"Unidades Consumidoras",icon:hB}),b.push({id:"invoices",label:"Faturas",icon:bd});const p=["supplier","manager","admin","super_admin"];return p.includes(g)&&(g==="supplier"?b.push({id:"supplier_dashboard",label:"Meu Painel",icon:Im}):b.push({id:"suppliers_list",label:"Fornecedores",icon:MB})),p.includes(g)&&b.push({id:"power_plants",label:"Usinas",icon:zy}),["supplier","manager","admin","super_admin"].includes(g)&&b.push({id:"billing",label:"Billing",icon:Ry}),["admin","super_admin"].includes(g)&&b.push({id:"admin",label:"Gesto de Usurios",icon:zA}),b})(e==null?void 0:e.role),h=()=>{if(!e)return c.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return c.jsx(JB,{});case"subscriber_dashboard":return c.jsx(QB,{});case"originator_dashboard":return c.jsx(e6,{});case"supplier_dashboard":return c.jsx(t6,{});case"leads":return c.jsx(n6,{});case"subscribers_list":return c.jsx(a6,{});case"originators_list":return c.jsx(o6,{});case"suppliers_list":return c.jsx(s6,{});case"power_plants":return c.jsx(vZ,{});case"consumer_units":return c.jsx(bZ,{});case"invoices":return c.jsx(yZ,{});case"billing":return c.jsx(wZ,{});default:return c.jsxs("div",{style:{padding:"2rem"},children:[c.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),c.jsx("p",{children:"Selecione uma opo no menu."})]})}};return c.jsxs("div",{className:"dashboard-container",children:[c.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:c.jsx(jB,{size:24})}),i&&c.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),c.jsxs("aside",{className:`sidebar ${i?"open":""} ${l?"collapsed":""}`,children:[c.jsxs("div",{className:"sidebar-header",style:{justifyContent:l?"center":"space-between"},children:[!l&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),c.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),c.jsx("button",{onClick:()=>s(!l),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:l?c.jsx(Z3,{size:20}):c.jsx(Y3,{size:20})})]}),c.jsx("nav",{style:{flex:1,overflowY:"auto"},children:c.jsx("ul",{style:{listStyle:"none"},children:f.map(g=>{const b=g.icon;return c.jsx("li",{style:{marginBottom:"0.25rem"},children:c.jsxs("button",{onClick:()=>{a(g.id),o(!1)},title:l?g.label:"",className:`sidebar-link ${n===g.id?"active":""}`,style:{justifyContent:l?"center":"flex-start"},children:[c.jsx(b,{size:20,style:{marginRight:l?0:"0.75rem",flexShrink:0}}),!l&&c.jsx("span",{children:g.label})]})},g.id)})})}),c.jsxs("div",{className:"sidebar-footer",children:[!l&&c.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[c.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),c.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),c.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:l?"center":"flex-start"},children:[c.jsx(yB,{size:20,style:{marginRight:l?0:"0.5rem"}}),!l&&c.jsx("span",{children:"Sair"})]})]})]}),c.jsx("main",{className:"main-content",children:h()})]})}function SZ(){const[e]=jC(),t=dl(),r=e.get("id"),[n,a]=w.useState("simulation"),[i,o]=w.useState(!1),[l,s]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[m,g]=w.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),b=async()=>{if(m.cep.length>=8)try{o(!0);const v=await Zn(m.cep);if(g(x=>({...x,rua:v.rua||"",bairro:v.bairro||"",cidade:v.cidade||"",uf:v.uf||""})),v.ibge){const x=await lc(v.ibge);d(x)}}catch(v){console.error(v),alert("Erro ao buscar CEP")}finally{o(!1)}},y=async v=>{if(v.preventDefault(),!Ei(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const x=u&&u["Tarifa Concessionaria"]||.85,_=u&&u["Desconto Assinante"]||.1,j=parseFloat(m.consumo)*x,S=j*_;s({contaAtual:j,economiaMensal:S,anual:S*12});const{data:E,error:O}=await L.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:x,desconto_assinante:_,originator_id:r,status:"indicado"}).select().single();if(O)throw O;h(E.id),a("signup")}catch(x){alert("Erro na simulao: "+x.message)}finally{o(!1)}},p=async v=>{if(v.preventDefault(),!Uf(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!Ei(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:x,error:_}=await L.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(_)throw _;const{error:j}=await L.from("consumer_units").insert({subscriber_id:x.id,numero_uc:m.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(j)throw j;f&&await L.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(x){alert("Erro ao finalizar cadastro: "+x.message)}finally{o(!1)}};return c.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:c.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[c.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),c.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?c.jsxs("form",{onSubmit:y,children:[c.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),c.jsx("input",{value:m.cep,onChange:v=>g({...m,cep:v.target.value}),onBlur:b,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&c.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,u&&c.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),c.jsx("input",{value:m.nome,onChange:v=>g({...m,nome:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),c.jsx("input",{type:"email",value:m.email,onChange:v=>g({...m,email:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),c.jsx("input",{value:m.telefone,onChange:v=>g({...m,telefone:Vo(v.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),c.jsx("input",{type:"number",value:m.consumo,onChange:v=>g({...m,consumo:v.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):c.jsxs("form",{onSubmit:p,children:[l&&c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[c.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),c.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",l.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),c.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),c.jsx("input",{value:m.cpf_cnpj,onChange:v=>g({...m,cpf_cnpj:Lf(v.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),c.jsx("input",{value:m.nome,onChange:v=>g({...m,nome:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),c.jsx("input",{type:"email",value:m.email,onChange:v=>g({...m,email:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),c.jsx("input",{value:m.telefone,onChange:v=>g({...m,telefone:Vo(v.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),c.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),c.jsxs("div",{style:{width:"100px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),c.jsx("input",{value:m.numero,onChange:v=>g({...m,numero:v.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),c.jsx("input",{value:m.numero_uc,onChange:v=>g({...m,numero_uc:v.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const jZ=()=>{const{user:e}=Jr();return e?c.jsx(tz,{}):c.jsx(SC,{to:"/login",replace:!0})};function EZ(){return c.jsx(lz,{children:c.jsx(UB,{children:c.jsx(qB,{children:c.jsxs(nz,{children:[c.jsx(yn,{path:"/login",element:c.jsx(D3,{})}),c.jsx(yn,{path:"/simulacao",element:c.jsx(GB,{})}),c.jsx(yn,{path:"/cadastro-parceiro",element:c.jsx(YB,{})}),c.jsx(yn,{path:"/assine",element:c.jsx(XB,{})}),c.jsx(yn,{path:"/originador",element:c.jsx(SZ,{})}),c.jsx(yn,{element:c.jsx(jZ,{}),children:c.jsx(yn,{path:"/dashboard",element:c.jsx(_Z,{})})}),c.jsx(yn,{path:"/",element:c.jsx(SC,{to:"/login",replace:!0})})]})})})})}c5.createRoot(document.getElementById("root")).render(c.jsx(w.StrictMode,{children:c.jsx(EZ,{})}));
